var p=Object.defineProperty,a=(Z,l,m)=>l in Z?p(Z,l,{enumerable:!0,configurable:!0,writable:!0,value:m}):Z[l]=m,G=(Z,l,m)=>(a(Z,typeof l!="symbol"?l+"":l,m),m),R=(Z,l,m)=>{if(!l.has(Z))throw TypeError("Cannot "+m)},b=(Z,l,m)=>(R(Z,l,"read from private field"),m?m.call(Z):l.get(Z)),c=(Z,l,m)=>{if(l.has(Z))throw TypeError("Cannot add the same private member more than once");l instanceof WeakSet?l.add(Z):l.set(Z,m)},u=(Z,l,m,V)=>(R(Z,l,"write to private field"),V?V.call(Z,m):l.set(Z,m),m),J=(Z,l,m)=>(R(Z,l,"access private method"),m),X,d,W,Y;const y="dmFyIElmPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxPZj1PYmplY3QuZGVmaW5lUHJvcGVydGllczt2YXIgRmY9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM7dmFyIEJyPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHM7dmFyIE1uPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksQW49T2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZTt2YXIgU2k9KFUsSixuZSk9PkogaW4gVT9JZihVLEose2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOm5lfSk6VVtKXT1uZSxmdD0oVSxKKT0+e2Zvcih2YXIgbmUgaW4gSnx8KEo9e30pKU1uLmNhbGwoSixuZSkmJlNpKFUsbmUsSltuZV0pO2lmKEJyKWZvcih2YXIgbmUgb2YgQnIoSikpQW4uY2FsbChKLG5lKSYmU2koVSxuZSxKW25lXSk7cmV0dXJuIFV9LFVyPShVLEopPT5PZihVLEZmKEopKTt2YXIgUm49KFUsSik9Pnt2YXIgbmU9e307Zm9yKHZhciBlZSBpbiBVKU1uLmNhbGwoVSxlZSkmJkouaW5kZXhPZihlZSk8MCYmKG5lW2VlXT1VW2VlXSk7aWYoVSE9bnVsbCYmQnIpZm9yKHZhciBlZSBvZiBCcihVKSlKLmluZGV4T2YoZWUpPDAmJkFuLmNhbGwoVSxlZSkmJihuZVtlZV09VVtlZV0pO3JldHVybiBuZX07dmFyIHFlPShVLEosbmUpPT4oU2koVSx0eXBlb2YgSiE9InN5bWJvbCI/SisiIjpKLG5lKSxuZSksTWk9KFUsSixuZSk9PntpZighSi5oYXMoVSkpdGhyb3cgVHlwZUVycm9yKCJDYW5ub3QgIituZSl9O3ZhciBrPShVLEosbmUpPT4oTWkoVSxKLCJyZWFkIGZyb20gcHJpdmF0ZSBmaWVsZCIpLG5lP25lLmNhbGwoVSk6Si5nZXQoVSkpLFVlPShVLEosbmUpPT57aWYoSi5oYXMoVSkpdGhyb3cgVHlwZUVycm9yKCJDYW5ub3QgYWRkIHRoZSBzYW1lIHByaXZhdGUgbWVtYmVyIG1vcmUgdGhhbiBvbmNlIik7SiBpbnN0YW5jZW9mIFdlYWtTZXQ/Si5hZGQoVSk6Si5zZXQoVSxuZSl9LHplPShVLEosbmUsZWUpPT4oTWkoVSxKLCJ3cml0ZSB0byBwcml2YXRlIGZpZWxkIiksZWU/ZWUuY2FsbChVLG5lKTpKLnNldChVLG5lKSxuZSksanQ9KFUsSixuZSxlZSk9Pih7c2V0IF8oQWUpe3plKFUsSixBZSxuZSl9LGdldCBfKCl7cmV0dXJuIGsoVSxKLGVlKX19KSxQbj0oVSxKLG5lKT0+KE1pKFUsSiwiYWNjZXNzIHByaXZhdGUgbWV0aG9kIiksbmUpOyhmdW5jdGlvbigpe3ZhciBNZSxHdCx1dCxYdCx0dCxZZSxJZSxPcixydCxvcix1cixYZSxmcixGcixDbjsidXNlIHN0cmljdCI7dmFyIFU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKCl7fXJldHVybiBpLldpdGhpbkVwc2lsb249ZnVuY3Rpb24oZSx0LHIpe3JldHVybiByPT09dm9pZCAwJiYocj0xNDAxMjk4ZS01MSksTWF0aC5hYnMoZS10KTw9cn0saS5Ub0hleD1mdW5jdGlvbihlKXt2YXIgdD1lLnRvU3RyaW5nKDE2KTtyZXR1cm4gZTw9MTU/KCIwIit0KS50b1VwcGVyQ2FzZSgpOnQudG9VcHBlckNhc2UoKX0saS5TaWduPWZ1bmN0aW9uKGUpe3JldHVybiBlPStlLGU9PT0wfHxpc05hTihlKT9lOmU+MD8xOi0xfSxpLkNsYW1wPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gdD09PXZvaWQgMCYmKHQ9MCkscj09PXZvaWQgMCYmKHI9MSksTWF0aC5taW4ocixNYXRoLm1heCh0LGUpKX0saS5Mb2cyPWZ1bmN0aW9uKGUpe3JldHVybiBNYXRoLmxvZyhlKSpNYXRoLkxPRzJFfSxpLklMb2cyPWZ1bmN0aW9uKGUpe2lmKE1hdGgubG9nMilyZXR1cm4gTWF0aC5mbG9vcihNYXRoLmxvZzIoZSkpO2lmKGU8MClyZXR1cm4gTmFOO2lmKGU9PT0wKXJldHVybi0xLzA7dmFyIHQ9MDtpZihlPDEpe2Zvcig7ZTwxOyl0KyssZT1lKjI7dD0tdH1lbHNlIGlmKGU+MSlmb3IoO2U+MTspdCsrLGU9TWF0aC5mbG9vcihlLzIpO3JldHVybiB0fSxpLlJlcGVhdD1mdW5jdGlvbihlLHQpe3JldHVybiBlLU1hdGguZmxvb3IoZS90KSp0fSxpLk5vcm1hbGl6ZT1mdW5jdGlvbihlLHQscil7cmV0dXJuKGUtdCkvKHItdCl9LGkuRGVub3JtYWxpemU9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBlKihyLXQpK3R9LGkuRGVsdGFBbmdsZT1mdW5jdGlvbihlLHQpe3ZhciByPWkuUmVwZWF0KHQtZSwzNjApO3JldHVybiByPjE4MCYmKHItPTM2MCkscn0saS5QaW5nUG9uZz1mdW5jdGlvbihlLHQpe3ZhciByPWkuUmVwZWF0KGUsdCoyKTtyZXR1cm4gdC1NYXRoLmFicyhyLXQpfSxpLlNtb290aFN0ZXA9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWkuQ2xhbXAocik7cmV0dXJuIG49LTIqbipuKm4rMypuKm4sdCpuK2UqKDEtbil9LGkuTW92ZVRvd2FyZHM9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPTA7cmV0dXJuIE1hdGguYWJzKHQtZSk8PXI/bj10Om49ZStpLlNpZ24odC1lKSpyLG59LGkuTW92ZVRvd2FyZHNBbmdsZT1mdW5jdGlvbihlLHQscil7dmFyIG49aS5EZWx0YUFuZ2xlKGUsdCksYT0wO3JldHVybi1yPG4mJm48cj9hPXQ6KHQ9ZStuLGE9aS5Nb3ZlVG93YXJkcyhlLHQscikpLGF9LGkuTGVycD1mdW5jdGlvbihlLHQscil7cmV0dXJuIGUrKHQtZSkqcn0saS5MZXJwQW5nbGU9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWkuUmVwZWF0KHQtZSwzNjApO3JldHVybiBuPjE4MCYmKG4tPTM2MCksZStuKmkuQ2xhbXAocil9LGkuSW52ZXJzZUxlcnA9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPTA7cmV0dXJuIGUhPXQ/bj1pLkNsYW1wKChyLWUpLyh0LWUpKTpuPTAsbn0saS5IZXJtaXRlPWZ1bmN0aW9uKGUsdCxyLG4sYSl7dmFyIHM9YSphLG89YSpzLHU9MipvLTMqcysxLGY9LTIqbyszKnMsbD1vLTIqcythLGg9by1zO3JldHVybiBlKnUrcipmK3QqbCtuKmh9LGkuSGVybWl0ZTFzdERlcml2YXRpdmU9ZnVuY3Rpb24oZSx0LHIsbixhKXt2YXIgcz1hKmE7cmV0dXJuKHMtYSkqNiplKygzKnMtNCphKzEpKnQrKC1zK2EpKjYqcisoMypzLTIqYSkqbn0saS5SYW5kb21SYW5nZT1mdW5jdGlvbihlLHQpe3JldHVybiBlPT09dD9lOk1hdGgucmFuZG9tKCkqKHQtZSkrZX0saS5SYW5nZVRvUGVyY2VudD1mdW5jdGlvbihlLHQscil7cmV0dXJuKGUtdCkvKHItdCl9LGkuUGVyY2VudFRvUmFuZ2U9ZnVuY3Rpb24oZSx0LHIpe3JldHVybihyLXQpKmUrdH0saS5Ob3JtYWxpemVSYWRpYW5zPWZ1bmN0aW9uKGUpe3JldHVybiBlLT1pLlR3b1BpKk1hdGguZmxvb3IoKGUrTWF0aC5QSSkvaS5Ud29QaSksZX0saS5IQ0Y9ZnVuY3Rpb24oZSx0KXt2YXIgcj1lJXQ7cmV0dXJuIHI9PT0wP3Q6aS5IQ0YodCxyKX0saS5Ud29QaT1NYXRoLlBJKjIsaX0oKSxKPTEvMi4yLG5lPTIuMixlZT0uMDAxLEFlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaSgpe31yZXR1cm4gaS5CdWlsZEFycmF5PWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByPVtdLG49MDtuPGU7KytuKXIucHVzaCh0KCkpO3JldHVybiByfSxpLkJ1aWxkVHVwbGU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gaS5CdWlsZEFycmF5KGUsdCl9LGl9KCksQWk9e307ZnVuY3Rpb24gd2UoaSxlKXtBaVtpXT1lfWZ1bmN0aW9uIFB0KGkpe3JldHVybiBBaVtpXX12YXIgQ3Q9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKCl7fXJldHVybiBpLlNldE1hdHJpeFByZWNpc2lvbj1mdW5jdGlvbihlKXtpZihpLk1hdHJpeFRyYWNrUHJlY2lzaW9uQ2hhbmdlPSExLGUmJiFpLk1hdHJpeFVzZTY0Qml0cyYmaS5NYXRyaXhUcmFja2VkTWF0cmljZXMpZm9yKHZhciB0PTA7dDxpLk1hdHJpeFRyYWNrZWRNYXRyaWNlcy5sZW5ndGg7Kyt0KXt2YXIgcj1pLk1hdHJpeFRyYWNrZWRNYXRyaWNlc1t0XSxuPXIuX207ci5fbT1uZXcgQXJyYXkoMTYpO2Zvcih2YXIgYT0wO2E8MTY7KythKXIuX21bYV09blthXX1pLk1hdHJpeFVzZTY0Qml0cz1lLGkuTWF0cml4Q3VycmVudFR5cGU9aS5NYXRyaXhVc2U2NEJpdHM/QXJyYXk6RmxvYXQzMkFycmF5LGkuTWF0cml4VHJhY2tlZE1hdHJpY2VzPW51bGx9LGkuTWF0cml4VXNlNjRCaXRzPSExLGkuTWF0cml4VHJhY2tQcmVjaXNpb25DaGFuZ2U9ITAsaS5NYXRyaXhDdXJyZW50VHlwZT1GbG9hdDMyQXJyYXksaS5NYXRyaXhUcmFja2VkTWF0cmljZXM9W10saX0oKSxhZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoKXt9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLCJMYXN0Q3JlYXRlZEVuZ2luZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLkluc3RhbmNlcy5sZW5ndGg9PT0wP251bGw6dGhpcy5JbnN0YW5jZXNbdGhpcy5JbnN0YW5jZXMubGVuZ3RoLTFdfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLCJMYXN0Q3JlYXRlZFNjZW5lIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX0xhc3RDcmVhdGVkU2NlbmV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksaS5JbnN0YW5jZXM9bmV3IEFycmF5LGkuX0xhc3RDcmVhdGVkU2NlbmU9bnVsbCxpLlVzZUZhbGxiYWNrVGV4dHVyZT0hMCxpLkZhbGxiYWNrVGV4dHVyZT0iIixpfSgpLExlPWZ1bmN0aW9uKGkpe3JldHVybiBwYXJzZUludChpLnRvU3RyaW5nKCkucmVwbGFjZSgvXFcvZywiIikpfSxTZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoZSx0KXtlPT09dm9pZCAwJiYoZT0wKSx0PT09dm9pZCAwJiYodD0wKSx0aGlzLng9ZSx0aGlzLnk9dH1yZXR1cm4gaS5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4ie1g6ICIuY29uY2F0KHRoaXMueCwiIFk6ICIpLmNvbmNhdCh0aGlzLnksIn0iKX0saS5wcm90b3R5cGUuZ2V0Q2xhc3NOYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIlZlY3RvcjIifSxpLnByb3RvdHlwZS5nZXRIYXNoQ29kZT1mdW5jdGlvbigpe3ZhciBlPUxlKHRoaXMueCksdD1MZSh0aGlzLnkpLHI9ZTtyZXR1cm4gcj1yKjM5N150LHJ9LGkucHJvdG90eXBlLnRvQXJyYXk9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD09PXZvaWQgMCYmKHQ9MCksZVt0XT10aGlzLngsZVt0KzFdPXRoaXMueSx0aGlzfSxpLnByb3RvdHlwZS5mcm9tQXJyYXk9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD09PXZvaWQgMCYmKHQ9MCksaS5Gcm9tQXJyYXlUb1JlZihlLHQsdGhpcyksdGhpc30saS5wcm90b3R5cGUuYXNBcnJheT1mdW5jdGlvbigpe3ZhciBlPW5ldyBBcnJheTtyZXR1cm4gdGhpcy50b0FycmF5KGUsMCksZX0saS5wcm90b3R5cGUuY29weUZyb209ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMueD1lLngsdGhpcy55PWUueSx0aGlzfSxpLnByb3RvdHlwZS5jb3B5RnJvbUZsb2F0cz1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLng9ZSx0aGlzLnk9dCx0aGlzfSxpLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5jb3B5RnJvbUZsb2F0cyhlLHQpfSxpLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBpKHRoaXMueCtlLngsdGhpcy55K2UueSl9LGkucHJvdG90eXBlLmFkZFRvUmVmPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQueD10aGlzLngrZS54LHQueT10aGlzLnkrZS55LHRoaXN9LGkucHJvdG90eXBlLmFkZEluUGxhY2U9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMueCs9ZS54LHRoaXMueSs9ZS55LHRoaXN9LGkucHJvdG90eXBlLmFkZFZlY3RvcjM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBpKHRoaXMueCtlLngsdGhpcy55K2UueSl9LGkucHJvdG90eXBlLnN1YnRyYWN0PWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgaSh0aGlzLngtZS54LHRoaXMueS1lLnkpfSxpLnByb3RvdHlwZS5zdWJ0cmFjdFRvUmVmPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQueD10aGlzLngtZS54LHQueT10aGlzLnktZS55LHRoaXN9LGkucHJvdG90eXBlLnN1YnRyYWN0SW5QbGFjZT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy54LT1lLngsdGhpcy55LT1lLnksdGhpc30saS5wcm90b3R5cGUubXVsdGlwbHlJblBsYWNlPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLngqPWUueCx0aGlzLnkqPWUueSx0aGlzfSxpLnByb3RvdHlwZS5tdWx0aXBseT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IGkodGhpcy54KmUueCx0aGlzLnkqZS55KX0saS5wcm90b3R5cGUubXVsdGlwbHlUb1JlZj1mdW5jdGlvbihlLHQpe3JldHVybiB0Lng9dGhpcy54KmUueCx0Lnk9dGhpcy55KmUueSx0aGlzfSxpLnByb3RvdHlwZS5tdWx0aXBseUJ5RmxvYXRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG5ldyBpKHRoaXMueCplLHRoaXMueSp0KX0saS5wcm90b3R5cGUuZGl2aWRlPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgaSh0aGlzLngvZS54LHRoaXMueS9lLnkpfSxpLnByb3RvdHlwZS5kaXZpZGVUb1JlZj1mdW5jdGlvbihlLHQpe3JldHVybiB0Lng9dGhpcy54L2UueCx0Lnk9dGhpcy55L2UueSx0aGlzfSxpLnByb3RvdHlwZS5kaXZpZGVJblBsYWNlPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmRpdmlkZVRvUmVmKGUsdGhpcyl9LGkucHJvdG90eXBlLm5lZ2F0ZT1mdW5jdGlvbigpe3JldHVybiBuZXcgaSgtdGhpcy54LC10aGlzLnkpfSxpLnByb3RvdHlwZS5uZWdhdGVJblBsYWNlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMueCo9LTEsdGhpcy55Kj0tMSx0aGlzfSxpLnByb3RvdHlwZS5uZWdhdGVUb1JlZj1mdW5jdGlvbihlKXtyZXR1cm4gZS5jb3B5RnJvbUZsb2F0cyh0aGlzLngqLTEsdGhpcy55Ki0xKX0saS5wcm90b3R5cGUuc2NhbGVJblBsYWNlPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLngqPWUsdGhpcy55Kj1lLHRoaXN9LGkucHJvdG90eXBlLnNjYWxlPWZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBpKDAsMCk7cmV0dXJuIHRoaXMuc2NhbGVUb1JlZihlLHQpLHR9LGkucHJvdG90eXBlLnNjYWxlVG9SZWY9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC54PXRoaXMueCplLHQueT10aGlzLnkqZSx0aGlzfSxpLnByb3RvdHlwZS5zY2FsZUFuZEFkZFRvUmVmPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQueCs9dGhpcy54KmUsdC55Kz10aGlzLnkqZSx0aGlzfSxpLnByb3RvdHlwZS5lcXVhbHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJnRoaXMueD09PWUueCYmdGhpcy55PT09ZS55fSxpLnByb3RvdHlwZS5lcXVhbHNXaXRoRXBzaWxvbj1mdW5jdGlvbihlLHQpe3JldHVybiB0PT09dm9pZCAwJiYodD1lZSksZSYmVS5XaXRoaW5FcHNpbG9uKHRoaXMueCxlLngsdCkmJlUuV2l0aGluRXBzaWxvbih0aGlzLnksZS55LHQpfSxpLnByb3RvdHlwZS5mbG9vcj1mdW5jdGlvbigpe3JldHVybiBuZXcgaShNYXRoLmZsb29yKHRoaXMueCksTWF0aC5mbG9vcih0aGlzLnkpKX0saS5wcm90b3R5cGUuZnJhY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGkodGhpcy54LU1hdGguZmxvb3IodGhpcy54KSx0aGlzLnktTWF0aC5mbG9vcih0aGlzLnkpKX0saS5wcm90b3R5cGUucm90YXRlVG9SZWY9ZnVuY3Rpb24oZSx0KXt2YXIgcj1NYXRoLmNvcyhlKSxuPU1hdGguc2luKGUpO3JldHVybiB0Lng9cip0aGlzLngtbip0aGlzLnksdC55PW4qdGhpcy54K3IqdGhpcy55LHRoaXN9LGkucHJvdG90eXBlLmxlbmd0aD1mdW5jdGlvbigpe3JldHVybiBNYXRoLnNxcnQodGhpcy54KnRoaXMueCt0aGlzLnkqdGhpcy55KX0saS5wcm90b3R5cGUubGVuZ3RoU3F1YXJlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLngqdGhpcy54K3RoaXMueSp0aGlzLnl9LGkucHJvdG90eXBlLm5vcm1hbGl6ZT1mdW5jdGlvbigpe3JldHVybiBpLk5vcm1hbGl6ZVRvUmVmKHRoaXMsdGhpcyksdGhpc30saS5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGkodGhpcy54LHRoaXMueSl9LGkuWmVybz1mdW5jdGlvbigpe3JldHVybiBuZXcgaSgwLDApfSxpLk9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgaSgxLDEpfSxpLkZyb21BcnJheT1mdW5jdGlvbihlLHQpe3JldHVybiB0PT09dm9pZCAwJiYodD0wKSxuZXcgaShlW3RdLGVbdCsxXSl9LGkuRnJvbUFycmF5VG9SZWY9ZnVuY3Rpb24oZSx0LHIpe3IueD1lW3RdLHIueT1lW3QrMV19LGkuQ2F0bXVsbFJvbT1mdW5jdGlvbihlLHQscixuLGEpe3ZhciBzPWEqYSxvPWEqcyx1PS41KigyKnQueCsoLWUueCtyLngpKmErKDIqZS54LTUqdC54KzQqci54LW4ueCkqcysoLWUueCszKnQueC0zKnIueCtuLngpKm8pLGY9LjUqKDIqdC55KygtZS55K3IueSkqYSsoMiplLnktNSp0LnkrNCpyLnktbi55KSpzKygtZS55KzMqdC55LTMqci55K24ueSkqbyk7cmV0dXJuIG5ldyBpKHUsZil9LGkuQ2xhbXA9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUueDtuPW4+ci54P3IueDpuLG49bjx0Lng/dC54Om47dmFyIGE9ZS55O3JldHVybiBhPWE+ci55P3IueTphLGE9YTx0Lnk/dC55OmEsbmV3IGkobixhKX0saS5IZXJtaXRlPWZ1bmN0aW9uKGUsdCxyLG4sYSl7dmFyIHM9YSphLG89YSpzLHU9MipvLTMqcysxLGY9LTIqbyszKnMsbD1vLTIqcythLGg9by1zLGM9ZS54KnUrci54KmYrdC54Kmwrbi54KmgsZD1lLnkqdStyLnkqZit0LnkqbCtuLnkqaDtyZXR1cm4gbmV3IGkoYyxkKX0saS5IZXJtaXRlMXN0RGVyaXZhdGl2ZT1mdW5jdGlvbihlLHQscixuLGEpe3ZhciBzPWkuWmVybygpO3JldHVybiB0aGlzLkhlcm1pdGUxc3REZXJpdmF0aXZlVG9SZWYoZSx0LHIsbixhLHMpLHN9LGkuSGVybWl0ZTFzdERlcml2YXRpdmVUb1JlZj1mdW5jdGlvbihlLHQscixuLGEscyl7dmFyIG89YSphO3MueD0oby1hKSo2KmUueCsoMypvLTQqYSsxKSp0LngrKC1vK2EpKjYqci54KygzKm8tMiphKSpuLngscy55PShvLWEpKjYqZS55KygzKm8tNCphKzEpKnQueSsoLW8rYSkqNipyLnkrKDMqby0yKmEpKm4ueX0saS5MZXJwPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1lLngrKHQueC1lLngpKnIsYT1lLnkrKHQueS1lLnkpKnI7cmV0dXJuIG5ldyBpKG4sYSl9LGkuRG90PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUueCp0LngrZS55KnQueX0saS5Ob3JtYWxpemU9ZnVuY3Rpb24oZSl7dmFyIHQ9aS5aZXJvKCk7cmV0dXJuIHRoaXMuTm9ybWFsaXplVG9SZWYoZSx0KSx0fSxpLk5vcm1hbGl6ZVRvUmVmPWZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS5sZW5ndGgoKTtyIT09MCYmKHQueD1lLngvcix0Lnk9ZS55L3IpfSxpLk1pbmltaXplPWZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS54PHQueD9lLng6dC54LG49ZS55PHQueT9lLnk6dC55O3JldHVybiBuZXcgaShyLG4pfSxpLk1heGltaXplPWZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS54PnQueD9lLng6dC54LG49ZS55PnQueT9lLnk6dC55O3JldHVybiBuZXcgaShyLG4pfSxpLlRyYW5zZm9ybT1mdW5jdGlvbihlLHQpe3ZhciByPWkuWmVybygpO3JldHVybiBpLlRyYW5zZm9ybVRvUmVmKGUsdCxyKSxyfSxpLlRyYW5zZm9ybVRvUmVmPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj10Lm0sYT1lLngqblswXStlLnkqbls0XStuWzEyXSxzPWUueCpuWzFdK2UueSpuWzVdK25bMTNdO3IueD1hLHIueT1zfSxpLlBvaW50SW5UcmlhbmdsZT1mdW5jdGlvbihlLHQscixuKXt2YXIgYT0uNSooLXIueSpuLngrdC55Kigtci54K24ueCkrdC54KihyLnktbi55KStyLngqbi55KSxzPWE8MD8tMToxLG89KHQueSpuLngtdC54Km4ueSsobi55LXQueSkqZS54Kyh0Lngtbi54KSplLnkpKnMsdT0odC54KnIueS10Lnkqci54Kyh0Lnktci55KSplLngrKHIueC10LngpKmUueSkqcztyZXR1cm4gbz4wJiZ1PjAmJm8rdTwyKmEqc30saS5EaXN0YW5jZT1mdW5jdGlvbihlLHQpe3JldHVybiBNYXRoLnNxcnQoaS5EaXN0YW5jZVNxdWFyZWQoZSx0KSl9LGkuRGlzdGFuY2VTcXVhcmVkPWZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS54LXQueCxuPWUueS10Lnk7cmV0dXJuIHIqcituKm59LGkuQ2VudGVyPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGkuQ2VudGVyVG9SZWYoZSx0LGkuWmVybygpKX0saS5DZW50ZXJUb1JlZj1mdW5jdGlvbihlLHQscil7cmV0dXJuIHIuY29weUZyb21GbG9hdHMoKGUueCt0LngpLzIsKGUueSt0LnkpLzIpfSxpLkRpc3RhbmNlT2ZQb2ludEZyb21TZWdtZW50PWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1pLkRpc3RhbmNlU3F1YXJlZCh0LHIpO2lmKG49PT0wKXJldHVybiBpLkRpc3RhbmNlKGUsdCk7dmFyIGE9ci5zdWJ0cmFjdCh0KSxzPU1hdGgubWF4KDAsTWF0aC5taW4oMSxpLkRvdChlLnN1YnRyYWN0KHQpLGEpL24pKSxvPXQuYWRkKGEubXVsdGlwbHlCeUZsb2F0cyhzLHMpKTtyZXR1cm4gaS5EaXN0YW5jZShlLG8pfSxpfSgpLGI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKGUsdCxyKXtlPT09dm9pZCAwJiYoZT0wKSx0PT09dm9pZCAwJiYodD0wKSxyPT09dm9pZCAwJiYocj0wKSx0aGlzLl9pc0RpcnR5PSEwLHRoaXMuX3g9ZSx0aGlzLl95PXQsdGhpcy5fej1yfXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsIngiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5feH0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX3g9ZSx0aGlzLl9pc0RpcnR5PSEwfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwieSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl95fSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5feT1lLHRoaXMuX2lzRGlydHk9ITB9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJ6Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3p9LHNldDpmdW5jdGlvbihlKXt0aGlzLl96PWUsdGhpcy5faXNEaXJ0eT0hMH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiJ7WDogIi5jb25jYXQodGhpcy5feCwiIFk6ICIpLmNvbmNhdCh0aGlzLl95LCIgWjogIikuY29uY2F0KHRoaXMuX3osIn0iKX0saS5wcm90b3R5cGUuZ2V0Q2xhc3NOYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIlZlY3RvcjMifSxpLnByb3RvdHlwZS5nZXRIYXNoQ29kZT1mdW5jdGlvbigpe3ZhciBlPUxlKHRoaXMuX3gpLHQ9TGUodGhpcy5feSkscj1MZSh0aGlzLl96KSxuPWU7cmV0dXJuIG49biozOTdedCxuPW4qMzk3XnIsbn0saS5wcm90b3R5cGUuYXNBcnJheT1mdW5jdGlvbigpe3ZhciBlPVtdO3JldHVybiB0aGlzLnRvQXJyYXkoZSwwKSxlfSxpLnByb3RvdHlwZS50b0FycmF5PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ9PT12b2lkIDAmJih0PTApLGVbdF09dGhpcy5feCxlW3QrMV09dGhpcy5feSxlW3QrMl09dGhpcy5feix0aGlzfSxpLnByb3RvdHlwZS5mcm9tQXJyYXk9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD09PXZvaWQgMCYmKHQ9MCksaS5Gcm9tQXJyYXlUb1JlZihlLHQsdGhpcyksdGhpc30saS5wcm90b3R5cGUudG9RdWF0ZXJuaW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHNlLlJvdGF0aW9uWWF3UGl0Y2hSb2xsKHRoaXMuX3ksdGhpcy5feCx0aGlzLl96KX0saS5wcm90b3R5cGUuYWRkSW5QbGFjZT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5hZGRJblBsYWNlRnJvbUZsb2F0cyhlLl94LGUuX3ksZS5feil9LGkucHJvdG90eXBlLmFkZEluUGxhY2VGcm9tRmxvYXRzPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gdGhpcy54Kz1lLHRoaXMueSs9dCx0aGlzLnorPXIsdGhpc30saS5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgaSh0aGlzLl94K2UuX3gsdGhpcy5feStlLl95LHRoaXMuX3orZS5feil9LGkucHJvdG90eXBlLmFkZFRvUmVmPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQuY29weUZyb21GbG9hdHModGhpcy5feCtlLl94LHRoaXMuX3krZS5feSx0aGlzLl96K2UuX3opfSxpLnByb3RvdHlwZS5zdWJ0cmFjdEluUGxhY2U9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMueC09ZS5feCx0aGlzLnktPWUuX3ksdGhpcy56LT1lLl96LHRoaXN9LGkucHJvdG90eXBlLnN1YnRyYWN0PWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgaSh0aGlzLl94LWUuX3gsdGhpcy5feS1lLl95LHRoaXMuX3otZS5feil9LGkucHJvdG90eXBlLnN1YnRyYWN0VG9SZWY9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5zdWJ0cmFjdEZyb21GbG9hdHNUb1JlZihlLl94LGUuX3ksZS5feix0KX0saS5wcm90b3R5cGUuc3VidHJhY3RGcm9tRmxvYXRzPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gbmV3IGkodGhpcy5feC1lLHRoaXMuX3ktdCx0aGlzLl96LXIpfSxpLnByb3RvdHlwZS5zdWJ0cmFjdEZyb21GbG9hdHNUb1JlZj1mdW5jdGlvbihlLHQscixuKXtyZXR1cm4gbi5jb3B5RnJvbUZsb2F0cyh0aGlzLl94LWUsdGhpcy5feS10LHRoaXMuX3otcil9LGkucHJvdG90eXBlLm5lZ2F0ZT1mdW5jdGlvbigpe3JldHVybiBuZXcgaSgtdGhpcy5feCwtdGhpcy5feSwtdGhpcy5feil9LGkucHJvdG90eXBlLm5lZ2F0ZUluUGxhY2U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy54Kj0tMSx0aGlzLnkqPS0xLHRoaXMueio9LTEsdGhpc30saS5wcm90b3R5cGUubmVnYXRlVG9SZWY9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuY29weUZyb21GbG9hdHModGhpcy5feCotMSx0aGlzLl95Ki0xLHRoaXMuX3oqLTEpfSxpLnByb3RvdHlwZS5zY2FsZUluUGxhY2U9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMueCo9ZSx0aGlzLnkqPWUsdGhpcy56Kj1lLHRoaXN9LGkucHJvdG90eXBlLnNjYWxlPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgaSh0aGlzLl94KmUsdGhpcy5feSplLHRoaXMuX3oqZSl9LGkucHJvdG90eXBlLnNjYWxlVG9SZWY9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC5jb3B5RnJvbUZsb2F0cyh0aGlzLl94KmUsdGhpcy5feSplLHRoaXMuX3oqZSl9LGkucHJvdG90eXBlLmFwcGx5Um90YXRpb25RdWF0ZXJuaW9uVG9SZWY9ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLncqdGhpcy54K2UueSp0aGlzLnotZS56KnRoaXMueSxuPWUudyp0aGlzLnkrZS56KnRoaXMueC1lLngqdGhpcy56LGE9ZS53KnRoaXMueitlLngqdGhpcy55LWUueSp0aGlzLngscz0tZS54KnRoaXMueC1lLnkqdGhpcy55LWUueip0aGlzLno7cmV0dXJuIHQueD1yKmUudytzKi1lLngrbiotZS56LWEqLWUueSx0Lnk9biplLncrcyotZS55K2EqLWUueC1yKi1lLnosdC56PWEqZS53K3MqLWUueityKi1lLnktbiotZS54LHR9LGkucHJvdG90eXBlLmFwcGx5Um90YXRpb25RdWF0ZXJuaW9uSW5QbGFjZT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5hcHBseVJvdGF0aW9uUXVhdGVybmlvblRvUmVmKGUsdGhpcyl9LGkucHJvdG90eXBlLmFwcGx5Um90YXRpb25RdWF0ZXJuaW9uPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmFwcGx5Um90YXRpb25RdWF0ZXJuaW9uVG9SZWYoZSxpLlplcm8oKSl9LGkucHJvdG90eXBlLnNjYWxlQW5kQWRkVG9SZWY9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC5hZGRJblBsYWNlRnJvbUZsb2F0cyh0aGlzLl94KmUsdGhpcy5feSplLHRoaXMuX3oqZSl9LGkucHJvdG90eXBlLnByb2plY3RPblBsYW5lPWZ1bmN0aW9uKGUsdCl7dmFyIHI9aS5aZXJvKCk7cmV0dXJuIHRoaXMucHJvamVjdE9uUGxhbmVUb1JlZihlLHQscikscn0saS5wcm90b3R5cGUucHJvamVjdE9uUGxhbmVUb1JlZj1mdW5jdGlvbihlLHQscil7dmFyIG49ZS5ub3JtYWwsYT1lLmQscz1WLlZlY3RvcjNbMF07dGhpcy5zdWJ0cmFjdFRvUmVmKHQscykscy5ub3JtYWxpemUoKTt2YXIgbz1pLkRvdChzLG4pLHU9LShpLkRvdCh0LG4pK2EpL28sZj1zLnNjYWxlSW5QbGFjZSh1KTt0LmFkZFRvUmVmKGYscil9LGkucHJvdG90eXBlLmVxdWFscz1mdW5jdGlvbihlKXtyZXR1cm4gZSYmdGhpcy5feD09PWUuX3gmJnRoaXMuX3k9PT1lLl95JiZ0aGlzLl96PT09ZS5fen0saS5wcm90b3R5cGUuZXF1YWxzV2l0aEVwc2lsb249ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD09PXZvaWQgMCYmKHQ9ZWUpLGUmJlUuV2l0aGluRXBzaWxvbih0aGlzLl94LGUuX3gsdCkmJlUuV2l0aGluRXBzaWxvbih0aGlzLl95LGUuX3ksdCkmJlUuV2l0aGluRXBzaWxvbih0aGlzLl96LGUuX3osdCl9LGkucHJvdG90eXBlLmVxdWFsc1RvRmxvYXRzPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gdGhpcy5feD09PWUmJnRoaXMuX3k9PT10JiZ0aGlzLl96PT09cn0saS5wcm90b3R5cGUubXVsdGlwbHlJblBsYWNlPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLngqPWUuX3gsdGhpcy55Kj1lLl95LHRoaXMueio9ZS5feix0aGlzfSxpLnByb3RvdHlwZS5tdWx0aXBseT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5tdWx0aXBseUJ5RmxvYXRzKGUuX3gsZS5feSxlLl96KX0saS5wcm90b3R5cGUubXVsdGlwbHlUb1JlZj1mdW5jdGlvbihlLHQpe3JldHVybiB0LmNvcHlGcm9tRmxvYXRzKHRoaXMuX3gqZS5feCx0aGlzLl95KmUuX3ksdGhpcy5feiplLl96KX0saS5wcm90b3R5cGUubXVsdGlwbHlCeUZsb2F0cz1mdW5jdGlvbihlLHQscil7cmV0dXJuIG5ldyBpKHRoaXMuX3gqZSx0aGlzLl95KnQsdGhpcy5feipyKX0saS5wcm90b3R5cGUuZGl2aWRlPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgaSh0aGlzLl94L2UuX3gsdGhpcy5feS9lLl95LHRoaXMuX3ovZS5feil9LGkucHJvdG90eXBlLmRpdmlkZVRvUmVmPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQuY29weUZyb21GbG9hdHModGhpcy5feC9lLl94LHRoaXMuX3kvZS5feSx0aGlzLl96L2UuX3opfSxpLnByb3RvdHlwZS5kaXZpZGVJblBsYWNlPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmRpdmlkZVRvUmVmKGUsdGhpcyl9LGkucHJvdG90eXBlLm1pbmltaXplSW5QbGFjZT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5taW5pbWl6ZUluUGxhY2VGcm9tRmxvYXRzKGUuX3gsZS5feSxlLl96KX0saS5wcm90b3R5cGUubWF4aW1pemVJblBsYWNlPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLm1heGltaXplSW5QbGFjZUZyb21GbG9hdHMoZS5feCxlLl95LGUuX3opfSxpLnByb3RvdHlwZS5taW5pbWl6ZUluUGxhY2VGcm9tRmxvYXRzPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZTx0aGlzLl94JiYodGhpcy54PWUpLHQ8dGhpcy5feSYmKHRoaXMueT10KSxyPHRoaXMuX3omJih0aGlzLno9ciksdGhpc30saS5wcm90b3R5cGUubWF4aW1pemVJblBsYWNlRnJvbUZsb2F0cz1mdW5jdGlvbihlLHQscil7cmV0dXJuIGU+dGhpcy5feCYmKHRoaXMueD1lKSx0PnRoaXMuX3kmJih0aGlzLnk9dCkscj50aGlzLl96JiYodGhpcy56PXIpLHRoaXN9LGkucHJvdG90eXBlLmlzTm9uVW5pZm9ybVdpdGhpbkVwc2lsb249ZnVuY3Rpb24oZSl7dmFyIHQ9TWF0aC5hYnModGhpcy5feCkscj1NYXRoLmFicyh0aGlzLl95KTtpZighVS5XaXRoaW5FcHNpbG9uKHQscixlKSlyZXR1cm4hMDt2YXIgbj1NYXRoLmFicyh0aGlzLl96KTtyZXR1cm4hVS5XaXRoaW5FcHNpbG9uKHQsbixlKXx8IVUuV2l0aGluRXBzaWxvbihyLG4sZSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiaXNOb25Vbmlmb3JtIix7Z2V0OmZ1bmN0aW9uKCl7dmFyIGU9TWF0aC5hYnModGhpcy5feCksdD1NYXRoLmFicyh0aGlzLl95KTtpZihlIT09dClyZXR1cm4hMDt2YXIgcj1NYXRoLmFicyh0aGlzLl96KTtyZXR1cm4gZSE9PXJ9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksaS5wcm90b3R5cGUuZmxvb3I9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGkoTWF0aC5mbG9vcih0aGlzLl94KSxNYXRoLmZsb29yKHRoaXMuX3kpLE1hdGguZmxvb3IodGhpcy5feikpfSxpLnByb3RvdHlwZS5mcmFjdD1mdW5jdGlvbigpe3JldHVybiBuZXcgaSh0aGlzLl94LU1hdGguZmxvb3IodGhpcy5feCksdGhpcy5feS1NYXRoLmZsb29yKHRoaXMuX3kpLHRoaXMuX3otTWF0aC5mbG9vcih0aGlzLl96KSl9LGkucHJvdG90eXBlLmxlbmd0aD1mdW5jdGlvbigpe3JldHVybiBNYXRoLnNxcnQodGhpcy5feCp0aGlzLl94K3RoaXMuX3kqdGhpcy5feSt0aGlzLl96KnRoaXMuX3opfSxpLnByb3RvdHlwZS5sZW5ndGhTcXVhcmVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3gqdGhpcy5feCt0aGlzLl95KnRoaXMuX3krdGhpcy5feip0aGlzLl96fSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImhhc0FaZXJvQ29tcG9uZW50Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3gqdGhpcy5feSp0aGlzLl96PT09MH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLnByb3RvdHlwZS5ub3JtYWxpemU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ub3JtYWxpemVGcm9tTGVuZ3RoKHRoaXMubGVuZ3RoKCkpfSxpLnByb3RvdHlwZS5yZW9yZGVySW5QbGFjZT1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiBlPWUudG9Mb3dlckNhc2UoKSxlPT09Inh5eiI/dGhpczooVi5WZWN0b3IzWzBdLmNvcHlGcm9tKHRoaXMpLFsieCIsInkiLCJ6Il0uZm9yRWFjaChmdW5jdGlvbihyLG4pe3Rbcl09Vi5WZWN0b3IzWzBdW2Vbbl1dfSksdGhpcyl9LGkucHJvdG90eXBlLnJvdGF0ZUJ5UXVhdGVybmlvblRvUmVmPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUudG9Sb3RhdGlvbk1hdHJpeChWLk1hdHJpeFswXSksaS5UcmFuc2Zvcm1Db29yZGluYXRlc1RvUmVmKHRoaXMsVi5NYXRyaXhbMF0sdCksdH0saS5wcm90b3R5cGUucm90YXRlQnlRdWF0ZXJuaW9uQXJvdW5kUG9pbnRUb1JlZj1mdW5jdGlvbihlLHQscil7cmV0dXJuIHRoaXMuc3VidHJhY3RUb1JlZih0LFYuVmVjdG9yM1swXSksVi5WZWN0b3IzWzBdLnJvdGF0ZUJ5UXVhdGVybmlvblRvUmVmKGUsVi5WZWN0b3IzWzBdKSx0LmFkZFRvUmVmKFYuVmVjdG9yM1swXSxyKSxyfSxpLnByb3RvdHlwZS5jcm9zcz1mdW5jdGlvbihlKXtyZXR1cm4gaS5Dcm9zcyh0aGlzLGUpfSxpLnByb3RvdHlwZS5ub3JtYWxpemVGcm9tTGVuZ3RoPWZ1bmN0aW9uKGUpe3JldHVybiBlPT09MHx8ZT09PTE/dGhpczp0aGlzLnNjYWxlSW5QbGFjZSgxL2UpfSxpLnByb3RvdHlwZS5ub3JtYWxpemVUb05ldz1mdW5jdGlvbigpe3ZhciBlPW5ldyBpKDAsMCwwKTtyZXR1cm4gdGhpcy5ub3JtYWxpemVUb1JlZihlKSxlfSxpLnByb3RvdHlwZS5ub3JtYWxpemVUb1JlZj1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmxlbmd0aCgpO3JldHVybiB0PT09MHx8dD09PTE/ZS5jb3B5RnJvbUZsb2F0cyh0aGlzLl94LHRoaXMuX3ksdGhpcy5feik6dGhpcy5zY2FsZVRvUmVmKDEvdCxlKX0saS5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGkodGhpcy5feCx0aGlzLl95LHRoaXMuX3opfSxpLnByb3RvdHlwZS5jb3B5RnJvbT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5jb3B5RnJvbUZsb2F0cyhlLl94LGUuX3ksZS5feil9LGkucHJvdG90eXBlLmNvcHlGcm9tRmxvYXRzPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gdGhpcy54PWUsdGhpcy55PXQsdGhpcy56PXIsdGhpc30saS5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gdGhpcy5jb3B5RnJvbUZsb2F0cyhlLHQscil9LGkucHJvdG90eXBlLnNldEFsbD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy54PXRoaXMueT10aGlzLno9ZSx0aGlzfSxpLkdldENsaXBGYWN0b3I9ZnVuY3Rpb24oZSx0LHIsbil7dmFyIGE9aS5Eb3QoZSxyKS1uLHM9aS5Eb3QodCxyKS1uLG89YS8oYS1zKTtyZXR1cm4gb30saS5HZXRBbmdsZUJldHdlZW5WZWN0b3JzPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1lLm5vcm1hbGl6ZVRvUmVmKFYuVmVjdG9yM1sxXSksYT10Lm5vcm1hbGl6ZVRvUmVmKFYuVmVjdG9yM1syXSkscz1pLkRvdChuLGEpO3M9VS5DbGFtcChzLC0xLDEpO3ZhciBvPU1hdGguYWNvcyhzKSx1PVYuVmVjdG9yM1szXTtyZXR1cm4gaS5Dcm9zc1RvUmVmKG4sYSx1KSxpLkRvdCh1LHIpPjA/aXNOYU4obyk/MDpvOmlzTmFOKG8pPy1NYXRoLlBJOi1NYXRoLmFjb3Mocyl9LGkuR2V0QW5nbGVCZXR3ZWVuVmVjdG9yc09uUGxhbmU9ZnVuY3Rpb24oZSx0LHIpe1YuVmVjdG9yM1swXS5jb3B5RnJvbShlKTt2YXIgbj1WLlZlY3RvcjNbMF07Vi5WZWN0b3IzWzFdLmNvcHlGcm9tKHQpO3ZhciBhPVYuVmVjdG9yM1sxXTtWLlZlY3RvcjNbMl0uY29weUZyb20ocik7dmFyIHM9Vi5WZWN0b3IzWzJdLG89Vi5WZWN0b3IzWzNdLHU9Vi5WZWN0b3IzWzRdO24ubm9ybWFsaXplKCksYS5ub3JtYWxpemUoKSxzLm5vcm1hbGl6ZSgpLGkuQ3Jvc3NUb1JlZihzLG4sbyksaS5Dcm9zc1RvUmVmKG8scyx1KTt2YXIgZj1NYXRoLmF0YW4yKGkuRG90KGEsbyksaS5Eb3QoYSx1KSk7cmV0dXJuIFUuTm9ybWFsaXplUmFkaWFucyhmKX0saS5TbGVycFRvUmVmPWZ1bmN0aW9uKGUsdCxyLG4pe3I9VS5DbGFtcChyLDAsMSk7dmFyIGE9Vi5WZWN0b3IzWzBdLHM9Vi5WZWN0b3IzWzFdO2EuY29weUZyb20oZSk7dmFyIG89YS5sZW5ndGgoKTthLm5vcm1hbGl6ZUZyb21MZW5ndGgobykscy5jb3B5RnJvbSh0KTt2YXIgdT1zLmxlbmd0aCgpO3Mubm9ybWFsaXplRnJvbUxlbmd0aCh1KTt2YXIgZj1pLkRvdChhLHMpLGwsaDtpZihmPDEtZWUpe3ZhciBjPU1hdGguYWNvcyhmKSxkPTEvTWF0aC5zaW4oYyk7bD1NYXRoLnNpbigoMS1yKSpjKSpkLGg9TWF0aC5zaW4ocipjKSpkfWVsc2UgbD0xLXIsaD1yO2Euc2NhbGVJblBsYWNlKGwpLHMuc2NhbGVJblBsYWNlKGgpLG4uY29weUZyb20oYSkuYWRkSW5QbGFjZShzKSxuLnNjYWxlSW5QbGFjZShVLkxlcnAobyx1LHIpKX0saS5TbW9vdGhUb1JlZj1mdW5jdGlvbihlLHQscixuLGEpe2kuU2xlcnBUb1JlZihlLHQsbj09PTA/MTpyL24sYSl9LGkuRnJvbUFycmF5PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ9PT12b2lkIDAmJih0PTApLG5ldyBpKGVbdF0sZVt0KzFdLGVbdCsyXSl9LGkuRnJvbUZsb2F0QXJyYXk9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gaS5Gcm9tQXJyYXkoZSx0KX0saS5Gcm9tQXJyYXlUb1JlZj1mdW5jdGlvbihlLHQscil7ci54PWVbdF0sci55PWVbdCsxXSxyLno9ZVt0KzJdfSxpLkZyb21GbG9hdEFycmF5VG9SZWY9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBpLkZyb21BcnJheVRvUmVmKGUsdCxyKX0saS5Gcm9tRmxvYXRzVG9SZWY9ZnVuY3Rpb24oZSx0LHIsbil7bi5jb3B5RnJvbUZsb2F0cyhlLHQscil9LGkuWmVybz1mdW5jdGlvbigpe3JldHVybiBuZXcgaSgwLDAsMCl9LGkuT25lPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBpKDEsMSwxKX0saS5VcD1mdW5jdGlvbigpe3JldHVybiBuZXcgaSgwLDEsMCl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLCJVcFJlYWRPbmx5Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGkuX1VwUmVhZE9ubHl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGksIlJpZ2h0UmVhZE9ubHkiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaS5fUmlnaHRSZWFkT25seX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSwiTGVmdFJlYWRPbmx5Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGkuX0xlZnRSZWFkT25seX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSwiTGVmdEhhbmRlZEZvcndhcmRSZWFkT25seSIse2dldDpmdW5jdGlvbigpe3JldHVybiBpLl9MZWZ0SGFuZGVkRm9yd2FyZFJlYWRPbmx5fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLCJSaWdodEhhbmRlZEZvcndhcmRSZWFkT25seSIse2dldDpmdW5jdGlvbigpe3JldHVybiBpLl9SaWdodEhhbmRlZEZvcndhcmRSZWFkT25seX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSwiWmVyb1JlYWRPbmx5Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGkuX1plcm9SZWFkT25seX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLkRvd249ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGkoMCwtMSwwKX0saS5Gb3J3YXJkPWZ1bmN0aW9uKGUpe3JldHVybiBlPT09dm9pZCAwJiYoZT0hMSksbmV3IGkoMCwwLGU/LTE6MSl9LGkuQmFja3dhcmQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT12b2lkIDAmJihlPSExKSxuZXcgaSgwLDAsZT8xOi0xKX0saS5SaWdodD1mdW5jdGlvbigpe3JldHVybiBuZXcgaSgxLDAsMCl9LGkuTGVmdD1mdW5jdGlvbigpe3JldHVybiBuZXcgaSgtMSwwLDApfSxpLlRyYW5zZm9ybUNvb3JkaW5hdGVzPWZ1bmN0aW9uKGUsdCl7dmFyIHI9aS5aZXJvKCk7cmV0dXJuIGkuVHJhbnNmb3JtQ29vcmRpbmF0ZXNUb1JlZihlLHQscikscn0saS5UcmFuc2Zvcm1Db29yZGluYXRlc1RvUmVmPWZ1bmN0aW9uKGUsdCxyKXtpLlRyYW5zZm9ybUNvb3JkaW5hdGVzRnJvbUZsb2F0c1RvUmVmKGUuX3gsZS5feSxlLl96LHQscil9LGkuVHJhbnNmb3JtQ29vcmRpbmF0ZXNGcm9tRmxvYXRzVG9SZWY9ZnVuY3Rpb24oZSx0LHIsbixhKXt2YXIgcz1uLm0sbz1lKnNbMF0rdCpzWzRdK3Iqc1s4XStzWzEyXSx1PWUqc1sxXSt0KnNbNV0rcipzWzldK3NbMTNdLGY9ZSpzWzJdK3Qqc1s2XStyKnNbMTBdK3NbMTRdLGw9MS8oZSpzWzNdK3Qqc1s3XStyKnNbMTFdK3NbMTVdKTthLng9bypsLGEueT11KmwsYS56PWYqbH0saS5UcmFuc2Zvcm1Ob3JtYWw9ZnVuY3Rpb24oZSx0KXt2YXIgcj1pLlplcm8oKTtyZXR1cm4gaS5UcmFuc2Zvcm1Ob3JtYWxUb1JlZihlLHQscikscn0saS5UcmFuc2Zvcm1Ob3JtYWxUb1JlZj1mdW5jdGlvbihlLHQscil7dGhpcy5UcmFuc2Zvcm1Ob3JtYWxGcm9tRmxvYXRzVG9SZWYoZS5feCxlLl95LGUuX3osdCxyKX0saS5UcmFuc2Zvcm1Ob3JtYWxGcm9tRmxvYXRzVG9SZWY9ZnVuY3Rpb24oZSx0LHIsbixhKXt2YXIgcz1uLm07YS54PWUqc1swXSt0KnNbNF0rcipzWzhdLGEueT1lKnNbMV0rdCpzWzVdK3Iqc1s5XSxhLno9ZSpzWzJdK3Qqc1s2XStyKnNbMTBdfSxpLkNhdG11bGxSb209ZnVuY3Rpb24oZSx0LHIsbixhKXt2YXIgcz1hKmEsbz1hKnMsdT0uNSooMip0Ll94KygtZS5feCtyLl94KSphKygyKmUuX3gtNSp0Ll94KzQqci5feC1uLl94KSpzKygtZS5feCszKnQuX3gtMypyLl94K24uX3gpKm8pLGY9LjUqKDIqdC5feSsoLWUuX3krci5feSkqYSsoMiplLl95LTUqdC5feSs0KnIuX3ktbi5feSkqcysoLWUuX3krMyp0Ll95LTMqci5feStuLl95KSpvKSxsPS41KigyKnQuX3orKC1lLl96K3IuX3opKmErKDIqZS5fei01KnQuX3orNCpyLl96LW4uX3opKnMrKC1lLl96KzMqdC5fei0zKnIuX3orbi5feikqbyk7cmV0dXJuIG5ldyBpKHUsZixsKX0saS5DbGFtcD1mdW5jdGlvbihlLHQscil7dmFyIG49bmV3IGk7cmV0dXJuIGkuQ2xhbXBUb1JlZihlLHQscixuKSxufSxpLkNsYW1wVG9SZWY9ZnVuY3Rpb24oZSx0LHIsbil7dmFyIGE9ZS5feDthPWE+ci5feD9yLl94OmEsYT1hPHQuX3g/dC5feDphO3ZhciBzPWUuX3k7cz1zPnIuX3k/ci5feTpzLHM9czx0Ll95P3QuX3k6czt2YXIgbz1lLl96O289bz5yLl96P3IuX3o6byxvPW88dC5fej90Ll96Om8sbi5jb3B5RnJvbUZsb2F0cyhhLHMsbyl9LGkuQ2hlY2tFeHRlbmRzPWZ1bmN0aW9uKGUsdCxyKXt0Lm1pbmltaXplSW5QbGFjZShlKSxyLm1heGltaXplSW5QbGFjZShlKX0saS5IZXJtaXRlPWZ1bmN0aW9uKGUsdCxyLG4sYSl7dmFyIHM9YSphLG89YSpzLHU9MipvLTMqcysxLGY9LTIqbyszKnMsbD1vLTIqcythLGg9by1zLGM9ZS5feCp1K3IuX3gqZit0Ll94Kmwrbi5feCpoLGQ9ZS5feSp1K3IuX3kqZit0Ll95Kmwrbi5feSpoLHA9ZS5feip1K3IuX3oqZit0Ll96Kmwrbi5feipoO3JldHVybiBuZXcgaShjLGQscCl9LGkuSGVybWl0ZTFzdERlcml2YXRpdmU9ZnVuY3Rpb24oZSx0LHIsbixhKXt2YXIgcz1pLlplcm8oKTtyZXR1cm4gdGhpcy5IZXJtaXRlMXN0RGVyaXZhdGl2ZVRvUmVmKGUsdCxyLG4sYSxzKSxzfSxpLkhlcm1pdGUxc3REZXJpdmF0aXZlVG9SZWY9ZnVuY3Rpb24oZSx0LHIsbixhLHMpe3ZhciBvPWEqYTtzLng9KG8tYSkqNiplLngrKDMqby00KmErMSkqdC54KygtbythKSo2KnIueCsoMypvLTIqYSkqbi54LHMueT0oby1hKSo2KmUueSsoMypvLTQqYSsxKSp0LnkrKC1vK2EpKjYqci55KygzKm8tMiphKSpuLnkscy56PShvLWEpKjYqZS56KygzKm8tNCphKzEpKnQueisoLW8rYSkqNipyLnorKDMqby0yKmEpKm4uen0saS5MZXJwPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1uZXcgaSgwLDAsMCk7cmV0dXJuIGkuTGVycFRvUmVmKGUsdCxyLG4pLG59LGkuTGVycFRvUmVmPWZ1bmN0aW9uKGUsdCxyLG4pe24ueD1lLl94Kyh0Ll94LWUuX3gpKnIsbi55PWUuX3krKHQuX3ktZS5feSkqcixuLno9ZS5feisodC5fei1lLl96KSpyfSxpLkRvdD1mdW5jdGlvbihlLHQpe3JldHVybiBlLl94KnQuX3grZS5feSp0Ll95K2UuX3oqdC5fen0saS5Dcm9zcz1mdW5jdGlvbihlLHQpe3ZhciByPWkuWmVybygpO3JldHVybiBpLkNyb3NzVG9SZWYoZSx0LHIpLHJ9LGkuQ3Jvc3NUb1JlZj1mdW5jdGlvbihlLHQscil7dmFyIG49ZS5feSp0Ll96LWUuX3oqdC5feSxhPWUuX3oqdC5feC1lLl94KnQuX3oscz1lLl94KnQuX3ktZS5feSp0Ll94O3IuY29weUZyb21GbG9hdHMobixhLHMpfSxpLk5vcm1hbGl6ZT1mdW5jdGlvbihlKXt2YXIgdD1pLlplcm8oKTtyZXR1cm4gaS5Ob3JtYWxpemVUb1JlZihlLHQpLHR9LGkuTm9ybWFsaXplVG9SZWY9ZnVuY3Rpb24oZSx0KXtlLm5vcm1hbGl6ZVRvUmVmKHQpfSxpLlByb2plY3Q9ZnVuY3Rpb24oZSx0LHIsbil7dmFyIGE9bmV3IGk7cmV0dXJuIGkuUHJvamVjdFRvUmVmKGUsdCxyLG4sYSksYX0saS5Qcm9qZWN0VG9SZWY9ZnVuY3Rpb24oZSx0LHIsbixhKXt2YXIgcz1uLndpZHRoLG89bi5oZWlnaHQsdT1uLngsZj1uLnksbD1WLk1hdHJpeFsxXTtJLkZyb21WYWx1ZXNUb1JlZihzLzIsMCwwLDAsMCwtby8yLDAsMCwwLDAsLjUsMCx1K3MvMixvLzIrZiwuNSwxLGwpO3ZhciBoPVYuTWF0cml4WzBdO3JldHVybiB0Lm11bHRpcGx5VG9SZWYocixoKSxoLm11bHRpcGx5VG9SZWYobCxoKSxpLlRyYW5zZm9ybUNvb3JkaW5hdGVzVG9SZWYoZSxoLGEpLGF9LGkuX1VucHJvamVjdEZyb21JbnZlcnRlZE1hdHJpeFRvUmVmPWZ1bmN0aW9uKGUsdCxyKXtpLlRyYW5zZm9ybUNvb3JkaW5hdGVzVG9SZWYoZSx0LHIpO3ZhciBuPXQubSxhPWUuX3gqblszXStlLl95Km5bN10rZS5feipuWzExXStuWzE1XTtVLldpdGhpbkVwc2lsb24oYSwxKSYmci5zY2FsZUluUGxhY2UoMS9hKX0saS5VbnByb2plY3RGcm9tVHJhbnNmb3JtPWZ1bmN0aW9uKGUsdCxyLG4sYSl7cmV0dXJuIHRoaXMuVW5wcm9qZWN0KGUsdCxyLG4sYSxJLklkZW50aXR5UmVhZE9ubHkpfSxpLlVucHJvamVjdD1mdW5jdGlvbihlLHQscixuLGEscyl7dmFyIG89aS5aZXJvKCk7cmV0dXJuIGkuVW5wcm9qZWN0VG9SZWYoZSx0LHIsbixhLHMsbyksb30saS5VbnByb2plY3RUb1JlZj1mdW5jdGlvbihlLHQscixuLGEscyxvKXtpLlVucHJvamVjdEZsb2F0c1RvUmVmKGUuX3gsZS5feSxlLl96LHQscixuLGEscyxvKX0saS5VbnByb2plY3RGbG9hdHNUb1JlZj1mdW5jdGlvbihlLHQscixuLGEscyxvLHUsZil7dmFyIGwsaD1WLk1hdHJpeFswXTtzLm11bHRpcGx5VG9SZWYobyxoKSxoLm11bHRpcGx5VG9SZWYodSxoKSxoLmludmVydCgpO3ZhciBjPVYuVmVjdG9yM1swXTtjLng9ZS9uKjItMSxjLnk9LSh0L2EqMi0xKSwhKChsPWFlLkxhc3RDcmVhdGVkRW5naW5lKT09PW51bGx8fGw9PT12b2lkIDApJiZsLmlzTkRDSGFsZlpSYW5nZT9jLno9cjpjLno9MipyLTEsaS5fVW5wcm9qZWN0RnJvbUludmVydGVkTWF0cml4VG9SZWYoYyxoLGYpfSxpLk1pbmltaXplPWZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS5jbG9uZSgpO3JldHVybiByLm1pbmltaXplSW5QbGFjZSh0KSxyfSxpLk1heGltaXplPWZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS5jbG9uZSgpO3JldHVybiByLm1heGltaXplSW5QbGFjZSh0KSxyfSxpLkRpc3RhbmNlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIE1hdGguc3FydChpLkRpc3RhbmNlU3F1YXJlZChlLHQpKX0saS5EaXN0YW5jZVNxdWFyZWQ9ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLl94LXQuX3gsbj1lLl95LXQuX3ksYT1lLl96LXQuX3o7cmV0dXJuIHIqcituKm4rYSphfSxpLlByb2plY3RPblRyaWFuZ2xlVG9SZWY9ZnVuY3Rpb24oZSx0LHIsbixhKXt2YXIgcz1WLlZlY3RvcjNbMF0sbz1WLlZlY3RvcjNbMV0sdT1WLlZlY3RvcjNbMl0sZj1WLlZlY3RvcjNbM10sbD1WLlZlY3RvcjNbNF07ci5zdWJ0cmFjdFRvUmVmKHQscyksbi5zdWJ0cmFjdFRvUmVmKHQsbyksbi5zdWJ0cmFjdFRvUmVmKHIsdSk7dmFyIGg9cy5sZW5ndGgoKSxjPW8ubGVuZ3RoKCksZD11Lmxlbmd0aCgpO2lmKGg8ZWV8fGM8ZWV8fGQ8ZWUpcmV0dXJuIGEuY29weUZyb20odCksaS5EaXN0YW5jZShlLHQpO2Uuc3VidHJhY3RUb1JlZih0LGwpLGkuQ3Jvc3NUb1JlZihzLG8sZik7dmFyIHA9Zi5sZW5ndGgoKTtpZihwPGVlKXJldHVybiBhLmNvcHlGcm9tKHQpLGkuRGlzdGFuY2UoZSx0KTtmLm5vcm1hbGl6ZUZyb21MZW5ndGgocCk7dmFyIGc9bC5sZW5ndGgoKTtpZihnPGVlKXJldHVybiBhLmNvcHlGcm9tKHQpLDA7bC5ub3JtYWxpemVGcm9tTGVuZ3RoKGcpO3ZhciBfPWkuRG90KGYsbCksdj1WLlZlY3RvcjNbNV0seT1WLlZlY3RvcjNbNl07di5jb3B5RnJvbShmKS5zY2FsZUluUGxhY2UoLWcqXykseS5jb3B5RnJvbShlKS5hZGRJblBsYWNlKHYpO3ZhciBFPVYuVmVjdG9yM1s0XSxSPVYuVmVjdG9yM1s1XSxNPVYuVmVjdG9yM1s3XSxDPVYuVmVjdG9yM1s4XTtFLmNvcHlGcm9tKHMpLnNjYWxlSW5QbGFjZSgxL2gpLEMuY29weUZyb20obykuc2NhbGVJblBsYWNlKDEvYyksRS5hZGRJblBsYWNlKEMpLnNjYWxlSW5QbGFjZSgtMSksUi5jb3B5RnJvbShzKS5zY2FsZUluUGxhY2UoLTEvaCksQy5jb3B5RnJvbSh1KS5zY2FsZUluUGxhY2UoMS9kKSxSLmFkZEluUGxhY2UoQykuc2NhbGVJblBsYWNlKC0xKSxNLmNvcHlGcm9tKHUpLnNjYWxlSW5QbGFjZSgtMS9kKSxDLmNvcHlGcm9tKG8pLnNjYWxlSW5QbGFjZSgtMS9jKSxNLmFkZEluUGxhY2UoQykuc2NhbGVJblBsYWNlKC0xKTt2YXIgQT1WLlZlY3RvcjNbOV0sUztBLmNvcHlGcm9tKHkpLnN1YnRyYWN0SW5QbGFjZSh0KSxpLkNyb3NzVG9SZWYoRSxBLEMpLFM9aS5Eb3QoQyxmKTt2YXIgdz1TO0EuY29weUZyb20oeSkuc3VidHJhY3RJblBsYWNlKHIpLGkuQ3Jvc3NUb1JlZihSLEEsQyksUz1pLkRvdChDLGYpO3ZhciBGPVM7QS5jb3B5RnJvbSh5KS5zdWJ0cmFjdEluUGxhY2UobiksaS5Dcm9zc1RvUmVmKE0sQSxDKSxTPWkuRG90KEMsZik7dmFyIHg9UyxHPVYuVmVjdG9yM1sxMF0seixOO3c+MCYmRjwwPyhHLmNvcHlGcm9tKHMpLHo9dCxOPXIpOkY+MCYmeDwwPyhHLmNvcHlGcm9tKHUpLHo9cixOPW4pOihHLmNvcHlGcm9tKG8pLnNjYWxlSW5QbGFjZSgtMSksej1uLE49dCk7dmFyIHE9Vi5WZWN0b3IzWzldLCQ9Vi5WZWN0b3IzWzRdO3ouc3VidHJhY3RUb1JlZih5LEMpLE4uc3VidHJhY3RUb1JlZih5LHEpLGkuQ3Jvc3NUb1JlZihDLHEsJCk7dmFyIHVlPWkuRG90KCQsZik8MDtpZighdWUpcmV0dXJuIGEuY29weUZyb20oeSksTWF0aC5hYnMoZypfKTt2YXIgWj1WLlZlY3RvcjNbNV07aS5Dcm9zc1RvUmVmKEcsJCxaKSxaLm5vcm1hbGl6ZSgpO3ZhciBqPVYuVmVjdG9yM1s5XTtqLmNvcHlGcm9tKHopLnN1YnRyYWN0SW5QbGFjZSh5KTt2YXIgZmU9ai5sZW5ndGgoKTtpZihmZTxlZSlyZXR1cm4gYS5jb3B5RnJvbSh6KSxpLkRpc3RhbmNlKGUseik7ai5ub3JtYWxpemVGcm9tTGVuZ3RoKGZlKTt2YXIgUGU9aS5Eb3QoWixqKSxXZT1WLlZlY3RvcjNbN107V2UuY29weUZyb20oeSkuYWRkSW5QbGFjZShaLnNjYWxlSW5QbGFjZShmZSpQZSkpLEMuY29weUZyb20oV2UpLnN1YnRyYWN0SW5QbGFjZSh6KSxnPUcubGVuZ3RoKCksRy5ub3JtYWxpemVGcm9tTGVuZ3RoKGcpO3ZhciBaZT1pLkRvdChDLEcpL01hdGgubWF4KGcsZWUpO3JldHVybiBaZT1VLkNsYW1wKFplLDAsMSksV2UuY29weUZyb20oeikuYWRkSW5QbGFjZShHLnNjYWxlSW5QbGFjZShaZSpnKSksYS5jb3B5RnJvbShXZSksaS5EaXN0YW5jZShlLFdlKX0saS5DZW50ZXI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gaS5DZW50ZXJUb1JlZihlLHQsaS5aZXJvKCkpfSxpLkNlbnRlclRvUmVmPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gci5jb3B5RnJvbUZsb2F0cygoZS5feCt0Ll94KS8yLChlLl95K3QuX3kpLzIsKGUuX3ordC5feikvMil9LGkuUm90YXRpb25Gcm9tQXhpcz1mdW5jdGlvbihlLHQscil7dmFyIG49aS5aZXJvKCk7cmV0dXJuIGkuUm90YXRpb25Gcm9tQXhpc1RvUmVmKGUsdCxyLG4pLG59LGkuUm90YXRpb25Gcm9tQXhpc1RvUmVmPWZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBhPVYuUXVhdGVybmlvblswXTtzZS5Sb3RhdGlvblF1YXRlcm5pb25Gcm9tQXhpc1RvUmVmKGUsdCxyLGEpLGEudG9FdWxlckFuZ2xlc1RvUmVmKG4pfSxpLl9VcFJlYWRPbmx5PWkuVXAoKSxpLl9MZWZ0SGFuZGVkRm9yd2FyZFJlYWRPbmx5PWkuRm9yd2FyZCghMSksaS5fUmlnaHRIYW5kZWRGb3J3YXJkUmVhZE9ubHk9aS5Gb3J3YXJkKCEwKSxpLl9SaWdodFJlYWRPbmx5PWkuUmlnaHQoKSxpLl9MZWZ0UmVhZE9ubHk9aS5MZWZ0KCksaS5fWmVyb1JlYWRPbmx5PWkuWmVybygpLGl9KCkseXQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKGUsdCxyLG4pe3RoaXMueD1lLHRoaXMueT10LHRoaXMuej1yLHRoaXMudz1ufXJldHVybiBpLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiJ7WDogIi5jb25jYXQodGhpcy54LCIgWTogIikuY29uY2F0KHRoaXMueSwiIFo6ICIpLmNvbmNhdCh0aGlzLnosIiBXOiAiKS5jb25jYXQodGhpcy53LCJ9Iil9LGkucHJvdG90eXBlLmdldENsYXNzTmFtZT1mdW5jdGlvbigpe3JldHVybiJWZWN0b3I0In0saS5wcm90b3R5cGUuZ2V0SGFzaENvZGU9ZnVuY3Rpb24oKXt2YXIgZT1MZSh0aGlzLngpLHQ9TGUodGhpcy55KSxyPUxlKHRoaXMueiksbj1MZSh0aGlzLncpLGE9ZTtyZXR1cm4gYT1hKjM5N150LGE9YSozOTdecixhPWEqMzk3Xm4sYX0saS5wcm90b3R5cGUuYXNBcnJheT1mdW5jdGlvbigpe3ZhciBlPW5ldyBBcnJheTtyZXR1cm4gdGhpcy50b0FycmF5KGUsMCksZX0saS5wcm90b3R5cGUudG9BcnJheT1mdW5jdGlvbihlLHQpe3JldHVybiB0PT09dm9pZCAwJiYodD0wKSxlW3RdPXRoaXMueCxlW3QrMV09dGhpcy55LGVbdCsyXT10aGlzLnosZVt0KzNdPXRoaXMudyx0aGlzfSxpLnByb3RvdHlwZS5mcm9tQXJyYXk9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD09PXZvaWQgMCYmKHQ9MCksaS5Gcm9tQXJyYXlUb1JlZihlLHQsdGhpcyksdGhpc30saS5wcm90b3R5cGUuYWRkSW5QbGFjZT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy54Kz1lLngsdGhpcy55Kz1lLnksdGhpcy56Kz1lLnosdGhpcy53Kz1lLncsdGhpc30saS5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgaSh0aGlzLngrZS54LHRoaXMueStlLnksdGhpcy56K2Uueix0aGlzLncrZS53KX0saS5wcm90b3R5cGUuYWRkVG9SZWY9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC54PXRoaXMueCtlLngsdC55PXRoaXMueStlLnksdC56PXRoaXMueitlLnosdC53PXRoaXMudytlLncsdGhpc30saS5wcm90b3R5cGUuc3VidHJhY3RJblBsYWNlPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLngtPWUueCx0aGlzLnktPWUueSx0aGlzLnotPWUueix0aGlzLnctPWUudyx0aGlzfSxpLnByb3RvdHlwZS5zdWJ0cmFjdD1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IGkodGhpcy54LWUueCx0aGlzLnktZS55LHRoaXMuei1lLnosdGhpcy53LWUudyl9LGkucHJvdG90eXBlLnN1YnRyYWN0VG9SZWY9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC54PXRoaXMueC1lLngsdC55PXRoaXMueS1lLnksdC56PXRoaXMuei1lLnosdC53PXRoaXMudy1lLncsdGhpc30saS5wcm90b3R5cGUuc3VidHJhY3RGcm9tRmxvYXRzPWZ1bmN0aW9uKGUsdCxyLG4pe3JldHVybiBuZXcgaSh0aGlzLngtZSx0aGlzLnktdCx0aGlzLnotcix0aGlzLnctbil9LGkucHJvdG90eXBlLnN1YnRyYWN0RnJvbUZsb2F0c1RvUmVmPWZ1bmN0aW9uKGUsdCxyLG4sYSl7cmV0dXJuIGEueD10aGlzLngtZSxhLnk9dGhpcy55LXQsYS56PXRoaXMuei1yLGEudz10aGlzLnctbix0aGlzfSxpLnByb3RvdHlwZS5uZWdhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGkoLXRoaXMueCwtdGhpcy55LC10aGlzLnosLXRoaXMudyl9LGkucHJvdG90eXBlLm5lZ2F0ZUluUGxhY2U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy54Kj0tMSx0aGlzLnkqPS0xLHRoaXMueio9LTEsdGhpcy53Kj0tMSx0aGlzfSxpLnByb3RvdHlwZS5uZWdhdGVUb1JlZj1mdW5jdGlvbihlKXtyZXR1cm4gZS5jb3B5RnJvbUZsb2F0cyh0aGlzLngqLTEsdGhpcy55Ki0xLHRoaXMueiotMSx0aGlzLncqLTEpfSxpLnByb3RvdHlwZS5zY2FsZUluUGxhY2U9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMueCo9ZSx0aGlzLnkqPWUsdGhpcy56Kj1lLHRoaXMudyo9ZSx0aGlzfSxpLnByb3RvdHlwZS5zY2FsZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IGkodGhpcy54KmUsdGhpcy55KmUsdGhpcy56KmUsdGhpcy53KmUpfSxpLnByb3RvdHlwZS5zY2FsZVRvUmVmPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQueD10aGlzLngqZSx0Lnk9dGhpcy55KmUsdC56PXRoaXMueiplLHQudz10aGlzLncqZSx0aGlzfSxpLnByb3RvdHlwZS5zY2FsZUFuZEFkZFRvUmVmPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQueCs9dGhpcy54KmUsdC55Kz10aGlzLnkqZSx0LnorPXRoaXMueiplLHQudys9dGhpcy53KmUsdGhpc30saS5wcm90b3R5cGUuZXF1YWxzPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZ0aGlzLng9PT1lLngmJnRoaXMueT09PWUueSYmdGhpcy56PT09ZS56JiZ0aGlzLnc9PT1lLnd9LGkucHJvdG90eXBlLmVxdWFsc1dpdGhFcHNpbG9uPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ9PT12b2lkIDAmJih0PWVlKSxlJiZVLldpdGhpbkVwc2lsb24odGhpcy54LGUueCx0KSYmVS5XaXRoaW5FcHNpbG9uKHRoaXMueSxlLnksdCkmJlUuV2l0aGluRXBzaWxvbih0aGlzLnosZS56LHQpJiZVLldpdGhpbkVwc2lsb24odGhpcy53LGUudyx0KX0saS5wcm90b3R5cGUuZXF1YWxzVG9GbG9hdHM9ZnVuY3Rpb24oZSx0LHIsbil7cmV0dXJuIHRoaXMueD09PWUmJnRoaXMueT09PXQmJnRoaXMuej09PXImJnRoaXMudz09PW59LGkucHJvdG90eXBlLm11bHRpcGx5SW5QbGFjZT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy54Kj1lLngsdGhpcy55Kj1lLnksdGhpcy56Kj1lLnosdGhpcy53Kj1lLncsdGhpc30saS5wcm90b3R5cGUubXVsdGlwbHk9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBpKHRoaXMueCplLngsdGhpcy55KmUueSx0aGlzLnoqZS56LHRoaXMudyplLncpfSxpLnByb3RvdHlwZS5tdWx0aXBseVRvUmVmPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQueD10aGlzLngqZS54LHQueT10aGlzLnkqZS55LHQuej10aGlzLnoqZS56LHQudz10aGlzLncqZS53LHRoaXN9LGkucHJvdG90eXBlLm11bHRpcGx5QnlGbG9hdHM9ZnVuY3Rpb24oZSx0LHIsbil7cmV0dXJuIG5ldyBpKHRoaXMueCplLHRoaXMueSp0LHRoaXMueipyLHRoaXMudypuKX0saS5wcm90b3R5cGUuZGl2aWRlPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgaSh0aGlzLngvZS54LHRoaXMueS9lLnksdGhpcy56L2Uueix0aGlzLncvZS53KX0saS5wcm90b3R5cGUuZGl2aWRlVG9SZWY9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC54PXRoaXMueC9lLngsdC55PXRoaXMueS9lLnksdC56PXRoaXMuei9lLnosdC53PXRoaXMudy9lLncsdGhpc30saS5wcm90b3R5cGUuZGl2aWRlSW5QbGFjZT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5kaXZpZGVUb1JlZihlLHRoaXMpfSxpLnByb3RvdHlwZS5taW5pbWl6ZUluUGxhY2U9ZnVuY3Rpb24oZSl7cmV0dXJuIGUueDx0aGlzLngmJih0aGlzLng9ZS54KSxlLnk8dGhpcy55JiYodGhpcy55PWUueSksZS56PHRoaXMueiYmKHRoaXMuej1lLnopLGUudzx0aGlzLncmJih0aGlzLnc9ZS53KSx0aGlzfSxpLnByb3RvdHlwZS5tYXhpbWl6ZUluUGxhY2U9ZnVuY3Rpb24oZSl7cmV0dXJuIGUueD50aGlzLngmJih0aGlzLng9ZS54KSxlLnk+dGhpcy55JiYodGhpcy55PWUueSksZS56PnRoaXMueiYmKHRoaXMuej1lLnopLGUudz50aGlzLncmJih0aGlzLnc9ZS53KSx0aGlzfSxpLnByb3RvdHlwZS5mbG9vcj1mdW5jdGlvbigpe3JldHVybiBuZXcgaShNYXRoLmZsb29yKHRoaXMueCksTWF0aC5mbG9vcih0aGlzLnkpLE1hdGguZmxvb3IodGhpcy56KSxNYXRoLmZsb29yKHRoaXMudykpfSxpLnByb3RvdHlwZS5mcmFjdD1mdW5jdGlvbigpe3JldHVybiBuZXcgaSh0aGlzLngtTWF0aC5mbG9vcih0aGlzLngpLHRoaXMueS1NYXRoLmZsb29yKHRoaXMueSksdGhpcy56LU1hdGguZmxvb3IodGhpcy56KSx0aGlzLnctTWF0aC5mbG9vcih0aGlzLncpKX0saS5wcm90b3R5cGUubGVuZ3RoPWZ1bmN0aW9uKCl7cmV0dXJuIE1hdGguc3FydCh0aGlzLngqdGhpcy54K3RoaXMueSp0aGlzLnkrdGhpcy56KnRoaXMueit0aGlzLncqdGhpcy53KX0saS5wcm90b3R5cGUubGVuZ3RoU3F1YXJlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLngqdGhpcy54K3RoaXMueSp0aGlzLnkrdGhpcy56KnRoaXMueit0aGlzLncqdGhpcy53fSxpLnByb3RvdHlwZS5ub3JtYWxpemU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmxlbmd0aCgpO3JldHVybiBlPT09MD90aGlzOnRoaXMuc2NhbGVJblBsYWNlKDEvZSl9LGkucHJvdG90eXBlLnRvVmVjdG9yMz1mdW5jdGlvbigpe3JldHVybiBuZXcgYih0aGlzLngsdGhpcy55LHRoaXMueil9LGkucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBpKHRoaXMueCx0aGlzLnksdGhpcy56LHRoaXMudyl9LGkucHJvdG90eXBlLmNvcHlGcm9tPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLng9ZS54LHRoaXMueT1lLnksdGhpcy56PWUueix0aGlzLnc9ZS53LHRoaXN9LGkucHJvdG90eXBlLmNvcHlGcm9tRmxvYXRzPWZ1bmN0aW9uKGUsdCxyLG4pe3JldHVybiB0aGlzLng9ZSx0aGlzLnk9dCx0aGlzLno9cix0aGlzLnc9bix0aGlzfSxpLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24oZSx0LHIsbil7cmV0dXJuIHRoaXMuY29weUZyb21GbG9hdHMoZSx0LHIsbil9LGkucHJvdG90eXBlLnNldEFsbD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy54PXRoaXMueT10aGlzLno9dGhpcy53PWUsdGhpc30saS5Gcm9tQXJyYXk9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdHx8KHQ9MCksbmV3IGkoZVt0XSxlW3QrMV0sZVt0KzJdLGVbdCszXSl9LGkuRnJvbUFycmF5VG9SZWY9ZnVuY3Rpb24oZSx0LHIpe3IueD1lW3RdLHIueT1lW3QrMV0sci56PWVbdCsyXSxyLnc9ZVt0KzNdfSxpLkZyb21GbG9hdEFycmF5VG9SZWY9ZnVuY3Rpb24oZSx0LHIpe2kuRnJvbUFycmF5VG9SZWYoZSx0LHIpfSxpLkZyb21GbG9hdHNUb1JlZj1mdW5jdGlvbihlLHQscixuLGEpe2EueD1lLGEueT10LGEuej1yLGEudz1ufSxpLlplcm89ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGkoMCwwLDAsMCl9LGkuT25lPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBpKDEsMSwxLDEpfSxpLk5vcm1hbGl6ZT1mdW5jdGlvbihlKXt2YXIgdD1pLlplcm8oKTtyZXR1cm4gaS5Ob3JtYWxpemVUb1JlZihlLHQpLHR9LGkuTm9ybWFsaXplVG9SZWY9ZnVuY3Rpb24oZSx0KXt0LmNvcHlGcm9tKGUpLHQubm9ybWFsaXplKCl9LGkuTWluaW1pemU9ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLmNsb25lKCk7cmV0dXJuIHIubWluaW1pemVJblBsYWNlKHQpLHJ9LGkuTWF4aW1pemU9ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLmNsb25lKCk7cmV0dXJuIHIubWF4aW1pemVJblBsYWNlKHQpLHJ9LGkuRGlzdGFuY2U9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gTWF0aC5zcXJ0KGkuRGlzdGFuY2VTcXVhcmVkKGUsdCkpfSxpLkRpc3RhbmNlU3F1YXJlZD1mdW5jdGlvbihlLHQpe3ZhciByPWUueC10Lngsbj1lLnktdC55LGE9ZS56LXQueixzPWUudy10Lnc7cmV0dXJuIHIqcituKm4rYSphK3Mqc30saS5DZW50ZXI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gaS5DZW50ZXJUb1JlZihlLHQsaS5aZXJvKCkpfSxpLkNlbnRlclRvUmVmPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gci5jb3B5RnJvbUZsb2F0cygoZS54K3QueCkvMiwoZS55K3QueSkvMiwoZS56K3QueikvMiwoZS53K3QudykvMil9LGkuVHJhbnNmb3JtQ29vcmRpbmF0ZXM9ZnVuY3Rpb24oZSx0KXt2YXIgcj1pLlplcm8oKTtyZXR1cm4gaS5UcmFuc2Zvcm1Db29yZGluYXRlc1RvUmVmKGUsdCxyKSxyfSxpLlRyYW5zZm9ybUNvb3JkaW5hdGVzVG9SZWY9ZnVuY3Rpb24oZSx0LHIpe2kuVHJhbnNmb3JtQ29vcmRpbmF0ZXNGcm9tRmxvYXRzVG9SZWYoZS5feCxlLl95LGUuX3osdCxyKX0saS5UcmFuc2Zvcm1Db29yZGluYXRlc0Zyb21GbG9hdHNUb1JlZj1mdW5jdGlvbihlLHQscixuLGEpe3ZhciBzPW4ubSxvPWUqc1swXSt0KnNbNF0rcipzWzhdK3NbMTJdLHU9ZSpzWzFdK3Qqc1s1XStyKnNbOV0rc1sxM10sZj1lKnNbMl0rdCpzWzZdK3Iqc1sxMF0rc1sxNF0sbD1lKnNbM10rdCpzWzddK3Iqc1sxMV0rc1sxNV07YS54PW8sYS55PXUsYS56PWYsYS53PWx9LGkuVHJhbnNmb3JtTm9ybWFsPWZ1bmN0aW9uKGUsdCl7dmFyIHI9aS5aZXJvKCk7cmV0dXJuIGkuVHJhbnNmb3JtTm9ybWFsVG9SZWYoZSx0LHIpLHJ9LGkuVHJhbnNmb3JtTm9ybWFsVG9SZWY9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXQubSxhPWUueCpuWzBdK2UueSpuWzRdK2UueipuWzhdLHM9ZS54Km5bMV0rZS55Km5bNV0rZS56Km5bOV0sbz1lLngqblsyXStlLnkqbls2XStlLnoqblsxMF07ci54PWEsci55PXMsci56PW8sci53PWUud30saS5UcmFuc2Zvcm1Ob3JtYWxGcm9tRmxvYXRzVG9SZWY9ZnVuY3Rpb24oZSx0LHIsbixhLHMpe3ZhciBvPWEubTtzLng9ZSpvWzBdK3Qqb1s0XStyKm9bOF0scy55PWUqb1sxXSt0Km9bNV0rcipvWzldLHMuej1lKm9bMl0rdCpvWzZdK3Iqb1sxMF0scy53PW59LGkuRnJvbVZlY3RvcjM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD09PXZvaWQgMCYmKHQ9MCksbmV3IGkoZS5feCxlLl95LGUuX3osdCl9LGl9KCksc2U9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKGUsdCxyLG4pe2U9PT12b2lkIDAmJihlPTApLHQ9PT12b2lkIDAmJih0PTApLHI9PT12b2lkIDAmJihyPTApLG49PT12b2lkIDAmJihuPTEpLHRoaXMuX2lzRGlydHk9ITAsdGhpcy5feD1lLHRoaXMuX3k9dCx0aGlzLl96PXIsdGhpcy5fdz1ufXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsIngiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5feH0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX3g9ZSx0aGlzLl9pc0RpcnR5PSEwfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwieSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl95fSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5feT1lLHRoaXMuX2lzRGlydHk9ITB9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJ6Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3p9LHNldDpmdW5jdGlvbihlKXt0aGlzLl96PWUsdGhpcy5faXNEaXJ0eT0hMH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsInciLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fd30sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX3c9ZSx0aGlzLl9pc0RpcnR5PSEwfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIntYOiAiLmNvbmNhdCh0aGlzLl94LCIgWTogIikuY29uY2F0KHRoaXMuX3ksIiBaOiAiKS5jb25jYXQodGhpcy5feiwiIFc6ICIpLmNvbmNhdCh0aGlzLl93LCJ9Iil9LGkucHJvdG90eXBlLmdldENsYXNzTmFtZT1mdW5jdGlvbigpe3JldHVybiJRdWF0ZXJuaW9uIn0saS5wcm90b3R5cGUuZ2V0SGFzaENvZGU9ZnVuY3Rpb24oKXt2YXIgZT1MZSh0aGlzLl94KSx0PUxlKHRoaXMuX3kpLHI9TGUodGhpcy5feiksbj1MZSh0aGlzLl93KSxhPWU7cmV0dXJuIGE9YSozOTdedCxhPWEqMzk3XnIsYT1hKjM5N15uLGF9LGkucHJvdG90eXBlLmFzQXJyYXk9ZnVuY3Rpb24oKXtyZXR1cm5bdGhpcy5feCx0aGlzLl95LHRoaXMuX3osdGhpcy5fd119LGkucHJvdG90eXBlLmVxdWFscz1mdW5jdGlvbihlKXtyZXR1cm4gZSYmdGhpcy5feD09PWUuX3gmJnRoaXMuX3k9PT1lLl95JiZ0aGlzLl96PT09ZS5feiYmdGhpcy5fdz09PWUuX3d9LGkucHJvdG90eXBlLmVxdWFsc1dpdGhFcHNpbG9uPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ9PT12b2lkIDAmJih0PWVlKSxlJiZVLldpdGhpbkVwc2lsb24odGhpcy5feCxlLl94LHQpJiZVLldpdGhpbkVwc2lsb24odGhpcy5feSxlLl95LHQpJiZVLldpdGhpbkVwc2lsb24odGhpcy5feixlLl96LHQpJiZVLldpdGhpbkVwc2lsb24odGhpcy5fdyxlLl93LHQpfSxpLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgaSh0aGlzLl94LHRoaXMuX3ksdGhpcy5feix0aGlzLl93KX0saS5wcm90b3R5cGUuY29weUZyb209ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMueD1lLl94LHRoaXMueT1lLl95LHRoaXMuej1lLl96LHRoaXMudz1lLl93LHRoaXN9LGkucHJvdG90eXBlLmNvcHlGcm9tRmxvYXRzPWZ1bmN0aW9uKGUsdCxyLG4pe3JldHVybiB0aGlzLng9ZSx0aGlzLnk9dCx0aGlzLno9cix0aGlzLnc9bix0aGlzfSxpLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24oZSx0LHIsbil7cmV0dXJuIHRoaXMuY29weUZyb21GbG9hdHMoZSx0LHIsbil9LGkucHJvdG90eXBlLmFkZD1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IGkodGhpcy5feCtlLl94LHRoaXMuX3krZS5feSx0aGlzLl96K2UuX3osdGhpcy5fdytlLl93KX0saS5wcm90b3R5cGUuYWRkSW5QbGFjZT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5feCs9ZS5feCx0aGlzLl95Kz1lLl95LHRoaXMuX3orPWUuX3osdGhpcy5fdys9ZS5fdyx0aGlzfSxpLnByb3RvdHlwZS5zdWJ0cmFjdD1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IGkodGhpcy5feC1lLl94LHRoaXMuX3ktZS5feSx0aGlzLl96LWUuX3osdGhpcy5fdy1lLl93KX0saS5wcm90b3R5cGUuc3VidHJhY3RJblBsYWNlPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl94LT1lLl94LHRoaXMuX3ktPWUuX3ksdGhpcy5fei09ZS5feix0aGlzLl93LT1lLl93LHRoaXN9LGkucHJvdG90eXBlLnNjYWxlPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgaSh0aGlzLl94KmUsdGhpcy5feSplLHRoaXMuX3oqZSx0aGlzLl93KmUpfSxpLnByb3RvdHlwZS5zY2FsZVRvUmVmPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQueD10aGlzLl94KmUsdC55PXRoaXMuX3kqZSx0Lno9dGhpcy5feiplLHQudz10aGlzLl93KmUsdGhpc30saS5wcm90b3R5cGUuc2NhbGVJblBsYWNlPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLngqPWUsdGhpcy55Kj1lLHRoaXMueio9ZSx0aGlzLncqPWUsdGhpc30saS5wcm90b3R5cGUuc2NhbGVBbmRBZGRUb1JlZj1mdW5jdGlvbihlLHQpe3JldHVybiB0LngrPXRoaXMuX3gqZSx0LnkrPXRoaXMuX3kqZSx0LnorPXRoaXMuX3oqZSx0LncrPXRoaXMuX3cqZSx0aGlzfSxpLnByb3RvdHlwZS5tdWx0aXBseT1mdW5jdGlvbihlKXt2YXIgdD1uZXcgaSgwLDAsMCwxKTtyZXR1cm4gdGhpcy5tdWx0aXBseVRvUmVmKGUsdCksdH0saS5wcm90b3R5cGUubXVsdGlwbHlUb1JlZj1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXMuX3gqZS5fdyt0aGlzLl95KmUuX3otdGhpcy5feiplLl95K3RoaXMuX3cqZS5feCxuPS10aGlzLl94KmUuX3ordGhpcy5feSplLl93K3RoaXMuX3oqZS5feCt0aGlzLl93KmUuX3ksYT10aGlzLl94KmUuX3ktdGhpcy5feSplLl94K3RoaXMuX3oqZS5fdyt0aGlzLl93KmUuX3oscz0tdGhpcy5feCplLl94LXRoaXMuX3kqZS5feS10aGlzLl96KmUuX3ordGhpcy5fdyplLl93O3JldHVybiB0LmNvcHlGcm9tRmxvYXRzKHIsbixhLHMpLHRoaXN9LGkucHJvdG90eXBlLm11bHRpcGx5SW5QbGFjZT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5tdWx0aXBseVRvUmVmKGUsdGhpcyksdGhpc30saS5wcm90b3R5cGUuY29uanVnYXRlVG9SZWY9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuY29weUZyb21GbG9hdHMoLXRoaXMuX3gsLXRoaXMuX3ksLXRoaXMuX3osdGhpcy5fdyksdGhpc30saS5wcm90b3R5cGUuY29uanVnYXRlSW5QbGFjZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLngqPS0xLHRoaXMueSo9LTEsdGhpcy56Kj0tMSx0aGlzfSxpLnByb3RvdHlwZS5jb25qdWdhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGkoLXRoaXMuX3gsLXRoaXMuX3ksLXRoaXMuX3osdGhpcy5fdyl9LGkucHJvdG90eXBlLmludmVydD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuY29uanVnYXRlKCksdD10aGlzLmxlbmd0aFNxdWFyZWQoKTtyZXR1cm4gdD09MHx8dD09MXx8ZS5zY2FsZUluUGxhY2UoMS90KSxlfSxpLnByb3RvdHlwZS5pbnZlcnRJblBsYWNlPWZ1bmN0aW9uKCl7dGhpcy5jb25qdWdhdGVJblBsYWNlKCk7dmFyIGU9dGhpcy5sZW5ndGhTcXVhcmVkKCk7cmV0dXJuIGU9PTB8fGU9PTE/dGhpczoodGhpcy5zY2FsZUluUGxhY2UoMS9lKSx0aGlzKX0saS5wcm90b3R5cGUubGVuZ3RoU3F1YXJlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl94KnRoaXMuX3grdGhpcy5feSp0aGlzLl95K3RoaXMuX3oqdGhpcy5feit0aGlzLl93KnRoaXMuX3d9LGkucHJvdG90eXBlLmxlbmd0aD1mdW5jdGlvbigpe3JldHVybiBNYXRoLnNxcnQodGhpcy5sZW5ndGhTcXVhcmVkKCkpfSxpLnByb3RvdHlwZS5ub3JtYWxpemU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmxlbmd0aCgpO2lmKGU9PT0wKXJldHVybiB0aGlzO3ZhciB0PTEvZTtyZXR1cm4gdGhpcy5zY2FsZUluUGxhY2UodCksdGhpc30saS5wcm90b3R5cGUubm9ybWFsaXplVG9OZXc9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmxlbmd0aCgpO2lmKGU9PT0wKXJldHVybiB0aGlzLmNsb25lKCk7dmFyIHQ9MS9lO3JldHVybiB0aGlzLnNjYWxlKHQpfSxpLnByb3RvdHlwZS50b0V1bGVyQW5nbGVzPWZ1bmN0aW9uKCl7dmFyIGU9Yi5aZXJvKCk7cmV0dXJuIHRoaXMudG9FdWxlckFuZ2xlc1RvUmVmKGUpLGV9LGkucHJvdG90eXBlLnRvRXVsZXJBbmdsZXNUb1JlZj1mdW5jdGlvbihlKXt2YXIgdD10aGlzLl96LHI9dGhpcy5feCxuPXRoaXMuX3ksYT10aGlzLl93LHM9bip0LXIqYSxvPS40OTk5OTk5O2lmKHM8LW8pZS55PTIqTWF0aC5hdGFuMihuLGEpLGUueD1NYXRoLlBJLzIsZS56PTA7ZWxzZSBpZihzPm8pZS55PTIqTWF0aC5hdGFuMihuLGEpLGUueD0tTWF0aC5QSS8yLGUuej0wO2Vsc2V7dmFyIHU9YSphLGY9dCp0LGw9cipyLGg9bipuO2Uuej1NYXRoLmF0YW4yKDIqKHIqbit0KmEpLC1mLWwraCt1KSxlLng9TWF0aC5hc2luKC0yKnMpLGUueT1NYXRoLmF0YW4yKDIqKHQqcituKmEpLGYtbC1oK3UpfXJldHVybiB0aGlzfSxpLnByb3RvdHlwZS50b1JvdGF0aW9uTWF0cml4PWZ1bmN0aW9uKGUpe3JldHVybiBJLkZyb21RdWF0ZXJuaW9uVG9SZWYodGhpcyxlKSx0aGlzfSxpLnByb3RvdHlwZS5mcm9tUm90YXRpb25NYXRyaXg9ZnVuY3Rpb24oZSl7cmV0dXJuIGkuRnJvbVJvdGF0aW9uTWF0cml4VG9SZWYoZSx0aGlzKSx0aGlzfSxpLkZyb21Sb3RhdGlvbk1hdHJpeD1mdW5jdGlvbihlKXt2YXIgdD1uZXcgaTtyZXR1cm4gaS5Gcm9tUm90YXRpb25NYXRyaXhUb1JlZihlLHQpLHR9LGkuRnJvbVJvdGF0aW9uTWF0cml4VG9SZWY9ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLm0sbj1yWzBdLGE9cls0XSxzPXJbOF0sbz1yWzFdLHU9cls1XSxmPXJbOV0sbD1yWzJdLGg9cls2XSxjPXJbMTBdLGQ9bit1K2MscDtkPjA/KHA9LjUvTWF0aC5zcXJ0KGQrMSksdC53PS4yNS9wLHQueD0oaC1mKSpwLHQueT0ocy1sKSpwLHQuej0oby1hKSpwKTpuPnUmJm4+Yz8ocD0yKk1hdGguc3FydCgxK24tdS1jKSx0Lnc9KGgtZikvcCx0Lng9LjI1KnAsdC55PShhK28pL3AsdC56PShzK2wpL3ApOnU+Yz8ocD0yKk1hdGguc3FydCgxK3Utbi1jKSx0Lnc9KHMtbCkvcCx0Lng9KGErbykvcCx0Lnk9LjI1KnAsdC56PShmK2gpL3ApOihwPTIqTWF0aC5zcXJ0KDErYy1uLXUpLHQudz0oby1hKS9wLHQueD0ocytsKS9wLHQueT0oZitoKS9wLHQuej0uMjUqcCl9LGkuRG90PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuX3gqdC5feCtlLl95KnQuX3krZS5feip0Ll96K2UuX3cqdC5fd30saS5BcmVDbG9zZT1mdW5jdGlvbihlLHQpe3ZhciByPWkuRG90KGUsdCk7cmV0dXJuIHI+PTB9LGkuU21vb3RoVG9SZWY9ZnVuY3Rpb24oZSx0LHIsbixhKXt2YXIgcz1uPT09MD8xOnIvbjtzPVUuQ2xhbXAocywwLDEpLGkuU2xlcnBUb1JlZihlLHQscyxhKX0saS5aZXJvPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBpKDAsMCwwLDApfSxpLkludmVyc2U9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBpKC1lLl94LC1lLl95LC1lLl96LGUuX3cpfSxpLkludmVyc2VUb1JlZj1mdW5jdGlvbihlLHQpe3JldHVybiB0LnNldCgtZS5feCwtZS5feSwtZS5feixlLl93KSx0fSxpLklkZW50aXR5PWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBpKDAsMCwwLDEpfSxpLklzSWRlbnRpdHk9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuX3g9PT0wJiZlLl95PT09MCYmZS5fej09PTAmJmUuX3c9PT0xfSxpLlJvdGF0aW9uQXhpcz1mdW5jdGlvbihlLHQpe3JldHVybiBpLlJvdGF0aW9uQXhpc1RvUmVmKGUsdCxuZXcgaSl9LGkuUm90YXRpb25BeGlzVG9SZWY9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPU1hdGguc2luKHQvMik7cmV0dXJuIGUubm9ybWFsaXplKCksci53PU1hdGguY29zKHQvMiksci54PWUuX3gqbixyLnk9ZS5feSpuLHIuej1lLl96Km4scn0saS5Gcm9tQXJyYXk9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdHx8KHQ9MCksbmV3IGkoZVt0XSxlW3QrMV0sZVt0KzJdLGVbdCszXSl9LGkuRnJvbUFycmF5VG9SZWY9ZnVuY3Rpb24oZSx0LHIpe3IueD1lW3RdLHIueT1lW3QrMV0sci56PWVbdCsyXSxyLnc9ZVt0KzNdfSxpLkZyb21FdWxlckFuZ2xlcz1mdW5jdGlvbihlLHQscil7dmFyIG49bmV3IGk7cmV0dXJuIGkuUm90YXRpb25ZYXdQaXRjaFJvbGxUb1JlZih0LGUscixuKSxufSxpLkZyb21FdWxlckFuZ2xlc1RvUmVmPWZ1bmN0aW9uKGUsdCxyLG4pe3JldHVybiBpLlJvdGF0aW9uWWF3UGl0Y2hSb2xsVG9SZWYodCxlLHIsbiksbn0saS5Gcm9tRXVsZXJWZWN0b3I9ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IGk7cmV0dXJuIGkuUm90YXRpb25ZYXdQaXRjaFJvbGxUb1JlZihlLl95LGUuX3gsZS5feix0KSx0fSxpLkZyb21FdWxlclZlY3RvclRvUmVmPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGkuUm90YXRpb25ZYXdQaXRjaFJvbGxUb1JlZihlLl95LGUuX3gsZS5feix0KSx0fSxpLkZyb21Vbml0VmVjdG9yc1RvUmVmPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1iLkRvdChlLHQpKzE7cmV0dXJuIG48ZWU/TWF0aC5hYnMoZS54KT5NYXRoLmFicyhlLnopP3Iuc2V0KC1lLnksZS54LDAsMCk6ci5zZXQoMCwtZS56LGUueSwwKTooYi5Dcm9zc1RvUmVmKGUsdCxELlZlY3RvcjNbMF0pLHIuc2V0KEQuVmVjdG9yM1swXS54LEQuVmVjdG9yM1swXS55LEQuVmVjdG9yM1swXS56LG4pKSxyLm5vcm1hbGl6ZSgpfSxpLlJvdGF0aW9uWWF3UGl0Y2hSb2xsPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1uZXcgaTtyZXR1cm4gaS5Sb3RhdGlvbllhd1BpdGNoUm9sbFRvUmVmKGUsdCxyLG4pLG59LGkuUm90YXRpb25ZYXdQaXRjaFJvbGxUb1JlZj1mdW5jdGlvbihlLHQscixuKXt2YXIgYT1yKi41LHM9dCouNSxvPWUqLjUsdT1NYXRoLnNpbihhKSxmPU1hdGguY29zKGEpLGw9TWF0aC5zaW4ocyksaD1NYXRoLmNvcyhzKSxjPU1hdGguc2luKG8pLGQ9TWF0aC5jb3Mobyk7bi54PWQqbCpmK2MqaCp1LG4ueT1jKmgqZi1kKmwqdSxuLno9ZCpoKnUtYypsKmYsbi53PWQqaCpmK2MqbCp1fSxpLlJvdGF0aW9uQWxwaGFCZXRhR2FtbWE9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPW5ldyBpO3JldHVybiBpLlJvdGF0aW9uQWxwaGFCZXRhR2FtbWFUb1JlZihlLHQscixuKSxufSxpLlJvdGF0aW9uQWxwaGFCZXRhR2FtbWFUb1JlZj1mdW5jdGlvbihlLHQscixuKXt2YXIgYT0ocitlKSouNSxzPShyLWUpKi41LG89dCouNTtuLng9TWF0aC5jb3MocykqTWF0aC5zaW4obyksbi55PU1hdGguc2luKHMpKk1hdGguc2luKG8pLG4uej1NYXRoLnNpbihhKSpNYXRoLmNvcyhvKSxuLnc9TWF0aC5jb3MoYSkqTWF0aC5jb3Mobyl9LGkuUm90YXRpb25RdWF0ZXJuaW9uRnJvbUF4aXM9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPW5ldyBpKDAsMCwwLDApO3JldHVybiBpLlJvdGF0aW9uUXVhdGVybmlvbkZyb21BeGlzVG9SZWYoZSx0LHIsbiksbn0saS5Sb3RhdGlvblF1YXRlcm5pb25Gcm9tQXhpc1RvUmVmPWZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBhPVYuTWF0cml4WzBdO0kuRnJvbVhZWkF4ZXNUb1JlZihlLm5vcm1hbGl6ZSgpLHQubm9ybWFsaXplKCksci5ub3JtYWxpemUoKSxhKSxpLkZyb21Sb3RhdGlvbk1hdHJpeFRvUmVmKGEsbil9LGkuRnJvbUxvb2tEaXJlY3Rpb25MSD1mdW5jdGlvbihlLHQpe3ZhciByPW5ldyBpO3JldHVybiBpLkZyb21Mb29rRGlyZWN0aW9uTEhUb1JlZihlLHQscikscn0saS5Gcm9tTG9va0RpcmVjdGlvbkxIVG9SZWY9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPVYuTWF0cml4WzBdO0kuTG9va0RpcmVjdGlvbkxIVG9SZWYoZSx0LG4pLGkuRnJvbVJvdGF0aW9uTWF0cml4VG9SZWYobixyKX0saS5Gcm9tTG9va0RpcmVjdGlvblJIPWZ1bmN0aW9uKGUsdCl7dmFyIHI9bmV3IGk7cmV0dXJuIGkuRnJvbUxvb2tEaXJlY3Rpb25SSFRvUmVmKGUsdCxyKSxyfSxpLkZyb21Mb29rRGlyZWN0aW9uUkhUb1JlZj1mdW5jdGlvbihlLHQscil7dmFyIG49Vi5NYXRyaXhbMF07cmV0dXJuIEkuTG9va0RpcmVjdGlvblJIVG9SZWYoZSx0LG4pLGkuRnJvbVJvdGF0aW9uTWF0cml4VG9SZWYobixyKX0saS5TbGVycD1mdW5jdGlvbihlLHQscil7dmFyIG49aS5JZGVudGl0eSgpO3JldHVybiBpLlNsZXJwVG9SZWYoZSx0LHIsbiksbn0saS5TbGVycFRvUmVmPWZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBhLHMsbz1lLl94KnQuX3grZS5feSp0Ll95K2UuX3oqdC5feitlLl93KnQuX3csdT0hMTtpZihvPDAmJih1PSEwLG89LW8pLG8+Ljk5OTk5OSlzPTEtcixhPXU/LXI6cjtlbHNle3ZhciBmPU1hdGguYWNvcyhvKSxsPTEvTWF0aC5zaW4oZik7cz1NYXRoLnNpbigoMS1yKSpmKSpsLGE9dT8tTWF0aC5zaW4ocipmKSpsOk1hdGguc2luKHIqZikqbH1uLng9cyplLl94K2EqdC5feCxuLnk9cyplLl95K2EqdC5feSxuLno9cyplLl96K2EqdC5feixuLnc9cyplLl93K2EqdC5fd30saS5IZXJtaXRlPWZ1bmN0aW9uKGUsdCxyLG4sYSl7dmFyIHM9YSphLG89YSpzLHU9MipvLTMqcysxLGY9LTIqbyszKnMsbD1vLTIqcythLGg9by1zLGM9ZS5feCp1K3IuX3gqZit0Ll94Kmwrbi5feCpoLGQ9ZS5feSp1K3IuX3kqZit0Ll95Kmwrbi5feSpoLHA9ZS5feip1K3IuX3oqZit0Ll96Kmwrbi5feipoLGc9ZS5fdyp1K3IuX3cqZit0Ll93Kmwrbi5fdypoO3JldHVybiBuZXcgaShjLGQscCxnKX0saS5IZXJtaXRlMXN0RGVyaXZhdGl2ZT1mdW5jdGlvbihlLHQscixuLGEpe3ZhciBzPWkuWmVybygpO3JldHVybiB0aGlzLkhlcm1pdGUxc3REZXJpdmF0aXZlVG9SZWYoZSx0LHIsbixhLHMpLHN9LGkuSGVybWl0ZTFzdERlcml2YXRpdmVUb1JlZj1mdW5jdGlvbihlLHQscixuLGEscyl7dmFyIG89YSphO3MueD0oby1hKSo2KmUueCsoMypvLTQqYSsxKSp0LngrKC1vK2EpKjYqci54KygzKm8tMiphKSpuLngscy55PShvLWEpKjYqZS55KygzKm8tNCphKzEpKnQueSsoLW8rYSkqNipyLnkrKDMqby0yKmEpKm4ueSxzLno9KG8tYSkqNiplLnorKDMqby00KmErMSkqdC56KygtbythKSo2KnIueisoMypvLTIqYSkqbi56LHMudz0oby1hKSo2KmUudysoMypvLTQqYSsxKSp0LncrKC1vK2EpKjYqci53KygzKm8tMiphKSpuLnd9LGl9KCksST1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoKXt0aGlzLl9pc0lkZW50aXR5PSExLHRoaXMuX2lzSWRlbnRpdHlEaXJ0eT0hMCx0aGlzLl9pc0lkZW50aXR5M3gyPSEwLHRoaXMuX2lzSWRlbnRpdHkzeDJEaXJ0eT0hMCx0aGlzLnVwZGF0ZUZsYWc9LTEsQ3QuTWF0cml4VHJhY2tQcmVjaXNpb25DaGFuZ2UmJkN0Lk1hdHJpeFRyYWNrZWRNYXRyaWNlcy5wdXNoKHRoaXMpLHRoaXMuX209bmV3IEN0Lk1hdHJpeEN1cnJlbnRUeXBlKDE2KSx0aGlzLm1hcmtBc1VwZGF0ZWQoKX1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGksIlVzZTY0Qml0cyIse2dldDpmdW5jdGlvbigpe3JldHVybiBDdC5NYXRyaXhVc2U2NEJpdHN9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJtIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX219LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksaS5wcm90b3R5cGUubWFya0FzVXBkYXRlZD1mdW5jdGlvbigpe3RoaXMudXBkYXRlRmxhZz1pLl9VcGRhdGVGbGFnU2VlZCsrLHRoaXMuX2lzSWRlbnRpdHk9ITEsdGhpcy5faXNJZGVudGl0eTN4Mj0hMSx0aGlzLl9pc0lkZW50aXR5RGlydHk9ITAsdGhpcy5faXNJZGVudGl0eTN4MkRpcnR5PSEwfSxpLnByb3RvdHlwZS5fdXBkYXRlSWRlbnRpdHlTdGF0dXM9ZnVuY3Rpb24oZSx0LHIsbil7dD09PXZvaWQgMCYmKHQ9ITEpLHI9PT12b2lkIDAmJihyPSExKSxuPT09dm9pZCAwJiYobj0hMCksdGhpcy5faXNJZGVudGl0eT1lLHRoaXMuX2lzSWRlbnRpdHkzeDI9ZXx8cix0aGlzLl9pc0lkZW50aXR5RGlydHk9dGhpcy5faXNJZGVudGl0eT8hMTp0LHRoaXMuX2lzSWRlbnRpdHkzeDJEaXJ0eT10aGlzLl9pc0lkZW50aXR5M3gyPyExOm59LGkucHJvdG90eXBlLmlzSWRlbnRpdHk9ZnVuY3Rpb24oKXtpZih0aGlzLl9pc0lkZW50aXR5RGlydHkpe3RoaXMuX2lzSWRlbnRpdHlEaXJ0eT0hMTt2YXIgZT10aGlzLl9tO3RoaXMuX2lzSWRlbnRpdHk9ZVswXT09PTEmJmVbMV09PT0wJiZlWzJdPT09MCYmZVszXT09PTAmJmVbNF09PT0wJiZlWzVdPT09MSYmZVs2XT09PTAmJmVbN109PT0wJiZlWzhdPT09MCYmZVs5XT09PTAmJmVbMTBdPT09MSYmZVsxMV09PT0wJiZlWzEyXT09PTAmJmVbMTNdPT09MCYmZVsxNF09PT0wJiZlWzE1XT09PTF9cmV0dXJuIHRoaXMuX2lzSWRlbnRpdHl9LGkucHJvdG90eXBlLmlzSWRlbnRpdHlBczN4Mj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9pc0lkZW50aXR5M3gyRGlydHkmJih0aGlzLl9pc0lkZW50aXR5M3gyRGlydHk9ITEsdGhpcy5fbVswXSE9PTF8fHRoaXMuX21bNV0hPT0xfHx0aGlzLl9tWzE1XSE9PTE/dGhpcy5faXNJZGVudGl0eTN4Mj0hMTp0aGlzLl9tWzFdIT09MHx8dGhpcy5fbVsyXSE9PTB8fHRoaXMuX21bM10hPT0wfHx0aGlzLl9tWzRdIT09MHx8dGhpcy5fbVs2XSE9PTB8fHRoaXMuX21bN10hPT0wfHx0aGlzLl9tWzhdIT09MHx8dGhpcy5fbVs5XSE9PTB8fHRoaXMuX21bMTBdIT09MHx8dGhpcy5fbVsxMV0hPT0wfHx0aGlzLl9tWzEyXSE9PTB8fHRoaXMuX21bMTNdIT09MHx8dGhpcy5fbVsxNF0hPT0wP3RoaXMuX2lzSWRlbnRpdHkzeDI9ITE6dGhpcy5faXNJZGVudGl0eTN4Mj0hMCksdGhpcy5faXNJZGVudGl0eTN4Mn0saS5wcm90b3R5cGUuZGV0ZXJtaW5hbnQ9ZnVuY3Rpb24oKXtpZih0aGlzLl9pc0lkZW50aXR5PT09ITApcmV0dXJuIDE7dmFyIGU9dGhpcy5fbSx0PWVbMF0scj1lWzFdLG49ZVsyXSxhPWVbM10scz1lWzRdLG89ZVs1XSx1PWVbNl0sZj1lWzddLGw9ZVs4XSxoPWVbOV0sYz1lWzEwXSxkPWVbMTFdLHA9ZVsxMl0sZz1lWzEzXSxfPWVbMTRdLHY9ZVsxNV0seT1jKnYtXypkLEU9aCp2LWcqZCxSPWgqXy1nKmMsTT1sKnYtcCpkLEM9bCpfLWMqcCxBPWwqZy1wKmgsUz0rKG8qeS11KkUrZipSKSx3PS0ocyp5LXUqTStmKkMpLEY9KyhzKkUtbypNK2YqQSkseD0tKHMqUi1vKkMrdSpBKTtyZXR1cm4gdCpTK3IqdytuKkYrYSp4fSxpLnByb3RvdHlwZS50b0FycmF5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX219LGkucHJvdG90eXBlLmFzQXJyYXk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbX0saS5wcm90b3R5cGUuaW52ZXJ0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW52ZXJ0VG9SZWYodGhpcyksdGhpc30saS5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gaS5Gcm9tVmFsdWVzVG9SZWYoMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCx0aGlzKSx0aGlzLl91cGRhdGVJZGVudGl0eVN0YXR1cyghMSksdGhpc30saS5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBpO3JldHVybiB0aGlzLmFkZFRvUmVmKGUsdCksdH0saS5wcm90b3R5cGUuYWRkVG9SZWY9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9dGhpcy5fbSxuPXQuX20sYT1lLm0scz0wO3M8MTY7cysrKW5bc109cltzXSthW3NdO3JldHVybiB0Lm1hcmtBc1VwZGF0ZWQoKSx0aGlzfSxpLnByb3RvdHlwZS5hZGRUb1NlbGY9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXRoaXMuX20scj1lLm0sbj0wO248MTY7bisrKXRbbl0rPXJbbl07cmV0dXJuIHRoaXMubWFya0FzVXBkYXRlZCgpLHRoaXN9LGkucHJvdG90eXBlLmludmVydFRvUmVmPWZ1bmN0aW9uKGUpe2lmKHRoaXMuX2lzSWRlbnRpdHk9PT0hMClyZXR1cm4gaS5JZGVudGl0eVRvUmVmKGUpLHRoaXM7dmFyIHQ9dGhpcy5fbSxyPXRbMF0sbj10WzFdLGE9dFsyXSxzPXRbM10sbz10WzRdLHU9dFs1XSxmPXRbNl0sbD10WzddLGg9dFs4XSxjPXRbOV0sZD10WzEwXSxwPXRbMTFdLGc9dFsxMl0sXz10WzEzXSx2PXRbMTRdLHk9dFsxNV0sRT1kKnktdipwLFI9Yyp5LV8qcCxNPWMqdi1fKmQsQz1oKnktZypwLEE9aCp2LWQqZyxTPWgqXy1nKmMsdz0rKHUqRS1mKlIrbCpNKSxGPS0obypFLWYqQytsKkEpLHg9KyhvKlItdSpDK2wqUyksRz0tKG8qTS11KkErZipTKSx6PXIqdytuKkYrYSp4K3MqRztpZih6PT09MClyZXR1cm4gZS5jb3B5RnJvbSh0aGlzKSx0aGlzO3ZhciBOPTEveixxPWYqeS12KmwsJD11KnktXypsLHVlPXUqdi1fKmYsWj1vKnktZypsLGo9byp2LWcqZixmZT1vKl8tZyp1LFBlPWYqcC1kKmwsV2U9dSpwLWMqbCxaZT11KmQtYypmLEh0PW8qcC1oKmwsd3I9bypkLWgqZixMcj1vKmMtaCp1LHZpPS0obipFLWEqUitzKk0pLG1pPSsocipFLWEqQytzKkEpLHlpPS0ocipSLW4qQytzKlMpLGJpPSsocipNLW4qQSthKlMpLEVpPSsobipxLWEqJCtzKnVlKSxUaT0tKHIqcS1hKlorcypqKSxfdD0rKHIqJC1uKlorcypmZSksZ3Q9LShyKnVlLW4qaithKmZlKSx2dD0tKG4qUGUtYSpXZStzKlplKSxtdD0rKHIqUGUtYSpIdCtzKndyKSxOcj0tKHIqV2UtbipIdCtzKkxyKSxEZj0rKHIqWmUtbip3cithKkxyKTtyZXR1cm4gaS5Gcm9tVmFsdWVzVG9SZWYodypOLHZpKk4sRWkqTix2dCpOLEYqTixtaSpOLFRpKk4sbXQqTix4Kk4seWkqTixfdCpOLE5yKk4sRypOLGJpKk4sZ3QqTixEZipOLGUpLHRoaXN9LGkucHJvdG90eXBlLmFkZEF0SW5kZXg9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5fbVtlXSs9dCx0aGlzLm1hcmtBc1VwZGF0ZWQoKSx0aGlzfSxpLnByb3RvdHlwZS5tdWx0aXBseUF0SW5kZXg9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5fbVtlXSo9dCx0aGlzLm1hcmtBc1VwZGF0ZWQoKSx0aGlzfSxpLnByb3RvdHlwZS5zZXRUcmFuc2xhdGlvbkZyb21GbG9hdHM9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiB0aGlzLl9tWzEyXT1lLHRoaXMuX21bMTNdPXQsdGhpcy5fbVsxNF09cix0aGlzLm1hcmtBc1VwZGF0ZWQoKSx0aGlzfSxpLnByb3RvdHlwZS5hZGRUcmFuc2xhdGlvbkZyb21GbG9hdHM9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiB0aGlzLl9tWzEyXSs9ZSx0aGlzLl9tWzEzXSs9dCx0aGlzLl9tWzE0XSs9cix0aGlzLm1hcmtBc1VwZGF0ZWQoKSx0aGlzfSxpLnByb3RvdHlwZS5zZXRUcmFuc2xhdGlvbj1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5zZXRUcmFuc2xhdGlvbkZyb21GbG9hdHMoZS5feCxlLl95LGUuX3opfSxpLnByb3RvdHlwZS5nZXRUcmFuc2xhdGlvbj1mdW5jdGlvbigpe3JldHVybiBuZXcgYih0aGlzLl9tWzEyXSx0aGlzLl9tWzEzXSx0aGlzLl9tWzE0XSl9LGkucHJvdG90eXBlLmdldFRyYW5zbGF0aW9uVG9SZWY9ZnVuY3Rpb24oZSl7cmV0dXJuIGUueD10aGlzLl9tWzEyXSxlLnk9dGhpcy5fbVsxM10sZS56PXRoaXMuX21bMTRdLHRoaXN9LGkucHJvdG90eXBlLnJlbW92ZVJvdGF0aW9uQW5kU2NhbGluZz1mdW5jdGlvbigpe3ZhciBlPXRoaXMubTtyZXR1cm4gaS5Gcm9tVmFsdWVzVG9SZWYoMSwwLDAsMCwwLDEsMCwwLDAsMCwxLDAsZVsxMl0sZVsxM10sZVsxNF0sZVsxNV0sdGhpcyksdGhpcy5fdXBkYXRlSWRlbnRpdHlTdGF0dXMoZVsxMl09PT0wJiZlWzEzXT09PTAmJmVbMTRdPT09MCYmZVsxNV09PT0xKSx0aGlzfSxpLnByb3RvdHlwZS5tdWx0aXBseT1mdW5jdGlvbihlKXt2YXIgdD1uZXcgaTtyZXR1cm4gdGhpcy5tdWx0aXBseVRvUmVmKGUsdCksdH0saS5wcm90b3R5cGUuY29weUZyb209ZnVuY3Rpb24oZSl7ZS5jb3B5VG9BcnJheSh0aGlzLl9tKTt2YXIgdD1lO3JldHVybiB0aGlzLnVwZGF0ZUZsYWc9dC51cGRhdGVGbGFnLHRoaXMuX3VwZGF0ZUlkZW50aXR5U3RhdHVzKHQuX2lzSWRlbnRpdHksdC5faXNJZGVudGl0eURpcnR5LHQuX2lzSWRlbnRpdHkzeDIsdC5faXNJZGVudGl0eTN4MkRpcnR5KSx0aGlzfSxpLnByb3RvdHlwZS5jb3B5VG9BcnJheT1mdW5jdGlvbihlLHQpe3Q9PT12b2lkIDAmJih0PTApO3ZhciByPXRoaXMuX207cmV0dXJuIGVbdF09clswXSxlW3QrMV09clsxXSxlW3QrMl09clsyXSxlW3QrM109clszXSxlW3QrNF09cls0XSxlW3QrNV09cls1XSxlW3QrNl09cls2XSxlW3QrN109cls3XSxlW3QrOF09cls4XSxlW3QrOV09cls5XSxlW3QrMTBdPXJbMTBdLGVbdCsxMV09clsxMV0sZVt0KzEyXT1yWzEyXSxlW3QrMTNdPXJbMTNdLGVbdCsxNF09clsxNF0sZVt0KzE1XT1yWzE1XSx0aGlzfSxpLnByb3RvdHlwZS5tdWx0aXBseVRvUmVmPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuX2lzSWRlbnRpdHk/KHQuY29weUZyb20oZSksdGhpcyk6ZS5faXNJZGVudGl0eT8odC5jb3B5RnJvbSh0aGlzKSx0aGlzKToodGhpcy5tdWx0aXBseVRvQXJyYXkoZSx0Ll9tLDApLHQubWFya0FzVXBkYXRlZCgpLHRoaXMpfSxpLnByb3RvdHlwZS5tdWx0aXBseVRvQXJyYXk9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXRoaXMuX20sYT1lLm0scz1uWzBdLG89blsxXSx1PW5bMl0sZj1uWzNdLGw9bls0XSxoPW5bNV0sYz1uWzZdLGQ9bls3XSxwPW5bOF0sZz1uWzldLF89blsxMF0sdj1uWzExXSx5PW5bMTJdLEU9blsxM10sUj1uWzE0XSxNPW5bMTVdLEM9YVswXSxBPWFbMV0sUz1hWzJdLHc9YVszXSxGPWFbNF0seD1hWzVdLEc9YVs2XSx6PWFbN10sTj1hWzhdLHE9YVs5XSwkPWFbMTBdLHVlPWFbMTFdLFo9YVsxMl0saj1hWzEzXSxmZT1hWzE0XSxQZT1hWzE1XTtyZXR1cm4gdFtyXT1zKkMrbypGK3UqTitmKlosdFtyKzFdPXMqQStvKngrdSpxK2Yqaix0W3IrMl09cypTK28qRyt1KiQrZipmZSx0W3IrM109cyp3K28qeit1KnVlK2YqUGUsdFtyKzRdPWwqQytoKkYrYypOK2QqWix0W3IrNV09bCpBK2gqeCtjKnErZCpqLHRbcis2XT1sKlMraCpHK2MqJCtkKmZlLHRbcis3XT1sKncraCp6K2MqdWUrZCpQZSx0W3IrOF09cCpDK2cqRitfKk4rdipaLHRbcis5XT1wKkErZyp4K18qcSt2KmosdFtyKzEwXT1wKlMrZypHK18qJCt2KmZlLHRbcisxMV09cCp3K2cqeitfKnVlK3YqUGUsdFtyKzEyXT15KkMrRSpGK1IqTitNKlosdFtyKzEzXT15KkErRSp4K1IqcStNKmosdFtyKzE0XT15KlMrRSpHK1IqJCtNKmZlLHRbcisxNV09eSp3K0UqeitSKnVlK00qUGUsdGhpc30saS5wcm90b3R5cGUuZXF1YWxzPWZ1bmN0aW9uKGUpe3ZhciB0PWU7aWYoIXQpcmV0dXJuITE7aWYoKHRoaXMuX2lzSWRlbnRpdHl8fHQuX2lzSWRlbnRpdHkpJiYhdGhpcy5faXNJZGVudGl0eURpcnR5JiYhdC5faXNJZGVudGl0eURpcnR5KXJldHVybiB0aGlzLl9pc0lkZW50aXR5JiZ0Ll9pc0lkZW50aXR5O3ZhciByPXRoaXMubSxuPXQubTtyZXR1cm4gclswXT09PW5bMF0mJnJbMV09PT1uWzFdJiZyWzJdPT09blsyXSYmclszXT09PW5bM10mJnJbNF09PT1uWzRdJiZyWzVdPT09bls1XSYmcls2XT09PW5bNl0mJnJbN109PT1uWzddJiZyWzhdPT09bls4XSYmcls5XT09PW5bOV0mJnJbMTBdPT09blsxMF0mJnJbMTFdPT09blsxMV0mJnJbMTJdPT09blsxMl0mJnJbMTNdPT09blsxM10mJnJbMTRdPT09blsxNF0mJnJbMTVdPT09blsxNV19LGkucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGU9bmV3IGk7cmV0dXJuIGUuY29weUZyb20odGhpcyksZX0saS5wcm90b3R5cGUuZ2V0Q2xhc3NOYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIk1hdHJpeCJ9LGkucHJvdG90eXBlLmdldEhhc2hDb2RlPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPUxlKHRoaXMuX21bMF0pLHQ9MTt0PDE2O3QrKyllPWUqMzk3XkxlKHRoaXMuX21bdF0pO3JldHVybiBlfSxpLnByb3RvdHlwZS5kZWNvbXBvc2VUb1RyYW5zZm9ybU5vZGU9ZnVuY3Rpb24oZSl7cmV0dXJuIGUucm90YXRpb25RdWF0ZXJuaW9uPWUucm90YXRpb25RdWF0ZXJuaW9ufHxuZXcgc2UsdGhpcy5kZWNvbXBvc2UoZS5zY2FsaW5nLGUucm90YXRpb25RdWF0ZXJuaW9uLGUucG9zaXRpb24pfSxpLnByb3RvdHlwZS5kZWNvbXBvc2U9ZnVuY3Rpb24oZSx0LHIsbil7aWYodGhpcy5faXNJZGVudGl0eSlyZXR1cm4gciYmci5zZXRBbGwoMCksZSYmZS5zZXRBbGwoMSksdCYmdC5jb3B5RnJvbUZsb2F0cygwLDAsMCwxKSwhMDt2YXIgYT10aGlzLl9tO2lmKHImJnIuY29weUZyb21GbG9hdHMoYVsxMl0sYVsxM10sYVsxNF0pLGU9ZXx8Vi5WZWN0b3IzWzBdLGUueD1NYXRoLnNxcnQoYVswXSphWzBdK2FbMV0qYVsxXSthWzJdKmFbMl0pLGUueT1NYXRoLnNxcnQoYVs0XSphWzRdK2FbNV0qYVs1XSthWzZdKmFbNl0pLGUuej1NYXRoLnNxcnQoYVs4XSphWzhdK2FbOV0qYVs5XSthWzEwXSphWzEwXSksbil7dmFyIHM9bi5zY2FsaW5nLng8MD8tMToxLG89bi5zY2FsaW5nLnk8MD8tMToxLHU9bi5zY2FsaW5nLno8MD8tMToxO2UueCo9cyxlLnkqPW8sZS56Kj11fWVsc2UgdGhpcy5kZXRlcm1pbmFudCgpPD0wJiYoZS55Kj0tMSk7aWYoZS5feD09PTB8fGUuX3k9PT0wfHxlLl96PT09MClyZXR1cm4gdCYmdC5jb3B5RnJvbUZsb2F0cygwLDAsMCwxKSwhMTtpZih0KXt2YXIgZj0xL2UuX3gsbD0xL2UuX3ksaD0xL2UuX3o7aS5Gcm9tVmFsdWVzVG9SZWYoYVswXSpmLGFbMV0qZixhWzJdKmYsMCxhWzRdKmwsYVs1XSpsLGFbNl0qbCwwLGFbOF0qaCxhWzldKmgsYVsxMF0qaCwwLDAsMCwwLDEsVi5NYXRyaXhbMF0pLHNlLkZyb21Sb3RhdGlvbk1hdHJpeFRvUmVmKFYuTWF0cml4WzBdLHQpfXJldHVybiEwfSxpLnByb3RvdHlwZS5nZXRSb3c9ZnVuY3Rpb24oZSl7aWYoZTwwfHxlPjMpcmV0dXJuIG51bGw7dmFyIHQ9ZSo0O3JldHVybiBuZXcgeXQodGhpcy5fbVt0KzBdLHRoaXMuX21bdCsxXSx0aGlzLl9tW3QrMl0sdGhpcy5fbVt0KzNdKX0saS5wcm90b3R5cGUuc2V0Um93PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuc2V0Um93RnJvbUZsb2F0cyhlLHQueCx0LnksdC56LHQudyl9LGkucHJvdG90eXBlLnRyYW5zcG9zZT1mdW5jdGlvbigpe3JldHVybiBpLlRyYW5zcG9zZSh0aGlzKX0saS5wcm90b3R5cGUudHJhbnNwb3NlVG9SZWY9ZnVuY3Rpb24oZSl7cmV0dXJuIGkuVHJhbnNwb3NlVG9SZWYodGhpcyxlKSx0aGlzfSxpLnByb3RvdHlwZS5zZXRSb3dGcm9tRmxvYXRzPWZ1bmN0aW9uKGUsdCxyLG4sYSl7aWYoZTwwfHxlPjMpcmV0dXJuIHRoaXM7dmFyIHM9ZSo0O3JldHVybiB0aGlzLl9tW3MrMF09dCx0aGlzLl9tW3MrMV09cix0aGlzLl9tW3MrMl09bix0aGlzLl9tW3MrM109YSx0aGlzLm1hcmtBc1VwZGF0ZWQoKSx0aGlzfSxpLnByb3RvdHlwZS5zY2FsZT1mdW5jdGlvbihlKXt2YXIgdD1uZXcgaTtyZXR1cm4gdGhpcy5zY2FsZVRvUmVmKGUsdCksdH0saS5wcm90b3R5cGUuc2NhbGVUb1JlZj1mdW5jdGlvbihlLHQpe2Zvcih2YXIgcj0wO3I8MTY7cisrKXQuX21bcl09dGhpcy5fbVtyXSplO3JldHVybiB0Lm1hcmtBc1VwZGF0ZWQoKSx0aGlzfSxpLnByb3RvdHlwZS5zY2FsZUFuZEFkZFRvUmVmPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByPTA7cjwxNjtyKyspdC5fbVtyXSs9dGhpcy5fbVtyXSplO3JldHVybiB0Lm1hcmtBc1VwZGF0ZWQoKSx0aGlzfSxpLnByb3RvdHlwZS50b05vcm1hbE1hdHJpeD1mdW5jdGlvbihlKXt2YXIgdD1WLk1hdHJpeFswXTt0aGlzLmludmVydFRvUmVmKHQpLHQudHJhbnNwb3NlVG9SZWYoZSk7dmFyIHI9ZS5fbTtpLkZyb21WYWx1ZXNUb1JlZihyWzBdLHJbMV0sclsyXSwwLHJbNF0scls1XSxyWzZdLDAscls4XSxyWzldLHJbMTBdLDAsMCwwLDAsMSxlKX0saS5wcm90b3R5cGUuZ2V0Um90YXRpb25NYXRyaXg9ZnVuY3Rpb24oKXt2YXIgZT1uZXcgaTtyZXR1cm4gdGhpcy5nZXRSb3RhdGlvbk1hdHJpeFRvUmVmKGUpLGV9LGkucHJvdG90eXBlLmdldFJvdGF0aW9uTWF0cml4VG9SZWY9ZnVuY3Rpb24oZSl7dmFyIHQ9Vi5WZWN0b3IzWzBdO2lmKCF0aGlzLmRlY29tcG9zZSh0KSlyZXR1cm4gaS5JZGVudGl0eVRvUmVmKGUpLHRoaXM7dmFyIHI9dGhpcy5fbSxuPTEvdC5feCxhPTEvdC5feSxzPTEvdC5fejtyZXR1cm4gaS5Gcm9tVmFsdWVzVG9SZWYoclswXSpuLHJbMV0qbixyWzJdKm4sMCxyWzRdKmEscls1XSphLHJbNl0qYSwwLHJbOF0qcyxyWzldKnMsclsxMF0qcywwLDAsMCwwLDEsZSksdGhpc30saS5wcm90b3R5cGUudG9nZ2xlTW9kZWxNYXRyaXhIYW5kSW5QbGFjZT1mdW5jdGlvbigpe3ZhciBlPXRoaXMuX207ZVsyXSo9LTEsZVs2XSo9LTEsZVs4XSo9LTEsZVs5XSo9LTEsZVsxNF0qPS0xLHRoaXMubWFya0FzVXBkYXRlZCgpfSxpLnByb3RvdHlwZS50b2dnbGVQcm9qZWN0aW9uTWF0cml4SGFuZEluUGxhY2U9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLl9tO2VbOF0qPS0xLGVbOV0qPS0xLGVbMTBdKj0tMSxlWzExXSo9LTEsdGhpcy5tYXJrQXNVcGRhdGVkKCl9LGkuRnJvbUFycmF5PWZ1bmN0aW9uKGUsdCl7dD09PXZvaWQgMCYmKHQ9MCk7dmFyIHI9bmV3IGk7cmV0dXJuIGkuRnJvbUFycmF5VG9SZWYoZSx0LHIpLHJ9LGkuRnJvbUFycmF5VG9SZWY9ZnVuY3Rpb24oZSx0LHIpe2Zvcih2YXIgbj0wO248MTY7bisrKXIuX21bbl09ZVtuK3RdO3IubWFya0FzVXBkYXRlZCgpfSxpLkZyb21GbG9hdDMyQXJyYXlUb1JlZlNjYWxlZD1mdW5jdGlvbihlLHQscixuKXtmb3IodmFyIGE9MDthPDE2O2ErKyluLl9tW2FdPWVbYSt0XSpyO24ubWFya0FzVXBkYXRlZCgpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSwiSWRlbnRpdHlSZWFkT25seSIse2dldDpmdW5jdGlvbigpe3JldHVybiBpLl9JZGVudGl0eVJlYWRPbmx5fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkuRnJvbVZhbHVlc1RvUmVmPWZ1bmN0aW9uKGUsdCxyLG4sYSxzLG8sdSxmLGwsaCxjLGQscCxnLF8sdil7dmFyIHk9di5fbTt5WzBdPWUseVsxXT10LHlbMl09cix5WzNdPW4seVs0XT1hLHlbNV09cyx5WzZdPW8seVs3XT11LHlbOF09Zix5WzldPWwseVsxMF09aCx5WzExXT1jLHlbMTJdPWQseVsxM109cCx5WzE0XT1nLHlbMTVdPV8sdi5tYXJrQXNVcGRhdGVkKCl9LGkuRnJvbVZhbHVlcz1mdW5jdGlvbihlLHQscixuLGEscyxvLHUsZixsLGgsYyxkLHAsZyxfKXt2YXIgdj1uZXcgaSx5PXYuX207cmV0dXJuIHlbMF09ZSx5WzFdPXQseVsyXT1yLHlbM109bix5WzRdPWEseVs1XT1zLHlbNl09byx5WzddPXUseVs4XT1mLHlbOV09bCx5WzEwXT1oLHlbMTFdPWMseVsxMl09ZCx5WzEzXT1wLHlbMTRdPWcseVsxNV09Xyx2Lm1hcmtBc1VwZGF0ZWQoKSx2fSxpLkNvbXBvc2U9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPW5ldyBpO3JldHVybiBpLkNvbXBvc2VUb1JlZihlLHQscixuKSxufSxpLkNvbXBvc2VUb1JlZj1mdW5jdGlvbihlLHQscixuKXt2YXIgYT1uLl9tLHM9dC5feCxvPXQuX3ksdT10Ll96LGY9dC5fdyxsPXMrcyxoPW8rbyxjPXUrdSxkPXMqbCxwPXMqaCxnPXMqYyxfPW8qaCx2PW8qYyx5PXUqYyxFPWYqbCxSPWYqaCxNPWYqYyxDPWUuX3gsQT1lLl95LFM9ZS5fejthWzBdPSgxLShfK3kpKSpDLGFbMV09KHArTSkqQyxhWzJdPShnLVIpKkMsYVszXT0wLGFbNF09KHAtTSkqQSxhWzVdPSgxLShkK3kpKSpBLGFbNl09KHYrRSkqQSxhWzddPTAsYVs4XT0oZytSKSpTLGFbOV09KHYtRSkqUyxhWzEwXT0oMS0oZCtfKSkqUyxhWzExXT0wLGFbMTJdPXIuX3gsYVsxM109ci5feSxhWzE0XT1yLl96LGFbMTVdPTEsbi5tYXJrQXNVcGRhdGVkKCl9LGkuSWRlbnRpdHk9ZnVuY3Rpb24oKXt2YXIgZT1pLkZyb21WYWx1ZXMoMSwwLDAsMCwwLDEsMCwwLDAsMCwxLDAsMCwwLDAsMSk7cmV0dXJuIGUuX3VwZGF0ZUlkZW50aXR5U3RhdHVzKCEwKSxlfSxpLklkZW50aXR5VG9SZWY9ZnVuY3Rpb24oZSl7aS5Gcm9tVmFsdWVzVG9SZWYoMSwwLDAsMCwwLDEsMCwwLDAsMCwxLDAsMCwwLDAsMSxlKSxlLl91cGRhdGVJZGVudGl0eVN0YXR1cyghMCl9LGkuWmVybz1mdW5jdGlvbigpe3ZhciBlPWkuRnJvbVZhbHVlcygwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwKTtyZXR1cm4gZS5fdXBkYXRlSWRlbnRpdHlTdGF0dXMoITEpLGV9LGkuUm90YXRpb25YPWZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBpO3JldHVybiBpLlJvdGF0aW9uWFRvUmVmKGUsdCksdH0saS5JbnZlcnQ9ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IGk7cmV0dXJuIGUuaW52ZXJ0VG9SZWYodCksdH0saS5Sb3RhdGlvblhUb1JlZj1mdW5jdGlvbihlLHQpe3ZhciByPU1hdGguc2luKGUpLG49TWF0aC5jb3MoZSk7aS5Gcm9tVmFsdWVzVG9SZWYoMSwwLDAsMCwwLG4sciwwLDAsLXIsbiwwLDAsMCwwLDEsdCksdC5fdXBkYXRlSWRlbnRpdHlTdGF0dXMobj09PTEmJnI9PT0wKX0saS5Sb3RhdGlvblk9ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IGk7cmV0dXJuIGkuUm90YXRpb25ZVG9SZWYoZSx0KSx0fSxpLlJvdGF0aW9uWVRvUmVmPWZ1bmN0aW9uKGUsdCl7dmFyIHI9TWF0aC5zaW4oZSksbj1NYXRoLmNvcyhlKTtpLkZyb21WYWx1ZXNUb1JlZihuLDAsLXIsMCwwLDEsMCwwLHIsMCxuLDAsMCwwLDAsMSx0KSx0Ll91cGRhdGVJZGVudGl0eVN0YXR1cyhuPT09MSYmcj09PTApfSxpLlJvdGF0aW9uWj1mdW5jdGlvbihlKXt2YXIgdD1uZXcgaTtyZXR1cm4gaS5Sb3RhdGlvblpUb1JlZihlLHQpLHR9LGkuUm90YXRpb25aVG9SZWY9ZnVuY3Rpb24oZSx0KXt2YXIgcj1NYXRoLnNpbihlKSxuPU1hdGguY29zKGUpO2kuRnJvbVZhbHVlc1RvUmVmKG4sciwwLDAsLXIsbiwwLDAsMCwwLDEsMCwwLDAsMCwxLHQpLHQuX3VwZGF0ZUlkZW50aXR5U3RhdHVzKG49PT0xJiZyPT09MCl9LGkuUm90YXRpb25BeGlzPWZ1bmN0aW9uKGUsdCl7dmFyIHI9bmV3IGk7cmV0dXJuIGkuUm90YXRpb25BeGlzVG9SZWYoZSx0LHIpLHJ9LGkuUm90YXRpb25BeGlzVG9SZWY9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPU1hdGguc2luKC10KSxhPU1hdGguY29zKC10KSxzPTEtYTtlLm5vcm1hbGl6ZSgpO3ZhciBvPXIuX207b1swXT1lLl94KmUuX3gqcythLG9bMV09ZS5feCplLl95KnMtZS5feipuLG9bMl09ZS5feCplLl96KnMrZS5feSpuLG9bM109MCxvWzRdPWUuX3kqZS5feCpzK2UuX3oqbixvWzVdPWUuX3kqZS5feSpzK2Esb1s2XT1lLl95KmUuX3oqcy1lLl94Km4sb1s3XT0wLG9bOF09ZS5feiplLl94KnMtZS5feSpuLG9bOV09ZS5feiplLl95KnMrZS5feCpuLG9bMTBdPWUuX3oqZS5feipzK2Esb1sxMV09MCxvWzEyXT0wLG9bMTNdPTAsb1sxNF09MCxvWzE1XT0xLHIubWFya0FzVXBkYXRlZCgpfSxpLlJvdGF0aW9uQWxpZ25Ub1JlZj1mdW5jdGlvbihlLHQscil7dmFyIG49Yi5Eb3QodCxlKSxhPXIuX207aWYobjwtMStlZSlhWzBdPS0xLGFbMV09MCxhWzJdPTAsYVszXT0wLGFbNF09MCxhWzVdPS0xLGFbNl09MCxhWzddPTAsYVs4XT0wLGFbOV09MCxhWzEwXT0xLGFbMTFdPTA7ZWxzZXt2YXIgcz1iLkNyb3NzKHQsZSksbz0xLygxK24pO2FbMF09cy5feCpzLl94Km8rbixhWzFdPXMuX3kqcy5feCpvLXMuX3osYVsyXT1zLl96KnMuX3gqbytzLl95LGFbM109MCxhWzRdPXMuX3gqcy5feSpvK3MuX3osYVs1XT1zLl95KnMuX3kqbytuLGFbNl09cy5feipzLl95Km8tcy5feCxhWzddPTAsYVs4XT1zLl94KnMuX3oqby1zLl95LGFbOV09cy5feSpzLl96Km8rcy5feCxhWzEwXT1zLl96KnMuX3oqbytuLGFbMTFdPTB9YVsxMl09MCxhWzEzXT0wLGFbMTRdPTAsYVsxNV09MSxyLm1hcmtBc1VwZGF0ZWQoKX0saS5Sb3RhdGlvbllhd1BpdGNoUm9sbD1mdW5jdGlvbihlLHQscil7dmFyIG49bmV3IGk7cmV0dXJuIGkuUm90YXRpb25ZYXdQaXRjaFJvbGxUb1JlZihlLHQscixuKSxufSxpLlJvdGF0aW9uWWF3UGl0Y2hSb2xsVG9SZWY9ZnVuY3Rpb24oZSx0LHIsbil7c2UuUm90YXRpb25ZYXdQaXRjaFJvbGxUb1JlZihlLHQscixWLlF1YXRlcm5pb25bMF0pLFYuUXVhdGVybmlvblswXS50b1JvdGF0aW9uTWF0cml4KG4pfSxpLlNjYWxpbmc9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPW5ldyBpO3JldHVybiBpLlNjYWxpbmdUb1JlZihlLHQscixuKSxufSxpLlNjYWxpbmdUb1JlZj1mdW5jdGlvbihlLHQscixuKXtpLkZyb21WYWx1ZXNUb1JlZihlLDAsMCwwLDAsdCwwLDAsMCwwLHIsMCwwLDAsMCwxLG4pLG4uX3VwZGF0ZUlkZW50aXR5U3RhdHVzKGU9PT0xJiZ0PT09MSYmcj09PTEpfSxpLlRyYW5zbGF0aW9uPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1uZXcgaTtyZXR1cm4gaS5UcmFuc2xhdGlvblRvUmVmKGUsdCxyLG4pLG59LGkuVHJhbnNsYXRpb25Ub1JlZj1mdW5jdGlvbihlLHQscixuKXtpLkZyb21WYWx1ZXNUb1JlZigxLDAsMCwwLDAsMSwwLDAsMCwwLDEsMCxlLHQsciwxLG4pLG4uX3VwZGF0ZUlkZW50aXR5U3RhdHVzKGU9PT0wJiZ0PT09MCYmcj09PTApfSxpLkxlcnA9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPW5ldyBpO3JldHVybiBpLkxlcnBUb1JlZihlLHQscixuKSxufSxpLkxlcnBUb1JlZj1mdW5jdGlvbihlLHQscixuKXtmb3IodmFyIGE9bi5fbSxzPWUubSxvPXQubSx1PTA7dTwxNjt1KyspYVt1XT1zW3VdKigxLXIpK29bdV0qcjtuLm1hcmtBc1VwZGF0ZWQoKX0saS5EZWNvbXBvc2VMZXJwPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1uZXcgaTtyZXR1cm4gaS5EZWNvbXBvc2VMZXJwVG9SZWYoZSx0LHIsbiksbn0saS5EZWNvbXBvc2VMZXJwVG9SZWY9ZnVuY3Rpb24oZSx0LHIsbil7dmFyIGE9Vi5WZWN0b3IzWzBdLHM9Vi5RdWF0ZXJuaW9uWzBdLG89Vi5WZWN0b3IzWzFdO2UuZGVjb21wb3NlKGEscyxvKTt2YXIgdT1WLlZlY3RvcjNbMl0sZj1WLlF1YXRlcm5pb25bMV0sbD1WLlZlY3RvcjNbM107dC5kZWNvbXBvc2UodSxmLGwpO3ZhciBoPVYuVmVjdG9yM1s0XTtiLkxlcnBUb1JlZihhLHUscixoKTt2YXIgYz1WLlF1YXRlcm5pb25bMl07c2UuU2xlcnBUb1JlZihzLGYscixjKTt2YXIgZD1WLlZlY3RvcjNbNV07Yi5MZXJwVG9SZWYobyxsLHIsZCksaS5Db21wb3NlVG9SZWYoaCxjLGQsbil9LGkuTG9va0F0TEg9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPW5ldyBpO3JldHVybiBpLkxvb2tBdExIVG9SZWYoZSx0LHIsbiksbn0saS5Mb29rQXRMSFRvUmVmPWZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBhPVYuVmVjdG9yM1swXSxzPVYuVmVjdG9yM1sxXSxvPVYuVmVjdG9yM1syXTt0LnN1YnRyYWN0VG9SZWYoZSxvKSxvLm5vcm1hbGl6ZSgpLGIuQ3Jvc3NUb1JlZihyLG8sYSk7dmFyIHU9YS5sZW5ndGhTcXVhcmVkKCk7dT09PTA/YS54PTE6YS5ub3JtYWxpemVGcm9tTGVuZ3RoKE1hdGguc3FydCh1KSksYi5Dcm9zc1RvUmVmKG8sYSxzKSxzLm5vcm1hbGl6ZSgpO3ZhciBmPS1iLkRvdChhLGUpLGw9LWIuRG90KHMsZSksaD0tYi5Eb3QobyxlKTtpLkZyb21WYWx1ZXNUb1JlZihhLl94LHMuX3gsby5feCwwLGEuX3kscy5feSxvLl95LDAsYS5feixzLl96LG8uX3osMCxmLGwsaCwxLG4pfSxpLkxvb2tBdFJIPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1uZXcgaTtyZXR1cm4gaS5Mb29rQXRSSFRvUmVmKGUsdCxyLG4pLG59LGkuTG9va0F0UkhUb1JlZj1mdW5jdGlvbihlLHQscixuKXt2YXIgYT1WLlZlY3RvcjNbMF0scz1WLlZlY3RvcjNbMV0sbz1WLlZlY3RvcjNbMl07ZS5zdWJ0cmFjdFRvUmVmKHQsbyksby5ub3JtYWxpemUoKSxiLkNyb3NzVG9SZWYocixvLGEpO3ZhciB1PWEubGVuZ3RoU3F1YXJlZCgpO3U9PT0wP2EueD0xOmEubm9ybWFsaXplRnJvbUxlbmd0aChNYXRoLnNxcnQodSkpLGIuQ3Jvc3NUb1JlZihvLGEscykscy5ub3JtYWxpemUoKTt2YXIgZj0tYi5Eb3QoYSxlKSxsPS1iLkRvdChzLGUpLGg9LWIuRG90KG8sZSk7aS5Gcm9tVmFsdWVzVG9SZWYoYS5feCxzLl94LG8uX3gsMCxhLl95LHMuX3ksby5feSwwLGEuX3oscy5feixvLl96LDAsZixsLGgsMSxuKX0saS5Mb29rRGlyZWN0aW9uTEg9ZnVuY3Rpb24oZSx0KXt2YXIgcj1uZXcgaTtyZXR1cm4gaS5Mb29rRGlyZWN0aW9uTEhUb1JlZihlLHQscikscn0saS5Mb29rRGlyZWN0aW9uTEhUb1JlZj1mdW5jdGlvbihlLHQscil7dmFyIG49Vi5WZWN0b3IzWzBdO24uY29weUZyb20oZSksbi5zY2FsZUluUGxhY2UoLTEpO3ZhciBhPVYuVmVjdG9yM1sxXTtiLkNyb3NzVG9SZWYodCxuLGEpLGkuRnJvbVZhbHVlc1RvUmVmKGEuX3gsYS5feSxhLl96LDAsdC5feCx0Ll95LHQuX3osMCxuLl94LG4uX3ksbi5feiwwLDAsMCwwLDEscil9LGkuTG9va0RpcmVjdGlvblJIPWZ1bmN0aW9uKGUsdCl7dmFyIHI9bmV3IGk7cmV0dXJuIGkuTG9va0RpcmVjdGlvblJIVG9SZWYoZSx0LHIpLHJ9LGkuTG9va0RpcmVjdGlvblJIVG9SZWY9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPVYuVmVjdG9yM1syXTtiLkNyb3NzVG9SZWYodCxlLG4pLGkuRnJvbVZhbHVlc1RvUmVmKG4uX3gsbi5feSxuLl96LDAsdC5feCx0Ll95LHQuX3osMCxlLl94LGUuX3ksZS5feiwwLDAsMCwwLDEscil9LGkuT3J0aG9MSD1mdW5jdGlvbihlLHQscixuLGEpe3ZhciBzPW5ldyBpO3JldHVybiBpLk9ydGhvTEhUb1JlZihlLHQscixuLHMsYSksc30saS5PcnRob0xIVG9SZWY9ZnVuY3Rpb24oZSx0LHIsbixhLHMpe3ZhciBvPXIsdT1uLGY9Mi9lLGw9Mi90LGg9Mi8odS1vKSxjPS0odStvKS8odS1vKTtpLkZyb21WYWx1ZXNUb1JlZihmLDAsMCwwLDAsbCwwLDAsMCwwLGgsMCwwLDAsYywxLGEpLHMmJmEubXVsdGlwbHlUb1JlZihidCxhKSxhLl91cGRhdGVJZGVudGl0eVN0YXR1cyhmPT09MSYmbD09PTEmJmg9PT0xJiZjPT09MCl9LGkuT3J0aG9PZmZDZW50ZXJMSD1mdW5jdGlvbihlLHQscixuLGEscyxvKXt2YXIgdT1uZXcgaTtyZXR1cm4gaS5PcnRob09mZkNlbnRlckxIVG9SZWYoZSx0LHIsbixhLHMsdSxvKSx1fSxpLk9ydGhvT2ZmQ2VudGVyTEhUb1JlZj1mdW5jdGlvbihlLHQscixuLGEscyxvLHUpe3ZhciBmPWEsbD1zLGg9Mi8odC1lKSxjPTIvKG4tciksZD0yLyhsLWYpLHA9LShsK2YpLyhsLWYpLGc9KGUrdCkvKGUtdCksXz0obityKS8oci1uKTtpLkZyb21WYWx1ZXNUb1JlZihoLDAsMCwwLDAsYywwLDAsMCwwLGQsMCxnLF8scCwxLG8pLHUmJm8ubXVsdGlwbHlUb1JlZihidCxvKSxvLm1hcmtBc1VwZGF0ZWQoKX0saS5PcnRob09mZkNlbnRlclJIPWZ1bmN0aW9uKGUsdCxyLG4sYSxzLG8pe3ZhciB1PW5ldyBpO3JldHVybiBpLk9ydGhvT2ZmQ2VudGVyUkhUb1JlZihlLHQscixuLGEscyx1LG8pLHV9LGkuT3J0aG9PZmZDZW50ZXJSSFRvUmVmPWZ1bmN0aW9uKGUsdCxyLG4sYSxzLG8sdSl7aS5PcnRob09mZkNlbnRlckxIVG9SZWYoZSx0LHIsbixhLHMsbyx1KSxvLl9tWzEwXSo9LTF9LGkuUGVyc3BlY3RpdmVMSD1mdW5jdGlvbihlLHQscixuLGEscyl7cz09PXZvaWQgMCYmKHM9MCk7dmFyIG89bmV3IGksdT1yLGY9bixsPTIqdS9lLGg9Mip1L3QsYz0oZit1KS8oZi11KSxkPS0yKmYqdS8oZi11KSxwPU1hdGgudGFuKHMpO3JldHVybiBpLkZyb21WYWx1ZXNUb1JlZihsLDAsMCwwLDAsaCwwLHAsMCwwLGMsMSwwLDAsZCwwLG8pLGEmJm8ubXVsdGlwbHlUb1JlZihidCxvKSxvLl91cGRhdGVJZGVudGl0eVN0YXR1cyghMSksb30saS5QZXJzcGVjdGl2ZUZvdkxIPWZ1bmN0aW9uKGUsdCxyLG4sYSxzLG8pe3M9PT12b2lkIDAmJihzPTApLG89PT12b2lkIDAmJihvPSExKTt2YXIgdT1uZXcgaTtyZXR1cm4gaS5QZXJzcGVjdGl2ZUZvdkxIVG9SZWYoZSx0LHIsbix1LCEwLGEscyxvKSx1fSxpLlBlcnNwZWN0aXZlRm92TEhUb1JlZj1mdW5jdGlvbihlLHQscixuLGEscyxvLHUsZil7cz09PXZvaWQgMCYmKHM9ITApLHU9PT12b2lkIDAmJih1PTApLGY9PT12b2lkIDAmJihmPSExKTt2YXIgbD1yLGg9bixjPTEvTWF0aC50YW4oZSouNSksZD1zP2MvdDpjLHA9cz9jOmMqdCxnPWYmJmw9PT0wPy0xOmghPT0wPyhoK2wpLyhoLWwpOjEsXz1mJiZsPT09MD8yKmg6aCE9PTA/LTIqaCpsLyhoLWwpOi0yKmwsdj1NYXRoLnRhbih1KTtpLkZyb21WYWx1ZXNUb1JlZihkLDAsMCwwLDAscCwwLHYsMCwwLGcsMSwwLDAsXywwLGEpLG8mJmEubXVsdGlwbHlUb1JlZihidCxhKSxhLl91cGRhdGVJZGVudGl0eVN0YXR1cyghMSl9LGkuUGVyc3BlY3RpdmVGb3ZSZXZlcnNlTEhUb1JlZj1mdW5jdGlvbihlLHQscixuLGEscyxvLHUpe3M9PT12b2lkIDAmJihzPSEwKSx1PT09dm9pZCAwJiYodT0wKTt2YXIgZj0xL01hdGgudGFuKGUqLjUpLGw9cz9mL3Q6ZixoPXM/ZjpmKnQsYz1NYXRoLnRhbih1KTtpLkZyb21WYWx1ZXNUb1JlZihsLDAsMCwwLDAsaCwwLGMsMCwwLC1yLDEsMCwwLDEsMCxhKSxvJiZhLm11bHRpcGx5VG9SZWYoYnQsYSksYS5fdXBkYXRlSWRlbnRpdHlTdGF0dXMoITEpfSxpLlBlcnNwZWN0aXZlRm92Ukg9ZnVuY3Rpb24oZSx0LHIsbixhLHMsbyl7cz09PXZvaWQgMCYmKHM9MCksbz09PXZvaWQgMCYmKG89ITEpO3ZhciB1PW5ldyBpO3JldHVybiBpLlBlcnNwZWN0aXZlRm92UkhUb1JlZihlLHQscixuLHUsITAsYSxzLG8pLHV9LGkuUGVyc3BlY3RpdmVGb3ZSSFRvUmVmPWZ1bmN0aW9uKGUsdCxyLG4sYSxzLG8sdSxmKXtzPT09dm9pZCAwJiYocz0hMCksdT09PXZvaWQgMCYmKHU9MCksZj09PXZvaWQgMCYmKGY9ITEpO3ZhciBsPXIsaD1uLGM9MS9NYXRoLnRhbihlKi41KSxkPXM/Yy90OmMscD1zP2M6Yyp0LGc9ZiYmbD09PTA/MTpoIT09MD8tKGgrbCkvKGgtbCk6LTEsXz1mJiZsPT09MD8yKmg6aCE9PTA/LTIqaCpsLyhoLWwpOi0yKmwsdj1NYXRoLnRhbih1KTtpLkZyb21WYWx1ZXNUb1JlZihkLDAsMCwwLDAscCwwLHYsMCwwLGcsLTEsMCwwLF8sMCxhKSxvJiZhLm11bHRpcGx5VG9SZWYoYnQsYSksYS5fdXBkYXRlSWRlbnRpdHlTdGF0dXMoITEpfSxpLlBlcnNwZWN0aXZlRm92UmV2ZXJzZVJIVG9SZWY9ZnVuY3Rpb24oZSx0LHIsbixhLHMsbyx1KXtzPT09dm9pZCAwJiYocz0hMCksdT09PXZvaWQgMCYmKHU9MCk7dmFyIGY9MS9NYXRoLnRhbihlKi41KSxsPXM/Zi90OmYsaD1zP2Y6Zip0LGM9TWF0aC50YW4odSk7aS5Gcm9tVmFsdWVzVG9SZWYobCwwLDAsMCwwLGgsMCxjLDAsMCwtciwtMSwwLDAsLTEsMCxhKSxvJiZhLm11bHRpcGx5VG9SZWYoYnQsYSksYS5fdXBkYXRlSWRlbnRpdHlTdGF0dXMoITEpfSxpLlBlcnNwZWN0aXZlRm92V2ViVlJUb1JlZj1mdW5jdGlvbihlLHQscixuLGEscyxvKXthPT09dm9pZCAwJiYoYT0hMSksbz09PXZvaWQgMCYmKG89MCk7dmFyIHU9YT8tMToxLGY9TWF0aC50YW4oZS51cERlZ3JlZXMqTWF0aC5QSS8xODApLGw9TWF0aC50YW4oZS5kb3duRGVncmVlcypNYXRoLlBJLzE4MCksaD1NYXRoLnRhbihlLmxlZnREZWdyZWVzKk1hdGguUEkvMTgwKSxjPU1hdGgudGFuKGUucmlnaHREZWdyZWVzKk1hdGguUEkvMTgwKSxkPTIvKGgrYykscD0yLyhmK2wpLGc9TWF0aC50YW4obyksXz1uLl9tO19bMF09ZCxfWzFdPV9bMl09X1szXT1fWzRdPTAsX1s1XT1wLF9bNl09MCxfWzddPWcsX1s4XT0oaC1jKSpkKi41LF9bOV09LSgoZi1sKSpwKi41KSxfWzEwXT0tci8odC1yKSxfWzExXT0xKnUsX1sxMl09X1sxM109X1sxNV09MCxfWzE0XT0tKDIqcip0KS8oci10KSxzJiZuLm11bHRpcGx5VG9SZWYoYnQsbiksbi5tYXJrQXNVcGRhdGVkKCl9LGkuR2V0RmluYWxNYXRyaXg9ZnVuY3Rpb24oZSx0LHIsbixhLHMpe3ZhciBvPWUud2lkdGgsdT1lLmhlaWdodCxmPWUueCxsPWUueSxoPWkuRnJvbVZhbHVlcyhvLzIsMCwwLDAsMCwtdS8yLDAsMCwwLDAscy1hLDAsZitvLzIsdS8yK2wsYSwxKSxjPVYuTWF0cml4WzBdO3JldHVybiB0Lm11bHRpcGx5VG9SZWYocixjKSxjLm11bHRpcGx5VG9SZWYobixjKSxjLm11bHRpcGx5KGgpfSxpLkdldEFzTWF0cml4MngyPWZ1bmN0aW9uKGUpe3ZhciB0PWUubSxyPVt0WzBdLHRbMV0sdFs0XSx0WzVdXTtyZXR1cm4gQ3QuTWF0cml4VXNlNjRCaXRzP3I6bmV3IEZsb2F0MzJBcnJheShyKX0saS5HZXRBc01hdHJpeDN4Mz1mdW5jdGlvbihlKXt2YXIgdD1lLm0scj1bdFswXSx0WzFdLHRbMl0sdFs0XSx0WzVdLHRbNl0sdFs4XSx0WzldLHRbMTBdXTtyZXR1cm4gQ3QuTWF0cml4VXNlNjRCaXRzP3I6bmV3IEZsb2F0MzJBcnJheShyKX0saS5UcmFuc3Bvc2U9ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IGk7cmV0dXJuIGkuVHJhbnNwb3NlVG9SZWYoZSx0KSx0fSxpLlRyYW5zcG9zZVRvUmVmPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dC5fbSxuPWUubTtyWzBdPW5bMF0sclsxXT1uWzRdLHJbMl09bls4XSxyWzNdPW5bMTJdLHJbNF09blsxXSxyWzVdPW5bNV0scls2XT1uWzldLHJbN109blsxM10scls4XT1uWzJdLHJbOV09bls2XSxyWzEwXT1uWzEwXSxyWzExXT1uWzE0XSxyWzEyXT1uWzNdLHJbMTNdPW5bN10sclsxNF09blsxMV0sclsxNV09blsxNV0sdC5tYXJrQXNVcGRhdGVkKCksdC5fdXBkYXRlSWRlbnRpdHlTdGF0dXMoZS5faXNJZGVudGl0eSxlLl9pc0lkZW50aXR5RGlydHkpfSxpLlJlZmxlY3Rpb249ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IGk7cmV0dXJuIGkuUmVmbGVjdGlvblRvUmVmKGUsdCksdH0saS5SZWZsZWN0aW9uVG9SZWY9ZnVuY3Rpb24oZSx0KXtlLm5vcm1hbGl6ZSgpO3ZhciByPWUubm9ybWFsLngsbj1lLm5vcm1hbC55LGE9ZS5ub3JtYWwueixzPS0yKnIsbz0tMipuLHU9LTIqYTtpLkZyb21WYWx1ZXNUb1JlZihzKnIrMSxvKnIsdSpyLDAscypuLG8qbisxLHUqbiwwLHMqYSxvKmEsdSphKzEsMCxzKmUuZCxvKmUuZCx1KmUuZCwxLHQpfSxpLkZyb21YWVpBeGVzVG9SZWY9ZnVuY3Rpb24oZSx0LHIsbil7aS5Gcm9tVmFsdWVzVG9SZWYoZS5feCxlLl95LGUuX3osMCx0Ll94LHQuX3ksdC5feiwwLHIuX3gsci5feSxyLl96LDAsMCwwLDAsMSxuKX0saS5Gcm9tUXVhdGVybmlvblRvUmVmPWZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS5feCplLl94LG49ZS5feSplLl95LGE9ZS5feiplLl96LHM9ZS5feCplLl95LG89ZS5feiplLl93LHU9ZS5feiplLl94LGY9ZS5feSplLl93LGw9ZS5feSplLl96LGg9ZS5feCplLl93O3QuX21bMF09MS0yKihuK2EpLHQuX21bMV09MioocytvKSx0Ll9tWzJdPTIqKHUtZiksdC5fbVszXT0wLHQuX21bNF09Mioocy1vKSx0Ll9tWzVdPTEtMiooYStyKSx0Ll9tWzZdPTIqKGwraCksdC5fbVs3XT0wLHQuX21bOF09MioodStmKSx0Ll9tWzldPTIqKGwtaCksdC5fbVsxMF09MS0yKihuK3IpLHQuX21bMTFdPTAsdC5fbVsxMl09MCx0Ll9tWzEzXT0wLHQuX21bMTRdPTAsdC5fbVsxNV09MSx0Lm1hcmtBc1VwZGF0ZWQoKX0saS5fVXBkYXRlRmxhZ1NlZWQ9MCxpLl9JZGVudGl0eVJlYWRPbmx5PWkuSWRlbnRpdHkoKSxpfSgpLFY9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKCl7fXJldHVybiBpLlZlY3RvcjM9QWUuQnVpbGRUdXBsZSgxMSxiLlplcm8pLGkuTWF0cml4PUFlLkJ1aWxkVHVwbGUoMixJLklkZW50aXR5KSxpLlF1YXRlcm5pb249QWUuQnVpbGRUdXBsZSgzLHNlLlplcm8pLGl9KCksRD1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoKXt9cmV0dXJuIGkuVmVjdG9yMj1BZS5CdWlsZFR1cGxlKDMsU2UuWmVybyksaS5WZWN0b3IzPUFlLkJ1aWxkVHVwbGUoMTMsYi5aZXJvKSxpLlZlY3RvcjQ9QWUuQnVpbGRUdXBsZSgzLHl0Llplcm8pLGkuUXVhdGVybmlvbj1BZS5CdWlsZFR1cGxlKDIsc2UuWmVybyksaS5NYXRyaXg9QWUuQnVpbGRUdXBsZSg4LEkuSWRlbnRpdHkpLGl9KCk7d2UoIkJBQllMT04uVmVjdG9yMiIsU2UpLHdlKCJCQUJZTE9OLlZlY3RvcjMiLGIpLHdlKCJCQUJZTE9OLlZlY3RvcjQiLHl0KSx3ZSgiQkFCWUxPTi5NYXRyaXgiLEkpO3ZhciBidD1JLkZyb21WYWx1ZXMoMSwwLDAsMCwwLDEsMCwwLDAsMCwuNSwwLDAsMCwuNSwxKSxWcj1mdW5jdGlvbihpLGUpe3JldHVybiBWcj1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24odCxyKXt0Ll9fcHJvdG9fXz1yfXx8ZnVuY3Rpb24odCxyKXtmb3IodmFyIG4gaW4gcilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocixuKSYmKHRbbl09cltuXSl9LFZyKGksZSl9O2Z1bmN0aW9uIEsoaSxlKXtpZih0eXBlb2YgZSE9ImZ1bmN0aW9uIiYmZSE9PW51bGwpdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSAiK1N0cmluZyhlKSsiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGwiKTtWcihpLGUpO2Z1bmN0aW9uIHQoKXt0aGlzLmNvbnN0cnVjdG9yPWl9aS5wcm90b3R5cGU9ZT09PW51bGw/T2JqZWN0LmNyZWF0ZShlKToodC5wcm90b3R5cGU9ZS5wcm90b3R5cGUsbmV3IHQpfXZhciBFdD1mdW5jdGlvbigpe3JldHVybiBFdD1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQscj0xLG49YXJndW1lbnRzLmxlbmd0aDtyPG47cisrKXt0PWFyZ3VtZW50c1tyXTtmb3IodmFyIGEgaW4gdClPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxhKSYmKGVbYV09dFthXSl9cmV0dXJuIGV9LEV0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX07ZnVuY3Rpb24gVChpLGUsdCxyKXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoLGE9bjwzP2U6cj09PW51bGw/cj1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCk6cixzO2lmKHR5cGVvZiBSZWZsZWN0PT0ib2JqZWN0IiYmdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGU9PSJmdW5jdGlvbiIpYT1SZWZsZWN0LmRlY29yYXRlKGksZSx0LHIpO2Vsc2UgZm9yKHZhciBvPWkubGVuZ3RoLTE7bz49MDtvLS0pKHM9aVtvXSkmJihhPShuPDM/cyhhKTpuPjM/cyhlLHQsYSk6cyhlLHQpKXx8YSk7cmV0dXJuIG4+MyYmYSYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxhKSxhfWZ1bmN0aW9uIGtyKGksZSx0LHIpe2Z1bmN0aW9uIG4oYSl7cmV0dXJuIGEgaW5zdGFuY2VvZiB0P2E6bmV3IHQoZnVuY3Rpb24ocyl7cyhhKX0pfXJldHVybiBuZXcodHx8KHQ9UHJvbWlzZSkpKGZ1bmN0aW9uKGEscyl7ZnVuY3Rpb24gbyhsKXt0cnl7ZihyLm5leHQobCkpfWNhdGNoKGgpe3MoaCl9fWZ1bmN0aW9uIHUobCl7dHJ5e2Yoci50aHJvdyhsKSl9Y2F0Y2goaCl7cyhoKX19ZnVuY3Rpb24gZihsKXtsLmRvbmU/YShsLnZhbHVlKTpuKGwudmFsdWUpLnRoZW4obyx1KX1mKChyPXIuYXBwbHkoaSxlfHxbXSkpLm5leHQoKSl9KX1mdW5jdGlvbiB3dChpLGUpe3ZhciB0PXtsYWJlbDowLHNlbnQ6ZnVuY3Rpb24oKXtpZihhWzBdJjEpdGhyb3cgYVsxXTtyZXR1cm4gYVsxXX0sdHJ5czpbXSxvcHM6W119LHIsbixhLHM7cmV0dXJuIHM9e25leHQ6bygwKSx0aHJvdzpvKDEpLHJldHVybjpvKDIpfSx0eXBlb2YgU3ltYm9sPT0iZnVuY3Rpb24iJiYoc1tTeW1ib2wuaXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSxzO2Z1bmN0aW9uIG8oZil7cmV0dXJuIGZ1bmN0aW9uKGwpe3JldHVybiB1KFtmLGxdKX19ZnVuY3Rpb24gdShmKXtpZihyKXRocm93IG5ldyBUeXBlRXJyb3IoIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy4iKTtmb3IoO3Q7KXRyeXtpZihyPTEsbiYmKGE9ZlswXSYyP24ucmV0dXJuOmZbMF0/bi50aHJvd3x8KChhPW4ucmV0dXJuKSYmYS5jYWxsKG4pLDApOm4ubmV4dCkmJiEoYT1hLmNhbGwobixmWzFdKSkuZG9uZSlyZXR1cm4gYTtzd2l0Y2gobj0wLGEmJihmPVtmWzBdJjIsYS52YWx1ZV0pLGZbMF0pe2Nhc2UgMDpjYXNlIDE6YT1mO2JyZWFrO2Nhc2UgNDpyZXR1cm4gdC5sYWJlbCsrLHt2YWx1ZTpmWzFdLGRvbmU6ITF9O2Nhc2UgNTp0LmxhYmVsKyssbj1mWzFdLGY9WzBdO2NvbnRpbnVlO2Nhc2UgNzpmPXQub3BzLnBvcCgpLHQudHJ5cy5wb3AoKTtjb250aW51ZTtkZWZhdWx0OmlmKGE9dC50cnlzLCEoYT1hLmxlbmd0aD4wJiZhW2EubGVuZ3RoLTFdKSYmKGZbMF09PT02fHxmWzBdPT09Mikpe3Q9MDtjb250aW51ZX1pZihmWzBdPT09MyYmKCFhfHxmWzFdPmFbMF0mJmZbMV08YVszXSkpe3QubGFiZWw9ZlsxXTticmVha31pZihmWzBdPT09NiYmdC5sYWJlbDxhWzFdKXt0LmxhYmVsPWFbMV0sYT1mO2JyZWFrfWlmKGEmJnQubGFiZWw8YVsyXSl7dC5sYWJlbD1hWzJdLHQub3BzLnB1c2goZik7YnJlYWt9YVsyXSYmdC5vcHMucG9wKCksdC50cnlzLnBvcCgpO2NvbnRpbnVlfWY9ZS5jYWxsKGksdCl9Y2F0Y2gobCl7Zj1bNixsXSxuPTB9ZmluYWxseXtyPWE9MH1pZihmWzBdJjUpdGhyb3cgZlsxXTtyZXR1cm57dmFsdWU6ZlswXT9mWzFdOnZvaWQgMCxkb25lOiEwfX19dmFyIHhuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaShlLHQscixuKXt0PT09dm9pZCAwJiYodD0hMSksdGhpcy5pbml0aWFsaXplKGUsdCxyLG4pfXJldHVybiBpLnByb3RvdHlwZS5pbml0aWFsaXplPWZ1bmN0aW9uKGUsdCxyLG4pe3JldHVybiB0PT09dm9pZCAwJiYodD0hMSksdGhpcy5tYXNrPWUsdGhpcy5za2lwTmV4dE9ic2VydmVycz10LHRoaXMudGFyZ2V0PXIsdGhpcy5jdXJyZW50VGFyZ2V0PW4sdGhpc30saX0oKSxEbj1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoZSx0LHIpe3I9PT12b2lkIDAmJihyPW51bGwpLHRoaXMuY2FsbGJhY2s9ZSx0aGlzLm1hc2s9dCx0aGlzLnNjb3BlPXIsdGhpcy5fd2lsbEJlVW5yZWdpc3RlcmVkPSExLHRoaXMudW5yZWdpc3Rlck9uTmV4dENhbGw9ITF9cmV0dXJuIGl9KCksTz1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoZSl7dGhpcy5fb2JzZXJ2ZXJzPW5ldyBBcnJheSx0aGlzLl9ldmVudFN0YXRlPW5ldyB4bigwKSxlJiYodGhpcy5fb25PYnNlcnZlckFkZGVkPWUpfXJldHVybiBpLkZyb21Qcm9taXNlPWZ1bmN0aW9uKGUsdCl7dmFyIHI9bmV3IGk7cmV0dXJuIGUudGhlbihmdW5jdGlvbihuKXtyLm5vdGlmeU9ic2VydmVycyhuKX0pLmNhdGNoKGZ1bmN0aW9uKG4pe2lmKHQpdC5ub3RpZnlPYnNlcnZlcnMobik7ZWxzZSB0aHJvdyBufSkscn0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJvYnNlcnZlcnMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb2JzZXJ2ZXJzfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkucHJvdG90eXBlLmFkZD1mdW5jdGlvbihlLHQscixuLGEpe2lmKHQ9PT12b2lkIDAmJih0PS0xKSxyPT09dm9pZCAwJiYocj0hMSksbj09PXZvaWQgMCYmKG49bnVsbCksYT09PXZvaWQgMCYmKGE9ITEpLCFlKXJldHVybiBudWxsO3ZhciBzPW5ldyBEbihlLHQsbik7cmV0dXJuIHMudW5yZWdpc3Rlck9uTmV4dENhbGw9YSxyP3RoaXMuX29ic2VydmVycy51bnNoaWZ0KHMpOnRoaXMuX29ic2VydmVycy5wdXNoKHMpLHRoaXMuX29uT2JzZXJ2ZXJBZGRlZCYmdGhpcy5fb25PYnNlcnZlckFkZGVkKHMpLHN9LGkucHJvdG90eXBlLmFkZE9uY2U9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuYWRkKGUsdm9pZCAwLHZvaWQgMCx2b2lkIDAsITApfSxpLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oZSl7aWYoIWUpcmV0dXJuITE7dmFyIHQ9dGhpcy5fb2JzZXJ2ZXJzLmluZGV4T2YoZSk7cmV0dXJuIHQhPT0tMT8odGhpcy5fZGVmZXJVbnJlZ2lzdGVyKGUpLCEwKTohMX0saS5wcm90b3R5cGUucmVtb3ZlQ2FsbGJhY2s9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9MDtyPHRoaXMuX29ic2VydmVycy5sZW5ndGg7cisrKXt2YXIgbj10aGlzLl9vYnNlcnZlcnNbcl07aWYoIW4uX3dpbGxCZVVucmVnaXN0ZXJlZCYmbi5jYWxsYmFjaz09PWUmJighdHx8dD09PW4uc2NvcGUpKXJldHVybiB0aGlzLl9kZWZlclVucmVnaXN0ZXIobiksITB9cmV0dXJuITF9LGkucHJvdG90eXBlLl9kZWZlclVucmVnaXN0ZXI9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztlLnVucmVnaXN0ZXJPbk5leHRDYWxsPSExLGUuX3dpbGxCZVVucmVnaXN0ZXJlZD0hMCxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dC5fcmVtb3ZlKGUpfSwwKX0saS5wcm90b3R5cGUuX3JlbW92ZT1mdW5jdGlvbihlKXtpZighZSlyZXR1cm4hMTt2YXIgdD10aGlzLl9vYnNlcnZlcnMuaW5kZXhPZihlKTtyZXR1cm4gdCE9PS0xPyh0aGlzLl9vYnNlcnZlcnMuc3BsaWNlKHQsMSksITApOiExfSxpLnByb3RvdHlwZS5tYWtlT2JzZXJ2ZXJUb3BQcmlvcml0eT1mdW5jdGlvbihlKXt0aGlzLl9yZW1vdmUoZSksdGhpcy5fb2JzZXJ2ZXJzLnVuc2hpZnQoZSl9LGkucHJvdG90eXBlLm1ha2VPYnNlcnZlckJvdHRvbVByaW9yaXR5PWZ1bmN0aW9uKGUpe3RoaXMuX3JlbW92ZShlKSx0aGlzLl9vYnNlcnZlcnMucHVzaChlKX0saS5wcm90b3R5cGUubm90aWZ5T2JzZXJ2ZXJzPWZ1bmN0aW9uKGUsdCxyLG4sYSl7aWYodD09PXZvaWQgMCYmKHQ9LTEpLCF0aGlzLl9vYnNlcnZlcnMubGVuZ3RoKXJldHVybiEwO3ZhciBzPXRoaXMuX2V2ZW50U3RhdGU7cy5tYXNrPXQscy50YXJnZXQ9cixzLmN1cnJlbnRUYXJnZXQ9bixzLnNraXBOZXh0T2JzZXJ2ZXJzPSExLHMubGFzdFJldHVyblZhbHVlPWUscy51c2VySW5mbz1hO2Zvcih2YXIgbz0wLHU9dGhpcy5fb2JzZXJ2ZXJzO288dS5sZW5ndGg7bysrKXt2YXIgZj11W29dO2lmKCFmLl93aWxsQmVVbnJlZ2lzdGVyZWQmJihmLm1hc2smdCYmKGYuc2NvcGU/cy5sYXN0UmV0dXJuVmFsdWU9Zi5jYWxsYmFjay5hcHBseShmLnNjb3BlLFtlLHNdKTpzLmxhc3RSZXR1cm5WYWx1ZT1mLmNhbGxiYWNrKGUscyksZi51bnJlZ2lzdGVyT25OZXh0Q2FsbCYmdGhpcy5fZGVmZXJVbnJlZ2lzdGVyKGYpKSxzLnNraXBOZXh0T2JzZXJ2ZXJzKSlyZXR1cm4hMX1yZXR1cm4hMH0saS5wcm90b3R5cGUubm90aWZ5T2JzZXJ2ZXJzV2l0aFByb21pc2U9ZnVuY3Rpb24oZSx0LHIsbixhKXt2YXIgcz10aGlzO3Q9PT12b2lkIDAmJih0PS0xKTt2YXIgbz1Qcm9taXNlLnJlc29sdmUoZSk7aWYoIXRoaXMuX29ic2VydmVycy5sZW5ndGgpcmV0dXJuIG87dmFyIHU9dGhpcy5fZXZlbnRTdGF0ZTtyZXR1cm4gdS5tYXNrPXQsdS50YXJnZXQ9cix1LmN1cnJlbnRUYXJnZXQ9bix1LnNraXBOZXh0T2JzZXJ2ZXJzPSExLHUudXNlckluZm89YSx0aGlzLl9vYnNlcnZlcnMuZm9yRWFjaChmdW5jdGlvbihmKXt1LnNraXBOZXh0T2JzZXJ2ZXJzfHxmLl93aWxsQmVVbnJlZ2lzdGVyZWR8fGYubWFzayZ0JiYoZi5zY29wZT9vPW8udGhlbihmdW5jdGlvbihsKXtyZXR1cm4gdS5sYXN0UmV0dXJuVmFsdWU9bCxmLmNhbGxiYWNrLmFwcGx5KGYuc2NvcGUsW2UsdV0pfSk6bz1vLnRoZW4oZnVuY3Rpb24obCl7cmV0dXJuIHUubGFzdFJldHVyblZhbHVlPWwsZi5jYWxsYmFjayhlLHUpfSksZi51bnJlZ2lzdGVyT25OZXh0Q2FsbCYmcy5fZGVmZXJVbnJlZ2lzdGVyKGYpKX0pLG8udGhlbihmdW5jdGlvbigpe3JldHVybiBlfSl9LGkucHJvdG90eXBlLm5vdGlmeU9ic2VydmVyPWZ1bmN0aW9uKGUsdCxyKXtpZihyPT09dm9pZCAwJiYocj0tMSksIWUuX3dpbGxCZVVucmVnaXN0ZXJlZCl7dmFyIG49dGhpcy5fZXZlbnRTdGF0ZTtuLm1hc2s9cixuLnNraXBOZXh0T2JzZXJ2ZXJzPSExLGUuY2FsbGJhY2sodCxuKSxlLnVucmVnaXN0ZXJPbk5leHRDYWxsJiZ0aGlzLl9kZWZlclVucmVnaXN0ZXIoZSl9fSxpLnByb3RvdHlwZS5oYXNPYnNlcnZlcnM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb2JzZXJ2ZXJzLmxlbmd0aD4wfSxpLnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe3RoaXMuX29ic2VydmVycz1uZXcgQXJyYXksdGhpcy5fb25PYnNlcnZlckFkZGVkPW51bGx9LGkucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGU9bmV3IGk7cmV0dXJuIGUuX29ic2VydmVycz10aGlzLl9vYnNlcnZlcnMuc2xpY2UoMCksZX0saS5wcm90b3R5cGUuaGFzU3BlY2lmaWNNYXNrPWZ1bmN0aW9uKGUpe2U9PT12b2lkIDAmJihlPS0xKTtmb3IodmFyIHQ9MCxyPXRoaXMuX29ic2VydmVyczt0PHIubGVuZ3RoO3QrKyl7dmFyIG49clt0XTtpZihuLm1hc2smZXx8bi5tYXNrPT09ZSlyZXR1cm4hMH1yZXR1cm4hMX0saX0oKSxJbj1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoKXt0aGlzLnNhbXBsaW5nTW9kZT0tMSx0aGlzLl91c2VNaXBNYXBzPSEwLHRoaXMuX2NhY2hlZFdyYXBVPW51bGwsdGhpcy5fY2FjaGVkV3JhcFY9bnVsbCx0aGlzLl9jYWNoZWRXcmFwUj1udWxsLHRoaXMuX2NhY2hlZEFuaXNvdHJvcGljRmlsdGVyaW5nTGV2ZWw9bnVsbCx0aGlzLl9jb21wYXJpc29uRnVuY3Rpb249MH1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJ3cmFwVSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jYWNoZWRXcmFwVX0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX2NhY2hlZFdyYXBVPWV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJ3cmFwViIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jYWNoZWRXcmFwVn0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX2NhY2hlZFdyYXBWPWV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJ3cmFwUiIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jYWNoZWRXcmFwUn0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX2NhY2hlZFdyYXBSPWV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJhbmlzb3Ryb3BpY0ZpbHRlcmluZ0xldmVsIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NhY2hlZEFuaXNvdHJvcGljRmlsdGVyaW5nTGV2ZWx9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9jYWNoZWRBbmlzb3Ryb3BpY0ZpbHRlcmluZ0xldmVsPWV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJjb21wYXJpc29uRnVuY3Rpb24iLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY29tcGFyaXNvbkZ1bmN0aW9ufSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fY29tcGFyaXNvbkZ1bmN0aW9uPWV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJ1c2VNaXBNYXBzIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3VzZU1pcE1hcHN9LHNldDpmdW5jdGlvbihlKXt0aGlzLl91c2VNaXBNYXBzPWV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksaS5wcm90b3R5cGUuc2V0UGFyYW1ldGVycz1mdW5jdGlvbihlLHQscixuLGEscyl7cmV0dXJuIGU9PT12b2lkIDAmJihlPTEpLHQ9PT12b2lkIDAmJih0PTEpLHI9PT12b2lkIDAmJihyPTEpLG49PT12b2lkIDAmJihuPTEpLGE9PT12b2lkIDAmJihhPTIpLHM9PT12b2lkIDAmJihzPTApLHRoaXMuX2NhY2hlZFdyYXBVPWUsdGhpcy5fY2FjaGVkV3JhcFY9dCx0aGlzLl9jYWNoZWRXcmFwUj1yLHRoaXMuX2NhY2hlZEFuaXNvdHJvcGljRmlsdGVyaW5nTGV2ZWw9bix0aGlzLnNhbXBsaW5nTW9kZT1hLHRoaXMuX2NvbXBhcmlzb25GdW5jdGlvbj1zLHRoaXN9LGkucHJvdG90eXBlLmNvbXBhcmVTYW1wbGVyPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9jYWNoZWRXcmFwVT09PWUuX2NhY2hlZFdyYXBVJiZ0aGlzLl9jYWNoZWRXcmFwVj09PWUuX2NhY2hlZFdyYXBWJiZ0aGlzLl9jYWNoZWRXcmFwUj09PWUuX2NhY2hlZFdyYXBSJiZ0aGlzLl9jYWNoZWRBbmlzb3Ryb3BpY0ZpbHRlcmluZ0xldmVsPT09ZS5fY2FjaGVkQW5pc290cm9waWNGaWx0ZXJpbmdMZXZlbCYmdGhpcy5zYW1wbGluZ01vZGU9PT1lLnNhbXBsaW5nTW9kZSYmdGhpcy5fY29tcGFyaXNvbkZ1bmN0aW9uPT09ZS5fY29tcGFyaXNvbkZ1bmN0aW9uJiZ0aGlzLl91c2VNaXBNYXBzPT09ZS5fdXNlTWlwTWFwc30saX0oKSxtZTsoZnVuY3Rpb24oaSl7aVtpLlVua25vd249MF09IlVua25vd24iLGlbaS5Vcmw9MV09IlVybCIsaVtpLlRlbXA9Ml09IlRlbXAiLGlbaS5SYXc9M109IlJhdyIsaVtpLkR5bmFtaWM9NF09IkR5bmFtaWMiLGlbaS5SZW5kZXJUYXJnZXQ9NV09IlJlbmRlclRhcmdldCIsaVtpLk11bHRpUmVuZGVyVGFyZ2V0PTZdPSJNdWx0aVJlbmRlclRhcmdldCIsaVtpLkN1YmU9N109IkN1YmUiLGlbaS5DdWJlUmF3PThdPSJDdWJlUmF3IixpW2kuQ3ViZVByZWZpbHRlcmVkPTldPSJDdWJlUHJlZmlsdGVyZWQiLGlbaS5SYXczRD0xMF09IlJhdzNEIixpW2kuUmF3MkRBcnJheT0xMV09IlJhdzJEQXJyYXkiLGlbaS5EZXB0aFN0ZW5jaWw9MTJdPSJEZXB0aFN0ZW5jaWwiLGlbaS5DdWJlUmF3UkdCRD0xM109IkN1YmVSYXdSR0JEIixpW2kuRGVwdGg9MTRdPSJEZXB0aCJ9KShtZXx8KG1lPXt9KSk7dmFyIEx0PWZ1bmN0aW9uKGkpe0soZSxpKTtmdW5jdGlvbiBlKHQscixuKXtuPT09dm9pZCAwJiYobj0hMSk7dmFyIGE9aS5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBhLmlzUmVhZHk9ITEsYS5pc0N1YmU9ITEsYS5pczNEPSExLGEuaXMyREFycmF5PSExLGEuaXNNdWx0aXZpZXc9ITEsYS51cmw9IiIsYS5nZW5lcmF0ZU1pcE1hcHM9ITEsYS5zYW1wbGVzPTAsYS50eXBlPS0xLGEuZm9ybWF0PS0xLGEub25Mb2FkZWRPYnNlcnZhYmxlPW5ldyBPLGEub25FcnJvck9ic2VydmFibGU9bmV3IE8sYS5vblJlYnVpbGRDYWxsYmFjaz1udWxsLGEud2lkdGg9MCxhLmhlaWdodD0wLGEuZGVwdGg9MCxhLmJhc2VXaWR0aD0wLGEuYmFzZUhlaWdodD0wLGEuYmFzZURlcHRoPTAsYS5pbnZlcnRZPSExLGEuX2ludmVydFZTY2FsZT0hMSxhLl9hc3NvY2lhdGVkQ2hhbm5lbD0tMSxhLl9zb3VyY2U9bWUuVW5rbm93bixhLl9idWZmZXI9bnVsbCxhLl9idWZmZXJWaWV3PW51bGwsYS5fYnVmZmVyVmlld0FycmF5PW51bGwsYS5fYnVmZmVyVmlld0FycmF5QXJyYXk9bnVsbCxhLl9zaXplPTAsYS5fZXh0ZW5zaW9uPSIiLGEuX2ZpbGVzPW51bGwsYS5fd29ya2luZ0NhbnZhcz1udWxsLGEuX3dvcmtpbmdDb250ZXh0PW51bGwsYS5fY2FjaGVkQ29vcmRpbmF0ZXNNb2RlPW51bGwsYS5faXNEaXNhYmxlZD0hMSxhLl9jb21wcmVzc2lvbj1udWxsLGEuX3NwaGVyaWNhbFBvbHlub21pYWw9bnVsbCxhLl9zcGhlcmljYWxQb2x5bm9taWFsUHJvbWlzZT1udWxsLGEuX3NwaGVyaWNhbFBvbHlub21pYWxDb21wdXRlZD0hMSxhLl9sb2RHZW5lcmF0aW9uU2NhbGU9MCxhLl9sb2RHZW5lcmF0aW9uT2Zmc2V0PTAsYS5fdXNlU1JHQkJ1ZmZlcj0hMSxhLl9sb2RUZXh0dXJlSGlnaD1udWxsLGEuX2xvZFRleHR1cmVNaWQ9bnVsbCxhLl9sb2RUZXh0dXJlTG93PW51bGwsYS5faXNSR0JEPSExLGEuX2xpbmVhclNwZWN1bGFyTE9EPSExLGEuX2lycmFkaWFuY2VUZXh0dXJlPW51bGwsYS5faGFyZHdhcmVUZXh0dXJlPW51bGwsYS5fbWF4TG9kTGV2ZWw9bnVsbCxhLl9yZWZlcmVuY2VzPTEsYS5fZ2FtbWFTcGFjZT1udWxsLGEuX2VuZ2luZT10LGEuX3NvdXJjZT1yLGEuX3VuaXF1ZUlkPWUuX0NvdW50ZXIrKyxufHwoYS5faGFyZHdhcmVUZXh0dXJlPXQuX2NyZWF0ZUhhcmR3YXJlVGV4dHVyZSgpKSxhfXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInVzZU1pcE1hcHMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZW5lcmF0ZU1pcE1hcHN9LHNldDpmdW5jdGlvbih0KXt0aGlzLmdlbmVyYXRlTWlwTWFwcz10fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwidW5pcXVlSWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdW5pcXVlSWR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuZ2V0RW5naW5lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2VuZ2luZX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJzb3VyY2UiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc291cmNlfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLmluY3JlbWVudFJlZmVyZW5jZXM9ZnVuY3Rpb24oKXt0aGlzLl9yZWZlcmVuY2VzKyt9LGUucHJvdG90eXBlLnVwZGF0ZVNpemU9ZnVuY3Rpb24odCxyLG4pe249PT12b2lkIDAmJihuPTEpLHRoaXMuX2VuZ2luZS51cGRhdGVUZXh0dXJlRGltZW5zaW9ucyh0aGlzLHQscixuKSx0aGlzLndpZHRoPXQsdGhpcy5oZWlnaHQ9cix0aGlzLmRlcHRoPW4sdGhpcy5iYXNlV2lkdGg9dCx0aGlzLmJhc2VIZWlnaHQ9cix0aGlzLmJhc2VEZXB0aD1uLHRoaXMuX3NpemU9dCpyKm59LGUucHJvdG90eXBlLl9yZWJ1aWxkPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxyO2lmKHRoaXMuaXNSZWFkeT0hMSx0aGlzLl9jYWNoZWRDb29yZGluYXRlc01vZGU9bnVsbCx0aGlzLl9jYWNoZWRXcmFwVT1udWxsLHRoaXMuX2NhY2hlZFdyYXBWPW51bGwsdGhpcy5fY2FjaGVkV3JhcFI9bnVsbCx0aGlzLl9jYWNoZWRBbmlzb3Ryb3BpY0ZpbHRlcmluZ0xldmVsPW51bGwsdGhpcy5vblJlYnVpbGRDYWxsYmFjayl7dmFyIG49dGhpcy5vblJlYnVpbGRDYWxsYmFjayh0aGlzKSxhPWZ1bmN0aW9uKG8pe28uX3N3YXBBbmREaWUodCwhMSksdC5pc1JlYWR5PW4uaXNSZWFkeX07bi5pc0FzeW5jP24ucHJveHkudGhlbihhKTphKG4ucHJveHkpO3JldHVybn12YXIgcztzd2l0Y2godGhpcy5zb3VyY2Upe2Nhc2UgbWUuVGVtcDpicmVhaztjYXNlIG1lLlVybDpzPXRoaXMuX2VuZ2luZS5jcmVhdGVUZXh0dXJlKChyPXRoaXMuX29yaWdpbmFsVXJsKSE9PW51bGwmJnIhPT12b2lkIDA/cjp0aGlzLnVybCwhdGhpcy5nZW5lcmF0ZU1pcE1hcHMsdGhpcy5pbnZlcnRZLG51bGwsdGhpcy5zYW1wbGluZ01vZGUsZnVuY3Rpb24oKXtzLl9zd2FwQW5kRGllKHQsITEpLHQuaXNSZWFkeT0hMH0sbnVsbCx0aGlzLl9idWZmZXIsdm9pZCAwLHRoaXMuZm9ybWF0LHRoaXMuX2V4dGVuc2lvbix2b2lkIDAsdm9pZCAwLHZvaWQgMCx0aGlzLl91c2VTUkdCQnVmZmVyKTtyZXR1cm47Y2FzZSBtZS5SYXc6cz10aGlzLl9lbmdpbmUuY3JlYXRlUmF3VGV4dHVyZSh0aGlzLl9idWZmZXJWaWV3LHRoaXMuYmFzZVdpZHRoLHRoaXMuYmFzZUhlaWdodCx0aGlzLmZvcm1hdCx0aGlzLmdlbmVyYXRlTWlwTWFwcyx0aGlzLmludmVydFksdGhpcy5zYW1wbGluZ01vZGUsdGhpcy5fY29tcHJlc3Npb24sdGhpcy50eXBlLHZvaWQgMCx0aGlzLl91c2VTUkdCQnVmZmVyKSxzLl9zd2FwQW5kRGllKHRoaXMsITEpLHRoaXMuaXNSZWFkeT0hMDticmVhaztjYXNlIG1lLlJhdzNEOnM9dGhpcy5fZW5naW5lLmNyZWF0ZVJhd1RleHR1cmUzRCh0aGlzLl9idWZmZXJWaWV3LHRoaXMuYmFzZVdpZHRoLHRoaXMuYmFzZUhlaWdodCx0aGlzLmJhc2VEZXB0aCx0aGlzLmZvcm1hdCx0aGlzLmdlbmVyYXRlTWlwTWFwcyx0aGlzLmludmVydFksdGhpcy5zYW1wbGluZ01vZGUsdGhpcy5fY29tcHJlc3Npb24sdGhpcy50eXBlKSxzLl9zd2FwQW5kRGllKHRoaXMsITEpLHRoaXMuaXNSZWFkeT0hMDticmVhaztjYXNlIG1lLlJhdzJEQXJyYXk6cz10aGlzLl9lbmdpbmUuY3JlYXRlUmF3VGV4dHVyZTJEQXJyYXkodGhpcy5fYnVmZmVyVmlldyx0aGlzLmJhc2VXaWR0aCx0aGlzLmJhc2VIZWlnaHQsdGhpcy5iYXNlRGVwdGgsdGhpcy5mb3JtYXQsdGhpcy5nZW5lcmF0ZU1pcE1hcHMsdGhpcy5pbnZlcnRZLHRoaXMuc2FtcGxpbmdNb2RlLHRoaXMuX2NvbXByZXNzaW9uLHRoaXMudHlwZSkscy5fc3dhcEFuZERpZSh0aGlzLCExKSx0aGlzLmlzUmVhZHk9ITA7YnJlYWs7Y2FzZSBtZS5EeW5hbWljOnM9dGhpcy5fZW5naW5lLmNyZWF0ZUR5bmFtaWNUZXh0dXJlKHRoaXMuYmFzZVdpZHRoLHRoaXMuYmFzZUhlaWdodCx0aGlzLmdlbmVyYXRlTWlwTWFwcyx0aGlzLnNhbXBsaW5nTW9kZSkscy5fc3dhcEFuZERpZSh0aGlzLCExKSx0aGlzLl9lbmdpbmUudXBkYXRlRHluYW1pY1RleHR1cmUodGhpcyx0aGlzLl9lbmdpbmUuZ2V0UmVuZGVyaW5nQ2FudmFzKCksdGhpcy5pbnZlcnRZLHZvaWQgMCx2b2lkIDAsITApO2JyZWFrO2Nhc2UgbWUuQ3ViZTpzPXRoaXMuX2VuZ2luZS5jcmVhdGVDdWJlVGV4dHVyZSh0aGlzLnVybCxudWxsLHRoaXMuX2ZpbGVzLCF0aGlzLmdlbmVyYXRlTWlwTWFwcyxmdW5jdGlvbigpe3MuX3N3YXBBbmREaWUodCwhMSksdC5pc1JlYWR5PSEwfSxudWxsLHRoaXMuZm9ybWF0LHRoaXMuX2V4dGVuc2lvbiwhMSwwLDAsbnVsbCx2b2lkIDAsdGhpcy5fdXNlU1JHQkJ1ZmZlcik7cmV0dXJuO2Nhc2UgbWUuQ3ViZVJhdzpzPXRoaXMuX2VuZ2luZS5jcmVhdGVSYXdDdWJlVGV4dHVyZSh0aGlzLl9idWZmZXJWaWV3QXJyYXksdGhpcy53aWR0aCx0aGlzLmZvcm1hdCx0aGlzLnR5cGUsdGhpcy5nZW5lcmF0ZU1pcE1hcHMsdGhpcy5pbnZlcnRZLHRoaXMuc2FtcGxpbmdNb2RlLHRoaXMuX2NvbXByZXNzaW9uKSxzLl9zd2FwQW5kRGllKHRoaXMsITEpLHRoaXMuaXNSZWFkeT0hMDticmVhaztjYXNlIG1lLkN1YmVSYXdSR0JEOnJldHVybjtjYXNlIG1lLkN1YmVQcmVmaWx0ZXJlZDpzPXRoaXMuX2VuZ2luZS5jcmVhdGVQcmVmaWx0ZXJlZEN1YmVUZXh0dXJlKHRoaXMudXJsLG51bGwsdGhpcy5fbG9kR2VuZXJhdGlvblNjYWxlLHRoaXMuX2xvZEdlbmVyYXRpb25PZmZzZXQsZnVuY3Rpb24obyl7byYmby5fc3dhcEFuZERpZSh0LCExKSx0LmlzUmVhZHk9ITB9LG51bGwsdGhpcy5mb3JtYXQsdGhpcy5fZXh0ZW5zaW9uKSxzLl9zcGhlcmljYWxQb2x5bm9taWFsPXRoaXMuX3NwaGVyaWNhbFBvbHlub21pYWw7cmV0dXJufX0sZS5wcm90b3R5cGUuX3N3YXBBbmREaWU9ZnVuY3Rpb24odCxyKXt2YXIgbjtyPT09dm9pZCAwJiYocj0hMCksKG49dGhpcy5faGFyZHdhcmVUZXh0dXJlKT09PW51bGx8fG49PT12b2lkIDB8fG4uc2V0VXNhZ2UodC5fc291cmNlLHRoaXMuZ2VuZXJhdGVNaXBNYXBzLHRoaXMuaXNDdWJlLHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpLHQuX2hhcmR3YXJlVGV4dHVyZT10aGlzLl9oYXJkd2FyZVRleHR1cmUsciYmKHQuX2lzUkdCRD10aGlzLl9pc1JHQkQpLHRoaXMuX2xvZFRleHR1cmVIaWdoJiYodC5fbG9kVGV4dHVyZUhpZ2gmJnQuX2xvZFRleHR1cmVIaWdoLmRpc3Bvc2UoKSx0Ll9sb2RUZXh0dXJlSGlnaD10aGlzLl9sb2RUZXh0dXJlSGlnaCksdGhpcy5fbG9kVGV4dHVyZU1pZCYmKHQuX2xvZFRleHR1cmVNaWQmJnQuX2xvZFRleHR1cmVNaWQuZGlzcG9zZSgpLHQuX2xvZFRleHR1cmVNaWQ9dGhpcy5fbG9kVGV4dHVyZU1pZCksdGhpcy5fbG9kVGV4dHVyZUxvdyYmKHQuX2xvZFRleHR1cmVMb3cmJnQuX2xvZFRleHR1cmVMb3cuZGlzcG9zZSgpLHQuX2xvZFRleHR1cmVMb3c9dGhpcy5fbG9kVGV4dHVyZUxvdyksdGhpcy5faXJyYWRpYW5jZVRleHR1cmUmJih0Ll9pcnJhZGlhbmNlVGV4dHVyZSYmdC5faXJyYWRpYW5jZVRleHR1cmUuZGlzcG9zZSgpLHQuX2lycmFkaWFuY2VUZXh0dXJlPXRoaXMuX2lycmFkaWFuY2VUZXh0dXJlKTt2YXIgYT10aGlzLl9lbmdpbmUuZ2V0TG9hZGVkVGV4dHVyZXNDYWNoZSgpLHM9YS5pbmRleE9mKHRoaXMpO3MhPT0tMSYmYS5zcGxpY2UocywxKSxzPWEuaW5kZXhPZih0KSxzPT09LTEmJmEucHVzaCh0KX0sZS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3RoaXMuX3JlZmVyZW5jZXMtLSx0aGlzLm9uTG9hZGVkT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25FcnJvck9ic2VydmFibGUuY2xlYXIoKSx0aGlzLl9yZWZlcmVuY2VzPT09MCYmKHRoaXMuX2VuZ2luZS5fcmVsZWFzZVRleHR1cmUodGhpcyksdGhpcy5faGFyZHdhcmVUZXh0dXJlPW51bGwpfSxlLl9Db3VudGVyPTAsZX0oSW4pO2Z1bmN0aW9uIHllKCl7cmV0dXJuIHR5cGVvZiB3aW5kb3chPSJ1bmRlZmluZWQifWZ1bmN0aW9uIFJpKCl7cmV0dXJuIHR5cGVvZiBuYXZpZ2F0b3IhPSJ1bmRlZmluZWQifWZ1bmN0aW9uIGxyKCl7cmV0dXJuIHR5cGVvZiBkb2N1bWVudCE9InVuZGVmaW5lZCJ9ZnVuY3Rpb24gV3IoaSl7Zm9yKHZhciBlPSIiLHQ9aS5maXJzdENoaWxkO3Q7KXQubm9kZVR5cGU9PT0zJiYoZSs9dC50ZXh0Q29udGVudCksdD10Lm5leHRTaWJsaW5nO3JldHVybiBlfXZhciB6cj17SXNXaW5kb3dPYmplY3RFeGlzdDp5ZSxJc05hdmlnYXRvckF2YWlsYWJsZTpSaSxJc0RvY3VtZW50QXZhaWxhYmxlOmxyLEdldERPTVRleHRDb250ZW50OldyfTtmdW5jdGlvbiBYKGkpe3JldHVybiIiLmNvbmNhdChpLCIgbmVlZHMgdG8gYmUgaW1wb3J0ZWQgYmVmb3JlIGFzIGl0IGNvbnRhaW5zIGEgc2lkZS1lZmZlY3QgcmVxdWlyZWQgYnkgeW91ciBjb2RlLiIpfXZhciBXPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaSgpe31yZXR1cm4gaS5fQ2hlY2tMaW1pdD1mdW5jdGlvbihlLHQpe3ZhciByPWkuX0xvZ0xpbWl0T3V0cHV0c1tlXTtyZXR1cm4gcj9yLmN1cnJlbnQrKzoocj17bGltaXQ6dCxjdXJyZW50OjF9LGkuX0xvZ0xpbWl0T3V0cHV0c1tlXT1yKSxyLmN1cnJlbnQ8PXIubGltaXR9LGkuX0dlbmVyYXRlTGltaXRNZXNzYWdlPWZ1bmN0aW9uKGUsdCl7dmFyIHI9aS5fTG9nTGltaXRPdXRwdXRzW2VdO2lmKCEoIXJ8fCFpLk1lc3NhZ2VMaW1pdFJlYWNoZWQpJiZyLmN1cnJlbnQ9PT1yLmxpbWl0KXN3aXRjaCh0KXtjYXNlIDA6aS5Mb2coaS5NZXNzYWdlTGltaXRSZWFjaGVkLnJlcGxhY2UoLyVMSU1JVCUvZywiIityLmxpbWl0KS5yZXBsYWNlKC8lVFlQRSUvZywibG9nIikpO2JyZWFrO2Nhc2UgMTppLldhcm4oaS5NZXNzYWdlTGltaXRSZWFjaGVkLnJlcGxhY2UoLyVMSU1JVCUvZywiIityLmxpbWl0KS5yZXBsYWNlKC8lVFlQRSUvZywid2FybmluZyIpKTticmVhaztjYXNlIDI6aS5FcnJvcihpLk1lc3NhZ2VMaW1pdFJlYWNoZWQucmVwbGFjZSgvJUxJTUlUJS9nLCIiK3IubGltaXQpLnJlcGxhY2UoLyVUWVBFJS9nLCJlcnJvciIpKTticmVha319LGkuX0FkZExvZ0VudHJ5PWZ1bmN0aW9uKGUpe2kuX0xvZ0NhY2hlPWUraS5fTG9nQ2FjaGUsaS5Pbk5ld0NhY2hlRW50cnkmJmkuT25OZXdDYWNoZUVudHJ5KGUpfSxpLl9Gb3JtYXRNZXNzYWdlPWZ1bmN0aW9uKGUpe3ZhciB0PWZ1bmN0aW9uKG4pe3JldHVybiBuPDEwPyIwIituOiIiK259LHI9bmV3IERhdGU7cmV0dXJuIlsiK3Qoci5nZXRIb3VycygpKSsiOiIrdChyLmdldE1pbnV0ZXMoKSkrIjoiK3Qoci5nZXRTZWNvbmRzKCkpKyJdOiAiK2V9LGkuX0xvZ0Rpc2FibGVkPWZ1bmN0aW9uKGUsdCl7fSxpLl9Mb2dFbmFibGVkPWZ1bmN0aW9uKGUsdCl7aWYoISh0IT09dm9pZCAwJiYhaS5fQ2hlY2tMaW1pdChlLHQpKSl7dmFyIHI9aS5fRm9ybWF0TWVzc2FnZShlKTtjb25zb2xlLmxvZygiQkpTIC0gIityKTt2YXIgbj0iPGRpdiBzdHlsZT0nY29sb3I6d2hpdGUnPiIrcisiPC9kaXY+PGJyPiI7aS5fQWRkTG9nRW50cnkobiksaS5fR2VuZXJhdGVMaW1pdE1lc3NhZ2UoZSwwKX19LGkuX1dhcm5EaXNhYmxlZD1mdW5jdGlvbihlLHQpe30saS5fV2FybkVuYWJsZWQ9ZnVuY3Rpb24oZSx0KXtpZighKHQhPT12b2lkIDAmJiFpLl9DaGVja0xpbWl0KGUsdCkpKXt2YXIgcj1pLl9Gb3JtYXRNZXNzYWdlKGUpO2NvbnNvbGUud2FybigiQkpTIC0gIityKTt2YXIgbj0iPGRpdiBzdHlsZT0nY29sb3I6b3JhbmdlJz4iK2UrIjwvZGl2Pjxicj4iO2kuX0FkZExvZ0VudHJ5KG4pLGkuX0dlbmVyYXRlTGltaXRNZXNzYWdlKGUsMSl9fSxpLl9FcnJvckRpc2FibGVkPWZ1bmN0aW9uKGUsdCl7fSxpLl9FcnJvckVuYWJsZWQ9ZnVuY3Rpb24oZSx0KXtpZighKHQhPT12b2lkIDAmJiFpLl9DaGVja0xpbWl0KGUsdCkpKXt2YXIgcj1pLl9Gb3JtYXRNZXNzYWdlKGUpO2kuZXJyb3JzQ291bnQrKyxjb25zb2xlLmVycm9yKCJCSlMgLSAiK3IpO3ZhciBuPSI8ZGl2IHN0eWxlPSdjb2xvcjpyZWQnPiIrcisiPC9kaXY+PGJyPiI7aS5fQWRkTG9nRW50cnkobiksaS5fR2VuZXJhdGVMaW1pdE1lc3NhZ2UoZSwyKX19LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLCJMb2dDYWNoZSIse2dldDpmdW5jdGlvbigpe3JldHVybiBpLl9Mb2dDYWNoZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLkNsZWFyTG9nQ2FjaGU9ZnVuY3Rpb24oKXtpLl9Mb2dDYWNoZT0iIixpLl9Mb2dMaW1pdE91dHB1dHM9e30saS5lcnJvcnNDb3VudD0wfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSwiTG9nTGV2ZWxzIix7c2V0OmZ1bmN0aW9uKGUpeyhlJmkuTWVzc2FnZUxvZ0xldmVsKT09PWkuTWVzc2FnZUxvZ0xldmVsP2kuTG9nPWkuX0xvZ0VuYWJsZWQ6aS5Mb2c9aS5fTG9nRGlzYWJsZWQsKGUmaS5XYXJuaW5nTG9nTGV2ZWwpPT09aS5XYXJuaW5nTG9nTGV2ZWw/aS5XYXJuPWkuX1dhcm5FbmFibGVkOmkuV2Fybj1pLl9XYXJuRGlzYWJsZWQsKGUmaS5FcnJvckxvZ0xldmVsKT09PWkuRXJyb3JMb2dMZXZlbD9pLkVycm9yPWkuX0Vycm9yRW5hYmxlZDppLkVycm9yPWkuX0Vycm9yRGlzYWJsZWR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksaS5Ob25lTG9nTGV2ZWw9MCxpLk1lc3NhZ2VMb2dMZXZlbD0xLGkuV2FybmluZ0xvZ0xldmVsPTIsaS5FcnJvckxvZ0xldmVsPTQsaS5BbGxMb2dMZXZlbD03LGkuTWVzc2FnZUxpbWl0UmVhY2hlZD0iVG9vIG1hbnkgJVRZUEUlcyAoJUxJTUlUJSksIG5vIG1vcmUgJVRZUEUlcyB3aWxsIGJlIHJlcG9ydGVkIGZvciB0aGlzIG1lc3NhZ2UuIixpLl9Mb2dDYWNoZT0iIixpLl9Mb2dMaW1pdE91dHB1dHM9e30saS5lcnJvcnNDb3VudD0wLGkuTG9nPWkuX0xvZ0VuYWJsZWQsaS5XYXJuPWkuX1dhcm5FbmFibGVkLGkuRXJyb3I9aS5fRXJyb3JFbmFibGVkLGl9KCksS3Q9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKCl7dGhpcy5jaGlsZHJlbj1bXX1yZXR1cm4gaS5wcm90b3R5cGUuaXNWYWxpZD1mdW5jdGlvbihlKXtyZXR1cm4hMH0saS5wcm90b3R5cGUucHJvY2Vzcz1mdW5jdGlvbihlLHQpe3ZhciByPSIiO2lmKHRoaXMubGluZSl7dmFyIG49dGhpcy5saW5lLGE9dC5wcm9jZXNzb3I7aWYoYSl7aWYoYS5saW5lUHJvY2Vzc29yJiYobj1hLmxpbmVQcm9jZXNzb3Iobix0LmlzRnJhZ21lbnQsdC5wcm9jZXNzaW5nQ29udGV4dCkpLGEuYXR0cmlidXRlUHJvY2Vzc29yJiZ0aGlzLmxpbmUuc3RhcnRzV2l0aCgiYXR0cmlidXRlIikpbj1hLmF0dHJpYnV0ZVByb2Nlc3Nvcih0aGlzLmxpbmUsZSx0LnByb2Nlc3NpbmdDb250ZXh0KTtlbHNlIGlmKGEudmFyeWluZ1Byb2Nlc3NvciYmdGhpcy5saW5lLnN0YXJ0c1dpdGgoInZhcnlpbmciKSluPWEudmFyeWluZ1Byb2Nlc3Nvcih0aGlzLmxpbmUsdC5pc0ZyYWdtZW50LGUsdC5wcm9jZXNzaW5nQ29udGV4dCk7ZWxzZSBpZihhLnVuaWZvcm1Qcm9jZXNzb3ImJmEudW5pZm9ybVJlZ2V4cCYmYS51bmlmb3JtUmVnZXhwLnRlc3QodGhpcy5saW5lKSl0Lmxvb2tGb3JDbG9zaW5nQnJhY2tldEZvclVuaWZvcm1CdWZmZXJ8fChuPWEudW5pZm9ybVByb2Nlc3Nvcih0aGlzLmxpbmUsdC5pc0ZyYWdtZW50LGUsdC5wcm9jZXNzaW5nQ29udGV4dCkpO2Vsc2UgaWYoYS51bmlmb3JtQnVmZmVyUHJvY2Vzc29yJiZhLnVuaWZvcm1CdWZmZXJSZWdleHAmJmEudW5pZm9ybUJ1ZmZlclJlZ2V4cC50ZXN0KHRoaXMubGluZSkpdC5sb29rRm9yQ2xvc2luZ0JyYWNrZXRGb3JVbmlmb3JtQnVmZmVyfHwobj1hLnVuaWZvcm1CdWZmZXJQcm9jZXNzb3IodGhpcy5saW5lLHQuaXNGcmFnbWVudCx0LnByb2Nlc3NpbmdDb250ZXh0KSx0Lmxvb2tGb3JDbG9zaW5nQnJhY2tldEZvclVuaWZvcm1CdWZmZXI9ITApO2Vsc2UgaWYoYS50ZXh0dXJlUHJvY2Vzc29yJiZhLnRleHR1cmVSZWdleHAmJmEudGV4dHVyZVJlZ2V4cC50ZXN0KHRoaXMubGluZSkpbj1hLnRleHR1cmVQcm9jZXNzb3IodGhpcy5saW5lLHQuaXNGcmFnbWVudCxlLHQucHJvY2Vzc2luZ0NvbnRleHQpO2Vsc2UgaWYoKGEudW5pZm9ybVByb2Nlc3Nvcnx8YS51bmlmb3JtQnVmZmVyUHJvY2Vzc29yKSYmdGhpcy5saW5lLnN0YXJ0c1dpdGgoInVuaWZvcm0iKSYmIXQubG9va0ZvckNsb3NpbmdCcmFja2V0Rm9yVW5pZm9ybUJ1ZmZlcil7dmFyIHM9L3VuaWZvcm1ccysoPzooPzpoaWdocCk/fCg/Omxvd3ApPylccyooXFMrKVxzKyhcUyspXHMqOy87cy50ZXN0KHRoaXMubGluZSk/YS51bmlmb3JtUHJvY2Vzc29yJiYobj1hLnVuaWZvcm1Qcm9jZXNzb3IodGhpcy5saW5lLHQuaXNGcmFnbWVudCxlLHQucHJvY2Vzc2luZ0NvbnRleHQpKTphLnVuaWZvcm1CdWZmZXJQcm9jZXNzb3ImJihuPWEudW5pZm9ybUJ1ZmZlclByb2Nlc3Nvcih0aGlzLmxpbmUsdC5pc0ZyYWdtZW50LHQucHJvY2Vzc2luZ0NvbnRleHQpLHQubG9va0ZvckNsb3NpbmdCcmFja2V0Rm9yVW5pZm9ybUJ1ZmZlcj0hMCl9dC5sb29rRm9yQ2xvc2luZ0JyYWNrZXRGb3JVbmlmb3JtQnVmZmVyJiZ0aGlzLmxpbmUuaW5kZXhPZigifSIpIT09LTEmJih0Lmxvb2tGb3JDbG9zaW5nQnJhY2tldEZvclVuaWZvcm1CdWZmZXI9ITEsYS5lbmRPZlVuaWZvcm1CdWZmZXJQcm9jZXNzb3ImJihuPWEuZW5kT2ZVbmlmb3JtQnVmZmVyUHJvY2Vzc29yKHRoaXMubGluZSx0LmlzRnJhZ21lbnQsdC5wcm9jZXNzaW5nQ29udGV4dCkpKX1yKz1uK2BccgpgfXJldHVybiB0aGlzLmNoaWxkcmVuLmZvckVhY2goZnVuY3Rpb24obyl7cis9by5wcm9jZXNzKGUsdCl9KSx0aGlzLmFkZGl0aW9uYWxEZWZpbmVLZXkmJihlW3RoaXMuYWRkaXRpb25hbERlZmluZUtleV09dGhpcy5hZGRpdGlvbmFsRGVmaW5lVmFsdWV8fCJ0cnVlIikscn0saX0oKSxPbj1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoKXt9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiY3VycmVudExpbmUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbGluZXNbdGhpcy5saW5lSW5kZXhdfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiY2FuUmVhZCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmxpbmVJbmRleDx0aGlzLl9saW5lcy5sZW5ndGgtMX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImxpbmVzIix7c2V0OmZ1bmN0aW9uKGUpe3RoaXMuX2xpbmVzPVtdO2Zvcih2YXIgdD0wLHI9ZTt0PHIubGVuZ3RoO3QrKyl7dmFyIG49clt0XTtpZihuWzBdPT09IiMiKXt0aGlzLl9saW5lcy5wdXNoKG4pO2NvbnRpbnVlfWlmKG4udHJpbSgpLnN0YXJ0c1dpdGgoIi8vIikpe3RoaXMuX2xpbmVzLnB1c2gobik7Y29udGludWV9Zm9yKHZhciBhPW4uc3BsaXQoIjsiKSxzPTA7czxhLmxlbmd0aDtzKyspe3ZhciBvPWFbc107bz1vLnRyaW0oKSxvJiZ0aGlzLl9saW5lcy5wdXNoKG8rKHMhPT1hLmxlbmd0aC0xPyI7IjoiIikpfX19LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksaX0oKSxHcj1mdW5jdGlvbihpKXtLKGUsaSk7ZnVuY3Rpb24gZSgpe3JldHVybiBpIT09bnVsbCYmaS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIGUucHJvdG90eXBlLnByb2Nlc3M9ZnVuY3Rpb24odCxyKXtmb3IodmFyIG49MDtuPHRoaXMuY2hpbGRyZW4ubGVuZ3RoO24rKyl7dmFyIGE9dGhpcy5jaGlsZHJlbltuXTtpZihhLmlzVmFsaWQodCkpcmV0dXJuIGEucHJvY2Vzcyh0LHIpfXJldHVybiIifSxlfShLdCksRm49ZnVuY3Rpb24oaSl7SyhlLGkpO2Z1bmN0aW9uIGUoKXtyZXR1cm4gaSE9PW51bGwmJmkuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBlLnByb3RvdHlwZS5pc1ZhbGlkPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnRlc3RFeHByZXNzaW9uLmlzVHJ1ZSh0KX0sZX0oS3QpLFl0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaSgpe31yZXR1cm4gaS5wcm90b3R5cGUuaXNUcnVlPWZ1bmN0aW9uKGUpe3JldHVybiEwfSxpLnBvc3RmaXhUb0luZml4PWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXSxyPTAsbj1lO3I8bi5sZW5ndGg7cisrKXt2YXIgYT1uW3JdO2lmKGkuX09wZXJhdG9yUHJpb3JpdHlbYV09PT12b2lkIDApdC5wdXNoKGEpO2Vsc2V7dmFyIHM9dFt0Lmxlbmd0aC0xXSxvPXRbdC5sZW5ndGgtMl07dC5sZW5ndGgtPTIsdC5wdXNoKCIoIi5jb25jYXQobykuY29uY2F0KGEpLmNvbmNhdChzLCIpIikpfX1yZXR1cm4gdFt0Lmxlbmd0aC0xXX0saS5pbmZpeFRvUG9zdGZpeD1mdW5jdGlvbihlKXtmb3IodmFyIHQ9W10scj0tMSxuPWZ1bmN0aW9uKCl7Zj1mLnRyaW0oKSxmIT09IiImJih0LnB1c2goZiksZj0iIil9LGE9ZnVuY3Rpb24oYyl7cjxpLl9TdGFjay5sZW5ndGgtMSYmKGkuX1N0YWNrWysrcl09Yyl9LHM9ZnVuY3Rpb24oKXtyZXR1cm4gaS5fU3RhY2tbcl19LG89ZnVuY3Rpb24oKXtyZXR1cm4gcj09PS0xPyIhIUlOVkFMSUQgRVhQUkVTU0lPTiEhIjppLl9TdGFja1tyLS1dfSx1PTAsZj0iIjt1PGUubGVuZ3RoOyl7dmFyIGw9ZS5jaGFyQXQodSksaD11PGUubGVuZ3RoLTE/ZS5zdWJzdHIodSwyKToiIjtpZihsPT09IigiKWY9IiIsYShsKTtlbHNlIGlmKGw9PT0iKSIpe2ZvcihuKCk7ciE9PS0xJiZzKCkhPT0iKCI7KXQucHVzaChvKCkpO28oKX1lbHNlIGlmKGkuX09wZXJhdG9yUHJpb3JpdHlbaF0+MSl7Zm9yKG4oKTtyIT09LTEmJmkuX09wZXJhdG9yUHJpb3JpdHlbcygpXT49aS5fT3BlcmF0b3JQcmlvcml0eVtoXTspdC5wdXNoKG8oKSk7YShoKSx1Kyt9ZWxzZSBmKz1sO3UrK31mb3IobigpO3IhPT0tMTspcygpPT09IigiP28oKTp0LnB1c2gobygpKTtyZXR1cm4gdH0saS5fT3BlcmF0b3JQcmlvcml0eT17IikiOjAsIigiOjEsInx8IjoyLCImJiI6M30saS5fU3RhY2s9WyIiLCIiLCIiLCIiLCIiLCIiLCIiLCIiLCIiLCIiLCIiLCIiLCIiLCIiLCIiLCIiLCIiLCIiLCIiLCIiXSxpfSgpLGhyPWZ1bmN0aW9uKGkpe0soZSxpKTtmdW5jdGlvbiBlKHQscil7cj09PXZvaWQgMCYmKHI9ITEpO3ZhciBuPWkuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gbi5kZWZpbmU9dCxuLm5vdD1yLG59cmV0dXJuIGUucHJvdG90eXBlLmlzVHJ1ZT1mdW5jdGlvbih0KXt2YXIgcj10W3RoaXMuZGVmaW5lXSE9PXZvaWQgMDtyZXR1cm4gdGhpcy5ub3QmJihyPSFyKSxyfSxlfShZdCksd249ZnVuY3Rpb24oaSl7SyhlLGkpO2Z1bmN0aW9uIGUoKXtyZXR1cm4gaSE9PW51bGwmJmkuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBlLnByb3RvdHlwZS5pc1RydWU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMubGVmdE9wZXJhbmQuaXNUcnVlKHQpfHx0aGlzLnJpZ2h0T3BlcmFuZC5pc1RydWUodCl9LGV9KFl0KSxMbj1mdW5jdGlvbihpKXtLKGUsaSk7ZnVuY3Rpb24gZSgpe3JldHVybiBpIT09bnVsbCYmaS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIGUucHJvdG90eXBlLmlzVHJ1ZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5sZWZ0T3BlcmFuZC5pc1RydWUodCkmJnRoaXMucmlnaHRPcGVyYW5kLmlzVHJ1ZSh0KX0sZX0oWXQpLE5uPWZ1bmN0aW9uKGkpe0soZSxpKTtmdW5jdGlvbiBlKHQscixuKXt2YXIgYT1pLmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIGEuZGVmaW5lPXQsYS5vcGVyYW5kPXIsYS50ZXN0VmFsdWU9bixhfXJldHVybiBlLnByb3RvdHlwZS5pc1RydWU9ZnVuY3Rpb24odCl7dmFyIHI9dFt0aGlzLmRlZmluZV07cj09PXZvaWQgMCYmKHI9dGhpcy5kZWZpbmUpO3ZhciBuPSExLGE9cGFyc2VJbnQocikscz1wYXJzZUludCh0aGlzLnRlc3RWYWx1ZSk7c3dpdGNoKHRoaXMub3BlcmFuZCl7Y2FzZSI+IjpuPWE+czticmVhaztjYXNlIjwiOm49YTxzO2JyZWFrO2Nhc2UiPD0iOm49YTw9czticmVhaztjYXNlIj49IjpuPWE+PXM7YnJlYWs7Y2FzZSI9PSI6bj1hPT09czticmVha31yZXR1cm4gbn0sZX0oWXQpLENlOyhmdW5jdGlvbihpKXtpW2kuR0xTTD0wXT0iR0xTTCIsaVtpLldHU0w9MV09IldHU0wifSkoQ2V8fChDZT17fSkpO3ZhciBCbj0vZGVmaW5lZFxzKj9cKCguKz8pXCkvZyxYcj0vZGVmaW5lZFxzKj9cWyguKz8pXF0vZyxQaT0vI2luY2x1ZGVccz88KC4rKT4oXCgoLiopXCkpKihcWyguKilcXSkqL2csWnQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKCl7fXJldHVybiBpLkluaXRpYWxpemU9ZnVuY3Rpb24oZSl7ZS5wcm9jZXNzb3ImJmUucHJvY2Vzc29yLmluaXRpYWxpemVTaGFkZXJzJiZlLnByb2Nlc3Nvci5pbml0aWFsaXplU2hhZGVycyhlLnByb2Nlc3NpbmdDb250ZXh0KX0saS5Qcm9jZXNzPWZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBhPXRoaXMsczshKChzPXQucHJvY2Vzc29yKT09PW51bGx8fHM9PT12b2lkIDApJiZzLnByZVByb2Nlc3NTaGFkZXJDb2RlJiYoZT10LnByb2Nlc3Nvci5wcmVQcm9jZXNzU2hhZGVyQ29kZShlLHQuaXNGcmFnbWVudCkpLHRoaXMuX1Byb2Nlc3NJbmNsdWRlcyhlLHQsZnVuY3Rpb24obyl7dC5wcm9jZXNzQ29kZUFmdGVySW5jbHVkZXMmJihvPXQucHJvY2Vzc0NvZGVBZnRlckluY2x1ZGVzKHQuaXNGcmFnbWVudD8iZnJhZ21lbnQiOiJ2ZXJ0ZXgiLG8pKTt2YXIgdT1hLl9Qcm9jZXNzU2hhZGVyQ29udmVyc2lvbihvLHQsbik7cih1KX0pfSxpLlByZVByb2Nlc3M9ZnVuY3Rpb24oZSx0LHIsbil7dmFyIGE9dGhpcyxzOyEoKHM9dC5wcm9jZXNzb3IpPT09bnVsbHx8cz09PXZvaWQgMCkmJnMucHJlUHJvY2Vzc1NoYWRlckNvZGUmJihlPXQucHJvY2Vzc29yLnByZVByb2Nlc3NTaGFkZXJDb2RlKGUsdC5pc0ZyYWdtZW50KSksdGhpcy5fUHJvY2Vzc0luY2x1ZGVzKGUsdCxmdW5jdGlvbihvKXt0LnByb2Nlc3NDb2RlQWZ0ZXJJbmNsdWRlcyYmKG89dC5wcm9jZXNzQ29kZUFmdGVySW5jbHVkZXModC5pc0ZyYWdtZW50PyJmcmFnbWVudCI6InZlcnRleCIsbykpO3ZhciB1PWEuX0FwcGx5UHJlUHJvY2Vzc2luZyhvLHQsbik7cih1KX0pfSxpLkZpbmFsaXplPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4hci5wcm9jZXNzb3J8fCFyLnByb2Nlc3Nvci5maW5hbGl6ZVNoYWRlcnM/e3ZlcnRleENvZGU6ZSxmcmFnbWVudENvZGU6dH06ci5wcm9jZXNzb3IuZmluYWxpemVTaGFkZXJzKGUsdCxyLnByb2Nlc3NpbmdDb250ZXh0KX0saS5fUHJvY2Vzc1ByZWNpc2lvbj1mdW5jdGlvbihlLHQpe3ZhciByO2lmKCEoKHI9dC5wcm9jZXNzb3IpPT09bnVsbHx8cj09PXZvaWQgMCkmJnIubm9QcmVjaXNpb24pcmV0dXJuIGU7dmFyIG49dC5zaG91bGRVc2VIaWdoUHJlY2lzaW9uU2hhZGVyO3JldHVybiBlLmluZGV4T2YoInByZWNpc2lvbiBoaWdocCBmbG9hdCIpPT09LTE/bj9lPWBwcmVjaXNpb24gaGlnaHAgZmxvYXQ7CmArZTplPWBwcmVjaXNpb24gbWVkaXVtcCBmbG9hdDsKYCtlOm58fChlPWUucmVwbGFjZSgicHJlY2lzaW9uIGhpZ2hwIGZsb2F0IiwicHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQiKSksZX0saS5fRXh0cmFjdE9wZXJhdGlvbj1mdW5jdGlvbihlKXt2YXIgdD0vZGVmaW5lZFwoKC4rKVwpLyxyPXQuZXhlYyhlKTtpZihyJiZyLmxlbmd0aClyZXR1cm4gbmV3IGhyKHJbMV0udHJpbSgpLGVbMF09PT0iISIpO2Zvcih2YXIgbj1bIj09IiwiPj0iLCI8PSIsIjwiLCI+Il0sYT0iIixzPTAsbz0wLHU9bjtvPHUubGVuZ3RoJiYoYT11W29dLHM9ZS5pbmRleE9mKGEpLCEocz4tMSkpO28rKyk7aWYocz09PS0xKXJldHVybiBuZXcgaHIoZSk7dmFyIGY9ZS5zdWJzdHJpbmcoMCxzKS50cmltKCksbD1lLnN1YnN0cmluZyhzK2EubGVuZ3RoKS50cmltKCk7cmV0dXJuIG5ldyBObihmLGEsbCl9LGkuX0J1aWxkU3ViRXhwcmVzc2lvbj1mdW5jdGlvbihlKXtlPWUucmVwbGFjZShCbiwiZGVmaW5lZFskMV0iKTtmb3IodmFyIHQ9WXQuaW5maXhUb1Bvc3RmaXgoZSkscj1bXSxuPTAsYT10O248YS5sZW5ndGg7bisrKXt2YXIgcz1hW25dO2lmKHMhPT0ifHwiJiZzIT09IiYmIilyLnB1c2gocyk7ZWxzZSBpZihyLmxlbmd0aD49Mil7dmFyIG89cltyLmxlbmd0aC0xXSx1PXJbci5sZW5ndGgtMl07ci5sZW5ndGgtPTI7dmFyIGY9cz09IiYmIj9uZXcgTG46bmV3IHduO3R5cGVvZiBvPT0ic3RyaW5nIiYmKG89by5yZXBsYWNlKFhyLCJkZWZpbmVkKCQxKSIpKSx0eXBlb2YgdT09InN0cmluZyImJih1PXUucmVwbGFjZShYciwiZGVmaW5lZCgkMSkiKSksZi5sZWZ0T3BlcmFuZD10eXBlb2YgdT09InN0cmluZyI/dGhpcy5fRXh0cmFjdE9wZXJhdGlvbih1KTp1LGYucmlnaHRPcGVyYW5kPXR5cGVvZiBvPT0ic3RyaW5nIj90aGlzLl9FeHRyYWN0T3BlcmF0aW9uKG8pOm8sci5wdXNoKGYpfX12YXIgbD1yW3IubGVuZ3RoLTFdO3JldHVybiB0eXBlb2YgbD09InN0cmluZyImJihsPWwucmVwbGFjZShYciwiZGVmaW5lZCgkMSkiKSksdHlwZW9mIGw9PSJzdHJpbmciP3RoaXMuX0V4dHJhY3RPcGVyYXRpb24obCk6bH0saS5fQnVpbGRFeHByZXNzaW9uPWZ1bmN0aW9uKGUsdCl7dmFyIHI9bmV3IEZuLG49ZS5zdWJzdHJpbmcoMCx0KSxhPWUuc3Vic3RyaW5nKHQpO3JldHVybiBhPWEuc3Vic3RyaW5nKDAsKGEuaW5kZXhPZigiLy8iKSsxfHxhLmxlbmd0aCsxKS0xKS50cmltKCksbj09PSIjaWZkZWYiP3IudGVzdEV4cHJlc3Npb249bmV3IGhyKGEpOm49PT0iI2lmbmRlZiI/ci50ZXN0RXhwcmVzc2lvbj1uZXcgaHIoYSwhMCk6ci50ZXN0RXhwcmVzc2lvbj10aGlzLl9CdWlsZFN1YkV4cHJlc3Npb24oYSkscn0saS5fTW92ZUN1cnNvcldpdGhpbklmPWZ1bmN0aW9uKGUsdCxyKXtmb3IodmFyIG49ZS5jdXJyZW50TGluZTt0aGlzLl9Nb3ZlQ3Vyc29yKGUscik7KXtuPWUuY3VycmVudExpbmU7dmFyIGE9bi5zdWJzdHJpbmcoMCw1KS50b0xvd2VyQ2FzZSgpO2lmKGE9PT0iI2Vsc2UiKXt2YXIgcz1uZXcgS3Q7dC5jaGlsZHJlbi5wdXNoKHMpLHRoaXMuX01vdmVDdXJzb3IoZSxzKTtyZXR1cm59ZWxzZSBpZihhPT09IiNlbGlmIil7dmFyIG89dGhpcy5fQnVpbGRFeHByZXNzaW9uKG4sNSk7dC5jaGlsZHJlbi5wdXNoKG8pLHI9b319fSxpLl9Nb3ZlQ3Vyc29yPWZ1bmN0aW9uKGUsdCl7Zm9yKDtlLmNhblJlYWQ7KXtlLmxpbmVJbmRleCsrO3ZhciByPWUuY3VycmVudExpbmUsbj0vKCNpZmRlZil8KCNlbHNlKXwoI2VsaWYpfCgjZW5kaWYpfCgjaWZuZGVmKXwoI2lmKS8sYT1uLmV4ZWMocik7aWYoYSYmYS5sZW5ndGgpe3ZhciBzPWFbMF07c3dpdGNoKHMpe2Nhc2UiI2lmZGVmIjp7dmFyIG89bmV3IEdyO3QuY2hpbGRyZW4ucHVzaChvKTt2YXIgdT10aGlzLl9CdWlsZEV4cHJlc3Npb24ociw2KTtvLmNoaWxkcmVuLnB1c2godSksdGhpcy5fTW92ZUN1cnNvcldpdGhpbklmKGUsbyx1KTticmVha31jYXNlIiNlbHNlIjpjYXNlIiNlbGlmIjpyZXR1cm4hMDtjYXNlIiNlbmRpZiI6cmV0dXJuITE7Y2FzZSIjaWZuZGVmIjp7dmFyIG89bmV3IEdyO3QuY2hpbGRyZW4ucHVzaChvKTt2YXIgdT10aGlzLl9CdWlsZEV4cHJlc3Npb24ociw3KTtvLmNoaWxkcmVuLnB1c2godSksdGhpcy5fTW92ZUN1cnNvcldpdGhpbklmKGUsbyx1KTticmVha31jYXNlIiNpZiI6e3ZhciBvPW5ldyBHcix1PXRoaXMuX0J1aWxkRXhwcmVzc2lvbihyLDMpO3QuY2hpbGRyZW4ucHVzaChvKSxvLmNoaWxkcmVuLnB1c2godSksdGhpcy5fTW92ZUN1cnNvcldpdGhpbklmKGUsbyx1KTticmVha319fWVsc2V7dmFyIGY9bmV3IEt0O2lmKGYubGluZT1yLHQuY2hpbGRyZW4ucHVzaChmKSxyWzBdPT09IiMiJiZyWzFdPT09ImQiKXt2YXIgbD1yLnJlcGxhY2UoIjsiLCIiKS5zcGxpdCgiICIpO2YuYWRkaXRpb25hbERlZmluZUtleT1sWzFdLGwubGVuZ3RoPT09MyYmKGYuYWRkaXRpb25hbERlZmluZVZhbHVlPWxbMl0pfX19cmV0dXJuITF9LGkuX0V2YWx1YXRlUHJlUHJvY2Vzc29ycz1mdW5jdGlvbihlLHQscil7dmFyIG49bmV3IEt0LGE9bmV3IE9uO3JldHVybiBhLmxpbmVJbmRleD0tMSxhLmxpbmVzPWUuc3BsaXQoYApgKSx0aGlzLl9Nb3ZlQ3Vyc29yKGEsbiksbi5wcm9jZXNzKHQscil9LGkuX1ByZXBhcmVQcmVQcm9jZXNzb3JzPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByLG49ZS5kZWZpbmVzLGE9e30scz0wLG89bjtzPG8ubGVuZ3RoO3MrKyl7dmFyIHU9b1tzXSxmPXUucmVwbGFjZSgiI2RlZmluZSIsIiIpLnJlcGxhY2UoIjsiLCIiKS50cmltKCksbD1mLnNwbGl0KCIgIik7YVtsWzBdXT1sLmxlbmd0aD4xP2xbMV06IiJ9cmV0dXJuKChyPWUucHJvY2Vzc29yKT09PW51bGx8fHI9PT12b2lkIDA/dm9pZCAwOnIuc2hhZGVyTGFuZ3VhZ2UpPT09Q2UuR0xTTCYmKGEuR0xfRVM9InRydWUiKSxhLl9fVkVSU0lPTl9fPWUudmVyc2lvbixhW2UucGxhdGZvcm1OYW1lXT0idHJ1ZSIsdC5fZ2V0R2xvYmFsRGVmaW5lcyhhKSxhfSxpLl9Qcm9jZXNzU2hhZGVyQ29udmVyc2lvbj1mdW5jdGlvbihlLHQscil7dmFyIG49dGhpcy5fUHJvY2Vzc1ByZWNpc2lvbihlLHQpO2lmKCF0LnByb2Nlc3NvcilyZXR1cm4gbjtpZih0LnByb2Nlc3Nvci5zaGFkZXJMYW5ndWFnZT09PUNlLkdMU0wmJm4uaW5kZXhPZigiI3ZlcnNpb24gMyIpIT09LTEpcmV0dXJuIG4ucmVwbGFjZSgiI3ZlcnNpb24gMzAwIGVzIiwiIik7dmFyIGE9dC5kZWZpbmVzLHM9dGhpcy5fUHJlcGFyZVByZVByb2Nlc3NvcnModCxyKTtyZXR1cm4gdC5wcm9jZXNzb3IucHJlUHJvY2Vzc29yJiYobj10LnByb2Nlc3Nvci5wcmVQcm9jZXNzb3IobixhLHQuaXNGcmFnbWVudCx0LnByb2Nlc3NpbmdDb250ZXh0KSksbj10aGlzLl9FdmFsdWF0ZVByZVByb2Nlc3NvcnMobixzLHQpLHQucHJvY2Vzc29yLnBvc3RQcm9jZXNzb3ImJihuPXQucHJvY2Vzc29yLnBvc3RQcm9jZXNzb3IobixhLHQuaXNGcmFnbWVudCx0LnByb2Nlc3NpbmdDb250ZXh0LHIpKSxyLl9mZWF0dXJlcy5uZWVkU2hhZGVyQ29kZUlubGluaW5nJiYobj1yLmlubGluZVNoYWRlckNvZGUobikpLG59LGkuX0FwcGx5UHJlUHJvY2Vzc2luZz1mdW5jdGlvbihlLHQscil7dmFyIG4sYSxzPWUsbz10LmRlZmluZXMsdT10aGlzLl9QcmVwYXJlUHJlUHJvY2Vzc29ycyh0LHIpO3JldHVybiEoKG49dC5wcm9jZXNzb3IpPT09bnVsbHx8bj09PXZvaWQgMCkmJm4ucHJlUHJvY2Vzc29yJiYocz10LnByb2Nlc3Nvci5wcmVQcm9jZXNzb3IocyxvLHQuaXNGcmFnbWVudCx0LnByb2Nlc3NpbmdDb250ZXh0KSkscz10aGlzLl9FdmFsdWF0ZVByZVByb2Nlc3NvcnMocyx1LHQpLCEoKGE9dC5wcm9jZXNzb3IpPT09bnVsbHx8YT09PXZvaWQgMCkmJmEucG9zdFByb2Nlc3NvciYmKHM9dC5wcm9jZXNzb3IucG9zdFByb2Nlc3NvcihzLG8sdC5pc0ZyYWdtZW50LHQucHJvY2Vzc2luZ0NvbnRleHQscikpLHIuX2ZlYXR1cmVzLm5lZWRTaGFkZXJDb2RlSW5saW5pbmcmJihzPXIuaW5saW5lU2hhZGVyQ29kZShzKSksc30saS5fUHJvY2Vzc0luY2x1ZGVzPWZ1bmN0aW9uKGUsdCxyKXtmb3IodmFyIG49dGhpcyxhPVBpLmV4ZWMoZSkscz1uZXcgU3RyaW5nKGUpLG89ITEsdT1mdW5jdGlvbigpe3ZhciBsPWFbMV07aWYobC5pbmRleE9mKCJfX2RlY2xfXyIpIT09LTEmJihsPWwucmVwbGFjZSgvX19kZWNsX18vLCIiKSx0LnN1cHBvcnRzVW5pZm9ybUJ1ZmZlcnMmJihsPWwucmVwbGFjZSgvVmVydGV4LywiVWJvIiksbD1sLnJlcGxhY2UoL0ZyYWdtZW50LywiVWJvIikpLGw9bCsiRGVjbGFyYXRpb24iKSx0LmluY2x1ZGVzU2hhZGVyc1N0b3JlW2xdKXt2YXIgaD10LmluY2x1ZGVzU2hhZGVyc1N0b3JlW2xdO2lmKGFbMl0pZm9yKHZhciBjPWFbM10uc3BsaXQoIiwiKSxkPTA7ZDxjLmxlbmd0aDtkKz0yKXt2YXIgcD1uZXcgUmVnRXhwKGNbZF0sImciKSxnPWNbZCsxXTtoPWgucmVwbGFjZShwLGcpfWlmKGFbNF0pe3ZhciBfPWFbNV07aWYoXy5pbmRleE9mKCIuLiIpIT09LTEpe3ZhciB2PV8uc3BsaXQoIi4uIikseT1wYXJzZUludCh2WzBdKSxFPXBhcnNlSW50KHZbMV0pLFI9aC5zbGljZSgwKTtoPSIiLGlzTmFOKEUpJiYoRT10LmluZGV4UGFyYW1ldGVyc1t2WzFdXSk7Zm9yKHZhciBNPXk7TTxFO00rKyl0LnN1cHBvcnRzVW5pZm9ybUJ1ZmZlcnN8fChSPVIucmVwbGFjZSgvbGlnaHRce1hcfS4oXHcqKS9nLGZ1bmN0aW9uKEEsUyl7cmV0dXJuIFMrIntYfSJ9KSksaCs9Ui5yZXBsYWNlKC9ce1hcfS9nLE0udG9TdHJpbmcoKSkrYApgfWVsc2UgdC5zdXBwb3J0c1VuaWZvcm1CdWZmZXJzfHwoaD1oLnJlcGxhY2UoL2xpZ2h0XHtYXH0uKFx3KikvZyxmdW5jdGlvbihBLFMpe3JldHVybiBTKyJ7WH0ifSkpLGg9aC5yZXBsYWNlKC9ce1hcfS9nLF8pfXM9cy5yZXBsYWNlKGFbMF0saCksbz1vfHxoLmluZGV4T2YoIiNpbmNsdWRlPCIpPj0wfHxoLmluZGV4T2YoIiNpbmNsdWRlIDwiKT49MH1lbHNle3ZhciBDPXQuc2hhZGVyc1JlcG9zaXRvcnkrIlNoYWRlcnNJbmNsdWRlLyIrbCsiLmZ4IjtyZXR1cm4gaS5fRmlsZVRvb2xzTG9hZEZpbGUoQyxmdW5jdGlvbihBKXt0LmluY2x1ZGVzU2hhZGVyc1N0b3JlW2xdPUEsbi5fUHJvY2Vzc0luY2x1ZGVzKHMsdCxyKX0pLHt2YWx1ZTp2b2lkIDB9fWE9UGkuZXhlYyhlKX07YSE9bnVsbDspe3ZhciBmPXUoKTtpZih0eXBlb2YgZj09Im9iamVjdCIpcmV0dXJuIGYudmFsdWV9bz90aGlzLl9Qcm9jZXNzSW5jbHVkZXMocy50b1N0cmluZygpLHQscik6cihzKX0saS5fRmlsZVRvb2xzTG9hZEZpbGU9ZnVuY3Rpb24oZSx0LHIsbixhLHMpe3Rocm93IFgoIkZpbGVUb29scyIpfSxpfSgpLEw9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKCl7fXJldHVybiBpLkdldFNoYWRlcnNSZXBvc2l0b3J5PWZ1bmN0aW9uKGUpe3JldHVybiBlPT09dm9pZCAwJiYoZT1DZS5HTFNMKSxlPT09Q2UuR0xTTD9pLlNoYWRlcnNSZXBvc2l0b3J5OmkuU2hhZGVyc1JlcG9zaXRvcnlXR1NMfSxpLkdldFNoYWRlcnNTdG9yZT1mdW5jdGlvbihlKXtyZXR1cm4gZT09PXZvaWQgMCYmKGU9Q2UuR0xTTCksZT09PUNlLkdMU0w/aS5TaGFkZXJzU3RvcmU6aS5TaGFkZXJzU3RvcmVXR1NMfSxpLkdldEluY2x1ZGVzU2hhZGVyc1N0b3JlPWZ1bmN0aW9uKGUpe3JldHVybiBlPT09dm9pZCAwJiYoZT1DZS5HTFNMKSxlPT09Q2UuR0xTTD9pLkluY2x1ZGVzU2hhZGVyc1N0b3JlOmkuSW5jbHVkZXNTaGFkZXJzU3RvcmVXR1NMfSxpLlNoYWRlcnNSZXBvc2l0b3J5PSJzcmMvU2hhZGVycy8iLGkuU2hhZGVyc1N0b3JlPXt9LGkuSW5jbHVkZXNTaGFkZXJzU3RvcmU9e30saS5TaGFkZXJzUmVwb3NpdG9yeVdHU0w9InNyYy9TaGFkZXJzV0dTTC8iLGkuU2hhZGVyc1N0b3JlV0dTTD17fSxpLkluY2x1ZGVzU2hhZGVyc1N0b3JlV0dTTD17fSxpfSgpLEdlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaShlLHQscixuLGEscyxvLHUsZixsLGgsYyl7bj09PXZvaWQgMCYmKG49bnVsbCkscz09PXZvaWQgMCYmKHM9bnVsbCksbz09PXZvaWQgMCYmKG89bnVsbCksdT09PXZvaWQgMCYmKHU9bnVsbCksZj09PXZvaWQgMCYmKGY9bnVsbCksaD09PXZvaWQgMCYmKGg9IiIpLGM9PT12b2lkIDAmJihjPUNlLkdMU0wpO3ZhciBkPXRoaXMscCxnLF87dGhpcy5uYW1lPW51bGwsdGhpcy5kZWZpbmVzPSIiLHRoaXMub25Db21waWxlZD1udWxsLHRoaXMub25FcnJvcj1udWxsLHRoaXMub25CaW5kPW51bGwsdGhpcy51bmlxdWVJZD0wLHRoaXMub25Db21waWxlT2JzZXJ2YWJsZT1uZXcgTyx0aGlzLm9uRXJyb3JPYnNlcnZhYmxlPW5ldyBPLHRoaXMuX29uQmluZE9ic2VydmFibGU9bnVsbCx0aGlzLl93YXNQcmV2aW91c2x5UmVhZHk9ITEsdGhpcy5faXNEaXNwb3NlZD0hMSx0aGlzLl9ib25lc0NvbXB1dGF0aW9uRm9yY2VkVG9DUFU9ITEsdGhpcy5fdW5pZm9ybUJ1ZmZlcnNOYW1lcz17fSx0aGlzLl9tdWx0aVRhcmdldD0hMSx0aGlzLl9zYW1wbGVycz17fSx0aGlzLl9pc1JlYWR5PSExLHRoaXMuX2NvbXBpbGF0aW9uRXJyb3I9IiIsdGhpcy5fYWxsRmFsbGJhY2tzUHJvY2Vzc2VkPSExLHRoaXMuX3VuaWZvcm1zPXt9LHRoaXMuX2tleT0iIix0aGlzLl9mYWxsYmFja3M9bnVsbCx0aGlzLl92ZXJ0ZXhTb3VyY2VDb2RlT3ZlcnJpZGU9IiIsdGhpcy5fZnJhZ21lbnRTb3VyY2VDb2RlT3ZlcnJpZGU9IiIsdGhpcy5fdHJhbnNmb3JtRmVlZGJhY2tWYXJ5aW5ncz1udWxsLHRoaXMuX3BpcGVsaW5lQ29udGV4dD1udWxsLHRoaXMuX3ZlcnRleFNvdXJjZUNvZGU9IiIsdGhpcy5fZnJhZ21lbnRTb3VyY2VDb2RlPSIiLHRoaXMuX3Jhd1ZlcnRleFNvdXJjZUNvZGU9IiIsdGhpcy5fcmF3RnJhZ21lbnRTb3VyY2VDb2RlPSIiLHRoaXMubmFtZT1lLHRoaXMuX2tleT1oO3ZhciB2PXZvaWQgMCx5PW51bGw7aWYodC5hdHRyaWJ1dGVzKXt2YXIgRT10O2lmKHRoaXMuX2VuZ2luZT1yLHRoaXMuX2F0dHJpYnV0ZXNOYW1lcz1FLmF0dHJpYnV0ZXMsdGhpcy5fdW5pZm9ybXNOYW1lcz1FLnVuaWZvcm1zTmFtZXMuY29uY2F0KEUuc2FtcGxlcnMpLHRoaXMuX3NhbXBsZXJMaXN0PUUuc2FtcGxlcnMuc2xpY2UoKSx0aGlzLmRlZmluZXM9RS5kZWZpbmVzLHRoaXMub25FcnJvcj1FLm9uRXJyb3IsdGhpcy5vbkNvbXBpbGVkPUUub25Db21waWxlZCx0aGlzLl9mYWxsYmFja3M9RS5mYWxsYmFja3MsdGhpcy5faW5kZXhQYXJhbWV0ZXJzPUUuaW5kZXhQYXJhbWV0ZXJzLHRoaXMuX3RyYW5zZm9ybUZlZWRiYWNrVmFyeWluZ3M9RS50cmFuc2Zvcm1GZWVkYmFja1ZhcnlpbmdzfHxudWxsLHRoaXMuX211bHRpVGFyZ2V0PSEhRS5tdWx0aVRhcmdldCx0aGlzLl9zaGFkZXJMYW5ndWFnZT0ocD1FLnNoYWRlckxhbmd1YWdlKSE9PW51bGwmJnAhPT12b2lkIDA/cDpDZS5HTFNMLEUudW5pZm9ybUJ1ZmZlcnNOYW1lcyl7dGhpcy5fdW5pZm9ybUJ1ZmZlcnNOYW1lc0xpc3Q9RS51bmlmb3JtQnVmZmVyc05hbWVzLnNsaWNlKCk7Zm9yKHZhciBSPTA7UjxFLnVuaWZvcm1CdWZmZXJzTmFtZXMubGVuZ3RoO1IrKyl0aGlzLl91bmlmb3JtQnVmZmVyc05hbWVzW0UudW5pZm9ybUJ1ZmZlcnNOYW1lc1tSXV09Un15PShnPUUucHJvY2Vzc0ZpbmFsQ29kZSkhPT1udWxsJiZnIT09dm9pZCAwP2c6bnVsbCx2PShfPUUucHJvY2Vzc0NvZGVBZnRlckluY2x1ZGVzKSE9PW51bGwmJl8hPT12b2lkIDA/Xzp2b2lkIDB9ZWxzZSB0aGlzLl9lbmdpbmU9YSx0aGlzLmRlZmluZXM9cz09bnVsbD8iIjpzLHRoaXMuX3VuaWZvcm1zTmFtZXM9ci5jb25jYXQobiksdGhpcy5fc2FtcGxlckxpc3Q9bj9uLnNsaWNlKCk6W10sdGhpcy5fYXR0cmlidXRlc05hbWVzPXQsdGhpcy5fdW5pZm9ybUJ1ZmZlcnNOYW1lc0xpc3Q9W10sdGhpcy5fc2hhZGVyTGFuZ3VhZ2U9Yyx0aGlzLm9uRXJyb3I9Zix0aGlzLm9uQ29tcGlsZWQ9dSx0aGlzLl9pbmRleFBhcmFtZXRlcnM9bCx0aGlzLl9mYWxsYmFja3M9bzt0aGlzLl9hdHRyaWJ1dGVMb2NhdGlvbkJ5TmFtZT17fSx0aGlzLnVuaXF1ZUlkPWkuX1VuaXF1ZUlkU2VlZCsrO3ZhciBNLEMsQT15ZSgpP3RoaXMuX2VuZ2luZS5nZXRIb3N0RG9jdW1lbnQoKTpudWxsO2UudmVydGV4U291cmNlP009InNvdXJjZToiK2UudmVydGV4U291cmNlOmUudmVydGV4RWxlbWVudD8oTT1BP0EuZ2V0RWxlbWVudEJ5SWQoZS52ZXJ0ZXhFbGVtZW50KTpudWxsLE18fChNPWUudmVydGV4RWxlbWVudCkpOk09ZS52ZXJ0ZXh8fGUsZS5mcmFnbWVudFNvdXJjZT9DPSJzb3VyY2U6IitlLmZyYWdtZW50U291cmNlOmUuZnJhZ21lbnRFbGVtZW50PyhDPUE/QS5nZXRFbGVtZW50QnlJZChlLmZyYWdtZW50RWxlbWVudCk6bnVsbCxDfHwoQz1lLmZyYWdtZW50RWxlbWVudCkpOkM9ZS5mcmFnbWVudHx8ZSx0aGlzLl9wcm9jZXNzaW5nQ29udGV4dD10aGlzLl9lbmdpbmUuX2dldFNoYWRlclByb2Nlc3NpbmdDb250ZXh0KHRoaXMuX3NoYWRlckxhbmd1YWdlKTt2YXIgUz17ZGVmaW5lczp0aGlzLmRlZmluZXMuc3BsaXQoYApgKSxpbmRleFBhcmFtZXRlcnM6dGhpcy5faW5kZXhQYXJhbWV0ZXJzLGlzRnJhZ21lbnQ6ITEsc2hvdWxkVXNlSGlnaFByZWNpc2lvblNoYWRlcjp0aGlzLl9lbmdpbmUuX3Nob3VsZFVzZUhpZ2hQcmVjaXNpb25TaGFkZXIscHJvY2Vzc29yOnRoaXMuX2VuZ2luZS5fZ2V0U2hhZGVyUHJvY2Vzc29yKHRoaXMuX3NoYWRlckxhbmd1YWdlKSxzdXBwb3J0c1VuaWZvcm1CdWZmZXJzOnRoaXMuX2VuZ2luZS5zdXBwb3J0c1VuaWZvcm1CdWZmZXJzLHNoYWRlcnNSZXBvc2l0b3J5OkwuR2V0U2hhZGVyc1JlcG9zaXRvcnkodGhpcy5fc2hhZGVyTGFuZ3VhZ2UpLGluY2x1ZGVzU2hhZGVyc1N0b3JlOkwuR2V0SW5jbHVkZXNTaGFkZXJzU3RvcmUodGhpcy5fc2hhZGVyTGFuZ3VhZ2UpLHZlcnNpb246KHRoaXMuX2VuZ2luZS52ZXJzaW9uKjEwMCkudG9TdHJpbmcoKSxwbGF0Zm9ybU5hbWU6dGhpcy5fZW5naW5lLnNoYWRlclBsYXRmb3JtTmFtZSxwcm9jZXNzaW5nQ29udGV4dDp0aGlzLl9wcm9jZXNzaW5nQ29udGV4dCxpc05EQ0hhbGZaUmFuZ2U6dGhpcy5fZW5naW5lLmlzTkRDSGFsZlpSYW5nZSx1c2VSZXZlcnNlRGVwdGhCdWZmZXI6dGhpcy5fZW5naW5lLnVzZVJldmVyc2VEZXB0aEJ1ZmZlcixwcm9jZXNzQ29kZUFmdGVySW5jbHVkZXM6dn0sdz1bdm9pZCAwLHZvaWQgMF0sRj1mdW5jdGlvbigpe2lmKHdbMF0mJndbMV0pe1MuaXNGcmFnbWVudD0hMDt2YXIgeD13WzBdLEc9d1sxXTtadC5Qcm9jZXNzKEcsUyxmdW5jdGlvbih6KXt5JiYoej15KCJmcmFnbWVudCIseikpO3ZhciBOPVp0LkZpbmFsaXplKHgseixTKTtkLl91c2VGaW5hbENvZGUoTi52ZXJ0ZXhDb2RlLE4uZnJhZ21lbnRDb2RlLGUpfSxkLl9lbmdpbmUpfX07dGhpcy5fbG9hZFNoYWRlcihNLCJWZXJ0ZXgiLCIiLGZ1bmN0aW9uKHgpe1p0LkluaXRpYWxpemUoUyksWnQuUHJvY2Vzcyh4LFMsZnVuY3Rpb24oRyl7ZC5fcmF3VmVydGV4U291cmNlQ29kZT14LHkmJihHPXkoInZlcnRleCIsRykpLHdbMF09RyxGKCl9LGQuX2VuZ2luZSl9KSx0aGlzLl9sb2FkU2hhZGVyKEMsIkZyYWdtZW50IiwiUGl4ZWwiLGZ1bmN0aW9uKHgpe2QuX3Jhd0ZyYWdtZW50U291cmNlQ29kZT14LHdbMV09eCxGKCl9KX1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGksIlNoYWRlcnNSZXBvc2l0b3J5Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIEwuU2hhZGVyc1JlcG9zaXRvcnl9LHNldDpmdW5jdGlvbihlKXtMLlNoYWRlcnNSZXBvc2l0b3J5PWV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJvbkJpbmRPYnNlcnZhYmxlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29uQmluZE9ic2VydmFibGV8fCh0aGlzLl9vbkJpbmRPYnNlcnZhYmxlPW5ldyBPKSx0aGlzLl9vbkJpbmRPYnNlcnZhYmxlfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkucHJvdG90eXBlLl91c2VGaW5hbENvZGU9ZnVuY3Rpb24oZSx0LHIpe2lmKHIpe3ZhciBuPXIudmVydGV4RWxlbWVudHx8ci52ZXJ0ZXh8fHIuc3BlY3Rvck5hbWV8fHIsYT1yLmZyYWdtZW50RWxlbWVudHx8ci5mcmFnbWVudHx8ci5zcGVjdG9yTmFtZXx8cjt0aGlzLl92ZXJ0ZXhTb3VyY2VDb2RlPSh0aGlzLl9zaGFkZXJMYW5ndWFnZT09PUNlLldHU0w/Ii8vIjoiIikrIiNkZWZpbmUgU0hBREVSX05BTUUgdmVydGV4OiIrbitgCmArZSx0aGlzLl9mcmFnbWVudFNvdXJjZUNvZGU9KHRoaXMuX3NoYWRlckxhbmd1YWdlPT09Q2UuV0dTTD8iLy8iOiIiKSsiI2RlZmluZSBTSEFERVJfTkFNRSBmcmFnbWVudDoiK2ErYApgK3R9ZWxzZSB0aGlzLl92ZXJ0ZXhTb3VyY2VDb2RlPWUsdGhpcy5fZnJhZ21lbnRTb3VyY2VDb2RlPXQ7dGhpcy5fcHJlcGFyZUVmZmVjdCgpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImtleSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9rZXl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksaS5wcm90b3R5cGUuaXNSZWFkeT1mdW5jdGlvbigpe3RyeXtyZXR1cm4gdGhpcy5faXNSZWFkeUludGVybmFsKCl9Y2F0Y2h7cmV0dXJuITF9fSxpLnByb3RvdHlwZS5faXNSZWFkeUludGVybmFsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lzUmVhZHk/ITA6dGhpcy5fcGlwZWxpbmVDb250ZXh0P3RoaXMuX3BpcGVsaW5lQ29udGV4dC5pc1JlYWR5OiExfSxpLnByb3RvdHlwZS5nZXRFbmdpbmU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZW5naW5lfSxpLnByb3RvdHlwZS5nZXRQaXBlbGluZUNvbnRleHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcGlwZWxpbmVDb250ZXh0fSxpLnByb3RvdHlwZS5nZXRBdHRyaWJ1dGVzTmFtZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYXR0cmlidXRlc05hbWVzfSxpLnByb3RvdHlwZS5nZXRBdHRyaWJ1dGVMb2NhdGlvbj1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fYXR0cmlidXRlc1tlXX0saS5wcm90b3R5cGUuZ2V0QXR0cmlidXRlTG9jYXRpb25CeU5hbWU9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX2F0dHJpYnV0ZUxvY2F0aW9uQnlOYW1lW2VdfSxpLnByb3RvdHlwZS5nZXRBdHRyaWJ1dGVzQ291bnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYXR0cmlidXRlcy5sZW5ndGh9LGkucHJvdG90eXBlLmdldFVuaWZvcm1JbmRleD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fdW5pZm9ybXNOYW1lcy5pbmRleE9mKGUpfSxpLnByb3RvdHlwZS5nZXRVbmlmb3JtPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl91bmlmb3Jtc1tlXX0saS5wcm90b3R5cGUuZ2V0U2FtcGxlcnM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2FtcGxlckxpc3R9LGkucHJvdG90eXBlLmdldFVuaWZvcm1OYW1lcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl91bmlmb3Jtc05hbWVzfSxpLnByb3RvdHlwZS5nZXRVbmlmb3JtQnVmZmVyc05hbWVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3VuaWZvcm1CdWZmZXJzTmFtZXNMaXN0fSxpLnByb3RvdHlwZS5nZXRJbmRleFBhcmFtZXRlcnM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW5kZXhQYXJhbWV0ZXJzfSxpLnByb3RvdHlwZS5nZXRDb21waWxhdGlvbkVycm9yPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NvbXBpbGF0aW9uRXJyb3J9LGkucHJvdG90eXBlLmFsbEZhbGxiYWNrc1Byb2Nlc3NlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9hbGxGYWxsYmFja3NQcm9jZXNzZWR9LGkucHJvdG90eXBlLmV4ZWN1dGVXaGVuQ29tcGlsZWQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztpZih0aGlzLmlzUmVhZHkoKSl7ZSh0aGlzKTtyZXR1cm59dGhpcy5vbkNvbXBpbGVPYnNlcnZhYmxlLmFkZChmdW5jdGlvbihyKXtlKHIpfSksKCF0aGlzLl9waXBlbGluZUNvbnRleHR8fHRoaXMuX3BpcGVsaW5lQ29udGV4dC5pc0FzeW5jKSYmc2V0VGltZW91dChmdW5jdGlvbigpe3QuX2NoZWNrSXNSZWFkeShudWxsKX0sMTYpfSxpLnByb3RvdHlwZS5fY2hlY2tJc1JlYWR5PWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dHJ5e2lmKHRoaXMuX2lzUmVhZHlJbnRlcm5hbCgpKXJldHVybn1jYXRjaChyKXt0aGlzLl9wcm9jZXNzQ29tcGlsYXRpb25FcnJvcnMocixlKTtyZXR1cm59dGhpcy5faXNEaXNwb3NlZHx8c2V0VGltZW91dChmdW5jdGlvbigpe3QuX2NoZWNrSXNSZWFkeShlKX0sMTYpfSxpLnByb3RvdHlwZS5fbG9hZFNoYWRlcj1mdW5jdGlvbihlLHQscixuKXtpZih0eXBlb2YgSFRNTEVsZW1lbnQhPSJ1bmRlZmluZWQiJiZlIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpe3ZhciBhPVdyKGUpO24oYSk7cmV0dXJufWlmKGUuc3Vic3RyKDAsNyk9PT0ic291cmNlOiIpe24oZS5zdWJzdHIoNykpO3JldHVybn1pZihlLnN1YnN0cigwLDcpPT09ImJhc2U2NDoiKXt2YXIgcz13aW5kb3cuYXRvYihlLnN1YnN0cig3KSk7bihzKTtyZXR1cm59dmFyIG89TC5HZXRTaGFkZXJzU3RvcmUodGhpcy5fc2hhZGVyTGFuZ3VhZ2UpO2lmKG9bZSt0KyJTaGFkZXIiXSl7bihvW2UrdCsiU2hhZGVyIl0pO3JldHVybn1pZihyJiZvW2UrcisiU2hhZGVyIl0pe24ob1tlK3IrIlNoYWRlciJdKTtyZXR1cm59dmFyIHU7ZVswXT09PSIuInx8ZVswXT09PSIvInx8ZS5pbmRleE9mKCJodHRwIik+LTE/dT1lOnU9TC5HZXRTaGFkZXJzUmVwb3NpdG9yeSh0aGlzLl9zaGFkZXJMYW5ndWFnZSkrZSx0aGlzLl9lbmdpbmUuX2xvYWRGaWxlKHUrIi4iK3QudG9Mb3dlckNhc2UoKSsiLmZ4IixuKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJ2ZXJ0ZXhTb3VyY2VDb2RlIix7Z2V0OmZ1bmN0aW9uKCl7dmFyIGUsdDtyZXR1cm4gdGhpcy5fdmVydGV4U291cmNlQ29kZU92ZXJyaWRlJiZ0aGlzLl9mcmFnbWVudFNvdXJjZUNvZGVPdmVycmlkZT90aGlzLl92ZXJ0ZXhTb3VyY2VDb2RlT3ZlcnJpZGU6KHQ9KGU9dGhpcy5fcGlwZWxpbmVDb250ZXh0KT09PW51bGx8fGU9PT12b2lkIDA/dm9pZCAwOmUuX2dldFZlcnRleFNoYWRlckNvZGUoKSkhPT1udWxsJiZ0IT09dm9pZCAwP3Q6dGhpcy5fdmVydGV4U291cmNlQ29kZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImZyYWdtZW50U291cmNlQ29kZSIse2dldDpmdW5jdGlvbigpe3ZhciBlLHQ7cmV0dXJuIHRoaXMuX3ZlcnRleFNvdXJjZUNvZGVPdmVycmlkZSYmdGhpcy5fZnJhZ21lbnRTb3VyY2VDb2RlT3ZlcnJpZGU/dGhpcy5fZnJhZ21lbnRTb3VyY2VDb2RlT3ZlcnJpZGU6KHQ9KGU9dGhpcy5fcGlwZWxpbmVDb250ZXh0KT09PW51bGx8fGU9PT12b2lkIDA/dm9pZCAwOmUuX2dldEZyYWdtZW50U2hhZGVyQ29kZSgpKSE9PW51bGwmJnQhPT12b2lkIDA/dDp0aGlzLl9mcmFnbWVudFNvdXJjZUNvZGV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJyYXdWZXJ0ZXhTb3VyY2VDb2RlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3Jhd1ZlcnRleFNvdXJjZUNvZGV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJyYXdGcmFnbWVudFNvdXJjZUNvZGUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmF3RnJhZ21lbnRTb3VyY2VDb2RlfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkucHJvdG90eXBlLl9yZWJ1aWxkUHJvZ3JhbT1mdW5jdGlvbihlLHQscixuKXt2YXIgYT10aGlzO3RoaXMuX2lzUmVhZHk9ITEsdGhpcy5fdmVydGV4U291cmNlQ29kZU92ZXJyaWRlPWUsdGhpcy5fZnJhZ21lbnRTb3VyY2VDb2RlT3ZlcnJpZGU9dCx0aGlzLm9uRXJyb3I9ZnVuY3Rpb24ocyxvKXtuJiZuKG8pfSx0aGlzLm9uQ29tcGlsZWQ9ZnVuY3Rpb24oKXt2YXIgcz1hLmdldEVuZ2luZSgpLnNjZW5lcztpZihzKWZvcih2YXIgbz0wO288cy5sZW5ndGg7bysrKXNbb10ubWFya0FsbE1hdGVyaWFsc0FzRGlydHkoNjMpO2EuX3BpcGVsaW5lQ29udGV4dC5faGFuZGxlc1NwZWN0b3JSZWJ1aWxkQ2FsbGJhY2socil9LHRoaXMuX2ZhbGxiYWNrcz1udWxsLHRoaXMuX3ByZXBhcmVFZmZlY3QoKX0saS5wcm90b3R5cGUuX3ByZXBhcmVFZmZlY3Q9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9dGhpcy5fYXR0cmlidXRlc05hbWVzLHI9dGhpcy5kZWZpbmVzLG49dGhpcy5fcGlwZWxpbmVDb250ZXh0O3RoaXMuX2lzUmVhZHk9ITE7dHJ5e3ZhciBhPXRoaXMuX2VuZ2luZTt0aGlzLl9waXBlbGluZUNvbnRleHQ9YS5jcmVhdGVQaXBlbGluZUNvbnRleHQodGhpcy5fcHJvY2Vzc2luZ0NvbnRleHQpLHRoaXMuX3BpcGVsaW5lQ29udGV4dC5fbmFtZT10aGlzLl9rZXk7dmFyIHM9dGhpcy5fcmVidWlsZFByb2dyYW0uYmluZCh0aGlzKTt0aGlzLl92ZXJ0ZXhTb3VyY2VDb2RlT3ZlcnJpZGUmJnRoaXMuX2ZyYWdtZW50U291cmNlQ29kZU92ZXJyaWRlP2EuX3ByZXBhcmVQaXBlbGluZUNvbnRleHQodGhpcy5fcGlwZWxpbmVDb250ZXh0LHRoaXMuX3ZlcnRleFNvdXJjZUNvZGVPdmVycmlkZSx0aGlzLl9mcmFnbWVudFNvdXJjZUNvZGVPdmVycmlkZSwhMCx0aGlzLl9yYXdWZXJ0ZXhTb3VyY2VDb2RlLHRoaXMuX3Jhd0ZyYWdtZW50U291cmNlQ29kZSxzLG51bGwsdGhpcy5fdHJhbnNmb3JtRmVlZGJhY2tWYXJ5aW5ncyx0aGlzLl9rZXkpOmEuX3ByZXBhcmVQaXBlbGluZUNvbnRleHQodGhpcy5fcGlwZWxpbmVDb250ZXh0LHRoaXMuX3ZlcnRleFNvdXJjZUNvZGUsdGhpcy5fZnJhZ21lbnRTb3VyY2VDb2RlLCExLHRoaXMuX3Jhd1ZlcnRleFNvdXJjZUNvZGUsdGhpcy5fcmF3RnJhZ21lbnRTb3VyY2VDb2RlLHMscix0aGlzLl90cmFuc2Zvcm1GZWVkYmFja1ZhcnlpbmdzLHRoaXMuX2tleSksYS5fZXhlY3V0ZVdoZW5SZW5kZXJpbmdTdGF0ZUlzQ29tcGlsZWQodGhpcy5fcGlwZWxpbmVDb250ZXh0LGZ1bmN0aW9uKCl7aWYoZS5fYXR0cmlidXRlcz1bXSxlLl9waXBlbGluZUNvbnRleHQuX2ZpbGxFZmZlY3RJbmZvcm1hdGlvbihlLGUuX3VuaWZvcm1CdWZmZXJzTmFtZXMsZS5fdW5pZm9ybXNOYW1lcyxlLl91bmlmb3JtcyxlLl9zYW1wbGVyTGlzdCxlLl9zYW1wbGVycyx0LGUuX2F0dHJpYnV0ZXMpLHQpZm9yKHZhciBvPTA7bzx0Lmxlbmd0aDtvKyspe3ZhciB1PXRbb107ZS5fYXR0cmlidXRlTG9jYXRpb25CeU5hbWVbdV09ZS5fYXR0cmlidXRlc1tvXX1hLmJpbmRTYW1wbGVycyhlKSxlLl9jb21waWxhdGlvbkVycm9yPSIiLGUuX2lzUmVhZHk9ITAsZS5vbkNvbXBpbGVkJiZlLm9uQ29tcGlsZWQoZSksZS5vbkNvbXBpbGVPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhlKSxlLm9uQ29tcGlsZU9ic2VydmFibGUuY2xlYXIoKSxlLl9mYWxsYmFja3MmJmUuX2ZhbGxiYWNrcy51bkJpbmRNZXNoKCksbiYmZS5nZXRFbmdpbmUoKS5fZGVsZXRlUGlwZWxpbmVDb250ZXh0KG4pfSksdGhpcy5fcGlwZWxpbmVDb250ZXh0LmlzQXN5bmMmJnRoaXMuX2NoZWNrSXNSZWFkeShuKX1jYXRjaChvKXt0aGlzLl9wcm9jZXNzQ29tcGlsYXRpb25FcnJvcnMobyxuKX19LGkucHJvdG90eXBlLl9nZXRTaGFkZXJDb2RlQW5kRXJyb3JMaW5lPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yPy9GUkFHTUVOVCBTSEFERVIgRVJST1I6IDA6KFxkKz8pOi86L1ZFUlRFWCBTSEFERVIgRVJST1I6IDA6KFxkKz8pOi8sYT1udWxsO2lmKHQmJmUpe3ZhciBzPXQubWF0Y2gobik7aWYocyYmcy5sZW5ndGg9PT0yKXt2YXIgbz1wYXJzZUludChzWzFdKSx1PWUuc3BsaXQoYApgLC0xKTt1Lmxlbmd0aD49byYmKGE9Ik9mZmVuZGluZyBsaW5lIFsiLmNvbmNhdChvLCJdIGluICIpLmNvbmNhdChyPyJmcmFnbWVudCI6InZlcnRleCIsIiBjb2RlOiAiKS5jb25jYXQodVtvLTFdKSl9fXJldHVybltlLGFdfSxpLnByb3RvdHlwZS5fcHJvY2Vzc0NvbXBpbGF0aW9uRXJyb3JzPWZ1bmN0aW9uKGUsdCl7dmFyIHIsbixhLHMsbzt0PT09dm9pZCAwJiYodD1udWxsKSx0aGlzLl9jb21waWxhdGlvbkVycm9yPWUubWVzc2FnZTt2YXIgdT10aGlzLl9hdHRyaWJ1dGVzTmFtZXMsZj10aGlzLl9mYWxsYmFja3M7aWYoVy5FcnJvcigiVW5hYmxlIHRvIGNvbXBpbGUgZWZmZWN0OiIpLFcuRXJyb3IoIlVuaWZvcm1zOiAiK3RoaXMuX3VuaWZvcm1zTmFtZXMubWFwKGZ1bmN0aW9uKGQpe3JldHVybiIgIitkfSkpLFcuRXJyb3IoIkF0dHJpYnV0ZXM6ICIrdS5tYXAoZnVuY3Rpb24oZCl7cmV0dXJuIiAiK2R9KSksVy5FcnJvcihgRGVmaW5lczpccgpgK3RoaXMuZGVmaW5lcyksaS5Mb2dTaGFkZXJDb2RlT25Db21waWxhdGlvbkVycm9yKXt2YXIgbD1udWxsLGg9bnVsbCxjPW51bGw7ISgoYT10aGlzLl9waXBlbGluZUNvbnRleHQpPT09bnVsbHx8YT09PXZvaWQgMCkmJmEuX2dldFZlcnRleFNoYWRlckNvZGUoKSYmKHI9dGhpcy5fZ2V0U2hhZGVyQ29kZUFuZEVycm9yTGluZSh0aGlzLl9waXBlbGluZUNvbnRleHQuX2dldFZlcnRleFNoYWRlckNvZGUoKSx0aGlzLl9jb21waWxhdGlvbkVycm9yLCExKSxjPXJbMF0sbD1yWzFdLGMmJihXLkVycm9yKCJWZXJ0ZXggY29kZToiKSxXLkVycm9yKGMpKSksISgocz10aGlzLl9waXBlbGluZUNvbnRleHQpPT09bnVsbHx8cz09PXZvaWQgMCkmJnMuX2dldEZyYWdtZW50U2hhZGVyQ29kZSgpJiYobj10aGlzLl9nZXRTaGFkZXJDb2RlQW5kRXJyb3JMaW5lKChvPXRoaXMuX3BpcGVsaW5lQ29udGV4dCk9PT1udWxsfHxvPT09dm9pZCAwP3ZvaWQgMDpvLl9nZXRGcmFnbWVudFNoYWRlckNvZGUoKSx0aGlzLl9jb21waWxhdGlvbkVycm9yLCEwKSxjPW5bMF0saD1uWzFdLGMmJihXLkVycm9yKCJGcmFnbWVudCBjb2RlOiIpLFcuRXJyb3IoYykpKSxsJiZXLkVycm9yKGwpLGgmJlcuRXJyb3IoaCl9Vy5FcnJvcigiRXJyb3I6ICIrdGhpcy5fY29tcGlsYXRpb25FcnJvciksdCYmKHRoaXMuX3BpcGVsaW5lQ29udGV4dD10LHRoaXMuX2lzUmVhZHk9ITAsdGhpcy5vbkVycm9yJiZ0aGlzLm9uRXJyb3IodGhpcyx0aGlzLl9jb21waWxhdGlvbkVycm9yKSx0aGlzLm9uRXJyb3JPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKSksZj8odGhpcy5fcGlwZWxpbmVDb250ZXh0PW51bGwsZi5oYXNNb3JlRmFsbGJhY2tzPyh0aGlzLl9hbGxGYWxsYmFja3NQcm9jZXNzZWQ9ITEsVy5FcnJvcigiVHJ5aW5nIG5leHQgZmFsbGJhY2suIiksdGhpcy5kZWZpbmVzPWYucmVkdWNlKHRoaXMuZGVmaW5lcyx0aGlzKSx0aGlzLl9wcmVwYXJlRWZmZWN0KCkpOih0aGlzLl9hbGxGYWxsYmFja3NQcm9jZXNzZWQ9ITAsdGhpcy5vbkVycm9yJiZ0aGlzLm9uRXJyb3IodGhpcyx0aGlzLl9jb21waWxhdGlvbkVycm9yKSx0aGlzLm9uRXJyb3JPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKSx0aGlzLm9uRXJyb3JPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5fZmFsbGJhY2tzJiZ0aGlzLl9mYWxsYmFja3MudW5CaW5kTWVzaCgpKSk6dGhpcy5fYWxsRmFsbGJhY2tzUHJvY2Vzc2VkPSEwfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImlzU3VwcG9ydGVkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NvbXBpbGF0aW9uRXJyb3I9PT0iIn0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLnByb3RvdHlwZS5fYmluZFRleHR1cmU9ZnVuY3Rpb24oZSx0KXt0aGlzLl9lbmdpbmUuX2JpbmRUZXh0dXJlKHRoaXMuX3NhbXBsZXJzW2VdLHQsZSl9LGkucHJvdG90eXBlLnNldFRleHR1cmU9ZnVuY3Rpb24oZSx0KXt0aGlzLl9lbmdpbmUuc2V0VGV4dHVyZSh0aGlzLl9zYW1wbGVyc1tlXSx0aGlzLl91bmlmb3Jtc1tlXSx0LGUpfSxpLnByb3RvdHlwZS5zZXREZXB0aFN0ZW5jaWxUZXh0dXJlPWZ1bmN0aW9uKGUsdCl7dGhpcy5fZW5naW5lLnNldERlcHRoU3RlbmNpbFRleHR1cmUodGhpcy5fc2FtcGxlcnNbZV0sdGhpcy5fdW5pZm9ybXNbZV0sdCxlKX0saS5wcm90b3R5cGUuc2V0VGV4dHVyZUFycmF5PWZ1bmN0aW9uKGUsdCl7dmFyIHI9ZSsiRXgiO2lmKHRoaXMuX3NhbXBsZXJMaXN0LmluZGV4T2YocisiMCIpPT09LTEpe2Zvcih2YXIgbj10aGlzLl9zYW1wbGVyTGlzdC5pbmRleE9mKGUpLGE9MTthPHQubGVuZ3RoO2ErKyl7dmFyIHM9cisoYS0xKS50b1N0cmluZygpO3RoaXMuX3NhbXBsZXJMaXN0LnNwbGljZShuK2EsMCxzKX1mb3IodmFyIG89MCx1PTAsZj10aGlzLl9zYW1wbGVyTGlzdDt1PGYubGVuZ3RoO3UrKyl7dmFyIGw9Zlt1XTt0aGlzLl9zYW1wbGVyc1tsXT1vLG8rPTF9fXRoaXMuX2VuZ2luZS5zZXRUZXh0dXJlQXJyYXkodGhpcy5fc2FtcGxlcnNbZV0sdGhpcy5fdW5pZm9ybXNbZV0sdCxlKX0saS5wcm90b3R5cGUuc2V0VGV4dHVyZUZyb21Qb3N0UHJvY2Vzcz1mdW5jdGlvbihlLHQpe3RoaXMuX2VuZ2luZS5zZXRUZXh0dXJlRnJvbVBvc3RQcm9jZXNzKHRoaXMuX3NhbXBsZXJzW2VdLHQsZSl9LGkucHJvdG90eXBlLnNldFRleHR1cmVGcm9tUG9zdFByb2Nlc3NPdXRwdXQ9ZnVuY3Rpb24oZSx0KXt0aGlzLl9lbmdpbmUuc2V0VGV4dHVyZUZyb21Qb3N0UHJvY2Vzc091dHB1dCh0aGlzLl9zYW1wbGVyc1tlXSx0LGUpfSxpLnByb3RvdHlwZS5iaW5kVW5pZm9ybUJ1ZmZlcj1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXMuX3VuaWZvcm1CdWZmZXJzTmFtZXNbdF07cj09PXZvaWQgMHx8aS5fQmFzZUNhY2hlW3JdPT09ZSYmdGhpcy5fZW5naW5lLl9mZWF0dXJlcy51c2VVQk9CaW5kaW5nQ2FjaGV8fChpLl9CYXNlQ2FjaGVbcl09ZSx0aGlzLl9lbmdpbmUuYmluZFVuaWZvcm1CdWZmZXJCYXNlKGUscix0KSl9LGkucHJvdG90eXBlLmJpbmRVbmlmb3JtQmxvY2s9ZnVuY3Rpb24oZSx0KXt0aGlzLl9lbmdpbmUuYmluZFVuaWZvcm1CbG9jayh0aGlzLl9waXBlbGluZUNvbnRleHQsZSx0KX0saS5wcm90b3R5cGUuc2V0SW50PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuX3BpcGVsaW5lQ29udGV4dC5zZXRJbnQoZSx0KSx0aGlzfSxpLnByb3RvdHlwZS5zZXRJbnQyPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gdGhpcy5fcGlwZWxpbmVDb250ZXh0LnNldEludDIoZSx0LHIpLHRoaXN9LGkucHJvdG90eXBlLnNldEludDM9ZnVuY3Rpb24oZSx0LHIsbil7cmV0dXJuIHRoaXMuX3BpcGVsaW5lQ29udGV4dC5zZXRJbnQzKGUsdCxyLG4pLHRoaXN9LGkucHJvdG90eXBlLnNldEludDQ9ZnVuY3Rpb24oZSx0LHIsbixhKXtyZXR1cm4gdGhpcy5fcGlwZWxpbmVDb250ZXh0LnNldEludDQoZSx0LHIsbixhKSx0aGlzfSxpLnByb3RvdHlwZS5zZXRJbnRBcnJheT1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLl9waXBlbGluZUNvbnRleHQuc2V0SW50QXJyYXkoZSx0KSx0aGlzfSxpLnByb3RvdHlwZS5zZXRJbnRBcnJheTI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5fcGlwZWxpbmVDb250ZXh0LnNldEludEFycmF5MihlLHQpLHRoaXN9LGkucHJvdG90eXBlLnNldEludEFycmF5Mz1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLl9waXBlbGluZUNvbnRleHQuc2V0SW50QXJyYXkzKGUsdCksdGhpc30saS5wcm90b3R5cGUuc2V0SW50QXJyYXk0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuX3BpcGVsaW5lQ29udGV4dC5zZXRJbnRBcnJheTQoZSx0KSx0aGlzfSxpLnByb3RvdHlwZS5zZXRGbG9hdEFycmF5PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuX3BpcGVsaW5lQ29udGV4dC5zZXRBcnJheShlLHQpLHRoaXN9LGkucHJvdG90eXBlLnNldEZsb2F0QXJyYXkyPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuX3BpcGVsaW5lQ29udGV4dC5zZXRBcnJheTIoZSx0KSx0aGlzfSxpLnByb3RvdHlwZS5zZXRGbG9hdEFycmF5Mz1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLl9waXBlbGluZUNvbnRleHQuc2V0QXJyYXkzKGUsdCksdGhpc30saS5wcm90b3R5cGUuc2V0RmxvYXRBcnJheTQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5fcGlwZWxpbmVDb250ZXh0LnNldEFycmF5NChlLHQpLHRoaXN9LGkucHJvdG90eXBlLnNldEFycmF5PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuX3BpcGVsaW5lQ29udGV4dC5zZXRBcnJheShlLHQpLHRoaXN9LGkucHJvdG90eXBlLnNldEFycmF5Mj1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLl9waXBlbGluZUNvbnRleHQuc2V0QXJyYXkyKGUsdCksdGhpc30saS5wcm90b3R5cGUuc2V0QXJyYXkzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuX3BpcGVsaW5lQ29udGV4dC5zZXRBcnJheTMoZSx0KSx0aGlzfSxpLnByb3RvdHlwZS5zZXRBcnJheTQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5fcGlwZWxpbmVDb250ZXh0LnNldEFycmF5NChlLHQpLHRoaXN9LGkucHJvdG90eXBlLnNldE1hdHJpY2VzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuX3BpcGVsaW5lQ29udGV4dC5zZXRNYXRyaWNlcyhlLHQpLHRoaXN9LGkucHJvdG90eXBlLnNldE1hdHJpeD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLl9waXBlbGluZUNvbnRleHQuc2V0TWF0cml4KGUsdCksdGhpc30saS5wcm90b3R5cGUuc2V0TWF0cml4M3gzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuX3BpcGVsaW5lQ29udGV4dC5zZXRNYXRyaXgzeDMoZSx0KSx0aGlzfSxpLnByb3RvdHlwZS5zZXRNYXRyaXgyeDI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5fcGlwZWxpbmVDb250ZXh0LnNldE1hdHJpeDJ4MihlLHQpLHRoaXN9LGkucHJvdG90eXBlLnNldEZsb2F0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuX3BpcGVsaW5lQ29udGV4dC5zZXRGbG9hdChlLHQpLHRoaXN9LGkucHJvdG90eXBlLnNldEJvb2w9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5fcGlwZWxpbmVDb250ZXh0LnNldEludChlLHQ/MTowKSx0aGlzfSxpLnByb3RvdHlwZS5zZXRWZWN0b3IyPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuX3BpcGVsaW5lQ29udGV4dC5zZXRWZWN0b3IyKGUsdCksdGhpc30saS5wcm90b3R5cGUuc2V0RmxvYXQyPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gdGhpcy5fcGlwZWxpbmVDb250ZXh0LnNldEZsb2F0MihlLHQsciksdGhpc30saS5wcm90b3R5cGUuc2V0VmVjdG9yMz1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLl9waXBlbGluZUNvbnRleHQuc2V0VmVjdG9yMyhlLHQpLHRoaXN9LGkucHJvdG90eXBlLnNldEZsb2F0Mz1mdW5jdGlvbihlLHQscixuKXtyZXR1cm4gdGhpcy5fcGlwZWxpbmVDb250ZXh0LnNldEZsb2F0MyhlLHQscixuKSx0aGlzfSxpLnByb3RvdHlwZS5zZXRWZWN0b3I0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuX3BpcGVsaW5lQ29udGV4dC5zZXRWZWN0b3I0KGUsdCksdGhpc30saS5wcm90b3R5cGUuc2V0UXVhdGVybmlvbj1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLl9waXBlbGluZUNvbnRleHQuc2V0UXVhdGVybmlvbihlLHQpLHRoaXN9LGkucHJvdG90eXBlLnNldEZsb2F0ND1mdW5jdGlvbihlLHQscixuLGEpe3JldHVybiB0aGlzLl9waXBlbGluZUNvbnRleHQuc2V0RmxvYXQ0KGUsdCxyLG4sYSksdGhpc30saS5wcm90b3R5cGUuc2V0Q29sb3IzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuX3BpcGVsaW5lQ29udGV4dC5zZXRDb2xvcjMoZSx0KSx0aGlzfSxpLnByb3RvdHlwZS5zZXRDb2xvcjQ9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiB0aGlzLl9waXBlbGluZUNvbnRleHQuc2V0Q29sb3I0KGUsdCxyKSx0aGlzfSxpLnByb3RvdHlwZS5zZXREaXJlY3RDb2xvcjQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5fcGlwZWxpbmVDb250ZXh0LnNldERpcmVjdENvbG9yNChlLHQpLHRoaXN9LGkucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt0aGlzLl9waXBlbGluZUNvbnRleHQmJnRoaXMuX3BpcGVsaW5lQ29udGV4dC5kaXNwb3NlKCksdGhpcy5fZW5naW5lLl9yZWxlYXNlRWZmZWN0KHRoaXMpLHRoaXMuX2lzRGlzcG9zZWQ9ITB9LGkuUmVnaXN0ZXJTaGFkZXI9ZnVuY3Rpb24oZSx0LHIsbil7bj09PXZvaWQgMCYmKG49Q2UuR0xTTCksdCYmKEwuR2V0U2hhZGVyc1N0b3JlKG4pWyIiLmNvbmNhdChlLCJQaXhlbFNoYWRlciIpXT10KSxyJiYoTC5HZXRTaGFkZXJzU3RvcmUobilbIiIuY29uY2F0KGUsIlZlcnRleFNoYWRlciIpXT1yKX0saS5SZXNldENhY2hlPWZ1bmN0aW9uKCl7aS5fQmFzZUNhY2hlPXt9fSxpLkxvZ1NoYWRlckNvZGVPbkNvbXBpbGF0aW9uRXJyb3I9ITAsaS5fVW5pcXVlSWRTZWVkPTAsaS5fQmFzZUNhY2hlPXt9LGkuU2hhZGVyc1N0b3JlPUwuU2hhZGVyc1N0b3JlLGkuSW5jbHVkZXNTaGFkZXJzU3RvcmU9TC5JbmNsdWRlc1NoYWRlcnNTdG9yZSxpfSgpLFVuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaShlKXtlPT09dm9pZCAwJiYoZT0hMCksdGhpcy5faXNEZXB0aFRlc3REaXJ0eT0hMSx0aGlzLl9pc0RlcHRoTWFza0RpcnR5PSExLHRoaXMuX2lzRGVwdGhGdW5jRGlydHk9ITEsdGhpcy5faXNDdWxsRmFjZURpcnR5PSExLHRoaXMuX2lzQ3VsbERpcnR5PSExLHRoaXMuX2lzWk9mZnNldERpcnR5PSExLHRoaXMuX2lzRnJvbnRGYWNlRGlydHk9ITEsZSYmdGhpcy5yZXNldCgpfXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImlzRGlydHkiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXNEZXB0aEZ1bmNEaXJ0eXx8dGhpcy5faXNEZXB0aFRlc3REaXJ0eXx8dGhpcy5faXNEZXB0aE1hc2tEaXJ0eXx8dGhpcy5faXNDdWxsRmFjZURpcnR5fHx0aGlzLl9pc0N1bGxEaXJ0eXx8dGhpcy5faXNaT2Zmc2V0RGlydHl8fHRoaXMuX2lzRnJvbnRGYWNlRGlydHl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJ6T2Zmc2V0Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3pPZmZzZXR9LHNldDpmdW5jdGlvbihlKXt0aGlzLl96T2Zmc2V0IT09ZSYmKHRoaXMuX3pPZmZzZXQ9ZSx0aGlzLl9pc1pPZmZzZXREaXJ0eT0hMCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJ6T2Zmc2V0VW5pdHMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fek9mZnNldFVuaXRzfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fek9mZnNldFVuaXRzIT09ZSYmKHRoaXMuX3pPZmZzZXRVbml0cz1lLHRoaXMuX2lzWk9mZnNldERpcnR5PSEwKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImN1bGxGYWNlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2N1bGxGYWNlfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fY3VsbEZhY2UhPT1lJiYodGhpcy5fY3VsbEZhY2U9ZSx0aGlzLl9pc0N1bGxGYWNlRGlydHk9ITApfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiY3VsbCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jdWxsfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fY3VsbCE9PWUmJih0aGlzLl9jdWxsPWUsdGhpcy5faXNDdWxsRGlydHk9ITApfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiZGVwdGhGdW5jIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RlcHRoRnVuY30sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX2RlcHRoRnVuYyE9PWUmJih0aGlzLl9kZXB0aEZ1bmM9ZSx0aGlzLl9pc0RlcHRoRnVuY0RpcnR5PSEwKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImRlcHRoTWFzayIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kZXB0aE1hc2t9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9kZXB0aE1hc2shPT1lJiYodGhpcy5fZGVwdGhNYXNrPWUsdGhpcy5faXNEZXB0aE1hc2tEaXJ0eT0hMCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJkZXB0aFRlc3QiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGVwdGhUZXN0fSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fZGVwdGhUZXN0IT09ZSYmKHRoaXMuX2RlcHRoVGVzdD1lLHRoaXMuX2lzRGVwdGhUZXN0RGlydHk9ITApfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiZnJvbnRGYWNlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Zyb250RmFjZX0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX2Zyb250RmFjZSE9PWUmJih0aGlzLl9mcm9udEZhY2U9ZSx0aGlzLl9pc0Zyb250RmFjZURpcnR5PSEwKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3RoaXMuX2RlcHRoTWFzaz0hMCx0aGlzLl9kZXB0aFRlc3Q9ITAsdGhpcy5fZGVwdGhGdW5jPW51bGwsdGhpcy5fY3VsbEZhY2U9bnVsbCx0aGlzLl9jdWxsPW51bGwsdGhpcy5fek9mZnNldD0wLHRoaXMuX3pPZmZzZXRVbml0cz0wLHRoaXMuX2Zyb250RmFjZT1udWxsLHRoaXMuX2lzRGVwdGhUZXN0RGlydHk9ITAsdGhpcy5faXNEZXB0aE1hc2tEaXJ0eT0hMCx0aGlzLl9pc0RlcHRoRnVuY0RpcnR5PSExLHRoaXMuX2lzQ3VsbEZhY2VEaXJ0eT0hMSx0aGlzLl9pc0N1bGxEaXJ0eT0hMSx0aGlzLl9pc1pPZmZzZXREaXJ0eT0hMCx0aGlzLl9pc0Zyb250RmFjZURpcnR5PSExfSxpLnByb3RvdHlwZS5hcHBseT1mdW5jdGlvbihlKXshdGhpcy5pc0RpcnR5fHwodGhpcy5faXNDdWxsRGlydHkmJih0aGlzLmN1bGw/ZS5lbmFibGUoZS5DVUxMX0ZBQ0UpOmUuZGlzYWJsZShlLkNVTExfRkFDRSksdGhpcy5faXNDdWxsRGlydHk9ITEpLHRoaXMuX2lzQ3VsbEZhY2VEaXJ0eSYmKGUuY3VsbEZhY2UodGhpcy5jdWxsRmFjZSksdGhpcy5faXNDdWxsRmFjZURpcnR5PSExKSx0aGlzLl9pc0RlcHRoTWFza0RpcnR5JiYoZS5kZXB0aE1hc2sodGhpcy5kZXB0aE1hc2spLHRoaXMuX2lzRGVwdGhNYXNrRGlydHk9ITEpLHRoaXMuX2lzRGVwdGhUZXN0RGlydHkmJih0aGlzLmRlcHRoVGVzdD9lLmVuYWJsZShlLkRFUFRIX1RFU1QpOmUuZGlzYWJsZShlLkRFUFRIX1RFU1QpLHRoaXMuX2lzRGVwdGhUZXN0RGlydHk9ITEpLHRoaXMuX2lzRGVwdGhGdW5jRGlydHkmJihlLmRlcHRoRnVuYyh0aGlzLmRlcHRoRnVuYyksdGhpcy5faXNEZXB0aEZ1bmNEaXJ0eT0hMSksdGhpcy5faXNaT2Zmc2V0RGlydHkmJih0aGlzLnpPZmZzZXR8fHRoaXMuek9mZnNldFVuaXRzPyhlLmVuYWJsZShlLlBPTFlHT05fT0ZGU0VUX0ZJTEwpLGUucG9seWdvbk9mZnNldCh0aGlzLnpPZmZzZXQsdGhpcy56T2Zmc2V0VW5pdHMpKTplLmRpc2FibGUoZS5QT0xZR09OX09GRlNFVF9GSUxMKSx0aGlzLl9pc1pPZmZzZXREaXJ0eT0hMSksdGhpcy5faXNGcm9udEZhY2VEaXJ0eSYmKGUuZnJvbnRGYWNlKHRoaXMuZnJvbnRGYWNlKSx0aGlzLl9pc0Zyb250RmFjZURpcnR5PSExKSl9LGl9KCksVm49ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKCl7dGhpcy5yZXNldCgpfXJldHVybiBpLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3RoaXMuZW5hYmxlZD0hMSx0aGlzLm1hc2s9MjU1LHRoaXMuZnVuYz1pLkFMV0FZUyx0aGlzLmZ1bmNSZWY9MSx0aGlzLmZ1bmNNYXNrPTI1NSx0aGlzLm9wU3RlbmNpbEZhaWw9aS5LRUVQLHRoaXMub3BEZXB0aEZhaWw9aS5LRUVQLHRoaXMub3BTdGVuY2lsRGVwdGhQYXNzPWkuUkVQTEFDRX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJzdGVuY2lsRnVuYyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmZ1bmN9LHNldDpmdW5jdGlvbihlKXt0aGlzLmZ1bmM9ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsInN0ZW5jaWxGdW5jUmVmIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZnVuY1JlZn0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuZnVuY1JlZj1lfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwic3RlbmNpbEZ1bmNNYXNrIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZnVuY01hc2t9LHNldDpmdW5jdGlvbihlKXt0aGlzLmZ1bmNNYXNrPWV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJzdGVuY2lsT3BTdGVuY2lsRmFpbCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm9wU3RlbmNpbEZhaWx9LHNldDpmdW5jdGlvbihlKXt0aGlzLm9wU3RlbmNpbEZhaWw9ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsInN0ZW5jaWxPcERlcHRoRmFpbCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm9wRGVwdGhGYWlsfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5vcERlcHRoRmFpbD1lfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwic3RlbmNpbE9wU3RlbmNpbERlcHRoUGFzcyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm9wU3RlbmNpbERlcHRoUGFzc30sc2V0OmZ1bmN0aW9uKGUpe3RoaXMub3BTdGVuY2lsRGVwdGhQYXNzPWV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJzdGVuY2lsTWFzayIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1hc2t9LHNldDpmdW5jdGlvbihlKXt0aGlzLm1hc2s9ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsInN0ZW5jaWxUZXN0Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZW5hYmxlZH0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuZW5hYmxlZD1lfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkuQUxXQVlTPTUxOSxpLktFRVA9NzY4MCxpLlJFUExBQ0U9NzY4MSxpfSgpLGtuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaSgpe3RoaXMuX2JsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzPW5ldyBBcnJheSg0KSx0aGlzLl9ibGVuZEVxdWF0aW9uUGFyYW1ldGVycz1uZXcgQXJyYXkoMiksdGhpcy5fYmxlbmRDb25zdGFudHM9bmV3IEFycmF5KDQpLHRoaXMuX2lzQmxlbmRDb25zdGFudHNEaXJ0eT0hMSx0aGlzLl9hbHBoYUJsZW5kPSExLHRoaXMuX2lzQWxwaGFCbGVuZERpcnR5PSExLHRoaXMuX2lzQmxlbmRGdW5jdGlvblBhcmFtZXRlcnNEaXJ0eT0hMSx0aGlzLl9pc0JsZW5kRXF1YXRpb25QYXJhbWV0ZXJzRGlydHk9ITEsdGhpcy5yZXNldCgpfXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImlzRGlydHkiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXNBbHBoYUJsZW5kRGlydHl8fHRoaXMuX2lzQmxlbmRGdW5jdGlvblBhcmFtZXRlcnNEaXJ0eXx8dGhpcy5faXNCbGVuZEVxdWF0aW9uUGFyYW1ldGVyc0RpcnR5fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiYWxwaGFCbGVuZCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9hbHBoYUJsZW5kfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fYWxwaGFCbGVuZCE9PWUmJih0aGlzLl9hbHBoYUJsZW5kPWUsdGhpcy5faXNBbHBoYUJsZW5kRGlydHk9ITApfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkucHJvdG90eXBlLnNldEFscGhhQmxlbmRDb25zdGFudHM9ZnVuY3Rpb24oZSx0LHIsbil7dGhpcy5fYmxlbmRDb25zdGFudHNbMF09PT1lJiZ0aGlzLl9ibGVuZENvbnN0YW50c1sxXT09PXQmJnRoaXMuX2JsZW5kQ29uc3RhbnRzWzJdPT09ciYmdGhpcy5fYmxlbmRDb25zdGFudHNbM109PT1ufHwodGhpcy5fYmxlbmRDb25zdGFudHNbMF09ZSx0aGlzLl9ibGVuZENvbnN0YW50c1sxXT10LHRoaXMuX2JsZW5kQ29uc3RhbnRzWzJdPXIsdGhpcy5fYmxlbmRDb25zdGFudHNbM109bix0aGlzLl9pc0JsZW5kQ29uc3RhbnRzRGlydHk9ITApfSxpLnByb3RvdHlwZS5zZXRBbHBoYUJsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzPWZ1bmN0aW9uKGUsdCxyLG4pe3RoaXMuX2JsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzWzBdPT09ZSYmdGhpcy5fYmxlbmRGdW5jdGlvblBhcmFtZXRlcnNbMV09PT10JiZ0aGlzLl9ibGVuZEZ1bmN0aW9uUGFyYW1ldGVyc1syXT09PXImJnRoaXMuX2JsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzWzNdPT09bnx8KHRoaXMuX2JsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzWzBdPWUsdGhpcy5fYmxlbmRGdW5jdGlvblBhcmFtZXRlcnNbMV09dCx0aGlzLl9ibGVuZEZ1bmN0aW9uUGFyYW1ldGVyc1syXT1yLHRoaXMuX2JsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzWzNdPW4sdGhpcy5faXNCbGVuZEZ1bmN0aW9uUGFyYW1ldGVyc0RpcnR5PSEwKX0saS5wcm90b3R5cGUuc2V0QWxwaGFFcXVhdGlvblBhcmFtZXRlcnM9ZnVuY3Rpb24oZSx0KXt0aGlzLl9ibGVuZEVxdWF0aW9uUGFyYW1ldGVyc1swXT09PWUmJnRoaXMuX2JsZW5kRXF1YXRpb25QYXJhbWV0ZXJzWzFdPT09dHx8KHRoaXMuX2JsZW5kRXF1YXRpb25QYXJhbWV0ZXJzWzBdPWUsdGhpcy5fYmxlbmRFcXVhdGlvblBhcmFtZXRlcnNbMV09dCx0aGlzLl9pc0JsZW5kRXF1YXRpb25QYXJhbWV0ZXJzRGlydHk9ITApfSxpLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3RoaXMuX2FscGhhQmxlbmQ9ITEsdGhpcy5fYmxlbmRGdW5jdGlvblBhcmFtZXRlcnNbMF09bnVsbCx0aGlzLl9ibGVuZEZ1bmN0aW9uUGFyYW1ldGVyc1sxXT1udWxsLHRoaXMuX2JsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzWzJdPW51bGwsdGhpcy5fYmxlbmRGdW5jdGlvblBhcmFtZXRlcnNbM109bnVsbCx0aGlzLl9ibGVuZEVxdWF0aW9uUGFyYW1ldGVyc1swXT1udWxsLHRoaXMuX2JsZW5kRXF1YXRpb25QYXJhbWV0ZXJzWzFdPW51bGwsdGhpcy5fYmxlbmRDb25zdGFudHNbMF09bnVsbCx0aGlzLl9ibGVuZENvbnN0YW50c1sxXT1udWxsLHRoaXMuX2JsZW5kQ29uc3RhbnRzWzJdPW51bGwsdGhpcy5fYmxlbmRDb25zdGFudHNbM109bnVsbCx0aGlzLl9pc0FscGhhQmxlbmREaXJ0eT0hMCx0aGlzLl9pc0JsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzRGlydHk9ITEsdGhpcy5faXNCbGVuZEVxdWF0aW9uUGFyYW1ldGVyc0RpcnR5PSExLHRoaXMuX2lzQmxlbmRDb25zdGFudHNEaXJ0eT0hMX0saS5wcm90b3R5cGUuYXBwbHk9ZnVuY3Rpb24oZSl7IXRoaXMuaXNEaXJ0eXx8KHRoaXMuX2lzQWxwaGFCbGVuZERpcnR5JiYodGhpcy5fYWxwaGFCbGVuZD9lLmVuYWJsZShlLkJMRU5EKTplLmRpc2FibGUoZS5CTEVORCksdGhpcy5faXNBbHBoYUJsZW5kRGlydHk9ITEpLHRoaXMuX2lzQmxlbmRGdW5jdGlvblBhcmFtZXRlcnNEaXJ0eSYmKGUuYmxlbmRGdW5jU2VwYXJhdGUodGhpcy5fYmxlbmRGdW5jdGlvblBhcmFtZXRlcnNbMF0sdGhpcy5fYmxlbmRGdW5jdGlvblBhcmFtZXRlcnNbMV0sdGhpcy5fYmxlbmRGdW5jdGlvblBhcmFtZXRlcnNbMl0sdGhpcy5fYmxlbmRGdW5jdGlvblBhcmFtZXRlcnNbM10pLHRoaXMuX2lzQmxlbmRGdW5jdGlvblBhcmFtZXRlcnNEaXJ0eT0hMSksdGhpcy5faXNCbGVuZEVxdWF0aW9uUGFyYW1ldGVyc0RpcnR5JiYoZS5ibGVuZEVxdWF0aW9uU2VwYXJhdGUodGhpcy5fYmxlbmRFcXVhdGlvblBhcmFtZXRlcnNbMF0sdGhpcy5fYmxlbmRFcXVhdGlvblBhcmFtZXRlcnNbMV0pLHRoaXMuX2lzQmxlbmRFcXVhdGlvblBhcmFtZXRlcnNEaXJ0eT0hMSksdGhpcy5faXNCbGVuZENvbnN0YW50c0RpcnR5JiYoZS5ibGVuZENvbG9yKHRoaXMuX2JsZW5kQ29uc3RhbnRzWzBdLHRoaXMuX2JsZW5kQ29uc3RhbnRzWzFdLHRoaXMuX2JsZW5kQ29uc3RhbnRzWzJdLHRoaXMuX2JsZW5kQ29uc3RhbnRzWzNdKSx0aGlzLl9pc0JsZW5kQ29uc3RhbnRzRGlydHk9ITEpKX0saX0oKSxXbj1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoKXt0aGlzLnNoYWRlckxhbmd1YWdlPUNlLkdMU0x9cmV0dXJuIGkucHJvdG90eXBlLnBvc3RQcm9jZXNzb3I9ZnVuY3Rpb24oZSx0LHIsbixhKXtpZighYS5nZXRDYXBzKCkuZHJhd0J1ZmZlcnNFeHRlbnNpb24pe3ZhciBzPS8jZXh0ZW5zaW9uLitHTF9FWFRfZHJhd19idWZmZXJzLisoZW5hYmxlfHJlcXVpcmUpL2c7ZT1lLnJlcGxhY2UocywiIil9cmV0dXJuIGV9LGl9KCksem49ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKCl7dGhpcy5zaGFkZXJMYW5ndWFnZT1DZS5HTFNMfXJldHVybiBpLnByb3RvdHlwZS5hdHRyaWJ1dGVQcm9jZXNzb3I9ZnVuY3Rpb24oZSl7cmV0dXJuIGUucmVwbGFjZSgiYXR0cmlidXRlIiwiaW4iKX0saS5wcm90b3R5cGUudmFyeWluZ1Byb2Nlc3Nvcj1mdW5jdGlvbihlLHQpe3JldHVybiBlLnJlcGxhY2UoInZhcnlpbmciLHQ/ImluIjoib3V0Iil9LGkucHJvdG90eXBlLnBvc3RQcm9jZXNzb3I9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUuc2VhcmNoKC8jZXh0ZW5zaW9uLitHTF9FWFRfZHJhd19idWZmZXJzLityZXF1aXJlLykhPT0tMSxhPS8jZXh0ZW5zaW9uLisoR0xfT1ZSX211bHRpdmlldzJ8R0xfT0VTX3N0YW5kYXJkX2Rlcml2YXRpdmVzfEdMX0VYVF9zaGFkZXJfdGV4dHVyZV9sb2R8R0xfRVhUX2ZyYWdfZGVwdGh8R0xfRVhUX2RyYXdfYnVmZmVycykuKyhlbmFibGV8cmVxdWlyZSkvZztpZihlPWUucmVwbGFjZShhLCIiKSxlPWUucmVwbGFjZSgvdGV4dHVyZTJEXHMqXCgvZywidGV4dHVyZSgiKSxyKWU9ZS5yZXBsYWNlKC90ZXh0dXJlMkRMb2RFWFRccypcKC9nLCJ0ZXh0dXJlTG9kKCIpLGU9ZS5yZXBsYWNlKC90ZXh0dXJlQ3ViZUxvZEVYVFxzKlwoL2csInRleHR1cmVMb2QoIiksZT1lLnJlcGxhY2UoL3RleHR1cmVDdWJlXHMqXCgvZywidGV4dHVyZSgiKSxlPWUucmVwbGFjZSgvZ2xfRnJhZ0RlcHRoRVhUL2csImdsX0ZyYWdEZXB0aCIpLGU9ZS5yZXBsYWNlKC9nbF9GcmFnQ29sb3IvZywiZ2xGcmFnQ29sb3IiKSxlPWUucmVwbGFjZSgvZ2xfRnJhZ0RhdGEvZywiZ2xGcmFnRGF0YSIpLGU9ZS5yZXBsYWNlKC92b2lkXHMrP21haW5ccypcKC9nLChuPyIiOmBvdXQgdmVjNCBnbEZyYWdDb2xvcjsKYCkrInZvaWQgbWFpbigiKTtlbHNle3ZhciBzPXQuaW5kZXhPZigiI2RlZmluZSBNVUxUSVZJRVciKSE9PS0xO2lmKHMpcmV0dXJuYCNleHRlbnNpb24gR0xfT1ZSX211bHRpdmlldzIgOiByZXF1aXJlCmxheW91dCAobnVtX3ZpZXdzID0gMikgaW47CmArZX1yZXR1cm4gZX0saX0oKSxDaT1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoKXt0aGlzLnJlZmVyZW5jZXM9MCx0aGlzLmNhcGFjaXR5PTAsdGhpcy5pczMyQml0cz0hMSx0aGlzLnVuaXF1ZUlkPWkuX0NvdW50ZXIrK31yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJ1bmRlcmx5aW5nUmVzb3VyY2UiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLl9Db3VudGVyPTAsaX0oKSxxdD1mdW5jdGlvbihpKXtLKGUsaSk7ZnVuY3Rpb24gZSh0KXt2YXIgcj1pLmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIHIuX2J1ZmZlcj10LHJ9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwidW5kZXJseWluZ1Jlc291cmNlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2J1ZmZlcn0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlfShDaSksR249ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKCl7dGhpcy5fdmFsdWVDYWNoZT17fSx0aGlzLnZlcnRleENvbXBpbGF0aW9uRXJyb3I9bnVsbCx0aGlzLmZyYWdtZW50Q29tcGlsYXRpb25FcnJvcj1udWxsLHRoaXMucHJvZ3JhbUxpbmtFcnJvcj1udWxsLHRoaXMucHJvZ3JhbVZhbGlkYXRpb25FcnJvcj1udWxsfXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImlzQXN5bmMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc1BhcmFsbGVsQ29tcGlsZWR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJpc1JlYWR5Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHJvZ3JhbT90aGlzLmlzUGFyYWxsZWxDb21waWxlZD90aGlzLmVuZ2luZS5faXNSZW5kZXJpbmdTdGF0ZUNvbXBpbGVkKHRoaXMpOiEwOiExfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkucHJvdG90eXBlLl9oYW5kbGVzU3BlY3RvclJlYnVpbGRDYWxsYmFjaz1mdW5jdGlvbihlKXtlJiZ0aGlzLnByb2dyYW0mJmUodGhpcy5wcm9ncmFtKX0saS5wcm90b3R5cGUuX2ZpbGxFZmZlY3RJbmZvcm1hdGlvbj1mdW5jdGlvbihlLHQscixuLGEscyxvLHUpe3ZhciBmPXRoaXMuZW5naW5lO2lmKGYuc3VwcG9ydHNVbmlmb3JtQnVmZmVycylmb3IodmFyIGwgaW4gdCllLmJpbmRVbmlmb3JtQmxvY2sobCx0W2xdKTt2YXIgaD10aGlzLmVuZ2luZS5nZXRVbmlmb3Jtcyh0aGlzLHIpO2guZm9yRWFjaChmdW5jdGlvbih2LHkpe25bclt5XV09dn0pLHRoaXMuX3VuaWZvcm1zPW47dmFyIGM7Zm9yKGM9MDtjPGEubGVuZ3RoO2MrKyl7dmFyIGQ9ZS5nZXRVbmlmb3JtKGFbY10pO2Q9PW51bGwmJihhLnNwbGljZShjLDEpLGMtLSl9YS5mb3JFYWNoKGZ1bmN0aW9uKHYseSl7c1t2XT15fSk7Zm9yKHZhciBwPTAsZz1mLmdldEF0dHJpYnV0ZXModGhpcyxvKTtwPGcubGVuZ3RoO3ArKyl7dmFyIF89Z1twXTt1LnB1c2goXyl9fSxpLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7dGhpcy5fdW5pZm9ybXM9e319LGkucHJvdG90eXBlLl9jYWNoZU1hdHJpeD1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXMuX3ZhbHVlQ2FjaGVbZV0sbj10LnVwZGF0ZUZsYWc7cmV0dXJuIHIhPT12b2lkIDAmJnI9PT1uPyExOih0aGlzLl92YWx1ZUNhY2hlW2VdPW4sITApfSxpLnByb3RvdHlwZS5fY2FjaGVGbG9hdDI9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXRoaXMuX3ZhbHVlQ2FjaGVbZV07aWYoIW58fG4ubGVuZ3RoIT09MilyZXR1cm4gbj1bdCxyXSx0aGlzLl92YWx1ZUNhY2hlW2VdPW4sITA7dmFyIGE9ITE7cmV0dXJuIG5bMF0hPT10JiYoblswXT10LGE9ITApLG5bMV0hPT1yJiYoblsxXT1yLGE9ITApLGF9LGkucHJvdG90eXBlLl9jYWNoZUZsb2F0Mz1mdW5jdGlvbihlLHQscixuKXt2YXIgYT10aGlzLl92YWx1ZUNhY2hlW2VdO2lmKCFhfHxhLmxlbmd0aCE9PTMpcmV0dXJuIGE9W3QscixuXSx0aGlzLl92YWx1ZUNhY2hlW2VdPWEsITA7dmFyIHM9ITE7cmV0dXJuIGFbMF0hPT10JiYoYVswXT10LHM9ITApLGFbMV0hPT1yJiYoYVsxXT1yLHM9ITApLGFbMl0hPT1uJiYoYVsyXT1uLHM9ITApLHN9LGkucHJvdG90eXBlLl9jYWNoZUZsb2F0ND1mdW5jdGlvbihlLHQscixuLGEpe3ZhciBzPXRoaXMuX3ZhbHVlQ2FjaGVbZV07aWYoIXN8fHMubGVuZ3RoIT09NClyZXR1cm4gcz1bdCxyLG4sYV0sdGhpcy5fdmFsdWVDYWNoZVtlXT1zLCEwO3ZhciBvPSExO3JldHVybiBzWzBdIT09dCYmKHNbMF09dCxvPSEwKSxzWzFdIT09ciYmKHNbMV09cixvPSEwKSxzWzJdIT09biYmKHNbMl09bixvPSEwKSxzWzNdIT09YSYmKHNbM109YSxvPSEwKSxvfSxpLnByb3RvdHlwZS5zZXRJbnQ9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLl92YWx1ZUNhY2hlW2VdO3IhPT12b2lkIDAmJnI9PT10fHx0aGlzLmVuZ2luZS5zZXRJbnQodGhpcy5fdW5pZm9ybXNbZV0sdCkmJih0aGlzLl92YWx1ZUNhY2hlW2VdPXQpfSxpLnByb3RvdHlwZS5zZXRJbnQyPWZ1bmN0aW9uKGUsdCxyKXt0aGlzLl9jYWNoZUZsb2F0MihlLHQscikmJih0aGlzLmVuZ2luZS5zZXRJbnQyKHRoaXMuX3VuaWZvcm1zW2VdLHQscil8fCh0aGlzLl92YWx1ZUNhY2hlW2VdPW51bGwpKX0saS5wcm90b3R5cGUuc2V0SW50Mz1mdW5jdGlvbihlLHQscixuKXt0aGlzLl9jYWNoZUZsb2F0MyhlLHQscixuKSYmKHRoaXMuZW5naW5lLnNldEludDModGhpcy5fdW5pZm9ybXNbZV0sdCxyLG4pfHwodGhpcy5fdmFsdWVDYWNoZVtlXT1udWxsKSl9LGkucHJvdG90eXBlLnNldEludDQ9ZnVuY3Rpb24oZSx0LHIsbixhKXt0aGlzLl9jYWNoZUZsb2F0NChlLHQscixuLGEpJiYodGhpcy5lbmdpbmUuc2V0SW50NCh0aGlzLl91bmlmb3Jtc1tlXSx0LHIsbixhKXx8KHRoaXMuX3ZhbHVlQ2FjaGVbZV09bnVsbCkpfSxpLnByb3RvdHlwZS5zZXRJbnRBcnJheT1mdW5jdGlvbihlLHQpe3RoaXMuX3ZhbHVlQ2FjaGVbZV09bnVsbCx0aGlzLmVuZ2luZS5zZXRJbnRBcnJheSh0aGlzLl91bmlmb3Jtc1tlXSx0KX0saS5wcm90b3R5cGUuc2V0SW50QXJyYXkyPWZ1bmN0aW9uKGUsdCl7dGhpcy5fdmFsdWVDYWNoZVtlXT1udWxsLHRoaXMuZW5naW5lLnNldEludEFycmF5Mih0aGlzLl91bmlmb3Jtc1tlXSx0KX0saS5wcm90b3R5cGUuc2V0SW50QXJyYXkzPWZ1bmN0aW9uKGUsdCl7dGhpcy5fdmFsdWVDYWNoZVtlXT1udWxsLHRoaXMuZW5naW5lLnNldEludEFycmF5Myh0aGlzLl91bmlmb3Jtc1tlXSx0KX0saS5wcm90b3R5cGUuc2V0SW50QXJyYXk0PWZ1bmN0aW9uKGUsdCl7dGhpcy5fdmFsdWVDYWNoZVtlXT1udWxsLHRoaXMuZW5naW5lLnNldEludEFycmF5NCh0aGlzLl91bmlmb3Jtc1tlXSx0KX0saS5wcm90b3R5cGUuc2V0QXJyYXk9ZnVuY3Rpb24oZSx0KXt0aGlzLl92YWx1ZUNhY2hlW2VdPW51bGwsdGhpcy5lbmdpbmUuc2V0QXJyYXkodGhpcy5fdW5pZm9ybXNbZV0sdCl9LGkucHJvdG90eXBlLnNldEFycmF5Mj1mdW5jdGlvbihlLHQpe3RoaXMuX3ZhbHVlQ2FjaGVbZV09bnVsbCx0aGlzLmVuZ2luZS5zZXRBcnJheTIodGhpcy5fdW5pZm9ybXNbZV0sdCl9LGkucHJvdG90eXBlLnNldEFycmF5Mz1mdW5jdGlvbihlLHQpe3RoaXMuX3ZhbHVlQ2FjaGVbZV09bnVsbCx0aGlzLmVuZ2luZS5zZXRBcnJheTModGhpcy5fdW5pZm9ybXNbZV0sdCl9LGkucHJvdG90eXBlLnNldEFycmF5ND1mdW5jdGlvbihlLHQpe3RoaXMuX3ZhbHVlQ2FjaGVbZV09bnVsbCx0aGlzLmVuZ2luZS5zZXRBcnJheTQodGhpcy5fdW5pZm9ybXNbZV0sdCl9LGkucHJvdG90eXBlLnNldE1hdHJpY2VzPWZ1bmN0aW9uKGUsdCl7IXR8fCh0aGlzLl92YWx1ZUNhY2hlW2VdPW51bGwsdGhpcy5lbmdpbmUuc2V0TWF0cmljZXModGhpcy5fdW5pZm9ybXNbZV0sdCkpfSxpLnByb3RvdHlwZS5zZXRNYXRyaXg9ZnVuY3Rpb24oZSx0KXt0aGlzLl9jYWNoZU1hdHJpeChlLHQpJiYodGhpcy5lbmdpbmUuc2V0TWF0cmljZXModGhpcy5fdW5pZm9ybXNbZV0sdC50b0FycmF5KCkpfHwodGhpcy5fdmFsdWVDYWNoZVtlXT1udWxsKSl9LGkucHJvdG90eXBlLnNldE1hdHJpeDN4Mz1mdW5jdGlvbihlLHQpe3RoaXMuX3ZhbHVlQ2FjaGVbZV09bnVsbCx0aGlzLmVuZ2luZS5zZXRNYXRyaXgzeDModGhpcy5fdW5pZm9ybXNbZV0sdCl9LGkucHJvdG90eXBlLnNldE1hdHJpeDJ4Mj1mdW5jdGlvbihlLHQpe3RoaXMuX3ZhbHVlQ2FjaGVbZV09bnVsbCx0aGlzLmVuZ2luZS5zZXRNYXRyaXgyeDIodGhpcy5fdW5pZm9ybXNbZV0sdCl9LGkucHJvdG90eXBlLnNldEZsb2F0PWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy5fdmFsdWVDYWNoZVtlXTtyIT09dm9pZCAwJiZyPT09dHx8dGhpcy5lbmdpbmUuc2V0RmxvYXQodGhpcy5fdW5pZm9ybXNbZV0sdCkmJih0aGlzLl92YWx1ZUNhY2hlW2VdPXQpfSxpLnByb3RvdHlwZS5zZXRWZWN0b3IyPWZ1bmN0aW9uKGUsdCl7dGhpcy5fY2FjaGVGbG9hdDIoZSx0LngsdC55KSYmKHRoaXMuZW5naW5lLnNldEZsb2F0Mih0aGlzLl91bmlmb3Jtc1tlXSx0LngsdC55KXx8KHRoaXMuX3ZhbHVlQ2FjaGVbZV09bnVsbCkpfSxpLnByb3RvdHlwZS5zZXRGbG9hdDI9ZnVuY3Rpb24oZSx0LHIpe3RoaXMuX2NhY2hlRmxvYXQyKGUsdCxyKSYmKHRoaXMuZW5naW5lLnNldEZsb2F0Mih0aGlzLl91bmlmb3Jtc1tlXSx0LHIpfHwodGhpcy5fdmFsdWVDYWNoZVtlXT1udWxsKSl9LGkucHJvdG90eXBlLnNldFZlY3RvcjM9ZnVuY3Rpb24oZSx0KXt0aGlzLl9jYWNoZUZsb2F0MyhlLHQueCx0LnksdC56KSYmKHRoaXMuZW5naW5lLnNldEZsb2F0Myh0aGlzLl91bmlmb3Jtc1tlXSx0LngsdC55LHQueil8fCh0aGlzLl92YWx1ZUNhY2hlW2VdPW51bGwpKX0saS5wcm90b3R5cGUuc2V0RmxvYXQzPWZ1bmN0aW9uKGUsdCxyLG4pe3RoaXMuX2NhY2hlRmxvYXQzKGUsdCxyLG4pJiYodGhpcy5lbmdpbmUuc2V0RmxvYXQzKHRoaXMuX3VuaWZvcm1zW2VdLHQscixuKXx8KHRoaXMuX3ZhbHVlQ2FjaGVbZV09bnVsbCkpfSxpLnByb3RvdHlwZS5zZXRWZWN0b3I0PWZ1bmN0aW9uKGUsdCl7dGhpcy5fY2FjaGVGbG9hdDQoZSx0LngsdC55LHQueix0LncpJiYodGhpcy5lbmdpbmUuc2V0RmxvYXQ0KHRoaXMuX3VuaWZvcm1zW2VdLHQueCx0LnksdC56LHQudyl8fCh0aGlzLl92YWx1ZUNhY2hlW2VdPW51bGwpKX0saS5wcm90b3R5cGUuc2V0UXVhdGVybmlvbj1mdW5jdGlvbihlLHQpe3RoaXMuX2NhY2hlRmxvYXQ0KGUsdC54LHQueSx0LnosdC53KSYmKHRoaXMuZW5naW5lLnNldEZsb2F0NCh0aGlzLl91bmlmb3Jtc1tlXSx0LngsdC55LHQueix0LncpfHwodGhpcy5fdmFsdWVDYWNoZVtlXT1udWxsKSl9LGkucHJvdG90eXBlLnNldEZsb2F0ND1mdW5jdGlvbihlLHQscixuLGEpe3RoaXMuX2NhY2hlRmxvYXQ0KGUsdCxyLG4sYSkmJih0aGlzLmVuZ2luZS5zZXRGbG9hdDQodGhpcy5fdW5pZm9ybXNbZV0sdCxyLG4sYSl8fCh0aGlzLl92YWx1ZUNhY2hlW2VdPW51bGwpKX0saS5wcm90b3R5cGUuc2V0Q29sb3IzPWZ1bmN0aW9uKGUsdCl7dGhpcy5fY2FjaGVGbG9hdDMoZSx0LnIsdC5nLHQuYikmJih0aGlzLmVuZ2luZS5zZXRGbG9hdDModGhpcy5fdW5pZm9ybXNbZV0sdC5yLHQuZyx0LmIpfHwodGhpcy5fdmFsdWVDYWNoZVtlXT1udWxsKSl9LGkucHJvdG90eXBlLnNldENvbG9yND1mdW5jdGlvbihlLHQscil7dGhpcy5fY2FjaGVGbG9hdDQoZSx0LnIsdC5nLHQuYixyKSYmKHRoaXMuZW5naW5lLnNldEZsb2F0NCh0aGlzLl91bmlmb3Jtc1tlXSx0LnIsdC5nLHQuYixyKXx8KHRoaXMuX3ZhbHVlQ2FjaGVbZV09bnVsbCkpfSxpLnByb3RvdHlwZS5zZXREaXJlY3RDb2xvcjQ9ZnVuY3Rpb24oZSx0KXt0aGlzLl9jYWNoZUZsb2F0NChlLHQucix0LmcsdC5iLHQuYSkmJih0aGlzLmVuZ2luZS5zZXRGbG9hdDQodGhpcy5fdW5pZm9ybXNbZV0sdC5yLHQuZyx0LmIsdC5hKXx8KHRoaXMuX3ZhbHVlQ2FjaGVbZV09bnVsbCkpfSxpLnByb3RvdHlwZS5fZ2V0VmVydGV4U2hhZGVyQ29kZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnZlcnRleFNoYWRlcj90aGlzLmVuZ2luZS5fZ2V0U2hhZGVyU291cmNlKHRoaXMudmVydGV4U2hhZGVyKTpudWxsfSxpLnByb3RvdHlwZS5fZ2V0RnJhZ21lbnRTaGFkZXJDb2RlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZnJhZ21lbnRTaGFkZXI/dGhpcy5lbmdpbmUuX2dldFNoYWRlclNvdXJjZSh0aGlzLmZyYWdtZW50U2hhZGVyKTpudWxsfSxpfSgpLHhpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaShlLHQpe2lmKGU9PT12b2lkIDAmJihlPW51bGwpLHRoaXMuX01TQUFSZW5kZXJCdWZmZXI9bnVsbCx0aGlzLl9jb250ZXh0PXQsIWUmJihlPXQuY3JlYXRlVGV4dHVyZSgpLCFlKSl0aHJvdyBuZXcgRXJyb3IoIlVuYWJsZSB0byBjcmVhdGUgd2ViR0wgdGV4dHVyZSIpO3RoaXMuc2V0KGUpfXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsInVuZGVybHlpbmdSZXNvdXJjZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl93ZWJHTFRleHR1cmV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksaS5wcm90b3R5cGUuc2V0VXNhZ2U9ZnVuY3Rpb24oKXt9LGkucHJvdG90eXBlLnNldD1mdW5jdGlvbihlKXt0aGlzLl93ZWJHTFRleHR1cmU9ZX0saS5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXt0aGlzLl93ZWJHTFRleHR1cmU9bnVsbCx0aGlzLl9NU0FBUmVuZGVyQnVmZmVyPW51bGx9LGkucHJvdG90eXBlLnJlbGVhc2U9ZnVuY3Rpb24oKXt0aGlzLl9NU0FBUmVuZGVyQnVmZmVyJiYodGhpcy5fY29udGV4dC5kZWxldGVSZW5kZXJidWZmZXIodGhpcy5fTVNBQVJlbmRlckJ1ZmZlciksdGhpcy5fTVNBQVJlbmRlckJ1ZmZlcj1udWxsKSx0aGlzLl93ZWJHTFRleHR1cmUmJnRoaXMuX2NvbnRleHQuZGVsZXRlVGV4dHVyZSh0aGlzLl93ZWJHTFRleHR1cmUpLHRoaXMucmVzZXQoKX0saX0oKSxRdD1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoZSx0KXt0PT09dm9pZCAwJiYodD0hMCksdGhpcy5lZmZlY3Q9bnVsbCx0aGlzLmRlZmluZXM9bnVsbCx0aGlzLmRyYXdDb250ZXh0PWUuY3JlYXRlRHJhd0NvbnRleHQoKSx0JiYodGhpcy5tYXRlcmlhbENvbnRleHQ9ZS5jcmVhdGVNYXRlcmlhbENvbnRleHQoKSl9cmV0dXJuIGkuSXNXcmFwcGVyPWZ1bmN0aW9uKGUpe3JldHVybiBlLmdldFBpcGVsaW5lQ29udGV4dD09PXZvaWQgMH0saS5HZXRFZmZlY3Q9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZ2V0UGlwZWxpbmVDb250ZXh0PT09dm9pZCAwP2UuZWZmZWN0OmV9LGkucHJvdG90eXBlLnNldEVmZmVjdD1mdW5jdGlvbihlLHQscil7dmFyIG47cj09PXZvaWQgMCYmKHI9ITApLHRoaXMuZWZmZWN0PWUsdCE9PXZvaWQgMCYmKHRoaXMuZGVmaW5lcz10KSxyJiYoKG49dGhpcy5kcmF3Q29udGV4dCk9PT1udWxsfHxuPT09dm9pZCAwfHxuLnJlc2V0KCkpfSxpLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7dmFyIGU7KGU9dGhpcy5kcmF3Q29udGV4dCk9PT1udWxsfHxlPT09dm9pZCAwfHxlLmRpc3Bvc2UoKX0saX0oKSxYbj1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoZSl7ZT09PXZvaWQgMCYmKGU9ITApLHRoaXMuX2lzU3RlbmNpbFRlc3REaXJ0eT0hMSx0aGlzLl9pc1N0ZW5jaWxNYXNrRGlydHk9ITEsdGhpcy5faXNTdGVuY2lsRnVuY0RpcnR5PSExLHRoaXMuX2lzU3RlbmNpbE9wRGlydHk9ITEsdGhpcy51c2VTdGVuY2lsR2xvYmFsT25seT0hMSxlJiZ0aGlzLnJlc2V0KCl9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiaXNEaXJ0eSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pc1N0ZW5jaWxUZXN0RGlydHl8fHRoaXMuX2lzU3RlbmNpbE1hc2tEaXJ0eXx8dGhpcy5faXNTdGVuY2lsRnVuY0RpcnR5fHx0aGlzLl9pc1N0ZW5jaWxPcERpcnR5fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiZnVuYyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9mdW5jfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fZnVuYyE9PWUmJih0aGlzLl9mdW5jPWUsdGhpcy5faXNTdGVuY2lsRnVuY0RpcnR5PSEwKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImZ1bmNSZWYiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZnVuY1JlZn0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX2Z1bmNSZWYhPT1lJiYodGhpcy5fZnVuY1JlZj1lLHRoaXMuX2lzU3RlbmNpbEZ1bmNEaXJ0eT0hMCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJmdW5jTWFzayIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9mdW5jTWFza30sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX2Z1bmNNYXNrIT09ZSYmKHRoaXMuX2Z1bmNNYXNrPWUsdGhpcy5faXNTdGVuY2lsRnVuY0RpcnR5PSEwKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsIm9wU3RlbmNpbEZhaWwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb3BTdGVuY2lsRmFpbH0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX29wU3RlbmNpbEZhaWwhPT1lJiYodGhpcy5fb3BTdGVuY2lsRmFpbD1lLHRoaXMuX2lzU3RlbmNpbE9wRGlydHk9ITApfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwib3BEZXB0aEZhaWwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb3BEZXB0aEZhaWx9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9vcERlcHRoRmFpbCE9PWUmJih0aGlzLl9vcERlcHRoRmFpbD1lLHRoaXMuX2lzU3RlbmNpbE9wRGlydHk9ITApfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwib3BTdGVuY2lsRGVwdGhQYXNzIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29wU3RlbmNpbERlcHRoUGFzc30sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX29wU3RlbmNpbERlcHRoUGFzcyE9PWUmJih0aGlzLl9vcFN0ZW5jaWxEZXB0aFBhc3M9ZSx0aGlzLl9pc1N0ZW5jaWxPcERpcnR5PSEwKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsIm1hc2siLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbWFza30sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX21hc2shPT1lJiYodGhpcy5fbWFzaz1lLHRoaXMuX2lzU3RlbmNpbE1hc2tEaXJ0eT0hMCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJlbmFibGVkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2VuYWJsZWR9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9lbmFibGVkIT09ZSYmKHRoaXMuX2VuYWJsZWQ9ZSx0aGlzLl9pc1N0ZW5jaWxUZXN0RGlydHk9ITApfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dmFyIGU7dGhpcy5zdGVuY2lsTWF0ZXJpYWw9dm9pZCAwLChlPXRoaXMuc3RlbmNpbEdsb2JhbCk9PT1udWxsfHxlPT09dm9pZCAwfHxlLnJlc2V0KCksdGhpcy5faXNTdGVuY2lsVGVzdERpcnR5PSEwLHRoaXMuX2lzU3RlbmNpbE1hc2tEaXJ0eT0hMCx0aGlzLl9pc1N0ZW5jaWxGdW5jRGlydHk9ITAsdGhpcy5faXNTdGVuY2lsT3BEaXJ0eT0hMH0saS5wcm90b3R5cGUuYXBwbHk9ZnVuY3Rpb24oZSl7dmFyIHQ7aWYoISFlKXt2YXIgcj0hdGhpcy51c2VTdGVuY2lsR2xvYmFsT25seSYmISEoISgodD10aGlzLnN0ZW5jaWxNYXRlcmlhbCk9PT1udWxsfHx0PT09dm9pZCAwKSYmdC5lbmFibGVkKTt0aGlzLmVuYWJsZWQ9cj90aGlzLnN0ZW5jaWxNYXRlcmlhbC5lbmFibGVkOnRoaXMuc3RlbmNpbEdsb2JhbC5lbmFibGVkLHRoaXMuZnVuYz1yP3RoaXMuc3RlbmNpbE1hdGVyaWFsLmZ1bmM6dGhpcy5zdGVuY2lsR2xvYmFsLmZ1bmMsdGhpcy5mdW5jUmVmPXI/dGhpcy5zdGVuY2lsTWF0ZXJpYWwuZnVuY1JlZjp0aGlzLnN0ZW5jaWxHbG9iYWwuZnVuY1JlZix0aGlzLmZ1bmNNYXNrPXI/dGhpcy5zdGVuY2lsTWF0ZXJpYWwuZnVuY01hc2s6dGhpcy5zdGVuY2lsR2xvYmFsLmZ1bmNNYXNrLHRoaXMub3BTdGVuY2lsRmFpbD1yP3RoaXMuc3RlbmNpbE1hdGVyaWFsLm9wU3RlbmNpbEZhaWw6dGhpcy5zdGVuY2lsR2xvYmFsLm9wU3RlbmNpbEZhaWwsdGhpcy5vcERlcHRoRmFpbD1yP3RoaXMuc3RlbmNpbE1hdGVyaWFsLm9wRGVwdGhGYWlsOnRoaXMuc3RlbmNpbEdsb2JhbC5vcERlcHRoRmFpbCx0aGlzLm9wU3RlbmNpbERlcHRoUGFzcz1yP3RoaXMuc3RlbmNpbE1hdGVyaWFsLm9wU3RlbmNpbERlcHRoUGFzczp0aGlzLnN0ZW5jaWxHbG9iYWwub3BTdGVuY2lsRGVwdGhQYXNzLHRoaXMubWFzaz1yP3RoaXMuc3RlbmNpbE1hdGVyaWFsLm1hc2s6dGhpcy5zdGVuY2lsR2xvYmFsLm1hc2ssdGhpcy5pc0RpcnR5JiYodGhpcy5faXNTdGVuY2lsVGVzdERpcnR5JiYodGhpcy5lbmFibGVkP2UuZW5hYmxlKGUuU1RFTkNJTF9URVNUKTplLmRpc2FibGUoZS5TVEVOQ0lMX1RFU1QpLHRoaXMuX2lzU3RlbmNpbFRlc3REaXJ0eT0hMSksdGhpcy5faXNTdGVuY2lsTWFza0RpcnR5JiYoZS5zdGVuY2lsTWFzayh0aGlzLm1hc2spLHRoaXMuX2lzU3RlbmNpbE1hc2tEaXJ0eT0hMSksdGhpcy5faXNTdGVuY2lsRnVuY0RpcnR5JiYoZS5zdGVuY2lsRnVuYyh0aGlzLmZ1bmMsdGhpcy5mdW5jUmVmLHRoaXMuZnVuY01hc2spLHRoaXMuX2lzU3RlbmNpbEZ1bmNEaXJ0eT0hMSksdGhpcy5faXNTdGVuY2lsT3BEaXJ0eSYmKGUuc3RlbmNpbE9wKHRoaXMub3BTdGVuY2lsRmFpbCx0aGlzLm9wRGVwdGhGYWlsLHRoaXMub3BTdGVuY2lsRGVwdGhQYXNzKSx0aGlzLl9pc1N0ZW5jaWxPcERpcnR5PSExKSl9fSxpfSgpLEhuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaSgpe31yZXR1cm4gaX0oKSxsZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoZSx0LHIsbil7dmFyIGE9dGhpczt0aGlzLl9uYW1lPSJXZWJHTCIsdGhpcy5mb3JjZVBPVFRleHR1cmVzPSExLHRoaXMuaXNGdWxsc2NyZWVuPSExLHRoaXMuY3VsbEJhY2tGYWNlcz1udWxsLHRoaXMucmVuZGVyRXZlbkluQmFja2dyb3VuZD0hMCx0aGlzLnByZXZlbnRDYWNoZVdpcGVCZXR3ZWVuRnJhbWVzPSExLHRoaXMudmFsaWRhdGVTaGFkZXJQcm9ncmFtcz0hMSx0aGlzLl91c2VSZXZlcnNlRGVwdGhCdWZmZXI9ITEsdGhpcy5pc05EQ0hhbGZaUmFuZ2U9ITEsdGhpcy5oYXNPcmlnaW5Cb3R0b21MZWZ0PSEwLHRoaXMuZGlzYWJsZVVuaWZvcm1CdWZmZXJzPSExLHRoaXMub25EaXNwb3NlT2JzZXJ2YWJsZT1uZXcgTyx0aGlzLl9mcmFtZUlkPTAsdGhpcy5fdW5pZm9ybUJ1ZmZlcnM9bmV3IEFycmF5LHRoaXMuX3N0b3JhZ2VCdWZmZXJzPW5ldyBBcnJheSx0aGlzLl93ZWJHTFZlcnNpb249MSx0aGlzLl93aW5kb3dJc0JhY2tncm91bmQ9ITEsdGhpcy5faGlnaFByZWNpc2lvblNoYWRlcnNBbGxvd2VkPSEwLHRoaXMuX2JhZE9TPSExLHRoaXMuX2JhZERlc2t0b3BPUz0hMSx0aGlzLl9yZW5kZXJpbmdRdWV1ZUxhdW5jaGVkPSExLHRoaXMuX2FjdGl2ZVJlbmRlckxvb3BzPW5ldyBBcnJheSx0aGlzLm9uQ29udGV4dExvc3RPYnNlcnZhYmxlPW5ldyBPLHRoaXMub25Db250ZXh0UmVzdG9yZWRPYnNlcnZhYmxlPW5ldyBPLHRoaXMuX2NvbnRleHRXYXNMb3N0PSExLHRoaXMuX2RvTm90SGFuZGxlQ29udGV4dExvc3Q9ITEsdGhpcy5kaXNhYmxlVmVydGV4QXJyYXlPYmplY3RzPSExLHRoaXMuX2NvbG9yV3JpdGU9ITAsdGhpcy5fY29sb3JXcml0ZUNoYW5nZWQ9ITAsdGhpcy5fZGVwdGhDdWxsaW5nU3RhdGU9bmV3IFVuLHRoaXMuX3N0ZW5jaWxTdGF0ZUNvbXBvc2VyPW5ldyBYbix0aGlzLl9zdGVuY2lsU3RhdGU9bmV3IFZuLHRoaXMuX2FscGhhU3RhdGU9bmV3IGtuLHRoaXMuX2FscGhhTW9kZT0xLHRoaXMuX2FscGhhRXF1YXRpb249MCx0aGlzLl9pbnRlcm5hbFRleHR1cmVzQ2FjaGU9bmV3IEFycmF5LHRoaXMuX3JlbmRlclRhcmdldFdyYXBwZXJDYWNoZT1uZXcgQXJyYXksdGhpcy5fYWN0aXZlQ2hhbm5lbD0wLHRoaXMuX2N1cnJlbnRUZXh0dXJlQ2hhbm5lbD0tMSx0aGlzLl9ib3VuZFRleHR1cmVzQ2FjaGU9e30sdGhpcy5fY29tcGlsZWRFZmZlY3RzPXt9LHRoaXMuX3ZlcnRleEF0dHJpYkFycmF5c0VuYWJsZWQ9W10sdGhpcy5fdWludEluZGljZXNDdXJyZW50bHlTZXQ9ITEsdGhpcy5fY3VycmVudEJvdW5kQnVmZmVyPW5ldyBBcnJheSx0aGlzLl9jdXJyZW50RnJhbWVidWZmZXI9bnVsbCx0aGlzLl9kdW1teUZyYW1lYnVmZmVyPW51bGwsdGhpcy5fY3VycmVudEJ1ZmZlclBvaW50ZXJzPW5ldyBBcnJheSx0aGlzLl9jdXJyZW50SW5zdGFuY2VMb2NhdGlvbnM9bmV3IEFycmF5LHRoaXMuX2N1cnJlbnRJbnN0YW5jZUJ1ZmZlcnM9bmV3IEFycmF5LHRoaXMuX3Zhb1JlY29yZEluUHJvZ3Jlc3M9ITEsdGhpcy5fbXVzdFdpcGVWZXJ0ZXhBdHRyaWJ1dGVzPSExLHRoaXMuX25leHRGcmVlVGV4dHVyZVNsb3RzPW5ldyBBcnJheSx0aGlzLl9tYXhTaW11bHRhbmVvdXNUZXh0dXJlcz0wLHRoaXMuX21heE1TQUFTYW1wbGVzT3ZlcnJpZGU9bnVsbCx0aGlzLl9hY3RpdmVSZXF1ZXN0cz1uZXcgQXJyYXksdGhpcy5fYWRhcHRUb0RldmljZVJhdGlvPSExLHRoaXMuX3RyYW5zZm9ybVRleHR1cmVVcmw9bnVsbCx0aGlzLmhvc3RJbmZvcm1hdGlvbj17aXNNb2JpbGU6ITF9LHRoaXMucHJlbXVsdGlwbGllZEFscGhhPSEwLHRoaXMub25CZWZvcmVUZXh0dXJlSW5pdE9ic2VydmFibGU9bmV3IE8sdGhpcy5faXNXZWJHUFU9ITEsdGhpcy5fc25hcHNob3RSZW5kZXJpbmdNb2RlPTAsdGhpcy5fdmlld3BvcnRDYWNoZWQ9e3g6MCx5OjAsejowLHc6MH0sdGhpcy5fdW5wYWNrRmxpcFlDYWNoZWQ9bnVsbCx0aGlzLmVuYWJsZVVucGFja0ZsaXBZQ2FjaGVkPSEwLHRoaXMuX2JvdW5kVW5pZm9ybXM9e307dmFyIHM9bnVsbDtpZihyPXJ8fHt9LHRoaXMuX2NyZWF0aW9uT3B0aW9ucz1yLHRoaXMuX2FkYXB0VG9EZXZpY2VSYXRpbz1uIT1udWxsP246ITEsdGhpcy5fc3RlbmNpbFN0YXRlQ29tcG9zZXIuc3RlbmNpbEdsb2JhbD10aGlzLl9zdGVuY2lsU3RhdGUsQ3QuU2V0TWF0cml4UHJlY2lzaW9uKCEhci51c2VIaWdoUHJlY2lzaW9uTWF0cml4KSwhIWUpe2lmKG49bnx8ci5hZGFwdFRvRGV2aWNlUmF0aW98fCExLGUuZ2V0Q29udGV4dCl7aWYocz1lLHRoaXMuX3JlbmRlcmluZ0NhbnZhcz1zLHQhPT12b2lkIDAmJihyLmFudGlhbGlhcz10KSxyLmRldGVybWluaXN0aWNMb2Nrc3RlcD09PXZvaWQgMCYmKHIuZGV0ZXJtaW5pc3RpY0xvY2tzdGVwPSExKSxyLmxvY2tzdGVwTWF4U3RlcHM9PT12b2lkIDAmJihyLmxvY2tzdGVwTWF4U3RlcHM9NCksci50aW1lU3RlcD09PXZvaWQgMCYmKHIudGltZVN0ZXA9MS82MCksci5wcmVzZXJ2ZURyYXdpbmdCdWZmZXI9PT12b2lkIDAmJihyLnByZXNlcnZlRHJhd2luZ0J1ZmZlcj0hMSksci5hdWRpb0VuZ2luZT09PXZvaWQgMCYmKHIuYXVkaW9FbmdpbmU9ITApLHIuYXVkaW9FbmdpbmVPcHRpb25zIT09dm9pZCAwJiZyLmF1ZGlvRW5naW5lT3B0aW9ucy5hdWRpb0NvbnRleHQhPT12b2lkIDAmJih0aGlzLl9hdWRpb0NvbnRleHQ9ci5hdWRpb0VuZ2luZU9wdGlvbnMuYXVkaW9Db250ZXh0KSxyLmF1ZGlvRW5naW5lT3B0aW9ucyE9PXZvaWQgMCYmci5hdWRpb0VuZ2luZU9wdGlvbnMuYXVkaW9EZXN0aW5hdGlvbiE9PXZvaWQgMCYmKHRoaXMuX2F1ZGlvRGVzdGluYXRpb249ci5hdWRpb0VuZ2luZU9wdGlvbnMuYXVkaW9EZXN0aW5hdGlvbiksci5zdGVuY2lsPT09dm9pZCAwJiYoci5zdGVuY2lsPSEwKSxyLnByZW11bHRpcGxpZWRBbHBoYT09PSExJiYodGhpcy5wcmVtdWx0aXBsaWVkQWxwaGE9ITEpLHIueHJDb21wYXRpYmxlPT09dm9pZCAwJiYoci54ckNvbXBhdGlibGU9ITApLHRoaXMuX2RvTm90SGFuZGxlQ29udGV4dExvc3Q9ISFyLmRvTm90SGFuZGxlQ29udGV4dExvc3QsbmF2aWdhdG9yJiZuYXZpZ2F0b3IudXNlckFnZW50KXt0aGlzLl9jaGVja0Zvck1vYmlsZT1mdW5jdGlvbigpe3ZhciB4PW5hdmlnYXRvci51c2VyQWdlbnQ7YS5ob3N0SW5mb3JtYXRpb24uaXNNb2JpbGU9eC5pbmRleE9mKCJNb2JpbGUiKSE9PS0xfHx4LmluZGV4T2YoIk1hYyIpIT09LTEmJmxyKCkmJiJvbnRvdWNoZW5kImluIGRvY3VtZW50fSx0aGlzLl9jaGVja0Zvck1vYmlsZSgpLHllKCkmJndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJyZXNpemUiLHRoaXMuX2NoZWNrRm9yTW9iaWxlKTtmb3IodmFyIG89bmF2aWdhdG9yLnVzZXJBZ2VudCx1PTAsZj1pLkV4Y2VwdGlvbkxpc3Q7dTxmLmxlbmd0aDt1Kyspe3ZhciBsPWZbdV0saD1sLmtleSxjPWwudGFyZ2V0cyxkPW5ldyBSZWdFeHAoaCk7aWYoZC50ZXN0KG8pKXtpZihsLmNhcHR1cmUmJmwuY2FwdHVyZUNvbnN0cmFpbnQpe3ZhciBwPWwuY2FwdHVyZSxnPWwuY2FwdHVyZUNvbnN0cmFpbnQsXz1uZXcgUmVnRXhwKHApLHY9Xy5leGVjKG8pO2lmKHYmJnYubGVuZ3RoPjApe3ZhciB5PXBhcnNlSW50KHZbdi5sZW5ndGgtMV0pO2lmKHk+PWcpY29udGludWV9fWZvcih2YXIgRT0wLFI9YztFPFIubGVuZ3RoO0UrKyl7dmFyIE09UltFXTtzd2l0Y2goTSl7Y2FzZSJ1bmlmb3JtQnVmZmVyIjp0aGlzLmRpc2FibGVVbmlmb3JtQnVmZmVycz0hMDticmVhaztjYXNlInZhbyI6dGhpcy5kaXNhYmxlVmVydGV4QXJyYXlPYmplY3RzPSEwO2JyZWFrO2Nhc2UiYW50aWFsaWFzIjpyLmFudGlhbGlhcz0hMTticmVhaztjYXNlIm1heE1TQUFTYW1wbGVzIjp0aGlzLl9tYXhNU0FBU2FtcGxlc092ZXJyaWRlPTE7YnJlYWt9fX19fWlmKHRoaXMuX2RvTm90SGFuZGxlQ29udGV4dExvc3R8fCh0aGlzLl9vbkNvbnRleHRMb3N0PWZ1bmN0aW9uKHgpe3gucHJldmVudERlZmF1bHQoKSxhLl9jb250ZXh0V2FzTG9zdD0hMCxXLldhcm4oIldlYkdMIGNvbnRleHQgbG9zdC4iKSxhLm9uQ29udGV4dExvc3RPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhhKX0sdGhpcy5fb25Db250ZXh0UmVzdG9yZWQ9ZnVuY3Rpb24oKXthLl9yZXN0b3JlRW5naW5lQWZ0ZXJDb250ZXh0TG9zdChhLl9pbml0R0xDb250ZXh0LmJpbmQoYSkpfSxzLmFkZEV2ZW50TGlzdGVuZXIoIndlYmdsY29udGV4dGxvc3QiLHRoaXMuX29uQ29udGV4dExvc3QsITEpLHMuYWRkRXZlbnRMaXN0ZW5lcigid2ViZ2xjb250ZXh0cmVzdG9yZWQiLHRoaXMuX29uQ29udGV4dFJlc3RvcmVkLCExKSxyLnBvd2VyUHJlZmVyZW5jZT0iaGlnaC1wZXJmb3JtYW5jZSIpLHRoaXMuX2JhZERlc2t0b3BPUz0vXigoPyFjaHJvbWV8YW5kcm9pZCkuKSpzYWZhcmkvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpLHRoaXMuX2JhZERlc2t0b3BPUyYmKHIueHJDb21wYXRpYmxlPSExKSwhci5kaXNhYmxlV2ViR0wyU3VwcG9ydCl0cnl7dGhpcy5fZ2w9cy5nZXRDb250ZXh0KCJ3ZWJnbDIiLHIpfHxzLmdldENvbnRleHQoImV4cGVyaW1lbnRhbC13ZWJnbDIiLHIpLHRoaXMuX2dsJiYodGhpcy5fd2ViR0xWZXJzaW9uPTIsdGhpcy5fc2hhZGVyUGxhdGZvcm1OYW1lPSJXRUJHTDIiLHRoaXMuX2dsLmRlbGV0ZVF1ZXJ5fHwodGhpcy5fd2ViR0xWZXJzaW9uPTEsdGhpcy5fc2hhZGVyUGxhdGZvcm1OYW1lPSJXRUJHTDEiKSl9Y2F0Y2h7fWlmKCF0aGlzLl9nbCl7aWYoIXMpdGhyb3cgbmV3IEVycm9yKCJUaGUgcHJvdmlkZWQgY2FudmFzIGlzIG51bGwgb3IgdW5kZWZpbmVkLiIpO3RyeXt0aGlzLl9nbD1zLmdldENvbnRleHQoIndlYmdsIixyKXx8cy5nZXRDb250ZXh0KCJleHBlcmltZW50YWwtd2ViZ2wiLHIpfWNhdGNoe3Rocm93IG5ldyBFcnJvcigiV2ViR0wgbm90IHN1cHBvcnRlZCIpfX1pZighdGhpcy5fZ2wpdGhyb3cgbmV3IEVycm9yKCJXZWJHTCBub3Qgc3VwcG9ydGVkIil9ZWxzZXt0aGlzLl9nbD1lLHRoaXMuX3JlbmRlcmluZ0NhbnZhcz10aGlzLl9nbC5jYW52YXMsdGhpcy5fZ2wucmVuZGVyYnVmZmVyU3RvcmFnZU11bHRpc2FtcGxlPyh0aGlzLl93ZWJHTFZlcnNpb249Mix0aGlzLl9zaGFkZXJQbGF0Zm9ybU5hbWU9IldFQkdMMiIpOnRoaXMuX3NoYWRlclBsYXRmb3JtTmFtZT0iV0VCR0wxIjt2YXIgQz10aGlzLl9nbC5nZXRDb250ZXh0QXR0cmlidXRlcygpO0MmJihyLnN0ZW5jaWw9Qy5zdGVuY2lsKX10aGlzLl9nbC5waXhlbFN0b3JlaSh0aGlzLl9nbC5VTlBBQ0tfQ09MT1JTUEFDRV9DT05WRVJTSU9OX1dFQkdMLHRoaXMuX2dsLk5PTkUpLHIudXNlSGlnaFByZWNpc2lvbkZsb2F0cyE9PXZvaWQgMCYmKHRoaXMuX2hpZ2hQcmVjaXNpb25TaGFkZXJzQWxsb3dlZD1yLnVzZUhpZ2hQcmVjaXNpb25GbG9hdHMpO3ZhciBBPXllKCkmJndpbmRvdy5kZXZpY2VQaXhlbFJhdGlvfHwxLFM9ci5saW1pdERldmljZVJhdGlvfHxBO3RoaXMuX2hhcmR3YXJlU2NhbGluZ0xldmVsPW4/MS9NYXRoLm1pbihTLEEpOjEsdGhpcy5yZXNpemUoKSx0aGlzLl9pc1N0ZW5jaWxFbmFibGU9ISFyLnN0ZW5jaWwsdGhpcy5faW5pdEdMQ29udGV4dCgpLHRoaXMuX2luaXRGZWF0dXJlcygpO2Zvcih2YXIgdz0wO3c8dGhpcy5fY2Fwcy5tYXhWZXJ0ZXhBdHRyaWJzO3crKyl0aGlzLl9jdXJyZW50QnVmZmVyUG9pbnRlcnNbd109bmV3IEhuO3RoaXMuX3NoYWRlclByb2Nlc3Nvcj10aGlzLndlYkdMVmVyc2lvbj4xP25ldyB6bjpuZXcgV24sdGhpcy5fYmFkT1M9L2lQYWQvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpfHwvaVBob25lL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTt2YXIgRj0iQmFieWxvbi5qcyB2Ii5jb25jYXQoaS5WZXJzaW9uKTtjb25zb2xlLmxvZyhGKyIgLSAiLmNvbmNhdCh0aGlzLmRlc2NyaXB0aW9uKSksdGhpcy5fcmVuZGVyaW5nQ2FudmFzJiZ0aGlzLl9yZW5kZXJpbmdDYW52YXMuc2V0QXR0cmlidXRlJiZ0aGlzLl9yZW5kZXJpbmdDYW52YXMuc2V0QXR0cmlidXRlKCJkYXRhLWVuZ2luZSIsRil9fXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoaSwiTnBtUGFja2FnZSIse2dldDpmdW5jdGlvbigpe3JldHVybiJiYWJ5bG9uanNANS4xMC4wIn0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSwiVmVyc2lvbiIse2dldDpmdW5jdGlvbigpe3JldHVybiI1LjEwLjAifSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiZGVzY3JpcHRpb24iLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLm5hbWUrdGhpcy53ZWJHTFZlcnNpb247cmV0dXJuIHRoaXMuX2NhcHMucGFyYWxsZWxTaGFkZXJDb21waWxlJiYoZSs9IiAtIFBhcmFsbGVsIHNoYWRlciBjb21waWxhdGlvbiIpLGV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJuYW1lIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX25hbWV9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9uYW1lPWV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJ2ZXJzaW9uIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3dlYkdMVmVyc2lvbn0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSwiU2hhZGVyc1JlcG9zaXRvcnkiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gR2UuU2hhZGVyc1JlcG9zaXRvcnl9LHNldDpmdW5jdGlvbihlKXtHZS5TaGFkZXJzUmVwb3NpdG9yeT1lfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkucHJvdG90eXBlLl9nZXRTaGFkZXJQcm9jZXNzb3I9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX3NoYWRlclByb2Nlc3Nvcn0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJ1c2VSZXZlcnNlRGVwdGhCdWZmZXIiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdXNlUmV2ZXJzZURlcHRoQnVmZmVyfSxzZXQ6ZnVuY3Rpb24oZSl7ZSE9PXRoaXMuX3VzZVJldmVyc2VEZXB0aEJ1ZmZlciYmKHRoaXMuX3VzZVJldmVyc2VEZXB0aEJ1ZmZlcj1lLGU/dGhpcy5fZGVwdGhDdWxsaW5nU3RhdGUuZGVwdGhGdW5jPTUxODp0aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS5kZXB0aEZ1bmM9NTE1KX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImZyYW1lSWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZnJhbWVJZH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsInN1cHBvcnRzVW5pZm9ybUJ1ZmZlcnMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy53ZWJHTFZlcnNpb24+MSYmIXRoaXMuZGlzYWJsZVVuaWZvcm1CdWZmZXJzfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkucHJvdG90eXBlLmdldENyZWF0aW9uT3B0aW9ucz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9jcmVhdGlvbk9wdGlvbnN9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiX3Nob3VsZFVzZUhpZ2hQcmVjaXNpb25TaGFkZXIiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4hISh0aGlzLl9jYXBzLmhpZ2hQcmVjaXNpb25TaGFkZXJTdXBwb3J0ZWQmJnRoaXMuX2hpZ2hQcmVjaXNpb25TaGFkZXJzQWxsb3dlZCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJuZWVkUE9UVGV4dHVyZXMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fd2ViR0xWZXJzaW9uPDJ8fHRoaXMuZm9yY2VQT1RUZXh0dXJlc30sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImFjdGl2ZVJlbmRlckxvb3BzIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FjdGl2ZVJlbmRlckxvb3BzfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiZG9Ob3RIYW5kbGVDb250ZXh0TG9zdCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kb05vdEhhbmRsZUNvbnRleHRMb3N0fSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fZG9Ob3RIYW5kbGVDb250ZXh0TG9zdD1lfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiX3N1cHBvcnRzSGFyZHdhcmVUZXh0dXJlUmVzY2FsaW5nIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuITF9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJmcmFtZWJ1ZmZlckRpbWVuc2lvbnNPYmplY3QiLHtzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fZnJhbWVidWZmZXJEaW1lbnNpb25zT2JqZWN0PWV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJjdXJyZW50Vmlld3BvcnQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2FjaGVkVmlld3BvcnR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJlbXB0eVRleHR1cmUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZW1wdHlUZXh0dXJlfHwodGhpcy5fZW1wdHlUZXh0dXJlPXRoaXMuY3JlYXRlUmF3VGV4dHVyZShuZXcgVWludDhBcnJheSg0KSwxLDEsNSwhMSwhMSwxKSksdGhpcy5fZW1wdHlUZXh0dXJlfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiZW1wdHlUZXh0dXJlM0QiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZW1wdHlUZXh0dXJlM0R8fCh0aGlzLl9lbXB0eVRleHR1cmUzRD10aGlzLmNyZWF0ZVJhd1RleHR1cmUzRChuZXcgVWludDhBcnJheSg0KSwxLDEsMSw1LCExLCExLDEpKSx0aGlzLl9lbXB0eVRleHR1cmUzRH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImVtcHR5VGV4dHVyZTJEQXJyYXkiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZW1wdHlUZXh0dXJlMkRBcnJheXx8KHRoaXMuX2VtcHR5VGV4dHVyZTJEQXJyYXk9dGhpcy5jcmVhdGVSYXdUZXh0dXJlMkRBcnJheShuZXcgVWludDhBcnJheSg0KSwxLDEsMSw1LCExLCExLDEpKSx0aGlzLl9lbXB0eVRleHR1cmUyREFycmF5fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiZW1wdHlDdWJlVGV4dHVyZSIse2dldDpmdW5jdGlvbigpe2lmKCF0aGlzLl9lbXB0eUN1YmVUZXh0dXJlKXt2YXIgZT1uZXcgVWludDhBcnJheSg0KSx0PVtlLGUsZSxlLGUsZV07dGhpcy5fZW1wdHlDdWJlVGV4dHVyZT10aGlzLmNyZWF0ZVJhd0N1YmVUZXh0dXJlKHQsMSw1LDAsITEsITEsMSl9cmV0dXJuIHRoaXMuX2VtcHR5Q3ViZVRleHR1cmV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJpc1dlYkdQVSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pc1dlYkdQVX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsInNoYWRlclBsYXRmb3JtTmFtZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zaGFkZXJQbGF0Zm9ybU5hbWV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJzbmFwc2hvdFJlbmRlcmluZyIse2dldDpmdW5jdGlvbigpe3JldHVybiExfSxzZXQ6ZnVuY3Rpb24oZSl7fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwic25hcHNob3RSZW5kZXJpbmdNb2RlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NuYXBzaG90UmVuZGVyaW5nTW9kZX0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX3NuYXBzaG90UmVuZGVyaW5nTW9kZT1lfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkucHJvdG90eXBlLnNuYXBzaG90UmVuZGVyaW5nUmVzZXQ9ZnVuY3Rpb24oKXt0aGlzLnNuYXBzaG90UmVuZGVyaW5nPSExfSxpLl9DcmVhdGVDYW52YXM9ZnVuY3Rpb24oZSx0KXtpZih0eXBlb2YgZG9jdW1lbnQ9PSJ1bmRlZmluZWQiKXJldHVybiBuZXcgT2Zmc2NyZWVuQ2FudmFzKGUsdCk7dmFyIHI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIik7cmV0dXJuIHIud2lkdGg9ZSxyLmhlaWdodD10LHJ9LGkucHJvdG90eXBlLmNyZWF0ZUNhbnZhcz1mdW5jdGlvbihlLHQpe3JldHVybiBpLl9DcmVhdGVDYW52YXMoZSx0KX0saS5wcm90b3R5cGUuY3JlYXRlQ2FudmFzSW1hZ2U9ZnVuY3Rpb24oKXtyZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW1nIil9LGkucHJvdG90eXBlLl9yZXN0b3JlRW5naW5lQWZ0ZXJDb250ZXh0TG9zdD1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3NldFRpbWVvdXQoZnVuY3Rpb24oKXtyZXR1cm4ga3IodCx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIHIsbixhLHMsbztyZXR1cm4gd3QodGhpcyxmdW5jdGlvbih1KXtzd2l0Y2godS5sYWJlbCl7Y2FzZSAwOnJldHVybiB0aGlzLl9kdW1teUZyYW1lYnVmZmVyPW51bGwscj10aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS5kZXB0aFRlc3Qsbj10aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS5kZXB0aEZ1bmMsYT10aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS5kZXB0aE1hc2sscz10aGlzLl9zdGVuY2lsU3RhdGUuc3RlbmNpbFRlc3QsWzQsZSgpXTtjYXNlIDE6cmV0dXJuIHUuc2VudCgpLHRoaXMuX3JlYnVpbGRFZmZlY3RzKCksKG89dGhpcy5fcmVidWlsZENvbXB1dGVFZmZlY3RzKT09PW51bGx8fG89PT12b2lkIDB8fG8uY2FsbCh0aGlzKSx0aGlzLl9yZWJ1aWxkSW50ZXJuYWxUZXh0dXJlcygpLHRoaXMuX3JlYnVpbGRSZW5kZXJUYXJnZXRXcmFwcGVycygpLHRoaXMuX3JlYnVpbGRCdWZmZXJzKCksdGhpcy53aXBlQ2FjaGVzKCEwKSx0aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS5kZXB0aFRlc3Q9cix0aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS5kZXB0aEZ1bmM9bix0aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS5kZXB0aE1hc2s9YSx0aGlzLl9zdGVuY2lsU3RhdGUuc3RlbmNpbFRlc3Q9cyxXLldhcm4odGhpcy5uYW1lKyIgY29udGV4dCBzdWNjZXNzZnVsbHkgcmVzdG9yZWQuIiksdGhpcy5vbkNvbnRleHRSZXN0b3JlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpLHRoaXMuX2NvbnRleHRXYXNMb3N0PSExLFsyXX19KX0pfSwwKX0saS5wcm90b3R5cGUuX3NoYXJlZEluaXQ9ZnVuY3Rpb24oZSx0LHIpe3RoaXMuX3JlbmRlcmluZ0NhbnZhcz1lfSxpLnByb3RvdHlwZS5fZ2V0U2hhZGVyUHJvY2Vzc2luZ0NvbnRleHQ9ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGx9LGkucHJvdG90eXBlLl9yZWJ1aWxkSW50ZXJuYWxUZXh0dXJlcz1mdW5jdGlvbigpe2Zvcih2YXIgZT10aGlzLl9pbnRlcm5hbFRleHR1cmVzQ2FjaGUuc2xpY2UoKSx0PTAscj1lO3Q8ci5sZW5ndGg7dCsrKXt2YXIgbj1yW3RdO24uX3JlYnVpbGQoKX19LGkucHJvdG90eXBlLl9yZWJ1aWxkUmVuZGVyVGFyZ2V0V3JhcHBlcnM9ZnVuY3Rpb24oKXtmb3IodmFyIGU9dGhpcy5fcmVuZGVyVGFyZ2V0V3JhcHBlckNhY2hlLnNsaWNlKCksdD0wLHI9ZTt0PHIubGVuZ3RoO3QrKyl7dmFyIG49clt0XTtuLl9yZWJ1aWxkKCl9fSxpLnByb3RvdHlwZS5fcmVidWlsZEVmZmVjdHM9ZnVuY3Rpb24oKXtmb3IodmFyIGUgaW4gdGhpcy5fY29tcGlsZWRFZmZlY3RzKXt2YXIgdD10aGlzLl9jb21waWxlZEVmZmVjdHNbZV07dC5fcGlwZWxpbmVDb250ZXh0PW51bGwsdC5fd2FzUHJldmlvdXNseVJlYWR5PSExLHQuX3ByZXBhcmVFZmZlY3QoKX1HZS5SZXNldENhY2hlKCl9LGkucHJvdG90eXBlLmFyZUFsbEVmZmVjdHNSZWFkeT1mdW5jdGlvbigpe2Zvcih2YXIgZSBpbiB0aGlzLl9jb21waWxlZEVmZmVjdHMpe3ZhciB0PXRoaXMuX2NvbXBpbGVkRWZmZWN0c1tlXTtpZighdC5pc1JlYWR5KCkpcmV0dXJuITF9cmV0dXJuITB9LGkucHJvdG90eXBlLl9yZWJ1aWxkQnVmZmVycz1mdW5jdGlvbigpe2Zvcih2YXIgZT0wLHQ9dGhpcy5fdW5pZm9ybUJ1ZmZlcnM7ZTx0Lmxlbmd0aDtlKyspe3ZhciByPXRbZV07ci5fcmVidWlsZCgpfWZvcih2YXIgbj0wLGE9dGhpcy5fc3RvcmFnZUJ1ZmZlcnM7bjxhLmxlbmd0aDtuKyspe3ZhciBzPWFbbl07cy5fcmVidWlsZCgpfX0saS5wcm90b3R5cGUuX2luaXRHTENvbnRleHQ9ZnVuY3Rpb24oKXt0aGlzLl9jYXBzPXttYXhUZXh0dXJlc0ltYWdlVW5pdHM6dGhpcy5fZ2wuZ2V0UGFyYW1ldGVyKHRoaXMuX2dsLk1BWF9URVhUVVJFX0lNQUdFX1VOSVRTKSxtYXhDb21iaW5lZFRleHR1cmVzSW1hZ2VVbml0czp0aGlzLl9nbC5nZXRQYXJhbWV0ZXIodGhpcy5fZ2wuTUFYX0NPTUJJTkVEX1RFWFRVUkVfSU1BR0VfVU5JVFMpLG1heFZlcnRleFRleHR1cmVJbWFnZVVuaXRzOnRoaXMuX2dsLmdldFBhcmFtZXRlcih0aGlzLl9nbC5NQVhfVkVSVEVYX1RFWFRVUkVfSU1BR0VfVU5JVFMpLG1heFRleHR1cmVTaXplOnRoaXMuX2dsLmdldFBhcmFtZXRlcih0aGlzLl9nbC5NQVhfVEVYVFVSRV9TSVpFKSxtYXhTYW1wbGVzOnRoaXMuX3dlYkdMVmVyc2lvbj4xP3RoaXMuX2dsLmdldFBhcmFtZXRlcih0aGlzLl9nbC5NQVhfU0FNUExFUyk6MSxtYXhDdWJlbWFwVGV4dHVyZVNpemU6dGhpcy5fZ2wuZ2V0UGFyYW1ldGVyKHRoaXMuX2dsLk1BWF9DVUJFX01BUF9URVhUVVJFX1NJWkUpLG1heFJlbmRlclRleHR1cmVTaXplOnRoaXMuX2dsLmdldFBhcmFtZXRlcih0aGlzLl9nbC5NQVhfUkVOREVSQlVGRkVSX1NJWkUpLG1heFZlcnRleEF0dHJpYnM6dGhpcy5fZ2wuZ2V0UGFyYW1ldGVyKHRoaXMuX2dsLk1BWF9WRVJURVhfQVRUUklCUyksbWF4VmFyeWluZ1ZlY3RvcnM6dGhpcy5fZ2wuZ2V0UGFyYW1ldGVyKHRoaXMuX2dsLk1BWF9WQVJZSU5HX1ZFQ1RPUlMpLG1heEZyYWdtZW50VW5pZm9ybVZlY3RvcnM6dGhpcy5fZ2wuZ2V0UGFyYW1ldGVyKHRoaXMuX2dsLk1BWF9GUkFHTUVOVF9VTklGT1JNX1ZFQ1RPUlMpLG1heFZlcnRleFVuaWZvcm1WZWN0b3JzOnRoaXMuX2dsLmdldFBhcmFtZXRlcih0aGlzLl9nbC5NQVhfVkVSVEVYX1VOSUZPUk1fVkVDVE9SUykscGFyYWxsZWxTaGFkZXJDb21waWxlOnRoaXMuX2dsLmdldEV4dGVuc2lvbigiS0hSX3BhcmFsbGVsX3NoYWRlcl9jb21waWxlIil8fHZvaWQgMCxzdGFuZGFyZERlcml2YXRpdmVzOnRoaXMuX3dlYkdMVmVyc2lvbj4xfHx0aGlzLl9nbC5nZXRFeHRlbnNpb24oIk9FU19zdGFuZGFyZF9kZXJpdmF0aXZlcyIpIT09bnVsbCxtYXhBbmlzb3Ryb3B5OjEsYXN0Yzp0aGlzLl9nbC5nZXRFeHRlbnNpb24oIldFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9hc3RjIil8fHRoaXMuX2dsLmdldEV4dGVuc2lvbigiV0VCS0lUX1dFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9hc3RjIiksYnB0Yzp0aGlzLl9nbC5nZXRFeHRlbnNpb24oIkVYVF90ZXh0dXJlX2NvbXByZXNzaW9uX2JwdGMiKXx8dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJXRUJLSVRfRVhUX3RleHR1cmVfY29tcHJlc3Npb25fYnB0YyIpLHMzdGM6dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfczN0YyIpfHx0aGlzLl9nbC5nZXRFeHRlbnNpb24oIldFQktJVF9XRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfczN0YyIpLHMzdGNfc3JnYjp0aGlzLl9nbC5nZXRFeHRlbnNpb24oIldFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9zM3RjX3NyZ2IiKXx8dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJXRUJLSVRfV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX3MzdGNfc3JnYiIpLHB2cnRjOnRoaXMuX2dsLmdldEV4dGVuc2lvbigiV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX3B2cnRjIil8fHRoaXMuX2dsLmdldEV4dGVuc2lvbigiV0VCS0lUX1dFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9wdnJ0YyIpLGV0YzE6dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfZXRjMSIpfHx0aGlzLl9nbC5nZXRFeHRlbnNpb24oIldFQktJVF9XRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfZXRjMSIpLGV0YzI6dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfZXRjIil8fHRoaXMuX2dsLmdldEV4dGVuc2lvbigiV0VCS0lUX1dFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9ldGMiKXx8dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfZXMzXzAiKSx0ZXh0dXJlQW5pc290cm9waWNGaWx0ZXJFeHRlbnNpb246dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJFWFRfdGV4dHVyZV9maWx0ZXJfYW5pc290cm9waWMiKXx8dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJXRUJLSVRfRVhUX3RleHR1cmVfZmlsdGVyX2FuaXNvdHJvcGljIil8fHRoaXMuX2dsLmdldEV4dGVuc2lvbigiTU9aX0VYVF90ZXh0dXJlX2ZpbHRlcl9hbmlzb3Ryb3BpYyIpLHVpbnRJbmRpY2VzOnRoaXMuX3dlYkdMVmVyc2lvbj4xfHx0aGlzLl9nbC5nZXRFeHRlbnNpb24oIk9FU19lbGVtZW50X2luZGV4X3VpbnQiKSE9PW51bGwsZnJhZ21lbnREZXB0aFN1cHBvcnRlZDp0aGlzLl93ZWJHTFZlcnNpb24+MXx8dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJFWFRfZnJhZ19kZXB0aCIpIT09bnVsbCxoaWdoUHJlY2lzaW9uU2hhZGVyU3VwcG9ydGVkOiExLHRpbWVyUXVlcnk6dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJFWFRfZGlzam9pbnRfdGltZXJfcXVlcnlfd2ViZ2wyIil8fHRoaXMuX2dsLmdldEV4dGVuc2lvbigiRVhUX2Rpc2pvaW50X3RpbWVyX3F1ZXJ5Iiksc3VwcG9ydE9jY2x1c2lvblF1ZXJ5OnRoaXMuX3dlYkdMVmVyc2lvbj4xLGNhblVzZVRpbWVzdGFtcEZvclRpbWVyUXVlcnk6ITEsZHJhd0J1ZmZlcnNFeHRlbnNpb246ITEsbWF4TVNBQVNhbXBsZXM6MSxjb2xvckJ1ZmZlckZsb2F0OiEhKHRoaXMuX3dlYkdMVmVyc2lvbj4xJiZ0aGlzLl9nbC5nZXRFeHRlbnNpb24oIkVYVF9jb2xvcl9idWZmZXJfZmxvYXQiKSksdGV4dHVyZUZsb2F0OiEhKHRoaXMuX3dlYkdMVmVyc2lvbj4xfHx0aGlzLl9nbC5nZXRFeHRlbnNpb24oIk9FU190ZXh0dXJlX2Zsb2F0IikpLHRleHR1cmVIYWxmRmxvYXQ6ISEodGhpcy5fd2ViR0xWZXJzaW9uPjF8fHRoaXMuX2dsLmdldEV4dGVuc2lvbigiT0VTX3RleHR1cmVfaGFsZl9mbG9hdCIpKSx0ZXh0dXJlSGFsZkZsb2F0UmVuZGVyOiExLHRleHR1cmVGbG9hdExpbmVhckZpbHRlcmluZzohMSx0ZXh0dXJlRmxvYXRSZW5kZXI6ITEsdGV4dHVyZUhhbGZGbG9hdExpbmVhckZpbHRlcmluZzohMSx2ZXJ0ZXhBcnJheU9iamVjdDohMSxpbnN0YW5jZWRBcnJheXM6ITEsdGV4dHVyZUxPRDohISh0aGlzLl93ZWJHTFZlcnNpb24+MXx8dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJFWFRfc2hhZGVyX3RleHR1cmVfbG9kIikpLGJsZW5kTWluTWF4OiExLG11bHRpdmlldzp0aGlzLl9nbC5nZXRFeHRlbnNpb24oIk9WUl9tdWx0aXZpZXcyIiksb2N1bHVzTXVsdGl2aWV3OnRoaXMuX2dsLmdldEV4dGVuc2lvbigiT0NVTFVTX211bHRpdmlldyIpLGRlcHRoVGV4dHVyZUV4dGVuc2lvbjohMSxjYW5Vc2VHTEluc3RhbmNlSUQ6dGhpcy5fd2ViR0xWZXJzaW9uPjEsY2FuVXNlR0xWZXJ0ZXhJRDp0aGlzLl93ZWJHTFZlcnNpb24+MSxzdXBwb3J0Q29tcHV0ZVNoYWRlcnM6ITEsc3VwcG9ydFNSR0JCdWZmZXJzOiExLHN1cHBvcnRUcmFuc2Zvcm1GZWVkYmFja3M6dGhpcy5fd2ViR0xWZXJzaW9uPjEsdGV4dHVyZU1heExldmVsOnRoaXMuX3dlYkdMVmVyc2lvbj4xLHRleHR1cmUyREFycmF5TWF4TGF5ZXJDb3VudDp0aGlzLl93ZWJHTFZlcnNpb24+MT8yNTY6MTI4fSx0aGlzLl9nbFZlcnNpb249dGhpcy5fZ2wuZ2V0UGFyYW1ldGVyKHRoaXMuX2dsLlZFUlNJT04pO3ZhciBlPXRoaXMuX2dsLmdldEV4dGVuc2lvbigiV0VCR0xfZGVidWdfcmVuZGVyZXJfaW5mbyIpO2lmKGUhPW51bGwmJih0aGlzLl9nbFJlbmRlcmVyPXRoaXMuX2dsLmdldFBhcmFtZXRlcihlLlVOTUFTS0VEX1JFTkRFUkVSX1dFQkdMKSx0aGlzLl9nbFZlbmRvcj10aGlzLl9nbC5nZXRQYXJhbWV0ZXIoZS5VTk1BU0tFRF9WRU5ET1JfV0VCR0wpKSx0aGlzLl9nbFZlbmRvcnx8KHRoaXMuX2dsVmVuZG9yPXRoaXMuX2dsLmdldFBhcmFtZXRlcih0aGlzLl9nbC5WRU5ET1IpfHwiVW5rbm93biB2ZW5kb3IiKSx0aGlzLl9nbFJlbmRlcmVyfHwodGhpcy5fZ2xSZW5kZXJlcj10aGlzLl9nbC5nZXRQYXJhbWV0ZXIodGhpcy5fZ2wuUkVOREVSRVIpfHwiVW5rbm93biByZW5kZXJlciIpLHRoaXMuX2dsLkhBTEZfRkxPQVRfT0VTIT09MzYxOTMmJih0aGlzLl9nbC5IQUxGX0ZMT0FUX09FUz0zNjE5MyksdGhpcy5fZ2wuUkdCQTE2RiE9PTM0ODQyJiYodGhpcy5fZ2wuUkdCQTE2Rj0zNDg0MiksdGhpcy5fZ2wuUkdCQTMyRiE9PTM0ODM2JiYodGhpcy5fZ2wuUkdCQTMyRj0zNDgzNiksdGhpcy5fZ2wuREVQVEgyNF9TVEVOQ0lMOCE9PTM1MDU2JiYodGhpcy5fZ2wuREVQVEgyNF9TVEVOQ0lMOD0zNTA1NiksdGhpcy5fY2Fwcy50aW1lclF1ZXJ5JiYodGhpcy5fd2ViR0xWZXJzaW9uPT09MSYmKHRoaXMuX2dsLmdldFF1ZXJ5PXRoaXMuX2NhcHMudGltZXJRdWVyeS5nZXRRdWVyeUVYVC5iaW5kKHRoaXMuX2NhcHMudGltZXJRdWVyeSkpLHRoaXMuX2NhcHMuY2FuVXNlVGltZXN0YW1wRm9yVGltZXJRdWVyeT10aGlzLl9nbC5nZXRRdWVyeSh0aGlzLl9jYXBzLnRpbWVyUXVlcnkuVElNRVNUQU1QX0VYVCx0aGlzLl9jYXBzLnRpbWVyUXVlcnkuUVVFUllfQ09VTlRFUl9CSVRTX0VYVCk+MCksdGhpcy5fY2Fwcy5tYXhBbmlzb3Ryb3B5PXRoaXMuX2NhcHMudGV4dHVyZUFuaXNvdHJvcGljRmlsdGVyRXh0ZW5zaW9uP3RoaXMuX2dsLmdldFBhcmFtZXRlcih0aGlzLl9jYXBzLnRleHR1cmVBbmlzb3Ryb3BpY0ZpbHRlckV4dGVuc2lvbi5NQVhfVEVYVFVSRV9NQVhfQU5JU09UUk9QWV9FWFQpOjAsdGhpcy5fY2Fwcy50ZXh0dXJlRmxvYXRMaW5lYXJGaWx0ZXJpbmc9ISEodGhpcy5fY2Fwcy50ZXh0dXJlRmxvYXQmJnRoaXMuX2dsLmdldEV4dGVuc2lvbigiT0VTX3RleHR1cmVfZmxvYXRfbGluZWFyIikpLHRoaXMuX2NhcHMudGV4dHVyZUZsb2F0UmVuZGVyPSEhKHRoaXMuX2NhcHMudGV4dHVyZUZsb2F0JiZ0aGlzLl9jYW5SZW5kZXJUb0Zsb2F0RnJhbWVidWZmZXIoKSksdGhpcy5fY2Fwcy50ZXh0dXJlSGFsZkZsb2F0TGluZWFyRmlsdGVyaW5nPSEhKHRoaXMuX3dlYkdMVmVyc2lvbj4xfHx0aGlzLl9jYXBzLnRleHR1cmVIYWxmRmxvYXQmJnRoaXMuX2dsLmdldEV4dGVuc2lvbigiT0VTX3RleHR1cmVfaGFsZl9mbG9hdF9saW5lYXIiKSksdGhpcy5fY2Fwcy5hc3RjJiYodGhpcy5fZ2wuQ09NUFJFU1NFRF9TUkdCOF9BTFBIQThfQVNUQ180eDRfS0hSPXRoaXMuX2NhcHMuYXN0Yy5DT01QUkVTU0VEX1NSR0I4X0FMUEhBOF9BU1RDXzR4NF9LSFIpLHRoaXMuX2NhcHMuYnB0YyYmKHRoaXMuX2dsLkNPTVBSRVNTRURfU1JHQl9BTFBIQV9CUFRDX1VOT1JNX0VYVD10aGlzLl9jYXBzLmJwdGMuQ09NUFJFU1NFRF9TUkdCX0FMUEhBX0JQVENfVU5PUk1fRVhUKSx0aGlzLl9jYXBzLnMzdGNfc3JnYiYmKHRoaXMuX2dsLkNPTVBSRVNTRURfU1JHQl9TM1RDX0RYVDFfRVhUPXRoaXMuX2NhcHMuczN0Y19zcmdiLkNPTVBSRVNTRURfU1JHQl9TM1RDX0RYVDFfRVhULHRoaXMuX2dsLkNPTVBSRVNTRURfU1JHQl9BTFBIQV9TM1RDX0RYVDFfRVhUPXRoaXMuX2NhcHMuczN0Y19zcmdiLkNPTVBSRVNTRURfU1JHQl9BTFBIQV9TM1RDX0RYVDFfRVhULHRoaXMuX2dsLkNPTVBSRVNTRURfU1JHQl9BTFBIQV9TM1RDX0RYVDVfRVhUPXRoaXMuX2NhcHMuczN0Y19zcmdiLkNPTVBSRVNTRURfU1JHQl9BTFBIQV9TM1RDX0RYVDVfRVhUKSx0aGlzLl9jYXBzLmV0YzImJih0aGlzLl9nbC5DT01QUkVTU0VEX1NSR0I4X0VUQzI9dGhpcy5fY2Fwcy5ldGMyLkNPTVBSRVNTRURfU1JHQjhfRVRDMix0aGlzLl9nbC5DT01QUkVTU0VEX1NSR0I4X0FMUEhBOF9FVEMyX0VBQz10aGlzLl9jYXBzLmV0YzIuQ09NUFJFU1NFRF9TUkdCOF9BTFBIQThfRVRDMl9FQUMpLHRoaXMuX3dlYkdMVmVyc2lvbj4xJiZ0aGlzLl9nbC5IQUxGX0ZMT0FUX09FUyE9PTUxMzEmJih0aGlzLl9nbC5IQUxGX0ZMT0FUX09FUz01MTMxKSx0aGlzLl9jYXBzLnRleHR1cmVIYWxmRmxvYXRSZW5kZXI9dGhpcy5fY2Fwcy50ZXh0dXJlSGFsZkZsb2F0JiZ0aGlzLl9jYW5SZW5kZXJUb0hhbGZGbG9hdEZyYW1lYnVmZmVyKCksdGhpcy5fd2ViR0xWZXJzaW9uPjEpdGhpcy5fY2Fwcy5kcmF3QnVmZmVyc0V4dGVuc2lvbj0hMCx0aGlzLl9jYXBzLm1heE1TQUFTYW1wbGVzPXRoaXMuX21heE1TQUFTYW1wbGVzT3ZlcnJpZGUhPT1udWxsP3RoaXMuX21heE1TQUFTYW1wbGVzT3ZlcnJpZGU6dGhpcy5fZ2wuZ2V0UGFyYW1ldGVyKHRoaXMuX2dsLk1BWF9TQU1QTEVTKTtlbHNle3ZhciB0PXRoaXMuX2dsLmdldEV4dGVuc2lvbigiV0VCR0xfZHJhd19idWZmZXJzIik7aWYodCE9PW51bGwpe3RoaXMuX2NhcHMuZHJhd0J1ZmZlcnNFeHRlbnNpb249ITAsdGhpcy5fZ2wuZHJhd0J1ZmZlcnM9dC5kcmF3QnVmZmVyc1dFQkdMLmJpbmQodCksdGhpcy5fZ2wuRFJBV19GUkFNRUJVRkZFUj10aGlzLl9nbC5GUkFNRUJVRkZFUjtmb3IodmFyIHI9MDtyPDE2O3IrKyl0aGlzLl9nbFsiQ09MT1JfQVRUQUNITUVOVCIrcisiX1dFQkdMIl09dFsiQ09MT1JfQVRUQUNITUVOVCIrcisiX1dFQkdMIl19fWlmKHRoaXMuX3dlYkdMVmVyc2lvbj4xKXRoaXMuX2NhcHMuZGVwdGhUZXh0dXJlRXh0ZW5zaW9uPSEwO2Vsc2V7dmFyIG49dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJXRUJHTF9kZXB0aF90ZXh0dXJlIik7biE9bnVsbCYmKHRoaXMuX2NhcHMuZGVwdGhUZXh0dXJlRXh0ZW5zaW9uPSEwLHRoaXMuX2dsLlVOU0lHTkVEX0lOVF8yNF84PW4uVU5TSUdORURfSU5UXzI0XzhfV0VCR0wpfWlmKHRoaXMuZGlzYWJsZVZlcnRleEFycmF5T2JqZWN0cyl0aGlzLl9jYXBzLnZlcnRleEFycmF5T2JqZWN0PSExO2Vsc2UgaWYodGhpcy5fd2ViR0xWZXJzaW9uPjEpdGhpcy5fY2Fwcy52ZXJ0ZXhBcnJheU9iamVjdD0hMDtlbHNle3ZhciBhPXRoaXMuX2dsLmdldEV4dGVuc2lvbigiT0VTX3ZlcnRleF9hcnJheV9vYmplY3QiKTthIT1udWxsJiYodGhpcy5fY2Fwcy52ZXJ0ZXhBcnJheU9iamVjdD0hMCx0aGlzLl9nbC5jcmVhdGVWZXJ0ZXhBcnJheT1hLmNyZWF0ZVZlcnRleEFycmF5T0VTLmJpbmQoYSksdGhpcy5fZ2wuYmluZFZlcnRleEFycmF5PWEuYmluZFZlcnRleEFycmF5T0VTLmJpbmQoYSksdGhpcy5fZ2wuZGVsZXRlVmVydGV4QXJyYXk9YS5kZWxldGVWZXJ0ZXhBcnJheU9FUy5iaW5kKGEpKX1pZih0aGlzLl93ZWJHTFZlcnNpb24+MSl0aGlzLl9jYXBzLmluc3RhbmNlZEFycmF5cz0hMDtlbHNle3ZhciBzPXRoaXMuX2dsLmdldEV4dGVuc2lvbigiQU5HTEVfaW5zdGFuY2VkX2FycmF5cyIpO3MhPW51bGw/KHRoaXMuX2NhcHMuaW5zdGFuY2VkQXJyYXlzPSEwLHRoaXMuX2dsLmRyYXdBcnJheXNJbnN0YW5jZWQ9cy5kcmF3QXJyYXlzSW5zdGFuY2VkQU5HTEUuYmluZChzKSx0aGlzLl9nbC5kcmF3RWxlbWVudHNJbnN0YW5jZWQ9cy5kcmF3RWxlbWVudHNJbnN0YW5jZWRBTkdMRS5iaW5kKHMpLHRoaXMuX2dsLnZlcnRleEF0dHJpYkRpdmlzb3I9cy52ZXJ0ZXhBdHRyaWJEaXZpc29yQU5HTEUuYmluZChzKSk6dGhpcy5fY2Fwcy5pbnN0YW5jZWRBcnJheXM9ITF9aWYodGhpcy5fZ2wuZ2V0U2hhZGVyUHJlY2lzaW9uRm9ybWF0KXt2YXIgbz10aGlzLl9nbC5nZXRTaGFkZXJQcmVjaXNpb25Gb3JtYXQodGhpcy5fZ2wuVkVSVEVYX1NIQURFUix0aGlzLl9nbC5ISUdIX0ZMT0FUKSx1PXRoaXMuX2dsLmdldFNoYWRlclByZWNpc2lvbkZvcm1hdCh0aGlzLl9nbC5GUkFHTUVOVF9TSEFERVIsdGhpcy5fZ2wuSElHSF9GTE9BVCk7byYmdSYmKHRoaXMuX2NhcHMuaGlnaFByZWNpc2lvblNoYWRlclN1cHBvcnRlZD1vLnByZWNpc2lvbiE9PTAmJnUucHJlY2lzaW9uIT09MCl9aWYodGhpcy5fd2ViR0xWZXJzaW9uPjEpdGhpcy5fY2Fwcy5ibGVuZE1pbk1heD0hMDtlbHNle3ZhciBmPXRoaXMuX2dsLmdldEV4dGVuc2lvbigiRVhUX2JsZW5kX21pbm1heCIpO2YhPW51bGwmJih0aGlzLl9jYXBzLmJsZW5kTWluTWF4PSEwLHRoaXMuX2dsLk1BWD1mLk1BWF9FWFQsdGhpcy5fZ2wuTUlOPWYuTUlOX0VYVCl9aWYoIXRoaXMuX2NhcHMuc3VwcG9ydFNSR0JCdWZmZXJzKXtpZih0aGlzLl93ZWJHTFZlcnNpb24+MSl0aGlzLl9jYXBzLnN1cHBvcnRTUkdCQnVmZmVycz0hMDtlbHNle3ZhciBsPXRoaXMuX2dsLmdldEV4dGVuc2lvbigiRVhUX3NSR0IiKTtsIT1udWxsJiYodGhpcy5fY2Fwcy5zdXBwb3J0U1JHQkJ1ZmZlcnM9ITAsdGhpcy5fZ2wuU1JHQj1sLlNSR0JfRVhULHRoaXMuX2dsLlNSR0I4PWwuU1JHQl9BTFBIQV9FWFQsdGhpcy5fZ2wuU1JHQjhfQUxQSEE4PWwuU1JHQl9BTFBIQV9FWFQpfXRoaXMuX2NhcHMuc3VwcG9ydFNSR0JCdWZmZXJzPXRoaXMuX2NhcHMuc3VwcG9ydFNSR0JCdWZmZXJzJiYhISh0aGlzLl9jcmVhdGlvbk9wdGlvbnMmJnRoaXMuX2NyZWF0aW9uT3B0aW9ucy5mb3JjZVNSR0JCdWZmZXJTdXBwb3J0U3RhdGUpfXRoaXMuX2RlcHRoQ3VsbGluZ1N0YXRlLmRlcHRoVGVzdD0hMCx0aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS5kZXB0aEZ1bmM9dGhpcy5fZ2wuTEVRVUFMLHRoaXMuX2RlcHRoQ3VsbGluZ1N0YXRlLmRlcHRoTWFzaz0hMCx0aGlzLl9tYXhTaW11bHRhbmVvdXNUZXh0dXJlcz10aGlzLl9jYXBzLm1heENvbWJpbmVkVGV4dHVyZXNJbWFnZVVuaXRzO2Zvcih2YXIgaD0wO2g8dGhpcy5fbWF4U2ltdWx0YW5lb3VzVGV4dHVyZXM7aCsrKXRoaXMuX25leHRGcmVlVGV4dHVyZVNsb3RzLnB1c2goaCl9LGkucHJvdG90eXBlLl9pbml0RmVhdHVyZXM9ZnVuY3Rpb24oKXt0aGlzLl9mZWF0dXJlcz17Zm9yY2VCaXRtYXBPdmVySFRNTEltYWdlRWxlbWVudDohMSxzdXBwb3J0UmVuZGVyQW5kQ29weVRvTG9kRm9yRmxvYXRUZXh0dXJlczp0aGlzLl93ZWJHTFZlcnNpb24hPT0xLHN1cHBvcnREZXB0aFN0ZW5jaWxUZXh0dXJlOnRoaXMuX3dlYkdMVmVyc2lvbiE9PTEsc3VwcG9ydFNoYWRvd1NhbXBsZXJzOnRoaXMuX3dlYkdMVmVyc2lvbiE9PTEsdW5pZm9ybUJ1ZmZlckhhcmRDaGVja01hdHJpeDohMSxhbGxvd1RleHR1cmVQcmVmaWx0ZXJpbmc6dGhpcy5fd2ViR0xWZXJzaW9uIT09MSx0cmFja1Vib3NJbkZyYW1lOiExLGNoZWNrVWJvc0NvbnRlbnRCZWZvcmVVcGxvYWQ6ITEsc3VwcG9ydENTTTp0aGlzLl93ZWJHTFZlcnNpb24hPT0xLGJhc2lzTmVlZHNQT1Q6dGhpcy5fd2ViR0xWZXJzaW9uPT09MSxzdXBwb3J0M0RUZXh0dXJlczp0aGlzLl93ZWJHTFZlcnNpb24hPT0xLG5lZWRUeXBlU3VmZml4SW5TaGFkZXJDb25zdGFudHM6dGhpcy5fd2ViR0xWZXJzaW9uIT09MSxzdXBwb3J0TVNBQTp0aGlzLl93ZWJHTFZlcnNpb24hPT0xLHN1cHBvcnRTU0FPMjp0aGlzLl93ZWJHTFZlcnNpb24hPT0xLHN1cHBvcnRFeHRlbmRlZFRleHR1cmVGb3JtYXRzOnRoaXMuX3dlYkdMVmVyc2lvbiE9PTEsc3VwcG9ydFN3aXRjaENhc2VJblNoYWRlcjp0aGlzLl93ZWJHTFZlcnNpb24hPT0xLHN1cHBvcnRTeW5jVGV4dHVyZVJlYWQ6ITAsbmVlZHNJbnZlcnRpbmdCaXRtYXA6ITAsdXNlVUJPQmluZGluZ0NhY2hlOiEwLG5lZWRTaGFkZXJDb2RlSW5saW5pbmc6ITEsbmVlZFRvQWx3YXlzQmluZFVuaWZvcm1CdWZmZXJzOiExLHN1cHBvcnRSZW5kZXJQYXNzZXM6ITEsX2NvbGxlY3RVYm9zVXBkYXRlZEluRnJhbWU6ITF9fSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsIndlYkdMVmVyc2lvbiIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl93ZWJHTFZlcnNpb259LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksaS5wcm90b3R5cGUuZ2V0Q2xhc3NOYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIlRoaW5FbmdpbmUifSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImlzU3RlbmNpbEVuYWJsZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pc1N0ZW5jaWxFbmFibGV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksaS5wcm90b3R5cGUuX3ByZXBhcmVXb3JraW5nQ2FudmFzPWZ1bmN0aW9uKCl7aWYoIXRoaXMuX3dvcmtpbmdDYW52YXMpe3RoaXMuX3dvcmtpbmdDYW52YXM9dGhpcy5jcmVhdGVDYW52YXMoMSwxKTt2YXIgZT10aGlzLl93b3JraW5nQ2FudmFzLmdldENvbnRleHQoIjJkIik7ZSYmKHRoaXMuX3dvcmtpbmdDb250ZXh0PWUpfX0saS5wcm90b3R5cGUucmVzZXRUZXh0dXJlQ2FjaGU9ZnVuY3Rpb24oKXtmb3IodmFyIGUgaW4gdGhpcy5fYm91bmRUZXh0dXJlc0NhY2hlKSFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGhpcy5fYm91bmRUZXh0dXJlc0NhY2hlLGUpfHwodGhpcy5fYm91bmRUZXh0dXJlc0NhY2hlW2VdPW51bGwpO3RoaXMuX2N1cnJlbnRUZXh0dXJlQ2hhbm5lbD0tMX0saS5wcm90b3R5cGUuZ2V0SW5mbz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldEdsSW5mbygpfSxpLnByb3RvdHlwZS5nZXRHbEluZm89ZnVuY3Rpb24oKXtyZXR1cm57dmVuZG9yOnRoaXMuX2dsVmVuZG9yLHJlbmRlcmVyOnRoaXMuX2dsUmVuZGVyZXIsdmVyc2lvbjp0aGlzLl9nbFZlcnNpb259fSxpLnByb3RvdHlwZS5zZXRIYXJkd2FyZVNjYWxpbmdMZXZlbD1mdW5jdGlvbihlKXt0aGlzLl9oYXJkd2FyZVNjYWxpbmdMZXZlbD1lLHRoaXMucmVzaXplKCl9LGkucHJvdG90eXBlLmdldEhhcmR3YXJlU2NhbGluZ0xldmVsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2hhcmR3YXJlU2NhbGluZ0xldmVsfSxpLnByb3RvdHlwZS5nZXRMb2FkZWRUZXh0dXJlc0NhY2hlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsVGV4dHVyZXNDYWNoZX0saS5wcm90b3R5cGUuZ2V0Q2Fwcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9jYXBzfSxpLnByb3RvdHlwZS5zdG9wUmVuZGVyTG9vcD1mdW5jdGlvbihlKXtpZighZSl7dGhpcy5fYWN0aXZlUmVuZGVyTG9vcHM9W107cmV0dXJufXZhciB0PXRoaXMuX2FjdGl2ZVJlbmRlckxvb3BzLmluZGV4T2YoZSk7dD49MCYmdGhpcy5fYWN0aXZlUmVuZGVyTG9vcHMuc3BsaWNlKHQsMSl9LGkucHJvdG90eXBlLl9yZW5kZXJMb29wPWZ1bmN0aW9uKCl7aWYoIXRoaXMuX2NvbnRleHRXYXNMb3N0KXt2YXIgZT0hMDtpZighdGhpcy5yZW5kZXJFdmVuSW5CYWNrZ3JvdW5kJiZ0aGlzLl93aW5kb3dJc0JhY2tncm91bmQmJihlPSExKSxlKXt0aGlzLmJlZ2luRnJhbWUoKTtmb3IodmFyIHQ9MDt0PHRoaXMuX2FjdGl2ZVJlbmRlckxvb3BzLmxlbmd0aDt0Kyspe3ZhciByPXRoaXMuX2FjdGl2ZVJlbmRlckxvb3BzW3RdO3IoKX10aGlzLmVuZEZyYW1lKCl9fXRoaXMuX2FjdGl2ZVJlbmRlckxvb3BzLmxlbmd0aD4wP3RoaXMuX2ZyYW1lSGFuZGxlcj10aGlzLl9xdWV1ZU5ld0ZyYW1lKHRoaXMuX2JvdW5kUmVuZGVyRnVuY3Rpb24sdGhpcy5nZXRIb3N0V2luZG93KCkpOnRoaXMuX3JlbmRlcmluZ1F1ZXVlTGF1bmNoZWQ9ITF9LGkucHJvdG90eXBlLmdldFJlbmRlcmluZ0NhbnZhcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9yZW5kZXJpbmdDYW52YXN9LGkucHJvdG90eXBlLmdldEF1ZGlvQ29udGV4dD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9hdWRpb0NvbnRleHR9LGkucHJvdG90eXBlLmdldEF1ZGlvRGVzdGluYXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYXVkaW9EZXN0aW5hdGlvbn0saS5wcm90b3R5cGUuZ2V0SG9zdFdpbmRvdz1mdW5jdGlvbigpe3JldHVybiB5ZSgpP3RoaXMuX3JlbmRlcmluZ0NhbnZhcyYmdGhpcy5fcmVuZGVyaW5nQ2FudmFzLm93bmVyRG9jdW1lbnQmJnRoaXMuX3JlbmRlcmluZ0NhbnZhcy5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3P3RoaXMuX3JlbmRlcmluZ0NhbnZhcy5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3OndpbmRvdzpudWxsfSxpLnByb3RvdHlwZS5nZXRSZW5kZXJXaWR0aD1mdW5jdGlvbihlKXtyZXR1cm4gZT09PXZvaWQgMCYmKGU9ITEpLCFlJiZ0aGlzLl9jdXJyZW50UmVuZGVyVGFyZ2V0P3RoaXMuX2N1cnJlbnRSZW5kZXJUYXJnZXQud2lkdGg6dGhpcy5fZnJhbWVidWZmZXJEaW1lbnNpb25zT2JqZWN0P3RoaXMuX2ZyYW1lYnVmZmVyRGltZW5zaW9uc09iamVjdC5mcmFtZWJ1ZmZlcldpZHRoOnRoaXMuX2dsLmRyYXdpbmdCdWZmZXJXaWR0aH0saS5wcm90b3R5cGUuZ2V0UmVuZGVySGVpZ2h0PWZ1bmN0aW9uKGUpe3JldHVybiBlPT09dm9pZCAwJiYoZT0hMSksIWUmJnRoaXMuX2N1cnJlbnRSZW5kZXJUYXJnZXQ/dGhpcy5fY3VycmVudFJlbmRlclRhcmdldC5oZWlnaHQ6dGhpcy5fZnJhbWVidWZmZXJEaW1lbnNpb25zT2JqZWN0P3RoaXMuX2ZyYW1lYnVmZmVyRGltZW5zaW9uc09iamVjdC5mcmFtZWJ1ZmZlckhlaWdodDp0aGlzLl9nbC5kcmF3aW5nQnVmZmVySGVpZ2h0fSxpLnByb3RvdHlwZS5fcXVldWVOZXdGcmFtZT1mdW5jdGlvbihlLHQpe3JldHVybiBpLlF1ZXVlTmV3RnJhbWUoZSx0KX0saS5wcm90b3R5cGUucnVuUmVuZGVyTG9vcD1mdW5jdGlvbihlKXt0aGlzLl9hY3RpdmVSZW5kZXJMb29wcy5pbmRleE9mKGUpPT09LTEmJih0aGlzLl9hY3RpdmVSZW5kZXJMb29wcy5wdXNoKGUpLHRoaXMuX3JlbmRlcmluZ1F1ZXVlTGF1bmNoZWR8fCh0aGlzLl9yZW5kZXJpbmdRdWV1ZUxhdW5jaGVkPSEwLHRoaXMuX2JvdW5kUmVuZGVyRnVuY3Rpb249dGhpcy5fcmVuZGVyTG9vcC5iaW5kKHRoaXMpLHRoaXMuX2ZyYW1lSGFuZGxlcj10aGlzLl9xdWV1ZU5ld0ZyYW1lKHRoaXMuX2JvdW5kUmVuZGVyRnVuY3Rpb24sdGhpcy5nZXRIb3N0V2luZG93KCkpKSl9LGkucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKGUsdCxyLG4pe249PT12b2lkIDAmJihuPSExKTt2YXIgYT10aGlzLnN0ZW5jaWxTdGF0ZUNvbXBvc2VyLnVzZVN0ZW5jaWxHbG9iYWxPbmx5O3RoaXMuc3RlbmNpbFN0YXRlQ29tcG9zZXIudXNlU3RlbmNpbEdsb2JhbE9ubHk9ITAsdGhpcy5hcHBseVN0YXRlcygpLHRoaXMuc3RlbmNpbFN0YXRlQ29tcG9zZXIudXNlU3RlbmNpbEdsb2JhbE9ubHk9YTt2YXIgcz0wO3QmJmUmJih0aGlzLl9nbC5jbGVhckNvbG9yKGUucixlLmcsZS5iLGUuYSE9PXZvaWQgMD9lLmE6MSksc3w9dGhpcy5fZ2wuQ09MT1JfQlVGRkVSX0JJVCksciYmKHRoaXMudXNlUmV2ZXJzZURlcHRoQnVmZmVyPyh0aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS5kZXB0aEZ1bmM9dGhpcy5fZ2wuR0VRVUFMLHRoaXMuX2dsLmNsZWFyRGVwdGgoMCkpOnRoaXMuX2dsLmNsZWFyRGVwdGgoMSksc3w9dGhpcy5fZ2wuREVQVEhfQlVGRkVSX0JJVCksbiYmKHRoaXMuX2dsLmNsZWFyU3RlbmNpbCgwKSxzfD10aGlzLl9nbC5TVEVOQ0lMX0JVRkZFUl9CSVQpLHRoaXMuX2dsLmNsZWFyKHMpfSxpLnByb3RvdHlwZS5fdmlld3BvcnQ9ZnVuY3Rpb24oZSx0LHIsbil7KGUhPT10aGlzLl92aWV3cG9ydENhY2hlZC54fHx0IT09dGhpcy5fdmlld3BvcnRDYWNoZWQueXx8ciE9PXRoaXMuX3ZpZXdwb3J0Q2FjaGVkLnp8fG4hPT10aGlzLl92aWV3cG9ydENhY2hlZC53KSYmKHRoaXMuX3ZpZXdwb3J0Q2FjaGVkLng9ZSx0aGlzLl92aWV3cG9ydENhY2hlZC55PXQsdGhpcy5fdmlld3BvcnRDYWNoZWQuej1yLHRoaXMuX3ZpZXdwb3J0Q2FjaGVkLnc9bix0aGlzLl9nbC52aWV3cG9ydChlLHQscixuKSl9LGkucHJvdG90eXBlLnNldFZpZXdwb3J0PWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj10fHx0aGlzLmdldFJlbmRlcldpZHRoKCksYT1yfHx0aGlzLmdldFJlbmRlckhlaWdodCgpLHM9ZS54fHwwLG89ZS55fHwwO3RoaXMuX2NhY2hlZFZpZXdwb3J0PWUsdGhpcy5fdmlld3BvcnQocypuLG8qYSxuKmUud2lkdGgsYSplLmhlaWdodCl9LGkucHJvdG90eXBlLmJlZ2luRnJhbWU9ZnVuY3Rpb24oKXt9LGkucHJvdG90eXBlLmVuZEZyYW1lPWZ1bmN0aW9uKCl7dGhpcy5fYmFkT1MmJnRoaXMuZmx1c2hGcmFtZWJ1ZmZlcigpLHRoaXMuX2ZyYW1lSWQrK30saS5wcm90b3R5cGUucmVzaXplPWZ1bmN0aW9uKGUpe2U9PT12b2lkIDAmJihlPSExKTt2YXIgdCxyO2lmKHRoaXMuX2FkYXB0VG9EZXZpY2VSYXRpbyl7dmFyIG49eWUoKSYmd2luZG93LmRldmljZVBpeGVsUmF0aW98fDEsYT10aGlzLl9jcmVhdGlvbk9wdGlvbnMubGltaXREZXZpY2VSYXRpb3x8bjt0aGlzLl9oYXJkd2FyZVNjYWxpbmdMZXZlbD10aGlzLl9hZGFwdFRvRGV2aWNlUmF0aW8/MS9NYXRoLm1pbihhLG4pOjF9eWUoKT8odD10aGlzLl9yZW5kZXJpbmdDYW52YXM/dGhpcy5fcmVuZGVyaW5nQ2FudmFzLmNsaWVudFdpZHRofHx0aGlzLl9yZW5kZXJpbmdDYW52YXMud2lkdGg6d2luZG93LmlubmVyV2lkdGgscj10aGlzLl9yZW5kZXJpbmdDYW52YXM/dGhpcy5fcmVuZGVyaW5nQ2FudmFzLmNsaWVudEhlaWdodHx8dGhpcy5fcmVuZGVyaW5nQ2FudmFzLmhlaWdodDp3aW5kb3cuaW5uZXJIZWlnaHQpOih0PXRoaXMuX3JlbmRlcmluZ0NhbnZhcz90aGlzLl9yZW5kZXJpbmdDYW52YXMud2lkdGg6MTAwLHI9dGhpcy5fcmVuZGVyaW5nQ2FudmFzP3RoaXMuX3JlbmRlcmluZ0NhbnZhcy5oZWlnaHQ6MTAwKSx0aGlzLnNldFNpemUodC90aGlzLl9oYXJkd2FyZVNjYWxpbmdMZXZlbCxyL3RoaXMuX2hhcmR3YXJlU2NhbGluZ0xldmVsLGUpfSxpLnByb3RvdHlwZS5zZXRTaXplPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gcj09PXZvaWQgMCYmKHI9ITEpLCF0aGlzLl9yZW5kZXJpbmdDYW52YXN8fChlPWV8MCx0PXR8MCwhciYmdGhpcy5fcmVuZGVyaW5nQ2FudmFzLndpZHRoPT09ZSYmdGhpcy5fcmVuZGVyaW5nQ2FudmFzLmhlaWdodD09PXQpPyExOih0aGlzLl9yZW5kZXJpbmdDYW52YXMud2lkdGg9ZSx0aGlzLl9yZW5kZXJpbmdDYW52YXMuaGVpZ2h0PXQsITApfSxpLnByb3RvdHlwZS5iaW5kRnJhbWVidWZmZXI9ZnVuY3Rpb24oZSx0LHIsbixhLHMsbyl7dmFyIHUsZixsLGgsYzt0PT09dm9pZCAwJiYodD0wKSxzPT09dm9pZCAwJiYocz0wKSxvPT09dm9pZCAwJiYobz0wKTt2YXIgZD1lO3RoaXMuX2N1cnJlbnRSZW5kZXJUYXJnZXQmJnRoaXMudW5CaW5kRnJhbWVidWZmZXIodGhpcy5fY3VycmVudFJlbmRlclRhcmdldCksdGhpcy5fY3VycmVudFJlbmRlclRhcmdldD1lLHRoaXMuX2JpbmRVbmJvdW5kRnJhbWVidWZmZXIoZC5fTVNBQUZyYW1lYnVmZmVyP2QuX01TQUFGcmFtZWJ1ZmZlcjpkLl9mcmFtZWJ1ZmZlcik7dmFyIHA9dGhpcy5fZ2w7ZS5pczJEQXJyYXk/cC5mcmFtZWJ1ZmZlclRleHR1cmVMYXllcihwLkZSQU1FQlVGRkVSLHAuQ09MT1JfQVRUQUNITUVOVDAsKHU9ZS50ZXh0dXJlLl9oYXJkd2FyZVRleHR1cmUpPT09bnVsbHx8dT09PXZvaWQgMD92b2lkIDA6dS51bmRlcmx5aW5nUmVzb3VyY2UscyxvKTplLmlzQ3ViZSYmcC5mcmFtZWJ1ZmZlclRleHR1cmUyRChwLkZSQU1FQlVGRkVSLHAuQ09MT1JfQVRUQUNITUVOVDAscC5URVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1grdCwoZj1lLnRleHR1cmUuX2hhcmR3YXJlVGV4dHVyZSk9PT1udWxsfHxmPT09dm9pZCAwP3ZvaWQgMDpmLnVuZGVybHlpbmdSZXNvdXJjZSxzKTt2YXIgZz1lLl9kZXB0aFN0ZW5jaWxUZXh0dXJlO2lmKGcpe3ZhciBfPWUuX2RlcHRoU3RlbmNpbFRleHR1cmVXaXRoU3RlbmNpbD9wLkRFUFRIX1NURU5DSUxfQVRUQUNITUVOVDpwLkRFUFRIX0FUVEFDSE1FTlQ7ZS5pczJEQXJyYXk/cC5mcmFtZWJ1ZmZlclRleHR1cmVMYXllcihwLkZSQU1FQlVGRkVSLF8sKGw9Zy5faGFyZHdhcmVUZXh0dXJlKT09PW51bGx8fGw9PT12b2lkIDA/dm9pZCAwOmwudW5kZXJseWluZ1Jlc291cmNlLHMsbyk6ZS5pc0N1YmU/cC5mcmFtZWJ1ZmZlclRleHR1cmUyRChwLkZSQU1FQlVGRkVSLF8scC5URVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1grdCwoaD1nLl9oYXJkd2FyZVRleHR1cmUpPT09bnVsbHx8aD09PXZvaWQgMD92b2lkIDA6aC51bmRlcmx5aW5nUmVzb3VyY2Uscyk6cC5mcmFtZWJ1ZmZlclRleHR1cmUyRChwLkZSQU1FQlVGRkVSLF8scC5URVhUVVJFXzJELChjPWcuX2hhcmR3YXJlVGV4dHVyZSk9PT1udWxsfHxjPT09dm9pZCAwP3ZvaWQgMDpjLnVuZGVybHlpbmdSZXNvdXJjZSxzKX10aGlzLl9jYWNoZWRWaWV3cG9ydCYmIWE/dGhpcy5zZXRWaWV3cG9ydCh0aGlzLl9jYWNoZWRWaWV3cG9ydCxyLG4pOihyfHwocj1lLndpZHRoLHMmJihyPXIvTWF0aC5wb3coMixzKSkpLG58fChuPWUuaGVpZ2h0LHMmJihuPW4vTWF0aC5wb3coMixzKSkpLHRoaXMuX3ZpZXdwb3J0KDAsMCxyLG4pKSx0aGlzLndpcGVDYWNoZXMoKX0saS5wcm90b3R5cGUuc2V0U3RhdGU9ZnVuY3Rpb24oZSx0LHIsbixhLHMsbyl7dmFyIHUsZjt0PT09dm9pZCAwJiYodD0wKSxuPT09dm9pZCAwJiYobj0hMSksbz09PXZvaWQgMCYmKG89MCksKHRoaXMuX2RlcHRoQ3VsbGluZ1N0YXRlLmN1bGwhPT1lfHxyKSYmKHRoaXMuX2RlcHRoQ3VsbGluZ1N0YXRlLmN1bGw9ZSk7dmFyIGw9ISgoZj0odT10aGlzLmN1bGxCYWNrRmFjZXMpIT09bnVsbCYmdSE9PXZvaWQgMD91OmEpIT09bnVsbCYmZiE9PXZvaWQgMCl8fGY/dGhpcy5fZ2wuQkFDSzp0aGlzLl9nbC5GUk9OVDsodGhpcy5fZGVwdGhDdWxsaW5nU3RhdGUuY3VsbEZhY2UhPT1sfHxyKSYmKHRoaXMuX2RlcHRoQ3VsbGluZ1N0YXRlLmN1bGxGYWNlPWwpLHRoaXMuc2V0Wk9mZnNldCh0KSx0aGlzLnNldFpPZmZzZXRVbml0cyhvKTt2YXIgaD1uP3RoaXMuX2dsLkNXOnRoaXMuX2dsLkNDVzsodGhpcy5fZGVwdGhDdWxsaW5nU3RhdGUuZnJvbnRGYWNlIT09aHx8cikmJih0aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS5mcm9udEZhY2U9aCksdGhpcy5fc3RlbmNpbFN0YXRlQ29tcG9zZXIuc3RlbmNpbE1hdGVyaWFsPXN9LGkucHJvdG90eXBlLnNldFpPZmZzZXQ9ZnVuY3Rpb24oZSl7dGhpcy5fZGVwdGhDdWxsaW5nU3RhdGUuek9mZnNldD10aGlzLnVzZVJldmVyc2VEZXB0aEJ1ZmZlcj8tZTplfSxpLnByb3RvdHlwZS5nZXRaT2Zmc2V0PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fZGVwdGhDdWxsaW5nU3RhdGUuek9mZnNldDtyZXR1cm4gdGhpcy51c2VSZXZlcnNlRGVwdGhCdWZmZXI/LWU6ZX0saS5wcm90b3R5cGUuc2V0Wk9mZnNldFVuaXRzPWZ1bmN0aW9uKGUpe3RoaXMuX2RlcHRoQ3VsbGluZ1N0YXRlLnpPZmZzZXRVbml0cz10aGlzLnVzZVJldmVyc2VEZXB0aEJ1ZmZlcj8tZTplfSxpLnByb3RvdHlwZS5nZXRaT2Zmc2V0VW5pdHM9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS56T2Zmc2V0VW5pdHM7cmV0dXJuIHRoaXMudXNlUmV2ZXJzZURlcHRoQnVmZmVyPy1lOmV9LGkucHJvdG90eXBlLl9iaW5kVW5ib3VuZEZyYW1lYnVmZmVyPWZ1bmN0aW9uKGUpe3RoaXMuX2N1cnJlbnRGcmFtZWJ1ZmZlciE9PWUmJih0aGlzLl9nbC5iaW5kRnJhbWVidWZmZXIodGhpcy5fZ2wuRlJBTUVCVUZGRVIsZSksdGhpcy5fY3VycmVudEZyYW1lYnVmZmVyPWUpfSxpLnByb3RvdHlwZS5fY3VycmVudEZyYW1lQnVmZmVySXNEZWZhdWx0RnJhbWVCdWZmZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY3VycmVudEZyYW1lYnVmZmVyPT09bnVsbH0saS5wcm90b3R5cGUuZ2VuZXJhdGVNaXBtYXBzPWZ1bmN0aW9uKGUpe3RoaXMuX2JpbmRUZXh0dXJlRGlyZWN0bHkodGhpcy5fZ2wuVEVYVFVSRV8yRCxlLCEwKSx0aGlzLl9nbC5nZW5lcmF0ZU1pcG1hcCh0aGlzLl9nbC5URVhUVVJFXzJEKSx0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KHRoaXMuX2dsLlRFWFRVUkVfMkQsbnVsbCl9LGkucHJvdG90eXBlLnVuQmluZEZyYW1lYnVmZmVyPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbjt0PT09dm9pZCAwJiYodD0hMSk7dmFyIGE9ZTt0aGlzLl9jdXJyZW50UmVuZGVyVGFyZ2V0PW51bGw7dmFyIHM9dGhpcy5fZ2w7aWYoYS5fTVNBQUZyYW1lYnVmZmVyKXtpZihlLmlzTXVsdGkpe3RoaXMudW5CaW5kTXVsdGlDb2xvckF0dGFjaG1lbnRGcmFtZWJ1ZmZlcihlLHQscik7cmV0dXJufXMuYmluZEZyYW1lYnVmZmVyKHMuUkVBRF9GUkFNRUJVRkZFUixhLl9NU0FBRnJhbWVidWZmZXIpLHMuYmluZEZyYW1lYnVmZmVyKHMuRFJBV19GUkFNRUJVRkZFUixhLl9mcmFtZWJ1ZmZlcikscy5ibGl0RnJhbWVidWZmZXIoMCwwLGUud2lkdGgsZS5oZWlnaHQsMCwwLGUud2lkdGgsZS5oZWlnaHQscy5DT0xPUl9CVUZGRVJfQklULHMuTkVBUkVTVCl9KChuPWUudGV4dHVyZSk9PT1udWxsfHxuPT09dm9pZCAwP3ZvaWQgMDpuLmdlbmVyYXRlTWlwTWFwcykmJiF0JiYhZS5pc0N1YmUmJnRoaXMuZ2VuZXJhdGVNaXBtYXBzKGUudGV4dHVyZSksciYmKGEuX01TQUFGcmFtZWJ1ZmZlciYmdGhpcy5fYmluZFVuYm91bmRGcmFtZWJ1ZmZlcihhLl9mcmFtZWJ1ZmZlcikscigpKSx0aGlzLl9iaW5kVW5ib3VuZEZyYW1lYnVmZmVyKG51bGwpfSxpLnByb3RvdHlwZS5mbHVzaEZyYW1lYnVmZmVyPWZ1bmN0aW9uKCl7dGhpcy5fZ2wuZmx1c2goKX0saS5wcm90b3R5cGUucmVzdG9yZURlZmF1bHRGcmFtZWJ1ZmZlcj1mdW5jdGlvbigpe3RoaXMuX2N1cnJlbnRSZW5kZXJUYXJnZXQ/dGhpcy51bkJpbmRGcmFtZWJ1ZmZlcih0aGlzLl9jdXJyZW50UmVuZGVyVGFyZ2V0KTp0aGlzLl9iaW5kVW5ib3VuZEZyYW1lYnVmZmVyKG51bGwpLHRoaXMuX2NhY2hlZFZpZXdwb3J0JiZ0aGlzLnNldFZpZXdwb3J0KHRoaXMuX2NhY2hlZFZpZXdwb3J0KSx0aGlzLndpcGVDYWNoZXMoKX0saS5wcm90b3R5cGUuX3Jlc2V0VmVydGV4QnVmZmVyQmluZGluZz1mdW5jdGlvbigpe3RoaXMuYmluZEFycmF5QnVmZmVyKG51bGwpLHRoaXMuX2NhY2hlZFZlcnRleEJ1ZmZlcnM9bnVsbH0saS5wcm90b3R5cGUuY3JlYXRlVmVydGV4QnVmZmVyPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9jcmVhdGVWZXJ0ZXhCdWZmZXIoZSx0aGlzLl9nbC5TVEFUSUNfRFJBVyl9LGkucHJvdG90eXBlLl9jcmVhdGVWZXJ0ZXhCdWZmZXI9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLl9nbC5jcmVhdGVCdWZmZXIoKTtpZighcil0aHJvdyBuZXcgRXJyb3IoIlVuYWJsZSB0byBjcmVhdGUgdmVydGV4IGJ1ZmZlciIpO3ZhciBuPW5ldyBxdChyKTtyZXR1cm4gdGhpcy5iaW5kQXJyYXlCdWZmZXIobiksZSBpbnN0YW5jZW9mIEFycmF5P3RoaXMuX2dsLmJ1ZmZlckRhdGEodGhpcy5fZ2wuQVJSQVlfQlVGRkVSLG5ldyBGbG9hdDMyQXJyYXkoZSksdCk6dGhpcy5fZ2wuYnVmZmVyRGF0YSh0aGlzLl9nbC5BUlJBWV9CVUZGRVIsZSx0KSx0aGlzLl9yZXNldFZlcnRleEJ1ZmZlckJpbmRpbmcoKSxuLnJlZmVyZW5jZXM9MSxufSxpLnByb3RvdHlwZS5jcmVhdGVEeW5hbWljVmVydGV4QnVmZmVyPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9jcmVhdGVWZXJ0ZXhCdWZmZXIoZSx0aGlzLl9nbC5EWU5BTUlDX0RSQVcpfSxpLnByb3RvdHlwZS5fcmVzZXRJbmRleEJ1ZmZlckJpbmRpbmc9ZnVuY3Rpb24oKXt0aGlzLmJpbmRJbmRleEJ1ZmZlcihudWxsKSx0aGlzLl9jYWNoZWRJbmRleEJ1ZmZlcj1udWxsfSxpLnByb3RvdHlwZS5jcmVhdGVJbmRleEJ1ZmZlcj1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXMuX2dsLmNyZWF0ZUJ1ZmZlcigpLG49bmV3IHF0KHIpO2lmKCFyKXRocm93IG5ldyBFcnJvcigiVW5hYmxlIHRvIGNyZWF0ZSBpbmRleCBidWZmZXIiKTt0aGlzLmJpbmRJbmRleEJ1ZmZlcihuKTt2YXIgYT10aGlzLl9ub3JtYWxpemVJbmRleERhdGEoZSk7cmV0dXJuIHRoaXMuX2dsLmJ1ZmZlckRhdGEodGhpcy5fZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsYSx0P3RoaXMuX2dsLkRZTkFNSUNfRFJBVzp0aGlzLl9nbC5TVEFUSUNfRFJBVyksdGhpcy5fcmVzZXRJbmRleEJ1ZmZlckJpbmRpbmcoKSxuLnJlZmVyZW5jZXM9MSxuLmlzMzJCaXRzPWEuQllURVNfUEVSX0VMRU1FTlQ9PT00LG59LGkucHJvdG90eXBlLl9ub3JtYWxpemVJbmRleERhdGE9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5CWVRFU19QRVJfRUxFTUVOVDtpZih0PT09MilyZXR1cm4gZTtpZih0aGlzLl9jYXBzLnVpbnRJbmRpY2VzKXtpZihlIGluc3RhbmNlb2YgVWludDMyQXJyYXkpcmV0dXJuIGU7Zm9yKHZhciByPTA7cjxlLmxlbmd0aDtyKyspaWYoZVtyXT49NjU1MzUpcmV0dXJuIG5ldyBVaW50MzJBcnJheShlKTtyZXR1cm4gbmV3IFVpbnQxNkFycmF5KGUpfXJldHVybiBuZXcgVWludDE2QXJyYXkoZSl9LGkucHJvdG90eXBlLmJpbmRBcnJheUJ1ZmZlcj1mdW5jdGlvbihlKXt0aGlzLl92YW9SZWNvcmRJblByb2dyZXNzfHx0aGlzLl91bmJpbmRWZXJ0ZXhBcnJheU9iamVjdCgpLHRoaXMuX2JpbmRCdWZmZXIoZSx0aGlzLl9nbC5BUlJBWV9CVUZGRVIpfSxpLnByb3RvdHlwZS5iaW5kVW5pZm9ybUJsb2NrPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1lLnByb2dyYW0sYT10aGlzLl9nbC5nZXRVbmlmb3JtQmxvY2tJbmRleChuLHQpO3RoaXMuX2dsLnVuaWZvcm1CbG9ja0JpbmRpbmcobixhLHIpfSxpLnByb3RvdHlwZS5iaW5kSW5kZXhCdWZmZXI9ZnVuY3Rpb24oZSl7dGhpcy5fdmFvUmVjb3JkSW5Qcm9ncmVzc3x8dGhpcy5fdW5iaW5kVmVydGV4QXJyYXlPYmplY3QoKSx0aGlzLl9iaW5kQnVmZmVyKGUsdGhpcy5fZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIpfSxpLnByb3RvdHlwZS5fYmluZEJ1ZmZlcj1mdW5jdGlvbihlLHQpeyh0aGlzLl92YW9SZWNvcmRJblByb2dyZXNzfHx0aGlzLl9jdXJyZW50Qm91bmRCdWZmZXJbdF0hPT1lKSYmKHRoaXMuX2dsLmJpbmRCdWZmZXIodCxlP2UudW5kZXJseWluZ1Jlc291cmNlOm51bGwpLHRoaXMuX2N1cnJlbnRCb3VuZEJ1ZmZlclt0XT1lKX0saS5wcm90b3R5cGUudXBkYXRlQXJyYXlCdWZmZXI9ZnVuY3Rpb24oZSl7dGhpcy5fZ2wuYnVmZmVyU3ViRGF0YSh0aGlzLl9nbC5BUlJBWV9CVUZGRVIsMCxlKX0saS5wcm90b3R5cGUuX3ZlcnRleEF0dHJpYlBvaW50ZXI9ZnVuY3Rpb24oZSx0LHIsbixhLHMsbyl7dmFyIHU9dGhpcy5fY3VycmVudEJ1ZmZlclBvaW50ZXJzW3RdO2lmKCEhdSl7dmFyIGY9ITE7dS5hY3RpdmU/KHUuYnVmZmVyIT09ZSYmKHUuYnVmZmVyPWUsZj0hMCksdS5zaXplIT09ciYmKHUuc2l6ZT1yLGY9ITApLHUudHlwZSE9PW4mJih1LnR5cGU9bixmPSEwKSx1Lm5vcm1hbGl6ZWQhPT1hJiYodS5ub3JtYWxpemVkPWEsZj0hMCksdS5zdHJpZGUhPT1zJiYodS5zdHJpZGU9cyxmPSEwKSx1Lm9mZnNldCE9PW8mJih1Lm9mZnNldD1vLGY9ITApKTooZj0hMCx1LmFjdGl2ZT0hMCx1LmluZGV4PXQsdS5zaXplPXIsdS50eXBlPW4sdS5ub3JtYWxpemVkPWEsdS5zdHJpZGU9cyx1Lm9mZnNldD1vLHUuYnVmZmVyPWUpLChmfHx0aGlzLl92YW9SZWNvcmRJblByb2dyZXNzKSYmKHRoaXMuYmluZEFycmF5QnVmZmVyKGUpLHRoaXMuX2dsLnZlcnRleEF0dHJpYlBvaW50ZXIodCxyLG4sYSxzLG8pKX19LGkucHJvdG90eXBlLl9iaW5kSW5kZXhCdWZmZXJXaXRoQ2FjaGU9ZnVuY3Rpb24oZSl7ZSE9bnVsbCYmdGhpcy5fY2FjaGVkSW5kZXhCdWZmZXIhPT1lJiYodGhpcy5fY2FjaGVkSW5kZXhCdWZmZXI9ZSx0aGlzLmJpbmRJbmRleEJ1ZmZlcihlKSx0aGlzLl91aW50SW5kaWNlc0N1cnJlbnRseVNldD1lLmlzMzJCaXRzKX0saS5wcm90b3R5cGUuX2JpbmRWZXJ0ZXhCdWZmZXJzQXR0cmlidXRlcz1mdW5jdGlvbihlLHQscil7dmFyIG49dC5nZXRBdHRyaWJ1dGVzTmFtZXMoKTt0aGlzLl92YW9SZWNvcmRJblByb2dyZXNzfHx0aGlzLl91bmJpbmRWZXJ0ZXhBcnJheU9iamVjdCgpLHRoaXMudW5iaW5kQWxsQXR0cmlidXRlcygpO2Zvcih2YXIgYT0wO2E8bi5sZW5ndGg7YSsrKXt2YXIgcz10LmdldEF0dHJpYnV0ZUxvY2F0aW9uKGEpO2lmKHM+PTApe3ZhciBvPW5bYV0sdT1udWxsO2lmKHImJih1PXJbb10pLHV8fCh1PWVbb10pLCF1KWNvbnRpbnVlO3RoaXMuX2dsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KHMpLHRoaXMuX3Zhb1JlY29yZEluUHJvZ3Jlc3N8fCh0aGlzLl92ZXJ0ZXhBdHRyaWJBcnJheXNFbmFibGVkW3NdPSEwKTt2YXIgZj11LmdldEJ1ZmZlcigpO2YmJih0aGlzLl92ZXJ0ZXhBdHRyaWJQb2ludGVyKGYscyx1LmdldFNpemUoKSx1LnR5cGUsdS5ub3JtYWxpemVkLHUuYnl0ZVN0cmlkZSx1LmJ5dGVPZmZzZXQpLHUuZ2V0SXNJbnN0YW5jZWQoKSYmKHRoaXMuX2dsLnZlcnRleEF0dHJpYkRpdmlzb3Iocyx1LmdldEluc3RhbmNlRGl2aXNvcigpKSx0aGlzLl92YW9SZWNvcmRJblByb2dyZXNzfHwodGhpcy5fY3VycmVudEluc3RhbmNlTG9jYXRpb25zLnB1c2gocyksdGhpcy5fY3VycmVudEluc3RhbmNlQnVmZmVycy5wdXNoKGYpKSkpfX19LGkucHJvdG90eXBlLnJlY29yZFZlcnRleEFycmF5T2JqZWN0PWZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBhPXRoaXMuX2dsLmNyZWF0ZVZlcnRleEFycmF5KCk7cmV0dXJuIHRoaXMuX3Zhb1JlY29yZEluUHJvZ3Jlc3M9ITAsdGhpcy5fZ2wuYmluZFZlcnRleEFycmF5KGEpLHRoaXMuX211c3RXaXBlVmVydGV4QXR0cmlidXRlcz0hMCx0aGlzLl9iaW5kVmVydGV4QnVmZmVyc0F0dHJpYnV0ZXMoZSxyLG4pLHRoaXMuYmluZEluZGV4QnVmZmVyKHQpLHRoaXMuX3Zhb1JlY29yZEluUHJvZ3Jlc3M9ITEsdGhpcy5fZ2wuYmluZFZlcnRleEFycmF5KG51bGwpLGF9LGkucHJvdG90eXBlLmJpbmRWZXJ0ZXhBcnJheU9iamVjdD1mdW5jdGlvbihlLHQpe3RoaXMuX2NhY2hlZFZlcnRleEFycmF5T2JqZWN0IT09ZSYmKHRoaXMuX2NhY2hlZFZlcnRleEFycmF5T2JqZWN0PWUsdGhpcy5fZ2wuYmluZFZlcnRleEFycmF5KGUpLHRoaXMuX2NhY2hlZFZlcnRleEJ1ZmZlcnM9bnVsbCx0aGlzLl9jYWNoZWRJbmRleEJ1ZmZlcj1udWxsLHRoaXMuX3VpbnRJbmRpY2VzQ3VycmVudGx5U2V0PXQhPW51bGwmJnQuaXMzMkJpdHMsdGhpcy5fbXVzdFdpcGVWZXJ0ZXhBdHRyaWJ1dGVzPSEwKX0saS5wcm90b3R5cGUuYmluZEJ1ZmZlcnNEaXJlY3RseT1mdW5jdGlvbihlLHQscixuLGEpe2lmKHRoaXMuX2NhY2hlZFZlcnRleEJ1ZmZlcnMhPT1lfHx0aGlzLl9jYWNoZWRFZmZlY3RGb3JWZXJ0ZXhCdWZmZXJzIT09YSl7dGhpcy5fY2FjaGVkVmVydGV4QnVmZmVycz1lLHRoaXMuX2NhY2hlZEVmZmVjdEZvclZlcnRleEJ1ZmZlcnM9YTt2YXIgcz1hLmdldEF0dHJpYnV0ZXNDb3VudCgpO3RoaXMuX3VuYmluZFZlcnRleEFycmF5T2JqZWN0KCksdGhpcy51bmJpbmRBbGxBdHRyaWJ1dGVzKCk7Zm9yKHZhciBvPTAsdT0wO3U8czt1KyspaWYodTxyLmxlbmd0aCl7dmFyIGY9YS5nZXRBdHRyaWJ1dGVMb2NhdGlvbih1KTtmPj0wJiYodGhpcy5fZ2wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkoZiksdGhpcy5fdmVydGV4QXR0cmliQXJyYXlzRW5hYmxlZFtmXT0hMCx0aGlzLl92ZXJ0ZXhBdHRyaWJQb2ludGVyKGUsZixyW3VdLHRoaXMuX2dsLkZMT0FULCExLG4sbykpLG8rPXJbdV0qNH19dGhpcy5fYmluZEluZGV4QnVmZmVyV2l0aENhY2hlKHQpfSxpLnByb3RvdHlwZS5fdW5iaW5kVmVydGV4QXJyYXlPYmplY3Q9ZnVuY3Rpb24oKXshdGhpcy5fY2FjaGVkVmVydGV4QXJyYXlPYmplY3R8fCh0aGlzLl9jYWNoZWRWZXJ0ZXhBcnJheU9iamVjdD1udWxsLHRoaXMuX2dsLmJpbmRWZXJ0ZXhBcnJheShudWxsKSl9LGkucHJvdG90eXBlLmJpbmRCdWZmZXJzPWZ1bmN0aW9uKGUsdCxyLG4peyh0aGlzLl9jYWNoZWRWZXJ0ZXhCdWZmZXJzIT09ZXx8dGhpcy5fY2FjaGVkRWZmZWN0Rm9yVmVydGV4QnVmZmVycyE9PXIpJiYodGhpcy5fY2FjaGVkVmVydGV4QnVmZmVycz1lLHRoaXMuX2NhY2hlZEVmZmVjdEZvclZlcnRleEJ1ZmZlcnM9cix0aGlzLl9iaW5kVmVydGV4QnVmZmVyc0F0dHJpYnV0ZXMoZSxyLG4pKSx0aGlzLl9iaW5kSW5kZXhCdWZmZXJXaXRoQ2FjaGUodCl9LGkucHJvdG90eXBlLnVuYmluZEluc3RhbmNlQXR0cmlidXRlcz1mdW5jdGlvbigpe2Zvcih2YXIgZSx0PTAscj10aGlzLl9jdXJyZW50SW5zdGFuY2VMb2NhdGlvbnMubGVuZ3RoO3Q8cjt0Kyspe3ZhciBuPXRoaXMuX2N1cnJlbnRJbnN0YW5jZUJ1ZmZlcnNbdF07ZSE9biYmbi5yZWZlcmVuY2VzJiYoZT1uLHRoaXMuYmluZEFycmF5QnVmZmVyKG4pKTt2YXIgYT10aGlzLl9jdXJyZW50SW5zdGFuY2VMb2NhdGlvbnNbdF07dGhpcy5fZ2wudmVydGV4QXR0cmliRGl2aXNvcihhLDApfXRoaXMuX2N1cnJlbnRJbnN0YW5jZUJ1ZmZlcnMubGVuZ3RoPTAsdGhpcy5fY3VycmVudEluc3RhbmNlTG9jYXRpb25zLmxlbmd0aD0wfSxpLnByb3RvdHlwZS5yZWxlYXNlVmVydGV4QXJyYXlPYmplY3Q9ZnVuY3Rpb24oZSl7dGhpcy5fZ2wuZGVsZXRlVmVydGV4QXJyYXkoZSl9LGkucHJvdG90eXBlLl9yZWxlYXNlQnVmZmVyPWZ1bmN0aW9uKGUpe3JldHVybiBlLnJlZmVyZW5jZXMtLSxlLnJlZmVyZW5jZXM9PT0wPyh0aGlzLl9kZWxldGVCdWZmZXIoZSksITApOiExfSxpLnByb3RvdHlwZS5fZGVsZXRlQnVmZmVyPWZ1bmN0aW9uKGUpe3RoaXMuX2dsLmRlbGV0ZUJ1ZmZlcihlLnVuZGVybHlpbmdSZXNvdXJjZSl9LGkucHJvdG90eXBlLnVwZGF0ZUFuZEJpbmRJbnN0YW5jZXNCdWZmZXI9ZnVuY3Rpb24oZSx0LHIpe2lmKHRoaXMuYmluZEFycmF5QnVmZmVyKGUpLHQmJnRoaXMuX2dsLmJ1ZmZlclN1YkRhdGEodGhpcy5fZ2wuQVJSQVlfQlVGRkVSLDAsdCksclswXS5pbmRleCE9PXZvaWQgMCl0aGlzLmJpbmRJbnN0YW5jZXNCdWZmZXIoZSxyLCEwKTtlbHNlIGZvcih2YXIgbj0wO248NDtuKyspe3ZhciBhPXJbbl07dGhpcy5fdmVydGV4QXR0cmliQXJyYXlzRW5hYmxlZFthXXx8KHRoaXMuX2dsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KGEpLHRoaXMuX3ZlcnRleEF0dHJpYkFycmF5c0VuYWJsZWRbYV09ITApLHRoaXMuX3ZlcnRleEF0dHJpYlBvaW50ZXIoZSxhLDQsdGhpcy5fZ2wuRkxPQVQsITEsNjQsbioxNiksdGhpcy5fZ2wudmVydGV4QXR0cmliRGl2aXNvcihhLDEpLHRoaXMuX2N1cnJlbnRJbnN0YW5jZUxvY2F0aW9ucy5wdXNoKGEpLHRoaXMuX2N1cnJlbnRJbnN0YW5jZUJ1ZmZlcnMucHVzaChlKX19LGkucHJvdG90eXBlLmJpbmRJbnN0YW5jZXNCdWZmZXI9ZnVuY3Rpb24oZSx0LHIpe3I9PT12b2lkIDAmJihyPSEwKSx0aGlzLmJpbmRBcnJheUJ1ZmZlcihlKTt2YXIgbj0wO2lmKHIpZm9yKHZhciBhPTA7YTx0Lmxlbmd0aDthKyspe3ZhciBzPXRbYV07bis9cy5hdHRyaWJ1dGVTaXplKjR9Zm9yKHZhciBhPTA7YTx0Lmxlbmd0aDthKyspe3ZhciBzPXRbYV07cy5pbmRleD09PXZvaWQgMCYmKHMuaW5kZXg9dGhpcy5fY3VycmVudEVmZmVjdC5nZXRBdHRyaWJ1dGVMb2NhdGlvbkJ5TmFtZShzLmF0dHJpYnV0ZU5hbWUpKSwhKHMuaW5kZXg8MCkmJih0aGlzLl92ZXJ0ZXhBdHRyaWJBcnJheXNFbmFibGVkW3MuaW5kZXhdfHwodGhpcy5fZ2wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkocy5pbmRleCksdGhpcy5fdmVydGV4QXR0cmliQXJyYXlzRW5hYmxlZFtzLmluZGV4XT0hMCksdGhpcy5fdmVydGV4QXR0cmliUG9pbnRlcihlLHMuaW5kZXgscy5hdHRyaWJ1dGVTaXplLHMuYXR0cmlidXRlVHlwZXx8dGhpcy5fZ2wuRkxPQVQscy5ub3JtYWxpemVkfHwhMSxuLHMub2Zmc2V0KSx0aGlzLl9nbC52ZXJ0ZXhBdHRyaWJEaXZpc29yKHMuaW5kZXgscy5kaXZpc29yPT09dm9pZCAwPzE6cy5kaXZpc29yKSx0aGlzLl9jdXJyZW50SW5zdGFuY2VMb2NhdGlvbnMucHVzaChzLmluZGV4KSx0aGlzLl9jdXJyZW50SW5zdGFuY2VCdWZmZXJzLnB1c2goZSkpfX0saS5wcm90b3R5cGUuZGlzYWJsZUluc3RhbmNlQXR0cmlidXRlQnlOYW1lPWZ1bmN0aW9uKGUpe2lmKCEhdGhpcy5fY3VycmVudEVmZmVjdCl7dmFyIHQ9dGhpcy5fY3VycmVudEVmZmVjdC5nZXRBdHRyaWJ1dGVMb2NhdGlvbkJ5TmFtZShlKTt0aGlzLmRpc2FibGVJbnN0YW5jZUF0dHJpYnV0ZSh0KX19LGkucHJvdG90eXBlLmRpc2FibGVJbnN0YW5jZUF0dHJpYnV0ZT1mdW5jdGlvbihlKXtmb3IodmFyIHQ9ITEscjsocj10aGlzLl9jdXJyZW50SW5zdGFuY2VMb2NhdGlvbnMuaW5kZXhPZihlKSkhPT0tMTspdGhpcy5fY3VycmVudEluc3RhbmNlTG9jYXRpb25zLnNwbGljZShyLDEpLHRoaXMuX2N1cnJlbnRJbnN0YW5jZUJ1ZmZlcnMuc3BsaWNlKHIsMSksdD0hMCxyPXRoaXMuX2N1cnJlbnRJbnN0YW5jZUxvY2F0aW9ucy5pbmRleE9mKGUpO3QmJih0aGlzLl9nbC52ZXJ0ZXhBdHRyaWJEaXZpc29yKGUsMCksdGhpcy5kaXNhYmxlQXR0cmlidXRlQnlJbmRleChlKSl9LGkucHJvdG90eXBlLmRpc2FibGVBdHRyaWJ1dGVCeUluZGV4PWZ1bmN0aW9uKGUpe3RoaXMuX2dsLmRpc2FibGVWZXJ0ZXhBdHRyaWJBcnJheShlKSx0aGlzLl92ZXJ0ZXhBdHRyaWJBcnJheXNFbmFibGVkW2VdPSExLHRoaXMuX2N1cnJlbnRCdWZmZXJQb2ludGVyc1tlXS5hY3RpdmU9ITF9LGkucHJvdG90eXBlLmRyYXc9ZnVuY3Rpb24oZSx0LHIsbil7dGhpcy5kcmF3RWxlbWVudHNUeXBlKGU/MDoxLHQscixuKX0saS5wcm90b3R5cGUuZHJhd1BvaW50Q2xvdWRzPWZ1bmN0aW9uKGUsdCxyKXt0aGlzLmRyYXdBcnJheXNUeXBlKDIsZSx0LHIpfSxpLnByb3RvdHlwZS5kcmF3VW5JbmRleGVkPWZ1bmN0aW9uKGUsdCxyLG4pe3RoaXMuZHJhd0FycmF5c1R5cGUoZT8wOjEsdCxyLG4pfSxpLnByb3RvdHlwZS5kcmF3RWxlbWVudHNUeXBlPWZ1bmN0aW9uKGUsdCxyLG4pe3RoaXMuYXBwbHlTdGF0ZXMoKSx0aGlzLl9yZXBvcnREcmF3Q2FsbCgpO3ZhciBhPXRoaXMuX2RyYXdNb2RlKGUpLHM9dGhpcy5fdWludEluZGljZXNDdXJyZW50bHlTZXQ/dGhpcy5fZ2wuVU5TSUdORURfSU5UOnRoaXMuX2dsLlVOU0lHTkVEX1NIT1JULG89dGhpcy5fdWludEluZGljZXNDdXJyZW50bHlTZXQ/NDoyO24/dGhpcy5fZ2wuZHJhd0VsZW1lbnRzSW5zdGFuY2VkKGEscixzLHQqbyxuKTp0aGlzLl9nbC5kcmF3RWxlbWVudHMoYSxyLHMsdCpvKX0saS5wcm90b3R5cGUuZHJhd0FycmF5c1R5cGU9ZnVuY3Rpb24oZSx0LHIsbil7dGhpcy5hcHBseVN0YXRlcygpLHRoaXMuX3JlcG9ydERyYXdDYWxsKCk7dmFyIGE9dGhpcy5fZHJhd01vZGUoZSk7bj90aGlzLl9nbC5kcmF3QXJyYXlzSW5zdGFuY2VkKGEsdCxyLG4pOnRoaXMuX2dsLmRyYXdBcnJheXMoYSx0LHIpfSxpLnByb3RvdHlwZS5fZHJhd01vZGU9ZnVuY3Rpb24oZSl7c3dpdGNoKGUpe2Nhc2UgMDpyZXR1cm4gdGhpcy5fZ2wuVFJJQU5HTEVTO2Nhc2UgMjpyZXR1cm4gdGhpcy5fZ2wuUE9JTlRTO2Nhc2UgMTpyZXR1cm4gdGhpcy5fZ2wuTElORVM7Y2FzZSAzOnJldHVybiB0aGlzLl9nbC5QT0lOVFM7Y2FzZSA0OnJldHVybiB0aGlzLl9nbC5MSU5FUztjYXNlIDU6cmV0dXJuIHRoaXMuX2dsLkxJTkVfTE9PUDtjYXNlIDY6cmV0dXJuIHRoaXMuX2dsLkxJTkVfU1RSSVA7Y2FzZSA3OnJldHVybiB0aGlzLl9nbC5UUklBTkdMRV9TVFJJUDtjYXNlIDg6cmV0dXJuIHRoaXMuX2dsLlRSSUFOR0xFX0ZBTjtkZWZhdWx0OnJldHVybiB0aGlzLl9nbC5UUklBTkdMRVN9fSxpLnByb3RvdHlwZS5fcmVwb3J0RHJhd0NhbGw9ZnVuY3Rpb24oKXt9LGkucHJvdG90eXBlLl9yZWxlYXNlRWZmZWN0PWZ1bmN0aW9uKGUpe2lmKHRoaXMuX2NvbXBpbGVkRWZmZWN0c1tlLl9rZXldKXtkZWxldGUgdGhpcy5fY29tcGlsZWRFZmZlY3RzW2UuX2tleV07dmFyIHQ9ZS5nZXRQaXBlbGluZUNvbnRleHQoKTt0JiZ0aGlzLl9kZWxldGVQaXBlbGluZUNvbnRleHQodCl9fSxpLnByb3RvdHlwZS5fZGVsZXRlUGlwZWxpbmVDb250ZXh0PWZ1bmN0aW9uKGUpe3ZhciB0PWU7dCYmdC5wcm9ncmFtJiYodC5wcm9ncmFtLl9fU1BFQ1RPUl9yZWJ1aWxkUHJvZ3JhbT1udWxsLHRoaXMuX2dsLmRlbGV0ZVByb2dyYW0odC5wcm9ncmFtKSl9LGkucHJvdG90eXBlLl9nZXRHbG9iYWxEZWZpbmVzPWZ1bmN0aW9uKGUpe2lmKGUpe3RoaXMuaXNORENIYWxmWlJhbmdlP2UuSVNfTkRDX0hBTEZfWlJBTkdFPSIiOmRlbGV0ZSBlLklTX05EQ19IQUxGX1pSQU5HRSx0aGlzLnVzZVJldmVyc2VEZXB0aEJ1ZmZlcj9lLlVTRV9SRVZFUlNFX0RFUFRIQlVGRkVSPSIiOmRlbGV0ZSBlLlVTRV9SRVZFUlNFX0RFUFRIQlVGRkVSO3JldHVybn1lbHNle3ZhciB0PSIiO3JldHVybiB0aGlzLmlzTkRDSGFsZlpSYW5nZSYmKHQrPSIjZGVmaW5lIElTX05EQ19IQUxGX1pSQU5HRSIpLHRoaXMudXNlUmV2ZXJzZURlcHRoQnVmZmVyJiYodCYmKHQrPWAKYCksdCs9IiNkZWZpbmUgVVNFX1JFVkVSU0VfREVQVEhCVUZGRVIiKSx0fX0saS5wcm90b3R5cGUuY3JlYXRlRWZmZWN0PWZ1bmN0aW9uKGUsdCxyLG4sYSxzLG8sdSxmLGwpe3ZhciBoO2w9PT12b2lkIDAmJihsPUNlLkdMU0wpO3ZhciBjPWUudmVydGV4RWxlbWVudHx8ZS52ZXJ0ZXh8fGUudmVydGV4VG9rZW58fGUudmVydGV4U291cmNlfHxlLGQ9ZS5mcmFnbWVudEVsZW1lbnR8fGUuZnJhZ21lbnR8fGUuZnJhZ21lbnRUb2tlbnx8ZS5mcmFnbWVudFNvdXJjZXx8ZSxwPXRoaXMuX2dldEdsb2JhbERlZmluZXMoKSxnPShoPWEhPW51bGw/YTp0LmRlZmluZXMpIT09bnVsbCYmaCE9PXZvaWQgMD9oOiIiO3AmJihnKz1wKTt2YXIgXz1jKyIrIitkKyJAIitnO2lmKHRoaXMuX2NvbXBpbGVkRWZmZWN0c1tfXSl7dmFyIHY9dGhpcy5fY29tcGlsZWRFZmZlY3RzW19dO3JldHVybiBvJiZ2LmlzUmVhZHkoKSYmbyh2KSx2fXZhciB5PW5ldyBHZShlLHQscixuLHRoaXMsYSxzLG8sdSxmLF8sbCk7cmV0dXJuIHRoaXMuX2NvbXBpbGVkRWZmZWN0c1tfXT15LHl9LGkuX0NvbmNhdGVuYXRlU2hhZGVyPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gcj09PXZvaWQgMCYmKHI9IiIpLHIrKHQ/dCtgCmA6IiIpK2V9LGkucHJvdG90eXBlLl9jb21waWxlU2hhZGVyPWZ1bmN0aW9uKGUsdCxyLG4pe3JldHVybiB0aGlzLl9jb21waWxlUmF3U2hhZGVyKGkuX0NvbmNhdGVuYXRlU2hhZGVyKGUscixuKSx0KX0saS5wcm90b3R5cGUuX2NvbXBpbGVSYXdTaGFkZXI9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLl9nbCxuPXIuY3JlYXRlU2hhZGVyKHQ9PT0idmVydGV4Ij9yLlZFUlRFWF9TSEFERVI6ci5GUkFHTUVOVF9TSEFERVIpO2lmKCFuKXtmb3IodmFyIGE9ci5OT19FUlJPUixzPXIuTk9fRVJST1I7KHM9ci5nZXRFcnJvcigpKSE9PXIuTk9fRVJST1I7KWE9czt0aHJvdyBuZXcgRXJyb3IoIlNvbWV0aGluZyB3ZW50IHdyb25nIHdoaWxlIGNyZWF0aW5nIGEgZ2wgIi5jb25jYXQodCwiIHNoYWRlciBvYmplY3QuIGdsIGVycm9yPSIpLmNvbmNhdChhLCIsIGdsIGlzQ29udGV4dExvc3Q9IikuY29uY2F0KHIuaXNDb250ZXh0TG9zdCgpLCIsIF9jb250ZXh0V2FzTG9zdD0iKS5jb25jYXQodGhpcy5fY29udGV4dFdhc0xvc3QpKX1yZXR1cm4gci5zaGFkZXJTb3VyY2UobixlKSxyLmNvbXBpbGVTaGFkZXIobiksbn0saS5wcm90b3R5cGUuX2dldFNoYWRlclNvdXJjZT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fZ2wuZ2V0U2hhZGVyU291cmNlKGUpfSxpLnByb3RvdHlwZS5jcmVhdGVSYXdTaGFkZXJQcm9ncmFtPWZ1bmN0aW9uKGUsdCxyLG4sYSl7YT09PXZvaWQgMCYmKGE9bnVsbCksbj1ufHx0aGlzLl9nbDt2YXIgcz10aGlzLl9jb21waWxlUmF3U2hhZGVyKHQsInZlcnRleCIpLG89dGhpcy5fY29tcGlsZVJhd1NoYWRlcihyLCJmcmFnbWVudCIpO3JldHVybiB0aGlzLl9jcmVhdGVTaGFkZXJQcm9ncmFtKGUscyxvLG4sYSl9LGkucHJvdG90eXBlLmNyZWF0ZVNoYWRlclByb2dyYW09ZnVuY3Rpb24oZSx0LHIsbixhLHMpe3M9PT12b2lkIDAmJihzPW51bGwpLGE9YXx8dGhpcy5fZ2w7dmFyIG89dGhpcy5fd2ViR0xWZXJzaW9uPjE/YCN2ZXJzaW9uIDMwMCBlcwojZGVmaW5lIFdFQkdMMiAKYDoiIix1PXRoaXMuX2NvbXBpbGVTaGFkZXIodCwidmVydGV4IixuLG8pLGY9dGhpcy5fY29tcGlsZVNoYWRlcihyLCJmcmFnbWVudCIsbixvKTtyZXR1cm4gdGhpcy5fY3JlYXRlU2hhZGVyUHJvZ3JhbShlLHUsZixhLHMpfSxpLnByb3RvdHlwZS5pbmxpbmVTaGFkZXJDb2RlPWZ1bmN0aW9uKGUpe3JldHVybiBlfSxpLnByb3RvdHlwZS5jcmVhdGVQaXBlbGluZUNvbnRleHQ9ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IEduO3JldHVybiB0LmVuZ2luZT10aGlzLHRoaXMuX2NhcHMucGFyYWxsZWxTaGFkZXJDb21waWxlJiYodC5pc1BhcmFsbGVsQ29tcGlsZWQ9ITApLHR9LGkucHJvdG90eXBlLmNyZWF0ZU1hdGVyaWFsQ29udGV4dD1mdW5jdGlvbigpe30saS5wcm90b3R5cGUuY3JlYXRlRHJhd0NvbnRleHQ9ZnVuY3Rpb24oKXt9LGkucHJvdG90eXBlLl9jcmVhdGVTaGFkZXJQcm9ncmFtPWZ1bmN0aW9uKGUsdCxyLG4sYSl7dmFyIHM9bi5jcmVhdGVQcm9ncmFtKCk7aWYoZS5wcm9ncmFtPXMsIXMpdGhyb3cgbmV3IEVycm9yKCJVbmFibGUgdG8gY3JlYXRlIHByb2dyYW0iKTtyZXR1cm4gbi5hdHRhY2hTaGFkZXIocyx0KSxuLmF0dGFjaFNoYWRlcihzLHIpLG4ubGlua1Byb2dyYW0ocyksZS5jb250ZXh0PW4sZS52ZXJ0ZXhTaGFkZXI9dCxlLmZyYWdtZW50U2hhZGVyPXIsZS5pc1BhcmFsbGVsQ29tcGlsZWR8fHRoaXMuX2ZpbmFsaXplUGlwZWxpbmVDb250ZXh0KGUpLHN9LGkucHJvdG90eXBlLl9maW5hbGl6ZVBpcGVsaW5lQ29udGV4dD1mdW5jdGlvbihlKXt2YXIgdD1lLmNvbnRleHQscj1lLnZlcnRleFNoYWRlcixuPWUuZnJhZ21lbnRTaGFkZXIsYT1lLnByb2dyYW0scz10LmdldFByb2dyYW1QYXJhbWV0ZXIoYSx0LkxJTktfU1RBVFVTKTtpZighcyl7aWYoIXRoaXMuX2dsLmdldFNoYWRlclBhcmFtZXRlcihyLHRoaXMuX2dsLkNPTVBJTEVfU1RBVFVTKSl7dmFyIG89dGhpcy5fZ2wuZ2V0U2hhZGVySW5mb0xvZyhyKTtpZihvKXRocm93IGUudmVydGV4Q29tcGlsYXRpb25FcnJvcj1vLG5ldyBFcnJvcigiVkVSVEVYIFNIQURFUiAiK28pfWlmKCF0aGlzLl9nbC5nZXRTaGFkZXJQYXJhbWV0ZXIobix0aGlzLl9nbC5DT01QSUxFX1NUQVRVUykpe3ZhciBvPXRoaXMuX2dsLmdldFNoYWRlckluZm9Mb2cobik7aWYobyl0aHJvdyBlLmZyYWdtZW50Q29tcGlsYXRpb25FcnJvcj1vLG5ldyBFcnJvcigiRlJBR01FTlQgU0hBREVSICIrbyl9dmFyIHU9dC5nZXRQcm9ncmFtSW5mb0xvZyhhKTtpZih1KXRocm93IGUucHJvZ3JhbUxpbmtFcnJvcj11LG5ldyBFcnJvcih1KX1pZih0aGlzLnZhbGlkYXRlU2hhZGVyUHJvZ3JhbXMpe3QudmFsaWRhdGVQcm9ncmFtKGEpO3ZhciBmPXQuZ2V0UHJvZ3JhbVBhcmFtZXRlcihhLHQuVkFMSURBVEVfU1RBVFVTKTtpZighZil7dmFyIHU9dC5nZXRQcm9ncmFtSW5mb0xvZyhhKTtpZih1KXRocm93IGUucHJvZ3JhbVZhbGlkYXRpb25FcnJvcj11LG5ldyBFcnJvcih1KX19dC5kZWxldGVTaGFkZXIociksdC5kZWxldGVTaGFkZXIobiksZS52ZXJ0ZXhTaGFkZXI9dm9pZCAwLGUuZnJhZ21lbnRTaGFkZXI9dm9pZCAwLGUub25Db21waWxlZCYmKGUub25Db21waWxlZCgpLGUub25Db21waWxlZD12b2lkIDApfSxpLnByb3RvdHlwZS5fcHJlcGFyZVBpcGVsaW5lQ29udGV4dD1mdW5jdGlvbihlLHQscixuLGEscyxvLHUsZixsKXt2YXIgaD1lO24/aC5wcm9ncmFtPXRoaXMuY3JlYXRlUmF3U2hhZGVyUHJvZ3JhbShoLHQscix2b2lkIDAsZik6aC5wcm9ncmFtPXRoaXMuY3JlYXRlU2hhZGVyUHJvZ3JhbShoLHQscix1LHZvaWQgMCxmKSxoLnByb2dyYW0uX19TUEVDVE9SX3JlYnVpbGRQcm9ncmFtPW99LGkucHJvdG90eXBlLl9pc1JlbmRlcmluZ1N0YXRlQ29tcGlsZWQ9ZnVuY3Rpb24oZSl7dmFyIHQ9ZTtyZXR1cm4gdGhpcy5fZ2wuZ2V0UHJvZ3JhbVBhcmFtZXRlcih0LnByb2dyYW0sdGhpcy5fY2Fwcy5wYXJhbGxlbFNoYWRlckNvbXBpbGUuQ09NUExFVElPTl9TVEFUVVNfS0hSKT8odGhpcy5fZmluYWxpemVQaXBlbGluZUNvbnRleHQodCksITApOiExfSxpLnByb3RvdHlwZS5fZXhlY3V0ZVdoZW5SZW5kZXJpbmdTdGF0ZUlzQ29tcGlsZWQ9ZnVuY3Rpb24oZSx0KXt2YXIgcj1lO2lmKCFyLmlzUGFyYWxsZWxDb21waWxlZCl7dCgpO3JldHVybn12YXIgbj1yLm9uQ29tcGlsZWQ7bj9yLm9uQ29tcGlsZWQ9ZnVuY3Rpb24oKXtuKCksdCgpfTpyLm9uQ29tcGlsZWQ9dH0saS5wcm90b3R5cGUuZ2V0VW5pZm9ybXM9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9bmV3IEFycmF5LG49ZSxhPTA7YTx0Lmxlbmd0aDthKyspci5wdXNoKHRoaXMuX2dsLmdldFVuaWZvcm1Mb2NhdGlvbihuLnByb2dyYW0sdFthXSkpO3JldHVybiByfSxpLnByb3RvdHlwZS5nZXRBdHRyaWJ1dGVzPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByPVtdLG49ZSxhPTA7YTx0Lmxlbmd0aDthKyspdHJ5e3IucHVzaCh0aGlzLl9nbC5nZXRBdHRyaWJMb2NhdGlvbihuLnByb2dyYW0sdFthXSkpfWNhdGNoe3IucHVzaCgtMSl9cmV0dXJuIHJ9LGkucHJvdG90eXBlLmVuYWJsZUVmZmVjdD1mdW5jdGlvbihlKXtlPWUhPT1udWxsJiZRdC5Jc1dyYXBwZXIoZSk/ZS5lZmZlY3Q6ZSwhKCFlfHxlPT09dGhpcy5fY3VycmVudEVmZmVjdCkmJih0aGlzLl9zdGVuY2lsU3RhdGVDb21wb3Nlci5zdGVuY2lsTWF0ZXJpYWw9dm9pZCAwLGU9ZSx0aGlzLmJpbmRTYW1wbGVycyhlKSx0aGlzLl9jdXJyZW50RWZmZWN0PWUsZS5vbkJpbmQmJmUub25CaW5kKGUpLGUuX29uQmluZE9ic2VydmFibGUmJmUuX29uQmluZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGUpKX0saS5wcm90b3R5cGUuc2V0SW50PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU/KHRoaXMuX2dsLnVuaWZvcm0xaShlLHQpLCEwKTohMX0saS5wcm90b3R5cGUuc2V0SW50Mj1mdW5jdGlvbihlLHQscil7cmV0dXJuIGU/KHRoaXMuX2dsLnVuaWZvcm0yaShlLHQsciksITApOiExfSxpLnByb3RvdHlwZS5zZXRJbnQzPWZ1bmN0aW9uKGUsdCxyLG4pe3JldHVybiBlPyh0aGlzLl9nbC51bmlmb3JtM2koZSx0LHIsbiksITApOiExfSxpLnByb3RvdHlwZS5zZXRJbnQ0PWZ1bmN0aW9uKGUsdCxyLG4sYSl7cmV0dXJuIGU/KHRoaXMuX2dsLnVuaWZvcm00aShlLHQscixuLGEpLCEwKTohMX0saS5wcm90b3R5cGUuc2V0SW50QXJyYXk9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT8odGhpcy5fZ2wudW5pZm9ybTFpdihlLHQpLCEwKTohMX0saS5wcm90b3R5cGUuc2V0SW50QXJyYXkyPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIWV8fHQubGVuZ3RoJTIhPT0wPyExOih0aGlzLl9nbC51bmlmb3JtMml2KGUsdCksITApfSxpLnByb3RvdHlwZS5zZXRJbnRBcnJheTM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4hZXx8dC5sZW5ndGglMyE9PTA/ITE6KHRoaXMuX2dsLnVuaWZvcm0zaXYoZSx0KSwhMCl9LGkucHJvdG90eXBlLnNldEludEFycmF5ND1mdW5jdGlvbihlLHQpe3JldHVybiFlfHx0Lmxlbmd0aCU0IT09MD8hMToodGhpcy5fZ2wudW5pZm9ybTRpdihlLHQpLCEwKX0saS5wcm90b3R5cGUuc2V0QXJyYXk9ZnVuY3Rpb24oZSx0KXtyZXR1cm4hZXx8dC5sZW5ndGg8MT8hMToodGhpcy5fZ2wudW5pZm9ybTFmdihlLHQpLCEwKX0saS5wcm90b3R5cGUuc2V0QXJyYXkyPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIWV8fHQubGVuZ3RoJTIhPT0wPyExOih0aGlzLl9nbC51bmlmb3JtMmZ2KGUsdCksITApfSxpLnByb3RvdHlwZS5zZXRBcnJheTM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4hZXx8dC5sZW5ndGglMyE9PTA/ITE6KHRoaXMuX2dsLnVuaWZvcm0zZnYoZSx0KSwhMCl9LGkucHJvdG90eXBlLnNldEFycmF5ND1mdW5jdGlvbihlLHQpe3JldHVybiFlfHx0Lmxlbmd0aCU0IT09MD8hMToodGhpcy5fZ2wudW5pZm9ybTRmdihlLHQpLCEwKX0saS5wcm90b3R5cGUuc2V0TWF0cmljZXM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT8odGhpcy5fZ2wudW5pZm9ybU1hdHJpeDRmdihlLCExLHQpLCEwKTohMX0saS5wcm90b3R5cGUuc2V0TWF0cml4M3gzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU/KHRoaXMuX2dsLnVuaWZvcm1NYXRyaXgzZnYoZSwhMSx0KSwhMCk6ITF9LGkucHJvdG90eXBlLnNldE1hdHJpeDJ4Mj1mdW5jdGlvbihlLHQpe3JldHVybiBlPyh0aGlzLl9nbC51bmlmb3JtTWF0cml4MmZ2KGUsITEsdCksITApOiExfSxpLnByb3RvdHlwZS5zZXRGbG9hdD1mdW5jdGlvbihlLHQpe3JldHVybiBlPyh0aGlzLl9nbC51bmlmb3JtMWYoZSx0KSwhMCk6ITF9LGkucHJvdG90eXBlLnNldEZsb2F0Mj1mdW5jdGlvbihlLHQscil7cmV0dXJuIGU/KHRoaXMuX2dsLnVuaWZvcm0yZihlLHQsciksITApOiExfSxpLnByb3RvdHlwZS5zZXRGbG9hdDM9ZnVuY3Rpb24oZSx0LHIsbil7cmV0dXJuIGU/KHRoaXMuX2dsLnVuaWZvcm0zZihlLHQscixuKSwhMCk6ITF9LGkucHJvdG90eXBlLnNldEZsb2F0ND1mdW5jdGlvbihlLHQscixuLGEpe3JldHVybiBlPyh0aGlzLl9nbC51bmlmb3JtNGYoZSx0LHIsbixhKSwhMCk6ITF9LGkucHJvdG90eXBlLmFwcGx5U3RhdGVzPWZ1bmN0aW9uKCl7aWYodGhpcy5fZGVwdGhDdWxsaW5nU3RhdGUuYXBwbHkodGhpcy5fZ2wpLHRoaXMuX3N0ZW5jaWxTdGF0ZUNvbXBvc2VyLmFwcGx5KHRoaXMuX2dsKSx0aGlzLl9hbHBoYVN0YXRlLmFwcGx5KHRoaXMuX2dsKSx0aGlzLl9jb2xvcldyaXRlQ2hhbmdlZCl7dGhpcy5fY29sb3JXcml0ZUNoYW5nZWQ9ITE7dmFyIGU9dGhpcy5fY29sb3JXcml0ZTt0aGlzLl9nbC5jb2xvck1hc2soZSxlLGUsZSl9fSxpLnByb3RvdHlwZS5zZXRDb2xvcldyaXRlPWZ1bmN0aW9uKGUpe2UhPT10aGlzLl9jb2xvcldyaXRlJiYodGhpcy5fY29sb3JXcml0ZUNoYW5nZWQ9ITAsdGhpcy5fY29sb3JXcml0ZT1lKX0saS5wcm90b3R5cGUuZ2V0Q29sb3JXcml0ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9jb2xvcldyaXRlfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImRlcHRoQ3VsbGluZ1N0YXRlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RlcHRoQ3VsbGluZ1N0YXRlfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiYWxwaGFTdGF0ZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9hbHBoYVN0YXRlfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwic3RlbmNpbFN0YXRlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0ZW5jaWxTdGF0ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsInN0ZW5jaWxTdGF0ZUNvbXBvc2VyIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0ZW5jaWxTdGF0ZUNvbXBvc2VyfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkucHJvdG90eXBlLmNsZWFySW50ZXJuYWxUZXh0dXJlc0NhY2hlPWZ1bmN0aW9uKCl7dGhpcy5faW50ZXJuYWxUZXh0dXJlc0NhY2hlPVtdfSxpLnByb3RvdHlwZS53aXBlQ2FjaGVzPWZ1bmN0aW9uKGUpe3RoaXMucHJldmVudENhY2hlV2lwZUJldHdlZW5GcmFtZXMmJiFlfHwodGhpcy5fY3VycmVudEVmZmVjdD1udWxsLHRoaXMuX3ZpZXdwb3J0Q2FjaGVkLng9MCx0aGlzLl92aWV3cG9ydENhY2hlZC55PTAsdGhpcy5fdmlld3BvcnRDYWNoZWQuej0wLHRoaXMuX3ZpZXdwb3J0Q2FjaGVkLnc9MCx0aGlzLl91bmJpbmRWZXJ0ZXhBcnJheU9iamVjdCgpLGUmJih0aGlzLl9jdXJyZW50UHJvZ3JhbT1udWxsLHRoaXMucmVzZXRUZXh0dXJlQ2FjaGUoKSx0aGlzLl9zdGVuY2lsU3RhdGVDb21wb3Nlci5yZXNldCgpLHRoaXMuX2RlcHRoQ3VsbGluZ1N0YXRlLnJlc2V0KCksdGhpcy5fZGVwdGhDdWxsaW5nU3RhdGUuZGVwdGhGdW5jPXRoaXMuX2dsLkxFUVVBTCx0aGlzLl9hbHBoYVN0YXRlLnJlc2V0KCksdGhpcy5fYWxwaGFNb2RlPTEsdGhpcy5fYWxwaGFFcXVhdGlvbj0wLHRoaXMuX2NvbG9yV3JpdGU9ITAsdGhpcy5fY29sb3JXcml0ZUNoYW5nZWQ9ITAsdGhpcy5fdW5wYWNrRmxpcFlDYWNoZWQ9bnVsbCx0aGlzLl9nbC5waXhlbFN0b3JlaSh0aGlzLl9nbC5VTlBBQ0tfQ09MT1JTUEFDRV9DT05WRVJTSU9OX1dFQkdMLHRoaXMuX2dsLk5PTkUpLHRoaXMuX2dsLnBpeGVsU3RvcmVpKHRoaXMuX2dsLlVOUEFDS19QUkVNVUxUSVBMWV9BTFBIQV9XRUJHTCwwKSx0aGlzLl9tdXN0V2lwZVZlcnRleEF0dHJpYnV0ZXM9ITAsdGhpcy51bmJpbmRBbGxBdHRyaWJ1dGVzKCkpLHRoaXMuX3Jlc2V0VmVydGV4QnVmZmVyQmluZGluZygpLHRoaXMuX2NhY2hlZEluZGV4QnVmZmVyPW51bGwsdGhpcy5fY2FjaGVkRWZmZWN0Rm9yVmVydGV4QnVmZmVycz1udWxsLHRoaXMuYmluZEluZGV4QnVmZmVyKG51bGwpKX0saS5wcm90b3R5cGUuX2dldFNhbXBsaW5nUGFyYW1ldGVycz1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXMuX2dsLG49ci5ORUFSRVNULGE9ci5ORUFSRVNUO3N3aXRjaChlKXtjYXNlIDExOm49ci5MSU5FQVIsdD9hPXIuTElORUFSX01JUE1BUF9ORUFSRVNUOmE9ci5MSU5FQVI7YnJlYWs7Y2FzZSAzOm49ci5MSU5FQVIsdD9hPXIuTElORUFSX01JUE1BUF9MSU5FQVI6YT1yLkxJTkVBUjticmVhaztjYXNlIDg6bj1yLk5FQVJFU1QsdD9hPXIuTkVBUkVTVF9NSVBNQVBfTElORUFSOmE9ci5ORUFSRVNUO2JyZWFrO2Nhc2UgNDpuPXIuTkVBUkVTVCx0P2E9ci5ORUFSRVNUX01JUE1BUF9ORUFSRVNUOmE9ci5ORUFSRVNUO2JyZWFrO2Nhc2UgNTpuPXIuTkVBUkVTVCx0P2E9ci5MSU5FQVJfTUlQTUFQX05FQVJFU1Q6YT1yLkxJTkVBUjticmVhaztjYXNlIDY6bj1yLk5FQVJFU1QsdD9hPXIuTElORUFSX01JUE1BUF9MSU5FQVI6YT1yLkxJTkVBUjticmVhaztjYXNlIDc6bj1yLk5FQVJFU1QsYT1yLkxJTkVBUjticmVhaztjYXNlIDE6bj1yLk5FQVJFU1QsYT1yLk5FQVJFU1Q7YnJlYWs7Y2FzZSA5Om49ci5MSU5FQVIsdD9hPXIuTkVBUkVTVF9NSVBNQVBfTkVBUkVTVDphPXIuTkVBUkVTVDticmVhaztjYXNlIDEwOm49ci5MSU5FQVIsdD9hPXIuTkVBUkVTVF9NSVBNQVBfTElORUFSOmE9ci5ORUFSRVNUO2JyZWFrO2Nhc2UgMjpuPXIuTElORUFSLGE9ci5MSU5FQVI7YnJlYWs7Y2FzZSAxMjpuPXIuTElORUFSLGE9ci5ORUFSRVNUO2JyZWFrfXJldHVybnttaW46YSxtYWc6bn19LGkucHJvdG90eXBlLl9jcmVhdGVUZXh0dXJlPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fZ2wuY3JlYXRlVGV4dHVyZSgpO2lmKCFlKXRocm93IG5ldyBFcnJvcigiVW5hYmxlIHRvIGNyZWF0ZSB0ZXh0dXJlIik7cmV0dXJuIGV9LGkucHJvdG90eXBlLl9jcmVhdGVIYXJkd2FyZVRleHR1cmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHhpKHRoaXMuX2NyZWF0ZVRleHR1cmUoKSx0aGlzLl9nbCl9LGkucHJvdG90eXBlLl9jcmVhdGVJbnRlcm5hbFRleHR1cmU9ZnVuY3Rpb24oZSx0LHIsbil7bj09PXZvaWQgMCYmKG49bWUuVW5rbm93bik7dmFyIGE9e307dCE9PXZvaWQgMCYmdHlwZW9mIHQ9PSJvYmplY3QiPyhhLmdlbmVyYXRlTWlwTWFwcz10LmdlbmVyYXRlTWlwTWFwcyxhLnR5cGU9dC50eXBlPT09dm9pZCAwPzA6dC50eXBlLGEuc2FtcGxpbmdNb2RlPXQuc2FtcGxpbmdNb2RlPT09dm9pZCAwPzM6dC5zYW1wbGluZ01vZGUsYS5mb3JtYXQ9dC5mb3JtYXQ9PT12b2lkIDA/NTp0LmZvcm1hdCxhLnVzZVNSR0JCdWZmZXI9dC51c2VTUkdCQnVmZmVyPT09dm9pZCAwPyExOnQudXNlU1JHQkJ1ZmZlcik6KGEuZ2VuZXJhdGVNaXBNYXBzPXQsYS50eXBlPTAsYS5zYW1wbGluZ01vZGU9MyxhLmZvcm1hdD01LGEudXNlU1JHQkJ1ZmZlcj0hMSksYS51c2VTUkdCQnVmZmVyPWEudXNlU1JHQkJ1ZmZlciYmdGhpcy5fY2Fwcy5zdXBwb3J0U1JHQkJ1ZmZlcnMmJih0aGlzLndlYkdMVmVyc2lvbj4xfHx0aGlzLmlzV2ViR1BVKSwoYS50eXBlPT09MSYmIXRoaXMuX2NhcHMudGV4dHVyZUZsb2F0TGluZWFyRmlsdGVyaW5nfHxhLnR5cGU9PT0yJiYhdGhpcy5fY2Fwcy50ZXh0dXJlSGFsZkZsb2F0TGluZWFyRmlsdGVyaW5nKSYmKGEuc2FtcGxpbmdNb2RlPTEpLGEudHlwZT09PTEmJiF0aGlzLl9jYXBzLnRleHR1cmVGbG9hdCYmKGEudHlwZT0wLFcuV2FybigiRmxvYXQgdGV4dHVyZXMgYXJlIG5vdCBzdXBwb3J0ZWQuIFR5cGUgZm9yY2VkIHRvIFRFWFRVUkVUWVBFX1VOU0lHTkVEX0JZVEUiKSk7dmFyIHM9dGhpcy5fZ2wsbz1uZXcgTHQodGhpcyxuKTtvLl91c2VTUkdCQnVmZmVyPSEhYS51c2VTUkdCQnVmZmVyO3ZhciB1PWUud2lkdGh8fGUsZj1lLmhlaWdodHx8ZSxsPWUubGF5ZXJzfHwwLGg9dGhpcy5fZ2V0U2FtcGxpbmdQYXJhbWV0ZXJzKGEuc2FtcGxpbmdNb2RlLCEhYS5nZW5lcmF0ZU1pcE1hcHMpLGM9bCE9PTA/cy5URVhUVVJFXzJEX0FSUkFZOnMuVEVYVFVSRV8yRCxkPXRoaXMuX2dldFJHQkFCdWZmZXJJbnRlcm5hbFNpemVkRm9ybWF0KGEudHlwZSxhLmZvcm1hdCxhLnVzZVNSR0JCdWZmZXIpLHA9dGhpcy5fZ2V0SW50ZXJuYWxGb3JtYXQoYS5mb3JtYXQpLGc9dGhpcy5fZ2V0V2ViR0xUZXh0dXJlVHlwZShhLnR5cGUpO3JldHVybiB0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KGMsbyksbCE9PTA/KG8uaXMyREFycmF5PSEwLHMudGV4SW1hZ2UzRChjLDAsZCx1LGYsbCwwLHAsZyxudWxsKSk6cy50ZXhJbWFnZTJEKGMsMCxkLHUsZiwwLHAsZyxudWxsKSxzLnRleFBhcmFtZXRlcmkoYyxzLlRFWFRVUkVfTUFHX0ZJTFRFUixoLm1hZykscy50ZXhQYXJhbWV0ZXJpKGMscy5URVhUVVJFX01JTl9GSUxURVIsaC5taW4pLHMudGV4UGFyYW1ldGVyaShjLHMuVEVYVFVSRV9XUkFQX1Mscy5DTEFNUF9UT19FREdFKSxzLnRleFBhcmFtZXRlcmkoYyxzLlRFWFRVUkVfV1JBUF9ULHMuQ0xBTVBfVE9fRURHRSksYS5nZW5lcmF0ZU1pcE1hcHMmJnRoaXMuX2dsLmdlbmVyYXRlTWlwbWFwKGMpLHRoaXMuX2JpbmRUZXh0dXJlRGlyZWN0bHkoYyxudWxsKSxvLmJhc2VXaWR0aD11LG8uYmFzZUhlaWdodD1mLG8ud2lkdGg9dSxvLmhlaWdodD1mLG8uZGVwdGg9bCxvLmlzUmVhZHk9ITAsby5zYW1wbGVzPTEsby5nZW5lcmF0ZU1pcE1hcHM9ISFhLmdlbmVyYXRlTWlwTWFwcyxvLnNhbXBsaW5nTW9kZT1hLnNhbXBsaW5nTW9kZSxvLnR5cGU9YS50eXBlLG8uZm9ybWF0PWEuZm9ybWF0LHRoaXMuX2ludGVybmFsVGV4dHVyZXNDYWNoZS5wdXNoKG8pLG99LGkucHJvdG90eXBlLl9nZXRVc2VTUkdCQnVmZmVyPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUmJnRoaXMuX2NhcHMuc3VwcG9ydFNSR0JCdWZmZXJzJiYodGhpcy53ZWJHTFZlcnNpb24+MXx8dGhpcy5pc1dlYkdQVXx8dCl9LGkucHJvdG90eXBlLl9jcmVhdGVUZXh0dXJlQmFzZT1mdW5jdGlvbihlLHQscixuLGEscyxvLHUsZixsLGgsYyxkLHAsZyxfKXt2YXIgdj10aGlzO2E9PT12b2lkIDAmJihhPTMpLHM9PT12b2lkIDAmJihzPW51bGwpLG89PT12b2lkIDAmJihvPW51bGwpLGw9PT12b2lkIDAmJihsPW51bGwpLGg9PT12b2lkIDAmJihoPW51bGwpLGM9PT12b2lkIDAmJihjPW51bGwpLGQ9PT12b2lkIDAmJihkPW51bGwpLGU9ZXx8IiI7dmFyIHk9ZS5zdWJzdHIoMCw1KT09PSJkYXRhOiIsRT1lLnN1YnN0cigwLDUpPT09ImJsb2I6IixSPXkmJmUuaW5kZXhPZigiO2Jhc2U2NCwiKSE9PS0xLE09aHx8bmV3IEx0KHRoaXMsbWUuVXJsKSxDPWU7dGhpcy5fdHJhbnNmb3JtVGV4dHVyZVVybCYmIVImJiFoJiYhbCYmKGU9dGhpcy5fdHJhbnNmb3JtVGV4dHVyZVVybChlKSksQyE9PWUmJihNLl9vcmlnaW5hbFVybD1DKTt2YXIgQT1lLmxhc3RJbmRleE9mKCIuIiksUz1kfHwoQT4tMT9lLnN1YnN0cmluZyhBKS50b0xvd2VyQ2FzZSgpOiIiKSx3PW51bGwsRj1TLmluZGV4T2YoIj8iKTtGPi0xJiYoUz1TLnNwbGl0KCI/IilbMF0pO2Zvcih2YXIgeD0wLEc9aS5fVGV4dHVyZUxvYWRlcnM7eDxHLmxlbmd0aDt4Kyspe3ZhciB6PUdbeF07aWYoei5jYW5Mb2FkKFMscCkpe3c9ejticmVha319biYmbi5fYWRkUGVuZGluZ0RhdGEoTSksTS51cmw9ZSxNLmdlbmVyYXRlTWlwTWFwcz0hdCxNLnNhbXBsaW5nTW9kZT1hLE0uaW52ZXJ0WT1yLE0uX3VzZVNSR0JCdWZmZXI9dGhpcy5fZ2V0VXNlU1JHQkJ1ZmZlcighIV8sdCksdGhpcy5fZG9Ob3RIYW5kbGVDb250ZXh0TG9zdHx8KE0uX2J1ZmZlcj1sKTt2YXIgTj1udWxsO3MmJiFoJiYoTj1NLm9uTG9hZGVkT2JzZXJ2YWJsZS5hZGQocykpLGh8fHRoaXMuX2ludGVybmFsVGV4dHVyZXNDYWNoZS5wdXNoKE0pO3ZhciBxPWZ1bmN0aW9uKFosail7biYmbi5fcmVtb3ZlUGVuZGluZ0RhdGEoTSksZT09PUM/KE4mJk0ub25Mb2FkZWRPYnNlcnZhYmxlLnJlbW92ZShOKSxhZS5Vc2VGYWxsYmFja1RleHR1cmUmJnYuX2NyZWF0ZVRleHR1cmVCYXNlKGFlLkZhbGxiYWNrVGV4dHVyZSx0LE0uaW52ZXJ0WSxuLGEsbnVsbCxvLHUsZixsLE0pLFo9KFp8fCJVbmtub3duIGVycm9yIikrKGFlLlVzZUZhbGxiYWNrVGV4dHVyZT8iIC0gRmFsbGJhY2sgdGV4dHVyZSB3YXMgdXNlZCI6IiIpLE0ub25FcnJvck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHttZXNzYWdlOlosZXhjZXB0aW9uOmp9KSxvJiZvKFosaikpOihXLldhcm4oIkZhaWxlZCB0byBsb2FkICIuY29uY2F0KGUsIiwgZmFsbGluZyBiYWNrIHRvICIpLmNvbmNhdChDKSksdi5fY3JlYXRlVGV4dHVyZUJhc2UoQyx0LE0uaW52ZXJ0WSxuLGEscyxvLHUsZixsLE0sYyxkLHAsZyxfKSl9O2lmKHcpe3ZhciAkPWZ1bmN0aW9uKFope3cubG9hZERhdGEoWixNLGZ1bmN0aW9uKGosZmUsUGUsV2UsWmUsSHQpe0h0P3EoIlRleHR1cmVMb2FkZXIgZmFpbGVkIHRvIGxvYWQgZGF0YSIpOnUoTSxTLG4se3dpZHRoOmosaGVpZ2h0OmZlfSxNLmludmVydFksIVBlLFdlLGZ1bmN0aW9uKCl7cmV0dXJuIFplKCksITF9LGEpfSxnKX07bD9sIGluc3RhbmNlb2YgQXJyYXlCdWZmZXI/JChuZXcgVWludDhBcnJheShsKSk6QXJyYXlCdWZmZXIuaXNWaWV3KGwpPyQobCk6byYmbygiVW5hYmxlIHRvIGxvYWQ6IG9ubHkgQXJyYXlCdWZmZXIgb3IgQXJyYXlCdWZmZXJWaWV3IGlzIHN1cHBvcnRlZCIsbnVsbCk6dGhpcy5fbG9hZEZpbGUoZSxmdW5jdGlvbihaKXtyZXR1cm4gJChuZXcgVWludDhBcnJheShaKSl9LHZvaWQgMCxuP24ub2ZmbGluZVByb3ZpZGVyOnZvaWQgMCwhMCxmdW5jdGlvbihaLGope3EoIlVuYWJsZSB0byBsb2FkICIrKFomJloucmVzcG9uc2VVUkwsaikpfSl9ZWxzZXt2YXIgdWU9ZnVuY3Rpb24oWil7RSYmIXYuX2RvTm90SGFuZGxlQ29udGV4dExvc3QmJihNLl9idWZmZXI9WiksdShNLFMsbixaLE0uaW52ZXJ0WSx0LCExLGYsYSl9OyF5fHxSP2wmJih0eXBlb2YgbC5kZWNvZGluZz09InN0cmluZyJ8fGwuY2xvc2UpP3VlKGwpOmkuX0ZpbGVUb29sc0xvYWRJbWFnZShlLHVlLHEsbj9uLm9mZmxpbmVQcm92aWRlcjpudWxsLHAsTS5pbnZlcnRZJiZ0aGlzLl9mZWF0dXJlcy5uZWVkc0ludmVydGluZ0JpdG1hcD97aW1hZ2VPcmllbnRhdGlvbjoiZmxpcFkifTp2b2lkIDApOnR5cGVvZiBsPT0ic3RyaW5nInx8bCBpbnN0YW5jZW9mIEFycmF5QnVmZmVyfHxBcnJheUJ1ZmZlci5pc1ZpZXcobCl8fGwgaW5zdGFuY2VvZiBCbG9iP2kuX0ZpbGVUb29sc0xvYWRJbWFnZShsLHVlLHEsbj9uLm9mZmxpbmVQcm92aWRlcjpudWxsLHAsTS5pbnZlcnRZJiZ0aGlzLl9mZWF0dXJlcy5uZWVkc0ludmVydGluZ0JpdG1hcD97aW1hZ2VPcmllbnRhdGlvbjoiZmxpcFkifTp2b2lkIDApOmwmJnVlKGwpfXJldHVybiBNfSxpLnByb3RvdHlwZS5jcmVhdGVUZXh0dXJlPWZ1bmN0aW9uKGUsdCxyLG4sYSxzLG8sdSxmLGwsaCxjLGQscCxnKXt2YXIgXz10aGlzO3JldHVybiBhPT09dm9pZCAwJiYoYT0zKSxzPT09dm9pZCAwJiYocz1udWxsKSxvPT09dm9pZCAwJiYobz1udWxsKSx1PT09dm9pZCAwJiYodT1udWxsKSxmPT09dm9pZCAwJiYoZj1udWxsKSxsPT09dm9pZCAwJiYobD1udWxsKSxoPT09dm9pZCAwJiYoaD1udWxsKSx0aGlzLl9jcmVhdGVUZXh0dXJlQmFzZShlLHQscixuLGEscyxvLHRoaXMuX3ByZXBhcmVXZWJHTFRleHR1cmUuYmluZCh0aGlzKSxmdW5jdGlvbih2LHksRSxSLE0sQyl7dmFyIEE9Xy5fZ2wsUz1FLndpZHRoPT09diYmRS5oZWlnaHQ9PT15LHc9bD9fLl9nZXRJbnRlcm5hbEZvcm1hdChsLE0uX3VzZVNSR0JCdWZmZXIpOlI9PT0iLmpwZyImJiFNLl91c2VTUkdCQnVmZmVyP0EuUkdCOk0uX3VzZVNSR0JCdWZmZXI/QS5TUkdCOF9BTFBIQTg6QS5SR0JBLEY9bD9fLl9nZXRJbnRlcm5hbEZvcm1hdChsKTpSPT09Ii5qcGciJiYhTS5fdXNlU1JHQkJ1ZmZlcj9BLlJHQjpBLlJHQkE7aWYoTS5fdXNlU1JHQkJ1ZmZlciYmXy53ZWJHTFZlcnNpb249PT0xJiYoRj13KSxTKXJldHVybiBBLnRleEltYWdlMkQoQS5URVhUVVJFXzJELDAsdyxGLEEuVU5TSUdORURfQllURSxFKSwhMTt2YXIgeD1fLl9jYXBzLm1heFRleHR1cmVTaXplO2lmKEUud2lkdGg+eHx8RS5oZWlnaHQ+eHx8IV8uX3N1cHBvcnRzSGFyZHdhcmVUZXh0dXJlUmVzY2FsaW5nKXJldHVybiBfLl9wcmVwYXJlV29ya2luZ0NhbnZhcygpLCFfLl93b3JraW5nQ2FudmFzfHwhXy5fd29ya2luZ0NvbnRleHR8fChfLl93b3JraW5nQ2FudmFzLndpZHRoPXYsXy5fd29ya2luZ0NhbnZhcy5oZWlnaHQ9eSxfLl93b3JraW5nQ29udGV4dC5kcmF3SW1hZ2UoRSwwLDAsRS53aWR0aCxFLmhlaWdodCwwLDAsdix5KSxBLnRleEltYWdlMkQoQS5URVhUVVJFXzJELDAsdyxGLEEuVU5TSUdORURfQllURSxfLl93b3JraW5nQ2FudmFzKSxNLndpZHRoPXYsTS5oZWlnaHQ9eSksITE7dmFyIEc9bmV3IEx0KF8sbWUuVGVtcCk7cmV0dXJuIF8uX2JpbmRUZXh0dXJlRGlyZWN0bHkoQS5URVhUVVJFXzJELEcsITApLEEudGV4SW1hZ2UyRChBLlRFWFRVUkVfMkQsMCx3LEYsQS5VTlNJR05FRF9CWVRFLEUpLF8uX3Jlc2NhbGVUZXh0dXJlKEcsTSxuLHcsZnVuY3Rpb24oKXtfLl9yZWxlYXNlVGV4dHVyZShHKSxfLl9iaW5kVGV4dHVyZURpcmVjdGx5KEEuVEVYVFVSRV8yRCxNLCEwKSxDKCl9KSwhMH0sdSxmLGwsaCxjLGQsZyl9LGkuX0ZpbGVUb29sc0xvYWRJbWFnZT1mdW5jdGlvbihlLHQscixuLGEscyl7dGhyb3cgWCgiRmlsZVRvb2xzIil9LGkucHJvdG90eXBlLl9yZXNjYWxlVGV4dHVyZT1mdW5jdGlvbihlLHQscixuLGEpe30saS5wcm90b3R5cGUuY3JlYXRlUmF3VGV4dHVyZT1mdW5jdGlvbihlLHQscixuLGEscyxvLHUsZixsLGgpe3Rocm93IFgoIkVuZ2luZS5SYXdUZXh0dXJlIil9LGkucHJvdG90eXBlLmNyZWF0ZVJhd0N1YmVUZXh0dXJlPWZ1bmN0aW9uKGUsdCxyLG4sYSxzLG8sdSl7dGhyb3cgWCgiRW5naW5lLlJhd1RleHR1cmUiKX0saS5wcm90b3R5cGUuY3JlYXRlUmF3VGV4dHVyZTNEPWZ1bmN0aW9uKGUsdCxyLG4sYSxzLG8sdSxmLGwpe3Rocm93IFgoIkVuZ2luZS5SYXdUZXh0dXJlIil9LGkucHJvdG90eXBlLmNyZWF0ZVJhd1RleHR1cmUyREFycmF5PWZ1bmN0aW9uKGUsdCxyLG4sYSxzLG8sdSxmLGwpe3Rocm93IFgoIkVuZ2luZS5SYXdUZXh0dXJlIil9LGkucHJvdG90eXBlLl91bnBhY2tGbGlwWT1mdW5jdGlvbihlKXt0aGlzLl91bnBhY2tGbGlwWUNhY2hlZCE9PWUmJih0aGlzLl9nbC5waXhlbFN0b3JlaSh0aGlzLl9nbC5VTlBBQ0tfRkxJUF9ZX1dFQkdMLGU/MTowKSx0aGlzLmVuYWJsZVVucGFja0ZsaXBZQ2FjaGVkJiYodGhpcy5fdW5wYWNrRmxpcFlDYWNoZWQ9ZSkpfSxpLnByb3RvdHlwZS5fZ2V0VW5wYWNrQWxpZ25lbWVudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9nbC5nZXRQYXJhbWV0ZXIodGhpcy5fZ2wuVU5QQUNLX0FMSUdOTUVOVCl9LGkucHJvdG90eXBlLl9nZXRUZXh0dXJlVGFyZ2V0PWZ1bmN0aW9uKGUpe3JldHVybiBlLmlzQ3ViZT90aGlzLl9nbC5URVhUVVJFX0NVQkVfTUFQOmUuaXMzRD90aGlzLl9nbC5URVhUVVJFXzNEOmUuaXMyREFycmF5fHxlLmlzTXVsdGl2aWV3P3RoaXMuX2dsLlRFWFRVUkVfMkRfQVJSQVk6dGhpcy5fZ2wuVEVYVFVSRV8yRH0saS5wcm90b3R5cGUudXBkYXRlVGV4dHVyZVNhbXBsaW5nTW9kZT1mdW5jdGlvbihlLHQscil7cj09PXZvaWQgMCYmKHI9ITEpO3ZhciBuPXRoaXMuX2dldFRleHR1cmVUYXJnZXQodCksYT10aGlzLl9nZXRTYW1wbGluZ1BhcmFtZXRlcnMoZSx0LmdlbmVyYXRlTWlwTWFwc3x8cik7dGhpcy5fc2V0VGV4dHVyZVBhcmFtZXRlckludGVnZXIobix0aGlzLl9nbC5URVhUVVJFX01BR19GSUxURVIsYS5tYWcsdCksdGhpcy5fc2V0VGV4dHVyZVBhcmFtZXRlckludGVnZXIobix0aGlzLl9nbC5URVhUVVJFX01JTl9GSUxURVIsYS5taW4pLHImJih0LmdlbmVyYXRlTWlwTWFwcz0hMCx0aGlzLl9nbC5nZW5lcmF0ZU1pcG1hcChuKSksdGhpcy5fYmluZFRleHR1cmVEaXJlY3RseShuLG51bGwpLHQuc2FtcGxpbmdNb2RlPWV9LGkucHJvdG90eXBlLnVwZGF0ZVRleHR1cmVEaW1lbnNpb25zPWZ1bmN0aW9uKGUsdCxyLG4pe30saS5wcm90b3R5cGUudXBkYXRlVGV4dHVyZVdyYXBwaW5nTW9kZT1mdW5jdGlvbihlLHQscixuKXtyPT09dm9pZCAwJiYocj1udWxsKSxuPT09dm9pZCAwJiYobj1udWxsKTt2YXIgYT10aGlzLl9nZXRUZXh0dXJlVGFyZ2V0KGUpO3QhPT1udWxsJiYodGhpcy5fc2V0VGV4dHVyZVBhcmFtZXRlckludGVnZXIoYSx0aGlzLl9nbC5URVhUVVJFX1dSQVBfUyx0aGlzLl9nZXRUZXh0dXJlV3JhcE1vZGUodCksZSksZS5fY2FjaGVkV3JhcFU9dCksciE9PW51bGwmJih0aGlzLl9zZXRUZXh0dXJlUGFyYW1ldGVySW50ZWdlcihhLHRoaXMuX2dsLlRFWFRVUkVfV1JBUF9ULHRoaXMuX2dldFRleHR1cmVXcmFwTW9kZShyKSxlKSxlLl9jYWNoZWRXcmFwVj1yKSwoZS5pczJEQXJyYXl8fGUuaXMzRCkmJm4hPT1udWxsJiYodGhpcy5fc2V0VGV4dHVyZVBhcmFtZXRlckludGVnZXIoYSx0aGlzLl9nbC5URVhUVVJFX1dSQVBfUix0aGlzLl9nZXRUZXh0dXJlV3JhcE1vZGUobiksZSksZS5fY2FjaGVkV3JhcFI9biksdGhpcy5fYmluZFRleHR1cmVEaXJlY3RseShhLG51bGwpfSxpLnByb3RvdHlwZS5fc2V0dXBEZXB0aFN0ZW5jaWxUZXh0dXJlPWZ1bmN0aW9uKGUsdCxyLG4sYSxzKXtzPT09dm9pZCAwJiYocz0xKTt2YXIgbz10LndpZHRofHx0LHU9dC5oZWlnaHR8fHQsZj10LmxheWVyc3x8MDtlLmJhc2VXaWR0aD1vLGUuYmFzZUhlaWdodD11LGUud2lkdGg9byxlLmhlaWdodD11LGUuaXMyREFycmF5PWY+MCxlLmRlcHRoPWYsZS5pc1JlYWR5PSEwLGUuc2FtcGxlcz1zLGUuZ2VuZXJhdGVNaXBNYXBzPSExLGUuc2FtcGxpbmdNb2RlPW4/MjoxLGUudHlwZT0wLGUuX2NvbXBhcmlzb25GdW5jdGlvbj1hO3ZhciBsPXRoaXMuX2dsLGg9dGhpcy5fZ2V0VGV4dHVyZVRhcmdldChlKSxjPXRoaXMuX2dldFNhbXBsaW5nUGFyYW1ldGVycyhlLnNhbXBsaW5nTW9kZSwhMSk7bC50ZXhQYXJhbWV0ZXJpKGgsbC5URVhUVVJFX01BR19GSUxURVIsYy5tYWcpLGwudGV4UGFyYW1ldGVyaShoLGwuVEVYVFVSRV9NSU5fRklMVEVSLGMubWluKSxsLnRleFBhcmFtZXRlcmkoaCxsLlRFWFRVUkVfV1JBUF9TLGwuQ0xBTVBfVE9fRURHRSksbC50ZXhQYXJhbWV0ZXJpKGgsbC5URVhUVVJFX1dSQVBfVCxsLkNMQU1QX1RPX0VER0UpLGE9PT0wPyhsLnRleFBhcmFtZXRlcmkoaCxsLlRFWFRVUkVfQ09NUEFSRV9GVU5DLDUxNSksbC50ZXhQYXJhbWV0ZXJpKGgsbC5URVhUVVJFX0NPTVBBUkVfTU9ERSxsLk5PTkUpKToobC50ZXhQYXJhbWV0ZXJpKGgsbC5URVhUVVJFX0NPTVBBUkVfRlVOQyxhKSxsLnRleFBhcmFtZXRlcmkoaCxsLlRFWFRVUkVfQ09NUEFSRV9NT0RFLGwuQ09NUEFSRV9SRUZfVE9fVEVYVFVSRSkpfSxpLnByb3RvdHlwZS5fdXBsb2FkQ29tcHJlc3NlZERhdGFUb1RleHR1cmVEaXJlY3RseT1mdW5jdGlvbihlLHQscixuLGEscyxvKXtzPT09dm9pZCAwJiYocz0wKSxvPT09dm9pZCAwJiYobz0wKTt2YXIgdT10aGlzLl9nbCxmPXUuVEVYVFVSRV8yRDtpZihlLmlzQ3ViZSYmKGY9dS5URVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1grcyksZS5fdXNlU1JHQkJ1ZmZlcilzd2l0Y2godCl7Y2FzZSAzNzQ5MjpjYXNlIDM2MTk2OnRoaXMuX2NhcHMuZXRjMj90PXUuQ09NUFJFU1NFRF9TUkdCOF9FVEMyOmUuX3VzZVNSR0JCdWZmZXI9ITE7YnJlYWs7Y2FzZSAzNzQ5Njp0aGlzLl9jYXBzLmV0YzI/dD11LkNPTVBSRVNTRURfU1JHQjhfQUxQSEE4X0VUQzJfRUFDOmUuX3VzZVNSR0JCdWZmZXI9ITE7YnJlYWs7Y2FzZSAzNjQ5Mjp0PXUuQ09NUFJFU1NFRF9TUkdCX0FMUEhBX0JQVENfVU5PUk1fRVhUO2JyZWFrO2Nhc2UgMzc4MDg6dD11LkNPTVBSRVNTRURfU1JHQjhfQUxQSEE4X0FTVENfNHg0X0tIUjticmVhaztjYXNlIDMzNzc2OnRoaXMuX2NhcHMuczN0Y19zcmdiP3Q9dS5DT01QUkVTU0VEX1NSR0JfUzNUQ19EWFQxX0VYVDplLl91c2VTUkdCQnVmZmVyPSExO2JyZWFrO2Nhc2UgMzM3Nzc6dGhpcy5fY2Fwcy5zM3RjX3NyZ2I/dD11LkNPTVBSRVNTRURfU1JHQl9BTFBIQV9TM1RDX0RYVDFfRVhUOmUuX3VzZVNSR0JCdWZmZXI9ITE7YnJlYWs7Y2FzZSAzMzc3OTp0aGlzLl9jYXBzLnMzdGNfc3JnYj90PXUuQ09NUFJFU1NFRF9TUkdCX0FMUEhBX1MzVENfRFhUNV9FWFQ6ZS5fdXNlU1JHQkJ1ZmZlcj0hMTticmVhaztkZWZhdWx0OmUuX3VzZVNSR0JCdWZmZXI9ITE7YnJlYWt9dGhpcy5fZ2wuY29tcHJlc3NlZFRleEltYWdlMkQoZixvLHQscixuLDAsYSl9LGkucHJvdG90eXBlLl91cGxvYWREYXRhVG9UZXh0dXJlRGlyZWN0bHk9ZnVuY3Rpb24oZSx0LHIsbixhLHMpe3I9PT12b2lkIDAmJihyPTApLG49PT12b2lkIDAmJihuPTApLHM9PT12b2lkIDAmJihzPSExKTt2YXIgbz10aGlzLl9nbCx1PXRoaXMuX2dldFdlYkdMVGV4dHVyZVR5cGUoZS50eXBlKSxmPXRoaXMuX2dldEludGVybmFsRm9ybWF0KGUuZm9ybWF0KSxsPWE9PT12b2lkIDA/dGhpcy5fZ2V0UkdCQUJ1ZmZlckludGVybmFsU2l6ZWRGb3JtYXQoZS50eXBlLGUuZm9ybWF0LGUuX3VzZVNSR0JCdWZmZXIpOnRoaXMuX2dldEludGVybmFsRm9ybWF0KGEsZS5fdXNlU1JHQkJ1ZmZlcik7dGhpcy5fdW5wYWNrRmxpcFkoZS5pbnZlcnRZKTt2YXIgaD1vLlRFWFRVUkVfMkQ7ZS5pc0N1YmUmJihoPW8uVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9YK3IpO3ZhciBjPU1hdGgucm91bmQoTWF0aC5sb2coZS53aWR0aCkqTWF0aC5MT0cyRSksZD1NYXRoLnJvdW5kKE1hdGgubG9nKGUuaGVpZ2h0KSpNYXRoLkxPRzJFKSxwPXM/ZS53aWR0aDpNYXRoLnBvdygyLE1hdGgubWF4KGMtbiwwKSksZz1zP2UuaGVpZ2h0Ok1hdGgucG93KDIsTWF0aC5tYXgoZC1uLDApKTtvLnRleEltYWdlMkQoaCxuLGwscCxnLDAsZix1LHQpfSxpLnByb3RvdHlwZS51cGRhdGVUZXh0dXJlRGF0YT1mdW5jdGlvbihlLHQscixuLGEscyxvLHUsZil7bz09PXZvaWQgMCYmKG89MCksdT09PXZvaWQgMCYmKHU9MCksZj09PXZvaWQgMCYmKGY9ITEpO3ZhciBsPXRoaXMuX2dsLGg9dGhpcy5fZ2V0V2ViR0xUZXh0dXJlVHlwZShlLnR5cGUpLGM9dGhpcy5fZ2V0SW50ZXJuYWxGb3JtYXQoZS5mb3JtYXQpO3RoaXMuX3VucGFja0ZsaXBZKGUuaW52ZXJ0WSk7dmFyIGQ9bC5URVhUVVJFXzJEO2UuaXNDdWJlJiYoZD1sLlRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWCtvKSx0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KGQsZSwhMCksbC50ZXhTdWJJbWFnZTJEKGQsdSxyLG4sYSxzLGMsaCx0KSxmJiZ0aGlzLl9nbC5nZW5lcmF0ZU1pcG1hcChkKSx0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KGQsbnVsbCl9LGkucHJvdG90eXBlLl91cGxvYWRBcnJheUJ1ZmZlclZpZXdUb1RleHR1cmU9ZnVuY3Rpb24oZSx0LHIsbil7cj09PXZvaWQgMCYmKHI9MCksbj09PXZvaWQgMCYmKG49MCk7dmFyIGE9dGhpcy5fZ2wscz1lLmlzQ3ViZT9hLlRFWFRVUkVfQ1VCRV9NQVA6YS5URVhUVVJFXzJEO3RoaXMuX2JpbmRUZXh0dXJlRGlyZWN0bHkocyxlLCEwKSx0aGlzLl91cGxvYWREYXRhVG9UZXh0dXJlRGlyZWN0bHkoZSx0LHIsbiksdGhpcy5fYmluZFRleHR1cmVEaXJlY3RseShzLG51bGwsITApfSxpLnByb3RvdHlwZS5fcHJlcGFyZVdlYkdMVGV4dHVyZUNvbnRpbnVhdGlvbj1mdW5jdGlvbihlLHQscixuLGEpe3ZhciBzPXRoaXMuX2dsO2lmKCEhcyl7dmFyIG89dGhpcy5fZ2V0U2FtcGxpbmdQYXJhbWV0ZXJzKGEsIXIpO3MudGV4UGFyYW1ldGVyaShzLlRFWFRVUkVfMkQscy5URVhUVVJFX01BR19GSUxURVIsby5tYWcpLHMudGV4UGFyYW1ldGVyaShzLlRFWFRVUkVfMkQscy5URVhUVVJFX01JTl9GSUxURVIsby5taW4pLCFyJiYhbiYmcy5nZW5lcmF0ZU1pcG1hcChzLlRFWFRVUkVfMkQpLHRoaXMuX2JpbmRUZXh0dXJlRGlyZWN0bHkocy5URVhUVVJFXzJELG51bGwpLHQmJnQuX3JlbW92ZVBlbmRpbmdEYXRhKGUpLGUub25Mb2FkZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhlKSxlLm9uTG9hZGVkT2JzZXJ2YWJsZS5jbGVhcigpfX0saS5wcm90b3R5cGUuX3ByZXBhcmVXZWJHTFRleHR1cmU9ZnVuY3Rpb24oZSx0LHIsbixhLHMsbyx1LGYpe3ZhciBsPXRoaXM7Zj09PXZvaWQgMCYmKGY9Myk7dmFyIGg9dGhpcy5nZXRDYXBzKCkubWF4VGV4dHVyZVNpemUsYz1NYXRoLm1pbihoLHRoaXMubmVlZFBPVFRleHR1cmVzP2kuR2V0RXhwb25lbnRPZlR3byhuLndpZHRoLGgpOm4ud2lkdGgpLGQ9TWF0aC5taW4oaCx0aGlzLm5lZWRQT1RUZXh0dXJlcz9pLkdldEV4cG9uZW50T2ZUd28obi5oZWlnaHQsaCk6bi5oZWlnaHQpLHA9dGhpcy5fZ2w7aWYoISFwKXtpZighZS5faGFyZHdhcmVUZXh0dXJlKXtyJiZyLl9yZW1vdmVQZW5kaW5nRGF0YShlKTtyZXR1cm59dGhpcy5fYmluZFRleHR1cmVEaXJlY3RseShwLlRFWFRVUkVfMkQsZSwhMCksdGhpcy5fdW5wYWNrRmxpcFkoYT09PXZvaWQgMD8hMDohIWEpLGUuYmFzZVdpZHRoPW4ud2lkdGgsZS5iYXNlSGVpZ2h0PW4uaGVpZ2h0LGUud2lkdGg9YyxlLmhlaWdodD1kLGUuaXNSZWFkeT0hMCwhdShjLGQsbix0LGUsZnVuY3Rpb24oKXtsLl9wcmVwYXJlV2ViR0xUZXh0dXJlQ29udGludWF0aW9uKGUscixzLG8sZil9KSYmdGhpcy5fcHJlcGFyZVdlYkdMVGV4dHVyZUNvbnRpbnVhdGlvbihlLHIscyxvLGYpfX0saS5wcm90b3R5cGUuX3NldHVwRnJhbWVidWZmZXJEZXB0aEF0dGFjaG1lbnRzPWZ1bmN0aW9uKGUsdCxyLG4sYSl7YT09PXZvaWQgMCYmKGE9MSk7dmFyIHM9dGhpcy5fZ2w7aWYoZSYmdClyZXR1cm4gdGhpcy5fY3JlYXRlUmVuZGVyQnVmZmVyKHIsbixhLHMuREVQVEhfU1RFTkNJTCxzLkRFUFRIMjRfU1RFTkNJTDgscy5ERVBUSF9TVEVOQ0lMX0FUVEFDSE1FTlQpO2lmKHQpe3ZhciBvPXMuREVQVEhfQ09NUE9ORU5UMTY7cmV0dXJuIHRoaXMuX3dlYkdMVmVyc2lvbj4xJiYobz1zLkRFUFRIX0NPTVBPTkVOVDMyRiksdGhpcy5fY3JlYXRlUmVuZGVyQnVmZmVyKHIsbixhLG8sbyxzLkRFUFRIX0FUVEFDSE1FTlQpfXJldHVybiBlP3RoaXMuX2NyZWF0ZVJlbmRlckJ1ZmZlcihyLG4sYSxzLlNURU5DSUxfSU5ERVg4LHMuU1RFTkNJTF9JTkRFWDgscy5TVEVOQ0lMX0FUVEFDSE1FTlQpOm51bGx9LGkucHJvdG90eXBlLl9jcmVhdGVSZW5kZXJCdWZmZXI9ZnVuY3Rpb24oZSx0LHIsbixhLHMsbyl7bz09PXZvaWQgMCYmKG89ITApO3ZhciB1PXRoaXMuX2dsLGY9dS5jcmVhdGVSZW5kZXJidWZmZXIoKTtyZXR1cm4gdS5iaW5kUmVuZGVyYnVmZmVyKHUuUkVOREVSQlVGRkVSLGYpLHI+MSYmdS5yZW5kZXJidWZmZXJTdG9yYWdlTXVsdGlzYW1wbGU/dS5yZW5kZXJidWZmZXJTdG9yYWdlTXVsdGlzYW1wbGUodS5SRU5ERVJCVUZGRVIscixhLGUsdCk6dS5yZW5kZXJidWZmZXJTdG9yYWdlKHUuUkVOREVSQlVGRkVSLG4sZSx0KSx1LmZyYW1lYnVmZmVyUmVuZGVyYnVmZmVyKHUuRlJBTUVCVUZGRVIscyx1LlJFTkRFUkJVRkZFUixmKSxvJiZ1LmJpbmRSZW5kZXJidWZmZXIodS5SRU5ERVJCVUZGRVIsbnVsbCksZn0saS5wcm90b3R5cGUuX3JlbGVhc2VUZXh0dXJlPWZ1bmN0aW9uKGUpe3ZhciB0O3RoaXMuX2RlbGV0ZVRleHR1cmUoKHQ9ZS5faGFyZHdhcmVUZXh0dXJlKT09PW51bGx8fHQ9PT12b2lkIDA/dm9pZCAwOnQudW5kZXJseWluZ1Jlc291cmNlKSx0aGlzLnVuYmluZEFsbFRleHR1cmVzKCk7dmFyIHI9dGhpcy5faW50ZXJuYWxUZXh0dXJlc0NhY2hlLmluZGV4T2YoZSk7ciE9PS0xJiZ0aGlzLl9pbnRlcm5hbFRleHR1cmVzQ2FjaGUuc3BsaWNlKHIsMSksZS5fbG9kVGV4dHVyZUhpZ2gmJmUuX2xvZFRleHR1cmVIaWdoLmRpc3Bvc2UoKSxlLl9sb2RUZXh0dXJlTWlkJiZlLl9sb2RUZXh0dXJlTWlkLmRpc3Bvc2UoKSxlLl9sb2RUZXh0dXJlTG93JiZlLl9sb2RUZXh0dXJlTG93LmRpc3Bvc2UoKSxlLl9pcnJhZGlhbmNlVGV4dHVyZSYmZS5faXJyYWRpYW5jZVRleHR1cmUuZGlzcG9zZSgpfSxpLnByb3RvdHlwZS5fcmVsZWFzZVJlbmRlclRhcmdldFdyYXBwZXI9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fcmVuZGVyVGFyZ2V0V3JhcHBlckNhY2hlLmluZGV4T2YoZSk7dCE9PS0xJiZ0aGlzLl9yZW5kZXJUYXJnZXRXcmFwcGVyQ2FjaGUuc3BsaWNlKHQsMSl9LGkucHJvdG90eXBlLl9kZWxldGVUZXh0dXJlPWZ1bmN0aW9uKGUpe2UmJnRoaXMuX2dsLmRlbGV0ZVRleHR1cmUoZSl9LGkucHJvdG90eXBlLl9zZXRQcm9ncmFtPWZ1bmN0aW9uKGUpe3RoaXMuX2N1cnJlbnRQcm9ncmFtIT09ZSYmKHRoaXMuX2dsLnVzZVByb2dyYW0oZSksdGhpcy5fY3VycmVudFByb2dyYW09ZSl9LGkucHJvdG90eXBlLmJpbmRTYW1wbGVycz1mdW5jdGlvbihlKXt2YXIgdD1lLmdldFBpcGVsaW5lQ29udGV4dCgpO3RoaXMuX3NldFByb2dyYW0odC5wcm9ncmFtKTtmb3IodmFyIHI9ZS5nZXRTYW1wbGVycygpLG49MDtuPHIubGVuZ3RoO24rKyl7dmFyIGE9ZS5nZXRVbmlmb3JtKHJbbl0pO2EmJih0aGlzLl9ib3VuZFVuaWZvcm1zW25dPWEpfXRoaXMuX2N1cnJlbnRFZmZlY3Q9bnVsbH0saS5wcm90b3R5cGUuX2FjdGl2YXRlQ3VycmVudFRleHR1cmU9ZnVuY3Rpb24oKXt0aGlzLl9jdXJyZW50VGV4dHVyZUNoYW5uZWwhPT10aGlzLl9hY3RpdmVDaGFubmVsJiYodGhpcy5fZ2wuYWN0aXZlVGV4dHVyZSh0aGlzLl9nbC5URVhUVVJFMCt0aGlzLl9hY3RpdmVDaGFubmVsKSx0aGlzLl9jdXJyZW50VGV4dHVyZUNoYW5uZWw9dGhpcy5fYWN0aXZlQ2hhbm5lbCl9LGkucHJvdG90eXBlLl9iaW5kVGV4dHVyZURpcmVjdGx5PWZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBhLHM7cj09PXZvaWQgMCYmKHI9ITEpLG49PT12b2lkIDAmJihuPSExKTt2YXIgbz0hMSx1PXQmJnQuX2Fzc29jaWF0ZWRDaGFubmVsPi0xO3ImJnUmJih0aGlzLl9hY3RpdmVDaGFubmVsPXQuX2Fzc29jaWF0ZWRDaGFubmVsKTt2YXIgZj10aGlzLl9ib3VuZFRleHR1cmVzQ2FjaGVbdGhpcy5fYWN0aXZlQ2hhbm5lbF07aWYoZiE9PXR8fG4pe2lmKHRoaXMuX2FjdGl2YXRlQ3VycmVudFRleHR1cmUoKSx0JiZ0LmlzTXVsdGl2aWV3KXRocm93IGNvbnNvbGUuZXJyb3IoZSx0KSwiX2JpbmRUZXh0dXJlRGlyZWN0bHkgY2FsbGVkIHdpdGggYSBtdWx0aXZpZXcgdGV4dHVyZSEiO3RoaXMuX2dsLmJpbmRUZXh0dXJlKGUsKHM9KGE9dD09bnVsbD92b2lkIDA6dC5faGFyZHdhcmVUZXh0dXJlKT09PW51bGx8fGE9PT12b2lkIDA/dm9pZCAwOmEudW5kZXJseWluZ1Jlc291cmNlKSE9PW51bGwmJnMhPT12b2lkIDA/czpudWxsKSx0aGlzLl9ib3VuZFRleHR1cmVzQ2FjaGVbdGhpcy5fYWN0aXZlQ2hhbm5lbF09dCx0JiYodC5fYXNzb2NpYXRlZENoYW5uZWw9dGhpcy5fYWN0aXZlQ2hhbm5lbCl9ZWxzZSByJiYobz0hMCx0aGlzLl9hY3RpdmF0ZUN1cnJlbnRUZXh0dXJlKCkpO3JldHVybiB1JiYhciYmdGhpcy5fYmluZFNhbXBsZXJVbmlmb3JtVG9DaGFubmVsKHQuX2Fzc29jaWF0ZWRDaGFubmVsLHRoaXMuX2FjdGl2ZUNoYW5uZWwpLG99LGkucHJvdG90eXBlLl9iaW5kVGV4dHVyZT1mdW5jdGlvbihlLHQscil7aWYoZSE9PXZvaWQgMCl7dCYmKHQuX2Fzc29jaWF0ZWRDaGFubmVsPWUpLHRoaXMuX2FjdGl2ZUNoYW5uZWw9ZTt2YXIgbj10P3RoaXMuX2dldFRleHR1cmVUYXJnZXQodCk6dGhpcy5fZ2wuVEVYVFVSRV8yRDt0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KG4sdCl9fSxpLnByb3RvdHlwZS51bmJpbmRBbGxUZXh0dXJlcz1mdW5jdGlvbigpe2Zvcih2YXIgZT0wO2U8dGhpcy5fbWF4U2ltdWx0YW5lb3VzVGV4dHVyZXM7ZSsrKXRoaXMuX2FjdGl2ZUNoYW5uZWw9ZSx0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KHRoaXMuX2dsLlRFWFRVUkVfMkQsbnVsbCksdGhpcy5fYmluZFRleHR1cmVEaXJlY3RseSh0aGlzLl9nbC5URVhUVVJFX0NVQkVfTUFQLG51bGwpLHRoaXMud2ViR0xWZXJzaW9uPjEmJih0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KHRoaXMuX2dsLlRFWFRVUkVfM0QsbnVsbCksdGhpcy5fYmluZFRleHR1cmVEaXJlY3RseSh0aGlzLl9nbC5URVhUVVJFXzJEX0FSUkFZLG51bGwpKX0saS5wcm90b3R5cGUuc2V0VGV4dHVyZT1mdW5jdGlvbihlLHQscixuKXtlIT09dm9pZCAwJiYodCYmKHRoaXMuX2JvdW5kVW5pZm9ybXNbZV09dCksdGhpcy5fc2V0VGV4dHVyZShlLHIpKX0saS5wcm90b3R5cGUuX2JpbmRTYW1wbGVyVW5pZm9ybVRvQ2hhbm5lbD1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXMuX2JvdW5kVW5pZm9ybXNbZV07IXJ8fHIuX2N1cnJlbnRTdGF0ZT09PXR8fCh0aGlzLl9nbC51bmlmb3JtMWkocix0KSxyLl9jdXJyZW50U3RhdGU9dCl9LGkucHJvdG90eXBlLl9nZXRUZXh0dXJlV3JhcE1vZGU9ZnVuY3Rpb24oZSl7c3dpdGNoKGUpe2Nhc2UgMTpyZXR1cm4gdGhpcy5fZ2wuUkVQRUFUO2Nhc2UgMDpyZXR1cm4gdGhpcy5fZ2wuQ0xBTVBfVE9fRURHRTtjYXNlIDI6cmV0dXJuIHRoaXMuX2dsLk1JUlJPUkVEX1JFUEVBVH1yZXR1cm4gdGhpcy5fZ2wuUkVQRUFUfSxpLnByb3RvdHlwZS5fc2V0VGV4dHVyZT1mdW5jdGlvbihlLHQscixuLGEpe2lmKHI9PT12b2lkIDAmJihyPSExKSxuPT09dm9pZCAwJiYobj0hMSksIXQpcmV0dXJuIHRoaXMuX2JvdW5kVGV4dHVyZXNDYWNoZVtlXSE9bnVsbCYmKHRoaXMuX2FjdGl2ZUNoYW5uZWw9ZSx0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KHRoaXMuX2dsLlRFWFRVUkVfMkQsbnVsbCksdGhpcy5fYmluZFRleHR1cmVEaXJlY3RseSh0aGlzLl9nbC5URVhUVVJFX0NVQkVfTUFQLG51bGwpLHRoaXMud2ViR0xWZXJzaW9uPjEmJih0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KHRoaXMuX2dsLlRFWFRVUkVfM0QsbnVsbCksdGhpcy5fYmluZFRleHR1cmVEaXJlY3RseSh0aGlzLl9nbC5URVhUVVJFXzJEX0FSUkFZLG51bGwpKSksITE7aWYodC52aWRlbyl0aGlzLl9hY3RpdmVDaGFubmVsPWUsdC51cGRhdGUoKTtlbHNlIGlmKHQuZGVsYXlMb2FkU3RhdGU9PT00KXJldHVybiB0LmRlbGF5TG9hZCgpLCExO3ZhciBzO24/cz10LmRlcHRoU3RlbmNpbFRleHR1cmU6dC5pc1JlYWR5KCk/cz10LmdldEludGVybmFsVGV4dHVyZSgpOnQuaXNDdWJlP3M9dGhpcy5lbXB0eUN1YmVUZXh0dXJlOnQuaXMzRD9zPXRoaXMuZW1wdHlUZXh0dXJlM0Q6dC5pczJEQXJyYXk/cz10aGlzLmVtcHR5VGV4dHVyZTJEQXJyYXk6cz10aGlzLmVtcHR5VGV4dHVyZSwhciYmcyYmKHMuX2Fzc29jaWF0ZWRDaGFubmVsPWUpO3ZhciBvPSEwO3RoaXMuX2JvdW5kVGV4dHVyZXNDYWNoZVtlXT09PXMmJihyfHx0aGlzLl9iaW5kU2FtcGxlclVuaWZvcm1Ub0NoYW5uZWwocy5fYXNzb2NpYXRlZENoYW5uZWwsZSksbz0hMSksdGhpcy5fYWN0aXZlQ2hhbm5lbD1lO3ZhciB1PXRoaXMuX2dldFRleHR1cmVUYXJnZXQocyk7aWYobyYmdGhpcy5fYmluZFRleHR1cmVEaXJlY3RseSh1LHMscikscyYmIXMuaXNNdWx0aXZpZXcpe2lmKHMuaXNDdWJlJiZzLl9jYWNoZWRDb29yZGluYXRlc01vZGUhPT10LmNvb3JkaW5hdGVzTW9kZSl7cy5fY2FjaGVkQ29vcmRpbmF0ZXNNb2RlPXQuY29vcmRpbmF0ZXNNb2RlO3ZhciBmPXQuY29vcmRpbmF0ZXNNb2RlIT09MyYmdC5jb29yZGluYXRlc01vZGUhPT01PzE6MDt0LndyYXBVPWYsdC53cmFwVj1mfXMuX2NhY2hlZFdyYXBVIT09dC53cmFwVSYmKHMuX2NhY2hlZFdyYXBVPXQud3JhcFUsdGhpcy5fc2V0VGV4dHVyZVBhcmFtZXRlckludGVnZXIodSx0aGlzLl9nbC5URVhUVVJFX1dSQVBfUyx0aGlzLl9nZXRUZXh0dXJlV3JhcE1vZGUodC53cmFwVSkscykpLHMuX2NhY2hlZFdyYXBWIT09dC53cmFwViYmKHMuX2NhY2hlZFdyYXBWPXQud3JhcFYsdGhpcy5fc2V0VGV4dHVyZVBhcmFtZXRlckludGVnZXIodSx0aGlzLl9nbC5URVhUVVJFX1dSQVBfVCx0aGlzLl9nZXRUZXh0dXJlV3JhcE1vZGUodC53cmFwVikscykpLHMuaXMzRCYmcy5fY2FjaGVkV3JhcFIhPT10LndyYXBSJiYocy5fY2FjaGVkV3JhcFI9dC53cmFwUix0aGlzLl9zZXRUZXh0dXJlUGFyYW1ldGVySW50ZWdlcih1LHRoaXMuX2dsLlRFWFRVUkVfV1JBUF9SLHRoaXMuX2dldFRleHR1cmVXcmFwTW9kZSh0LndyYXBSKSxzKSksdGhpcy5fc2V0QW5pc290cm9waWNMZXZlbCh1LHMsdC5hbmlzb3Ryb3BpY0ZpbHRlcmluZ0xldmVsKX1yZXR1cm4hMH0saS5wcm90b3R5cGUuc2V0VGV4dHVyZUFycmF5PWZ1bmN0aW9uKGUsdCxyLG4pe2lmKCEoZT09PXZvaWQgMHx8IXQpKXsoIXRoaXMuX3RleHR1cmVVbml0c3x8dGhpcy5fdGV4dHVyZVVuaXRzLmxlbmd0aCE9PXIubGVuZ3RoKSYmKHRoaXMuX3RleHR1cmVVbml0cz1uZXcgSW50MzJBcnJheShyLmxlbmd0aCkpO2Zvcih2YXIgYT0wO2E8ci5sZW5ndGg7YSsrKXt2YXIgcz1yW2FdLmdldEludGVybmFsVGV4dHVyZSgpO3M/KHRoaXMuX3RleHR1cmVVbml0c1thXT1lK2Escy5fYXNzb2NpYXRlZENoYW5uZWw9ZSthKTp0aGlzLl90ZXh0dXJlVW5pdHNbYV09LTF9dGhpcy5fZ2wudW5pZm9ybTFpdih0LHRoaXMuX3RleHR1cmVVbml0cyk7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspdGhpcy5fc2V0VGV4dHVyZSh0aGlzLl90ZXh0dXJlVW5pdHNbb10scltvXSwhMCl9fSxpLnByb3RvdHlwZS5fc2V0QW5pc290cm9waWNMZXZlbD1mdW5jdGlvbihlLHQscil7dmFyIG49dGhpcy5fY2Fwcy50ZXh0dXJlQW5pc290cm9waWNGaWx0ZXJFeHRlbnNpb247dC5zYW1wbGluZ01vZGUhPT0xMSYmdC5zYW1wbGluZ01vZGUhPT0zJiZ0LnNhbXBsaW5nTW9kZSE9PTImJihyPTEpLG4mJnQuX2NhY2hlZEFuaXNvdHJvcGljRmlsdGVyaW5nTGV2ZWwhPT1yJiYodGhpcy5fc2V0VGV4dHVyZVBhcmFtZXRlckZsb2F0KGUsbi5URVhUVVJFX01BWF9BTklTT1RST1BZX0VYVCxNYXRoLm1pbihyLHRoaXMuX2NhcHMubWF4QW5pc290cm9weSksdCksdC5fY2FjaGVkQW5pc290cm9waWNGaWx0ZXJpbmdMZXZlbD1yKX0saS5wcm90b3R5cGUuX3NldFRleHR1cmVQYXJhbWV0ZXJGbG9hdD1mdW5jdGlvbihlLHQscixuKXt0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KGUsbiwhMCwhMCksdGhpcy5fZ2wudGV4UGFyYW1ldGVyZihlLHQscil9LGkucHJvdG90eXBlLl9zZXRUZXh0dXJlUGFyYW1ldGVySW50ZWdlcj1mdW5jdGlvbihlLHQscixuKXtuJiZ0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KGUsbiwhMCwhMCksdGhpcy5fZ2wudGV4UGFyYW1ldGVyaShlLHQscil9LGkucHJvdG90eXBlLnVuYmluZEFsbEF0dHJpYnV0ZXM9ZnVuY3Rpb24oKXtpZih0aGlzLl9tdXN0V2lwZVZlcnRleEF0dHJpYnV0ZXMpe3RoaXMuX211c3RXaXBlVmVydGV4QXR0cmlidXRlcz0hMTtmb3IodmFyIGU9MDtlPHRoaXMuX2NhcHMubWF4VmVydGV4QXR0cmlicztlKyspdGhpcy5kaXNhYmxlQXR0cmlidXRlQnlJbmRleChlKTtyZXR1cm59Zm9yKHZhciBlPTAsdD10aGlzLl92ZXJ0ZXhBdHRyaWJBcnJheXNFbmFibGVkLmxlbmd0aDtlPHQ7ZSsrKWU+PXRoaXMuX2NhcHMubWF4VmVydGV4QXR0cmlic3x8IXRoaXMuX3ZlcnRleEF0dHJpYkFycmF5c0VuYWJsZWRbZV18fHRoaXMuZGlzYWJsZUF0dHJpYnV0ZUJ5SW5kZXgoZSl9LGkucHJvdG90eXBlLnJlbGVhc2VFZmZlY3RzPWZ1bmN0aW9uKCl7Zm9yKHZhciBlIGluIHRoaXMuX2NvbXBpbGVkRWZmZWN0cyl7dmFyIHQ9dGhpcy5fY29tcGlsZWRFZmZlY3RzW2VdLmdldFBpcGVsaW5lQ29udGV4dCgpO3RoaXMuX2RlbGV0ZVBpcGVsaW5lQ29udGV4dCh0KX10aGlzLl9jb21waWxlZEVmZmVjdHM9e319LGkucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt2YXIgZTt0aGlzLnN0b3BSZW5kZXJMb29wKCksdGhpcy5vbkJlZm9yZVRleHR1cmVJbml0T2JzZXJ2YWJsZSYmdGhpcy5vbkJlZm9yZVRleHR1cmVJbml0T2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMuX2VtcHR5VGV4dHVyZSYmKHRoaXMuX3JlbGVhc2VUZXh0dXJlKHRoaXMuX2VtcHR5VGV4dHVyZSksdGhpcy5fZW1wdHlUZXh0dXJlPW51bGwpLHRoaXMuX2VtcHR5Q3ViZVRleHR1cmUmJih0aGlzLl9yZWxlYXNlVGV4dHVyZSh0aGlzLl9lbXB0eUN1YmVUZXh0dXJlKSx0aGlzLl9lbXB0eUN1YmVUZXh0dXJlPW51bGwpLHRoaXMuX2R1bW15RnJhbWVidWZmZXImJnRoaXMuX2dsLmRlbGV0ZUZyYW1lYnVmZmVyKHRoaXMuX2R1bW15RnJhbWVidWZmZXIpLHRoaXMucmVsZWFzZUVmZmVjdHMoKSwoZT10aGlzLnJlbGVhc2VDb21wdXRlRWZmZWN0cyk9PT1udWxsfHxlPT09dm9pZCAwfHxlLmNhbGwodGhpcyksdGhpcy51bmJpbmRBbGxBdHRyaWJ1dGVzKCksdGhpcy5fYm91bmRVbmlmb3Jtcz1bXSx5ZSgpJiZ0aGlzLl9yZW5kZXJpbmdDYW52YXMmJih0aGlzLl9kb05vdEhhbmRsZUNvbnRleHRMb3N0fHwodGhpcy5fcmVuZGVyaW5nQ2FudmFzLnJlbW92ZUV2ZW50TGlzdGVuZXIoIndlYmdsY29udGV4dGxvc3QiLHRoaXMuX29uQ29udGV4dExvc3QpLHRoaXMuX3JlbmRlcmluZ0NhbnZhcy5yZW1vdmVFdmVudExpc3RlbmVyKCJ3ZWJnbGNvbnRleHRyZXN0b3JlZCIsdGhpcy5fb25Db250ZXh0UmVzdG9yZWQpKSx3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigicmVzaXplIix0aGlzLl9jaGVja0Zvck1vYmlsZSkpLHRoaXMuX3dvcmtpbmdDYW52YXM9bnVsbCx0aGlzLl93b3JraW5nQ29udGV4dD1udWxsLHRoaXMuX2N1cnJlbnRCdWZmZXJQb2ludGVycz1bXSx0aGlzLl9yZW5kZXJpbmdDYW52YXM9bnVsbCx0aGlzLl9jdXJyZW50UHJvZ3JhbT1udWxsLHRoaXMuX2JvdW5kUmVuZGVyRnVuY3Rpb249bnVsbCxHZS5SZXNldENhY2hlKCk7Zm9yKHZhciB0PTAscj10aGlzLl9hY3RpdmVSZXF1ZXN0czt0PHIubGVuZ3RoO3QrKyl7dmFyIG49clt0XTtuLmFib3J0KCl9dGhpcy5vbkRpc3Bvc2VPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKSx0aGlzLm9uRGlzcG9zZU9ic2VydmFibGUuY2xlYXIoKX0saS5wcm90b3R5cGUuYXR0YWNoQ29udGV4dExvc3RFdmVudD1mdW5jdGlvbihlKXt0aGlzLl9yZW5kZXJpbmdDYW52YXMmJnRoaXMuX3JlbmRlcmluZ0NhbnZhcy5hZGRFdmVudExpc3RlbmVyKCJ3ZWJnbGNvbnRleHRsb3N0IixlLCExKX0saS5wcm90b3R5cGUuYXR0YWNoQ29udGV4dFJlc3RvcmVkRXZlbnQ9ZnVuY3Rpb24oZSl7dGhpcy5fcmVuZGVyaW5nQ2FudmFzJiZ0aGlzLl9yZW5kZXJpbmdDYW52YXMuYWRkRXZlbnRMaXN0ZW5lcigid2ViZ2xjb250ZXh0cmVzdG9yZWQiLGUsITEpfSxpLnByb3RvdHlwZS5nZXRFcnJvcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9nbC5nZXRFcnJvcigpfSxpLnByb3RvdHlwZS5fY2FuUmVuZGVyVG9GbG9hdEZyYW1lYnVmZmVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3dlYkdMVmVyc2lvbj4xP3RoaXMuX2NhcHMuY29sb3JCdWZmZXJGbG9hdDp0aGlzLl9jYW5SZW5kZXJUb0ZyYW1lYnVmZmVyKDEpfSxpLnByb3RvdHlwZS5fY2FuUmVuZGVyVG9IYWxmRmxvYXRGcmFtZWJ1ZmZlcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl93ZWJHTFZlcnNpb24+MT90aGlzLl9jYXBzLmNvbG9yQnVmZmVyRmxvYXQ6dGhpcy5fY2FuUmVuZGVyVG9GcmFtZWJ1ZmZlcigyKX0saS5wcm90b3R5cGUuX2NhblJlbmRlclRvRnJhbWVidWZmZXI9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXRoaXMuX2dsO3QuZ2V0RXJyb3IoKSE9PXQuTk9fRVJST1I7KTt2YXIgcj0hMCxuPXQuY3JlYXRlVGV4dHVyZSgpO3QuYmluZFRleHR1cmUodC5URVhUVVJFXzJELG4pLHQudGV4SW1hZ2UyRCh0LlRFWFRVUkVfMkQsMCx0aGlzLl9nZXRSR0JBQnVmZmVySW50ZXJuYWxTaXplZEZvcm1hdChlKSwxLDEsMCx0LlJHQkEsdGhpcy5fZ2V0V2ViR0xUZXh0dXJlVHlwZShlKSxudWxsKSx0LnRleFBhcmFtZXRlcmkodC5URVhUVVJFXzJELHQuVEVYVFVSRV9NSU5fRklMVEVSLHQuTkVBUkVTVCksdC50ZXhQYXJhbWV0ZXJpKHQuVEVYVFVSRV8yRCx0LlRFWFRVUkVfTUFHX0ZJTFRFUix0Lk5FQVJFU1QpO3ZhciBhPXQuY3JlYXRlRnJhbWVidWZmZXIoKTt0LmJpbmRGcmFtZWJ1ZmZlcih0LkZSQU1FQlVGRkVSLGEpLHQuZnJhbWVidWZmZXJUZXh0dXJlMkQodC5GUkFNRUJVRkZFUix0LkNPTE9SX0FUVEFDSE1FTlQwLHQuVEVYVFVSRV8yRCxuLDApO3ZhciBzPXQuY2hlY2tGcmFtZWJ1ZmZlclN0YXR1cyh0LkZSQU1FQlVGRkVSKTtpZihyPXImJnM9PT10LkZSQU1FQlVGRkVSX0NPTVBMRVRFLHI9ciYmdC5nZXRFcnJvcigpPT09dC5OT19FUlJPUixyJiYodC5jbGVhcih0LkNPTE9SX0JVRkZFUl9CSVQpLHI9ciYmdC5nZXRFcnJvcigpPT09dC5OT19FUlJPUikscil7dC5iaW5kRnJhbWVidWZmZXIodC5GUkFNRUJVRkZFUixudWxsKTt2YXIgbz10LlJHQkEsdT10LlVOU0lHTkVEX0JZVEUsZj1uZXcgVWludDhBcnJheSg0KTt0LnJlYWRQaXhlbHMoMCwwLDEsMSxvLHUsZikscj1yJiZ0LmdldEVycm9yKCk9PT10Lk5PX0VSUk9SfWZvcih0LmRlbGV0ZVRleHR1cmUobiksdC5kZWxldGVGcmFtZWJ1ZmZlcihhKSx0LmJpbmRGcmFtZWJ1ZmZlcih0LkZSQU1FQlVGRkVSLG51bGwpOyFyJiZ0LmdldEVycm9yKCkhPT10Lk5PX0VSUk9SOyk7cmV0dXJuIHJ9LGkucHJvdG90eXBlLl9nZXRXZWJHTFRleHR1cmVUeXBlPWZ1bmN0aW9uKGUpe2lmKHRoaXMuX3dlYkdMVmVyc2lvbj09PTEpe3N3aXRjaChlKXtjYXNlIDE6cmV0dXJuIHRoaXMuX2dsLkZMT0FUO2Nhc2UgMjpyZXR1cm4gdGhpcy5fZ2wuSEFMRl9GTE9BVF9PRVM7Y2FzZSAwOnJldHVybiB0aGlzLl9nbC5VTlNJR05FRF9CWVRFO2Nhc2UgODpyZXR1cm4gdGhpcy5fZ2wuVU5TSUdORURfU0hPUlRfNF80XzRfNDtjYXNlIDk6cmV0dXJuIHRoaXMuX2dsLlVOU0lHTkVEX1NIT1JUXzVfNV81XzE7Y2FzZSAxMDpyZXR1cm4gdGhpcy5fZ2wuVU5TSUdORURfU0hPUlRfNV82XzV9cmV0dXJuIHRoaXMuX2dsLlVOU0lHTkVEX0JZVEV9c3dpdGNoKGUpe2Nhc2UgMzpyZXR1cm4gdGhpcy5fZ2wuQllURTtjYXNlIDA6cmV0dXJuIHRoaXMuX2dsLlVOU0lHTkVEX0JZVEU7Y2FzZSA0OnJldHVybiB0aGlzLl9nbC5TSE9SVDtjYXNlIDU6cmV0dXJuIHRoaXMuX2dsLlVOU0lHTkVEX1NIT1JUO2Nhc2UgNjpyZXR1cm4gdGhpcy5fZ2wuSU5UO2Nhc2UgNzpyZXR1cm4gdGhpcy5fZ2wuVU5TSUdORURfSU5UO2Nhc2UgMTpyZXR1cm4gdGhpcy5fZ2wuRkxPQVQ7Y2FzZSAyOnJldHVybiB0aGlzLl9nbC5IQUxGX0ZMT0FUO2Nhc2UgODpyZXR1cm4gdGhpcy5fZ2wuVU5TSUdORURfU0hPUlRfNF80XzRfNDtjYXNlIDk6cmV0dXJuIHRoaXMuX2dsLlVOU0lHTkVEX1NIT1JUXzVfNV81XzE7Y2FzZSAxMDpyZXR1cm4gdGhpcy5fZ2wuVU5TSUdORURfU0hPUlRfNV82XzU7Y2FzZSAxMTpyZXR1cm4gdGhpcy5fZ2wuVU5TSUdORURfSU5UXzJfMTBfMTBfMTBfUkVWO2Nhc2UgMTI6cmV0dXJuIHRoaXMuX2dsLlVOU0lHTkVEX0lOVF8yNF84O2Nhc2UgMTM6cmV0dXJuIHRoaXMuX2dsLlVOU0lHTkVEX0lOVF8xMEZfMTFGXzExRl9SRVY7Y2FzZSAxNDpyZXR1cm4gdGhpcy5fZ2wuVU5TSUdORURfSU5UXzVfOV85XzlfUkVWO2Nhc2UgMTU6cmV0dXJuIHRoaXMuX2dsLkZMT0FUXzMyX1VOU0lHTkVEX0lOVF8yNF84X1JFVn1yZXR1cm4gdGhpcy5fZ2wuVU5TSUdORURfQllURX0saS5wcm90b3R5cGUuX2dldEludGVybmFsRm9ybWF0PWZ1bmN0aW9uKGUsdCl7dD09PXZvaWQgMCYmKHQ9ITEpO3ZhciByPXQ/dGhpcy5fZ2wuU1JHQjhfQUxQSEE4OnRoaXMuX2dsLlJHQkE7c3dpdGNoKGUpe2Nhc2UgMDpyPXRoaXMuX2dsLkFMUEhBO2JyZWFrO2Nhc2UgMTpyPXRoaXMuX2dsLkxVTUlOQU5DRTticmVhaztjYXNlIDI6cj10aGlzLl9nbC5MVU1JTkFOQ0VfQUxQSEE7YnJlYWs7Y2FzZSA2OnI9dGhpcy5fZ2wuUkVEO2JyZWFrO2Nhc2UgNzpyPXRoaXMuX2dsLlJHO2JyZWFrO2Nhc2UgNDpyPXQ/dGhpcy5fZ2wuU1JHQjp0aGlzLl9nbC5SR0I7YnJlYWs7Y2FzZSA1OnI9dD90aGlzLl9nbC5TUkdCOF9BTFBIQTg6dGhpcy5fZ2wuUkdCQTticmVha31pZih0aGlzLl93ZWJHTFZlcnNpb24+MSlzd2l0Y2goZSl7Y2FzZSA4OnI9dGhpcy5fZ2wuUkVEX0lOVEVHRVI7YnJlYWs7Y2FzZSA5OnI9dGhpcy5fZ2wuUkdfSU5URUdFUjticmVhaztjYXNlIDEwOnI9dGhpcy5fZ2wuUkdCX0lOVEVHRVI7YnJlYWs7Y2FzZSAxMTpyPXRoaXMuX2dsLlJHQkFfSU5URUdFUjticmVha31yZXR1cm4gcn0saS5wcm90b3R5cGUuX2dldFJHQkFCdWZmZXJJbnRlcm5hbFNpemVkRm9ybWF0PWZ1bmN0aW9uKGUsdCxyKXtpZihyPT09dm9pZCAwJiYocj0hMSksdGhpcy5fd2ViR0xWZXJzaW9uPT09MSl7aWYodCE9PXZvaWQgMClzd2l0Y2godCl7Y2FzZSAwOnJldHVybiB0aGlzLl9nbC5BTFBIQTtjYXNlIDE6cmV0dXJuIHRoaXMuX2dsLkxVTUlOQU5DRTtjYXNlIDI6cmV0dXJuIHRoaXMuX2dsLkxVTUlOQU5DRV9BTFBIQTtjYXNlIDQ6cmV0dXJuIHI/dGhpcy5fZ2wuU1JHQjp0aGlzLl9nbC5SR0J9cmV0dXJuIHRoaXMuX2dsLlJHQkF9c3dpdGNoKGUpe2Nhc2UgMzpzd2l0Y2godCl7Y2FzZSA2OnJldHVybiB0aGlzLl9nbC5SOF9TTk9STTtjYXNlIDc6cmV0dXJuIHRoaXMuX2dsLlJHOF9TTk9STTtjYXNlIDQ6cmV0dXJuIHRoaXMuX2dsLlJHQjhfU05PUk07Y2FzZSA4OnJldHVybiB0aGlzLl9nbC5SOEk7Y2FzZSA5OnJldHVybiB0aGlzLl9nbC5SRzhJO2Nhc2UgMTA6cmV0dXJuIHRoaXMuX2dsLlJHQjhJO2Nhc2UgMTE6cmV0dXJuIHRoaXMuX2dsLlJHQkE4STtkZWZhdWx0OnJldHVybiB0aGlzLl9nbC5SR0JBOF9TTk9STX1jYXNlIDA6c3dpdGNoKHQpe2Nhc2UgNjpyZXR1cm4gdGhpcy5fZ2wuUjg7Y2FzZSA3OnJldHVybiB0aGlzLl9nbC5SRzg7Y2FzZSA0OnJldHVybiByP3RoaXMuX2dsLlNSR0I4OnRoaXMuX2dsLlJHQjg7Y2FzZSA1OnJldHVybiByP3RoaXMuX2dsLlNSR0I4X0FMUEhBODp0aGlzLl9nbC5SR0JBODtjYXNlIDg6cmV0dXJuIHRoaXMuX2dsLlI4VUk7Y2FzZSA5OnJldHVybiB0aGlzLl9nbC5SRzhVSTtjYXNlIDEwOnJldHVybiB0aGlzLl9nbC5SR0I4VUk7Y2FzZSAxMTpyZXR1cm4gdGhpcy5fZ2wuUkdCQThVSTtjYXNlIDA6cmV0dXJuIHRoaXMuX2dsLkFMUEhBO2Nhc2UgMTpyZXR1cm4gdGhpcy5fZ2wuTFVNSU5BTkNFO2Nhc2UgMjpyZXR1cm4gdGhpcy5fZ2wuTFVNSU5BTkNFX0FMUEhBO2RlZmF1bHQ6cmV0dXJuIHRoaXMuX2dsLlJHQkE4fWNhc2UgNDpzd2l0Y2godCl7Y2FzZSA4OnJldHVybiB0aGlzLl9nbC5SMTZJO2Nhc2UgOTpyZXR1cm4gdGhpcy5fZ2wuUkcxNkk7Y2FzZSAxMDpyZXR1cm4gdGhpcy5fZ2wuUkdCMTZJO2Nhc2UgMTE6cmV0dXJuIHRoaXMuX2dsLlJHQkExNkk7ZGVmYXVsdDpyZXR1cm4gdGhpcy5fZ2wuUkdCQTE2SX1jYXNlIDU6c3dpdGNoKHQpe2Nhc2UgODpyZXR1cm4gdGhpcy5fZ2wuUjE2VUk7Y2FzZSA5OnJldHVybiB0aGlzLl9nbC5SRzE2VUk7Y2FzZSAxMDpyZXR1cm4gdGhpcy5fZ2wuUkdCMTZVSTtjYXNlIDExOnJldHVybiB0aGlzLl9nbC5SR0JBMTZVSTtkZWZhdWx0OnJldHVybiB0aGlzLl9nbC5SR0JBMTZVSX1jYXNlIDY6c3dpdGNoKHQpe2Nhc2UgODpyZXR1cm4gdGhpcy5fZ2wuUjMySTtjYXNlIDk6cmV0dXJuIHRoaXMuX2dsLlJHMzJJO2Nhc2UgMTA6cmV0dXJuIHRoaXMuX2dsLlJHQjMySTtjYXNlIDExOnJldHVybiB0aGlzLl9nbC5SR0JBMzJJO2RlZmF1bHQ6cmV0dXJuIHRoaXMuX2dsLlJHQkEzMkl9Y2FzZSA3OnN3aXRjaCh0KXtjYXNlIDg6cmV0dXJuIHRoaXMuX2dsLlIzMlVJO2Nhc2UgOTpyZXR1cm4gdGhpcy5fZ2wuUkczMlVJO2Nhc2UgMTA6cmV0dXJuIHRoaXMuX2dsLlJHQjMyVUk7Y2FzZSAxMTpyZXR1cm4gdGhpcy5fZ2wuUkdCQTMyVUk7ZGVmYXVsdDpyZXR1cm4gdGhpcy5fZ2wuUkdCQTMyVUl9Y2FzZSAxOnN3aXRjaCh0KXtjYXNlIDY6cmV0dXJuIHRoaXMuX2dsLlIzMkY7Y2FzZSA3OnJldHVybiB0aGlzLl9nbC5SRzMyRjtjYXNlIDQ6cmV0dXJuIHRoaXMuX2dsLlJHQjMyRjtjYXNlIDU6cmV0dXJuIHRoaXMuX2dsLlJHQkEzMkY7ZGVmYXVsdDpyZXR1cm4gdGhpcy5fZ2wuUkdCQTMyRn1jYXNlIDI6c3dpdGNoKHQpe2Nhc2UgNjpyZXR1cm4gdGhpcy5fZ2wuUjE2RjtjYXNlIDc6cmV0dXJuIHRoaXMuX2dsLlJHMTZGO2Nhc2UgNDpyZXR1cm4gdGhpcy5fZ2wuUkdCMTZGO2Nhc2UgNTpyZXR1cm4gdGhpcy5fZ2wuUkdCQTE2RjtkZWZhdWx0OnJldHVybiB0aGlzLl9nbC5SR0JBMTZGfWNhc2UgMTA6cmV0dXJuIHRoaXMuX2dsLlJHQjU2NTtjYXNlIDEzOnJldHVybiB0aGlzLl9nbC5SMTFGX0cxMUZfQjEwRjtjYXNlIDE0OnJldHVybiB0aGlzLl9nbC5SR0I5X0U1O2Nhc2UgODpyZXR1cm4gdGhpcy5fZ2wuUkdCQTQ7Y2FzZSA5OnJldHVybiB0aGlzLl9nbC5SR0I1X0ExO2Nhc2UgMTE6c3dpdGNoKHQpe2Nhc2UgNTpyZXR1cm4gdGhpcy5fZ2wuUkdCMTBfQTI7Y2FzZSAxMTpyZXR1cm4gdGhpcy5fZ2wuUkdCMTBfQTJVSTtkZWZhdWx0OnJldHVybiB0aGlzLl9nbC5SR0IxMF9BMn19cmV0dXJuIHI/dGhpcy5fZ2wuU1JHQjhfQUxQSEE4OnRoaXMuX2dsLlJHQkE4fSxpLnByb3RvdHlwZS5fZ2V0UkdCQU11bHRpU2FtcGxlQnVmZmVyRm9ybWF0PWZ1bmN0aW9uKGUpe3JldHVybiBlPT09MT90aGlzLl9nbC5SR0JBMzJGOmU9PT0yP3RoaXMuX2dsLlJHQkExNkY6dGhpcy5fZ2wuUkdCQTh9LGkucHJvdG90eXBlLl9sb2FkRmlsZT1mdW5jdGlvbihlLHQscixuLGEscyl7dmFyIG89dGhpcyx1PWkuX0ZpbGVUb29sc0xvYWRGaWxlKGUsdCxyLG4sYSxzKTtyZXR1cm4gdGhpcy5fYWN0aXZlUmVxdWVzdHMucHVzaCh1KSx1Lm9uQ29tcGxldGVPYnNlcnZhYmxlLmFkZChmdW5jdGlvbihmKXtvLl9hY3RpdmVSZXF1ZXN0cy5zcGxpY2Uoby5fYWN0aXZlUmVxdWVzdHMuaW5kZXhPZihmKSwxKX0pLHV9LGkuX0ZpbGVUb29sc0xvYWRGaWxlPWZ1bmN0aW9uKGUsdCxyLG4sYSxzKXt0aHJvdyBYKCJGaWxlVG9vbHMiKX0saS5wcm90b3R5cGUucmVhZFBpeGVscz1mdW5jdGlvbihlLHQscixuLGEscyl7YT09PXZvaWQgMCYmKGE9ITApLHM9PT12b2lkIDAmJihzPSEwKTt2YXIgbz1hPzQ6Myx1PWE/dGhpcy5fZ2wuUkdCQTp0aGlzLl9nbC5SR0IsZj1uZXcgVWludDhBcnJheShuKnIqbyk7cmV0dXJuIHMmJnRoaXMuZmx1c2hGcmFtZWJ1ZmZlcigpLHRoaXMuX2dsLnJlYWRQaXhlbHMoZSx0LHIsbix1LHRoaXMuX2dsLlVOU0lHTkVEX0JZVEUsZiksUHJvbWlzZS5yZXNvbHZlKGYpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSwiSXNTdXBwb3J0ZWRBc3luYyIse2dldDpmdW5jdGlvbigpe3JldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5pc1N1cHBvcnRlZCgpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSwiSXNTdXBwb3J0ZWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc1N1cHBvcnRlZCgpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkuaXNTdXBwb3J0ZWQ9ZnVuY3Rpb24oKXtpZih0aGlzLl9IYXNNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0IT09bnVsbClyZXR1cm4hdGhpcy5fSGFzTWFqb3JQZXJmb3JtYW5jZUNhdmVhdDtpZih0aGlzLl9Jc1N1cHBvcnRlZD09PW51bGwpdHJ5e3ZhciBlPXRoaXMuX0NyZWF0ZUNhbnZhcygxLDEpLHQ9ZS5nZXRDb250ZXh0KCJ3ZWJnbCIpfHxlLmdldENvbnRleHQoImV4cGVyaW1lbnRhbC13ZWJnbCIpO3RoaXMuX0lzU3VwcG9ydGVkPXQhPW51bGwmJiEhd2luZG93LldlYkdMUmVuZGVyaW5nQ29udGV4dH1jYXRjaHt0aGlzLl9Jc1N1cHBvcnRlZD0hMX1yZXR1cm4gdGhpcy5fSXNTdXBwb3J0ZWR9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLCJIYXNNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0Iix7Z2V0OmZ1bmN0aW9uKCl7aWYodGhpcy5fSGFzTWFqb3JQZXJmb3JtYW5jZUNhdmVhdD09PW51bGwpdHJ5e3ZhciBlPXRoaXMuX0NyZWF0ZUNhbnZhcygxLDEpLHQ9ZS5nZXRDb250ZXh0KCJ3ZWJnbCIse2ZhaWxJZk1ham9yUGVyZm9ybWFuY2VDYXZlYXQ6ITB9KXx8ZS5nZXRDb250ZXh0KCJleHBlcmltZW50YWwtd2ViZ2wiLHtmYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0OiEwfSk7dGhpcy5fSGFzTWFqb3JQZXJmb3JtYW5jZUNhdmVhdD0hdH1jYXRjaHt0aGlzLl9IYXNNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0PSExfXJldHVybiB0aGlzLl9IYXNNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkuQ2VpbGluZ1BPVD1mdW5jdGlvbihlKXtyZXR1cm4gZS0tLGV8PWU+PjEsZXw9ZT4+MixlfD1lPj40LGV8PWU+PjgsZXw9ZT4+MTYsZSsrLGV9LGkuRmxvb3JQT1Q9ZnVuY3Rpb24oZSl7cmV0dXJuIGU9ZXxlPj4xLGU9ZXxlPj4yLGU9ZXxlPj40LGU9ZXxlPj44LGU9ZXxlPj4xNixlLShlPj4xKX0saS5OZWFyZXN0UE9UPWZ1bmN0aW9uKGUpe3ZhciB0PWkuQ2VpbGluZ1BPVChlKSxyPWkuRmxvb3JQT1QoZSk7cmV0dXJuIHQtZT5lLXI/cjp0fSxpLkdldEV4cG9uZW50T2ZUd289ZnVuY3Rpb24oZSx0LHIpe3I9PT12b2lkIDAmJihyPTIpO3ZhciBuO3N3aXRjaChyKXtjYXNlIDE6bj1pLkZsb29yUE9UKGUpO2JyZWFrO2Nhc2UgMjpuPWkuTmVhcmVzdFBPVChlKTticmVhaztjYXNlIDM6ZGVmYXVsdDpuPWkuQ2VpbGluZ1BPVChlKTticmVha31yZXR1cm4gTWF0aC5taW4obix0KX0saS5RdWV1ZU5ld0ZyYW1lPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHllKCk/KHR8fCh0PXdpbmRvdyksdC5yZXF1ZXN0UG9zdEFuaW1hdGlvbkZyYW1lP3QucmVxdWVzdFBvc3RBbmltYXRpb25GcmFtZShlKTp0LnJlcXVlc3RBbmltYXRpb25GcmFtZT90LnJlcXVlc3RBbmltYXRpb25GcmFtZShlKTp0Lm1zUmVxdWVzdEFuaW1hdGlvbkZyYW1lP3QubXNSZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZSk6dC53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWU/dC53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZSk6dC5tb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWU/dC5tb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZSk6dC5vUmVxdWVzdEFuaW1hdGlvbkZyYW1lP3Qub1JlcXVlc3RBbmltYXRpb25GcmFtZShlKTp3aW5kb3cuc2V0VGltZW91dChlLDE2KSk6dHlwZW9mIHJlcXVlc3RBbmltYXRpb25GcmFtZSE9InVuZGVmaW5lZCI/cmVxdWVzdEFuaW1hdGlvbkZyYW1lKGUpOnNldFRpbWVvdXQoZSwxNil9LGkucHJvdG90eXBlLmdldEhvc3REb2N1bWVudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9yZW5kZXJpbmdDYW52YXMmJnRoaXMuX3JlbmRlcmluZ0NhbnZhcy5vd25lckRvY3VtZW50P3RoaXMuX3JlbmRlcmluZ0NhbnZhcy5vd25lckRvY3VtZW50OmxyKCk/ZG9jdW1lbnQ6bnVsbH0saS5FeGNlcHRpb25MaXN0PVt7a2V5OiJDaHJvbWUvNjMuMCIsY2FwdHVyZToiNjNcXC4wXFwuMzIzOVxcLihcXGQrKSIsY2FwdHVyZUNvbnN0cmFpbnQ6MTA4LHRhcmdldHM6WyJ1bmlmb3JtQnVmZmVyIl19LHtrZXk6IkZpcmVmb3gvNTgiLGNhcHR1cmU6bnVsbCxjYXB0dXJlQ29uc3RyYWludDpudWxsLHRhcmdldHM6WyJ1bmlmb3JtQnVmZmVyIl19LHtrZXk6IkZpcmVmb3gvNTkiLGNhcHR1cmU6bnVsbCxjYXB0dXJlQ29uc3RyYWludDpudWxsLHRhcmdldHM6WyJ1bmlmb3JtQnVmZmVyIl19LHtrZXk6IkNocm9tZS83Mi4rP01vYmlsZSIsY2FwdHVyZTpudWxsLGNhcHR1cmVDb25zdHJhaW50Om51bGwsdGFyZ2V0czpbInZhbyJdfSx7a2V5OiJDaHJvbWUvNzMuKz9Nb2JpbGUiLGNhcHR1cmU6bnVsbCxjYXB0dXJlQ29uc3RyYWludDpudWxsLHRhcmdldHM6WyJ2YW8iXX0se2tleToiQ2hyb21lLzc0Lis/TW9iaWxlIixjYXB0dXJlOm51bGwsY2FwdHVyZUNvbnN0cmFpbnQ6bnVsbCx0YXJnZXRzOlsidmFvIl19LHtrZXk6Ik1hYyBPUy4rQ2hyb21lLzcxIixjYXB0dXJlOm51bGwsY2FwdHVyZUNvbnN0cmFpbnQ6bnVsbCx0YXJnZXRzOlsidmFvIl19LHtrZXk6Ik1hYyBPUy4rQ2hyb21lLzcyIixjYXB0dXJlOm51bGwsY2FwdHVyZUNvbnN0cmFpbnQ6bnVsbCx0YXJnZXRzOlsidmFvIl19LHtrZXk6Ik1hYyBPUy4rQ2hyb21lIixjYXB0dXJlOm51bGwsY2FwdHVyZUNvbnN0cmFpbnQ6bnVsbCx0YXJnZXRzOlsidW5pZm9ybUJ1ZmZlciJdfSx7a2V5OiIuKkFwcGxlV2ViS2l0LiooMTUuNCkuKlNhZmFyaSIsY2FwdHVyZTpudWxsLGNhcHR1cmVDb25zdHJhaW50Om51bGwsdGFyZ2V0czpbImFudGlhbGlhcyIsIm1heE1TQUFTYW1wbGVzIl19LHtrZXk6Ii4qKDE1LjQpLipBcHBsZVdlYktpdC4qU2FmYXJpIixjYXB0dXJlOm51bGwsY2FwdHVyZUNvbnN0cmFpbnQ6bnVsbCx0YXJnZXRzOlsiYW50aWFsaWFzIiwibWF4TVNBQVNhbXBsZXMiXX1dLGkuX1RleHR1cmVMb2FkZXJzPVtdLGkuQ29sbGlzaW9uc0Vwc2lsb249LjAwMSxpLl9Jc1N1cHBvcnRlZD1udWxsLGkuX0hhc01ham9yUGVyZm9ybWFuY2VDYXZlYXQ9bnVsbCxpfSgpLE50PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaSgpe31yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGksIk5vdyIse2dldDpmdW5jdGlvbigpe3JldHVybiB6ci5Jc1dpbmRvd09iamVjdEV4aXN0KCkmJndpbmRvdy5wZXJmb3JtYW5jZSYmd2luZG93LnBlcmZvcm1hbmNlLm5vdz93aW5kb3cucGVyZm9ybWFuY2Uubm93KCk6RGF0ZS5ub3coKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpfSgpLGpuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaShlKXtlPT09dm9pZCAwJiYoZT0zMCksdGhpcy5fZW5hYmxlZD0hMCx0aGlzLl9yb2xsaW5nRnJhbWVUaW1lPW5ldyBLbihlKX1yZXR1cm4gaS5wcm90b3R5cGUuc2FtcGxlRnJhbWU9ZnVuY3Rpb24oZSl7aWYoZT09PXZvaWQgMCYmKGU9TnQuTm93KSwhIXRoaXMuX2VuYWJsZWQpe2lmKHRoaXMuX2xhc3RGcmFtZVRpbWVNcyE9bnVsbCl7dmFyIHQ9ZS10aGlzLl9sYXN0RnJhbWVUaW1lTXM7dGhpcy5fcm9sbGluZ0ZyYW1lVGltZS5hZGQodCl9dGhpcy5fbGFzdEZyYW1lVGltZU1zPWV9fSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImF2ZXJhZ2VGcmFtZVRpbWUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcm9sbGluZ0ZyYW1lVGltZS5hdmVyYWdlfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiYXZlcmFnZUZyYW1lVGltZVZhcmlhbmNlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JvbGxpbmdGcmFtZVRpbWUudmFyaWFuY2V9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJpbnN0YW50YW5lb3VzRnJhbWVUaW1lIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JvbGxpbmdGcmFtZVRpbWUuaGlzdG9yeSgwKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImF2ZXJhZ2VGUFMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gMWUzL3RoaXMuX3JvbGxpbmdGcmFtZVRpbWUuYXZlcmFnZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImluc3RhbnRhbmVvdXNGUFMiLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLl9yb2xsaW5nRnJhbWVUaW1lLmhpc3RvcnkoMCk7cmV0dXJuIGU9PT0wPzA6MWUzL2V9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJpc1NhdHVyYXRlZCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9yb2xsaW5nRnJhbWVUaW1lLmlzU2F0dXJhdGVkKCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksaS5wcm90b3R5cGUuZW5hYmxlPWZ1bmN0aW9uKCl7dGhpcy5fZW5hYmxlZD0hMH0saS5wcm90b3R5cGUuZGlzYWJsZT1mdW5jdGlvbigpe3RoaXMuX2VuYWJsZWQ9ITEsdGhpcy5fbGFzdEZyYW1lVGltZU1zPW51bGx9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiaXNFbmFibGVkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2VuYWJsZWR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksaS5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXt0aGlzLl9sYXN0RnJhbWVUaW1lTXM9bnVsbCx0aGlzLl9yb2xsaW5nRnJhbWVUaW1lLnJlc2V0KCl9LGl9KCksS249ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKGUpe3RoaXMuX3NhbXBsZXM9bmV3IEFycmF5KGUpLHRoaXMucmVzZXQoKX1yZXR1cm4gaS5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKGUpe3ZhciB0O2lmKHRoaXMuaXNTYXR1cmF0ZWQoKSl7dmFyIHI9dGhpcy5fc2FtcGxlc1t0aGlzLl9wb3NdO3Q9ci10aGlzLmF2ZXJhZ2UsdGhpcy5hdmVyYWdlLT10Lyh0aGlzLl9zYW1wbGVDb3VudC0xKSx0aGlzLl9tMi09dCooci10aGlzLmF2ZXJhZ2UpfWVsc2UgdGhpcy5fc2FtcGxlQ291bnQrKzt0PWUtdGhpcy5hdmVyYWdlLHRoaXMuYXZlcmFnZSs9dC90aGlzLl9zYW1wbGVDb3VudCx0aGlzLl9tMis9dCooZS10aGlzLmF2ZXJhZ2UpLHRoaXMudmFyaWFuY2U9dGhpcy5fbTIvKHRoaXMuX3NhbXBsZUNvdW50LTEpLHRoaXMuX3NhbXBsZXNbdGhpcy5fcG9zXT1lLHRoaXMuX3BvcysrLHRoaXMuX3BvcyU9dGhpcy5fc2FtcGxlcy5sZW5ndGh9LGkucHJvdG90eXBlLmhpc3Rvcnk9ZnVuY3Rpb24oZSl7aWYoZT49dGhpcy5fc2FtcGxlQ291bnR8fGU+PXRoaXMuX3NhbXBsZXMubGVuZ3RoKXJldHVybiAwO3ZhciB0PXRoaXMuX3dyYXBQb3NpdGlvbih0aGlzLl9wb3MtMSk7cmV0dXJuIHRoaXMuX3NhbXBsZXNbdGhpcy5fd3JhcFBvc2l0aW9uKHQtZSldfSxpLnByb3RvdHlwZS5pc1NhdHVyYXRlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zYW1wbGVDb3VudD49dGhpcy5fc2FtcGxlcy5sZW5ndGh9LGkucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5hdmVyYWdlPTAsdGhpcy52YXJpYW5jZT0wLHRoaXMuX3NhbXBsZUNvdW50PTAsdGhpcy5fcG9zPTAsdGhpcy5fbTI9MH0saS5wcm90b3R5cGUuX3dyYXBQb3NpdGlvbj1mdW5jdGlvbihlKXt2YXIgdD10aGlzLl9zYW1wbGVzLmxlbmd0aDtyZXR1cm4oZSV0K3QpJXR9LGl9KCksJHQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKCl7dGhpcy5fc3RhcnRNb25pdG9yaW5nVGltZT0wLHRoaXMuX21pbj0wLHRoaXMuX21heD0wLHRoaXMuX2F2ZXJhZ2U9MCx0aGlzLl9sYXN0U2VjQXZlcmFnZT0wLHRoaXMuX2N1cnJlbnQ9MCx0aGlzLl90b3RhbFZhbHVlQ291bnQ9MCx0aGlzLl90b3RhbEFjY3VtdWxhdGVkPTAsdGhpcy5fbGFzdFNlY0FjY3VtdWxhdGVkPTAsdGhpcy5fbGFzdFNlY1RpbWU9MCx0aGlzLl9sYXN0U2VjVmFsdWVDb3VudD0wfXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsIm1pbiIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9taW59LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJtYXgiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbWF4fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiYXZlcmFnZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9hdmVyYWdlfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwibGFzdFNlY0F2ZXJhZ2UiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbGFzdFNlY0F2ZXJhZ2V9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJjdXJyZW50Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2N1cnJlbnR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJ0b3RhbCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl90b3RhbEFjY3VtdWxhdGVkfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiY291bnQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdG90YWxWYWx1ZUNvdW50fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkucHJvdG90eXBlLmZldGNoTmV3RnJhbWU9ZnVuY3Rpb24oKXt0aGlzLl90b3RhbFZhbHVlQ291bnQrKyx0aGlzLl9jdXJyZW50PTAsdGhpcy5fbGFzdFNlY1ZhbHVlQ291bnQrK30saS5wcm90b3R5cGUuYWRkQ291bnQ9ZnVuY3Rpb24oZSx0KXshaS5FbmFibGVkfHwodGhpcy5fY3VycmVudCs9ZSx0JiZ0aGlzLl9mZXRjaFJlc3VsdCgpKX0saS5wcm90b3R5cGUuYmVnaW5Nb25pdG9yaW5nPWZ1bmN0aW9uKCl7IWkuRW5hYmxlZHx8KHRoaXMuX3N0YXJ0TW9uaXRvcmluZ1RpbWU9TnQuTm93KX0saS5wcm90b3R5cGUuZW5kTW9uaXRvcmluZz1mdW5jdGlvbihlKXtpZihlPT09dm9pZCAwJiYoZT0hMCksISFpLkVuYWJsZWQpe2UmJnRoaXMuZmV0Y2hOZXdGcmFtZSgpO3ZhciB0PU50Lk5vdzt0aGlzLl9jdXJyZW50PXQtdGhpcy5fc3RhcnRNb25pdG9yaW5nVGltZSxlJiZ0aGlzLl9mZXRjaFJlc3VsdCgpfX0saS5wcm90b3R5cGUuX2ZldGNoUmVzdWx0PWZ1bmN0aW9uKCl7dGhpcy5fdG90YWxBY2N1bXVsYXRlZCs9dGhpcy5fY3VycmVudCx0aGlzLl9sYXN0U2VjQWNjdW11bGF0ZWQrPXRoaXMuX2N1cnJlbnQsdGhpcy5fbWluPU1hdGgubWluKHRoaXMuX21pbix0aGlzLl9jdXJyZW50KSx0aGlzLl9tYXg9TWF0aC5tYXgodGhpcy5fbWF4LHRoaXMuX2N1cnJlbnQpLHRoaXMuX2F2ZXJhZ2U9dGhpcy5fdG90YWxBY2N1bXVsYXRlZC90aGlzLl90b3RhbFZhbHVlQ291bnQ7dmFyIGU9TnQuTm93O2UtdGhpcy5fbGFzdFNlY1RpbWU+MWUzJiYodGhpcy5fbGFzdFNlY0F2ZXJhZ2U9dGhpcy5fbGFzdFNlY0FjY3VtdWxhdGVkL3RoaXMuX2xhc3RTZWNWYWx1ZUNvdW50LHRoaXMuX2xhc3RTZWNUaW1lPWUsdGhpcy5fbGFzdFNlY0FjY3VtdWxhdGVkPTAsdGhpcy5fbGFzdFNlY1ZhbHVlQ291bnQ9MCl9LGkuRW5hYmxlZD0hMCxpfSgpO2xlLnByb3RvdHlwZS5zZXRBbHBoYUNvbnN0YW50cz1mdW5jdGlvbihpLGUsdCxyKXt0aGlzLl9hbHBoYVN0YXRlLnNldEFscGhhQmxlbmRDb25zdGFudHMoaSxlLHQscil9LGxlLnByb3RvdHlwZS5zZXRBbHBoYU1vZGU9ZnVuY3Rpb24oaSxlKXtpZihlPT09dm9pZCAwJiYoZT0hMSksdGhpcy5fYWxwaGFNb2RlIT09aSl7c3dpdGNoKGkpe2Nhc2UgMDp0aGlzLl9hbHBoYVN0YXRlLmFscGhhQmxlbmQ9ITE7YnJlYWs7Y2FzZSA3OnRoaXMuX2FscGhhU3RhdGUuc2V0QWxwaGFCbGVuZEZ1bmN0aW9uUGFyYW1ldGVycyh0aGlzLl9nbC5PTkUsdGhpcy5fZ2wuT05FX01JTlVTX1NSQ19BTFBIQSx0aGlzLl9nbC5PTkUsdGhpcy5fZ2wuT05FKSx0aGlzLl9hbHBoYVN0YXRlLmFscGhhQmxlbmQ9ITA7YnJlYWs7Y2FzZSA4OnRoaXMuX2FscGhhU3RhdGUuc2V0QWxwaGFCbGVuZEZ1bmN0aW9uUGFyYW1ldGVycyh0aGlzLl9nbC5PTkUsdGhpcy5fZ2wuT05FX01JTlVTX1NSQ19BTFBIQSx0aGlzLl9nbC5PTkUsdGhpcy5fZ2wuT05FX01JTlVTX1NSQ19BTFBIQSksdGhpcy5fYWxwaGFTdGF0ZS5hbHBoYUJsZW5kPSEwO2JyZWFrO2Nhc2UgMjp0aGlzLl9hbHBoYVN0YXRlLnNldEFscGhhQmxlbmRGdW5jdGlvblBhcmFtZXRlcnModGhpcy5fZ2wuU1JDX0FMUEhBLHRoaXMuX2dsLk9ORV9NSU5VU19TUkNfQUxQSEEsdGhpcy5fZ2wuT05FLHRoaXMuX2dsLk9ORSksdGhpcy5fYWxwaGFTdGF0ZS5hbHBoYUJsZW5kPSEwO2JyZWFrO2Nhc2UgNjp0aGlzLl9hbHBoYVN0YXRlLnNldEFscGhhQmxlbmRGdW5jdGlvblBhcmFtZXRlcnModGhpcy5fZ2wuT05FLHRoaXMuX2dsLk9ORSx0aGlzLl9nbC5aRVJPLHRoaXMuX2dsLk9ORSksdGhpcy5fYWxwaGFTdGF0ZS5hbHBoYUJsZW5kPSEwO2JyZWFrO2Nhc2UgMTp0aGlzLl9hbHBoYVN0YXRlLnNldEFscGhhQmxlbmRGdW5jdGlvblBhcmFtZXRlcnModGhpcy5fZ2wuU1JDX0FMUEhBLHRoaXMuX2dsLk9ORSx0aGlzLl9nbC5aRVJPLHRoaXMuX2dsLk9ORSksdGhpcy5fYWxwaGFTdGF0ZS5hbHBoYUJsZW5kPSEwO2JyZWFrO2Nhc2UgMzp0aGlzLl9hbHBoYVN0YXRlLnNldEFscGhhQmxlbmRGdW5jdGlvblBhcmFtZXRlcnModGhpcy5fZ2wuWkVSTyx0aGlzLl9nbC5PTkVfTUlOVVNfU1JDX0NPTE9SLHRoaXMuX2dsLk9ORSx0aGlzLl9nbC5PTkUpLHRoaXMuX2FscGhhU3RhdGUuYWxwaGFCbGVuZD0hMDticmVhaztjYXNlIDQ6dGhpcy5fYWxwaGFTdGF0ZS5zZXRBbHBoYUJsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzKHRoaXMuX2dsLkRTVF9DT0xPUix0aGlzLl9nbC5aRVJPLHRoaXMuX2dsLk9ORSx0aGlzLl9nbC5PTkUpLHRoaXMuX2FscGhhU3RhdGUuYWxwaGFCbGVuZD0hMDticmVhaztjYXNlIDU6dGhpcy5fYWxwaGFTdGF0ZS5zZXRBbHBoYUJsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzKHRoaXMuX2dsLlNSQ19BTFBIQSx0aGlzLl9nbC5PTkVfTUlOVVNfU1JDX0NPTE9SLHRoaXMuX2dsLk9ORSx0aGlzLl9nbC5PTkUpLHRoaXMuX2FscGhhU3RhdGUuYWxwaGFCbGVuZD0hMDticmVhaztjYXNlIDk6dGhpcy5fYWxwaGFTdGF0ZS5zZXRBbHBoYUJsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzKHRoaXMuX2dsLkNPTlNUQU5UX0NPTE9SLHRoaXMuX2dsLk9ORV9NSU5VU19DT05TVEFOVF9DT0xPUix0aGlzLl9nbC5DT05TVEFOVF9BTFBIQSx0aGlzLl9nbC5PTkVfTUlOVVNfQ09OU1RBTlRfQUxQSEEpLHRoaXMuX2FscGhhU3RhdGUuYWxwaGFCbGVuZD0hMDticmVhaztjYXNlIDEwOnRoaXMuX2FscGhhU3RhdGUuc2V0QWxwaGFCbGVuZEZ1bmN0aW9uUGFyYW1ldGVycyh0aGlzLl9nbC5PTkUsdGhpcy5fZ2wuT05FX01JTlVTX1NSQ19DT0xPUix0aGlzLl9nbC5PTkUsdGhpcy5fZ2wuT05FX01JTlVTX1NSQ19BTFBIQSksdGhpcy5fYWxwaGFTdGF0ZS5hbHBoYUJsZW5kPSEwO2JyZWFrO2Nhc2UgMTE6dGhpcy5fYWxwaGFTdGF0ZS5zZXRBbHBoYUJsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzKHRoaXMuX2dsLk9ORSx0aGlzLl9nbC5PTkUsdGhpcy5fZ2wuT05FLHRoaXMuX2dsLk9ORSksdGhpcy5fYWxwaGFTdGF0ZS5hbHBoYUJsZW5kPSEwO2JyZWFrO2Nhc2UgMTI6dGhpcy5fYWxwaGFTdGF0ZS5zZXRBbHBoYUJsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzKHRoaXMuX2dsLkRTVF9BTFBIQSx0aGlzLl9nbC5PTkUsdGhpcy5fZ2wuWkVSTyx0aGlzLl9nbC5aRVJPKSx0aGlzLl9hbHBoYVN0YXRlLmFscGhhQmxlbmQ9ITA7YnJlYWs7Y2FzZSAxMzp0aGlzLl9hbHBoYVN0YXRlLnNldEFscGhhQmxlbmRGdW5jdGlvblBhcmFtZXRlcnModGhpcy5fZ2wuT05FX01JTlVTX0RTVF9DT0xPUix0aGlzLl9nbC5PTkVfTUlOVVNfU1JDX0NPTE9SLHRoaXMuX2dsLk9ORV9NSU5VU19EU1RfQUxQSEEsdGhpcy5fZ2wuT05FX01JTlVTX1NSQ19BTFBIQSksdGhpcy5fYWxwaGFTdGF0ZS5hbHBoYUJsZW5kPSEwO2JyZWFrO2Nhc2UgMTQ6dGhpcy5fYWxwaGFTdGF0ZS5zZXRBbHBoYUJsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzKHRoaXMuX2dsLk9ORSx0aGlzLl9nbC5PTkVfTUlOVVNfU1JDX0FMUEhBLHRoaXMuX2dsLk9ORSx0aGlzLl9nbC5PTkVfTUlOVVNfU1JDX0FMUEhBKSx0aGlzLl9hbHBoYVN0YXRlLmFscGhhQmxlbmQ9ITA7YnJlYWs7Y2FzZSAxNTp0aGlzLl9hbHBoYVN0YXRlLnNldEFscGhhQmxlbmRGdW5jdGlvblBhcmFtZXRlcnModGhpcy5fZ2wuT05FLHRoaXMuX2dsLk9ORSx0aGlzLl9nbC5PTkUsdGhpcy5fZ2wuWkVSTyksdGhpcy5fYWxwaGFTdGF0ZS5hbHBoYUJsZW5kPSEwO2JyZWFrO2Nhc2UgMTY6dGhpcy5fYWxwaGFTdGF0ZS5zZXRBbHBoYUJsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzKHRoaXMuX2dsLk9ORV9NSU5VU19EU1RfQ09MT1IsdGhpcy5fZ2wuT05FX01JTlVTX1NSQ19DT0xPUix0aGlzLl9nbC5aRVJPLHRoaXMuX2dsLk9ORSksdGhpcy5fYWxwaGFTdGF0ZS5hbHBoYUJsZW5kPSEwO2JyZWFrO2Nhc2UgMTc6dGhpcy5fYWxwaGFTdGF0ZS5zZXRBbHBoYUJsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzKHRoaXMuX2dsLlNSQ19BTFBIQSx0aGlzLl9nbC5PTkVfTUlOVVNfU1JDX0FMUEhBLHRoaXMuX2dsLk9ORSx0aGlzLl9nbC5PTkVfTUlOVVNfU1JDX0FMUEhBKSx0aGlzLl9hbHBoYVN0YXRlLmFscGhhQmxlbmQ9ITA7YnJlYWt9ZXx8KHRoaXMuZGVwdGhDdWxsaW5nU3RhdGUuZGVwdGhNYXNrPWk9PT0wKSx0aGlzLl9hbHBoYU1vZGU9aX19LGxlLnByb3RvdHlwZS5nZXRBbHBoYU1vZGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYWxwaGFNb2RlfSxsZS5wcm90b3R5cGUuc2V0QWxwaGFFcXVhdGlvbj1mdW5jdGlvbihpKXtpZih0aGlzLl9hbHBoYUVxdWF0aW9uIT09aSl7c3dpdGNoKGkpe2Nhc2UgMDp0aGlzLl9hbHBoYVN0YXRlLnNldEFscGhhRXF1YXRpb25QYXJhbWV0ZXJzKDMyNzc0LDMyNzc0KTticmVhaztjYXNlIDE6dGhpcy5fYWxwaGFTdGF0ZS5zZXRBbHBoYUVxdWF0aW9uUGFyYW1ldGVycygzMjc3OCwzMjc3OCk7YnJlYWs7Y2FzZSAyOnRoaXMuX2FscGhhU3RhdGUuc2V0QWxwaGFFcXVhdGlvblBhcmFtZXRlcnMoMzI3NzksMzI3NzkpO2JyZWFrO2Nhc2UgMzp0aGlzLl9hbHBoYVN0YXRlLnNldEFscGhhRXF1YXRpb25QYXJhbWV0ZXJzKDMyNzc2LDMyNzc2KTticmVhaztjYXNlIDQ6dGhpcy5fYWxwaGFTdGF0ZS5zZXRBbHBoYUVxdWF0aW9uUGFyYW1ldGVycygzMjc3NSwzMjc3NSk7YnJlYWs7Y2FzZSA1OnRoaXMuX2FscGhhU3RhdGUuc2V0QWxwaGFFcXVhdGlvblBhcmFtZXRlcnMoMzI3NzUsMzI3NzQpO2JyZWFrfXRoaXMuX2FscGhhRXF1YXRpb249aX19LGxlLnByb3RvdHlwZS5nZXRBbHBoYUVxdWF0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FscGhhRXF1YXRpb259O2Z1bmN0aW9uIFluKGksZSx0LHIpe3N3aXRjaCh0PT09dm9pZCAwJiYodD0hMSksaSl7Y2FzZSAzOnt2YXIgbj1lIGluc3RhbmNlb2YgQXJyYXlCdWZmZXI/bmV3IEludDhBcnJheShlKTpuZXcgSW50OEFycmF5KGUpO3JldHVybiByJiZuLnNldChuZXcgSW50OEFycmF5KHIpKSxufWNhc2UgMDp7dmFyIGE9ZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyP25ldyBVaW50OEFycmF5KGUpOm5ldyBVaW50OEFycmF5KGUpO3JldHVybiByJiZhLnNldChuZXcgVWludDhBcnJheShyKSksYX1jYXNlIDQ6e3ZhciBzPWUgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcj9uZXcgSW50MTZBcnJheShlKTpuZXcgSW50MTZBcnJheSh0P2UvMjplKTtyZXR1cm4gciYmcy5zZXQobmV3IEludDE2QXJyYXkocikpLHN9Y2FzZSA1OmNhc2UgODpjYXNlIDk6Y2FzZSAxMDpjYXNlIDI6e3ZhciBvPWUgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcj9uZXcgVWludDE2QXJyYXkoZSk6bmV3IFVpbnQxNkFycmF5KHQ/ZS8yOmUpO3JldHVybiByJiZvLnNldChuZXcgVWludDE2QXJyYXkocikpLG99Y2FzZSA2Ont2YXIgdT1lIGluc3RhbmNlb2YgQXJyYXlCdWZmZXI/bmV3IEludDMyQXJyYXkoZSk6bmV3IEludDMyQXJyYXkodD9lLzQ6ZSk7cmV0dXJuIHImJnUuc2V0KG5ldyBJbnQzMkFycmF5KHIpKSx1fWNhc2UgNzpjYXNlIDExOmNhc2UgMTI6Y2FzZSAxMzpjYXNlIDE0OmNhc2UgMTU6e3ZhciBmPWUgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcj9uZXcgVWludDMyQXJyYXkoZSk6bmV3IFVpbnQzMkFycmF5KHQ/ZS80OmUpO3JldHVybiByJiZmLnNldChuZXcgVWludDMyQXJyYXkocikpLGZ9Y2FzZSAxOnt2YXIgbD1lIGluc3RhbmNlb2YgQXJyYXlCdWZmZXI/bmV3IEZsb2F0MzJBcnJheShlKTpuZXcgRmxvYXQzMkFycmF5KHQ/ZS80OmUpO3JldHVybiByJiZsLnNldChuZXcgRmxvYXQzMkFycmF5KHIpKSxsfX12YXIgaD1lIGluc3RhbmNlb2YgQXJyYXlCdWZmZXI/bmV3IFVpbnQ4QXJyYXkoZSk6bmV3IFVpbnQ4QXJyYXkoZSk7cmV0dXJuIHImJmguc2V0KG5ldyBVaW50OEFycmF5KHIpKSxofWxlLnByb3RvdHlwZS5fcmVhZFRleHR1cmVQaXhlbHNTeW5jPWZ1bmN0aW9uKGksZSx0LHIsbixhLHMsbyx1LGYpe3ZhciBsLGg7cj09PXZvaWQgMCYmKHI9LTEpLG49PT12b2lkIDAmJihuPTApLGE9PT12b2lkIDAmJihhPW51bGwpLHM9PT12b2lkIDAmJihzPSEwKSxvPT09dm9pZCAwJiYobz0hMSksdT09PXZvaWQgMCYmKHU9MCksZj09PXZvaWQgMCYmKGY9MCk7dmFyIGM9dGhpcy5fZ2w7aWYoIWMpdGhyb3cgbmV3IEVycm9yKCJFbmdpbmUgZG9lcyBub3QgaGF2ZSBnbCByZW5kZXJpbmcgY29udGV4dC4iKTtpZighdGhpcy5fZHVtbXlGcmFtZWJ1ZmZlcil7dmFyIGQ9Yy5jcmVhdGVGcmFtZWJ1ZmZlcigpO2lmKCFkKXRocm93IG5ldyBFcnJvcigiVW5hYmxlIHRvIGNyZWF0ZSBkdW1teSBmcmFtZWJ1ZmZlciIpO3RoaXMuX2R1bW15RnJhbWVidWZmZXI9ZH1jLmJpbmRGcmFtZWJ1ZmZlcihjLkZSQU1FQlVGRkVSLHRoaXMuX2R1bW15RnJhbWVidWZmZXIpLHI+LTE/Yy5mcmFtZWJ1ZmZlclRleHR1cmUyRChjLkZSQU1FQlVGRkVSLGMuQ09MT1JfQVRUQUNITUVOVDAsYy5URVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1grciwobD1pLl9oYXJkd2FyZVRleHR1cmUpPT09bnVsbHx8bD09PXZvaWQgMD92b2lkIDA6bC51bmRlcmx5aW5nUmVzb3VyY2Usbik6Yy5mcmFtZWJ1ZmZlclRleHR1cmUyRChjLkZSQU1FQlVGRkVSLGMuQ09MT1JfQVRUQUNITUVOVDAsYy5URVhUVVJFXzJELChoPWkuX2hhcmR3YXJlVGV4dHVyZSk9PT1udWxsfHxoPT09dm9pZCAwP3ZvaWQgMDpoLnVuZGVybHlpbmdSZXNvdXJjZSxuKTt2YXIgcD1pLnR5cGUhPT12b2lkIDA/dGhpcy5fZ2V0V2ViR0xUZXh0dXJlVHlwZShpLnR5cGUpOmMuVU5TSUdORURfQllURTtpZihvKWF8fChhPVluKGkudHlwZSw0KmUqdCkpO2Vsc2Ugc3dpdGNoKHApe2Nhc2UgYy5VTlNJR05FRF9CWVRFOmF8fChhPW5ldyBVaW50OEFycmF5KDQqZSp0KSkscD1jLlVOU0lHTkVEX0JZVEU7YnJlYWs7ZGVmYXVsdDphfHwoYT1uZXcgRmxvYXQzMkFycmF5KDQqZSp0KSkscD1jLkZMT0FUO2JyZWFrfXJldHVybiBzJiZ0aGlzLmZsdXNoRnJhbWVidWZmZXIoKSxjLnJlYWRQaXhlbHModSxmLGUsdCxjLlJHQkEscCxhKSxjLmJpbmRGcmFtZWJ1ZmZlcihjLkZSQU1FQlVGRkVSLHRoaXMuX2N1cnJlbnRGcmFtZWJ1ZmZlciksYX0sbGUucHJvdG90eXBlLl9yZWFkVGV4dHVyZVBpeGVscz1mdW5jdGlvbihpLGUsdCxyLG4sYSxzLG8sdSxmKXtyZXR1cm4gcj09PXZvaWQgMCYmKHI9LTEpLG49PT12b2lkIDAmJihuPTApLGE9PT12b2lkIDAmJihhPW51bGwpLHM9PT12b2lkIDAmJihzPSEwKSxvPT09dm9pZCAwJiYobz0hMSksdT09PXZvaWQgMCYmKHU9MCksZj09PXZvaWQgMCYmKGY9MCksUHJvbWlzZS5yZXNvbHZlKHRoaXMuX3JlYWRUZXh0dXJlUGl4ZWxzU3luYyhpLGUsdCxyLG4sYSxzLG8sdSxmKSl9LGxlLnByb3RvdHlwZS51cGRhdGVEeW5hbWljSW5kZXhCdWZmZXI9ZnVuY3Rpb24oaSxlLHQpe3RoaXMuX2N1cnJlbnRCb3VuZEJ1ZmZlclt0aGlzLl9nbC5FTEVNRU5UX0FSUkFZX0JVRkZFUl09bnVsbCx0aGlzLmJpbmRJbmRleEJ1ZmZlcihpKTt2YXIgcjtpLmlzMzJCaXRzP3I9ZSBpbnN0YW5jZW9mIFVpbnQzMkFycmF5P2U6bmV3IFVpbnQzMkFycmF5KGUpOnI9ZSBpbnN0YW5jZW9mIFVpbnQxNkFycmF5P2U6bmV3IFVpbnQxNkFycmF5KGUpLHRoaXMuX2dsLmJ1ZmZlckRhdGEodGhpcy5fZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIscix0aGlzLl9nbC5EWU5BTUlDX0RSQVcpLHRoaXMuX3Jlc2V0SW5kZXhCdWZmZXJCaW5kaW5nKCl9LGxlLnByb3RvdHlwZS51cGRhdGVEeW5hbWljVmVydGV4QnVmZmVyPWZ1bmN0aW9uKGksZSx0LHIpe3RoaXMuYmluZEFycmF5QnVmZmVyKGkpLHQ9PT12b2lkIDAmJih0PTApO3ZhciBuPWUuYnl0ZUxlbmd0aHx8ZS5sZW5ndGg7cj09PXZvaWQgMHx8cj49biYmdD09PTA/ZSBpbnN0YW5jZW9mIEFycmF5P3RoaXMuX2dsLmJ1ZmZlclN1YkRhdGEodGhpcy5fZ2wuQVJSQVlfQlVGRkVSLHQsbmV3IEZsb2F0MzJBcnJheShlKSk6dGhpcy5fZ2wuYnVmZmVyU3ViRGF0YSh0aGlzLl9nbC5BUlJBWV9CVUZGRVIsdCxlKTplIGluc3RhbmNlb2YgQXJyYXk/dGhpcy5fZ2wuYnVmZmVyU3ViRGF0YSh0aGlzLl9nbC5BUlJBWV9CVUZGRVIsMCxuZXcgRmxvYXQzMkFycmF5KGUpLnN1YmFycmF5KHQsdCtyKSk6KGUgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcj9lPW5ldyBVaW50OEFycmF5KGUsdCxyKTplPW5ldyBVaW50OEFycmF5KGUuYnVmZmVyLGUuYnl0ZU9mZnNldCt0LHIpLHRoaXMuX2dsLmJ1ZmZlclN1YkRhdGEodGhpcy5fZ2wuQVJSQVlfQlVGRkVSLDAsZSkpLHRoaXMuX3Jlc2V0VmVydGV4QnVmZmVyQmluZGluZygpfTt2YXIgY2U9ZnVuY3Rpb24oaSl7SyhlLGkpO2Z1bmN0aW9uIGUodCxyLG4sYSl7YT09PXZvaWQgMCYmKGE9ITEpO3ZhciBzPWkuY2FsbCh0aGlzLHQscixuLGEpfHx0aGlzO2lmKHMuZW5hYmxlT2ZmbGluZVN1cHBvcnQ9ITEscy5kaXNhYmxlTWFuaWZlc3RDaGVjaz0hMSxzLnNjZW5lcz1uZXcgQXJyYXkscy5fdmlydHVhbFNjZW5lcz1uZXcgQXJyYXkscy5vbk5ld1NjZW5lQWRkZWRPYnNlcnZhYmxlPW5ldyBPLHMucG9zdFByb2Nlc3Nlcz1uZXcgQXJyYXkscy5pc1BvaW50ZXJMb2NrPSExLHMub25SZXNpemVPYnNlcnZhYmxlPW5ldyBPLHMub25DYW52YXNCbHVyT2JzZXJ2YWJsZT1uZXcgTyxzLm9uQ2FudmFzRm9jdXNPYnNlcnZhYmxlPW5ldyBPLHMub25DYW52YXNQb2ludGVyT3V0T2JzZXJ2YWJsZT1uZXcgTyxzLm9uQmVnaW5GcmFtZU9ic2VydmFibGU9bmV3IE8scy5jdXN0b21BbmltYXRpb25GcmFtZVJlcXVlc3Rlcj1udWxsLHMub25FbmRGcmFtZU9ic2VydmFibGU9bmV3IE8scy5vbkJlZm9yZVNoYWRlckNvbXBpbGF0aW9uT2JzZXJ2YWJsZT1uZXcgTyxzLm9uQWZ0ZXJTaGFkZXJDb21waWxhdGlvbk9ic2VydmFibGU9bmV3IE8scy5fZGV0ZXJtaW5pc3RpY0xvY2tzdGVwPSExLHMuX2xvY2tzdGVwTWF4U3RlcHM9NCxzLl90aW1lU3RlcD0xLzYwLHMuX2Zwcz02MCxzLl9kZWx0YVRpbWU9MCxzLl9kcmF3Q2FsbHM9bmV3ICR0LHMuY2FudmFzVGFiSW5kZXg9MSxzLmRpc2FibGVQZXJmb3JtYW5jZU1vbml0b3JJbkJhY2tncm91bmQ9ITEscy5fcGVyZm9ybWFuY2VNb25pdG9yPW5ldyBqbixzLl9jb21wYXRpYmlsaXR5TW9kZT0hMCxzLmN1cnJlbnRSZW5kZXJQYXNzSWQ9MCxzLl9yZW5kZXJQYXNzTmFtZXM9WyJtYWluIl0sZS5JbnN0YW5jZXMucHVzaChzKSwhdClyZXR1cm4gcztpZihzLl9mZWF0dXJlcy5zdXBwb3J0UmVuZGVyUGFzc2VzPSEwLG49cy5fY3JlYXRpb25PcHRpb25zLHQuZ2V0Q29udGV4dCl7dmFyIG89dDtpZihzLl9zaGFyZWRJbml0KG8sISFuLmRvTm90SGFuZGxlVG91Y2hBY3Rpb24sbi5hdWRpb0VuZ2luZSkseWUoKSl7dmFyIHU9ZG9jdW1lbnQ7cy5fb25GdWxsc2NyZWVuQ2hhbmdlPWZ1bmN0aW9uKCl7dS5mdWxsc2NyZWVuIT09dm9pZCAwP3MuaXNGdWxsc2NyZWVuPXUuZnVsbHNjcmVlbjp1Lm1vekZ1bGxTY3JlZW4hPT12b2lkIDA/cy5pc0Z1bGxzY3JlZW49dS5tb3pGdWxsU2NyZWVuOnUud2Via2l0SXNGdWxsU2NyZWVuIT09dm9pZCAwP3MuaXNGdWxsc2NyZWVuPXUud2Via2l0SXNGdWxsU2NyZWVuOnUubXNJc0Z1bGxTY3JlZW4hPT12b2lkIDAmJihzLmlzRnVsbHNjcmVlbj11Lm1zSXNGdWxsU2NyZWVuKSxzLmlzRnVsbHNjcmVlbiYmcy5fcG9pbnRlckxvY2tSZXF1ZXN0ZWQmJm8mJmUuX1JlcXVlc3RQb2ludGVybG9jayhvKX0sZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigiZnVsbHNjcmVlbmNoYW5nZSIscy5fb25GdWxsc2NyZWVuQ2hhbmdlLCExKSxkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJtb3pmdWxsc2NyZWVuY2hhbmdlIixzLl9vbkZ1bGxzY3JlZW5DaGFuZ2UsITEpLGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoIndlYmtpdGZ1bGxzY3JlZW5jaGFuZ2UiLHMuX29uRnVsbHNjcmVlbkNoYW5nZSwhMSksZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigibXNmdWxsc2NyZWVuY2hhbmdlIixzLl9vbkZ1bGxzY3JlZW5DaGFuZ2UsITEpLHMuX29uUG9pbnRlckxvY2tDaGFuZ2U9ZnVuY3Rpb24oKXtzLmlzUG9pbnRlckxvY2s9dS5tb3pQb2ludGVyTG9ja0VsZW1lbnQ9PT1vfHx1LndlYmtpdFBvaW50ZXJMb2NrRWxlbWVudD09PW98fHUubXNQb2ludGVyTG9ja0VsZW1lbnQ9PT1vfHx1LnBvaW50ZXJMb2NrRWxlbWVudD09PW99LGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoInBvaW50ZXJsb2NrY2hhbmdlIixzLl9vblBvaW50ZXJMb2NrQ2hhbmdlLCExKSxkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJtc3BvaW50ZXJsb2NrY2hhbmdlIixzLl9vblBvaW50ZXJMb2NrQ2hhbmdlLCExKSxkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJtb3pwb2ludGVybG9ja2NoYW5nZSIscy5fb25Qb2ludGVyTG9ja0NoYW5nZSwhMSksZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigid2Via2l0cG9pbnRlcmxvY2tjaGFuZ2UiLHMuX29uUG9pbnRlckxvY2tDaGFuZ2UsITEpLCFlLmF1ZGlvRW5naW5lJiZuLmF1ZGlvRW5naW5lJiZlLkF1ZGlvRW5naW5lRmFjdG9yeSYmKGUuYXVkaW9FbmdpbmU9ZS5BdWRpb0VuZ2luZUZhY3Rvcnkocy5nZXRSZW5kZXJpbmdDYW52YXMoKSxzLmdldEF1ZGlvQ29udGV4dCgpLHMuZ2V0QXVkaW9EZXN0aW5hdGlvbigpKSl9cy5fY29ubmVjdFZSRXZlbnRzKCkscy5lbmFibGVPZmZsaW5lU3VwcG9ydD1lLk9mZmxpbmVQcm92aWRlckZhY3RvcnkhPT12b2lkIDAscy5fZGV0ZXJtaW5pc3RpY0xvY2tzdGVwPSEhbi5kZXRlcm1pbmlzdGljTG9ja3N0ZXAscy5fbG9ja3N0ZXBNYXhTdGVwcz1uLmxvY2tzdGVwTWF4U3RlcHN8fDAscy5fdGltZVN0ZXA9bi50aW1lU3RlcHx8MS82MH1yZXR1cm4gcy5fcHJlcGFyZVZSQ29tcG9uZW50KCksbi5hdXRvRW5hYmxlV2ViVlImJnMuaW5pdFdlYlZSKCksc31yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIk5wbVBhY2thZ2UiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbGUuTnBtUGFja2FnZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiVmVyc2lvbiIse2dldDpmdW5jdGlvbigpe3JldHVybiBsZS5WZXJzaW9ufSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJJbnN0YW5jZXMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYWUuSW5zdGFuY2VzfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJMYXN0Q3JlYXRlZEVuZ2luZSIse2dldDpmdW5jdGlvbigpe3JldHVybiBhZS5MYXN0Q3JlYXRlZEVuZ2luZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiTGFzdENyZWF0ZWRTY2VuZSIse2dldDpmdW5jdGlvbigpe3JldHVybiBhZS5MYXN0Q3JlYXRlZFNjZW5lfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLl9jcmVhdGVJbWFnZUJpdG1hcEZyb21Tb3VyY2U9ZnVuY3Rpb24odCxyKXt2YXIgbj10aGlzLGE9bmV3IFByb21pc2UoZnVuY3Rpb24ocyxvKXt2YXIgdT1uZXcgSW1hZ2U7dS5vbmxvYWQ9ZnVuY3Rpb24oKXt1LmRlY29kZSgpLnRoZW4oZnVuY3Rpb24oKXtuLmNyZWF0ZUltYWdlQml0bWFwKHUscikudGhlbihmdW5jdGlvbihmKXtzKGYpfSl9KX0sdS5vbmVycm9yPWZ1bmN0aW9uKCl7bygiRXJyb3IgbG9hZGluZyBpbWFnZSAiLmNvbmNhdCh1LnNyYykpfSx1LnNyYz10fSk7cmV0dXJuIGF9LGUucHJvdG90eXBlLmNyZWF0ZUltYWdlQml0bWFwPWZ1bmN0aW9uKHQscil7cmV0dXJuIGNyZWF0ZUltYWdlQml0bWFwKHQscil9LGUucHJvdG90eXBlLnJlc2l6ZUltYWdlQml0bWFwPWZ1bmN0aW9uKHQscixuKXt2YXIgYT10aGlzLmNyZWF0ZUNhbnZhcyhyLG4pLHM9YS5nZXRDb250ZXh0KCIyZCIpO2lmKCFzKXRocm93IG5ldyBFcnJvcigiVW5hYmxlIHRvIGdldCAyZCBjb250ZXh0IGZvciByZXNpemVJbWFnZUJpdG1hcCIpO3MuZHJhd0ltYWdlKHQsMCwwKTt2YXIgbz1zLmdldEltYWdlRGF0YSgwLDAscixuKS5kYXRhO3JldHVybiBvfSxlLk1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5PWZ1bmN0aW9uKHQscil7Zm9yKHZhciBuPTA7bjxlLkluc3RhbmNlcy5sZW5ndGg7bisrKWZvcih2YXIgYT1lLkluc3RhbmNlc1tuXSxzPTA7czxhLnNjZW5lcy5sZW5ndGg7cysrKWEuc2NlbmVzW3NdLm1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KHQscil9LGUuRGVmYXVsdExvYWRpbmdTY3JlZW5GYWN0b3J5PWZ1bmN0aW9uKHQpe3Rocm93IFgoIkxvYWRpbmdTY3JlZW4iKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJfc3VwcG9ydHNIYXJkd2FyZVRleHR1cmVSZXNjYWxpbmciLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4hIWUuX1Jlc2NhbGVQb3N0UHJvY2Vzc0ZhY3Rvcnl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJwZXJmb3JtYW5jZU1vbml0b3IiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcGVyZm9ybWFuY2VNb25pdG9yfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiY29tcGF0aWJpbGl0eU1vZGUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY29tcGF0aWJpbGl0eU1vZGV9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9jb21wYXRpYmlsaXR5TW9kZT0hMH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5nZXRJbnB1dEVsZW1lbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmVuZGVyaW5nQ2FudmFzfSxlLnByb3RvdHlwZS5fc2hhcmVkSW5pdD1mdW5jdGlvbih0LHIsbil7dmFyIGE9dGhpcztpZihpLnByb3RvdHlwZS5fc2hhcmVkSW5pdC5jYWxsKHRoaXMsdCxyLG4pLHRoaXMuX29uQ2FudmFzRm9jdXM9ZnVuY3Rpb24oKXthLm9uQ2FudmFzRm9jdXNPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhhKX0sdGhpcy5fb25DYW52YXNCbHVyPWZ1bmN0aW9uKCl7YS5vbkNhbnZhc0JsdXJPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhhKX0sdC5hZGRFdmVudExpc3RlbmVyKCJmb2N1cyIsdGhpcy5fb25DYW52YXNGb2N1cyksdC5hZGRFdmVudExpc3RlbmVyKCJibHVyIix0aGlzLl9vbkNhbnZhc0JsdXIpLHRoaXMuX29uQmx1cj1mdW5jdGlvbigpe2EuZGlzYWJsZVBlcmZvcm1hbmNlTW9uaXRvckluQmFja2dyb3VuZCYmYS5fcGVyZm9ybWFuY2VNb25pdG9yLmRpc2FibGUoKSxhLl93aW5kb3dJc0JhY2tncm91bmQ9ITB9LHRoaXMuX29uRm9jdXM9ZnVuY3Rpb24oKXthLmRpc2FibGVQZXJmb3JtYW5jZU1vbml0b3JJbkJhY2tncm91bmQmJmEuX3BlcmZvcm1hbmNlTW9uaXRvci5lbmFibGUoKSxhLl93aW5kb3dJc0JhY2tncm91bmQ9ITF9LHRoaXMuX29uQ2FudmFzUG9pbnRlck91dD1mdW5jdGlvbihvKXtkb2N1bWVudC5lbGVtZW50RnJvbVBvaW50KG8uY2xpZW50WCxvLmNsaWVudFkpIT09dCYmYS5vbkNhbnZhc1BvaW50ZXJPdXRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhvKX0seWUoKSl7dmFyIHM9dGhpcy5nZXRIb3N0V2luZG93KCk7cyYmKHMuYWRkRXZlbnRMaXN0ZW5lcigiYmx1ciIsdGhpcy5fb25CbHVyKSxzLmFkZEV2ZW50TGlzdGVuZXIoImZvY3VzIix0aGlzLl9vbkZvY3VzKSl9dC5hZGRFdmVudExpc3RlbmVyKCJwb2ludGVyb3V0Iix0aGlzLl9vbkNhbnZhc1BvaW50ZXJPdXQpLHJ8fHRoaXMuX2Rpc2FibGVUb3VjaEFjdGlvbigpLCFlLmF1ZGlvRW5naW5lJiZuJiZlLkF1ZGlvRW5naW5lRmFjdG9yeSYmKGUuYXVkaW9FbmdpbmU9ZS5BdWRpb0VuZ2luZUZhY3RvcnkodGhpcy5nZXRSZW5kZXJpbmdDYW52YXMoKSx0aGlzLmdldEF1ZGlvQ29udGV4dCgpLHRoaXMuZ2V0QXVkaW9EZXN0aW5hdGlvbigpKSl9LGUucHJvdG90eXBlLmdldEFzcGVjdFJhdGlvPWZ1bmN0aW9uKHQscil7cj09PXZvaWQgMCYmKHI9ITEpO3ZhciBuPXQudmlld3BvcnQ7cmV0dXJuIHRoaXMuZ2V0UmVuZGVyV2lkdGgocikqbi53aWR0aC8odGhpcy5nZXRSZW5kZXJIZWlnaHQocikqbi5oZWlnaHQpfSxlLnByb3RvdHlwZS5nZXRTY3JlZW5Bc3BlY3RSYXRpbz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFJlbmRlcldpZHRoKCEwKS90aGlzLmdldFJlbmRlckhlaWdodCghMCl9LGUucHJvdG90eXBlLmdldFJlbmRlcmluZ0NhbnZhc0NsaWVudFJlY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmVuZGVyaW5nQ2FudmFzP3RoaXMuX3JlbmRlcmluZ0NhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTpudWxsfSxlLnByb3RvdHlwZS5nZXRJbnB1dEVsZW1lbnRDbGllbnRSZWN0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JlbmRlcmluZ0NhbnZhcz90aGlzLmdldElucHV0RWxlbWVudCgpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOm51bGx9LGUucHJvdG90eXBlLmlzRGV0ZXJtaW5pc3RpY0xvY2tTdGVwPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RldGVybWluaXN0aWNMb2Nrc3RlcH0sZS5wcm90b3R5cGUuZ2V0TG9ja3N0ZXBNYXhTdGVwcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9sb2Nrc3RlcE1heFN0ZXBzfSxlLnByb3RvdHlwZS5nZXRUaW1lU3RlcD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl90aW1lU3RlcCoxZTN9LGUucHJvdG90eXBlLmdlbmVyYXRlTWlwTWFwc0ZvckN1YmVtYXA9ZnVuY3Rpb24odCxyKXtpZihyPT09dm9pZCAwJiYocj0hMCksdC5nZW5lcmF0ZU1pcE1hcHMpe3ZhciBuPXRoaXMuX2dsO3RoaXMuX2JpbmRUZXh0dXJlRGlyZWN0bHkobi5URVhUVVJFX0NVQkVfTUFQLHQsITApLG4uZ2VuZXJhdGVNaXBtYXAobi5URVhUVVJFX0NVQkVfTUFQKSxyJiZ0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KG4uVEVYVFVSRV9DVUJFX01BUCxudWxsKX19LGUucHJvdG90eXBlLmdldERlcHRoQnVmZmVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RlcHRoQ3VsbGluZ1N0YXRlLmRlcHRoVGVzdH0sZS5wcm90b3R5cGUuc2V0RGVwdGhCdWZmZXI9ZnVuY3Rpb24odCl7dGhpcy5fZGVwdGhDdWxsaW5nU3RhdGUuZGVwdGhUZXN0PXR9LGUucHJvdG90eXBlLmdldERlcHRoV3JpdGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGVwdGhDdWxsaW5nU3RhdGUuZGVwdGhNYXNrfSxlLnByb3RvdHlwZS5zZXREZXB0aFdyaXRlPWZ1bmN0aW9uKHQpe3RoaXMuX2RlcHRoQ3VsbGluZ1N0YXRlLmRlcHRoTWFzaz10fSxlLnByb3RvdHlwZS5nZXRTdGVuY2lsQnVmZmVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0ZW5jaWxTdGF0ZS5zdGVuY2lsVGVzdH0sZS5wcm90b3R5cGUuc2V0U3RlbmNpbEJ1ZmZlcj1mdW5jdGlvbih0KXt0aGlzLl9zdGVuY2lsU3RhdGUuc3RlbmNpbFRlc3Q9dH0sZS5wcm90b3R5cGUuZ2V0U3RlbmNpbE1hc2s9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RlbmNpbFN0YXRlLnN0ZW5jaWxNYXNrfSxlLnByb3RvdHlwZS5zZXRTdGVuY2lsTWFzaz1mdW5jdGlvbih0KXt0aGlzLl9zdGVuY2lsU3RhdGUuc3RlbmNpbE1hc2s9dH0sZS5wcm90b3R5cGUuZ2V0U3RlbmNpbEZ1bmN0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0ZW5jaWxTdGF0ZS5zdGVuY2lsRnVuY30sZS5wcm90b3R5cGUuZ2V0U3RlbmNpbEZ1bmN0aW9uUmVmZXJlbmNlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0ZW5jaWxTdGF0ZS5zdGVuY2lsRnVuY1JlZn0sZS5wcm90b3R5cGUuZ2V0U3RlbmNpbEZ1bmN0aW9uTWFzaz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdGVuY2lsU3RhdGUuc3RlbmNpbEZ1bmNNYXNrfSxlLnByb3RvdHlwZS5zZXRTdGVuY2lsRnVuY3Rpb249ZnVuY3Rpb24odCl7dGhpcy5fc3RlbmNpbFN0YXRlLnN0ZW5jaWxGdW5jPXR9LGUucHJvdG90eXBlLnNldFN0ZW5jaWxGdW5jdGlvblJlZmVyZW5jZT1mdW5jdGlvbih0KXt0aGlzLl9zdGVuY2lsU3RhdGUuc3RlbmNpbEZ1bmNSZWY9dH0sZS5wcm90b3R5cGUuc2V0U3RlbmNpbEZ1bmN0aW9uTWFzaz1mdW5jdGlvbih0KXt0aGlzLl9zdGVuY2lsU3RhdGUuc3RlbmNpbEZ1bmNNYXNrPXR9LGUucHJvdG90eXBlLmdldFN0ZW5jaWxPcGVyYXRpb25GYWlsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0ZW5jaWxTdGF0ZS5zdGVuY2lsT3BTdGVuY2lsRmFpbH0sZS5wcm90b3R5cGUuZ2V0U3RlbmNpbE9wZXJhdGlvbkRlcHRoRmFpbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdGVuY2lsU3RhdGUuc3RlbmNpbE9wRGVwdGhGYWlsfSxlLnByb3RvdHlwZS5nZXRTdGVuY2lsT3BlcmF0aW9uUGFzcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdGVuY2lsU3RhdGUuc3RlbmNpbE9wU3RlbmNpbERlcHRoUGFzc30sZS5wcm90b3R5cGUuc2V0U3RlbmNpbE9wZXJhdGlvbkZhaWw9ZnVuY3Rpb24odCl7dGhpcy5fc3RlbmNpbFN0YXRlLnN0ZW5jaWxPcFN0ZW5jaWxGYWlsPXR9LGUucHJvdG90eXBlLnNldFN0ZW5jaWxPcGVyYXRpb25EZXB0aEZhaWw9ZnVuY3Rpb24odCl7dGhpcy5fc3RlbmNpbFN0YXRlLnN0ZW5jaWxPcERlcHRoRmFpbD10fSxlLnByb3RvdHlwZS5zZXRTdGVuY2lsT3BlcmF0aW9uUGFzcz1mdW5jdGlvbih0KXt0aGlzLl9zdGVuY2lsU3RhdGUuc3RlbmNpbE9wU3RlbmNpbERlcHRoUGFzcz10fSxlLnByb3RvdHlwZS5zZXREaXRoZXJpbmdTdGF0ZT1mdW5jdGlvbih0KXt0P3RoaXMuX2dsLmVuYWJsZSh0aGlzLl9nbC5ESVRIRVIpOnRoaXMuX2dsLmRpc2FibGUodGhpcy5fZ2wuRElUSEVSKX0sZS5wcm90b3R5cGUuc2V0UmFzdGVyaXplclN0YXRlPWZ1bmN0aW9uKHQpe3Q/dGhpcy5fZ2wuZGlzYWJsZSh0aGlzLl9nbC5SQVNURVJJWkVSX0RJU0NBUkQpOnRoaXMuX2dsLmVuYWJsZSh0aGlzLl9nbC5SQVNURVJJWkVSX0RJU0NBUkQpfSxlLnByb3RvdHlwZS5nZXREZXB0aEZ1bmN0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RlcHRoQ3VsbGluZ1N0YXRlLmRlcHRoRnVuY30sZS5wcm90b3R5cGUuc2V0RGVwdGhGdW5jdGlvbj1mdW5jdGlvbih0KXt0aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS5kZXB0aEZ1bmM9dH0sZS5wcm90b3R5cGUuc2V0RGVwdGhGdW5jdGlvblRvR3JlYXRlcj1mdW5jdGlvbigpe3RoaXMuc2V0RGVwdGhGdW5jdGlvbig1MTYpfSxlLnByb3RvdHlwZS5zZXREZXB0aEZ1bmN0aW9uVG9HcmVhdGVyT3JFcXVhbD1mdW5jdGlvbigpe3RoaXMuc2V0RGVwdGhGdW5jdGlvbig1MTgpfSxlLnByb3RvdHlwZS5zZXREZXB0aEZ1bmN0aW9uVG9MZXNzPWZ1bmN0aW9uKCl7dGhpcy5zZXREZXB0aEZ1bmN0aW9uKDUxMyl9LGUucHJvdG90eXBlLnNldERlcHRoRnVuY3Rpb25Ub0xlc3NPckVxdWFsPWZ1bmN0aW9uKCl7dGhpcy5zZXREZXB0aEZ1bmN0aW9uKDUxNSl9LGUucHJvdG90eXBlLmNhY2hlU3RlbmNpbFN0YXRlPWZ1bmN0aW9uKCl7dGhpcy5fY2FjaGVkU3RlbmNpbEJ1ZmZlcj10aGlzLmdldFN0ZW5jaWxCdWZmZXIoKSx0aGlzLl9jYWNoZWRTdGVuY2lsRnVuY3Rpb249dGhpcy5nZXRTdGVuY2lsRnVuY3Rpb24oKSx0aGlzLl9jYWNoZWRTdGVuY2lsTWFzaz10aGlzLmdldFN0ZW5jaWxNYXNrKCksdGhpcy5fY2FjaGVkU3RlbmNpbE9wZXJhdGlvblBhc3M9dGhpcy5nZXRTdGVuY2lsT3BlcmF0aW9uUGFzcygpLHRoaXMuX2NhY2hlZFN0ZW5jaWxPcGVyYXRpb25GYWlsPXRoaXMuZ2V0U3RlbmNpbE9wZXJhdGlvbkZhaWwoKSx0aGlzLl9jYWNoZWRTdGVuY2lsT3BlcmF0aW9uRGVwdGhGYWlsPXRoaXMuZ2V0U3RlbmNpbE9wZXJhdGlvbkRlcHRoRmFpbCgpLHRoaXMuX2NhY2hlZFN0ZW5jaWxSZWZlcmVuY2U9dGhpcy5nZXRTdGVuY2lsRnVuY3Rpb25SZWZlcmVuY2UoKX0sZS5wcm90b3R5cGUucmVzdG9yZVN0ZW5jaWxTdGF0ZT1mdW5jdGlvbigpe3RoaXMuc2V0U3RlbmNpbEZ1bmN0aW9uKHRoaXMuX2NhY2hlZFN0ZW5jaWxGdW5jdGlvbiksdGhpcy5zZXRTdGVuY2lsTWFzayh0aGlzLl9jYWNoZWRTdGVuY2lsTWFzayksdGhpcy5zZXRTdGVuY2lsQnVmZmVyKHRoaXMuX2NhY2hlZFN0ZW5jaWxCdWZmZXIpLHRoaXMuc2V0U3RlbmNpbE9wZXJhdGlvblBhc3ModGhpcy5fY2FjaGVkU3RlbmNpbE9wZXJhdGlvblBhc3MpLHRoaXMuc2V0U3RlbmNpbE9wZXJhdGlvbkZhaWwodGhpcy5fY2FjaGVkU3RlbmNpbE9wZXJhdGlvbkZhaWwpLHRoaXMuc2V0U3RlbmNpbE9wZXJhdGlvbkRlcHRoRmFpbCh0aGlzLl9jYWNoZWRTdGVuY2lsT3BlcmF0aW9uRGVwdGhGYWlsKSx0aGlzLnNldFN0ZW5jaWxGdW5jdGlvblJlZmVyZW5jZSh0aGlzLl9jYWNoZWRTdGVuY2lsUmVmZXJlbmNlKX0sZS5wcm90b3R5cGUuc2V0RGlyZWN0Vmlld3BvcnQ9ZnVuY3Rpb24odCxyLG4sYSl7dmFyIHM9dGhpcy5fY2FjaGVkVmlld3BvcnQ7cmV0dXJuIHRoaXMuX2NhY2hlZFZpZXdwb3J0PW51bGwsdGhpcy5fdmlld3BvcnQodCxyLG4sYSksc30sZS5wcm90b3R5cGUuc2Npc3NvckNsZWFyPWZ1bmN0aW9uKHQscixuLGEscyl7dGhpcy5lbmFibGVTY2lzc29yKHQscixuLGEpLHRoaXMuY2xlYXIocywhMCwhMCwhMCksdGhpcy5kaXNhYmxlU2Npc3NvcigpfSxlLnByb3RvdHlwZS5lbmFibGVTY2lzc29yPWZ1bmN0aW9uKHQscixuLGEpe3ZhciBzPXRoaXMuX2dsO3MuZW5hYmxlKHMuU0NJU1NPUl9URVNUKSxzLnNjaXNzb3IodCxyLG4sYSl9LGUucHJvdG90eXBlLmRpc2FibGVTY2lzc29yPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fZ2w7dC5kaXNhYmxlKHQuU0NJU1NPUl9URVNUKX0sZS5wcm90b3R5cGUuX3JlcG9ydERyYXdDYWxsPWZ1bmN0aW9uKHQpe3Q9PT12b2lkIDAmJih0PTEpLHRoaXMuX2RyYXdDYWxscy5hZGRDb3VudCh0LCExKX0sZS5wcm90b3R5cGUuaW5pdFdlYlZSPWZ1bmN0aW9uKCl7dGhyb3cgWCgiV2ViVlJDYW1lcmEiKX0sZS5wcm90b3R5cGUuX3ByZXBhcmVWUkNvbXBvbmVudD1mdW5jdGlvbigpe30sZS5wcm90b3R5cGUuX2Nvbm5lY3RWUkV2ZW50cz1mdW5jdGlvbih0LHIpe30sZS5wcm90b3R5cGUuX3N1Ym1pdFZSRnJhbWU9ZnVuY3Rpb24oKXt9LGUucHJvdG90eXBlLmRpc2FibGVWUj1mdW5jdGlvbigpe30sZS5wcm90b3R5cGUuaXNWUlByZXNlbnRpbmc9ZnVuY3Rpb24oKXtyZXR1cm4hMX0sZS5wcm90b3R5cGUuX3JlcXVlc3RWUkZyYW1lPWZ1bmN0aW9uKCl7fSxlLnByb3RvdHlwZS5fbG9hZEZpbGVBc3luYz1mdW5jdGlvbih0LHIsbil7dmFyIGE9dGhpcztyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocyxvKXthLl9sb2FkRmlsZSh0LGZ1bmN0aW9uKHUpe3ModSl9LHZvaWQgMCxyLG4sZnVuY3Rpb24odSxmKXtvKGYpfSl9KX0sZS5wcm90b3R5cGUuZ2V0VmVydGV4U2hhZGVyU291cmNlPWZ1bmN0aW9uKHQpe3ZhciByPXRoaXMuX2dsLmdldEF0dGFjaGVkU2hhZGVycyh0KTtyZXR1cm4gcj90aGlzLl9nbC5nZXRTaGFkZXJTb3VyY2UoclswXSk6bnVsbH0sZS5wcm90b3R5cGUuZ2V0RnJhZ21lbnRTaGFkZXJTb3VyY2U9ZnVuY3Rpb24odCl7dmFyIHI9dGhpcy5fZ2wuZ2V0QXR0YWNoZWRTaGFkZXJzKHQpO3JldHVybiByP3RoaXMuX2dsLmdldFNoYWRlclNvdXJjZShyWzFdKTpudWxsfSxlLnByb3RvdHlwZS5zZXREZXB0aFN0ZW5jaWxUZXh0dXJlPWZ1bmN0aW9uKHQscixuLGEpe3QhPT12b2lkIDAmJihyJiYodGhpcy5fYm91bmRVbmlmb3Jtc1t0XT1yKSwhbnx8IW4uZGVwdGhTdGVuY2lsVGV4dHVyZT90aGlzLl9zZXRUZXh0dXJlKHQsbnVsbCx2b2lkIDAsdm9pZCAwLGEpOnRoaXMuX3NldFRleHR1cmUodCxuLCExLCEwLGEpKX0sZS5wcm90b3R5cGUuc2V0VGV4dHVyZUZyb21Qb3N0UHJvY2Vzcz1mdW5jdGlvbih0LHIsbil7dmFyIGEscz1udWxsO3ImJihyLl90ZXh0dXJlcy5kYXRhW3IuX2N1cnJlbnRSZW5kZXJUZXh0dXJlSW5kXT9zPXIuX3RleHR1cmVzLmRhdGFbci5fY3VycmVudFJlbmRlclRleHR1cmVJbmRdOnIuX2ZvcmNlZE91dHB1dFRleHR1cmUmJihzPXIuX2ZvcmNlZE91dHB1dFRleHR1cmUpKSx0aGlzLl9iaW5kVGV4dHVyZSh0LChhPXM9PW51bGw/dm9pZCAwOnMudGV4dHVyZSkhPT1udWxsJiZhIT09dm9pZCAwP2E6bnVsbCxuKX0sZS5wcm90b3R5cGUuc2V0VGV4dHVyZUZyb21Qb3N0UHJvY2Vzc091dHB1dD1mdW5jdGlvbih0LHIsbil7dmFyIGEsczt0aGlzLl9iaW5kVGV4dHVyZSh0LChzPShhPXI9PW51bGw/dm9pZCAwOnIuX291dHB1dFRleHR1cmUpPT09bnVsbHx8YT09PXZvaWQgMD92b2lkIDA6YS50ZXh0dXJlKSE9PW51bGwmJnMhPT12b2lkIDA/czpudWxsLG4pfSxlLnByb3RvdHlwZS5fcmVidWlsZEJ1ZmZlcnM9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9MCxyPXRoaXMuc2NlbmVzO3Q8ci5sZW5ndGg7dCsrKXt2YXIgbj1yW3RdO24ucmVzZXRDYWNoZWRNYXRlcmlhbCgpLG4uX3JlYnVpbGRHZW9tZXRyaWVzKCksbi5fcmVidWlsZFRleHR1cmVzKCl9Zm9yKHZhciBhPTAscz10aGlzLl92aXJ0dWFsU2NlbmVzO2E8cy5sZW5ndGg7YSsrKXt2YXIgbj1zW2FdO24ucmVzZXRDYWNoZWRNYXRlcmlhbCgpLG4uX3JlYnVpbGRHZW9tZXRyaWVzKCksbi5fcmVidWlsZFRleHR1cmVzKCl9aS5wcm90b3R5cGUuX3JlYnVpbGRCdWZmZXJzLmNhbGwodGhpcyl9LGUucHJvdG90eXBlLl9yZW5kZXJGcmFtZT1mdW5jdGlvbigpe2Zvcih2YXIgdD0wO3Q8dGhpcy5fYWN0aXZlUmVuZGVyTG9vcHMubGVuZ3RoO3QrKyl7dmFyIHI9dGhpcy5fYWN0aXZlUmVuZGVyTG9vcHNbdF07cigpfX0sZS5wcm90b3R5cGUuX3JlbmRlckxvb3A9ZnVuY3Rpb24oKXtpZighdGhpcy5fY29udGV4dFdhc0xvc3Qpe3ZhciB0PSEwOyF0aGlzLnJlbmRlckV2ZW5JbkJhY2tncm91bmQmJnRoaXMuX3dpbmRvd0lzQmFja2dyb3VuZCYmKHQ9ITEpLHQmJih0aGlzLmJlZ2luRnJhbWUoKSx0aGlzLl9yZW5kZXJWaWV3cygpfHx0aGlzLl9yZW5kZXJGcmFtZSgpLHRoaXMuZW5kRnJhbWUoKSl9dGhpcy5fYWN0aXZlUmVuZGVyTG9vcHMubGVuZ3RoPjA/dGhpcy5jdXN0b21BbmltYXRpb25GcmFtZVJlcXVlc3Rlcj8odGhpcy5jdXN0b21BbmltYXRpb25GcmFtZVJlcXVlc3Rlci5yZXF1ZXN0SUQ9dGhpcy5fcXVldWVOZXdGcmFtZSh0aGlzLmN1c3RvbUFuaW1hdGlvbkZyYW1lUmVxdWVzdGVyLnJlbmRlckZ1bmN0aW9ufHx0aGlzLl9ib3VuZFJlbmRlckZ1bmN0aW9uLHRoaXMuY3VzdG9tQW5pbWF0aW9uRnJhbWVSZXF1ZXN0ZXIpLHRoaXMuX2ZyYW1lSGFuZGxlcj10aGlzLmN1c3RvbUFuaW1hdGlvbkZyYW1lUmVxdWVzdGVyLnJlcXVlc3RJRCk6dGhpcy5pc1ZSUHJlc2VudGluZygpP3RoaXMuX3JlcXVlc3RWUkZyYW1lKCk6dGhpcy5fZnJhbWVIYW5kbGVyPXRoaXMuX3F1ZXVlTmV3RnJhbWUodGhpcy5fYm91bmRSZW5kZXJGdW5jdGlvbix0aGlzLmdldEhvc3RXaW5kb3coKSk6dGhpcy5fcmVuZGVyaW5nUXVldWVMYXVuY2hlZD0hMX0sZS5wcm90b3R5cGUuX3JlbmRlclZpZXdzPWZ1bmN0aW9uKCl7cmV0dXJuITF9LGUucHJvdG90eXBlLnN3aXRjaEZ1bGxzY3JlZW49ZnVuY3Rpb24odCl7dGhpcy5pc0Z1bGxzY3JlZW4/dGhpcy5leGl0RnVsbHNjcmVlbigpOnRoaXMuZW50ZXJGdWxsc2NyZWVuKHQpfSxlLnByb3RvdHlwZS5lbnRlckZ1bGxzY3JlZW49ZnVuY3Rpb24odCl7dGhpcy5pc0Z1bGxzY3JlZW58fCh0aGlzLl9wb2ludGVyTG9ja1JlcXVlc3RlZD10LHRoaXMuX3JlbmRlcmluZ0NhbnZhcyYmZS5fUmVxdWVzdEZ1bGxzY3JlZW4odGhpcy5fcmVuZGVyaW5nQ2FudmFzKSl9LGUucHJvdG90eXBlLmV4aXRGdWxsc2NyZWVuPWZ1bmN0aW9uKCl7dGhpcy5pc0Z1bGxzY3JlZW4mJmUuX0V4aXRGdWxsc2NyZWVuKCl9LGUucHJvdG90eXBlLmVudGVyUG9pbnRlcmxvY2s9ZnVuY3Rpb24oKXt0aGlzLl9yZW5kZXJpbmdDYW52YXMmJmUuX1JlcXVlc3RQb2ludGVybG9jayh0aGlzLl9yZW5kZXJpbmdDYW52YXMpfSxlLnByb3RvdHlwZS5leGl0UG9pbnRlcmxvY2s9ZnVuY3Rpb24oKXtlLl9FeGl0UG9pbnRlcmxvY2soKX0sZS5wcm90b3R5cGUuYmVnaW5GcmFtZT1mdW5jdGlvbigpe3RoaXMuX21lYXN1cmVGcHMoKSx0aGlzLm9uQmVnaW5GcmFtZU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpLGkucHJvdG90eXBlLmJlZ2luRnJhbWUuY2FsbCh0aGlzKX0sZS5wcm90b3R5cGUuZW5kRnJhbWU9ZnVuY3Rpb24oKXtpLnByb3RvdHlwZS5lbmRGcmFtZS5jYWxsKHRoaXMpLHRoaXMuX3N1Ym1pdFZSRnJhbWUoKSx0aGlzLm9uRW5kRnJhbWVPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKX0sZS5wcm90b3R5cGUucmVzaXplPWZ1bmN0aW9uKHQpe3Q9PT12b2lkIDAmJih0PSExKSwhdGhpcy5pc1ZSUHJlc2VudGluZygpJiZpLnByb3RvdHlwZS5yZXNpemUuY2FsbCh0aGlzLHQpfSxlLnByb3RvdHlwZS5zZXRTaXplPWZ1bmN0aW9uKHQscixuKXtpZihuPT09dm9pZCAwJiYobj0hMSksIXRoaXMuX3JlbmRlcmluZ0NhbnZhc3x8IWkucHJvdG90eXBlLnNldFNpemUuY2FsbCh0aGlzLHQscixuKSlyZXR1cm4hMTtpZih0aGlzLnNjZW5lcyl7Zm9yKHZhciBhPTA7YTx0aGlzLnNjZW5lcy5sZW5ndGg7YSsrKWZvcih2YXIgcz10aGlzLnNjZW5lc1thXSxvPTA7bzxzLmNhbWVyYXMubGVuZ3RoO28rKyl7dmFyIHU9cy5jYW1lcmFzW29dO3UuX2N1cnJlbnRSZW5kZXJJZD0wfXRoaXMub25SZXNpemVPYnNlcnZhYmxlLmhhc09ic2VydmVycygpJiZ0aGlzLm9uUmVzaXplT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyl9cmV0dXJuITB9LGUucHJvdG90eXBlLl9kZWxldGVQaXBlbGluZUNvbnRleHQ9ZnVuY3Rpb24odCl7dmFyIHI9dDtyJiZyLnByb2dyYW0mJnIudHJhbnNmb3JtRmVlZGJhY2smJih0aGlzLmRlbGV0ZVRyYW5zZm9ybUZlZWRiYWNrKHIudHJhbnNmb3JtRmVlZGJhY2spLHIudHJhbnNmb3JtRmVlZGJhY2s9bnVsbCksaS5wcm90b3R5cGUuX2RlbGV0ZVBpcGVsaW5lQ29udGV4dC5jYWxsKHRoaXMsdCl9LGUucHJvdG90eXBlLmNyZWF0ZVNoYWRlclByb2dyYW09ZnVuY3Rpb24odCxyLG4sYSxzLG8pe289PT12b2lkIDAmJihvPW51bGwpLHM9c3x8dGhpcy5fZ2wsdGhpcy5vbkJlZm9yZVNoYWRlckNvbXBpbGF0aW9uT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyk7dmFyIHU9aS5wcm90b3R5cGUuY3JlYXRlU2hhZGVyUHJvZ3JhbS5jYWxsKHRoaXMsdCxyLG4sYSxzLG8pO3JldHVybiB0aGlzLm9uQWZ0ZXJTaGFkZXJDb21waWxhdGlvbk9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpLHV9LGUucHJvdG90eXBlLl9jcmVhdGVTaGFkZXJQcm9ncmFtPWZ1bmN0aW9uKHQscixuLGEscyl7cz09PXZvaWQgMCYmKHM9bnVsbCk7dmFyIG89YS5jcmVhdGVQcm9ncmFtKCk7aWYodC5wcm9ncmFtPW8sIW8pdGhyb3cgbmV3IEVycm9yKCJVbmFibGUgdG8gY3JlYXRlIHByb2dyYW0iKTtpZihhLmF0dGFjaFNoYWRlcihvLHIpLGEuYXR0YWNoU2hhZGVyKG8sbiksdGhpcy53ZWJHTFZlcnNpb24+MSYmcyl7dmFyIHU9dGhpcy5jcmVhdGVUcmFuc2Zvcm1GZWVkYmFjaygpO3RoaXMuYmluZFRyYW5zZm9ybUZlZWRiYWNrKHUpLHRoaXMuc2V0VHJhbmZvcm1GZWVkYmFja1ZhcnlpbmdzKG8scyksdC50cmFuc2Zvcm1GZWVkYmFjaz11fXJldHVybiBhLmxpbmtQcm9ncmFtKG8pLHRoaXMud2ViR0xWZXJzaW9uPjEmJnMmJnRoaXMuYmluZFRyYW5zZm9ybUZlZWRiYWNrKG51bGwpLHQuY29udGV4dD1hLHQudmVydGV4U2hhZGVyPXIsdC5mcmFnbWVudFNoYWRlcj1uLHQuaXNQYXJhbGxlbENvbXBpbGVkfHx0aGlzLl9maW5hbGl6ZVBpcGVsaW5lQ29udGV4dCh0KSxvfSxlLnByb3RvdHlwZS5fcmVsZWFzZVRleHR1cmU9ZnVuY3Rpb24odCl7aS5wcm90b3R5cGUuX3JlbGVhc2VUZXh0dXJlLmNhbGwodGhpcyx0KX0sZS5wcm90b3R5cGUuX3JlbGVhc2VSZW5kZXJUYXJnZXRXcmFwcGVyPWZ1bmN0aW9uKHQpe2kucHJvdG90eXBlLl9yZWxlYXNlUmVuZGVyVGFyZ2V0V3JhcHBlci5jYWxsKHRoaXMsdCksdGhpcy5zY2VuZXMuZm9yRWFjaChmdW5jdGlvbihyKXtyLnBvc3RQcm9jZXNzZXMuZm9yRWFjaChmdW5jdGlvbihuKXtuLl9vdXRwdXRUZXh0dXJlPT09dCYmKG4uX291dHB1dFRleHR1cmU9bnVsbCl9KSxyLmNhbWVyYXMuZm9yRWFjaChmdW5jdGlvbihuKXtuLl9wb3N0UHJvY2Vzc2VzLmZvckVhY2goZnVuY3Rpb24oYSl7YSYmYS5fb3V0cHV0VGV4dHVyZT09PXQmJihhLl9vdXRwdXRUZXh0dXJlPW51bGwpfSl9KX0pfSxlLnByb3RvdHlwZS5nZXRSZW5kZXJQYXNzTmFtZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmVuZGVyUGFzc05hbWVzfSxlLnByb3RvdHlwZS5nZXRDdXJyZW50UmVuZGVyUGFzc05hbWU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmVuZGVyUGFzc05hbWVzW3RoaXMuY3VycmVudFJlbmRlclBhc3NJZF19LGUucHJvdG90eXBlLmNyZWF0ZVJlbmRlclBhc3NJZD1mdW5jdGlvbih0KXt2YXIgcj0rK2UuX1JlbmRlclBhc3NJZENvdW50ZXI7cmV0dXJuIHRoaXMuX3JlbmRlclBhc3NOYW1lc1tyXT10IT1udWxsP3Q6Ik5PTkFNRSIscn0sZS5wcm90b3R5cGUucmVsZWFzZVJlbmRlclBhc3NJZD1mdW5jdGlvbih0KXt0aGlzLl9yZW5kZXJQYXNzTmFtZXNbdF09dm9pZCAwO2Zvcih2YXIgcj0wO3I8dGhpcy5zY2VuZXMubGVuZ3RoOysrcilmb3IodmFyIG49dGhpcy5zY2VuZXNbcl0sYT0wO2E8bi5tZXNoZXMubGVuZ3RoOysrYSl7dmFyIHM9bi5tZXNoZXNbYV07aWYocy5zdWJNZXNoZXMpZm9yKHZhciBvPTA7bzxzLnN1Yk1lc2hlcy5sZW5ndGg7KytvKXt2YXIgdT1zLnN1Yk1lc2hlc1tvXTt1Ll9yZW1vdmVEcmF3V3JhcHBlcih0KX19fSxlLnByb3RvdHlwZS5fcmVzY2FsZVRleHR1cmU9ZnVuY3Rpb24odCxyLG4sYSxzKXt2YXIgbz10aGlzO3RoaXMuX2dsLnRleFBhcmFtZXRlcmkodGhpcy5fZ2wuVEVYVFVSRV8yRCx0aGlzLl9nbC5URVhUVVJFX01BR19GSUxURVIsdGhpcy5fZ2wuTElORUFSKSx0aGlzLl9nbC50ZXhQYXJhbWV0ZXJpKHRoaXMuX2dsLlRFWFRVUkVfMkQsdGhpcy5fZ2wuVEVYVFVSRV9NSU5fRklMVEVSLHRoaXMuX2dsLkxJTkVBUiksdGhpcy5fZ2wudGV4UGFyYW1ldGVyaSh0aGlzLl9nbC5URVhUVVJFXzJELHRoaXMuX2dsLlRFWFRVUkVfV1JBUF9TLHRoaXMuX2dsLkNMQU1QX1RPX0VER0UpLHRoaXMuX2dsLnRleFBhcmFtZXRlcmkodGhpcy5fZ2wuVEVYVFVSRV8yRCx0aGlzLl9nbC5URVhUVVJFX1dSQVBfVCx0aGlzLl9nbC5DTEFNUF9UT19FREdFKTt2YXIgdT10aGlzLmNyZWF0ZVJlbmRlclRhcmdldFRleHR1cmUoe3dpZHRoOnIud2lkdGgsaGVpZ2h0OnIuaGVpZ2h0fSx7Z2VuZXJhdGVNaXBNYXBzOiExLHR5cGU6MCxzYW1wbGluZ01vZGU6MixnZW5lcmF0ZURlcHRoQnVmZmVyOiExLGdlbmVyYXRlU3RlbmNpbEJ1ZmZlcjohMX0pOyF0aGlzLl9yZXNjYWxlUG9zdFByb2Nlc3MmJmUuX1Jlc2NhbGVQb3N0UHJvY2Vzc0ZhY3RvcnkmJih0aGlzLl9yZXNjYWxlUG9zdFByb2Nlc3M9ZS5fUmVzY2FsZVBvc3RQcm9jZXNzRmFjdG9yeSh0aGlzKSksdGhpcy5fcmVzY2FsZVBvc3RQcm9jZXNzLmV4dGVybmFsVGV4dHVyZVNhbXBsZXJCaW5kaW5nPSEwLHRoaXMuX3Jlc2NhbGVQb3N0UHJvY2Vzcy5nZXRFZmZlY3QoKS5leGVjdXRlV2hlbkNvbXBpbGVkKGZ1bmN0aW9uKCl7by5fcmVzY2FsZVBvc3RQcm9jZXNzLm9uQXBwbHk9ZnVuY3Rpb24obCl7bC5fYmluZFRleHR1cmUoInRleHR1cmVTYW1wbGVyIix0KX07dmFyIGY9bjtmfHwoZj1vLnNjZW5lc1tvLnNjZW5lcy5sZW5ndGgtMV0pLGYucG9zdFByb2Nlc3NNYW5hZ2VyLmRpcmVjdFJlbmRlcihbby5fcmVzY2FsZVBvc3RQcm9jZXNzXSx1LCEwKSxvLl9iaW5kVGV4dHVyZURpcmVjdGx5KG8uX2dsLlRFWFRVUkVfMkQsciwhMCksby5fZ2wuY29weVRleEltYWdlMkQoby5fZ2wuVEVYVFVSRV8yRCwwLGEsMCwwLHIud2lkdGgsci5oZWlnaHQsMCksby51bkJpbmRGcmFtZWJ1ZmZlcih1KSx1LmRpc3Bvc2UoKSxzJiZzKCl9KX0sZS5wcm90b3R5cGUuZ2V0RnBzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Zwc30sZS5wcm90b3R5cGUuZ2V0RGVsdGFUaW1lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RlbHRhVGltZX0sZS5wcm90b3R5cGUuX21lYXN1cmVGcHM9ZnVuY3Rpb24oKXt0aGlzLl9wZXJmb3JtYW5jZU1vbml0b3Iuc2FtcGxlRnJhbWUoKSx0aGlzLl9mcHM9dGhpcy5fcGVyZm9ybWFuY2VNb25pdG9yLmF2ZXJhZ2VGUFMsdGhpcy5fZGVsdGFUaW1lPXRoaXMuX3BlcmZvcm1hbmNlTW9uaXRvci5pbnN0YW50YW5lb3VzRnJhbWVUaW1lfHwwfSxlLnByb3RvdHlwZS53cmFwV2ViR0xUZXh0dXJlPWZ1bmN0aW9uKHQpe3ZhciByPW5ldyB4aSh0LHRoaXMuX2dsKSxuPW5ldyBMdCh0aGlzLG1lLlVua25vd24sITApO3JldHVybiBuLl9oYXJkd2FyZVRleHR1cmU9cixuLmlzUmVhZHk9ITAsbn0sZS5wcm90b3R5cGUuX3VwbG9hZEltYWdlVG9UZXh0dXJlPWZ1bmN0aW9uKHQscixuLGEpe249PT12b2lkIDAmJihuPTApLGE9PT12b2lkIDAmJihhPTApO3ZhciBzPXRoaXMuX2dsLG89dGhpcy5fZ2V0V2ViR0xUZXh0dXJlVHlwZSh0LnR5cGUpLHU9dGhpcy5fZ2V0SW50ZXJuYWxGb3JtYXQodC5mb3JtYXQpLGY9dGhpcy5fZ2V0UkdCQUJ1ZmZlckludGVybmFsU2l6ZWRGb3JtYXQodC50eXBlLHUpLGw9dC5pc0N1YmU/cy5URVhUVVJFX0NVQkVfTUFQOnMuVEVYVFVSRV8yRDt0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KGwsdCwhMCksdGhpcy5fdW5wYWNrRmxpcFkodC5pbnZlcnRZKTt2YXIgaD1zLlRFWFRVUkVfMkQ7dC5pc0N1YmUmJihoPXMuVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9YK24pLHMudGV4SW1hZ2UyRChoLGEsZix1LG8sciksdGhpcy5fYmluZFRleHR1cmVEaXJlY3RseShsLG51bGwsITApfSxlLnByb3RvdHlwZS51cGRhdGVUZXh0dXJlQ29tcGFyaXNvbkZ1bmN0aW9uPWZ1bmN0aW9uKHQscil7aWYodGhpcy53ZWJHTFZlcnNpb249PT0xKXtXLkVycm9yKCJXZWJHTCAxIGRvZXMgbm90IHN1cHBvcnQgdGV4dHVyZSBjb21wYXJpc29uLiIpO3JldHVybn12YXIgbj10aGlzLl9nbDt0LmlzQ3ViZT8odGhpcy5fYmluZFRleHR1cmVEaXJlY3RseSh0aGlzLl9nbC5URVhUVVJFX0NVQkVfTUFQLHQsITApLHI9PT0wPyhuLnRleFBhcmFtZXRlcmkobi5URVhUVVJFX0NVQkVfTUFQLG4uVEVYVFVSRV9DT01QQVJFX0ZVTkMsNTE1KSxuLnRleFBhcmFtZXRlcmkobi5URVhUVVJFX0NVQkVfTUFQLG4uVEVYVFVSRV9DT01QQVJFX01PREUsbi5OT05FKSk6KG4udGV4UGFyYW1ldGVyaShuLlRFWFRVUkVfQ1VCRV9NQVAsbi5URVhUVVJFX0NPTVBBUkVfRlVOQyxyKSxuLnRleFBhcmFtZXRlcmkobi5URVhUVVJFX0NVQkVfTUFQLG4uVEVYVFVSRV9DT01QQVJFX01PREUsbi5DT01QQVJFX1JFRl9UT19URVhUVVJFKSksdGhpcy5fYmluZFRleHR1cmVEaXJlY3RseSh0aGlzLl9nbC5URVhUVVJFX0NVQkVfTUFQLG51bGwpKToodGhpcy5fYmluZFRleHR1cmVEaXJlY3RseSh0aGlzLl9nbC5URVhUVVJFXzJELHQsITApLHI9PT0wPyhuLnRleFBhcmFtZXRlcmkobi5URVhUVVJFXzJELG4uVEVYVFVSRV9DT01QQVJFX0ZVTkMsNTE1KSxuLnRleFBhcmFtZXRlcmkobi5URVhUVVJFXzJELG4uVEVYVFVSRV9DT01QQVJFX01PREUsbi5OT05FKSk6KG4udGV4UGFyYW1ldGVyaShuLlRFWFRVUkVfMkQsbi5URVhUVVJFX0NPTVBBUkVfRlVOQyxyKSxuLnRleFBhcmFtZXRlcmkobi5URVhUVVJFXzJELG4uVEVYVFVSRV9DT01QQVJFX01PREUsbi5DT01QQVJFX1JFRl9UT19URVhUVVJFKSksdGhpcy5fYmluZFRleHR1cmVEaXJlY3RseSh0aGlzLl9nbC5URVhUVVJFXzJELG51bGwpKSx0Ll9jb21wYXJpc29uRnVuY3Rpb249cn0sZS5wcm90b3R5cGUuY3JlYXRlSW5zdGFuY2VzQnVmZmVyPWZ1bmN0aW9uKHQpe3ZhciByPXRoaXMuX2dsLmNyZWF0ZUJ1ZmZlcigpO2lmKCFyKXRocm93IG5ldyBFcnJvcigiVW5hYmxlIHRvIGNyZWF0ZSBpbnN0YW5jZSBidWZmZXIiKTt2YXIgbj1uZXcgcXQocik7cmV0dXJuIG4uY2FwYWNpdHk9dCx0aGlzLmJpbmRBcnJheUJ1ZmZlcihuKSx0aGlzLl9nbC5idWZmZXJEYXRhKHRoaXMuX2dsLkFSUkFZX0JVRkZFUix0LHRoaXMuX2dsLkRZTkFNSUNfRFJBVyksbi5yZWZlcmVuY2VzPTEsbn0sZS5wcm90b3R5cGUuZGVsZXRlSW5zdGFuY2VzQnVmZmVyPWZ1bmN0aW9uKHQpe3RoaXMuX2dsLmRlbGV0ZUJ1ZmZlcih0KX0sZS5wcm90b3R5cGUuX2NsaWVudFdhaXRBc3luYz1mdW5jdGlvbih0LHIsbil7cj09PXZvaWQgMCYmKHI9MCksbj09PXZvaWQgMCYmKG49MTApO3ZhciBhPXRoaXMuX2dsO3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihzLG8pe3ZhciB1PWZ1bmN0aW9uKCl7dmFyIGY9YS5jbGllbnRXYWl0U3luYyh0LHIsMCk7aWYoZj09YS5XQUlUX0ZBSUxFRCl7bygpO3JldHVybn1pZihmPT1hLlRJTUVPVVRfRVhQSVJFRCl7c2V0VGltZW91dCh1LG4pO3JldHVybn1zKCl9O3UoKX0pfSxlLnByb3RvdHlwZS5fcmVhZFBpeGVsc0FzeW5jPWZ1bmN0aW9uKHQscixuLGEscyxvLHUpe2lmKHRoaXMuX3dlYkdMVmVyc2lvbjwyKXRocm93IG5ldyBFcnJvcigiX3JlYWRQaXhlbHNBc3luYyBvbmx5IHdvcmsgb24gV2ViR0wyKyIpO3ZhciBmPXRoaXMuX2dsLGw9Zi5jcmVhdGVCdWZmZXIoKTtmLmJpbmRCdWZmZXIoZi5QSVhFTF9QQUNLX0JVRkZFUixsKSxmLmJ1ZmZlckRhdGEoZi5QSVhFTF9QQUNLX0JVRkZFUix1LmJ5dGVMZW5ndGgsZi5TVFJFQU1fUkVBRCksZi5yZWFkUGl4ZWxzKHQscixuLGEscyxvLDApLGYuYmluZEJ1ZmZlcihmLlBJWEVMX1BBQ0tfQlVGRkVSLG51bGwpO3ZhciBoPWYuZmVuY2VTeW5jKGYuU1lOQ19HUFVfQ09NTUFORFNfQ09NUExFVEUsMCk7cmV0dXJuIGg/KGYuZmx1c2goKSx0aGlzLl9jbGllbnRXYWl0QXN5bmMoaCwwLDEwKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIGYuZGVsZXRlU3luYyhoKSxmLmJpbmRCdWZmZXIoZi5QSVhFTF9QQUNLX0JVRkZFUixsKSxmLmdldEJ1ZmZlclN1YkRhdGEoZi5QSVhFTF9QQUNLX0JVRkZFUiwwLHUpLGYuYmluZEJ1ZmZlcihmLlBJWEVMX1BBQ0tfQlVGRkVSLG51bGwpLGYuZGVsZXRlQnVmZmVyKGwpLHV9KSk6bnVsbH0sZS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe2Zvcih0aGlzLmhpZGVMb2FkaW5nVUkoKSx0aGlzLm9uTmV3U2NlbmVBZGRlZE9ic2VydmFibGUuY2xlYXIoKTt0aGlzLnBvc3RQcm9jZXNzZXMubGVuZ3RoOyl0aGlzLnBvc3RQcm9jZXNzZXNbMF0uZGlzcG9zZSgpO2Zvcih0aGlzLl9yZXNjYWxlUG9zdFByb2Nlc3MmJnRoaXMuX3Jlc2NhbGVQb3N0UHJvY2Vzcy5kaXNwb3NlKCk7dGhpcy5zY2VuZXMubGVuZ3RoOyl0aGlzLnNjZW5lc1swXS5kaXNwb3NlKCk7Zm9yKDt0aGlzLl92aXJ0dWFsU2NlbmVzLmxlbmd0aDspdGhpcy5fdmlydHVhbFNjZW5lc1swXS5kaXNwb3NlKCk7ZS5JbnN0YW5jZXMubGVuZ3RoPT09MSYmZS5hdWRpb0VuZ2luZSYmKGUuYXVkaW9FbmdpbmUuZGlzcG9zZSgpLGUuYXVkaW9FbmdpbmU9bnVsbCksdGhpcy5kaXNhYmxlVlIoKSx5ZSgpJiYod2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoImJsdXIiLHRoaXMuX29uQmx1ciksd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoImZvY3VzIix0aGlzLl9vbkZvY3VzKSx0aGlzLl9yZW5kZXJpbmdDYW52YXMmJih0aGlzLl9yZW5kZXJpbmdDYW52YXMucmVtb3ZlRXZlbnRMaXN0ZW5lcigiZm9jdXMiLHRoaXMuX29uQ2FudmFzRm9jdXMpLHRoaXMuX3JlbmRlcmluZ0NhbnZhcy5yZW1vdmVFdmVudExpc3RlbmVyKCJibHVyIix0aGlzLl9vbkNhbnZhc0JsdXIpLHRoaXMuX3JlbmRlcmluZ0NhbnZhcy5yZW1vdmVFdmVudExpc3RlbmVyKCJwb2ludGVyb3V0Iix0aGlzLl9vbkNhbnZhc1BvaW50ZXJPdXQpKSxscigpJiYoZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigiZnVsbHNjcmVlbmNoYW5nZSIsdGhpcy5fb25GdWxsc2NyZWVuQ2hhbmdlKSxkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCJtb3pmdWxsc2NyZWVuY2hhbmdlIix0aGlzLl9vbkZ1bGxzY3JlZW5DaGFuZ2UpLGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoIndlYmtpdGZ1bGxzY3JlZW5jaGFuZ2UiLHRoaXMuX29uRnVsbHNjcmVlbkNoYW5nZSksZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigibXNmdWxsc2NyZWVuY2hhbmdlIix0aGlzLl9vbkZ1bGxzY3JlZW5DaGFuZ2UpLGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoInBvaW50ZXJsb2NrY2hhbmdlIix0aGlzLl9vblBvaW50ZXJMb2NrQ2hhbmdlKSxkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCJtc3BvaW50ZXJsb2NrY2hhbmdlIix0aGlzLl9vblBvaW50ZXJMb2NrQ2hhbmdlKSxkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCJtb3pwb2ludGVybG9ja2NoYW5nZSIsdGhpcy5fb25Qb2ludGVyTG9ja0NoYW5nZSksZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigid2Via2l0cG9pbnRlcmxvY2tjaGFuZ2UiLHRoaXMuX29uUG9pbnRlckxvY2tDaGFuZ2UpKSksaS5wcm90b3R5cGUuZGlzcG9zZS5jYWxsKHRoaXMpO3ZhciB0PWUuSW5zdGFuY2VzLmluZGV4T2YodGhpcyk7dD49MCYmZS5JbnN0YW5jZXMuc3BsaWNlKHQsMSksdGhpcy5vblJlc2l6ZU9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQ2FudmFzQmx1ck9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQ2FudmFzRm9jdXNPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkNhbnZhc1BvaW50ZXJPdXRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkJlZ2luRnJhbWVPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkVuZEZyYW1lT2JzZXJ2YWJsZS5jbGVhcigpfSxlLnByb3RvdHlwZS5fZGlzYWJsZVRvdWNoQWN0aW9uPWZ1bmN0aW9uKCl7IXRoaXMuX3JlbmRlcmluZ0NhbnZhc3x8IXRoaXMuX3JlbmRlcmluZ0NhbnZhcy5zZXRBdHRyaWJ1dGV8fCh0aGlzLl9yZW5kZXJpbmdDYW52YXMuc2V0QXR0cmlidXRlKCJ0b3VjaC1hY3Rpb24iLCJub25lIiksdGhpcy5fcmVuZGVyaW5nQ2FudmFzLnN0eWxlLnRvdWNoQWN0aW9uPSJub25lIix0aGlzLl9yZW5kZXJpbmdDYW52YXMuc3R5bGUubXNUb3VjaEFjdGlvbj0ibm9uZSIsdGhpcy5fcmVuZGVyaW5nQ2FudmFzLnN0eWxlLndlYmtpdFRhcEhpZ2hsaWdodENvbG9yPSJ0cmFuc3BhcmVudCIpfSxlLnByb3RvdHlwZS5kaXNwbGF5TG9hZGluZ1VJPWZ1bmN0aW9uKCl7aWYoISF5ZSgpKXt2YXIgdD10aGlzLmxvYWRpbmdTY3JlZW47dCYmdC5kaXNwbGF5TG9hZGluZ1VJKCl9fSxlLnByb3RvdHlwZS5oaWRlTG9hZGluZ1VJPWZ1bmN0aW9uKCl7aWYoISF5ZSgpKXt2YXIgdD10aGlzLl9sb2FkaW5nU2NyZWVuO3QmJnQuaGlkZUxvYWRpbmdVSSgpfX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJsb2FkaW5nU2NyZWVuIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMuX2xvYWRpbmdTY3JlZW4mJnRoaXMuX3JlbmRlcmluZ0NhbnZhcyYmKHRoaXMuX2xvYWRpbmdTY3JlZW49ZS5EZWZhdWx0TG9hZGluZ1NjcmVlbkZhY3RvcnkodGhpcy5fcmVuZGVyaW5nQ2FudmFzKSksdGhpcy5fbG9hZGluZ1NjcmVlbn0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2xvYWRpbmdTY3JlZW49dH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImxvYWRpbmdVSVRleHQiLHtzZXQ6ZnVuY3Rpb24odCl7dGhpcy5sb2FkaW5nU2NyZWVuLmxvYWRpbmdVSVRleHQ9dH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImxvYWRpbmdVSUJhY2tncm91bmRDb2xvciIse3NldDpmdW5jdGlvbih0KXt0aGlzLmxvYWRpbmdTY3JlZW4ubG9hZGluZ1VJQmFja2dyb3VuZENvbG9yPXR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuY3JlYXRlVmlkZW9FbGVtZW50PWZ1bmN0aW9uKHQpe3JldHVybiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ2aWRlbyIpfSxlLl9SZXF1ZXN0UG9pbnRlcmxvY2s9ZnVuY3Rpb24odCl7dC5yZXF1ZXN0UG9pbnRlckxvY2s9dC5yZXF1ZXN0UG9pbnRlckxvY2t8fHQubXNSZXF1ZXN0UG9pbnRlckxvY2t8fHQubW96UmVxdWVzdFBvaW50ZXJMb2NrfHx0LndlYmtpdFJlcXVlc3RQb2ludGVyTG9jayx0LnJlcXVlc3RQb2ludGVyTG9jayYmKHQucmVxdWVzdFBvaW50ZXJMb2NrKCksdC5mb2N1cygpKX0sZS5fRXhpdFBvaW50ZXJsb2NrPWZ1bmN0aW9uKCl7dmFyIHQ9ZG9jdW1lbnQ7ZG9jdW1lbnQuZXhpdFBvaW50ZXJMb2NrPWRvY3VtZW50LmV4aXRQb2ludGVyTG9ja3x8dC5tc0V4aXRQb2ludGVyTG9ja3x8dC5tb3pFeGl0UG9pbnRlckxvY2t8fHQud2Via2l0RXhpdFBvaW50ZXJMb2NrLGRvY3VtZW50LmV4aXRQb2ludGVyTG9jayYmZG9jdW1lbnQuZXhpdFBvaW50ZXJMb2NrKCl9LGUuX1JlcXVlc3RGdWxsc2NyZWVuPWZ1bmN0aW9uKHQpe3ZhciByPXQucmVxdWVzdEZ1bGxzY3JlZW58fHQubXNSZXF1ZXN0RnVsbHNjcmVlbnx8dC53ZWJraXRSZXF1ZXN0RnVsbHNjcmVlbnx8dC5tb3pSZXF1ZXN0RnVsbFNjcmVlbjshcnx8ci5jYWxsKHQpfSxlLl9FeGl0RnVsbHNjcmVlbj1mdW5jdGlvbigpe3ZhciB0PWRvY3VtZW50O2RvY3VtZW50LmV4aXRGdWxsc2NyZWVuP2RvY3VtZW50LmV4aXRGdWxsc2NyZWVuKCk6dC5tb3pDYW5jZWxGdWxsU2NyZWVuP3QubW96Q2FuY2VsRnVsbFNjcmVlbigpOnQud2Via2l0Q2FuY2VsRnVsbFNjcmVlbj90LndlYmtpdENhbmNlbEZ1bGxTY3JlZW4oKTp0Lm1zQ2FuY2VsRnVsbFNjcmVlbiYmdC5tc0NhbmNlbEZ1bGxTY3JlZW4oKX0sZS5wcm90b3R5cGUuZ2V0Rm9udE9mZnNldD1mdW5jdGlvbih0KXt2YXIgcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzcGFuIik7ci5pbm5lckhUTUw9IkhnIixyLnNldEF0dHJpYnV0ZSgic3R5bGUiLCJmb250OiAiLmNvbmNhdCh0LCIgIWltcG9ydGFudCIpKTt2YXIgbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtuLnN0eWxlLmRpc3BsYXk9ImlubGluZS1ibG9jayIsbi5zdHlsZS53aWR0aD0iMXB4IixuLnN0eWxlLmhlaWdodD0iMHB4IixuLnN0eWxlLnZlcnRpY2FsQWxpZ249ImJvdHRvbSI7dmFyIGE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7YS5zdHlsZS53aGl0ZVNwYWNlPSJub3dyYXAiLGEuYXBwZW5kQ2hpbGQociksYS5hcHBlbmRDaGlsZChuKSxkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGEpO3ZhciBzPTAsbz0wO3RyeXtvPW4uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wLXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wLG4uc3R5bGUudmVydGljYWxBbGlnbj0iYmFzZWxpbmUiLHM9bi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3Atci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3B9ZmluYWxseXtkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGEpfXJldHVybnthc2NlbnQ6cyxoZWlnaHQ6byxkZXNjZW50Om8tc319LGUuQUxQSEFfRElTQUJMRT0wLGUuQUxQSEFfQUREPTEsZS5BTFBIQV9DT01CSU5FPTIsZS5BTFBIQV9TVUJUUkFDVD0zLGUuQUxQSEFfTVVMVElQTFk9NCxlLkFMUEhBX01BWElNSVpFRD01LGUuQUxQSEFfT05FT05FPTYsZS5BTFBIQV9QUkVNVUxUSVBMSUVEPTcsZS5BTFBIQV9QUkVNVUxUSVBMSUVEX1BPUlRFUkRVRkY9OCxlLkFMUEhBX0lOVEVSUE9MQVRFPTksZS5BTFBIQV9TQ1JFRU5NT0RFPTEwLGUuREVMQVlMT0FEU1RBVEVfTk9ORT0wLGUuREVMQVlMT0FEU1RBVEVfTE9BREVEPTEsZS5ERUxBWUxPQURTVEFURV9MT0FESU5HPTIsZS5ERUxBWUxPQURTVEFURV9OT1RMT0FERUQ9NCxlLk5FVkVSPTUxMixlLkFMV0FZUz01MTksZS5MRVNTPTUxMyxlLkVRVUFMPTUxNCxlLkxFUVVBTD01MTUsZS5HUkVBVEVSPTUxNixlLkdFUVVBTD01MTgsZS5OT1RFUVVBTD01MTcsZS5LRUVQPTc2ODAsZS5SRVBMQUNFPTc2ODEsZS5JTkNSPTc2ODIsZS5ERUNSPTc2ODMsZS5JTlZFUlQ9NTM4NixlLklOQ1JfV1JBUD0zNDA1NSxlLkRFQ1JfV1JBUD0zNDA1NixlLlRFWFRVUkVfQ0xBTVBfQUREUkVTU01PREU9MCxlLlRFWFRVUkVfV1JBUF9BRERSRVNTTU9ERT0xLGUuVEVYVFVSRV9NSVJST1JfQUREUkVTU01PREU9MixlLlRFWFRVUkVGT1JNQVRfQUxQSEE9MCxlLlRFWFRVUkVGT1JNQVRfTFVNSU5BTkNFPTEsZS5URVhUVVJFRk9STUFUX0xVTUlOQU5DRV9BTFBIQT0yLGUuVEVYVFVSRUZPUk1BVF9SR0I9NCxlLlRFWFRVUkVGT1JNQVRfUkdCQT01LGUuVEVYVFVSRUZPUk1BVF9SRUQ9NixlLlRFWFRVUkVGT1JNQVRfUj02LGUuVEVYVFVSRUZPUk1BVF9SRz03LGUuVEVYVFVSRUZPUk1BVF9SRURfSU5URUdFUj04LGUuVEVYVFVSRUZPUk1BVF9SX0lOVEVHRVI9OCxlLlRFWFRVUkVGT1JNQVRfUkdfSU5URUdFUj05LGUuVEVYVFVSRUZPUk1BVF9SR0JfSU5URUdFUj0xMCxlLlRFWFRVUkVGT1JNQVRfUkdCQV9JTlRFR0VSPTExLGUuVEVYVFVSRVRZUEVfVU5TSUdORURfQllURT0wLGUuVEVYVFVSRVRZUEVfVU5TSUdORURfSU5UPTAsZS5URVhUVVJFVFlQRV9GTE9BVD0xLGUuVEVYVFVSRVRZUEVfSEFMRl9GTE9BVD0yLGUuVEVYVFVSRVRZUEVfQllURT0zLGUuVEVYVFVSRVRZUEVfU0hPUlQ9NCxlLlRFWFRVUkVUWVBFX1VOU0lHTkVEX1NIT1JUPTUsZS5URVhUVVJFVFlQRV9JTlQ9NixlLlRFWFRVUkVUWVBFX1VOU0lHTkVEX0lOVEVHRVI9NyxlLlRFWFRVUkVUWVBFX1VOU0lHTkVEX1NIT1JUXzRfNF80XzQ9OCxlLlRFWFRVUkVUWVBFX1VOU0lHTkVEX1NIT1JUXzVfNV81XzE9OSxlLlRFWFRVUkVUWVBFX1VOU0lHTkVEX1NIT1JUXzVfNl81PTEwLGUuVEVYVFVSRVRZUEVfVU5TSUdORURfSU5UXzJfMTBfMTBfMTBfUkVWPTExLGUuVEVYVFVSRVRZUEVfVU5TSUdORURfSU5UXzI0Xzg9MTIsZS5URVhUVVJFVFlQRV9VTlNJR05FRF9JTlRfMTBGXzExRl8xMUZfUkVWPTEzLGUuVEVYVFVSRVRZUEVfVU5TSUdORURfSU5UXzVfOV85XzlfUkVWPTE0LGUuVEVYVFVSRVRZUEVfRkxPQVRfMzJfVU5TSUdORURfSU5UXzI0XzhfUkVWPTE1LGUuVEVYVFVSRV9ORUFSRVNUX1NBTVBMSU5HTU9ERT0xLGUuVEVYVFVSRV9CSUxJTkVBUl9TQU1QTElOR01PREU9MixlLlRFWFRVUkVfVFJJTElORUFSX1NBTVBMSU5HTU9ERT0zLGUuVEVYVFVSRV9ORUFSRVNUX05FQVJFU1RfTUlQTElORUFSPTgsZS5URVhUVVJFX0xJTkVBUl9MSU5FQVJfTUlQTkVBUkVTVD0xMSxlLlRFWFRVUkVfTElORUFSX0xJTkVBUl9NSVBMSU5FQVI9MyxlLlRFWFRVUkVfTkVBUkVTVF9ORUFSRVNUX01JUE5FQVJFU1Q9NCxlLlRFWFRVUkVfTkVBUkVTVF9MSU5FQVJfTUlQTkVBUkVTVD01LGUuVEVYVFVSRV9ORUFSRVNUX0xJTkVBUl9NSVBMSU5FQVI9NixlLlRFWFRVUkVfTkVBUkVTVF9MSU5FQVI9NyxlLlRFWFRVUkVfTkVBUkVTVF9ORUFSRVNUPTEsZS5URVhUVVJFX0xJTkVBUl9ORUFSRVNUX01JUE5FQVJFU1Q9OSxlLlRFWFRVUkVfTElORUFSX05FQVJFU1RfTUlQTElORUFSPTEwLGUuVEVYVFVSRV9MSU5FQVJfTElORUFSPTIsZS5URVhUVVJFX0xJTkVBUl9ORUFSRVNUPTEyLGUuVEVYVFVSRV9FWFBMSUNJVF9NT0RFPTAsZS5URVhUVVJFX1NQSEVSSUNBTF9NT0RFPTEsZS5URVhUVVJFX1BMQU5BUl9NT0RFPTIsZS5URVhUVVJFX0NVQklDX01PREU9MyxlLlRFWFRVUkVfUFJPSkVDVElPTl9NT0RFPTQsZS5URVhUVVJFX1NLWUJPWF9NT0RFPTUsZS5URVhUVVJFX0lOVkNVQklDX01PREU9NixlLlRFWFRVUkVfRVFVSVJFQ1RBTkdVTEFSX01PREU9NyxlLlRFWFRVUkVfRklYRURfRVFVSVJFQ1RBTkdVTEFSX01PREU9OCxlLlRFWFRVUkVfRklYRURfRVFVSVJFQ1RBTkdVTEFSX01JUlJPUkVEX01PREU9OSxlLlNDQUxFTU9ERV9GTE9PUj0xLGUuU0NBTEVNT0RFX05FQVJFU1Q9MixlLlNDQUxFTU9ERV9DRUlMSU5HPTMsZS5fUmVzY2FsZVBvc3RQcm9jZXNzRmFjdG9yeT1udWxsLGUuX1JlbmRlclBhc3NJZENvdW50ZXI9MCxlfShsZSk7bGUucHJvdG90eXBlLl9kZWJ1Z1B1c2hHcm91cD1mdW5jdGlvbihpLGUpe30sbGUucHJvdG90eXBlLl9kZWJ1Z1BvcEdyb3VwPWZ1bmN0aW9uKGkpe30sbGUucHJvdG90eXBlLl9kZWJ1Z0luc2VydE1hcmtlcj1mdW5jdGlvbihpLGUpe30sbGUucHJvdG90eXBlLl9kZWJ1Z0ZsdXNoUGVuZGluZ0NvbW1hbmRzPWZ1bmN0aW9uKCl7fTtmdW5jdGlvbiBabihpKXtyZXR1cm4gbmV3IGNlKGksITAse3ByZXNlcnZlRHJhd2luZ0J1ZmZlcjohMCxzdGVuY2lsOiEwfSl9dmFyIGJlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaShlLHQscil7ZT09PXZvaWQgMCYmKGU9MCksdD09PXZvaWQgMCYmKHQ9MCkscj09PXZvaWQgMCYmKHI9MCksdGhpcy5yPWUsdGhpcy5nPXQsdGhpcy5iPXJ9cmV0dXJuIGkucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIntSOiAiK3RoaXMucisiIEc6Iit0aGlzLmcrIiBCOiIrdGhpcy5iKyJ9In0saS5wcm90b3R5cGUuZ2V0Q2xhc3NOYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIkNvbG9yMyJ9LGkucHJvdG90eXBlLmdldEhhc2hDb2RlPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5yKjI1NXwwO3JldHVybiBlPWUqMzk3Xih0aGlzLmcqMjU1fDApLGU9ZSozOTdeKHRoaXMuYioyNTV8MCksZX0saS5wcm90b3R5cGUudG9BcnJheT1mdW5jdGlvbihlLHQpe3JldHVybiB0PT09dm9pZCAwJiYodD0wKSxlW3RdPXRoaXMucixlW3QrMV09dGhpcy5nLGVbdCsyXT10aGlzLmIsdGhpc30saS5wcm90b3R5cGUuZnJvbUFycmF5PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ9PT12b2lkIDAmJih0PTApLGkuRnJvbUFycmF5VG9SZWYoZSx0LHRoaXMpLHRoaXN9LGkucHJvdG90eXBlLnRvQ29sb3I0PWZ1bmN0aW9uKGUpe3JldHVybiBlPT09dm9pZCAwJiYoZT0xKSxuZXcgRWUodGhpcy5yLHRoaXMuZyx0aGlzLmIsZSl9LGkucHJvdG90eXBlLmFzQXJyYXk9ZnVuY3Rpb24oKXtyZXR1cm5bdGhpcy5yLHRoaXMuZyx0aGlzLmJdfSxpLnByb3RvdHlwZS50b0x1bWluYW5jZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnIqLjMrdGhpcy5nKi41OSt0aGlzLmIqLjExfSxpLnByb3RvdHlwZS5tdWx0aXBseT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IGkodGhpcy5yKmUucix0aGlzLmcqZS5nLHRoaXMuYiplLmIpfSxpLnByb3RvdHlwZS5tdWx0aXBseVRvUmVmPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQucj10aGlzLnIqZS5yLHQuZz10aGlzLmcqZS5nLHQuYj10aGlzLmIqZS5iLHRoaXN9LGkucHJvdG90eXBlLmVxdWFscz1mdW5jdGlvbihlKXtyZXR1cm4gZSYmdGhpcy5yPT09ZS5yJiZ0aGlzLmc9PT1lLmcmJnRoaXMuYj09PWUuYn0saS5wcm90b3R5cGUuZXF1YWxzRmxvYXRzPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gdGhpcy5yPT09ZSYmdGhpcy5nPT09dCYmdGhpcy5iPT09cn0saS5wcm90b3R5cGUuc2NhbGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBpKHRoaXMuciplLHRoaXMuZyplLHRoaXMuYiplKX0saS5wcm90b3R5cGUuc2NhbGVUb1JlZj1mdW5jdGlvbihlLHQpe3JldHVybiB0LnI9dGhpcy5yKmUsdC5nPXRoaXMuZyplLHQuYj10aGlzLmIqZSx0aGlzfSxpLnByb3RvdHlwZS5zY2FsZUFuZEFkZFRvUmVmPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQucis9dGhpcy5yKmUsdC5nKz10aGlzLmcqZSx0LmIrPXRoaXMuYiplLHRoaXN9LGkucHJvdG90eXBlLmNsYW1wVG9SZWY9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBlPT09dm9pZCAwJiYoZT0wKSx0PT09dm9pZCAwJiYodD0xKSxyLnI9VS5DbGFtcCh0aGlzLnIsZSx0KSxyLmc9VS5DbGFtcCh0aGlzLmcsZSx0KSxyLmI9VS5DbGFtcCh0aGlzLmIsZSx0KSx0aGlzfSxpLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBpKHRoaXMucitlLnIsdGhpcy5nK2UuZyx0aGlzLmIrZS5iKX0saS5wcm90b3R5cGUuYWRkVG9SZWY9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC5yPXRoaXMucitlLnIsdC5nPXRoaXMuZytlLmcsdC5iPXRoaXMuYitlLmIsdGhpc30saS5wcm90b3R5cGUuc3VidHJhY3Q9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBpKHRoaXMuci1lLnIsdGhpcy5nLWUuZyx0aGlzLmItZS5iKX0saS5wcm90b3R5cGUuc3VidHJhY3RUb1JlZj1mdW5jdGlvbihlLHQpe3JldHVybiB0LnI9dGhpcy5yLWUucix0Lmc9dGhpcy5nLWUuZyx0LmI9dGhpcy5iLWUuYix0aGlzfSxpLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgaSh0aGlzLnIsdGhpcy5nLHRoaXMuYil9LGkucHJvdG90eXBlLmNvcHlGcm9tPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnI9ZS5yLHRoaXMuZz1lLmcsdGhpcy5iPWUuYix0aGlzfSxpLnByb3RvdHlwZS5jb3B5RnJvbUZsb2F0cz1mdW5jdGlvbihlLHQscil7cmV0dXJuIHRoaXMucj1lLHRoaXMuZz10LHRoaXMuYj1yLHRoaXN9LGkucHJvdG90eXBlLnNldD1mdW5jdGlvbihlLHQscil7cmV0dXJuIHRoaXMuY29weUZyb21GbG9hdHMoZSx0LHIpfSxpLnByb3RvdHlwZS50b0hleFN0cmluZz1mdW5jdGlvbigpe3ZhciBlPU1hdGgucm91bmQodGhpcy5yKjI1NSksdD1NYXRoLnJvdW5kKHRoaXMuZyoyNTUpLHI9TWF0aC5yb3VuZCh0aGlzLmIqMjU1KTtyZXR1cm4iIyIrVS5Ub0hleChlKStVLlRvSGV4KHQpK1UuVG9IZXgocil9LGkucHJvdG90eXBlLnRvTGluZWFyU3BhY2U9ZnVuY3Rpb24oKXt2YXIgZT1uZXcgaTtyZXR1cm4gdGhpcy50b0xpbmVhclNwYWNlVG9SZWYoZSksZX0saS5wcm90b3R5cGUudG9IU1Y9ZnVuY3Rpb24oKXt2YXIgZT1uZXcgaTtyZXR1cm4gdGhpcy50b0hTVlRvUmVmKGUpLGV9LGkucHJvdG90eXBlLnRvSFNWVG9SZWY9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5yLHI9dGhpcy5nLG49dGhpcy5iLGE9TWF0aC5tYXgodCxyLG4pLHM9TWF0aC5taW4odCxyLG4pLG89MCx1PTAsZj1hLGw9YS1zO2EhPT0wJiYodT1sL2EpLGEhPXMmJihhPT10PyhvPShyLW4pL2wscjxuJiYobys9NikpOmE9PXI/bz0obi10KS9sKzI6YT09biYmKG89KHQtcikvbCs0KSxvKj02MCksZS5yPW8sZS5nPXUsZS5iPWZ9LGkucHJvdG90eXBlLnRvTGluZWFyU3BhY2VUb1JlZj1mdW5jdGlvbihlKXtyZXR1cm4gZS5yPU1hdGgucG93KHRoaXMucixuZSksZS5nPU1hdGgucG93KHRoaXMuZyxuZSksZS5iPU1hdGgucG93KHRoaXMuYixuZSksdGhpc30saS5wcm90b3R5cGUudG9HYW1tYVNwYWNlPWZ1bmN0aW9uKCl7dmFyIGU9bmV3IGk7cmV0dXJuIHRoaXMudG9HYW1tYVNwYWNlVG9SZWYoZSksZX0saS5wcm90b3R5cGUudG9HYW1tYVNwYWNlVG9SZWY9ZnVuY3Rpb24oZSl7cmV0dXJuIGUucj1NYXRoLnBvdyh0aGlzLnIsSiksZS5nPU1hdGgucG93KHRoaXMuZyxKKSxlLmI9TWF0aC5wb3codGhpcy5iLEopLHRoaXN9LGkuSFNWdG9SR0JUb1JlZj1mdW5jdGlvbihlLHQscixuKXt2YXIgYT1yKnQscz1lLzYwLG89YSooMS1NYXRoLmFicyhzJTItMSkpLHU9MCxmPTAsbD0wO3M+PTAmJnM8PTE/KHU9YSxmPW8pOnM+PTEmJnM8PTI/KHU9byxmPWEpOnM+PTImJnM8PTM/KGY9YSxsPW8pOnM+PTMmJnM8PTQ/KGY9byxsPWEpOnM+PTQmJnM8PTU/KHU9byxsPWEpOnM+PTUmJnM8PTYmJih1PWEsbD1vKTt2YXIgaD1yLWE7bi5zZXQodStoLGYraCxsK2gpfSxpLkZyb21IZXhTdHJpbmc9ZnVuY3Rpb24oZSl7aWYoZS5zdWJzdHJpbmcoMCwxKSE9PSIjInx8ZS5sZW5ndGghPT03KXJldHVybiBuZXcgaSgwLDAsMCk7dmFyIHQ9cGFyc2VJbnQoZS5zdWJzdHJpbmcoMSwzKSwxNikscj1wYXJzZUludChlLnN1YnN0cmluZygzLDUpLDE2KSxuPXBhcnNlSW50KGUuc3Vic3RyaW5nKDUsNyksMTYpO3JldHVybiBpLkZyb21JbnRzKHQscixuKX0saS5Gcm9tQXJyYXk9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD09PXZvaWQgMCYmKHQ9MCksbmV3IGkoZVt0XSxlW3QrMV0sZVt0KzJdKX0saS5Gcm9tQXJyYXlUb1JlZj1mdW5jdGlvbihlLHQscil7dD09PXZvaWQgMCYmKHQ9MCksci5yPWVbdF0sci5nPWVbdCsxXSxyLmI9ZVt0KzJdfSxpLkZyb21JbnRzPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gbmV3IGkoZS8yNTUsdC8yNTUsci8yNTUpfSxpLkxlcnA9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPW5ldyBpKDAsMCwwKTtyZXR1cm4gaS5MZXJwVG9SZWYoZSx0LHIsbiksbn0saS5MZXJwVG9SZWY9ZnVuY3Rpb24oZSx0LHIsbil7bi5yPWUucisodC5yLWUucikqcixuLmc9ZS5nKyh0LmctZS5nKSpyLG4uYj1lLmIrKHQuYi1lLmIpKnJ9LGkuSGVybWl0ZT1mdW5jdGlvbihlLHQscixuLGEpe3ZhciBzPWEqYSxvPWEqcyx1PTIqby0zKnMrMSxmPS0yKm8rMypzLGw9by0yKnMrYSxoPW8tcyxjPWUucip1K3IucipmK3QucipsK24ucipoLGQ9ZS5nKnUrci5nKmYrdC5nKmwrbi5nKmgscD1lLmIqdStyLmIqZit0LmIqbCtuLmIqaDtyZXR1cm4gbmV3IGkoYyxkLHApfSxpLkhlcm1pdGUxc3REZXJpdmF0aXZlPWZ1bmN0aW9uKGUsdCxyLG4sYSl7dmFyIHM9aS5CbGFjaygpO3JldHVybiB0aGlzLkhlcm1pdGUxc3REZXJpdmF0aXZlVG9SZWYoZSx0LHIsbixhLHMpLHN9LGkuSGVybWl0ZTFzdERlcml2YXRpdmVUb1JlZj1mdW5jdGlvbihlLHQscixuLGEscyl7dmFyIG89YSphO3Mucj0oby1hKSo2KmUucisoMypvLTQqYSsxKSp0LnIrKC1vK2EpKjYqci5yKygzKm8tMiphKSpuLnIscy5nPShvLWEpKjYqZS5nKygzKm8tNCphKzEpKnQuZysoLW8rYSkqNipyLmcrKDMqby0yKmEpKm4uZyxzLmI9KG8tYSkqNiplLmIrKDMqby00KmErMSkqdC5iKygtbythKSo2KnIuYisoMypvLTIqYSkqbi5ifSxpLlJlZD1mdW5jdGlvbigpe3JldHVybiBuZXcgaSgxLDAsMCl9LGkuR3JlZW49ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGkoMCwxLDApfSxpLkJsdWU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGkoMCwwLDEpfSxpLkJsYWNrPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBpKDAsMCwwKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGksIkJsYWNrUmVhZE9ubHkiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaS5fQmxhY2tSZWFkT25seX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLldoaXRlPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBpKDEsMSwxKX0saS5QdXJwbGU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGkoLjUsMCwuNSl9LGkuTWFnZW50YT1mdW5jdGlvbigpe3JldHVybiBuZXcgaSgxLDAsMSl9LGkuWWVsbG93PWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBpKDEsMSwwKX0saS5HcmF5PWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBpKC41LC41LC41KX0saS5UZWFsPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBpKDAsMSwxKX0saS5SYW5kb209ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGkoTWF0aC5yYW5kb20oKSxNYXRoLnJhbmRvbSgpLE1hdGgucmFuZG9tKCkpfSxpLl9CbGFja1JlYWRPbmx5PWkuQmxhY2soKSxpfSgpLEVlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaShlLHQscixuKXtlPT09dm9pZCAwJiYoZT0wKSx0PT09dm9pZCAwJiYodD0wKSxyPT09dm9pZCAwJiYocj0wKSxuPT09dm9pZCAwJiYobj0xKSx0aGlzLnI9ZSx0aGlzLmc9dCx0aGlzLmI9cix0aGlzLmE9bn1yZXR1cm4gaS5wcm90b3R5cGUuYWRkSW5QbGFjZT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5yKz1lLnIsdGhpcy5nKz1lLmcsdGhpcy5iKz1lLmIsdGhpcy5hKz1lLmEsdGhpc30saS5wcm90b3R5cGUuYXNBcnJheT1mdW5jdGlvbigpe3JldHVyblt0aGlzLnIsdGhpcy5nLHRoaXMuYix0aGlzLmFdfSxpLnByb3RvdHlwZS50b0FycmF5PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ9PT12b2lkIDAmJih0PTApLGVbdF09dGhpcy5yLGVbdCsxXT10aGlzLmcsZVt0KzJdPXRoaXMuYixlW3QrM109dGhpcy5hLHRoaXN9LGkucHJvdG90eXBlLmZyb21BcnJheT1mdW5jdGlvbihlLHQpe3JldHVybiB0PT09dm9pZCAwJiYodD0wKSxpLkZyb21BcnJheVRvUmVmKGUsdCx0aGlzKSx0aGlzfSxpLnByb3RvdHlwZS5lcXVhbHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJnRoaXMucj09PWUuciYmdGhpcy5nPT09ZS5nJiZ0aGlzLmI9PT1lLmImJnRoaXMuYT09PWUuYX0saS5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgaSh0aGlzLnIrZS5yLHRoaXMuZytlLmcsdGhpcy5iK2UuYix0aGlzLmErZS5hKX0saS5wcm90b3R5cGUuc3VidHJhY3Q9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBpKHRoaXMuci1lLnIsdGhpcy5nLWUuZyx0aGlzLmItZS5iLHRoaXMuYS1lLmEpfSxpLnByb3RvdHlwZS5zdWJ0cmFjdFRvUmVmPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQucj10aGlzLnItZS5yLHQuZz10aGlzLmctZS5nLHQuYj10aGlzLmItZS5iLHQuYT10aGlzLmEtZS5hLHRoaXN9LGkucHJvdG90eXBlLnNjYWxlPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgaSh0aGlzLnIqZSx0aGlzLmcqZSx0aGlzLmIqZSx0aGlzLmEqZSl9LGkucHJvdG90eXBlLnNjYWxlVG9SZWY9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC5yPXRoaXMuciplLHQuZz10aGlzLmcqZSx0LmI9dGhpcy5iKmUsdC5hPXRoaXMuYSplLHRoaXN9LGkucHJvdG90eXBlLnNjYWxlQW5kQWRkVG9SZWY9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC5yKz10aGlzLnIqZSx0LmcrPXRoaXMuZyplLHQuYis9dGhpcy5iKmUsdC5hKz10aGlzLmEqZSx0aGlzfSxpLnByb3RvdHlwZS5jbGFtcFRvUmVmPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZT09PXZvaWQgMCYmKGU9MCksdD09PXZvaWQgMCYmKHQ9MSksci5yPVUuQ2xhbXAodGhpcy5yLGUsdCksci5nPVUuQ2xhbXAodGhpcy5nLGUsdCksci5iPVUuQ2xhbXAodGhpcy5iLGUsdCksci5hPVUuQ2xhbXAodGhpcy5hLGUsdCksdGhpc30saS5wcm90b3R5cGUubXVsdGlwbHk9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBpKHRoaXMuciplLnIsdGhpcy5nKmUuZyx0aGlzLmIqZS5iLHRoaXMuYSplLmEpfSxpLnByb3RvdHlwZS5tdWx0aXBseVRvUmVmPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQucj10aGlzLnIqZS5yLHQuZz10aGlzLmcqZS5nLHQuYj10aGlzLmIqZS5iLHQuYT10aGlzLmEqZS5hLHR9LGkucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIntSOiAiK3RoaXMucisiIEc6Iit0aGlzLmcrIiBCOiIrdGhpcy5iKyIgQToiK3RoaXMuYSsifSJ9LGkucHJvdG90eXBlLmdldENsYXNzTmFtZT1mdW5jdGlvbigpe3JldHVybiJDb2xvcjQifSxpLnByb3RvdHlwZS5nZXRIYXNoQ29kZT1mdW5jdGlvbigpe3ZhciBlPXRoaXMucioyNTV8MDtyZXR1cm4gZT1lKjM5N14odGhpcy5nKjI1NXwwKSxlPWUqMzk3Xih0aGlzLmIqMjU1fDApLGU9ZSozOTdeKHRoaXMuYSoyNTV8MCksZX0saS5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGkodGhpcy5yLHRoaXMuZyx0aGlzLmIsdGhpcy5hKX0saS5wcm90b3R5cGUuY29weUZyb209ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucj1lLnIsdGhpcy5nPWUuZyx0aGlzLmI9ZS5iLHRoaXMuYT1lLmEsdGhpc30saS5wcm90b3R5cGUuY29weUZyb21GbG9hdHM9ZnVuY3Rpb24oZSx0LHIsbil7cmV0dXJuIHRoaXMucj1lLHRoaXMuZz10LHRoaXMuYj1yLHRoaXMuYT1uLHRoaXN9LGkucHJvdG90eXBlLnNldD1mdW5jdGlvbihlLHQscixuKXtyZXR1cm4gdGhpcy5jb3B5RnJvbUZsb2F0cyhlLHQscixuKX0saS5wcm90b3R5cGUudG9IZXhTdHJpbmc9ZnVuY3Rpb24oZSl7ZT09PXZvaWQgMCYmKGU9ITEpO3ZhciB0PU1hdGgucm91bmQodGhpcy5yKjI1NSkscj1NYXRoLnJvdW5kKHRoaXMuZyoyNTUpLG49TWF0aC5yb3VuZCh0aGlzLmIqMjU1KTtpZihlKXJldHVybiIjIitVLlRvSGV4KHQpK1UuVG9IZXgocikrVS5Ub0hleChuKTt2YXIgYT1NYXRoLnJvdW5kKHRoaXMuYSoyNTUpO3JldHVybiIjIitVLlRvSGV4KHQpK1UuVG9IZXgocikrVS5Ub0hleChuKStVLlRvSGV4KGEpfSxpLnByb3RvdHlwZS50b0xpbmVhclNwYWNlPWZ1bmN0aW9uKCl7dmFyIGU9bmV3IGk7cmV0dXJuIHRoaXMudG9MaW5lYXJTcGFjZVRvUmVmKGUpLGV9LGkucHJvdG90eXBlLnRvTGluZWFyU3BhY2VUb1JlZj1mdW5jdGlvbihlKXtyZXR1cm4gZS5yPU1hdGgucG93KHRoaXMucixuZSksZS5nPU1hdGgucG93KHRoaXMuZyxuZSksZS5iPU1hdGgucG93KHRoaXMuYixuZSksZS5hPXRoaXMuYSx0aGlzfSxpLnByb3RvdHlwZS50b0dhbW1hU3BhY2U9ZnVuY3Rpb24oKXt2YXIgZT1uZXcgaTtyZXR1cm4gdGhpcy50b0dhbW1hU3BhY2VUb1JlZihlKSxlfSxpLnByb3RvdHlwZS50b0dhbW1hU3BhY2VUb1JlZj1mdW5jdGlvbihlKXtyZXR1cm4gZS5yPU1hdGgucG93KHRoaXMucixKKSxlLmc9TWF0aC5wb3codGhpcy5nLEopLGUuYj1NYXRoLnBvdyh0aGlzLmIsSiksZS5hPXRoaXMuYSx0aGlzfSxpLkZyb21IZXhTdHJpbmc9ZnVuY3Rpb24oZSl7aWYoZS5zdWJzdHJpbmcoMCwxKSE9PSIjInx8ZS5sZW5ndGghPT05JiZlLmxlbmd0aCE9PTcpcmV0dXJuIG5ldyBpKDAsMCwwLDApO3ZhciB0PXBhcnNlSW50KGUuc3Vic3RyaW5nKDEsMyksMTYpLHI9cGFyc2VJbnQoZS5zdWJzdHJpbmcoMyw1KSwxNiksbj1wYXJzZUludChlLnN1YnN0cmluZyg1LDcpLDE2KSxhPWUubGVuZ3RoPT09OT9wYXJzZUludChlLnN1YnN0cmluZyg3LDkpLDE2KToyNTU7cmV0dXJuIGkuRnJvbUludHModCxyLG4sYSl9LGkuTGVycD1mdW5jdGlvbihlLHQscil7dmFyIG49bmV3IGkoMCwwLDAsMCk7cmV0dXJuIGkuTGVycFRvUmVmKGUsdCxyLG4pLG59LGkuTGVycFRvUmVmPWZ1bmN0aW9uKGUsdCxyLG4pe24ucj1lLnIrKHQuci1lLnIpKnIsbi5nPWUuZysodC5nLWUuZykqcixuLmI9ZS5iKyh0LmItZS5iKSpyLG4uYT1lLmErKHQuYS1lLmEpKnJ9LGkuSGVybWl0ZT1mdW5jdGlvbihlLHQscixuLGEpe3ZhciBzPWEqYSxvPWEqcyx1PTIqby0zKnMrMSxmPS0yKm8rMypzLGw9by0yKnMrYSxoPW8tcyxjPWUucip1K3IucipmK3QucipsK24ucipoLGQ9ZS5nKnUrci5nKmYrdC5nKmwrbi5nKmgscD1lLmIqdStyLmIqZit0LmIqbCtuLmIqaCxnPWUuYSp1K3IuYSpmK3QuYSpsK24uYSpoO3JldHVybiBuZXcgaShjLGQscCxnKX0saS5IZXJtaXRlMXN0RGVyaXZhdGl2ZT1mdW5jdGlvbihlLHQscixuLGEpe3ZhciBzPW5ldyBpO3JldHVybiB0aGlzLkhlcm1pdGUxc3REZXJpdmF0aXZlVG9SZWYoZSx0LHIsbixhLHMpLHN9LGkuSGVybWl0ZTFzdERlcml2YXRpdmVUb1JlZj1mdW5jdGlvbihlLHQscixuLGEscyl7dmFyIG89YSphO3Mucj0oby1hKSo2KmUucisoMypvLTQqYSsxKSp0LnIrKC1vK2EpKjYqci5yKygzKm8tMiphKSpuLnIscy5nPShvLWEpKjYqZS5nKygzKm8tNCphKzEpKnQuZysoLW8rYSkqNipyLmcrKDMqby0yKmEpKm4uZyxzLmI9KG8tYSkqNiplLmIrKDMqby00KmErMSkqdC5iKygtbythKSo2KnIuYisoMypvLTIqYSkqbi5iLHMuYT0oby1hKSo2KmUuYSsoMypvLTQqYSsxKSp0LmErKC1vK2EpKjYqci5hKygzKm8tMiphKSpuLmF9LGkuRnJvbUNvbG9yMz1mdW5jdGlvbihlLHQpe3JldHVybiB0PT09dm9pZCAwJiYodD0xKSxuZXcgaShlLnIsZS5nLGUuYix0KX0saS5Gcm9tQXJyYXk9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD09PXZvaWQgMCYmKHQ9MCksbmV3IGkoZVt0XSxlW3QrMV0sZVt0KzJdLGVbdCszXSl9LGkuRnJvbUFycmF5VG9SZWY9ZnVuY3Rpb24oZSx0LHIpe3Q9PT12b2lkIDAmJih0PTApLHIucj1lW3RdLHIuZz1lW3QrMV0sci5iPWVbdCsyXSxyLmE9ZVt0KzNdfSxpLkZyb21JbnRzPWZ1bmN0aW9uKGUsdCxyLG4pe3JldHVybiBuZXcgaShlLzI1NSx0LzI1NSxyLzI1NSxuLzI1NSl9LGkuQ2hlY2tDb2xvcnM0PWZ1bmN0aW9uKGUsdCl7aWYoZS5sZW5ndGg9PT10KjMpe2Zvcih2YXIgcj1bXSxuPTA7bjxlLmxlbmd0aDtuKz0zKXt2YXIgYT1uLzMqNDtyW2FdPWVbbl0sclthKzFdPWVbbisxXSxyW2ErMl09ZVtuKzJdLHJbYSszXT0xfXJldHVybiByfXJldHVybiBlfSxpfSgpLGNyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaSgpe31yZXR1cm4gaS5Db2xvcjM9QWUuQnVpbGRBcnJheSgzLGJlLkJsYWNrKSxpLkNvbG9yND1BZS5CdWlsZEFycmF5KDMsZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEVlKDAsMCwwLDApfSksaX0oKTt3ZSgiQkFCWUxPTi5Db2xvcjMiLGJlKSx3ZSgiQkFCWUxPTi5Db2xvcjQiLEVlKTt2YXIgRGk9ZnVuY3Rpb24oaSxlKXtyZXR1cm4haXx8aS5nZXRDbGFzc05hbWUmJmkuZ2V0Q2xhc3NOYW1lKCk9PT0iTWVzaCI/bnVsbDppLmdldENsYXNzTmFtZSYmaS5nZXRDbGFzc05hbWUoKT09PSJTdWJNZXNoIj9pLmNsb25lKGUpOmkuY2xvbmU/aS5jbG9uZSgpOm51bGx9O2Z1bmN0aW9uIHFuKGkpe3ZhciBlPVtdO2RvIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGkpLmZvckVhY2goZnVuY3Rpb24odCl7ZS5pbmRleE9mKHQpPT09LTEmJmUucHVzaCh0KX0pO3doaWxlKGk9T2JqZWN0LmdldFByb3RvdHlwZU9mKGkpKTtyZXR1cm4gZX12YXIgSHI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKCl7fXJldHVybiBpLkRlZXBDb3B5PWZ1bmN0aW9uKGUsdCxyLG4pe2Zvcih2YXIgYT1xbihlKSxzPTAsbz1hO3M8by5sZW5ndGg7cysrKXt2YXIgdT1vW3NdO2lmKCEodVswXT09PSJfIiYmKCFufHxuLmluZGV4T2YodSk9PT0tMSkpJiYhdS5lbmRzV2l0aCgiT2JzZXJ2YWJsZSIpJiYhKHImJnIuaW5kZXhPZih1KSE9PS0xKSl7dmFyIGY9ZVt1XSxsPXR5cGVvZiBmO2lmKGwhPT0iZnVuY3Rpb24iKXRyeXtpZihsPT09Im9iamVjdCIpaWYoZiBpbnN0YW5jZW9mIEFycmF5KXtpZih0W3VdPVtdLGYubGVuZ3RoPjApaWYodHlwZW9mIGZbMF09PSJvYmplY3QiKWZvcih2YXIgaD0wO2g8Zi5sZW5ndGg7aCsrKXt2YXIgYz1EaShmW2hdLHQpO3RbdV0uaW5kZXhPZihjKT09PS0xJiZ0W3VdLnB1c2goYyl9ZWxzZSB0W3VdPWYuc2xpY2UoMCl9ZWxzZSB0W3VdPURpKGYsdCk7ZWxzZSB0W3VdPWZ9Y2F0Y2goZCl7Vy5XYXJuKGQubWVzc2FnZSl9fX19LGl9KCk7ZnVuY3Rpb24gUW4oKXtyZXR1cm4gdHlwZW9mIF9uYXRpdmUhPSJ1bmRlZmluZWQiJiZfbmF0aXZlLlhNTEh0dHBSZXF1ZXN0P25ldyBfbmF0aXZlLlhNTEh0dHBSZXF1ZXN0Om5ldyBYTUxIdHRwUmVxdWVzdH12YXIgZHI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKCl7dGhpcy5feGhyPVFuKCksdGhpcy5fcmVxdWVzdFVSTD0iIn1yZXR1cm4gaS5wcm90b3R5cGUuX2luamVjdEN1c3RvbVJlcXVlc3RIZWFkZXJzPWZ1bmN0aW9uKCl7aWYoIXRoaXMuX3Nob3VsZFNraXBSZXF1ZXN0TW9kaWZpY2F0aW9ucyh0aGlzLl9yZXF1ZXN0VVJMKSlmb3IodmFyIGUgaW4gaS5DdXN0b21SZXF1ZXN0SGVhZGVycyl7dmFyIHQ9aS5DdXN0b21SZXF1ZXN0SGVhZGVyc1tlXTt0JiZ0aGlzLl94aHIuc2V0UmVxdWVzdEhlYWRlcihlLHQpfX0saS5wcm90b3R5cGUuX3Nob3VsZFNraXBSZXF1ZXN0TW9kaWZpY2F0aW9ucz1mdW5jdGlvbihlKXtyZXR1cm4gaS5Ta2lwUmVxdWVzdE1vZGlmaWNhdGlvbkZvckJhYnlsb25DRE4mJihlLmluY2x1ZGVzKCJwcmV2aWV3LmJhYnlsb25qcy5jb20iKXx8ZS5pbmNsdWRlcygiY2RuLmJhYnlsb25qcy5jb20iKSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwib25wcm9ncmVzcyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl94aHIub25wcm9ncmVzc30sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX3hoci5vbnByb2dyZXNzPWV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJyZWFkeVN0YXRlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3hoci5yZWFkeVN0YXRlfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwic3RhdHVzIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3hoci5zdGF0dXN9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJzdGF0dXNUZXh0Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3hoci5zdGF0dXNUZXh0fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwicmVzcG9uc2UiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5feGhyLnJlc3BvbnNlfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwicmVzcG9uc2VVUkwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5feGhyLnJlc3BvbnNlVVJMfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwicmVzcG9uc2VUZXh0Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3hoci5yZXNwb25zZVRleHR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJyZXNwb25zZVR5cGUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5feGhyLnJlc3BvbnNlVHlwZX0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX3hoci5yZXNwb25zZVR5cGU9ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsInRpbWVvdXQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5feGhyLnRpbWVvdXR9LHNldDpmdW5jdGlvbihlKXt0aGlzLl94aHIudGltZW91dD1lfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkucHJvdG90eXBlLmFkZEV2ZW50TGlzdGVuZXI9ZnVuY3Rpb24oZSx0LHIpe3RoaXMuX3hoci5hZGRFdmVudExpc3RlbmVyKGUsdCxyKX0saS5wcm90b3R5cGUucmVtb3ZlRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbihlLHQscil7dGhpcy5feGhyLnJlbW92ZUV2ZW50TGlzdGVuZXIoZSx0LHIpfSxpLnByb3RvdHlwZS5hYm9ydD1mdW5jdGlvbigpe3RoaXMuX3hoci5hYm9ydCgpfSxpLnByb3RvdHlwZS5zZW5kPWZ1bmN0aW9uKGUpe2kuQ3VzdG9tUmVxdWVzdEhlYWRlcnMmJnRoaXMuX2luamVjdEN1c3RvbVJlcXVlc3RIZWFkZXJzKCksdGhpcy5feGhyLnNlbmQoZSl9LGkucHJvdG90eXBlLm9wZW49ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9MCxuPWkuQ3VzdG9tUmVxdWVzdE1vZGlmaWVycztyPG4ubGVuZ3RoO3IrKyl7dmFyIGE9bltyXTtpZih0aGlzLl9zaG91bGRTa2lwUmVxdWVzdE1vZGlmaWNhdGlvbnModCkpcmV0dXJuO2EodGhpcy5feGhyLHQpfXJldHVybiB0PXQucmVwbGFjZSgiZmlsZTpodHRwOiIsImh0dHA6IiksdD10LnJlcGxhY2UoImZpbGU6aHR0cHM6IiwiaHR0cHM6IiksdGhpcy5fcmVxdWVzdFVSTD10LHRoaXMuX3hoci5vcGVuKGUsdCwhMCl9LGkucHJvdG90eXBlLnNldFJlcXVlc3RIZWFkZXI9ZnVuY3Rpb24oZSx0KXt0aGlzLl94aHIuc2V0UmVxdWVzdEhlYWRlcihlLHQpfSxpLnByb3RvdHlwZS5nZXRSZXNwb25zZUhlYWRlcj1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5feGhyLmdldFJlc3BvbnNlSGVhZGVyKGUpfSxpLkN1c3RvbVJlcXVlc3RIZWFkZXJzPXt9LGkuQ3VzdG9tUmVxdWVzdE1vZGlmaWVycz1uZXcgQXJyYXksaS5Ta2lwUmVxdWVzdE1vZGlmaWNhdGlvbkZvckJhYnlsb25DRE49ITAsaX0oKSxwcj1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoKXt9cmV0dXJuIGkuRmlsZXNUb0xvYWQ9e30saX0oKSwkbj1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoKXt9cmV0dXJuIGkuRXhwb25lbnRpYWxCYWNrb2ZmPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU9PT12b2lkIDAmJihlPTMpLHQ9PT12b2lkIDAmJih0PTUwMCksZnVuY3Rpb24ocixuLGEpe3JldHVybiBuLnN0YXR1cyE9PTB8fGE+PWV8fHIuaW5kZXhPZigiZmlsZToiKSE9PS0xPy0xOk1hdGgucG93KDIsYSkqdH19LGl9KCksSnQ9ZnVuY3Rpb24oaSl7SyhlLGkpO2Z1bmN0aW9uIGUoKXtyZXR1cm4gaSE9PW51bGwmJmkuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBlLl9zZXRQcm90b3R5cGVPZj1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fGZ1bmN0aW9uKHQscil7cmV0dXJuIHQuX19wcm90b19fPXIsdH0sZX0oRXJyb3IpLHh0PXtNZXNoSW52YWxpZFBvc2l0aW9uc0Vycm9yOjAsVW5zdXBwb3J0ZWRUZXh0dXJlRXJyb3I6MWUzLEdMVEZMb2FkZXJVbmV4cGVjdGVkTWFnaWNFcnJvcjoyZTMsU2NlbmVMb2FkZXJFcnJvcjozZTMsTG9hZEZpbGVFcnJvcjo0ZTMsUmVxdWVzdEZpbGVFcnJvcjo0MDAxLFJlYWRGaWxlRXJyb3I6NDAwMn0sRHQ9ZnVuY3Rpb24oaSl7SyhlLGkpO2Z1bmN0aW9uIGUodCxyLG4pe3ZhciBhPWkuY2FsbCh0aGlzLHQpfHx0aGlzO3JldHVybiBhLmVycm9yQ29kZT1yLGEuaW5uZXJFcnJvcj1uLGEubmFtZT0iUnVudGltZUVycm9yIixKdC5fc2V0UHJvdG90eXBlT2YoYSxlLnByb3RvdHlwZSksYX1yZXR1cm4gZX0oSnQpLElpPWZ1bmN0aW9uKGkpe2Zvcih2YXIgZT0iQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLz0iLHQ9IiIscixuLGEscyxvLHUsZixsPTAsaD1BcnJheUJ1ZmZlci5pc1ZpZXcoaSk/bmV3IFVpbnQ4QXJyYXkoaS5idWZmZXIsaS5ieXRlT2Zmc2V0LGkuYnl0ZUxlbmd0aCk6bmV3IFVpbnQ4QXJyYXkoaSk7bDxoLmxlbmd0aDspcj1oW2wrK10sbj1sPGgubGVuZ3RoP2hbbCsrXTpOdW1iZXIuTmFOLGE9bDxoLmxlbmd0aD9oW2wrK106TnVtYmVyLk5hTixzPXI+PjIsbz0ociYzKTw8NHxuPj40LHU9KG4mMTUpPDwyfGE+PjYsZj1hJjYzLGlzTmFOKG4pP3U9Zj02NDppc05hTihhKSYmKGY9NjQpLHQrPWUuY2hhckF0KHMpK2UuY2hhckF0KG8pK2UuY2hhckF0KHUpK2UuY2hhckF0KGYpO3JldHVybiB0fSxPaT1mdW5jdGlvbihpKXtyZXR1cm4gYXRvYihpKX0sSm49ZnVuY3Rpb24oaSl7Zm9yKHZhciBlPU9pKGkpLHQ9ZS5sZW5ndGgscj1uZXcgVWludDhBcnJheShuZXcgQXJyYXlCdWZmZXIodCkpLG49MDtuPHQ7bisrKXJbbl09ZS5jaGFyQ29kZUF0KG4pO3JldHVybiByLmJ1ZmZlcn0sX3I9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKCl7fXJldHVybiBpLlNldEltbWVkaWF0ZT1mdW5jdGlvbihlKXt5ZSgpJiZ3aW5kb3cuc2V0SW1tZWRpYXRlP3dpbmRvdy5zZXRJbW1lZGlhdGUoZSk6c2V0VGltZW91dChlLDEpfSxpfSgpLGVhPW5ldyBSZWdFeHAoL15kYXRhOihbXixdK1wvW14sXSspPztiYXNlNjQsL2kpLEZpPWZ1bmN0aW9uKGkpe0soZSxpKTtmdW5jdGlvbiBlKHQscil7dmFyIG49aS5jYWxsKHRoaXMsdCx4dC5Mb2FkRmlsZUVycm9yKXx8dGhpcztyZXR1cm4gbi5uYW1lPSJMb2FkRmlsZUVycm9yIixKdC5fc2V0UHJvdG90eXBlT2YobixlLnByb3RvdHlwZSksciBpbnN0YW5jZW9mIGRyP24ucmVxdWVzdD1yOm4uZmlsZT1yLG59cmV0dXJuIGV9KER0KSx3aT1mdW5jdGlvbihpKXtLKGUsaSk7ZnVuY3Rpb24gZSh0LHIpe3ZhciBuPWkuY2FsbCh0aGlzLHQseHQuUmVxdWVzdEZpbGVFcnJvcil8fHRoaXM7cmV0dXJuIG4ucmVxdWVzdD1yLG4ubmFtZT0iUmVxdWVzdEZpbGVFcnJvciIsSnQuX3NldFByb3RvdHlwZU9mKG4sZS5wcm90b3R5cGUpLG59cmV0dXJuIGV9KER0KSx0YT1mdW5jdGlvbihpKXtLKGUsaSk7ZnVuY3Rpb24gZSh0LHIpe3ZhciBuPWkuY2FsbCh0aGlzLHQseHQuUmVhZEZpbGVFcnJvcil8fHRoaXM7cmV0dXJuIG4uZmlsZT1yLG4ubmFtZT0iUmVhZEZpbGVFcnJvciIsSnQuX3NldFByb3RvdHlwZU9mKG4sZS5wcm90b3R5cGUpLG59cmV0dXJuIGV9KER0KSxSZT17RGVmYXVsdFJldHJ5U3RyYXRlZ3k6JG4uRXhwb25lbnRpYWxCYWNrb2ZmKCksQmFzZVVybDoiIixDb3JzQmVoYXZpb3I6ImFub255bW91cyIsUHJlcHJvY2Vzc1VybDpmdW5jdGlvbihpKXtyZXR1cm4gaX19LExpPWZ1bmN0aW9uKGkpe3JldHVybiBpPWkucmVwbGFjZSgvIy9nbSwiJTIzIiksaX0sanI9ZnVuY3Rpb24oaSxlKXtpZighKGkmJmkuaW5kZXhPZigiZGF0YToiKT09PTApJiZSZS5Db3JzQmVoYXZpb3IpaWYodHlwZW9mIFJlLkNvcnNCZWhhdmlvcj09InN0cmluZyJ8fFJlLkNvcnNCZWhhdmlvciBpbnN0YW5jZW9mIFN0cmluZyllLmNyb3NzT3JpZ2luPVJlLkNvcnNCZWhhdmlvcjtlbHNle3ZhciB0PVJlLkNvcnNCZWhhdmlvcihpKTt0JiYoZS5jcm9zc09yaWdpbj10KX19LEtyPWZ1bmN0aW9uKGksZSx0LHIsbixhKXt2YXIgcztuPT09dm9pZCAwJiYobj0iIik7dmFyIG8sdT0hMTtpIGluc3RhbmNlb2YgQXJyYXlCdWZmZXJ8fEFycmF5QnVmZmVyLmlzVmlldyhpKT90eXBlb2YgQmxvYiE9InVuZGVmaW5lZCI/KG89VVJMLmNyZWF0ZU9iamVjdFVSTChuZXcgQmxvYihbaV0se3R5cGU6bn0pKSx1PSEwKTpvPSJkYXRhOiIuY29uY2F0KG4sIjtiYXNlNjQsIikrSWkoaSk6aSBpbnN0YW5jZW9mIEJsb2I/KG89VVJMLmNyZWF0ZU9iamVjdFVSTChpKSx1PSEwKToobz1MaShpKSxvPVJlLlByZXByb2Nlc3NVcmwoaSkpO3ZhciBmPWFlLkxhc3RDcmVhdGVkRW5naW5lLGw9ZnVuY3Rpb24oeSl7aWYodCl7dmFyIEU9b3x8aS50b1N0cmluZygpO3QoIkVycm9yIHdoaWxlIHRyeWluZyB0byBsb2FkIGltYWdlOiAiLmNvbmNhdChFLmluZGV4T2YoImh0dHAiKT09PTB8fEUubGVuZ3RoPD0xMjg/RTpFLnNsaWNlKDAsMTI4KSsiLi4uIikseSl9fTtpZih0eXBlb2YgSW1hZ2U9PSJ1bmRlZmluZWQifHwoKHM9Zj09bnVsbD92b2lkIDA6Zi5fZmVhdHVyZXMuZm9yY2VCaXRtYXBPdmVySFRNTEltYWdlRWxlbWVudCkhPT1udWxsJiZzIT09dm9pZCAwP3M6ITEpKXJldHVybiBJdChvLGZ1bmN0aW9uKHkpe2YuY3JlYXRlSW1hZ2VCaXRtYXAobmV3IEJsb2IoW3ldLHt0eXBlOm59KSxFdCh7cHJlbXVsdGlwbHlBbHBoYToibm9uZSJ9LGEpKS50aGVuKGZ1bmN0aW9uKEUpe2UoRSksdSYmVVJMLnJldm9rZU9iamVjdFVSTChvKX0pLmNhdGNoKGZ1bmN0aW9uKEUpe3QmJnQoIkVycm9yIHdoaWxlIHRyeWluZyB0byBsb2FkIGltYWdlOiAiK2ksRSl9KX0sdm9pZCAwLHJ8fHZvaWQgMCwhMCxmdW5jdGlvbih5LEUpe2woRSl9KSxudWxsO3ZhciBoPW5ldyBJbWFnZTtqcihvLGgpO3ZhciBjPWZ1bmN0aW9uKCl7aC5yZW1vdmVFdmVudExpc3RlbmVyKCJsb2FkIixjKSxoLnJlbW92ZUV2ZW50TGlzdGVuZXIoImVycm9yIixkKSxlKGgpLHUmJmguc3JjJiZVUkwucmV2b2tlT2JqZWN0VVJMKGguc3JjKX0sZD1mdW5jdGlvbih5KXtoLnJlbW92ZUV2ZW50TGlzdGVuZXIoImxvYWQiLGMpLGgucmVtb3ZlRXZlbnRMaXN0ZW5lcigiZXJyb3IiLGQpLGwoeSksdSYmaC5zcmMmJlVSTC5yZXZva2VPYmplY3RVUkwoaC5zcmMpfTtoLmFkZEV2ZW50TGlzdGVuZXIoImxvYWQiLGMpLGguYWRkRXZlbnRMaXN0ZW5lcigiZXJyb3IiLGQpO3ZhciBwPWZ1bmN0aW9uKCl7aC5zcmM9b30sZz1mdW5jdGlvbigpe3ImJnIubG9hZEltYWdlKG8saCl9O2lmKG8uc3Vic3RyKDAsNSkhPT0iYmxvYjoiJiZvLnN1YnN0cigwLDUpIT09ImRhdGE6IiYmciYmci5lbmFibGVUZXh0dXJlc09mZmxpbmUpci5vcGVuKGcscCk7ZWxzZXtpZihvLmluZGV4T2YoImZpbGU6IikhPT0tMSl7dmFyIF89ZGVjb2RlVVJJQ29tcG9uZW50KG8uc3Vic3RyaW5nKDUpLnRvTG93ZXJDYXNlKCkpO2lmKHByLkZpbGVzVG9Mb2FkW19dKXt0cnl7dmFyIHY9dm9pZCAwO3RyeXt2PVVSTC5jcmVhdGVPYmplY3RVUkwocHIuRmlsZXNUb0xvYWRbX10pfWNhdGNoe3Y9VVJMLmNyZWF0ZU9iamVjdFVSTChwci5GaWxlc1RvTG9hZFtfXSl9aC5zcmM9dix1PSEwfWNhdGNoe2guc3JjPSIifXJldHVybiBofX1wKCl9cmV0dXJuIGh9LGVyPWZ1bmN0aW9uKGksZSx0LHIsbil7dmFyIGE9bmV3IEZpbGVSZWFkZXIscz17b25Db21wbGV0ZU9ic2VydmFibGU6bmV3IE8sYWJvcnQ6ZnVuY3Rpb24oKXtyZXR1cm4gYS5hYm9ydCgpfX07cmV0dXJuIGEub25sb2FkZW5kPWZ1bmN0aW9uKCl7cmV0dXJuIHMub25Db21wbGV0ZU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHMpfSxuJiYoYS5vbmVycm9yPWZ1bmN0aW9uKCl7bihuZXcgdGEoIlVuYWJsZSB0byByZWFkICIuY29uY2F0KGkubmFtZSksaSkpfSksYS5vbmxvYWQ9ZnVuY3Rpb24obyl7ZShvLnRhcmdldC5yZXN1bHQpfSx0JiYoYS5vbnByb2dyZXNzPXQpLHI/YS5yZWFkQXNBcnJheUJ1ZmZlcihpKTphLnJlYWRBc1RleHQoaSksc30sSXQ9ZnVuY3Rpb24oaSxlLHQscixuLGEscyl7aWYoaS5uYW1lKXJldHVybiBlcihpLGUsdCxuLGE/ZnVuY3Rpb24oaCl7YSh2b2lkIDAsaCl9OnZvaWQgMCk7dmFyIG89aTtpZihvLmluZGV4T2YoImZpbGU6IikhPT0tMSl7dmFyIHU9ZGVjb2RlVVJJQ29tcG9uZW50KG8uc3Vic3RyaW5nKDUpLnRvTG93ZXJDYXNlKCkpO3UuaW5kZXhPZigiLi8iKT09PTAmJih1PXUuc3Vic3RyaW5nKDIpKTt2YXIgZj1wci5GaWxlc1RvTG9hZFt1XTtpZihmKXJldHVybiBlcihmLGUsdCxuLGE/ZnVuY3Rpb24oaCl7cmV0dXJuIGEodm9pZCAwLG5ldyBGaShoLm1lc3NhZ2UsaC5maWxlKSl9OnZvaWQgMCl9aWYoZ3Iobykpe3ZhciBsPXtvbkNvbXBsZXRlT2JzZXJ2YWJsZTpuZXcgTyxhYm9ydDpmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe319fTt0cnl7ZShuP1pyKG8pOkJpKG8pKX1jYXRjaChoKXthP2Eodm9pZCAwLGgpOlcuRXJyb3IoaC5tZXNzYWdlfHwiRmFpbGVkIHRvIHBhcnNlIHRoZSBEYXRhIFVSTCIpfXJldHVybiBfci5TZXRJbW1lZGlhdGUoZnVuY3Rpb24oKXtsLm9uQ29tcGxldGVPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhsKX0pLGx9cmV0dXJuIFlyKG8sZnVuY3Rpb24oaCxjKXtlKGgsYz9jLnJlc3BvbnNlVVJMOnZvaWQgMCl9LHQscixuLGE/ZnVuY3Rpb24oaCl7YShoLnJlcXVlc3QsbmV3IEZpKGgubWVzc2FnZSxoLnJlcXVlc3QpKX06dm9pZCAwLHMpfSxZcj1mdW5jdGlvbihpLGUsdCxyLG4sYSxzKXtpPUxpKGkpLGk9UmUuUHJlcHJvY2Vzc1VybChpKTt2YXIgbz1SZS5CYXNlVXJsK2ksdT0hMSxmPXtvbkNvbXBsZXRlT2JzZXJ2YWJsZTpuZXcgTyxhYm9ydDpmdW5jdGlvbigpe3JldHVybiB1PSEwfX0sbD1mdW5jdGlvbigpe3ZhciBkPW5ldyBkcixwPW51bGwsZyxfPWZ1bmN0aW9uKCl7IWR8fCh0JiZkLnJlbW92ZUV2ZW50TGlzdGVuZXIoInByb2dyZXNzIix0KSxnJiZkLnJlbW92ZUV2ZW50TGlzdGVuZXIoInJlYWR5c3RhdGVjaGFuZ2UiLGcpLGQucmVtb3ZlRXZlbnRMaXN0ZW5lcigibG9hZGVuZCIsdikpfSx2PWZ1bmN0aW9uKCl7XygpLGYub25Db21wbGV0ZU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGYpLGYub25Db21wbGV0ZU9ic2VydmFibGUuY2xlYXIoKSx0PXZvaWQgMCxnPW51bGwsdj1udWxsLGE9dm9pZCAwLHM9dm9pZCAwLGU9dm9pZCAwfTtmLmFib3J0PWZ1bmN0aW9uKCl7dT0hMCx2JiZ2KCksZCYmZC5yZWFkeVN0YXRlIT09KFhNTEh0dHBSZXF1ZXN0LkRPTkV8fDQpJiZkLmFib3J0KCkscCE9PW51bGwmJihjbGVhclRpbWVvdXQocCkscD1udWxsKSxkPW51bGx9O3ZhciB5PWZ1bmN0aW9uKFIpe3ZhciBNPVIubWVzc2FnZXx8IlVua25vd24gZXJyb3IiO2EmJmQ/YShuZXcgd2koTSxkKSk6Vy5FcnJvcihNKX0sRT1mdW5jdGlvbihSKXtpZighIWQpe2lmKGQub3BlbigiR0VUIixvKSxzKXRyeXtzKGQpfWNhdGNoKE0pe3koTSk7cmV0dXJufW4mJihkLnJlc3BvbnNlVHlwZT0iYXJyYXlidWZmZXIiKSx0JiZkLmFkZEV2ZW50TGlzdGVuZXIoInByb2dyZXNzIix0KSx2JiZkLmFkZEV2ZW50TGlzdGVuZXIoImxvYWRlbmQiLHYpLGc9ZnVuY3Rpb24oKXtpZighKHV8fCFkKSYmZC5yZWFkeVN0YXRlPT09KFhNTEh0dHBSZXF1ZXN0LkRPTkV8fDQpKXtpZihnJiZkLnJlbW92ZUV2ZW50TGlzdGVuZXIoInJlYWR5c3RhdGVjaGFuZ2UiLGcpLGQuc3RhdHVzPj0yMDAmJmQuc3RhdHVzPDMwMHx8ZC5zdGF0dXM9PT0wJiYoIXllKCl8fE5pKCkpKXt0cnl7ZSYmZShuP2QucmVzcG9uc2U6ZC5yZXNwb25zZVRleHQsZCl9Y2F0Y2goUyl7eShTKX1yZXR1cm59dmFyIE09UmUuRGVmYXVsdFJldHJ5U3RyYXRlZ3k7aWYoTSl7dmFyIEM9TShvLGQsUik7aWYoQyE9PS0xKXtfKCksZD1uZXcgZHIscD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7cmV0dXJuIEUoUisxKX0sQyk7cmV0dXJufX12YXIgQT1uZXcgd2koIkVycm9yIHN0YXR1czogIitkLnN0YXR1cysiICIrZC5zdGF0dXNUZXh0KyIgLSBVbmFibGUgdG8gbG9hZCAiK28sZCk7YSYmYShBKX19LGQuYWRkRXZlbnRMaXN0ZW5lcigicmVhZHlzdGF0ZWNoYW5nZSIsZyksZC5zZW5kKCl9fTtFKDApfTtpZihyJiZyLmVuYWJsZVNjZW5lT2ZmbGluZSl7dmFyIGg9ZnVuY3Rpb24oZCl7ZCYmZC5zdGF0dXM+NDAwP2EmJmEoZCk6bCgpfSxjPWZ1bmN0aW9uKCl7ciYmci5sb2FkRmlsZShSZS5CYXNlVXJsK2ksZnVuY3Rpb24oZCl7IXUmJmUmJmUoZCksZi5vbkNvbXBsZXRlT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoZil9LHQ/ZnVuY3Rpb24oZCl7IXUmJnQmJnQoZCl9OnZvaWQgMCxoLG4pfTtyLm9wZW4oYyxoKX1lbHNlIGwoKTtyZXR1cm4gZn0sTmk9ZnVuY3Rpb24oKXtyZXR1cm4gdHlwZW9mIGxvY2F0aW9uIT0idW5kZWZpbmVkIiYmbG9jYXRpb24ucHJvdG9jb2w9PT0iZmlsZToifSxncj1mdW5jdGlvbihpKXtyZXR1cm4gZWEudGVzdChpKX07ZnVuY3Rpb24gWnIoaSl7cmV0dXJuIEpuKGkuc3BsaXQoIiwiKVsxXSl9dmFyIEJpPWZ1bmN0aW9uKGkpe3JldHVybiBPaShpLnNwbGl0KCIsIilbMV0pfSxyYT1mdW5jdGlvbigpe2xlLl9GaWxlVG9vbHNMb2FkSW1hZ2U9S3IsbGUuX0ZpbGVUb29sc0xvYWRGaWxlPUl0LFp0Ll9GaWxlVG9vbHNMb2FkRmlsZT1JdH07cmEoKTt2YXIgdHIsaWE9ZnVuY3Rpb24oaSxlLHQscixuLGEscyxvLHUsZil7dHI9e0RlY29kZUJhc2U2NFVybFRvQmluYXJ5OmksRGVjb2RlQmFzZTY0VXJsVG9TdHJpbmc6ZSxEZWZhdWx0UmV0cnlTdHJhdGVneTp0LkRlZmF1bHRSZXRyeVN0cmF0ZWd5LEJhc2VVcmw6dC5CYXNlVXJsLENvcnNCZWhhdmlvcjp0LkNvcnNCZWhhdmlvcixQcmVwcm9jZXNzVXJsOnQuUHJlcHJvY2Vzc1VybCxJc0Jhc2U2NERhdGFVcmw6cixJc0ZpbGVVUkw6bixMb2FkRmlsZTphLExvYWRJbWFnZTpzLFJlYWRGaWxlOm8sUmVxdWVzdEZpbGU6dSxTZXRDb3JzQmVoYXZpb3I6Zn0sT2JqZWN0LmRlZmluZVByb3BlcnR5KHRyLCJEZWZhdWx0UmV0cnlTdHJhdGVneSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0LkRlZmF1bHRSZXRyeVN0cmF0ZWd5fSxzZXQ6ZnVuY3Rpb24obCl7dC5EZWZhdWx0UmV0cnlTdHJhdGVneT1sfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0ciwiQmFzZVVybCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0LkJhc2VVcmx9LHNldDpmdW5jdGlvbihsKXt0LkJhc2VVcmw9bH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodHIsIlByZXByb2Nlc3NVcmwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdC5QcmVwcm9jZXNzVXJsfSxzZXQ6ZnVuY3Rpb24obCl7dC5QcmVwcm9jZXNzVXJsPWx9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRyLCJDb3JzQmVoYXZpb3IiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdC5Db3JzQmVoYXZpb3J9LHNldDpmdW5jdGlvbihsKXt0LkNvcnNCZWhhdmlvcj1sfX0pfTtpYShacixCaSxSZSxncixOaSxJdCxLcixlcixZcixqcik7dmFyIHZyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaSgpe31yZXR1cm4gaS5JbnN0YW50aWF0ZT1mdW5jdGlvbihlKXtpZih0aGlzLlJlZ2lzdGVyZWRFeHRlcm5hbENsYXNzZXMmJnRoaXMuUmVnaXN0ZXJlZEV4dGVybmFsQ2xhc3Nlc1tlXSlyZXR1cm4gdGhpcy5SZWdpc3RlcmVkRXh0ZXJuYWxDbGFzc2VzW2VdO3ZhciB0PVB0KGUpO2lmKHQpcmV0dXJuIHQ7Vy5XYXJuKGUrIiBub3QgZm91bmQsIHlvdSBtYXkgaGF2ZSBtaXNzZWQgYW4gaW1wb3J0LiIpO2Zvcih2YXIgcj1lLnNwbGl0KCIuIiksbj13aW5kb3d8fHRoaXMsYT0wLHM9ci5sZW5ndGg7YTxzO2ErKyluPW5bclthXV07cmV0dXJuIHR5cGVvZiBuIT0iZnVuY3Rpb24iP251bGw6bn0saS5SZWdpc3RlcmVkRXh0ZXJuYWxDbGFzc2VzPXt9LGl9KCk7ZnVuY3Rpb24gVWkoKXtyZXR1cm4ieHh4eHh4eHgteHh4eC00eHh4LXl4eHgteHh4eHh4eHh4eHh4Ii5yZXBsYWNlKC9beHldL2csZnVuY3Rpb24oaSl7dmFyIGU9TWF0aC5yYW5kb20oKSoxNnwwLHQ9aT09PSJ4Ij9lOmUmM3w4O3JldHVybiB0LnRvU3RyaW5nKDE2KX0pfXZhciBfZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoKXt9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLCJCYXNlVXJsIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIFJlLkJhc2VVcmx9LHNldDpmdW5jdGlvbihlKXtSZS5CYXNlVXJsPWV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGksIkRlZmF1bHRSZXRyeVN0cmF0ZWd5Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIFJlLkRlZmF1bHRSZXRyeVN0cmF0ZWd5fSxzZXQ6ZnVuY3Rpb24oZSl7UmUuRGVmYXVsdFJldHJ5U3RyYXRlZ3k9ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSwiQ29yc0JlaGF2aW9yIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIFJlLkNvcnNCZWhhdmlvcn0sc2V0OmZ1bmN0aW9uKGUpe1JlLkNvcnNCZWhhdmlvcj1lfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLCJVc2VGYWxsYmFja1RleHR1cmUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYWUuVXNlRmFsbGJhY2tUZXh0dXJlfSxzZXQ6ZnVuY3Rpb24oZSl7YWUuVXNlRmFsbGJhY2tUZXh0dXJlPWV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGksIlJlZ2lzdGVyZWRFeHRlcm5hbENsYXNzZXMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdnIuUmVnaXN0ZXJlZEV4dGVybmFsQ2xhc3Nlc30sc2V0OmZ1bmN0aW9uKGUpe3ZyLlJlZ2lzdGVyZWRFeHRlcm5hbENsYXNzZXM9ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSwiZmFsbGJhY2tUZXh0dXJlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGFlLkZhbGxiYWNrVGV4dHVyZX0sc2V0OmZ1bmN0aW9uKGUpe2FlLkZhbGxiYWNrVGV4dHVyZT1lfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkuRmV0Y2hUb1JlZj1mdW5jdGlvbihlLHQscixuLGEscyl7dmFyIG89TWF0aC5hYnMoZSkqciVyfDAsdT1NYXRoLmFicyh0KSpuJW58MCxmPShvK3UqcikqNDtzLnI9YVtmXS8yNTUscy5nPWFbZisxXS8yNTUscy5iPWFbZisyXS8yNTUscy5hPWFbZiszXS8yNTV9LGkuTWl4PWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZSooMS1yKSt0KnJ9LGkuSW5zdGFudGlhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIHZyLkluc3RhbnRpYXRlKGUpfSxpLlNldEltbWVkaWF0ZT1mdW5jdGlvbihlKXtfci5TZXRJbW1lZGlhdGUoZSl9LGkuSXNFeHBvbmVudE9mVHdvPWZ1bmN0aW9uKGUpe3ZhciB0PTE7ZG8gdCo9Mjt3aGlsZSh0PGUpO3JldHVybiB0PT09ZX0saS5GbG9hdFJvdW5kPWZ1bmN0aW9uKGUpe3JldHVybiBNYXRoLmZyb3VuZD9NYXRoLmZyb3VuZChlKTooaS5fVG1wRmxvYXRBcnJheVswXT1lLGkuX1RtcEZsb2F0QXJyYXlbMF0pfSxpLkdldEZpbGVuYW1lPWZ1bmN0aW9uKGUpe3ZhciB0PWUubGFzdEluZGV4T2YoIi8iKTtyZXR1cm4gdDwwP2U6ZS5zdWJzdHJpbmcodCsxKX0saS5HZXRGb2xkZXJQYXRoPWZ1bmN0aW9uKGUsdCl7dD09PXZvaWQgMCYmKHQ9ITEpO3ZhciByPWUubGFzdEluZGV4T2YoIi8iKTtyZXR1cm4gcjwwP3Q/ZToiIjplLnN1YnN0cmluZygwLHIrMSl9LGkuVG9EZWdyZWVzPWZ1bmN0aW9uKGUpe3JldHVybiBlKjE4MC9NYXRoLlBJfSxpLlRvUmFkaWFucz1mdW5jdGlvbihlKXtyZXR1cm4gZSpNYXRoLlBJLzE4MH0saS5NYWtlQXJyYXk9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdCE9PSEwJiYoZT09PXZvaWQgMHx8ZT09bnVsbCk/bnVsbDpBcnJheS5pc0FycmF5KGUpP2U6W2VdfSxpLkdldFBvaW50ZXJQcmVmaXg9ZnVuY3Rpb24oZSl7dmFyIHQ9InBvaW50ZXIiO3JldHVybiB5ZSgpJiYhd2luZG93LlBvaW50ZXJFdmVudCYmKHQ9Im1vdXNlIiksZS5fYmFkRGVza3RvcE9TJiYhZS5fYmFkT1MmJiEoZG9jdW1lbnQmJiJvbnRvdWNoZW5kImluIGRvY3VtZW50KSYmKHQ9Im1vdXNlIiksdH0saS5TZXRDb3JzQmVoYXZpb3I9ZnVuY3Rpb24oZSx0KXtqcihlLHQpfSxpLkNsZWFuVXJsPWZ1bmN0aW9uKGUpe3JldHVybiBlPWUucmVwbGFjZSgvIy9nbSwiJTIzIiksZX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGksIlByZXByb2Nlc3NVcmwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gUmUuUHJlcHJvY2Vzc1VybH0sc2V0OmZ1bmN0aW9uKGUpe1JlLlByZXByb2Nlc3NVcmw9ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLkxvYWRJbWFnZT1mdW5jdGlvbihlLHQscixuLGEscyl7cmV0dXJuIEtyKGUsdCxyLG4sYSxzKX0saS5Mb2FkRmlsZT1mdW5jdGlvbihlLHQscixuLGEscyl7cmV0dXJuIEl0KGUsdCxyLG4sYSxzKX0saS5Mb2FkRmlsZUFzeW5jPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ9PT12b2lkIDAmJih0PSEwKSxuZXcgUHJvbWlzZShmdW5jdGlvbihyLG4pe0l0KGUsZnVuY3Rpb24oYSl7cihhKX0sdm9pZCAwLHZvaWQgMCx0LGZ1bmN0aW9uKGEscyl7bihzKX0pfSl9LGkuTG9hZFNjcmlwdD1mdW5jdGlvbihlLHQscixuKXtpZighIXllKCkpe3ZhciBhPWRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJoZWFkIilbMF0scz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKTtzLnNldEF0dHJpYnV0ZSgidHlwZSIsInRleHQvamF2YXNjcmlwdCIpLHMuc2V0QXR0cmlidXRlKCJzcmMiLGUpLG4mJihzLmlkPW4pLHMub25sb2FkPWZ1bmN0aW9uKCl7dCYmdCgpfSxzLm9uZXJyb3I9ZnVuY3Rpb24obyl7ciYmcigiVW5hYmxlIHRvIGxvYWQgc2NyaXB0ICciLmNvbmNhdChlLCInIiksbyl9LGEuYXBwZW5kQ2hpbGQocyl9fSxpLkxvYWRTY3JpcHRBc3luYz1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyLG4pe3QuTG9hZFNjcmlwdChlLGZ1bmN0aW9uKCl7cigpfSxmdW5jdGlvbihhLHMpe24ocyl9KX0pfSxpLlJlYWRGaWxlQXNEYXRhVVJMPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1uZXcgRmlsZVJlYWRlcixhPXtvbkNvbXBsZXRlT2JzZXJ2YWJsZTpuZXcgTyxhYm9ydDpmdW5jdGlvbigpe3JldHVybiBuLmFib3J0KCl9fTtyZXR1cm4gbi5vbmxvYWRlbmQ9ZnVuY3Rpb24oKXthLm9uQ29tcGxldGVPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhhKX0sbi5vbmxvYWQ9ZnVuY3Rpb24ocyl7dChzLnRhcmdldC5yZXN1bHQpfSxuLm9ucHJvZ3Jlc3M9cixuLnJlYWRBc0RhdGFVUkwoZSksYX0saS5SZWFkRmlsZT1mdW5jdGlvbihlLHQscixuLGEpe3JldHVybiBlcihlLHQscixuLGEpfSxpLkZpbGVBc1VSTD1mdW5jdGlvbihlKXt2YXIgdD1uZXcgQmxvYihbZV0pLHI9d2luZG93LlVSTHx8d2luZG93LndlYmtpdFVSTCxuPXIuY3JlYXRlT2JqZWN0VVJMKHQpO3JldHVybiBufSxpLkZvcm1hdD1mdW5jdGlvbihlLHQpe3JldHVybiB0PT09dm9pZCAwJiYodD0yKSxlLnRvRml4ZWQodCl9LGkuRGVlcENvcHk9ZnVuY3Rpb24oZSx0LHIsbil7SHIuRGVlcENvcHkoZSx0LHIsbil9LGkuSXNFbXB0eT1mdW5jdGlvbihlKXtmb3IodmFyIHQgaW4gZSlpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSx0KSlyZXR1cm4hMTtyZXR1cm4hMH0saS5SZWdpc3RlclRvcFJvb3RFdmVudHM9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIG49dFtyXTtlLmFkZEV2ZW50TGlzdGVuZXIobi5uYW1lLG4uaGFuZGxlciwhMSk7dHJ5e3dpbmRvdy5wYXJlbnQmJndpbmRvdy5wYXJlbnQuYWRkRXZlbnRMaXN0ZW5lcihuLm5hbWUsbi5oYW5kbGVyLCExKX1jYXRjaHt9fX0saS5VbnJlZ2lzdGVyVG9wUm9vdEV2ZW50cz1mdW5jdGlvbihlLHQpe2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgbj10W3JdO2UucmVtb3ZlRXZlbnRMaXN0ZW5lcihuLm5hbWUsbi5oYW5kbGVyKTt0cnl7ZS5wYXJlbnQmJmUucGFyZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIobi5uYW1lLG4uaGFuZGxlcil9Y2F0Y2h7fX19LGkuRHVtcEZyYW1lYnVmZmVyPWZ1bmN0aW9uKGUsdCxyLG4sYSxzKXtyZXR1cm4gYT09PXZvaWQgMCYmKGE9ImltYWdlL3BuZyIpLGtyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBvLHU7cmV0dXJuIHd0KHRoaXMsZnVuY3Rpb24oZil7c3dpdGNoKGYubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCxyLnJlYWRQaXhlbHMoMCwwLGUsdCldO2Nhc2UgMTpyZXR1cm4gbz1mLnNlbnQoKSx1PW5ldyBVaW50OEFycmF5KG8uYnVmZmVyKSxpLkR1bXBEYXRhKGUsdCx1LG4sYSxzLCEwKSxbMl19fSl9KX0saS5EdW1wRGF0YT1mdW5jdGlvbihlLHQscixuLGEscyxvLHUsZil7YT09PXZvaWQgMCYmKGE9ImltYWdlL3BuZyIpLG89PT12b2lkIDAmJihvPSExKSx1PT09dm9pZCAwJiYodT0hMSksaS5fU2NyZWVuc2hvdENhbnZhc3x8KGkuX1NjcmVlbnNob3RDYW52YXM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIikpLGkuX1NjcmVlbnNob3RDYW52YXMud2lkdGg9ZSxpLl9TY3JlZW5zaG90Q2FudmFzLmhlaWdodD10O3ZhciBsPWkuX1NjcmVlbnNob3RDYW52YXMuZ2V0Q29udGV4dCgiMmQiKTtpZihsKXtpZihyIGluc3RhbmNlb2YgRmxvYXQzMkFycmF5KXtmb3IodmFyIGg9bmV3IFVpbnQ4QXJyYXkoci5sZW5ndGgpLGM9ci5sZW5ndGg7Yy0tOyl7dmFyIGQ9cltjXTtoW2NdPWQ8MD8wOmQ+MT8xOk1hdGgucm91bmQoZCoyNTUpfXI9aH12YXIgcD1sLmNyZWF0ZUltYWdlRGF0YShlLHQpLGc9cC5kYXRhO2cuc2V0KHIpLGwucHV0SW1hZ2VEYXRhKHAsMCwwKTt2YXIgXz1pLl9TY3JlZW5zaG90Q2FudmFzO2lmKG8pe3ZhciB2PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImNhbnZhcyIpO3Yud2lkdGg9ZSx2LmhlaWdodD10O3ZhciB5PXYuZ2V0Q29udGV4dCgiMmQiKTtpZigheSlyZXR1cm47eS50cmFuc2xhdGUoMCx0KSx5LnNjYWxlKDEsLTEpLHkuZHJhd0ltYWdlKGkuX1NjcmVlbnNob3RDYW52YXMsMCwwKSxfPXZ9dT9pLlRvQmxvYihfLGZ1bmN0aW9uKEUpe3ZhciBSPW5ldyBGaWxlUmVhZGVyO1Iub25sb2FkPWZ1bmN0aW9uKE0pe3ZhciBDPU0udGFyZ2V0LnJlc3VsdDtuJiZuKEMpfSxSLnJlYWRBc0FycmF5QnVmZmVyKEUpfSxhLGYpOmkuRW5jb2RlU2NyZWVuc2hvdENhbnZhc0RhdGEobixhLHMsXyxmKX19LGkuRHVtcERhdGFBc3luYz1mdW5jdGlvbihlLHQscixuLGEscyxvLHUpe3JldHVybiBuPT09dm9pZCAwJiYobj0iaW1hZ2UvcG5nIikscz09PXZvaWQgMCYmKHM9ITEpLG89PT12b2lkIDAmJihvPSExKSxuZXcgUHJvbWlzZShmdW5jdGlvbihmKXtpLkR1bXBEYXRhKGUsdCxyLGZ1bmN0aW9uKGwpe3JldHVybiBmKGwpfSxuLGEscyxvLHUpfSl9LGkuVG9CbG9iPWZ1bmN0aW9uKGUsdCxyLG4pe3I9PT12b2lkIDAmJihyPSJpbWFnZS9wbmciKSxlLnRvQmxvYnx8KGUudG9CbG9iPWZ1bmN0aW9uKGEscyxvKXt2YXIgdT10aGlzO3NldFRpbWVvdXQoZnVuY3Rpb24oKXtmb3IodmFyIGY9YXRvYih1LnRvRGF0YVVSTChzLG8pLnNwbGl0KCIsIilbMV0pLGw9Zi5sZW5ndGgsaD1uZXcgVWludDhBcnJheShsKSxjPTA7YzxsO2MrKyloW2NdPWYuY2hhckNvZGVBdChjKTthKG5ldyBCbG9iKFtoXSkpfSl9KSxlLnRvQmxvYihmdW5jdGlvbihhKXt0KGEpfSxyLG4pfSxpLkVuY29kZVNjcmVlbnNob3RDYW52YXNEYXRhPWZ1bmN0aW9uKGUsdCxyLG4sYSl7aWYodD09PXZvaWQgMCYmKHQ9ImltYWdlL3BuZyIpLGUpe3ZhciBzPShuIT1udWxsP246aS5fU2NyZWVuc2hvdENhbnZhcykudG9EYXRhVVJMKHQsYSk7ZShzKX1lbHNlIHRoaXMuVG9CbG9iKG4hPW51bGw/bjppLl9TY3JlZW5zaG90Q2FudmFzLGZ1bmN0aW9uKG8pe2lmKCJkb3dubG9hZCJpbiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIikpe2lmKCFyKXt2YXIgdT1uZXcgRGF0ZSxmPSh1LmdldEZ1bGxZZWFyKCkrIi0iKyh1LmdldE1vbnRoKCkrMSkpLnNsaWNlKDIpKyItIit1LmdldERhdGUoKSsiXyIrdS5nZXRIb3VycygpKyItIisoIjAiK3UuZ2V0TWludXRlcygpKS5zbGljZSgtMik7cj0ic2NyZWVuc2hvdF8iK2YrIi5wbmcifWkuRG93bmxvYWQobyxyKX1lbHNlIGlmKG8pe3ZhciBsPVVSTC5jcmVhdGVPYmplY3RVUkwobyksaD13aW5kb3cub3BlbigiIik7aWYoIWgpcmV0dXJuO3ZhciBjPWguZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW1nIik7Yy5vbmxvYWQ9ZnVuY3Rpb24oKXtVUkwucmV2b2tlT2JqZWN0VVJMKGwpfSxjLnNyYz1sLGguZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChjKX19LHQsYSl9LGkuRG93bmxvYWQ9ZnVuY3Rpb24oZSx0KXtpZihuYXZpZ2F0b3ImJm5hdmlnYXRvci5tc1NhdmVCbG9iKXtuYXZpZ2F0b3IubXNTYXZlQmxvYihlLHQpO3JldHVybn12YXIgcj13aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTChlKSxuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImEiKTtkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKG4pLG4uc3R5bGUuZGlzcGxheT0ibm9uZSIsbi5ocmVmPXIsbi5kb3dubG9hZD10LG4uYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLGZ1bmN0aW9uKCl7bi5wYXJlbnRFbGVtZW50JiZuLnBhcmVudEVsZW1lbnQucmVtb3ZlQ2hpbGQobil9KSxuLmNsaWNrKCksd2luZG93LlVSTC5yZXZva2VPYmplY3RVUkwocil9LGkuQmFja0NvbXBhdENhbWVyYU5vUHJldmVudERlZmF1bHQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlWzBdPT0iYm9vbGVhbiI/ZVswXTp0eXBlb2YgZVsxXT09ImJvb2xlYW4iP2VbMV06ITF9LGkuQ3JlYXRlU2NyZWVuc2hvdD1mdW5jdGlvbihlLHQscixuLGEpe3Rocm93IFgoIlNjcmVlbnNob3RUb29scyIpfSxpLkNyZWF0ZVNjcmVlbnNob3RBc3luYz1mdW5jdGlvbihlLHQscixuKXt0aHJvdyBYKCJTY3JlZW5zaG90VG9vbHMiKX0saS5DcmVhdGVTY3JlZW5zaG90VXNpbmdSZW5kZXJUYXJnZXQ9ZnVuY3Rpb24oZSx0LHIsbixhLHMsbyx1KXt0aHJvdyBYKCJTY3JlZW5zaG90VG9vbHMiKX0saS5DcmVhdGVTY3JlZW5zaG90VXNpbmdSZW5kZXJUYXJnZXRBc3luYz1mdW5jdGlvbihlLHQscixuLGEscyxvKXt0aHJvdyBYKCJTY3JlZW5zaG90VG9vbHMiKX0saS5SYW5kb21JZD1mdW5jdGlvbigpe3JldHVybiBVaSgpfSxpLklzQmFzZTY0PWZ1bmN0aW9uKGUpe3JldHVybiBncihlKX0saS5EZWNvZGVCYXNlNjQ9ZnVuY3Rpb24oZSl7cmV0dXJuIFpyKGUpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSwiZXJyb3JzQ291bnQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gVy5lcnJvcnNDb3VudH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLkxvZz1mdW5jdGlvbihlKXtXLkxvZyhlKX0saS5XYXJuPWZ1bmN0aW9uKGUpe1cuV2FybihlKX0saS5FcnJvcj1mdW5jdGlvbihlKXtXLkVycm9yKGUpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSwiTG9nQ2FjaGUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gVy5Mb2dDYWNoZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLkNsZWFyTG9nQ2FjaGU9ZnVuY3Rpb24oKXtXLkNsZWFyTG9nQ2FjaGUoKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGksIkxvZ0xldmVscyIse3NldDpmdW5jdGlvbihlKXtXLkxvZ0xldmVscz1lfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLCJQZXJmb3JtYW5jZUxvZ0xldmVsIix7c2V0OmZ1bmN0aW9uKGUpe2lmKChlJmkuUGVyZm9ybWFuY2VVc2VyTWFya0xvZ0xldmVsKT09PWkuUGVyZm9ybWFuY2VVc2VyTWFya0xvZ0xldmVsKXtpLlN0YXJ0UGVyZm9ybWFuY2VDb3VudGVyPWkuX1N0YXJ0VXNlck1hcmssaS5FbmRQZXJmb3JtYW5jZUNvdW50ZXI9aS5fRW5kVXNlck1hcms7cmV0dXJufWlmKChlJmkuUGVyZm9ybWFuY2VDb25zb2xlTG9nTGV2ZWwpPT09aS5QZXJmb3JtYW5jZUNvbnNvbGVMb2dMZXZlbCl7aS5TdGFydFBlcmZvcm1hbmNlQ291bnRlcj1pLl9TdGFydFBlcmZvcm1hbmNlQ29uc29sZSxpLkVuZFBlcmZvcm1hbmNlQ291bnRlcj1pLl9FbmRQZXJmb3JtYW5jZUNvbnNvbGU7cmV0dXJufWkuU3RhcnRQZXJmb3JtYW5jZUNvdW50ZXI9aS5fU3RhcnRQZXJmb3JtYW5jZUNvdW50ZXJEaXNhYmxlZCxpLkVuZFBlcmZvcm1hbmNlQ291bnRlcj1pLl9FbmRQZXJmb3JtYW5jZUNvdW50ZXJEaXNhYmxlZH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLl9TdGFydFBlcmZvcm1hbmNlQ291bnRlckRpc2FibGVkPWZ1bmN0aW9uKGUsdCl7fSxpLl9FbmRQZXJmb3JtYW5jZUNvdW50ZXJEaXNhYmxlZD1mdW5jdGlvbihlLHQpe30saS5fU3RhcnRVc2VyTWFyaz1mdW5jdGlvbihlLHQpe2lmKHQ9PT12b2lkIDAmJih0PSEwKSwhaS5fUGVyZm9ybWFuY2Upe2lmKCF5ZSgpKXJldHVybjtpLl9QZXJmb3JtYW5jZT13aW5kb3cucGVyZm9ybWFuY2V9IXR8fCFpLl9QZXJmb3JtYW5jZS5tYXJrfHxpLl9QZXJmb3JtYW5jZS5tYXJrKGUrIi1CZWdpbiIpfSxpLl9FbmRVc2VyTWFyaz1mdW5jdGlvbihlLHQpe3Q9PT12b2lkIDAmJih0PSEwKSwhKCF0fHwhaS5fUGVyZm9ybWFuY2UubWFyaykmJihpLl9QZXJmb3JtYW5jZS5tYXJrKGUrIi1FbmQiKSxpLl9QZXJmb3JtYW5jZS5tZWFzdXJlKGUsZSsiLUJlZ2luIixlKyItRW5kIikpfSxpLl9TdGFydFBlcmZvcm1hbmNlQ29uc29sZT1mdW5jdGlvbihlLHQpe3Q9PT12b2lkIDAmJih0PSEwKSx0JiYoaS5fU3RhcnRVc2VyTWFyayhlLHQpLGNvbnNvbGUudGltZSYmY29uc29sZS50aW1lKGUpKX0saS5fRW5kUGVyZm9ybWFuY2VDb25zb2xlPWZ1bmN0aW9uKGUsdCl7dD09PXZvaWQgMCYmKHQ9ITApLHQmJihpLl9FbmRVc2VyTWFyayhlLHQpLGNvbnNvbGUudGltZUVuZChlKSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLCJOb3ciLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gTnQuTm93fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkuR2V0Q2xhc3NOYW1lPWZ1bmN0aW9uKGUsdCl7dD09PXZvaWQgMCYmKHQ9ITEpO3ZhciByPW51bGw7aWYoIXQmJmUuZ2V0Q2xhc3NOYW1lKXI9ZS5nZXRDbGFzc05hbWUoKTtlbHNle2lmKGUgaW5zdGFuY2VvZiBPYmplY3Qpe3ZhciBuPXQ/ZTpPYmplY3QuZ2V0UHJvdG90eXBlT2YoZSk7cj1uLmNvbnN0cnVjdG9yLl9fYmpzY2xhc3NOYW1lX199cnx8KHI9dHlwZW9mIGUpfXJldHVybiByfSxpLkZpcnN0PWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByPTAsbj1lO3I8bi5sZW5ndGg7cisrKXt2YXIgYT1uW3JdO2lmKHQoYSkpcmV0dXJuIGF9cmV0dXJuIG51bGx9LGkuZ2V0RnVsbENsYXNzTmFtZT1mdW5jdGlvbihlLHQpe3Q9PT12b2lkIDAmJih0PSExKTt2YXIgcj1udWxsLG49bnVsbDtpZighdCYmZS5nZXRDbGFzc05hbWUpcj1lLmdldENsYXNzTmFtZSgpO2Vsc2V7aWYoZSBpbnN0YW5jZW9mIE9iamVjdCl7dmFyIGE9dD9lOk9iamVjdC5nZXRQcm90b3R5cGVPZihlKTtyPWEuY29uc3RydWN0b3IuX19ianNjbGFzc05hbWVfXyxuPWEuY29uc3RydWN0b3IuX19ianNtb2R1bGVOYW1lX199cnx8KHI9dHlwZW9mIGUpfXJldHVybiByPyhuIT1udWxsP24rIi4iOiIiKStyOm51bGx9LGkuRGVsYXlBc3luYz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24odCl7c2V0VGltZW91dChmdW5jdGlvbigpe3QoKX0sZSl9KX0saS5Jc1NhZmFyaT1mdW5jdGlvbigpe3JldHVybiBSaSgpPy9eKCg/IWNocm9tZXxhbmRyb2lkKS4pKnNhZmFyaS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk6ITF9LGkuVXNlQ3VzdG9tUmVxdWVzdEhlYWRlcnM9ITEsaS5DdXN0b21SZXF1ZXN0SGVhZGVycz1kci5DdXN0b21SZXF1ZXN0SGVhZGVycyxpLl9UbXBGbG9hdEFycmF5PW5ldyBGbG9hdDMyQXJyYXkoMSksaS5HZXRET01UZXh0Q29udGVudD1XcixpLkdldEFic29sdXRlVXJsPXR5cGVvZiBkb2N1bWVudD09Im9iamVjdCI/ZnVuY3Rpb24oZSl7dmFyIHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpO3JldHVybiB0LmhyZWY9ZSx0LmhyZWZ9OnR5cGVvZiBVUkw9PSJmdW5jdGlvbiImJnR5cGVvZiBsb2NhdGlvbj09Im9iamVjdCI/ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBVUkwoZSxsb2NhdGlvbi5vcmlnaW4pLmhyZWZ9OmZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKCJVbmFibGUgdG8gZ2V0IGFic29sdXRlIFVSTC4gT3ZlcnJpZGUgQkFCWUxPTi5Ub29scy5HZXRBYnNvbHV0ZVVybCB0byBhIGN1c3RvbSBpbXBsZW1lbnRhdGlvbiBmb3IgdGhlIGN1cnJlbnQgY29udGV4dC4iKX0saS5Ob25lTG9nTGV2ZWw9Vy5Ob25lTG9nTGV2ZWwsaS5NZXNzYWdlTG9nTGV2ZWw9Vy5NZXNzYWdlTG9nTGV2ZWwsaS5XYXJuaW5nTG9nTGV2ZWw9Vy5XYXJuaW5nTG9nTGV2ZWwsaS5FcnJvckxvZ0xldmVsPVcuRXJyb3JMb2dMZXZlbCxpLkFsbExvZ0xldmVsPVcuQWxsTG9nTGV2ZWwsaS5Jc1dpbmRvd09iamVjdEV4aXN0PXllLGkuUGVyZm9ybWFuY2VOb25lTG9nTGV2ZWw9MCxpLlBlcmZvcm1hbmNlVXNlck1hcmtMb2dMZXZlbD0xLGkuUGVyZm9ybWFuY2VDb25zb2xlTG9nTGV2ZWw9MixpLlN0YXJ0UGVyZm9ybWFuY2VDb3VudGVyPWkuX1N0YXJ0UGVyZm9ybWFuY2VDb3VudGVyRGlzYWJsZWQsaS5FbmRQZXJmb3JtYW5jZUNvdW50ZXI9aS5fRW5kUGVyZm9ybWFuY2VDb3VudGVyRGlzYWJsZWQsaX0oKSxuYT1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoZSx0LHIsbil7bj09PXZvaWQgMCYmKG49MCksdGhpcy5pdGVyYXRpb25zPWUsdGhpcy5pbmRleD1uLTEsdGhpcy5fZG9uZT0hMSx0aGlzLl9mbj10LHRoaXMuX3N1Y2Nlc3NDYWxsYmFjaz1yfXJldHVybiBpLnByb3RvdHlwZS5leGVjdXRlTmV4dD1mdW5jdGlvbigpe3RoaXMuX2RvbmV8fCh0aGlzLmluZGV4KzE8dGhpcy5pdGVyYXRpb25zPygrK3RoaXMuaW5kZXgsdGhpcy5fZm4odGhpcykpOnRoaXMuYnJlYWtMb29wKCkpfSxpLnByb3RvdHlwZS5icmVha0xvb3A9ZnVuY3Rpb24oKXt0aGlzLl9kb25lPSEwLHRoaXMuX3N1Y2Nlc3NDYWxsYmFjaygpfSxpLlJ1bj1mdW5jdGlvbihlLHQscixuKXtuPT09dm9pZCAwJiYobj0wKTt2YXIgYT1uZXcgaShlLHQscixuKTtyZXR1cm4gYS5leGVjdXRlTmV4dCgpLGF9LGkuU3luY0FzeW5jRm9yTG9vcD1mdW5jdGlvbihlLHQscixuLGEscyl7cmV0dXJuIHM9PT12b2lkIDAmJihzPTApLGkuUnVuKE1hdGguY2VpbChlL3QpLGZ1bmN0aW9uKG8pe2EmJmEoKT9vLmJyZWFrTG9vcCgpOnNldFRpbWVvdXQoZnVuY3Rpb24oKXtmb3IodmFyIHU9MDt1PHQ7Kyt1KXt2YXIgZj1vLmluZGV4KnQrdTtpZihmPj1lKWJyZWFrO2lmKHIoZiksYSYmYSgpKXtvLmJyZWFrTG9vcCgpO2JyZWFrfX1vLmV4ZWN1dGVOZXh0KCl9LHMpfSxuKX0saX0oKTthZS5GYWxsYmFja1RleHR1cmU9ImRhdGE6aW1hZ2UvanBnO2Jhc2U2NCwvOWovNEFBUVNrWkpSZ0FCQVFFQVlBQmdBQUQvNFFCbVJYaHBaZ0FBVFUwQUtnQUFBQWdBQkFFYUFBVUFBQUFCQUFBQVBnRWJBQVVBQUFBQkFBQUFSZ0VvQUFNQUFBQUJBQUlBQUFFeEFBSUFBQUFRQUFBQVRnQUFBQUFBQUFCZ0FBQUFBUUFBQUdBQUFBQUJjR0ZwYm5RdWJtVjBJRFF1TUM0MUFQL2JBRU1BQkFJREF3TUNCQU1EQXdRRUJBUUZDUVlGQlFVRkN3Z0lCZ2tOQ3cwTkRRc01EQTRRRkJFT0R4TVBEQXdTR0JJVEZSWVhGeGNPRVJrYkdSWWFGQllYRnYvYkFFTUJCQVFFQlFVRkNnWUdDaFlQREE4V0ZoWVdGaFlXRmhZV0ZoWVdGaFlXRmhZV0ZoWVdGaFlXRmhZV0ZoWVdGaFlXRmhZV0ZoWVdGaFlXRmhZV0ZoWVdGdi9BQUJFSUFRQUJBQU1CSWdBQ0VRRURFUUgveEFBZkFBQUJCUUVCQVFFQkFRQUFBQUFBQUFBQUFRSURCQVVHQndnSkNndi94QUMxRUFBQ0FRTURBZ1FEQlFVRUJBQUFBWDBCQWdNQUJCRUZFaUV4UVFZVFVXRUhJbkVVTW9HUm9RZ2pRckhCRlZMUjhDUXpZbktDQ1FvV0Z4Z1pHaVVtSnlncEtqUTFOamM0T1RwRFJFVkdSMGhKU2xOVVZWWlhXRmxhWTJSbFptZG9hV3B6ZEhWMmQzaDVlb09FaFlhSGlJbUtrcE9VbFphWG1KbWFvcU9rcGFhbnFLbXFzck8wdGJhM3VMbTZ3c1BFeGNiSHlNbkswdFBVMWRiWDJObmE0ZUxqNU9YbTUranA2dkh5OC9UMTl2ZjQrZnIveEFBZkFRQURBUUVCQVFFQkFRRUJBQUFBQUFBQUFRSURCQVVHQndnSkNndi94QUMxRVFBQ0FRSUVCQU1FQndVRUJBQUJBbmNBQVFJREVRUUZJVEVHRWtGUkIyRnhFeUl5Z1FnVVFwR2hzY0VKSXpOUzhCVmljdEVLRmlRMDRTWHhGeGdaR2lZbktDa3FOVFkzT0RrNlEwUkZSa2RJU1VwVFZGVldWMWhaV21Oa1pXWm5hR2xxYzNSMWRuZDRlWHFDZzRTRmhvZUlpWXFTazVTVmxwZVltWnFpbzZTbHBxZW9xYXF5czdTMXRyZTR1YnJDdzhURnhzZkl5Y3JTMDlUVjF0ZlkyZHJpNCtUbDV1Zm82ZXJ5OC9UMTl2ZjQrZnIvMmdBTUF3RUFBaEVERVFBL0FQSDZLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVStvS0tLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZQbCtpaWl2dWorQlQ2Z29vb3I0VS92bytYNktLSys2UDRGQ2lpaWdENmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZQbCtpaWl2dWorQlQ2Z29vb3I0VS92bytYNktLSys2UDRGUHFDaWlpdmhUKytqNWZvb29yN28vZ1Urb0tLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2dvb29vQStYNktLSys2UDRGUHFDaWlpdmhUKytqNWZvb29yN28vZ1Urb0tLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVStvS0tLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVS0tLS0FQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVStvS0tLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZQbCtpaWl2dWorQlQ2Z29vb3I0VS92bytYNktLSys2UDRGUHFDaWlpdmhUKytqNWZvb29yN28vZ1Urb0tLS0srRlA3NkNpaWlnRDVmb29vcjdvL2dVK29LS0tLK0ZQNzZQbCtpaWl2dWorQlQ2Z29vb3I0VS92bytYNktLSys2UDRGUHFDaWlpdmhUKytqNWZvb29yN28vZ1Urb0tLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVStvS0tLSytGUDc2UGwraWlpdnVqK0JRb29vb0Erb0tLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVStvS0tLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZQbCtpaWl2dWorQlQ2Z29vb3I0VS92b0tLS0tBUGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZQbCtpaWl2dWorQlQ2Z29vb3I0VS92bytYNktLSys2UDRGUHFDaWlpdmhUKytqNWZvb29yN28vZ1Urb0tLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZDaWlpZ0Q2Z29vb3I0VS92bytYNktLSys2UDRGUHFDaWlpdmhUKytqNWZvb29yN28vZ1Urb0tLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVStvS0tLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrZ29vb29BK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVStvS0tLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZQbCtpaWl2dWorQlQ2Z29vb3I0VS92bytYNktLSys2UDRGUHFDaWlpdmhUKytqNWZvb29yN28vZ1VLS0tLQVBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZQbCtpaWl2dWorQlQ2Z29vb3I0VS92bytYNktLSys2UDRGUHFDaWlpdmhUKytqNWZvb29yN28vZ1Urb0tLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVStvS0tLSytGUDc2Q2lpaWdENWZvb29yN28vZ1Urb0tLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVStvS0tLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZQbCtpaWl2dWorQlFvb29vQStvS0tLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZQbCtpaWl2dWorQlQ2Z29vb3I0VS92bytYNktLSys2UDRGUHFDaWlpdmhUKytqNWZvb29yN28vZ1Urb0tLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvS0tLS0FQbCtpaWl2dWorQlQ2Z29vb3I0VS92bytYNktLSys2UDRGUHFDaWlpdmhUKytqNWZvb29yN28vZ1Urb0tLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVStvS0tLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RkNpaWlnRDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVStvS0tLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZQbCtpaWl2dWorQlQ2Z29vb3I0VS92bytYNktLSys2UDRGUHFDaWlpdmhUKytnb29vb0ErWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZQbCtpaWl2dWorQlQ2Z29vb3I0VS92bytYNktLSys2UDRGUHFDaWlpdmhUKytqNWZvb29yN28vZ1Urb0tLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVUtLS0tBUHFDaWlpdmhUKytqNWZvb29yN28vZ1Urb0tLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVStvS0tLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZQLy9aIjt2YXIgVmU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKGUpe3RoaXMubGVuZ3RoPTAsdGhpcy5kYXRhPW5ldyBBcnJheShlKSx0aGlzLl9pZD1pLl9HbG9iYWxJZCsrfXJldHVybiBpLnByb3RvdHlwZS5wdXNoPWZ1bmN0aW9uKGUpe3RoaXMuZGF0YVt0aGlzLmxlbmd0aCsrXT1lLHRoaXMubGVuZ3RoPnRoaXMuZGF0YS5sZW5ndGgmJih0aGlzLmRhdGEubGVuZ3RoKj0yKX0saS5wcm90b3R5cGUuZm9yRWFjaD1mdW5jdGlvbihlKXtmb3IodmFyIHQ9MDt0PHRoaXMubGVuZ3RoO3QrKyllKHRoaXMuZGF0YVt0XSl9LGkucHJvdG90eXBlLnNvcnQ9ZnVuY3Rpb24oZSl7dGhpcy5kYXRhLnNvcnQoZSl9LGkucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5sZW5ndGg9MH0saS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3RoaXMucmVzZXQoKSx0aGlzLmRhdGEmJih0aGlzLmRhdGEubGVuZ3RoPTAsdGhpcy5kYXRhPVtdKX0saS5wcm90b3R5cGUuY29uY2F0PWZ1bmN0aW9uKGUpe2lmKGUubGVuZ3RoIT09MCl7dGhpcy5sZW5ndGgrZS5sZW5ndGg+dGhpcy5kYXRhLmxlbmd0aCYmKHRoaXMuZGF0YS5sZW5ndGg9KHRoaXMubGVuZ3RoK2UubGVuZ3RoKSoyKTtmb3IodmFyIHQ9MDt0PGUubGVuZ3RoO3QrKyl0aGlzLmRhdGFbdGhpcy5sZW5ndGgrK109KGUuZGF0YXx8ZSlbdF19fSxpLnByb3RvdHlwZS5pbmRleE9mPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuZGF0YS5pbmRleE9mKGUpO3JldHVybiB0Pj10aGlzLmxlbmd0aD8tMTp0fSxpLnByb3RvdHlwZS5jb250YWlucz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5pbmRleE9mKGUpIT09LTF9LGkuX0dsb2JhbElkPTAsaX0oKSxPdD1mdW5jdGlvbihpKXtLKGUsaSk7ZnVuY3Rpb24gZSgpe3ZhciB0PWkhPT1udWxsJiZpLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gdC5fZHVwbGljYXRlSWQ9MCx0fXJldHVybiBlLnByb3RvdHlwZS5wdXNoPWZ1bmN0aW9uKHQpe2kucHJvdG90eXBlLnB1c2guY2FsbCh0aGlzLHQpLHQuX19zbWFydEFycmF5RmxhZ3N8fCh0Ll9fc21hcnRBcnJheUZsYWdzPXt9KSx0Ll9fc21hcnRBcnJheUZsYWdzW3RoaXMuX2lkXT10aGlzLl9kdXBsaWNhdGVJZH0sZS5wcm90b3R5cGUucHVzaE5vRHVwbGljYXRlPWZ1bmN0aW9uKHQpe3JldHVybiB0Ll9fc21hcnRBcnJheUZsYWdzJiZ0Ll9fc21hcnRBcnJheUZsYWdzW3RoaXMuX2lkXT09PXRoaXMuX2R1cGxpY2F0ZUlkPyExOih0aGlzLnB1c2godCksITApfSxlLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe2kucHJvdG90eXBlLnJlc2V0LmNhbGwodGhpcyksdGhpcy5fZHVwbGljYXRlSWQrK30sZS5wcm90b3R5cGUuY29uY2F0V2l0aE5vRHVwbGljYXRlPWZ1bmN0aW9uKHQpe2lmKHQubGVuZ3RoIT09MCl7dGhpcy5sZW5ndGgrdC5sZW5ndGg+dGhpcy5kYXRhLmxlbmd0aCYmKHRoaXMuZGF0YS5sZW5ndGg9KHRoaXMubGVuZ3RoK3QubGVuZ3RoKSoyKTtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIG49KHQuZGF0YXx8dClbcl07dGhpcy5wdXNoTm9EdXBsaWNhdGUobil9fX0sZX0oVmUpLFZpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaSgpe3RoaXMuX2NvdW50PTAsdGhpcy5fZGF0YT17fX1yZXR1cm4gaS5wcm90b3R5cGUuY29weUZyb209ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0aGlzLmNsZWFyKCksZS5mb3JFYWNoKGZ1bmN0aW9uKHIsbil7cmV0dXJuIHQuYWRkKHIsbil9KX0saS5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX2RhdGFbZV07aWYodCE9PXZvaWQgMClyZXR1cm4gdH0saS5wcm90b3R5cGUuZ2V0T3JBZGRXaXRoRmFjdG9yeT1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXMuZ2V0KGUpO3JldHVybiByIT09dm9pZCAwfHwocj10KGUpLHImJnRoaXMuYWRkKGUscikpLHJ9LGkucHJvdG90eXBlLmdldE9yQWRkPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy5nZXQoZSk7cmV0dXJuIHIhPT12b2lkIDA/cjoodGhpcy5hZGQoZSx0KSx0KX0saS5wcm90b3R5cGUuY29udGFpbnM9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX2RhdGFbZV0hPT12b2lkIDB9LGkucHJvdG90eXBlLmFkZD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLl9kYXRhW2VdIT09dm9pZCAwPyExOih0aGlzLl9kYXRhW2VdPXQsKyt0aGlzLl9jb3VudCwhMCl9LGkucHJvdG90eXBlLnNldD1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLl9kYXRhW2VdPT09dm9pZCAwPyExOih0aGlzLl9kYXRhW2VdPXQsITApfSxpLnByb3RvdHlwZS5nZXRBbmRSZW1vdmU9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5nZXQoZSk7cmV0dXJuIHQhPT12b2lkIDA/KGRlbGV0ZSB0aGlzLl9kYXRhW2VdLC0tdGhpcy5fY291bnQsdCk6bnVsbH0saS5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmNvbnRhaW5zKGUpPyhkZWxldGUgdGhpcy5fZGF0YVtlXSwtLXRoaXMuX2NvdW50LCEwKTohMX0saS5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXt0aGlzLl9kYXRhPXt9LHRoaXMuX2NvdW50PTB9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiY291bnQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY291bnR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksaS5wcm90b3R5cGUuZm9yRWFjaD1mdW5jdGlvbihlKXtmb3IodmFyIHQgaW4gdGhpcy5fZGF0YSl7dmFyIHI9dGhpcy5fZGF0YVt0XTtlKHQscil9fSxpLnByb3RvdHlwZS5maXJzdD1mdW5jdGlvbihlKXtmb3IodmFyIHQgaW4gdGhpcy5fZGF0YSl7dmFyIHI9dGhpcy5fZGF0YVt0XSxuPWUodCxyKTtpZihuKXJldHVybiBufXJldHVybiBudWxsfSxpfSgpLGFhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaSgpe31yZXR1cm4gaS5FdmFsPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUubWF0Y2goL1woW14oKV0qXCkvZyk/ZT1lLnJlcGxhY2UoL1woW14oKV0qXCkvZyxmdW5jdGlvbihyKXtyZXR1cm4gcj1yLnNsaWNlKDEsci5sZW5ndGgtMSksaS5fSGFuZGxlUGFyZW50aGVzaXNDb250ZW50KHIsdCl9KTplPWkuX0hhbmRsZVBhcmVudGhlc2lzQ29udGVudChlLHQpLGU9PT0idHJ1ZSI/ITA6ZT09PSJmYWxzZSI/ITE6aS5FdmFsKGUsdCl9LGkuX0hhbmRsZVBhcmVudGhlc2lzQ29udGVudD1mdW5jdGlvbihlLHQpe3Q9dHx8ZnVuY3Rpb24obCl7cmV0dXJuIGw9PT0idHJ1ZSJ9O3ZhciByLG49ZS5zcGxpdCgifHwiKTtmb3IodmFyIGEgaW4gbilpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobixhKSl7dmFyIHM9aS5fU2ltcGxpZnlOZWdhdGlvbihuW2FdLnRyaW0oKSksbz1zLnNwbGl0KCImJiIpO2lmKG8ubGVuZ3RoPjEpZm9yKHZhciB1PTA7dTxvLmxlbmd0aDsrK3Upe3ZhciBmPWkuX1NpbXBsaWZ5TmVnYXRpb24ob1t1XS50cmltKCkpO2lmKGYhPT0idHJ1ZSImJmYhPT0iZmFsc2UiP2ZbMF09PT0iISI/cj0hdChmLnN1YnN0cmluZygxKSk6cj10KGYpOnI9Zj09PSJ0cnVlIiwhcil7cz0iZmFsc2UiO2JyZWFrfX1pZihyfHxzPT09InRydWUiKXtyPSEwO2JyZWFrfXMhPT0idHJ1ZSImJnMhPT0iZmFsc2UiP3NbMF09PT0iISI/cj0hdChzLnN1YnN0cmluZygxKSk6cj10KHMpOnI9cz09PSJ0cnVlIn1yZXR1cm4gcj8idHJ1ZSI6ImZhbHNlIn0saS5fU2ltcGxpZnlOZWdhdGlvbj1mdW5jdGlvbihlKXtyZXR1cm4gZT1lLnJlcGxhY2UoL15bXHMhXSsvLGZ1bmN0aW9uKHQpe3JldHVybiB0PXQucmVwbGFjZSgvW1xzXS9nLGZ1bmN0aW9uKCl7cmV0dXJuIiJ9KSx0Lmxlbmd0aCUyPyIhIjoiIn0pLGU9ZS50cmltKCksZT09PSIhdHJ1ZSI/ZT0iZmFsc2UiOmU9PT0iIWZhbHNlIiYmKGU9InRydWUiKSxlfSxpfSgpLGRlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaSgpe31yZXR1cm4gaS5FbmFibGVGb3I9ZnVuY3Rpb24oZSl7ZS5fdGFncz1lLl90YWdzfHx7fSxlLmhhc1RhZ3M9ZnVuY3Rpb24oKXtyZXR1cm4gaS5IYXNUYWdzKGUpfSxlLmFkZFRhZ3M9ZnVuY3Rpb24odCl7cmV0dXJuIGkuQWRkVGFnc1RvKGUsdCl9LGUucmVtb3ZlVGFncz1mdW5jdGlvbih0KXtyZXR1cm4gaS5SZW1vdmVUYWdzRnJvbShlLHQpfSxlLm1hdGNoZXNUYWdzUXVlcnk9ZnVuY3Rpb24odCl7cmV0dXJuIGkuTWF0Y2hlc1F1ZXJ5KGUsdCl9fSxpLkRpc2FibGVGb3I9ZnVuY3Rpb24oZSl7ZGVsZXRlIGUuX3RhZ3MsZGVsZXRlIGUuaGFzVGFncyxkZWxldGUgZS5hZGRUYWdzLGRlbGV0ZSBlLnJlbW92ZVRhZ3MsZGVsZXRlIGUubWF0Y2hlc1RhZ3NRdWVyeX0saS5IYXNUYWdzPWZ1bmN0aW9uKGUpe2lmKCFlLl90YWdzKXJldHVybiExO3ZhciB0PWUuX3RhZ3M7Zm9yKHZhciByIGluIHQpaWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQscikpcmV0dXJuITA7cmV0dXJuITF9LGkuR2V0VGFncz1mdW5jdGlvbihlLHQpe2lmKHQ9PT12b2lkIDAmJih0PSEwKSwhZS5fdGFncylyZXR1cm4gbnVsbDtpZih0KXt2YXIgcj1bXTtmb3IodmFyIG4gaW4gZS5fdGFncylPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZS5fdGFncyxuKSYmZS5fdGFnc1tuXT09PSEwJiZyLnB1c2gobik7cmV0dXJuIHIuam9pbigiICIpfWVsc2UgcmV0dXJuIGUuX3RhZ3N9LGkuQWRkVGFnc1RvPWZ1bmN0aW9uKGUsdCl7aWYoISF0JiZ0eXBlb2YgdD09InN0cmluZyIpe3ZhciByPXQuc3BsaXQoIiAiKTtyLmZvckVhY2goZnVuY3Rpb24obil7aS5fQWRkVGFnVG8oZSxuKX0pfX0saS5fQWRkVGFnVG89ZnVuY3Rpb24oZSx0KXt0PXQudHJpbSgpLCEodD09PSIifHx0PT09InRydWUifHx0PT09ImZhbHNlIikmJih0Lm1hdGNoKC9bXHNdLyl8fHQubWF0Y2goL14oWyFdfChbfF18WyZdKXsyfSkvKXx8KGkuRW5hYmxlRm9yKGUpLGUuX3RhZ3NbdF09ITApKX0saS5SZW1vdmVUYWdzRnJvbT1mdW5jdGlvbihlLHQpe2lmKCEhaS5IYXNUYWdzKGUpKXt2YXIgcj10LnNwbGl0KCIgIik7Zm9yKHZhciBuIGluIHIpaS5fUmVtb3ZlVGFnRnJvbShlLHJbbl0pfX0saS5fUmVtb3ZlVGFnRnJvbT1mdW5jdGlvbihlLHQpe2RlbGV0ZSBlLl90YWdzW3RdfSxpLk1hdGNoZXNRdWVyeT1mdW5jdGlvbihlLHQpe3JldHVybiB0PT09dm9pZCAwPyEwOnQ9PT0iIj9pLkhhc1RhZ3MoZSk6YWEuRXZhbCh0LGZ1bmN0aW9uKHIpe3JldHVybiBpLkhhc1RhZ3MoZSkmJmUuX3RhZ3Nbcl19KX0saX0oKSxraT1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoKXt0aGlzLnJvb3ROb2Rlcz1uZXcgQXJyYXksdGhpcy5jYW1lcmFzPW5ldyBBcnJheSx0aGlzLmxpZ2h0cz1uZXcgQXJyYXksdGhpcy5tZXNoZXM9bmV3IEFycmF5LHRoaXMuc2tlbGV0b25zPW5ldyBBcnJheSx0aGlzLnBhcnRpY2xlU3lzdGVtcz1uZXcgQXJyYXksdGhpcy5hbmltYXRpb25zPVtdLHRoaXMuYW5pbWF0aW9uR3JvdXBzPW5ldyBBcnJheSx0aGlzLm11bHRpTWF0ZXJpYWxzPW5ldyBBcnJheSx0aGlzLm1hdGVyaWFscz1uZXcgQXJyYXksdGhpcy5tb3JwaFRhcmdldE1hbmFnZXJzPW5ldyBBcnJheSx0aGlzLmdlb21ldHJpZXM9bmV3IEFycmF5LHRoaXMudHJhbnNmb3JtTm9kZXM9bmV3IEFycmF5LHRoaXMuYWN0aW9uTWFuYWdlcnM9bmV3IEFycmF5LHRoaXMudGV4dHVyZXM9bmV3IEFycmF5LHRoaXMuX2Vudmlyb25tZW50VGV4dHVyZT1udWxsLHRoaXMucG9zdFByb2Nlc3Nlcz1uZXcgQXJyYXl9cmV0dXJuIGkuQWRkUGFyc2VyPWZ1bmN0aW9uKGUsdCl7dGhpcy5fQmFieWxvbkZpbGVQYXJzZXJzW2VdPXR9LGkuR2V0UGFyc2VyPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9CYWJ5bG9uRmlsZVBhcnNlcnNbZV0/dGhpcy5fQmFieWxvbkZpbGVQYXJzZXJzW2VdOm51bGx9LGkuQWRkSW5kaXZpZHVhbFBhcnNlcj1mdW5jdGlvbihlLHQpe3RoaXMuX0luZGl2aWR1YWxCYWJ5bG9uRmlsZVBhcnNlcnNbZV09dH0saS5HZXRJbmRpdmlkdWFsUGFyc2VyPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9JbmRpdmlkdWFsQmFieWxvbkZpbGVQYXJzZXJzW2VdP3RoaXMuX0luZGl2aWR1YWxCYWJ5bG9uRmlsZVBhcnNlcnNbZV06bnVsbH0saS5QYXJzZT1mdW5jdGlvbihlLHQscixuKXtmb3IodmFyIGEgaW4gdGhpcy5fQmFieWxvbkZpbGVQYXJzZXJzKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLl9CYWJ5bG9uRmlsZVBhcnNlcnMsYSkmJnRoaXMuX0JhYnlsb25GaWxlUGFyc2Vyc1thXShlLHQscixuKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJlbnZpcm9ubWVudFRleHR1cmUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZW52aXJvbm1lbnRUZXh0dXJlfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fZW52aXJvbm1lbnRUZXh0dXJlPWV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksaS5wcm90b3R5cGUuZ2V0Tm9kZXM9ZnVuY3Rpb24oKXt2YXIgZT1uZXcgQXJyYXk7cmV0dXJuIGU9ZS5jb25jYXQodGhpcy5tZXNoZXMpLGU9ZS5jb25jYXQodGhpcy5saWdodHMpLGU9ZS5jb25jYXQodGhpcy5jYW1lcmFzKSxlPWUuY29uY2F0KHRoaXMudHJhbnNmb3JtTm9kZXMpLHRoaXMuc2tlbGV0b25zLmZvckVhY2goZnVuY3Rpb24odCl7cmV0dXJuIGU9ZS5jb25jYXQodC5ib25lcyl9KSxlfSxpLl9CYWJ5bG9uRmlsZVBhcnNlcnM9e30saS5fSW5kaXZpZHVhbEJhYnlsb25GaWxlUGFyc2Vycz17fSxpfSgpLG1yPXt9LHlyPXt9LFdpPWZ1bmN0aW9uKGksZSx0KXt2YXIgcj1pKCk7ZGUmJmRlLkFkZFRhZ3NUbyhyLGUudGFncyk7dmFyIG49cXIocik7Zm9yKHZhciBhIGluIG4pe3ZhciBzPW5bYV0sbz1lW2FdLHU9cy50eXBlO2lmKG8hPW51bGwmJihhIT09InVuaXF1ZUlkInx8dGUuQWxsb3dMb2FkaW5nVW5pcXVlSWQpKXN3aXRjaCh1KXtjYXNlIDA6Y2FzZSA2OmNhc2UgMTE6clthXT1vO2JyZWFrO2Nhc2UgMTpyW2FdPXR8fG8uaXNSZW5kZXJUYXJnZXQ/bzpvLmNsb25lKCk7YnJlYWs7Y2FzZSAyOmNhc2UgMzpjYXNlIDQ6Y2FzZSA1OmNhc2UgNzpjYXNlIDEwOmNhc2UgMTI6clthXT10P286by5jbG9uZSgpO2JyZWFrfX1yZXR1cm4gcn07ZnVuY3Rpb24gc2EoaSl7dmFyIGU9aS5nZXRDbGFzc05hbWUoKTtyZXR1cm4gbXJbZV18fChtcltlXT17fSksbXJbZV19ZnVuY3Rpb24gcXIoaSl7dmFyIGU9aS5nZXRDbGFzc05hbWUoKTtpZih5cltlXSlyZXR1cm4geXJbZV07eXJbZV09e307Zm9yKHZhciB0PXlyW2VdLHI9aSxuPWU7bjspe3ZhciBhPW1yW25dO2Zvcih2YXIgcyBpbiBhKXRbc109YVtzXTt2YXIgbz12b2lkIDAsdT0hMTtkb3tpZihvPU9iamVjdC5nZXRQcm90b3R5cGVPZihyKSwhby5nZXRDbGFzc05hbWUpe3U9ITA7YnJlYWt9aWYoby5nZXRDbGFzc05hbWUoKSE9PW4pYnJlYWs7cj1vfXdoaWxlKG8pO2lmKHUpYnJlYWs7bj1vLmdldENsYXNzTmFtZSgpLHI9b31yZXR1cm4gdH1mdW5jdGlvbiBpdChpLGUpe3JldHVybiBmdW5jdGlvbih0LHIpe3ZhciBuPXNhKHQpO25bcl18fChuW3JdPXt0eXBlOmksc291cmNlTmFtZTplfSl9fWZ1bmN0aW9uIG9hKGksZSl7cmV0dXJuIGU9PT12b2lkIDAmJihlPW51bGwpLGZ1bmN0aW9uKHQscil7dmFyIG49ZXx8Il8iK3I7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQscix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXNbbl19LHNldDpmdW5jdGlvbihhKXt0eXBlb2YgdGhpcy5lcXVhbHM9PSJmdW5jdGlvbiImJnRoaXMuZXF1YWxzKGEpfHx0aGlzW25dIT09YSYmKHRoaXNbbl09YSx0W2ldLmFwcGx5KHRoaXMpKX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KX19ZnVuY3Rpb24gb2UoaSxlKXtyZXR1cm4gZT09PXZvaWQgMCYmKGU9bnVsbCksb2EoaSxlKX1mdW5jdGlvbiBQKGkpe3JldHVybiBpdCgwLGkpfWZ1bmN0aW9uIEhlKGkpe3JldHVybiBpdCgxLGkpfWZ1bmN0aW9uIEZ0KGkpe3JldHVybiBpdCgyLGkpfWZ1bmN0aW9uIHJyKGkpe3JldHVybiBpdCgzLGkpfWZ1bmN0aW9uIHVhKGkpe3JldHVybiBpdCg0LGkpfWZ1bmN0aW9uIGx0KGkpe3JldHVybiBpdCg1LGkpfWZ1bmN0aW9uIGZhKGkpe3JldHVybiBpdCg2LGkpfWZ1bmN0aW9uIGxhKGkpe3JldHVybiBpdCg3LGkpfWZ1bmN0aW9uIHppKGkpe3JldHVybiBpdCg4LGkpfWZ1bmN0aW9uIGhhKGkpe3JldHVybiBpdCgxMCxpKX12YXIgdGU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKCl7fXJldHVybiBpLkFwcGVuZFNlcmlhbGl6ZWRBbmltYXRpb25zPWZ1bmN0aW9uKGUsdCl7aWYoZS5hbmltYXRpb25zKXt0LmFuaW1hdGlvbnM9W107Zm9yKHZhciByPTA7cjxlLmFuaW1hdGlvbnMubGVuZ3RoO3IrKyl7dmFyIG49ZS5hbmltYXRpb25zW3JdO3QuYW5pbWF0aW9ucy5wdXNoKG4uc2VyaWFsaXplKCkpfX19LGkuU2VyaWFsaXplPWZ1bmN0aW9uKGUsdCl7dHx8KHQ9e30pLGRlJiYodC50YWdzPWRlLkdldFRhZ3MoZSkpO3ZhciByPXFyKGUpO2Zvcih2YXIgbiBpbiByKXt2YXIgYT1yW25dLHM9YS5zb3VyY2VOYW1lfHxuLG89YS50eXBlLHU9ZVtuXTtpZih1IT1udWxsJiYobiE9PSJ1bmlxdWVJZCJ8fGkuQWxsb3dMb2FkaW5nVW5pcXVlSWQpKXN3aXRjaChvKXtjYXNlIDA6dFtzXT11O2JyZWFrO2Nhc2UgMTp0W3NdPXUuc2VyaWFsaXplKCk7YnJlYWs7Y2FzZSAyOnRbc109dS5hc0FycmF5KCk7YnJlYWs7Y2FzZSAzOnRbc109dS5zZXJpYWxpemUoKTticmVhaztjYXNlIDQ6dFtzXT11LmFzQXJyYXkoKTticmVhaztjYXNlIDU6dFtzXT11LmFzQXJyYXkoKTticmVhaztjYXNlIDY6dFtzXT11LmlkO2JyZWFrO2Nhc2UgNzp0W3NdPXUuc2VyaWFsaXplKCk7YnJlYWs7Y2FzZSA4OnRbc109dS5hc0FycmF5KCk7YnJlYWs7Y2FzZSA5OnRbc109dS5zZXJpYWxpemUoKTticmVhaztjYXNlIDEwOnRbc109dS5hc0FycmF5KCk7YnJlYWs7Y2FzZSAxMTp0W3NdPXUuaWQ7YnJlYWs7Y2FzZSAxMjp0W3NdPXUuYXNBcnJheSgpO2JyZWFrfX1yZXR1cm4gdH0saS5QYXJzZT1mdW5jdGlvbihlLHQscixuKXtuPT09dm9pZCAwJiYobj1udWxsKTt2YXIgYT1lKCk7bnx8KG49IiIpLGRlJiZkZS5BZGRUYWdzVG8oYSx0LnRhZ3MpO3ZhciBzPXFyKGEpO2Zvcih2YXIgbyBpbiBzKXt2YXIgdT1zW29dLGY9dFt1LnNvdXJjZU5hbWV8fG9dLGw9dS50eXBlO2lmKGYhPW51bGwmJihvIT09InVuaXF1ZUlkInx8aS5BbGxvd0xvYWRpbmdVbmlxdWVJZCkpe3ZhciBoPWE7c3dpdGNoKGwpe2Nhc2UgMDpoW29dPWY7YnJlYWs7Y2FzZSAxOnImJihoW29dPWkuX1RleHR1cmVQYXJzZXIoZixyLG4pKTticmVhaztjYXNlIDI6aFtvXT1iZS5Gcm9tQXJyYXkoZik7YnJlYWs7Y2FzZSAzOmhbb109aS5fRnJlc25lbFBhcmFtZXRlcnNQYXJzZXIoZik7YnJlYWs7Y2FzZSA0Omhbb109U2UuRnJvbUFycmF5KGYpO2JyZWFrO2Nhc2UgNTpoW29dPWIuRnJvbUFycmF5KGYpO2JyZWFrO2Nhc2UgNjpyJiYoaFtvXT1yLmdldExhc3RNZXNoQnlJZChmKSk7YnJlYWs7Y2FzZSA3Omhbb109aS5fQ29sb3JDdXJ2ZXNQYXJzZXIoZik7YnJlYWs7Y2FzZSA4Omhbb109RWUuRnJvbUFycmF5KGYpO2JyZWFrO2Nhc2UgOTpoW29dPWkuX0ltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb25QYXJzZXIoZik7YnJlYWs7Y2FzZSAxMDpoW29dPXNlLkZyb21BcnJheShmKTticmVhaztjYXNlIDExOnImJihoW29dPXIuZ2V0Q2FtZXJhQnlJZChmKSk7YnJlYWs7Y2FzZSAxMjpoW29dPUkuRnJvbUFycmF5KGYpO2JyZWFrfX19cmV0dXJuIGF9LGkuQ2xvbmU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gV2koZSx0LCExKX0saS5JbnN0YW5jaWF0ZT1mdW5jdGlvbihlLHQpe3JldHVybiBXaShlLHQsITApfSxpLkFsbG93TG9hZGluZ1VuaXF1ZUlkPSExLGkuX0ltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb25QYXJzZXI9ZnVuY3Rpb24oZSl7dGhyb3cgWCgiSW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbiIpfSxpLl9GcmVzbmVsUGFyYW1ldGVyc1BhcnNlcj1mdW5jdGlvbihlKXt0aHJvdyBYKCJGcmVzbmVsUGFyYW1ldGVycyIpfSxpLl9Db2xvckN1cnZlc1BhcnNlcj1mdW5jdGlvbihlKXt0aHJvdyBYKCJDb2xvckN1cnZlcyIpfSxpLl9UZXh0dXJlUGFyc2VyPWZ1bmN0aW9uKGUsdCxyKXt0aHJvdyBYKCJUZXh0dXJlIil9LGl9KCk7ZnVuY3Rpb24gVHQoaSxlLHQscil7dmFyIG49dC52YWx1ZTt0LnZhbHVlPWZ1bmN0aW9uKCl7Zm9yKHZhciBhPVtdLHM9MDtzPGFyZ3VtZW50cy5sZW5ndGg7cysrKWFbc109YXJndW1lbnRzW3NdO3ZhciBvPW47aWYodHlwZW9mIF9uYXRpdmUhPSJ1bmRlZmluZWQiJiZfbmF0aXZlW2VdKXt2YXIgdT1fbmF0aXZlW2VdO3I/bz1mdW5jdGlvbigpe2Zvcih2YXIgZj1bXSxsPTA7bDxhcmd1bWVudHMubGVuZ3RoO2wrKylmW2xdPWFyZ3VtZW50c1tsXTtyZXR1cm4gci5hcHBseSh2b2lkIDAsZik/dS5hcHBseSh2b2lkIDAsZik6bi5hcHBseSh2b2lkIDAsZil9Om89dX1yZXR1cm4gaVtlXT1vLG8uYXBwbHkodm9pZCAwLGEpfX1UdC5maWx0ZXI9ZnVuY3Rpb24oaSl7cmV0dXJuIGZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gVHQoZSx0LHIsaSl9fTt2YXIgYnI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKGUpe2lmKHRoaXMuX2lzRGlydHk9ITAsdGhpcy5fYXJlTGlnaHRzRGlydHk9ITAsdGhpcy5fYXJlTGlnaHRzRGlzcG9zZWQ9ITEsdGhpcy5fYXJlQXR0cmlidXRlc0RpcnR5PSEwLHRoaXMuX2FyZVRleHR1cmVzRGlydHk9ITAsdGhpcy5fYXJlRnJlc25lbERpcnR5PSEwLHRoaXMuX2FyZU1pc2NEaXJ0eT0hMCx0aGlzLl9hcmVQcmVQYXNzRGlydHk9ITAsdGhpcy5fYXJlSW1hZ2VQcm9jZXNzaW5nRGlydHk9ITAsdGhpcy5fbm9ybWFscz0hMSx0aGlzLl91dnM9ITEsdGhpcy5fbmVlZE5vcm1hbHM9ITEsdGhpcy5fbmVlZFVWcz0hMSx0aGlzLl9leHRlcm5hbFByb3BlcnRpZXM9ZSxlKWZvcih2YXIgdCBpbiBlKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHQpJiZ0aGlzLl9zZXREZWZhdWx0VmFsdWUodCl9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiaXNEaXJ0eSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pc0RpcnR5fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkucHJvdG90eXBlLm1hcmtBc1Byb2Nlc3NlZD1mdW5jdGlvbigpe3RoaXMuX2lzRGlydHk9ITEsdGhpcy5fYXJlQXR0cmlidXRlc0RpcnR5PSExLHRoaXMuX2FyZVRleHR1cmVzRGlydHk9ITEsdGhpcy5fYXJlRnJlc25lbERpcnR5PSExLHRoaXMuX2FyZUxpZ2h0c0RpcnR5PSExLHRoaXMuX2FyZUxpZ2h0c0Rpc3Bvc2VkPSExLHRoaXMuX2FyZU1pc2NEaXJ0eT0hMSx0aGlzLl9hcmVQcmVQYXNzRGlydHk9ITEsdGhpcy5fYXJlSW1hZ2VQcm9jZXNzaW5nRGlydHk9ITF9LGkucHJvdG90eXBlLm1hcmtBc1VucHJvY2Vzc2VkPWZ1bmN0aW9uKCl7dGhpcy5faXNEaXJ0eT0hMH0saS5wcm90b3R5cGUubWFya0FsbEFzRGlydHk9ZnVuY3Rpb24oKXt0aGlzLl9hcmVUZXh0dXJlc0RpcnR5PSEwLHRoaXMuX2FyZUF0dHJpYnV0ZXNEaXJ0eT0hMCx0aGlzLl9hcmVMaWdodHNEaXJ0eT0hMCx0aGlzLl9hcmVGcmVzbmVsRGlydHk9ITAsdGhpcy5fYXJlTWlzY0RpcnR5PSEwLHRoaXMuX2FyZUltYWdlUHJvY2Vzc2luZ0RpcnR5PSEwLHRoaXMuX2lzRGlydHk9ITB9LGkucHJvdG90eXBlLm1hcmtBc0ltYWdlUHJvY2Vzc2luZ0RpcnR5PWZ1bmN0aW9uKCl7dGhpcy5fYXJlSW1hZ2VQcm9jZXNzaW5nRGlydHk9ITAsdGhpcy5faXNEaXJ0eT0hMH0saS5wcm90b3R5cGUubWFya0FzTGlnaHREaXJ0eT1mdW5jdGlvbihlKXtlPT09dm9pZCAwJiYoZT0hMSksdGhpcy5fYXJlTGlnaHRzRGlydHk9ITAsdGhpcy5fYXJlTGlnaHRzRGlzcG9zZWQ9dGhpcy5fYXJlTGlnaHRzRGlzcG9zZWR8fGUsdGhpcy5faXNEaXJ0eT0hMH0saS5wcm90b3R5cGUubWFya0FzQXR0cmlidXRlc0RpcnR5PWZ1bmN0aW9uKCl7dGhpcy5fYXJlQXR0cmlidXRlc0RpcnR5PSEwLHRoaXMuX2lzRGlydHk9ITB9LGkucHJvdG90eXBlLm1hcmtBc1RleHR1cmVzRGlydHk9ZnVuY3Rpb24oKXt0aGlzLl9hcmVUZXh0dXJlc0RpcnR5PSEwLHRoaXMuX2lzRGlydHk9ITB9LGkucHJvdG90eXBlLm1hcmtBc0ZyZXNuZWxEaXJ0eT1mdW5jdGlvbigpe3RoaXMuX2FyZUZyZXNuZWxEaXJ0eT0hMCx0aGlzLl9pc0RpcnR5PSEwfSxpLnByb3RvdHlwZS5tYXJrQXNNaXNjRGlydHk9ZnVuY3Rpb24oKXt0aGlzLl9hcmVNaXNjRGlydHk9ITAsdGhpcy5faXNEaXJ0eT0hMH0saS5wcm90b3R5cGUubWFya0FzUHJlUGFzc0RpcnR5PWZ1bmN0aW9uKCl7dGhpcy5fYXJlUHJlUGFzc0RpcnR5PSEwLHRoaXMuX2lzRGlydHk9ITB9LGkucHJvdG90eXBlLnJlYnVpbGQ9ZnVuY3Rpb24oKXt0aGlzLl9rZXlzPVtdO2Zvcih2YXIgZT0wLHQ9T2JqZWN0LmtleXModGhpcyk7ZTx0Lmxlbmd0aDtlKyspe3ZhciByPXRbZV07clswXSE9PSJfIiYmdGhpcy5fa2V5cy5wdXNoKHIpfWlmKHRoaXMuX2V4dGVybmFsUHJvcGVydGllcylmb3IodmFyIG4gaW4gdGhpcy5fZXh0ZXJuYWxQcm9wZXJ0aWVzKXRoaXMuX2tleXMuaW5kZXhPZihuKT09PS0xJiZ0aGlzLl9rZXlzLnB1c2gobil9LGkucHJvdG90eXBlLmlzRXF1YWw9ZnVuY3Rpb24oZSl7aWYodGhpcy5fa2V5cy5sZW5ndGghPT1lLl9rZXlzLmxlbmd0aClyZXR1cm4hMTtmb3IodmFyIHQ9MDt0PHRoaXMuX2tleXMubGVuZ3RoO3QrKyl7dmFyIHI9dGhpcy5fa2V5c1t0XTtpZih0aGlzW3JdIT09ZVtyXSlyZXR1cm4hMX1yZXR1cm4hMH0saS5wcm90b3R5cGUuY2xvbmVUbz1mdW5jdGlvbihlKXt0aGlzLl9rZXlzLmxlbmd0aCE9PWUuX2tleXMubGVuZ3RoJiYoZS5fa2V5cz10aGlzLl9rZXlzLnNsaWNlKDApKTtmb3IodmFyIHQ9MDt0PHRoaXMuX2tleXMubGVuZ3RoO3QrKyl7dmFyIHI9dGhpcy5fa2V5c1t0XTtlW3JdPXRoaXNbcl19fSxpLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5fa2V5cy5mb3JFYWNoKGZ1bmN0aW9uKHQpe3JldHVybiBlLl9zZXREZWZhdWx0VmFsdWUodCl9KX0saS5wcm90b3R5cGUuX3NldERlZmF1bHRWYWx1ZT1mdW5jdGlvbihlKXt2YXIgdCxyLG4sYSxzLG89KG49KHI9KHQ9dGhpcy5fZXh0ZXJuYWxQcm9wZXJ0aWVzKT09PW51bGx8fHQ9PT12b2lkIDA/dm9pZCAwOnRbZV0pPT09bnVsbHx8cj09PXZvaWQgMD92b2lkIDA6ci50eXBlKSE9PW51bGwmJm4hPT12b2lkIDA/bjp0eXBlb2YgdGhpc1tlXSx1PShzPShhPXRoaXMuX2V4dGVybmFsUHJvcGVydGllcyk9PT1udWxsfHxhPT09dm9pZCAwP3ZvaWQgMDphW2VdKT09PW51bGx8fHM9PT12b2lkIDA/dm9pZCAwOnMuZGVmYXVsdDtzd2l0Y2gobyl7Y2FzZSJudW1iZXIiOnRoaXNbZV09dSE9bnVsbD91OjA7YnJlYWs7Y2FzZSJzdHJpbmciOnRoaXNbZV09dSE9bnVsbD91OiIiO2JyZWFrO2RlZmF1bHQ6dGhpc1tlXT11IT1udWxsP3U6ITE7YnJlYWt9fSxpLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe2Zvcih2YXIgZT0iIix0PTA7dDx0aGlzLl9rZXlzLmxlbmd0aDt0Kyspe3ZhciByPXRoaXMuX2tleXNbdF0sbj10aGlzW3JdLGE9dHlwZW9mIG47c3dpdGNoKGEpe2Nhc2UibnVtYmVyIjpjYXNlInN0cmluZyI6ZSs9IiNkZWZpbmUgIityKyIgIituK2AKYDticmVhaztkZWZhdWx0Om4mJihlKz0iI2RlZmluZSAiK3IrYApgKTticmVha319cmV0dXJuIGV9LGl9KCksRXI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKCl7dGhpcy5fZGlydHk9ITAsdGhpcy5fdGVtcENvbG9yPW5ldyBFZSgwLDAsMCwwKSx0aGlzLl9nbG9iYWxDdXJ2ZT1uZXcgRWUoMCwwLDAsMCksdGhpcy5faGlnaGxpZ2h0c0N1cnZlPW5ldyBFZSgwLDAsMCwwKSx0aGlzLl9taWR0b25lc0N1cnZlPW5ldyBFZSgwLDAsMCwwKSx0aGlzLl9zaGFkb3dzQ3VydmU9bmV3IEVlKDAsMCwwLDApLHRoaXMuX3Bvc2l0aXZlQ3VydmU9bmV3IEVlKDAsMCwwLDApLHRoaXMuX25lZ2F0aXZlQ3VydmU9bmV3IEVlKDAsMCwwLDApLHRoaXMuX2dsb2JhbEh1ZT0zMCx0aGlzLl9nbG9iYWxEZW5zaXR5PTAsdGhpcy5fZ2xvYmFsU2F0dXJhdGlvbj0wLHRoaXMuX2dsb2JhbEV4cG9zdXJlPTAsdGhpcy5faGlnaGxpZ2h0c0h1ZT0zMCx0aGlzLl9oaWdobGlnaHRzRGVuc2l0eT0wLHRoaXMuX2hpZ2hsaWdodHNTYXR1cmF0aW9uPTAsdGhpcy5faGlnaGxpZ2h0c0V4cG9zdXJlPTAsdGhpcy5fbWlkdG9uZXNIdWU9MzAsdGhpcy5fbWlkdG9uZXNEZW5zaXR5PTAsdGhpcy5fbWlkdG9uZXNTYXR1cmF0aW9uPTAsdGhpcy5fbWlkdG9uZXNFeHBvc3VyZT0wLHRoaXMuX3NoYWRvd3NIdWU9MzAsdGhpcy5fc2hhZG93c0RlbnNpdHk9MCx0aGlzLl9zaGFkb3dzU2F0dXJhdGlvbj0wLHRoaXMuX3NoYWRvd3NFeHBvc3VyZT0wfXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImdsb2JhbEh1ZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9nbG9iYWxIdWV9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9nbG9iYWxIdWU9ZSx0aGlzLl9kaXJ0eT0hMH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImdsb2JhbERlbnNpdHkiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2xvYmFsRGVuc2l0eX0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX2dsb2JhbERlbnNpdHk9ZSx0aGlzLl9kaXJ0eT0hMH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImdsb2JhbFNhdHVyYXRpb24iLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2xvYmFsU2F0dXJhdGlvbn0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX2dsb2JhbFNhdHVyYXRpb249ZSx0aGlzLl9kaXJ0eT0hMH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImdsb2JhbEV4cG9zdXJlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dsb2JhbEV4cG9zdXJlfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fZ2xvYmFsRXhwb3N1cmU9ZSx0aGlzLl9kaXJ0eT0hMH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImhpZ2hsaWdodHNIdWUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faGlnaGxpZ2h0c0h1ZX0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX2hpZ2hsaWdodHNIdWU9ZSx0aGlzLl9kaXJ0eT0hMH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImhpZ2hsaWdodHNEZW5zaXR5Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2hpZ2hsaWdodHNEZW5zaXR5fSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5faGlnaGxpZ2h0c0RlbnNpdHk9ZSx0aGlzLl9kaXJ0eT0hMH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImhpZ2hsaWdodHNTYXR1cmF0aW9uIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2hpZ2hsaWdodHNTYXR1cmF0aW9ufSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5faGlnaGxpZ2h0c1NhdHVyYXRpb249ZSx0aGlzLl9kaXJ0eT0hMH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImhpZ2hsaWdodHNFeHBvc3VyZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9oaWdobGlnaHRzRXhwb3N1cmV9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9oaWdobGlnaHRzRXhwb3N1cmU9ZSx0aGlzLl9kaXJ0eT0hMH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsIm1pZHRvbmVzSHVlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21pZHRvbmVzSHVlfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fbWlkdG9uZXNIdWU9ZSx0aGlzLl9kaXJ0eT0hMH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsIm1pZHRvbmVzRGVuc2l0eSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9taWR0b25lc0RlbnNpdHl9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9taWR0b25lc0RlbnNpdHk9ZSx0aGlzLl9kaXJ0eT0hMH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsIm1pZHRvbmVzU2F0dXJhdGlvbiIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9taWR0b25lc1NhdHVyYXRpb259LHNldDpmdW5jdGlvbihlKXt0aGlzLl9taWR0b25lc1NhdHVyYXRpb249ZSx0aGlzLl9kaXJ0eT0hMH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsIm1pZHRvbmVzRXhwb3N1cmUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbWlkdG9uZXNFeHBvc3VyZX0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX21pZHRvbmVzRXhwb3N1cmU9ZSx0aGlzLl9kaXJ0eT0hMH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsInNoYWRvd3NIdWUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2hhZG93c0h1ZX0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX3NoYWRvd3NIdWU9ZSx0aGlzLl9kaXJ0eT0hMH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsInNoYWRvd3NEZW5zaXR5Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NoYWRvd3NEZW5zaXR5fSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fc2hhZG93c0RlbnNpdHk9ZSx0aGlzLl9kaXJ0eT0hMH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsInNoYWRvd3NTYXR1cmF0aW9uIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NoYWRvd3NTYXR1cmF0aW9ufSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fc2hhZG93c1NhdHVyYXRpb249ZSx0aGlzLl9kaXJ0eT0hMH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsInNoYWRvd3NFeHBvc3VyZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zaGFkb3dzRXhwb3N1cmV9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9zaGFkb3dzRXhwb3N1cmU9ZSx0aGlzLl9kaXJ0eT0hMH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLnByb3RvdHlwZS5nZXRDbGFzc05hbWU9ZnVuY3Rpb24oKXtyZXR1cm4iQ29sb3JDdXJ2ZXMifSxpLkJpbmQ9ZnVuY3Rpb24oZSx0LHIsbixhKXtyPT09dm9pZCAwJiYocj0idkNhbWVyYUNvbG9yQ3VydmVQb3NpdGl2ZSIpLG49PT12b2lkIDAmJihuPSJ2Q2FtZXJhQ29sb3JDdXJ2ZU5ldXRyYWwiKSxhPT09dm9pZCAwJiYoYT0idkNhbWVyYUNvbG9yQ3VydmVOZWdhdGl2ZSIpLGUuX2RpcnR5JiYoZS5fZGlydHk9ITEsZS5fZ2V0Q29sb3JHcmFkaW5nRGF0YVRvUmVmKGUuX2dsb2JhbEh1ZSxlLl9nbG9iYWxEZW5zaXR5LGUuX2dsb2JhbFNhdHVyYXRpb24sZS5fZ2xvYmFsRXhwb3N1cmUsZS5fZ2xvYmFsQ3VydmUpLGUuX2dldENvbG9yR3JhZGluZ0RhdGFUb1JlZihlLl9oaWdobGlnaHRzSHVlLGUuX2hpZ2hsaWdodHNEZW5zaXR5LGUuX2hpZ2hsaWdodHNTYXR1cmF0aW9uLGUuX2hpZ2hsaWdodHNFeHBvc3VyZSxlLl90ZW1wQ29sb3IpLGUuX3RlbXBDb2xvci5tdWx0aXBseVRvUmVmKGUuX2dsb2JhbEN1cnZlLGUuX2hpZ2hsaWdodHNDdXJ2ZSksZS5fZ2V0Q29sb3JHcmFkaW5nRGF0YVRvUmVmKGUuX21pZHRvbmVzSHVlLGUuX21pZHRvbmVzRGVuc2l0eSxlLl9taWR0b25lc1NhdHVyYXRpb24sZS5fbWlkdG9uZXNFeHBvc3VyZSxlLl90ZW1wQ29sb3IpLGUuX3RlbXBDb2xvci5tdWx0aXBseVRvUmVmKGUuX2dsb2JhbEN1cnZlLGUuX21pZHRvbmVzQ3VydmUpLGUuX2dldENvbG9yR3JhZGluZ0RhdGFUb1JlZihlLl9zaGFkb3dzSHVlLGUuX3NoYWRvd3NEZW5zaXR5LGUuX3NoYWRvd3NTYXR1cmF0aW9uLGUuX3NoYWRvd3NFeHBvc3VyZSxlLl90ZW1wQ29sb3IpLGUuX3RlbXBDb2xvci5tdWx0aXBseVRvUmVmKGUuX2dsb2JhbEN1cnZlLGUuX3NoYWRvd3NDdXJ2ZSksZS5faGlnaGxpZ2h0c0N1cnZlLnN1YnRyYWN0VG9SZWYoZS5fbWlkdG9uZXNDdXJ2ZSxlLl9wb3NpdGl2ZUN1cnZlKSxlLl9taWR0b25lc0N1cnZlLnN1YnRyYWN0VG9SZWYoZS5fc2hhZG93c0N1cnZlLGUuX25lZ2F0aXZlQ3VydmUpKSx0JiYodC5zZXRGbG9hdDQocixlLl9wb3NpdGl2ZUN1cnZlLnIsZS5fcG9zaXRpdmVDdXJ2ZS5nLGUuX3Bvc2l0aXZlQ3VydmUuYixlLl9wb3NpdGl2ZUN1cnZlLmEpLHQuc2V0RmxvYXQ0KG4sZS5fbWlkdG9uZXNDdXJ2ZS5yLGUuX21pZHRvbmVzQ3VydmUuZyxlLl9taWR0b25lc0N1cnZlLmIsZS5fbWlkdG9uZXNDdXJ2ZS5hKSx0LnNldEZsb2F0NChhLGUuX25lZ2F0aXZlQ3VydmUucixlLl9uZWdhdGl2ZUN1cnZlLmcsZS5fbmVnYXRpdmVDdXJ2ZS5iLGUuX25lZ2F0aXZlQ3VydmUuYSkpfSxpLlByZXBhcmVVbmlmb3Jtcz1mdW5jdGlvbihlKXtlLnB1c2goInZDYW1lcmFDb2xvckN1cnZlTmV1dHJhbCIsInZDYW1lcmFDb2xvckN1cnZlUG9zaXRpdmUiLCJ2Q2FtZXJhQ29sb3JDdXJ2ZU5lZ2F0aXZlIil9LGkucHJvdG90eXBlLl9nZXRDb2xvckdyYWRpbmdEYXRhVG9SZWY9ZnVuY3Rpb24oZSx0LHIsbixhKXtlIT1udWxsJiYoZT1pLl9DbGFtcChlLDAsMzYwKSx0PWkuX0NsYW1wKHQsLTEwMCwxMDApLHI9aS5fQ2xhbXAociwtMTAwLDEwMCksbj1pLl9DbGFtcChuLC0xMDAsMTAwKSx0PWkuX0FwcGx5Q29sb3JHcmFkaW5nU2xpZGVyTm9ubGluZWFyKHQpLHQqPS41LG49aS5fQXBwbHlDb2xvckdyYWRpbmdTbGlkZXJOb25saW5lYXIobiksdDwwJiYodCo9LTEsZT0oZSsxODApJTM2MCksaS5fRnJvbUhTQlRvUmVmKGUsdCw1MCsuMjUqbixhKSxhLnNjYWxlVG9SZWYoMixhKSxhLmE9MSsuMDEqcil9LGkuX0FwcGx5Q29sb3JHcmFkaW5nU2xpZGVyTm9ubGluZWFyPWZ1bmN0aW9uKGUpe2UvPTEwMDt2YXIgdD1NYXRoLmFicyhlKTtyZXR1cm4gdD1NYXRoLnBvdyh0LDIpLGU8MCYmKHQqPS0xKSx0Kj0xMDAsdH0saS5fRnJvbUhTQlRvUmVmPWZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBhPWkuX0NsYW1wKGUsMCwzNjApLHM9aS5fQ2xhbXAodC8xMDAsMCwxKSxvPWkuX0NsYW1wKHIvMTAwLDAsMSk7aWYocz09PTApbi5yPW8sbi5nPW8sbi5iPW87ZWxzZXthLz02MDt2YXIgdT1NYXRoLmZsb29yKGEpLGY9YS11LGw9byooMS1zKSxoPW8qKDEtcypmKSxjPW8qKDEtcyooMS1mKSk7c3dpdGNoKHUpe2Nhc2UgMDpuLnI9byxuLmc9YyxuLmI9bDticmVhaztjYXNlIDE6bi5yPWgsbi5nPW8sbi5iPWw7YnJlYWs7Y2FzZSAyOm4ucj1sLG4uZz1vLG4uYj1jO2JyZWFrO2Nhc2UgMzpuLnI9bCxuLmc9aCxuLmI9bzticmVhaztjYXNlIDQ6bi5yPWMsbi5nPWwsbi5iPW87YnJlYWs7ZGVmYXVsdDpuLnI9byxuLmc9bCxuLmI9aDticmVha319bi5hPTF9LGkuX0NsYW1wPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gTWF0aC5taW4oTWF0aC5tYXgoZSx0KSxyKX0saS5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gdGUuQ2xvbmUoZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGl9LHRoaXMpfSxpLnByb3RvdHlwZS5zZXJpYWxpemU9ZnVuY3Rpb24oKXtyZXR1cm4gdGUuU2VyaWFsaXplKHRoaXMpfSxpLlBhcnNlPWZ1bmN0aW9uKGUpe3JldHVybiB0ZS5QYXJzZShmdW5jdGlvbigpe3JldHVybiBuZXcgaX0sZSxudWxsLG51bGwpfSxUKFtQKCldLGkucHJvdG90eXBlLCJfZ2xvYmFsSHVlIix2b2lkIDApLFQoW1AoKV0saS5wcm90b3R5cGUsIl9nbG9iYWxEZW5zaXR5Iix2b2lkIDApLFQoW1AoKV0saS5wcm90b3R5cGUsIl9nbG9iYWxTYXR1cmF0aW9uIix2b2lkIDApLFQoW1AoKV0saS5wcm90b3R5cGUsIl9nbG9iYWxFeHBvc3VyZSIsdm9pZCAwKSxUKFtQKCldLGkucHJvdG90eXBlLCJfaGlnaGxpZ2h0c0h1ZSIsdm9pZCAwKSxUKFtQKCldLGkucHJvdG90eXBlLCJfaGlnaGxpZ2h0c0RlbnNpdHkiLHZvaWQgMCksVChbUCgpXSxpLnByb3RvdHlwZSwiX2hpZ2hsaWdodHNTYXR1cmF0aW9uIix2b2lkIDApLFQoW1AoKV0saS5wcm90b3R5cGUsIl9oaWdobGlnaHRzRXhwb3N1cmUiLHZvaWQgMCksVChbUCgpXSxpLnByb3RvdHlwZSwiX21pZHRvbmVzSHVlIix2b2lkIDApLFQoW1AoKV0saS5wcm90b3R5cGUsIl9taWR0b25lc0RlbnNpdHkiLHZvaWQgMCksVChbUCgpXSxpLnByb3RvdHlwZSwiX21pZHRvbmVzU2F0dXJhdGlvbiIsdm9pZCAwKSxUKFtQKCldLGkucHJvdG90eXBlLCJfbWlkdG9uZXNFeHBvc3VyZSIsdm9pZCAwKSxpfSgpO3RlLl9Db2xvckN1cnZlc1BhcnNlcj1Fci5QYXJzZSxmdW5jdGlvbihpKXtLKGUsaSk7ZnVuY3Rpb24gZSgpe3ZhciB0PWkuY2FsbCh0aGlzKXx8dGhpcztyZXR1cm4gdC5JTUFHRVBST0NFU1NJTkc9ITEsdC5WSUdORVRURT0hMSx0LlZJR05FVFRFQkxFTkRNT0RFTVVMVElQTFk9ITEsdC5WSUdORVRURUJMRU5ETU9ERU9QQVFVRT0hMSx0LlRPTkVNQVBQSU5HPSExLHQuVE9ORU1BUFBJTkdfQUNFUz0hMSx0LkNPTlRSQVNUPSExLHQuQ09MT1JDVVJWRVM9ITEsdC5DT0xPUkdSQURJTkc9ITEsdC5DT0xPUkdSQURJTkczRD0hMSx0LlNBTVBMRVIzREdSRUVOREVQVEg9ITEsdC5TQU1QTEVSM0RCR1JNQVA9ITEsdC5JTUFHRVBST0NFU1NJTkdQT1NUUFJPQ0VTUz0hMSx0LkVYUE9TVVJFPSExLHQuU0tJUEZJTkFMQ09MT1JDTEFNUD0hMSx0LnJlYnVpbGQoKSx0fXJldHVybiBlfShicik7dmFyIEJ0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaSgpe3RoaXMuY29sb3JDdXJ2ZXM9bmV3IEVyLHRoaXMuX2NvbG9yQ3VydmVzRW5hYmxlZD0hMSx0aGlzLl9jb2xvckdyYWRpbmdFbmFibGVkPSExLHRoaXMuX2NvbG9yR3JhZGluZ1dpdGhHcmVlbkRlcHRoPSEwLHRoaXMuX2NvbG9yR3JhZGluZ0JHUj0hMCx0aGlzLl9leHBvc3VyZT0xLHRoaXMuX3RvbmVNYXBwaW5nRW5hYmxlZD0hMSx0aGlzLl90b25lTWFwcGluZ1R5cGU9aS5UT05FTUFQUElOR19TVEFOREFSRCx0aGlzLl9jb250cmFzdD0xLHRoaXMudmlnbmV0dGVTdHJldGNoPTAsdGhpcy52aWduZXR0ZUNlbnRyZVg9MCx0aGlzLnZpZ25ldHRlQ2VudHJlWT0wLHRoaXMudmlnbmV0dGVXZWlnaHQ9MS41LHRoaXMudmlnbmV0dGVDb2xvcj1uZXcgRWUoMCwwLDAsMCksdGhpcy52aWduZXR0ZUNhbWVyYUZvdj0uNSx0aGlzLl92aWduZXR0ZUJsZW5kTW9kZT1pLlZJR05FVFRFTU9ERV9NVUxUSVBMWSx0aGlzLl92aWduZXR0ZUVuYWJsZWQ9ITEsdGhpcy5fc2tpcEZpbmFsQ29sb3JDbGFtcD0hMSx0aGlzLl9hcHBseUJ5UG9zdFByb2Nlc3M9ITEsdGhpcy5faXNFbmFibGVkPSEwLHRoaXMub25VcGRhdGVQYXJhbWV0ZXJzPW5ldyBPfXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImNvbG9yQ3VydmVzRW5hYmxlZCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jb2xvckN1cnZlc0VuYWJsZWR9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9jb2xvckN1cnZlc0VuYWJsZWQhPT1lJiYodGhpcy5fY29sb3JDdXJ2ZXNFbmFibGVkPWUsdGhpcy5fdXBkYXRlUGFyYW1ldGVycygpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImNvbG9yR3JhZGluZ1RleHR1cmUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY29sb3JHcmFkaW5nVGV4dHVyZX0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX2NvbG9yR3JhZGluZ1RleHR1cmUhPT1lJiYodGhpcy5fY29sb3JHcmFkaW5nVGV4dHVyZT1lLHRoaXMuX3VwZGF0ZVBhcmFtZXRlcnMoKSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJjb2xvckdyYWRpbmdFbmFibGVkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NvbG9yR3JhZGluZ0VuYWJsZWR9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9jb2xvckdyYWRpbmdFbmFibGVkIT09ZSYmKHRoaXMuX2NvbG9yR3JhZGluZ0VuYWJsZWQ9ZSx0aGlzLl91cGRhdGVQYXJhbWV0ZXJzKCkpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiY29sb3JHcmFkaW5nV2l0aEdyZWVuRGVwdGgiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY29sb3JHcmFkaW5nV2l0aEdyZWVuRGVwdGh9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9jb2xvckdyYWRpbmdXaXRoR3JlZW5EZXB0aCE9PWUmJih0aGlzLl9jb2xvckdyYWRpbmdXaXRoR3JlZW5EZXB0aD1lLHRoaXMuX3VwZGF0ZVBhcmFtZXRlcnMoKSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJjb2xvckdyYWRpbmdCR1IiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY29sb3JHcmFkaW5nQkdSfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fY29sb3JHcmFkaW5nQkdSIT09ZSYmKHRoaXMuX2NvbG9yR3JhZGluZ0JHUj1lLHRoaXMuX3VwZGF0ZVBhcmFtZXRlcnMoKSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJleHBvc3VyZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9leHBvc3VyZX0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX2V4cG9zdXJlIT09ZSYmKHRoaXMuX2V4cG9zdXJlPWUsdGhpcy5fdXBkYXRlUGFyYW1ldGVycygpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsInRvbmVNYXBwaW5nRW5hYmxlZCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl90b25lTWFwcGluZ0VuYWJsZWR9LHNldDpmdW5jdGlvbihlKXt0aGlzLl90b25lTWFwcGluZ0VuYWJsZWQhPT1lJiYodGhpcy5fdG9uZU1hcHBpbmdFbmFibGVkPWUsdGhpcy5fdXBkYXRlUGFyYW1ldGVycygpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsInRvbmVNYXBwaW5nVHlwZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl90b25lTWFwcGluZ1R5cGV9LHNldDpmdW5jdGlvbihlKXt0aGlzLl90b25lTWFwcGluZ1R5cGUhPT1lJiYodGhpcy5fdG9uZU1hcHBpbmdUeXBlPWUsdGhpcy5fdXBkYXRlUGFyYW1ldGVycygpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImNvbnRyYXN0Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NvbnRyYXN0fSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fY29udHJhc3QhPT1lJiYodGhpcy5fY29udHJhc3Q9ZSx0aGlzLl91cGRhdGVQYXJhbWV0ZXJzKCkpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwidmlnbmV0dGVCbGVuZE1vZGUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdmlnbmV0dGVCbGVuZE1vZGV9LHNldDpmdW5jdGlvbihlKXt0aGlzLl92aWduZXR0ZUJsZW5kTW9kZSE9PWUmJih0aGlzLl92aWduZXR0ZUJsZW5kTW9kZT1lLHRoaXMuX3VwZGF0ZVBhcmFtZXRlcnMoKSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJ2aWduZXR0ZUVuYWJsZWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdmlnbmV0dGVFbmFibGVkfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fdmlnbmV0dGVFbmFibGVkIT09ZSYmKHRoaXMuX3ZpZ25ldHRlRW5hYmxlZD1lLHRoaXMuX3VwZGF0ZVBhcmFtZXRlcnMoKSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJza2lwRmluYWxDb2xvckNsYW1wIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NraXBGaW5hbENvbG9yQ2xhbXB9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9za2lwRmluYWxDb2xvckNsYW1wIT09ZSYmKHRoaXMuX3NraXBGaW5hbENvbG9yQ2xhbXA9ZSx0aGlzLl91cGRhdGVQYXJhbWV0ZXJzKCkpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiYXBwbHlCeVBvc3RQcm9jZXNzIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FwcGx5QnlQb3N0UHJvY2Vzc30sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX2FwcGx5QnlQb3N0UHJvY2VzcyE9PWUmJih0aGlzLl9hcHBseUJ5UG9zdFByb2Nlc3M9ZSx0aGlzLl91cGRhdGVQYXJhbWV0ZXJzKCkpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiaXNFbmFibGVkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lzRW5hYmxlZH0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX2lzRW5hYmxlZCE9PWUmJih0aGlzLl9pc0VuYWJsZWQ9ZSx0aGlzLl91cGRhdGVQYXJhbWV0ZXJzKCkpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkucHJvdG90eXBlLl91cGRhdGVQYXJhbWV0ZXJzPWZ1bmN0aW9uKCl7dGhpcy5vblVwZGF0ZVBhcmFtZXRlcnMubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpfSxpLnByb3RvdHlwZS5nZXRDbGFzc05hbWU9ZnVuY3Rpb24oKXtyZXR1cm4iSW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbiJ9LGkuUHJlcGFyZVVuaWZvcm1zPWZ1bmN0aW9uKGUsdCl7dC5FWFBPU1VSRSYmZS5wdXNoKCJleHBvc3VyZUxpbmVhciIpLHQuQ09OVFJBU1QmJmUucHVzaCgiY29udHJhc3QiKSx0LkNPTE9SR1JBRElORyYmZS5wdXNoKCJjb2xvclRyYW5zZm9ybVNldHRpbmdzIiksdC5WSUdORVRURSYmKGUucHVzaCgidkludmVyc2VTY3JlZW5TaXplIiksZS5wdXNoKCJ2aWduZXR0ZVNldHRpbmdzMSIpLGUucHVzaCgidmlnbmV0dGVTZXR0aW5nczIiKSksdC5DT0xPUkNVUlZFUyYmRXIuUHJlcGFyZVVuaWZvcm1zKGUpfSxpLlByZXBhcmVTYW1wbGVycz1mdW5jdGlvbihlLHQpe3QuQ09MT1JHUkFESU5HJiZlLnB1c2goInR4Q29sb3JUcmFuc2Zvcm0iKX0saS5wcm90b3R5cGUucHJlcGFyZURlZmluZXM9ZnVuY3Rpb24oZSx0KXtpZih0PT09dm9pZCAwJiYodD0hMSksdCE9PXRoaXMuYXBwbHlCeVBvc3RQcm9jZXNzfHwhdGhpcy5faXNFbmFibGVkKXtlLlZJR05FVFRFPSExLGUuVE9ORU1BUFBJTkc9ITEsZS5UT05FTUFQUElOR19BQ0VTPSExLGUuQ09OVFJBU1Q9ITEsZS5FWFBPU1VSRT0hMSxlLkNPTE9SQ1VSVkVTPSExLGUuQ09MT1JHUkFESU5HPSExLGUuQ09MT1JHUkFESU5HM0Q9ITEsZS5JTUFHRVBST0NFU1NJTkc9ITEsZS5TS0lQRklOQUxDT0xPUkNMQU1QPXRoaXMuc2tpcEZpbmFsQ29sb3JDbGFtcCxlLklNQUdFUFJPQ0VTU0lOR1BPU1RQUk9DRVNTPXRoaXMuYXBwbHlCeVBvc3RQcm9jZXNzJiZ0aGlzLl9pc0VuYWJsZWQ7cmV0dXJufXN3aXRjaChlLlZJR05FVFRFPXRoaXMudmlnbmV0dGVFbmFibGVkLGUuVklHTkVUVEVCTEVORE1PREVNVUxUSVBMWT10aGlzLnZpZ25ldHRlQmxlbmRNb2RlPT09aS5fVklHTkVUVEVNT0RFX01VTFRJUExZLGUuVklHTkVUVEVCTEVORE1PREVPUEFRVUU9IWUuVklHTkVUVEVCTEVORE1PREVNVUxUSVBMWSxlLlRPTkVNQVBQSU5HPXRoaXMudG9uZU1hcHBpbmdFbmFibGVkLHRoaXMuX3RvbmVNYXBwaW5nVHlwZSl7Y2FzZSBpLlRPTkVNQVBQSU5HX0FDRVM6ZS5UT05FTUFQUElOR19BQ0VTPSEwO2JyZWFrO2RlZmF1bHQ6ZS5UT05FTUFQUElOR19BQ0VTPSExO2JyZWFrfWUuQ09OVFJBU1Q9dGhpcy5jb250cmFzdCE9PTEsZS5FWFBPU1VSRT10aGlzLmV4cG9zdXJlIT09MSxlLkNPTE9SQ1VSVkVTPXRoaXMuY29sb3JDdXJ2ZXNFbmFibGVkJiYhIXRoaXMuY29sb3JDdXJ2ZXMsZS5DT0xPUkdSQURJTkc9dGhpcy5jb2xvckdyYWRpbmdFbmFibGVkJiYhIXRoaXMuY29sb3JHcmFkaW5nVGV4dHVyZSxlLkNPTE9SR1JBRElORz9lLkNPTE9SR1JBRElORzNEPXRoaXMuY29sb3JHcmFkaW5nVGV4dHVyZS5pczNEOmUuQ09MT1JHUkFESU5HM0Q9ITEsZS5TQU1QTEVSM0RHUkVFTkRFUFRIPXRoaXMuY29sb3JHcmFkaW5nV2l0aEdyZWVuRGVwdGgsZS5TQU1QTEVSM0RCR1JNQVA9dGhpcy5jb2xvckdyYWRpbmdCR1IsZS5JTUFHRVBST0NFU1NJTkdQT1NUUFJPQ0VTUz10aGlzLmFwcGx5QnlQb3N0UHJvY2VzcyxlLlNLSVBGSU5BTENPTE9SQ0xBTVA9dGhpcy5za2lwRmluYWxDb2xvckNsYW1wLGUuSU1BR0VQUk9DRVNTSU5HPWUuVklHTkVUVEV8fGUuVE9ORU1BUFBJTkd8fGUuQ09OVFJBU1R8fGUuRVhQT1NVUkV8fGUuQ09MT1JDVVJWRVN8fGUuQ09MT1JHUkFESU5HfSxpLnByb3RvdHlwZS5pc1JlYWR5PWZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMuY29sb3JHcmFkaW5nRW5hYmxlZHx8IXRoaXMuY29sb3JHcmFkaW5nVGV4dHVyZXx8dGhpcy5jb2xvckdyYWRpbmdUZXh0dXJlLmlzUmVhZHkoKX0saS5wcm90b3R5cGUuYmluZD1mdW5jdGlvbihlLHQpe2lmKHRoaXMuX2NvbG9yQ3VydmVzRW5hYmxlZCYmdGhpcy5jb2xvckN1cnZlcyYmRXIuQmluZCh0aGlzLmNvbG9yQ3VydmVzLGUpLHRoaXMuX3ZpZ25ldHRlRW5hYmxlZCl7dmFyIHI9MS9lLmdldEVuZ2luZSgpLmdldFJlbmRlcldpZHRoKCksbj0xL2UuZ2V0RW5naW5lKCkuZ2V0UmVuZGVySGVpZ2h0KCk7ZS5zZXRGbG9hdDIoInZJbnZlcnNlU2NyZWVuU2l6ZSIscixuKTt2YXIgYT10IT1udWxsP3Q6bi9yLHM9TWF0aC50YW4odGhpcy52aWduZXR0ZUNhbWVyYUZvdiouNSksbz1zKmEsdT1NYXRoLnNxcnQobypzKTtvPV9lLk1peChvLHUsdGhpcy52aWduZXR0ZVN0cmV0Y2gpLHM9X2UuTWl4KHMsdSx0aGlzLnZpZ25ldHRlU3RyZXRjaCksZS5zZXRGbG9hdDQoInZpZ25ldHRlU2V0dGluZ3MxIixvLHMsLW8qdGhpcy52aWduZXR0ZUNlbnRyZVgsLXMqdGhpcy52aWduZXR0ZUNlbnRyZVkpO3ZhciBmPS0yKnRoaXMudmlnbmV0dGVXZWlnaHQ7ZS5zZXRGbG9hdDQoInZpZ25ldHRlU2V0dGluZ3MyIix0aGlzLnZpZ25ldHRlQ29sb3Iucix0aGlzLnZpZ25ldHRlQ29sb3IuZyx0aGlzLnZpZ25ldHRlQ29sb3IuYixmKX1pZihlLnNldEZsb2F0KCJleHBvc3VyZUxpbmVhciIsdGhpcy5leHBvc3VyZSksZS5zZXRGbG9hdCgiY29udHJhc3QiLHRoaXMuY29udHJhc3QpLHRoaXMuY29sb3JHcmFkaW5nVGV4dHVyZSl7ZS5zZXRUZXh0dXJlKCJ0eENvbG9yVHJhbnNmb3JtIix0aGlzLmNvbG9yR3JhZGluZ1RleHR1cmUpO3ZhciBsPXRoaXMuY29sb3JHcmFkaW5nVGV4dHVyZS5nZXRTaXplKCkuaGVpZ2h0O2Uuc2V0RmxvYXQ0KCJjb2xvclRyYW5zZm9ybVNldHRpbmdzIiwobC0xKS9sLC41L2wsbCx0aGlzLmNvbG9yR3JhZGluZ1RleHR1cmUubGV2ZWwpfX0saS5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gdGUuQ2xvbmUoZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGl9LHRoaXMpfSxpLnByb3RvdHlwZS5zZXJpYWxpemU9ZnVuY3Rpb24oKXtyZXR1cm4gdGUuU2VyaWFsaXplKHRoaXMpfSxpLlBhcnNlPWZ1bmN0aW9uKGUpe3JldHVybiB0ZS5QYXJzZShmdW5jdGlvbigpe3JldHVybiBuZXcgaX0sZSxudWxsLG51bGwpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSwiVklHTkVUVEVNT0RFX01VTFRJUExZIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX1ZJR05FVFRFTU9ERV9NVUxUSVBMWX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSwiVklHTkVUVEVNT0RFX09QQVFVRSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9WSUdORVRURU1PREVfT1BBUVVFfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkuVE9ORU1BUFBJTkdfU1RBTkRBUkQ9MCxpLlRPTkVNQVBQSU5HX0FDRVM9MSxpLl9WSUdORVRURU1PREVfTVVMVElQTFk9MCxpLl9WSUdORVRURU1PREVfT1BBUVVFPTEsVChbbGEoKV0saS5wcm90b3R5cGUsImNvbG9yQ3VydmVzIix2b2lkIDApLFQoW1AoKV0saS5wcm90b3R5cGUsIl9jb2xvckN1cnZlc0VuYWJsZWQiLHZvaWQgMCksVChbSGUoImNvbG9yR3JhZGluZ1RleHR1cmUiKV0saS5wcm90b3R5cGUsIl9jb2xvckdyYWRpbmdUZXh0dXJlIix2b2lkIDApLFQoW1AoKV0saS5wcm90b3R5cGUsIl9jb2xvckdyYWRpbmdFbmFibGVkIix2b2lkIDApLFQoW1AoKV0saS5wcm90b3R5cGUsIl9jb2xvckdyYWRpbmdXaXRoR3JlZW5EZXB0aCIsdm9pZCAwKSxUKFtQKCldLGkucHJvdG90eXBlLCJfY29sb3JHcmFkaW5nQkdSIix2b2lkIDApLFQoW1AoKV0saS5wcm90b3R5cGUsIl9leHBvc3VyZSIsdm9pZCAwKSxUKFtQKCldLGkucHJvdG90eXBlLCJfdG9uZU1hcHBpbmdFbmFibGVkIix2b2lkIDApLFQoW1AoKV0saS5wcm90b3R5cGUsIl90b25lTWFwcGluZ1R5cGUiLHZvaWQgMCksVChbUCgpXSxpLnByb3RvdHlwZSwiX2NvbnRyYXN0Iix2b2lkIDApLFQoW1AoKV0saS5wcm90b3R5cGUsInZpZ25ldHRlU3RyZXRjaCIsdm9pZCAwKSxUKFtQKCldLGkucHJvdG90eXBlLCJ2aWduZXR0ZUNlbnRyZVgiLHZvaWQgMCksVChbUCgpXSxpLnByb3RvdHlwZSwidmlnbmV0dGVDZW50cmVZIix2b2lkIDApLFQoW1AoKV0saS5wcm90b3R5cGUsInZpZ25ldHRlV2VpZ2h0Iix2b2lkIDApLFQoW3ppKCldLGkucHJvdG90eXBlLCJ2aWduZXR0ZUNvbG9yIix2b2lkIDApLFQoW1AoKV0saS5wcm90b3R5cGUsInZpZ25ldHRlQ2FtZXJhRm92Iix2b2lkIDApLFQoW1AoKV0saS5wcm90b3R5cGUsIl92aWduZXR0ZUJsZW5kTW9kZSIsdm9pZCAwKSxUKFtQKCldLGkucHJvdG90eXBlLCJfdmlnbmV0dGVFbmFibGVkIix2b2lkIDApLFQoW1AoKV0saS5wcm90b3R5cGUsIl9za2lwRmluYWxDb2xvckNsYW1wIix2b2lkIDApLFQoW1AoKV0saS5wcm90b3R5cGUsIl9hcHBseUJ5UG9zdFByb2Nlc3MiLHZvaWQgMCksVChbUCgpXSxpLnByb3RvdHlwZSwiX2lzRW5hYmxlZCIsdm9pZCAwKSxpfSgpO3RlLl9JbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uUGFyc2VyPUJ0LlBhcnNlLGxlLnByb3RvdHlwZS5jcmVhdGVVbmlmb3JtQnVmZmVyPWZ1bmN0aW9uKGkpe3ZhciBlPXRoaXMuX2dsLmNyZWF0ZUJ1ZmZlcigpO2lmKCFlKXRocm93IG5ldyBFcnJvcigiVW5hYmxlIHRvIGNyZWF0ZSB1bmlmb3JtIGJ1ZmZlciIpO3ZhciB0PW5ldyBxdChlKTtyZXR1cm4gdGhpcy5iaW5kVW5pZm9ybUJ1ZmZlcih0KSxpIGluc3RhbmNlb2YgRmxvYXQzMkFycmF5P3RoaXMuX2dsLmJ1ZmZlckRhdGEodGhpcy5fZ2wuVU5JRk9STV9CVUZGRVIsaSx0aGlzLl9nbC5TVEFUSUNfRFJBVyk6dGhpcy5fZ2wuYnVmZmVyRGF0YSh0aGlzLl9nbC5VTklGT1JNX0JVRkZFUixuZXcgRmxvYXQzMkFycmF5KGkpLHRoaXMuX2dsLlNUQVRJQ19EUkFXKSx0aGlzLmJpbmRVbmlmb3JtQnVmZmVyKG51bGwpLHQucmVmZXJlbmNlcz0xLHR9LGxlLnByb3RvdHlwZS5jcmVhdGVEeW5hbWljVW5pZm9ybUJ1ZmZlcj1mdW5jdGlvbihpKXt2YXIgZT10aGlzLl9nbC5jcmVhdGVCdWZmZXIoKTtpZighZSl0aHJvdyBuZXcgRXJyb3IoIlVuYWJsZSB0byBjcmVhdGUgZHluYW1pYyB1bmlmb3JtIGJ1ZmZlciIpO3ZhciB0PW5ldyBxdChlKTtyZXR1cm4gdGhpcy5iaW5kVW5pZm9ybUJ1ZmZlcih0KSxpIGluc3RhbmNlb2YgRmxvYXQzMkFycmF5P3RoaXMuX2dsLmJ1ZmZlckRhdGEodGhpcy5fZ2wuVU5JRk9STV9CVUZGRVIsaSx0aGlzLl9nbC5EWU5BTUlDX0RSQVcpOnRoaXMuX2dsLmJ1ZmZlckRhdGEodGhpcy5fZ2wuVU5JRk9STV9CVUZGRVIsbmV3IEZsb2F0MzJBcnJheShpKSx0aGlzLl9nbC5EWU5BTUlDX0RSQVcpLHRoaXMuYmluZFVuaWZvcm1CdWZmZXIobnVsbCksdC5yZWZlcmVuY2VzPTEsdH0sbGUucHJvdG90eXBlLnVwZGF0ZVVuaWZvcm1CdWZmZXI9ZnVuY3Rpb24oaSxlLHQscil7dGhpcy5iaW5kVW5pZm9ybUJ1ZmZlcihpKSx0PT09dm9pZCAwJiYodD0wKSxyPT09dm9pZCAwP2UgaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXk/dGhpcy5fZ2wuYnVmZmVyU3ViRGF0YSh0aGlzLl9nbC5VTklGT1JNX0JVRkZFUix0LGUpOnRoaXMuX2dsLmJ1ZmZlclN1YkRhdGEodGhpcy5fZ2wuVU5JRk9STV9CVUZGRVIsdCxuZXcgRmxvYXQzMkFycmF5KGUpKTplIGluc3RhbmNlb2YgRmxvYXQzMkFycmF5P3RoaXMuX2dsLmJ1ZmZlclN1YkRhdGEodGhpcy5fZ2wuVU5JRk9STV9CVUZGRVIsMCxlLnN1YmFycmF5KHQsdCtyKSk6dGhpcy5fZ2wuYnVmZmVyU3ViRGF0YSh0aGlzLl9nbC5VTklGT1JNX0JVRkZFUiwwLG5ldyBGbG9hdDMyQXJyYXkoZSkuc3ViYXJyYXkodCx0K3IpKSx0aGlzLmJpbmRVbmlmb3JtQnVmZmVyKG51bGwpfSxsZS5wcm90b3R5cGUuYmluZFVuaWZvcm1CdWZmZXI9ZnVuY3Rpb24oaSl7dGhpcy5fZ2wuYmluZEJ1ZmZlcih0aGlzLl9nbC5VTklGT1JNX0JVRkZFUixpP2kudW5kZXJseWluZ1Jlc291cmNlOm51bGwpfSxsZS5wcm90b3R5cGUuYmluZFVuaWZvcm1CdWZmZXJCYXNlPWZ1bmN0aW9uKGksZSx0KXt0aGlzLl9nbC5iaW5kQnVmZmVyQmFzZSh0aGlzLl9nbC5VTklGT1JNX0JVRkZFUixlLGk/aS51bmRlcmx5aW5nUmVzb3VyY2U6bnVsbCl9LGxlLnByb3RvdHlwZS5iaW5kVW5pZm9ybUJsb2NrPWZ1bmN0aW9uKGksZSx0KXt2YXIgcj1pLnByb2dyYW0sbj10aGlzLl9nbC5nZXRVbmlmb3JtQmxvY2tJbmRleChyLGUpO24hPT00Mjk0OTY3Mjk1JiZ0aGlzLl9nbC51bmlmb3JtQmxvY2tCaW5kaW5nKHIsbix0KX07dmFyIFRyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaShlLHQscixuLGEpe2E9PT12b2lkIDAmJihhPSExKSx0aGlzLl92YWx1ZUNhY2hlPXt9LHRoaXMuX2VuZ2luZT1lLHRoaXMuX25vVUJPPSFlLnN1cHBvcnRzVW5pZm9ybUJ1ZmZlcnN8fGEsdGhpcy5fZHluYW1pYz1yLHRoaXMuX25hbWU9biE9bnVsbD9uOiJuby1uYW1lIix0aGlzLl9kYXRhPXR8fFtdLHRoaXMuX3VuaWZvcm1Mb2NhdGlvbnM9e30sdGhpcy5fdW5pZm9ybVNpemVzPXt9LHRoaXMuX3VuaWZvcm1BcnJheVNpemVzPXt9LHRoaXMuX3VuaWZvcm1Mb2NhdGlvblBvaW50ZXI9MCx0aGlzLl9uZWVkU3luYz0hMSx0aGlzLl9lbmdpbmUuX2ZlYXR1cmVzLnRyYWNrVWJvc0luRnJhbWUmJih0aGlzLl9idWZmZXJzPVtdLHRoaXMuX2J1ZmZlckluZGV4PS0xLHRoaXMuX2NyZWF0ZUJ1ZmZlck9uV3JpdGU9ITEsdGhpcy5fY3VycmVudEZyYW1lSWQ9MCksdGhpcy5fbm9VQk8/KHRoaXMudXBkYXRlTWF0cml4M3gzPXRoaXMuX3VwZGF0ZU1hdHJpeDN4M0ZvckVmZmVjdCx0aGlzLnVwZGF0ZU1hdHJpeDJ4Mj10aGlzLl91cGRhdGVNYXRyaXgyeDJGb3JFZmZlY3QsdGhpcy51cGRhdGVGbG9hdD10aGlzLl91cGRhdGVGbG9hdEZvckVmZmVjdCx0aGlzLnVwZGF0ZUZsb2F0Mj10aGlzLl91cGRhdGVGbG9hdDJGb3JFZmZlY3QsdGhpcy51cGRhdGVGbG9hdDM9dGhpcy5fdXBkYXRlRmxvYXQzRm9yRWZmZWN0LHRoaXMudXBkYXRlRmxvYXQ0PXRoaXMuX3VwZGF0ZUZsb2F0NEZvckVmZmVjdCx0aGlzLnVwZGF0ZUZsb2F0QXJyYXk9dGhpcy5fdXBkYXRlRmxvYXRBcnJheUZvckVmZmVjdCx0aGlzLnVwZGF0ZUFycmF5PXRoaXMuX3VwZGF0ZUFycmF5Rm9yRWZmZWN0LHRoaXMudXBkYXRlSW50QXJyYXk9dGhpcy5fdXBkYXRlSW50QXJyYXlGb3JFZmZlY3QsdGhpcy51cGRhdGVNYXRyaXg9dGhpcy5fdXBkYXRlTWF0cml4Rm9yRWZmZWN0LHRoaXMudXBkYXRlTWF0cmljZXM9dGhpcy5fdXBkYXRlTWF0cmljZXNGb3JFZmZlY3QsdGhpcy51cGRhdGVWZWN0b3IzPXRoaXMuX3VwZGF0ZVZlY3RvcjNGb3JFZmZlY3QsdGhpcy51cGRhdGVWZWN0b3I0PXRoaXMuX3VwZGF0ZVZlY3RvcjRGb3JFZmZlY3QsdGhpcy51cGRhdGVDb2xvcjM9dGhpcy5fdXBkYXRlQ29sb3IzRm9yRWZmZWN0LHRoaXMudXBkYXRlQ29sb3I0PXRoaXMuX3VwZGF0ZUNvbG9yNEZvckVmZmVjdCx0aGlzLnVwZGF0ZURpcmVjdENvbG9yND10aGlzLl91cGRhdGVEaXJlY3RDb2xvcjRGb3JFZmZlY3QsdGhpcy51cGRhdGVJbnQ9dGhpcy5fdXBkYXRlSW50Rm9yRWZmZWN0LHRoaXMudXBkYXRlSW50Mj10aGlzLl91cGRhdGVJbnQyRm9yRWZmZWN0LHRoaXMudXBkYXRlSW50Mz10aGlzLl91cGRhdGVJbnQzRm9yRWZmZWN0LHRoaXMudXBkYXRlSW50ND10aGlzLl91cGRhdGVJbnQ0Rm9yRWZmZWN0KToodGhpcy5fZW5naW5lLl91bmlmb3JtQnVmZmVycy5wdXNoKHRoaXMpLHRoaXMudXBkYXRlTWF0cml4M3gzPXRoaXMuX3VwZGF0ZU1hdHJpeDN4M0ZvclVuaWZvcm0sdGhpcy51cGRhdGVNYXRyaXgyeDI9dGhpcy5fdXBkYXRlTWF0cml4MngyRm9yVW5pZm9ybSx0aGlzLnVwZGF0ZUZsb2F0PXRoaXMuX3VwZGF0ZUZsb2F0Rm9yVW5pZm9ybSx0aGlzLnVwZGF0ZUZsb2F0Mj10aGlzLl91cGRhdGVGbG9hdDJGb3JVbmlmb3JtLHRoaXMudXBkYXRlRmxvYXQzPXRoaXMuX3VwZGF0ZUZsb2F0M0ZvclVuaWZvcm0sdGhpcy51cGRhdGVGbG9hdDQ9dGhpcy5fdXBkYXRlRmxvYXQ0Rm9yVW5pZm9ybSx0aGlzLnVwZGF0ZUZsb2F0QXJyYXk9dGhpcy5fdXBkYXRlRmxvYXRBcnJheUZvclVuaWZvcm0sdGhpcy51cGRhdGVBcnJheT10aGlzLl91cGRhdGVBcnJheUZvclVuaWZvcm0sdGhpcy51cGRhdGVJbnRBcnJheT10aGlzLl91cGRhdGVJbnRBcnJheUZvclVuaWZvcm0sdGhpcy51cGRhdGVNYXRyaXg9dGhpcy5fdXBkYXRlTWF0cml4Rm9yVW5pZm9ybSx0aGlzLnVwZGF0ZU1hdHJpY2VzPXRoaXMuX3VwZGF0ZU1hdHJpY2VzRm9yVW5pZm9ybSx0aGlzLnVwZGF0ZVZlY3RvcjM9dGhpcy5fdXBkYXRlVmVjdG9yM0ZvclVuaWZvcm0sdGhpcy51cGRhdGVWZWN0b3I0PXRoaXMuX3VwZGF0ZVZlY3RvcjRGb3JVbmlmb3JtLHRoaXMudXBkYXRlQ29sb3IzPXRoaXMuX3VwZGF0ZUNvbG9yM0ZvclVuaWZvcm0sdGhpcy51cGRhdGVDb2xvcjQ9dGhpcy5fdXBkYXRlQ29sb3I0Rm9yVW5pZm9ybSx0aGlzLnVwZGF0ZURpcmVjdENvbG9yND10aGlzLl91cGRhdGVEaXJlY3RDb2xvcjRGb3JVbmlmb3JtLHRoaXMudXBkYXRlSW50PXRoaXMuX3VwZGF0ZUludEZvclVuaWZvcm0sdGhpcy51cGRhdGVJbnQyPXRoaXMuX3VwZGF0ZUludDJGb3JVbmlmb3JtLHRoaXMudXBkYXRlSW50Mz10aGlzLl91cGRhdGVJbnQzRm9yVW5pZm9ybSx0aGlzLnVwZGF0ZUludDQ9dGhpcy5fdXBkYXRlSW50NEZvclVuaWZvcm0pfXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsInVzZVVibyIse2dldDpmdW5jdGlvbigpe3JldHVybiF0aGlzLl9ub1VCT30sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImlzU3luYyIse2dldDpmdW5jdGlvbigpe3JldHVybiF0aGlzLl9uZWVkU3luY30sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLnByb3RvdHlwZS5pc0R5bmFtaWM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZHluYW1pYyE9PXZvaWQgMH0saS5wcm90b3R5cGUuZ2V0RGF0YT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9idWZmZXJEYXRhfSxpLnByb3RvdHlwZS5nZXRCdWZmZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYnVmZmVyfSxpLnByb3RvdHlwZS5fZmlsbEFsaWdubWVudD1mdW5jdGlvbihlKXt2YXIgdDtpZihlPD0yP3Q9ZTp0PTQsdGhpcy5fdW5pZm9ybUxvY2F0aW9uUG9pbnRlciV0IT09MCl7dmFyIHI9dGhpcy5fdW5pZm9ybUxvY2F0aW9uUG9pbnRlcjt0aGlzLl91bmlmb3JtTG9jYXRpb25Qb2ludGVyKz10LXRoaXMuX3VuaWZvcm1Mb2NhdGlvblBvaW50ZXIldDtmb3IodmFyIG49dGhpcy5fdW5pZm9ybUxvY2F0aW9uUG9pbnRlci1yLGE9MDthPG47YSsrKXRoaXMuX2RhdGEucHVzaCgwKX19LGkucHJvdG90eXBlLmFkZFVuaWZvcm09ZnVuY3Rpb24oZSx0LHIpe2lmKHI9PT12b2lkIDAmJihyPTApLCF0aGlzLl9ub1VCTyYmdGhpcy5fdW5pZm9ybUxvY2F0aW9uc1tlXT09PXZvaWQgMCl7dmFyIG47aWYocj4wKXtpZih0IGluc3RhbmNlb2YgQXJyYXkpdGhyb3ciYWRkVW5pZm9ybSBzaG91bGQgbm90IGJlIHVzZSB3aXRoIEFycmF5IGluIFVCTzogIitlO2lmKHRoaXMuX2ZpbGxBbGlnbm1lbnQoNCksdGhpcy5fdW5pZm9ybUFycmF5U2l6ZXNbZV09e3N0cmlkZVNpemU6dCxhcnJheVNpemU6cn0sdD09MTYpdD10KnI7ZWxzZXt2YXIgYT00LXQscz1hKnI7dD10KnIrc31uPVtdO2Zvcih2YXIgbz0wO288dDtvKyspbi5wdXNoKDApfWVsc2V7aWYodCBpbnN0YW5jZW9mIEFycmF5KW49dCx0PW4ubGVuZ3RoO2Vsc2V7dD10LG49W107Zm9yKHZhciBvPTA7bzx0O28rKyluLnB1c2goMCl9dGhpcy5fZmlsbEFsaWdubWVudCh0KX10aGlzLl91bmlmb3JtU2l6ZXNbZV09dCx0aGlzLl91bmlmb3JtTG9jYXRpb25zW2VdPXRoaXMuX3VuaWZvcm1Mb2NhdGlvblBvaW50ZXIsdGhpcy5fdW5pZm9ybUxvY2F0aW9uUG9pbnRlcis9dDtmb3IodmFyIG89MDtvPHQ7bysrKXRoaXMuX2RhdGEucHVzaChuW29dKTt0aGlzLl9uZWVkU3luYz0hMH19LGkucHJvdG90eXBlLmFkZE1hdHJpeD1mdW5jdGlvbihlLHQpe3RoaXMuYWRkVW5pZm9ybShlLEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHQudG9BcnJheSgpKSl9LGkucHJvdG90eXBlLmFkZEZsb2F0Mj1mdW5jdGlvbihlLHQscil7dmFyIG49W3Qscl07dGhpcy5hZGRVbmlmb3JtKGUsbil9LGkucHJvdG90eXBlLmFkZEZsb2F0Mz1mdW5jdGlvbihlLHQscixuKXt2YXIgYT1bdCxyLG5dO3RoaXMuYWRkVW5pZm9ybShlLGEpfSxpLnByb3RvdHlwZS5hZGRDb2xvcjM9ZnVuY3Rpb24oZSx0KXt2YXIgcj1bdC5yLHQuZyx0LmJdO3RoaXMuYWRkVW5pZm9ybShlLHIpfSxpLnByb3RvdHlwZS5hZGRDb2xvcjQ9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPVt0LnIsdC5nLHQuYixyXTt0aGlzLmFkZFVuaWZvcm0oZSxuKX0saS5wcm90b3R5cGUuYWRkVmVjdG9yMz1mdW5jdGlvbihlLHQpe3ZhciByPVt0LngsdC55LHQuel07dGhpcy5hZGRVbmlmb3JtKGUscil9LGkucHJvdG90eXBlLmFkZE1hdHJpeDN4Mz1mdW5jdGlvbihlKXt0aGlzLmFkZFVuaWZvcm0oZSwxMil9LGkucHJvdG90eXBlLmFkZE1hdHJpeDJ4Mj1mdW5jdGlvbihlKXt0aGlzLmFkZFVuaWZvcm0oZSw4KX0saS5wcm90b3R5cGUuY3JlYXRlPWZ1bmN0aW9uKCl7dGhpcy5fbm9VQk98fHRoaXMuX2J1ZmZlcnx8KHRoaXMuX2ZpbGxBbGlnbm1lbnQoNCksdGhpcy5fYnVmZmVyRGF0YT1uZXcgRmxvYXQzMkFycmF5KHRoaXMuX2RhdGEpLHRoaXMuX3JlYnVpbGQoKSx0aGlzLl9uZWVkU3luYz0hMCl9LGkucHJvdG90eXBlLl9yZWJ1aWxkPWZ1bmN0aW9uKCl7dGhpcy5fbm9VQk98fCF0aGlzLl9idWZmZXJEYXRhfHwodGhpcy5fZHluYW1pYz90aGlzLl9idWZmZXI9dGhpcy5fZW5naW5lLmNyZWF0ZUR5bmFtaWNVbmlmb3JtQnVmZmVyKHRoaXMuX2J1ZmZlckRhdGEpOnRoaXMuX2J1ZmZlcj10aGlzLl9lbmdpbmUuY3JlYXRlVW5pZm9ybUJ1ZmZlcih0aGlzLl9idWZmZXJEYXRhKSx0aGlzLl9lbmdpbmUuX2ZlYXR1cmVzLnRyYWNrVWJvc0luRnJhbWUmJih0aGlzLl9idWZmZXJzLnB1c2goW3RoaXMuX2J1ZmZlcix0aGlzLl9lbmdpbmUuX2ZlYXR1cmVzLmNoZWNrVWJvc0NvbnRlbnRCZWZvcmVVcGxvYWQ/dGhpcy5fYnVmZmVyRGF0YS5zbGljZSgpOnZvaWQgMF0pLHRoaXMuX2J1ZmZlckluZGV4PXRoaXMuX2J1ZmZlcnMubGVuZ3RoLTEsdGhpcy5fY3JlYXRlQnVmZmVyT25Xcml0ZT0hMSkpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsIl9udW1CdWZmZXJzIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2J1ZmZlcnMubGVuZ3RofSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiX2luZGV4QnVmZmVyIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2J1ZmZlckluZGV4fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwibmFtZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9uYW1lfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkucHJvdG90eXBlLl9idWZmZXJzRXF1YWw9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9MDtyPGUubGVuZ3RoOysrcilpZihlW3JdIT09dFtyXSlyZXR1cm4hMTtyZXR1cm4hMH0saS5wcm90b3R5cGUuX2NvcHlCdWZmZXI9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9MDtyPGUubGVuZ3RoOysrcil0W3JdPWVbcl19LGkucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbigpe2lmKCF0aGlzLl9ub1VCTyl7aWYodGhpcy5iaW5kVW5pZm9ybUJ1ZmZlcigpLCF0aGlzLl9idWZmZXIpe3RoaXMuY3JlYXRlKCk7cmV0dXJufWlmKCF0aGlzLl9keW5hbWljJiYhdGhpcy5fbmVlZFN5bmMpe3RoaXMuX2NyZWF0ZUJ1ZmZlck9uV3JpdGU9dGhpcy5fZW5naW5lLl9mZWF0dXJlcy50cmFja1Vib3NJbkZyYW1lO3JldHVybn1pZih0aGlzLl9idWZmZXJzJiZ0aGlzLl9idWZmZXJzLmxlbmd0aD4xJiZ0aGlzLl9idWZmZXJzW3RoaXMuX2J1ZmZlckluZGV4XVsxXSlpZih0aGlzLl9idWZmZXJzRXF1YWwodGhpcy5fYnVmZmVyRGF0YSx0aGlzLl9idWZmZXJzW3RoaXMuX2J1ZmZlckluZGV4XVsxXSkpe3RoaXMuX25lZWRTeW5jPSExLHRoaXMuX2NyZWF0ZUJ1ZmZlck9uV3JpdGU9dGhpcy5fZW5naW5lLl9mZWF0dXJlcy50cmFja1Vib3NJbkZyYW1lO3JldHVybn1lbHNlIHRoaXMuX2NvcHlCdWZmZXIodGhpcy5fYnVmZmVyRGF0YSx0aGlzLl9idWZmZXJzW3RoaXMuX2J1ZmZlckluZGV4XVsxXSk7dGhpcy5fZW5naW5lLnVwZGF0ZVVuaWZvcm1CdWZmZXIodGhpcy5fYnVmZmVyLHRoaXMuX2J1ZmZlckRhdGEpLHRoaXMuX2VuZ2luZS5fZmVhdHVyZXMuX2NvbGxlY3RVYm9zVXBkYXRlZEluRnJhbWUmJihpLl9VcGRhdGVkVWJvc0luRnJhbWVbdGhpcy5fbmFtZV18fChpLl9VcGRhdGVkVWJvc0luRnJhbWVbdGhpcy5fbmFtZV09MCksaS5fVXBkYXRlZFVib3NJbkZyYW1lW3RoaXMuX25hbWVdKyspLHRoaXMuX25lZWRTeW5jPSExLHRoaXMuX2NyZWF0ZUJ1ZmZlck9uV3JpdGU9dGhpcy5fZW5naW5lLl9mZWF0dXJlcy50cmFja1Vib3NJbkZyYW1lfX0saS5wcm90b3R5cGUuX2NyZWF0ZU5ld0J1ZmZlcj1mdW5jdGlvbigpe3RoaXMuX2J1ZmZlckluZGV4KzE8dGhpcy5fYnVmZmVycy5sZW5ndGg/KHRoaXMuX2J1ZmZlckluZGV4KyssdGhpcy5fYnVmZmVyPXRoaXMuX2J1ZmZlcnNbdGhpcy5fYnVmZmVySW5kZXhdWzBdLHRoaXMuX2NyZWF0ZUJ1ZmZlck9uV3JpdGU9ITEsdGhpcy5fbmVlZFN5bmM9ITApOnRoaXMuX3JlYnVpbGQoKX0saS5wcm90b3R5cGUuX2NoZWNrTmV3RnJhbWU9ZnVuY3Rpb24oKXt0aGlzLl9lbmdpbmUuX2ZlYXR1cmVzLnRyYWNrVWJvc0luRnJhbWUmJnRoaXMuX2N1cnJlbnRGcmFtZUlkIT09dGhpcy5fZW5naW5lLmZyYW1lSWQmJih0aGlzLl9jdXJyZW50RnJhbWVJZD10aGlzLl9lbmdpbmUuZnJhbWVJZCx0aGlzLl9jcmVhdGVCdWZmZXJPbldyaXRlPSExLHRoaXMuX2J1ZmZlcnMmJnRoaXMuX2J1ZmZlcnMubGVuZ3RoPjA/KHRoaXMuX25lZWRTeW5jPXRoaXMuX2J1ZmZlckluZGV4IT09MCx0aGlzLl9idWZmZXJJbmRleD0wLHRoaXMuX2J1ZmZlcj10aGlzLl9idWZmZXJzW3RoaXMuX2J1ZmZlckluZGV4XVswXSk6dGhpcy5fYnVmZmVySW5kZXg9LTEpfSxpLnByb3RvdHlwZS51cGRhdGVVbmlmb3JtPWZ1bmN0aW9uKGUsdCxyKXt0aGlzLl9jaGVja05ld0ZyYW1lKCk7dmFyIG49dGhpcy5fdW5pZm9ybUxvY2F0aW9uc1tlXTtpZihuPT09dm9pZCAwKXtpZih0aGlzLl9idWZmZXIpe1cuRXJyb3IoIkNhbm5vdCBhZGQgYW4gdW5pZm9ybSBhZnRlciBVQk8gaGFzIGJlZW4gY3JlYXRlZC4iKTtyZXR1cm59dGhpcy5hZGRVbmlmb3JtKGUsciksbj10aGlzLl91bmlmb3JtTG9jYXRpb25zW2VdfWlmKHRoaXMuX2J1ZmZlcnx8dGhpcy5jcmVhdGUoKSx0aGlzLl9keW5hbWljKWZvcih2YXIgcz0wO3M8cjtzKyspdGhpcy5fYnVmZmVyRGF0YVtuK3NdPXRbc107ZWxzZXtmb3IodmFyIGE9ITEscz0wO3M8cjtzKyspKHI9PT0xNiYmIXRoaXMuX2VuZ2luZS5fZmVhdHVyZXMudW5pZm9ybUJ1ZmZlckhhcmRDaGVja01hdHJpeHx8dGhpcy5fYnVmZmVyRGF0YVtuK3NdIT09X2UuRmxvYXRSb3VuZCh0W3NdKSkmJihhPSEwLHRoaXMuX2NyZWF0ZUJ1ZmZlck9uV3JpdGUmJnRoaXMuX2NyZWF0ZU5ld0J1ZmZlcigpLHRoaXMuX2J1ZmZlckRhdGFbbitzXT10W3NdKTt0aGlzLl9uZWVkU3luYz10aGlzLl9uZWVkU3luY3x8YX19LGkucHJvdG90eXBlLnVwZGF0ZVVuaWZvcm1BcnJheT1mdW5jdGlvbihlLHQscil7dGhpcy5fY2hlY2tOZXdGcmFtZSgpO3ZhciBuPXRoaXMuX3VuaWZvcm1Mb2NhdGlvbnNbZV07aWYobj09PXZvaWQgMCl7Vy5FcnJvcigiQ2Fubm90IGFkZCBhbiB1bmlmb3JtIEFycmF5IGR5bmFtaWNhbGx5LiBQbGVhc2UsIGFkZCBpdCB1c2luZyBhZGRVbmlmb3JtLiIpO3JldHVybn10aGlzLl9idWZmZXJ8fHRoaXMuY3JlYXRlKCk7dmFyIGE9dGhpcy5fdW5pZm9ybUFycmF5U2l6ZXNbZV07aWYodGhpcy5fZHluYW1pYylmb3IodmFyIGY9MDtmPHI7ZisrKXRoaXMuX2J1ZmZlckRhdGFbbitmXT10W2ZdO2Vsc2V7Zm9yKHZhciBzPSExLG89MCx1PTAsZj0wO2Y8cjtmKyspaWYodGhpcy5fYnVmZmVyRGF0YVtuK3UqNCtvXSE9PV9lLkZsb2F0Um91bmQodFtmXSkmJihzPSEwLHRoaXMuX2NyZWF0ZUJ1ZmZlck9uV3JpdGUmJnRoaXMuX2NyZWF0ZU5ld0J1ZmZlcigpLHRoaXMuX2J1ZmZlckRhdGFbbit1KjQrb109dFtmXSksbysrLG89PT1hLnN0cmlkZVNpemUpe2Zvcig7bzw0O28rKyl0aGlzLl9idWZmZXJEYXRhW24rdSo0K29dPTA7bz0wLHUrK310aGlzLl9uZWVkU3luYz10aGlzLl9uZWVkU3luY3x8c319LGkucHJvdG90eXBlLl9jYWNoZU1hdHJpeD1mdW5jdGlvbihlLHQpe3RoaXMuX2NoZWNrTmV3RnJhbWUoKTt2YXIgcj10aGlzLl92YWx1ZUNhY2hlW2VdLG49dC51cGRhdGVGbGFnO3JldHVybiByIT09dm9pZCAwJiZyPT09bj8hMToodGhpcy5fdmFsdWVDYWNoZVtlXT1uLCEwKX0saS5wcm90b3R5cGUuX3VwZGF0ZU1hdHJpeDN4M0ZvclVuaWZvcm09ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9MDtyPDM7cisrKWkuX1RlbXBCdWZmZXJbcio0XT10W3IqM10saS5fVGVtcEJ1ZmZlcltyKjQrMV09dFtyKjMrMV0saS5fVGVtcEJ1ZmZlcltyKjQrMl09dFtyKjMrMl0saS5fVGVtcEJ1ZmZlcltyKjQrM109MDt0aGlzLnVwZGF0ZVVuaWZvcm0oZSxpLl9UZW1wQnVmZmVyLDEyKX0saS5wcm90b3R5cGUuX3VwZGF0ZU1hdHJpeDN4M0ZvckVmZmVjdD1mdW5jdGlvbihlLHQpe3RoaXMuX2N1cnJlbnRFZmZlY3Quc2V0TWF0cml4M3gzKGUsdCl9LGkucHJvdG90eXBlLl91cGRhdGVNYXRyaXgyeDJGb3JFZmZlY3Q9ZnVuY3Rpb24oZSx0KXt0aGlzLl9jdXJyZW50RWZmZWN0LnNldE1hdHJpeDJ4MihlLHQpfSxpLnByb3RvdHlwZS5fdXBkYXRlTWF0cml4MngyRm9yVW5pZm9ybT1mdW5jdGlvbihlLHQpe2Zvcih2YXIgcj0wO3I8MjtyKyspaS5fVGVtcEJ1ZmZlcltyKjRdPXRbcioyXSxpLl9UZW1wQnVmZmVyW3IqNCsxXT10W3IqMisxXSxpLl9UZW1wQnVmZmVyW3IqNCsyXT0wLGkuX1RlbXBCdWZmZXJbcio0KzNdPTA7dGhpcy51cGRhdGVVbmlmb3JtKGUsaS5fVGVtcEJ1ZmZlciw4KX0saS5wcm90b3R5cGUuX3VwZGF0ZUZsb2F0Rm9yRWZmZWN0PWZ1bmN0aW9uKGUsdCl7dGhpcy5fY3VycmVudEVmZmVjdC5zZXRGbG9hdChlLHQpfSxpLnByb3RvdHlwZS5fdXBkYXRlRmxvYXRGb3JVbmlmb3JtPWZ1bmN0aW9uKGUsdCl7aS5fVGVtcEJ1ZmZlclswXT10LHRoaXMudXBkYXRlVW5pZm9ybShlLGkuX1RlbXBCdWZmZXIsMSl9LGkucHJvdG90eXBlLl91cGRhdGVGbG9hdDJGb3JFZmZlY3Q9ZnVuY3Rpb24oZSx0LHIsbil7bj09PXZvaWQgMCYmKG49IiIpLHRoaXMuX2N1cnJlbnRFZmZlY3Quc2V0RmxvYXQyKGUrbix0LHIpfSxpLnByb3RvdHlwZS5fdXBkYXRlRmxvYXQyRm9yVW5pZm9ybT1mdW5jdGlvbihlLHQscil7aS5fVGVtcEJ1ZmZlclswXT10LGkuX1RlbXBCdWZmZXJbMV09cix0aGlzLnVwZGF0ZVVuaWZvcm0oZSxpLl9UZW1wQnVmZmVyLDIpfSxpLnByb3RvdHlwZS5fdXBkYXRlRmxvYXQzRm9yRWZmZWN0PWZ1bmN0aW9uKGUsdCxyLG4sYSl7YT09PXZvaWQgMCYmKGE9IiIpLHRoaXMuX2N1cnJlbnRFZmZlY3Quc2V0RmxvYXQzKGUrYSx0LHIsbil9LGkucHJvdG90eXBlLl91cGRhdGVGbG9hdDNGb3JVbmlmb3JtPWZ1bmN0aW9uKGUsdCxyLG4pe2kuX1RlbXBCdWZmZXJbMF09dCxpLl9UZW1wQnVmZmVyWzFdPXIsaS5fVGVtcEJ1ZmZlclsyXT1uLHRoaXMudXBkYXRlVW5pZm9ybShlLGkuX1RlbXBCdWZmZXIsMyl9LGkucHJvdG90eXBlLl91cGRhdGVGbG9hdDRGb3JFZmZlY3Q9ZnVuY3Rpb24oZSx0LHIsbixhLHMpe3M9PT12b2lkIDAmJihzPSIiKSx0aGlzLl9jdXJyZW50RWZmZWN0LnNldEZsb2F0NChlK3MsdCxyLG4sYSl9LGkucHJvdG90eXBlLl91cGRhdGVGbG9hdDRGb3JVbmlmb3JtPWZ1bmN0aW9uKGUsdCxyLG4sYSl7aS5fVGVtcEJ1ZmZlclswXT10LGkuX1RlbXBCdWZmZXJbMV09cixpLl9UZW1wQnVmZmVyWzJdPW4saS5fVGVtcEJ1ZmZlclszXT1hLHRoaXMudXBkYXRlVW5pZm9ybShlLGkuX1RlbXBCdWZmZXIsNCl9LGkucHJvdG90eXBlLl91cGRhdGVGbG9hdEFycmF5Rm9yRWZmZWN0PWZ1bmN0aW9uKGUsdCl7dGhpcy5fY3VycmVudEVmZmVjdC5zZXRGbG9hdEFycmF5KGUsdCl9LGkucHJvdG90eXBlLl91cGRhdGVGbG9hdEFycmF5Rm9yVW5pZm9ybT1mdW5jdGlvbihlLHQpe3RoaXMudXBkYXRlVW5pZm9ybUFycmF5KGUsdCx0Lmxlbmd0aCl9LGkucHJvdG90eXBlLl91cGRhdGVBcnJheUZvckVmZmVjdD1mdW5jdGlvbihlLHQpe3RoaXMuX2N1cnJlbnRFZmZlY3Quc2V0QXJyYXkoZSx0KX0saS5wcm90b3R5cGUuX3VwZGF0ZUFycmF5Rm9yVW5pZm9ybT1mdW5jdGlvbihlLHQpe3RoaXMudXBkYXRlVW5pZm9ybUFycmF5KGUsdCx0Lmxlbmd0aCl9LGkucHJvdG90eXBlLl91cGRhdGVJbnRBcnJheUZvckVmZmVjdD1mdW5jdGlvbihlLHQpe3RoaXMuX2N1cnJlbnRFZmZlY3Quc2V0SW50QXJyYXkoZSx0KX0saS5wcm90b3R5cGUuX3VwZGF0ZUludEFycmF5Rm9yVW5pZm9ybT1mdW5jdGlvbihlLHQpe2kuX1RlbXBCdWZmZXJJbnQzMlZpZXcuc2V0KHQpLHRoaXMudXBkYXRlVW5pZm9ybUFycmF5KGUsaS5fVGVtcEJ1ZmZlcix0Lmxlbmd0aCl9LGkucHJvdG90eXBlLl91cGRhdGVNYXRyaXhGb3JFZmZlY3Q9ZnVuY3Rpb24oZSx0KXt0aGlzLl9jdXJyZW50RWZmZWN0LnNldE1hdHJpeChlLHQpfSxpLnByb3RvdHlwZS5fdXBkYXRlTWF0cml4Rm9yVW5pZm9ybT1mdW5jdGlvbihlLHQpe3RoaXMuX2NhY2hlTWF0cml4KGUsdCkmJnRoaXMudXBkYXRlVW5pZm9ybShlLHQudG9BcnJheSgpLDE2KX0saS5wcm90b3R5cGUuX3VwZGF0ZU1hdHJpY2VzRm9yRWZmZWN0PWZ1bmN0aW9uKGUsdCl7dGhpcy5fY3VycmVudEVmZmVjdC5zZXRNYXRyaWNlcyhlLHQpfSxpLnByb3RvdHlwZS5fdXBkYXRlTWF0cmljZXNGb3JVbmlmb3JtPWZ1bmN0aW9uKGUsdCl7dGhpcy51cGRhdGVVbmlmb3JtKGUsdCx0Lmxlbmd0aCl9LGkucHJvdG90eXBlLl91cGRhdGVWZWN0b3IzRm9yRWZmZWN0PWZ1bmN0aW9uKGUsdCl7dGhpcy5fY3VycmVudEVmZmVjdC5zZXRWZWN0b3IzKGUsdCl9LGkucHJvdG90eXBlLl91cGRhdGVWZWN0b3IzRm9yVW5pZm9ybT1mdW5jdGlvbihlLHQpe2kuX1RlbXBCdWZmZXJbMF09dC54LGkuX1RlbXBCdWZmZXJbMV09dC55LGkuX1RlbXBCdWZmZXJbMl09dC56LHRoaXMudXBkYXRlVW5pZm9ybShlLGkuX1RlbXBCdWZmZXIsMyl9LGkucHJvdG90eXBlLl91cGRhdGVWZWN0b3I0Rm9yRWZmZWN0PWZ1bmN0aW9uKGUsdCl7dGhpcy5fY3VycmVudEVmZmVjdC5zZXRWZWN0b3I0KGUsdCl9LGkucHJvdG90eXBlLl91cGRhdGVWZWN0b3I0Rm9yVW5pZm9ybT1mdW5jdGlvbihlLHQpe2kuX1RlbXBCdWZmZXJbMF09dC54LGkuX1RlbXBCdWZmZXJbMV09dC55LGkuX1RlbXBCdWZmZXJbMl09dC56LGkuX1RlbXBCdWZmZXJbM109dC53LHRoaXMudXBkYXRlVW5pZm9ybShlLGkuX1RlbXBCdWZmZXIsNCl9LGkucHJvdG90eXBlLl91cGRhdGVDb2xvcjNGb3JFZmZlY3Q9ZnVuY3Rpb24oZSx0LHIpe3I9PT12b2lkIDAmJihyPSIiKSx0aGlzLl9jdXJyZW50RWZmZWN0LnNldENvbG9yMyhlK3IsdCl9LGkucHJvdG90eXBlLl91cGRhdGVDb2xvcjNGb3JVbmlmb3JtPWZ1bmN0aW9uKGUsdCl7aS5fVGVtcEJ1ZmZlclswXT10LnIsaS5fVGVtcEJ1ZmZlclsxXT10LmcsaS5fVGVtcEJ1ZmZlclsyXT10LmIsdGhpcy51cGRhdGVVbmlmb3JtKGUsaS5fVGVtcEJ1ZmZlciwzKX0saS5wcm90b3R5cGUuX3VwZGF0ZUNvbG9yNEZvckVmZmVjdD1mdW5jdGlvbihlLHQscixuKXtuPT09dm9pZCAwJiYobj0iIiksdGhpcy5fY3VycmVudEVmZmVjdC5zZXRDb2xvcjQoZStuLHQscil9LGkucHJvdG90eXBlLl91cGRhdGVEaXJlY3RDb2xvcjRGb3JFZmZlY3Q9ZnVuY3Rpb24oZSx0LHIpe3I9PT12b2lkIDAmJihyPSIiKSx0aGlzLl9jdXJyZW50RWZmZWN0LnNldERpcmVjdENvbG9yNChlK3IsdCl9LGkucHJvdG90eXBlLl91cGRhdGVDb2xvcjRGb3JVbmlmb3JtPWZ1bmN0aW9uKGUsdCxyKXtpLl9UZW1wQnVmZmVyWzBdPXQucixpLl9UZW1wQnVmZmVyWzFdPXQuZyxpLl9UZW1wQnVmZmVyWzJdPXQuYixpLl9UZW1wQnVmZmVyWzNdPXIsdGhpcy51cGRhdGVVbmlmb3JtKGUsaS5fVGVtcEJ1ZmZlciw0KX0saS5wcm90b3R5cGUuX3VwZGF0ZURpcmVjdENvbG9yNEZvclVuaWZvcm09ZnVuY3Rpb24oZSx0KXtpLl9UZW1wQnVmZmVyWzBdPXQucixpLl9UZW1wQnVmZmVyWzFdPXQuZyxpLl9UZW1wQnVmZmVyWzJdPXQuYixpLl9UZW1wQnVmZmVyWzNdPXQuYSx0aGlzLnVwZGF0ZVVuaWZvcm0oZSxpLl9UZW1wQnVmZmVyLDQpfSxpLnByb3RvdHlwZS5fdXBkYXRlSW50Rm9yRWZmZWN0PWZ1bmN0aW9uKGUsdCxyKXtyPT09dm9pZCAwJiYocj0iIiksdGhpcy5fY3VycmVudEVmZmVjdC5zZXRJbnQoZStyLHQpfSxpLnByb3RvdHlwZS5fdXBkYXRlSW50Rm9yVW5pZm9ybT1mdW5jdGlvbihlLHQpe2kuX1RlbXBCdWZmZXJJbnQzMlZpZXdbMF09dCx0aGlzLnVwZGF0ZVVuaWZvcm0oZSxpLl9UZW1wQnVmZmVyLDEpfSxpLnByb3RvdHlwZS5fdXBkYXRlSW50MkZvckVmZmVjdD1mdW5jdGlvbihlLHQscixuKXtuPT09dm9pZCAwJiYobj0iIiksdGhpcy5fY3VycmVudEVmZmVjdC5zZXRJbnQyKGUrbix0LHIpfSxpLnByb3RvdHlwZS5fdXBkYXRlSW50MkZvclVuaWZvcm09ZnVuY3Rpb24oZSx0LHIpe2kuX1RlbXBCdWZmZXJJbnQzMlZpZXdbMF09dCxpLl9UZW1wQnVmZmVySW50MzJWaWV3WzFdPXIsdGhpcy51cGRhdGVVbmlmb3JtKGUsaS5fVGVtcEJ1ZmZlciwyKX0saS5wcm90b3R5cGUuX3VwZGF0ZUludDNGb3JFZmZlY3Q9ZnVuY3Rpb24oZSx0LHIsbixhKXthPT09dm9pZCAwJiYoYT0iIiksdGhpcy5fY3VycmVudEVmZmVjdC5zZXRJbnQzKGUrYSx0LHIsbil9LGkucHJvdG90eXBlLl91cGRhdGVJbnQzRm9yVW5pZm9ybT1mdW5jdGlvbihlLHQscixuKXtpLl9UZW1wQnVmZmVySW50MzJWaWV3WzBdPXQsaS5fVGVtcEJ1ZmZlckludDMyVmlld1sxXT1yLGkuX1RlbXBCdWZmZXJJbnQzMlZpZXdbMl09bix0aGlzLnVwZGF0ZVVuaWZvcm0oZSxpLl9UZW1wQnVmZmVyLDMpfSxpLnByb3RvdHlwZS5fdXBkYXRlSW50NEZvckVmZmVjdD1mdW5jdGlvbihlLHQscixuLGEscyl7cz09PXZvaWQgMCYmKHM9IiIpLHRoaXMuX2N1cnJlbnRFZmZlY3Quc2V0SW50NChlK3MsdCxyLG4sYSl9LGkucHJvdG90eXBlLl91cGRhdGVJbnQ0Rm9yVW5pZm9ybT1mdW5jdGlvbihlLHQscixuLGEpe2kuX1RlbXBCdWZmZXJJbnQzMlZpZXdbMF09dCxpLl9UZW1wQnVmZmVySW50MzJWaWV3WzFdPXIsaS5fVGVtcEJ1ZmZlckludDMyVmlld1syXT1uLGkuX1RlbXBCdWZmZXJJbnQzMlZpZXdbM109YSx0aGlzLnVwZGF0ZVVuaWZvcm0oZSxpLl9UZW1wQnVmZmVyLDQpfSxpLnByb3RvdHlwZS5zZXRUZXh0dXJlPWZ1bmN0aW9uKGUsdCl7dGhpcy5fY3VycmVudEVmZmVjdC5zZXRUZXh0dXJlKGUsdCl9LGkucHJvdG90eXBlLnVwZGF0ZVVuaWZvcm1EaXJlY3RseT1mdW5jdGlvbihlLHQpe3RoaXMudXBkYXRlVW5pZm9ybShlLHQsdC5sZW5ndGgpLHRoaXMudXBkYXRlKCl9LGkucHJvdG90eXBlLmJpbmRUb0VmZmVjdD1mdW5jdGlvbihlLHQpe3RoaXMuX2N1cnJlbnRFZmZlY3Q9ZSx0aGlzLl9jdXJyZW50RWZmZWN0TmFtZT10fSxpLnByb3RvdHlwZS5iaW5kVW5pZm9ybUJ1ZmZlcj1mdW5jdGlvbigpeyF0aGlzLl9ub1VCTyYmdGhpcy5fYnVmZmVyJiZ0aGlzLl9jdXJyZW50RWZmZWN0JiZ0aGlzLl9jdXJyZW50RWZmZWN0LmJpbmRVbmlmb3JtQnVmZmVyKHRoaXMuX2J1ZmZlcix0aGlzLl9jdXJyZW50RWZmZWN0TmFtZSl9LGkucHJvdG90eXBlLnVuYmluZEVmZmVjdD1mdW5jdGlvbigpe3RoaXMuX2N1cnJlbnRFZmZlY3Q9dm9pZCAwLHRoaXMuX2N1cnJlbnRFZmZlY3ROYW1lPXZvaWQgMH0saS5wcm90b3R5cGUuc2V0RGF0YUJ1ZmZlcj1mdW5jdGlvbihlKXtpZighdGhpcy5fYnVmZmVycylyZXR1cm4gdGhpcy5fYnVmZmVyPT09ZTtmb3IodmFyIHQ9MDt0PHRoaXMuX2J1ZmZlcnMubGVuZ3RoOysrdCl7dmFyIHI9dGhpcy5fYnVmZmVyc1t0XTtpZihyWzBdPT09ZSlyZXR1cm4gdGhpcy5fYnVmZmVySW5kZXg9dCx0aGlzLl9idWZmZXI9ZSx0aGlzLl9jcmVhdGVCdWZmZXJPbldyaXRlPSExLHRoaXMuX2N1cnJlbnRFZmZlY3Q9dm9pZCAwLCEwfXJldHVybiExfSxpLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7aWYoIXRoaXMuX25vVUJPKXt2YXIgZT10aGlzLl9lbmdpbmUuX3VuaWZvcm1CdWZmZXJzLHQ9ZS5pbmRleE9mKHRoaXMpO2lmKHQhPT0tMSYmKGVbdF09ZVtlLmxlbmd0aC0xXSxlLnBvcCgpKSx0aGlzLl9lbmdpbmUuX2ZlYXR1cmVzLnRyYWNrVWJvc0luRnJhbWUmJnRoaXMuX2J1ZmZlcnMpZm9yKHZhciByPTA7cjx0aGlzLl9idWZmZXJzLmxlbmd0aDsrK3Ipe3ZhciBuPXRoaXMuX2J1ZmZlcnNbcl1bMF07dGhpcy5fZW5naW5lLl9yZWxlYXNlQnVmZmVyKG4pfWVsc2UgdGhpcy5fYnVmZmVyJiZ0aGlzLl9lbmdpbmUuX3JlbGVhc2VCdWZmZXIodGhpcy5fYnVmZmVyKSYmKHRoaXMuX2J1ZmZlcj1udWxsKX19LGkuX1VwZGF0ZWRVYm9zSW5GcmFtZT17fSxpLl9NQVhfVU5JRk9STV9TSVpFPTI1NixpLl9UZW1wQnVmZmVyPW5ldyBGbG9hdDMyQXJyYXkoaS5fTUFYX1VOSUZPUk1fU0laRSksaS5fVGVtcEJ1ZmZlckludDMyVmlldz1uZXcgVWludDMyQXJyYXkoaS5fVGVtcEJ1ZmZlci5idWZmZXIpLGl9KCksU3I9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKGUsdCxyLG4sYSxzLG8sdSl7bj09PXZvaWQgMCYmKG49MCksYT09PXZvaWQgMCYmKGE9ITEpLHM9PT12b2lkIDAmJihzPSExKSxvPT09dm9pZCAwJiYobz0hMSksdGhpcy5faXNBbHJlYWR5T3duZWQ9ITEsZS5nZXRTY2VuZT90aGlzLl9lbmdpbmU9ZS5nZXRTY2VuZSgpLmdldEVuZ2luZSgpOnRoaXMuX2VuZ2luZT1lLHRoaXMuX3VwZGF0YWJsZT1yLHRoaXMuX2luc3RhbmNlZD1zLHRoaXMuX2Rpdmlzb3I9dXx8MSx0IGluc3RhbmNlb2YgQ2k/KHRoaXMuX2RhdGE9bnVsbCx0aGlzLl9idWZmZXI9dCk6KHRoaXMuX2RhdGE9dCx0aGlzLl9idWZmZXI9bnVsbCksdGhpcy5ieXRlU3RyaWRlPW8/bjpuKkZsb2F0MzJBcnJheS5CWVRFU19QRVJfRUxFTUVOVCxhfHx0aGlzLmNyZWF0ZSgpfXJldHVybiBpLnByb3RvdHlwZS5jcmVhdGVWZXJ0ZXhCdWZmZXI9ZnVuY3Rpb24oZSx0LHIsbixhLHMsbyl7cz09PXZvaWQgMCYmKHM9ITEpO3ZhciB1PXM/dDp0KkZsb2F0MzJBcnJheS5CWVRFU19QRVJfRUxFTUVOVCxmPW4/cz9uOm4qRmxvYXQzMkFycmF5LkJZVEVTX1BFUl9FTEVNRU5UOnRoaXMuYnl0ZVN0cmlkZTtyZXR1cm4gbmV3IG0odGhpcy5fZW5naW5lLHRoaXMsZSx0aGlzLl91cGRhdGFibGUsITAsZixhPT09dm9pZCAwP3RoaXMuX2luc3RhbmNlZDphLHUscix2b2lkIDAsdm9pZCAwLCEwLHRoaXMuX2Rpdmlzb3J8fG8pfSxpLnByb3RvdHlwZS5pc1VwZGF0YWJsZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl91cGRhdGFibGV9LGkucHJvdG90eXBlLmdldERhdGE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGF0YX0saS5wcm90b3R5cGUuZ2V0QnVmZmVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2J1ZmZlcn0saS5wcm90b3R5cGUuZ2V0U3RyaWRlU2l6ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmJ5dGVTdHJpZGUvRmxvYXQzMkFycmF5LkJZVEVTX1BFUl9FTEVNRU5UfSxpLnByb3RvdHlwZS5jcmVhdGU9ZnVuY3Rpb24oZSl7ZT09PXZvaWQgMCYmKGU9bnVsbCksISghZSYmdGhpcy5fYnVmZmVyKSYmKGU9ZXx8dGhpcy5fZGF0YSxlJiYodGhpcy5fYnVmZmVyP3RoaXMuX3VwZGF0YWJsZSYmKHRoaXMuX2VuZ2luZS51cGRhdGVEeW5hbWljVmVydGV4QnVmZmVyKHRoaXMuX2J1ZmZlcixlKSx0aGlzLl9kYXRhPWUpOnRoaXMuX3VwZGF0YWJsZT8odGhpcy5fYnVmZmVyPXRoaXMuX2VuZ2luZS5jcmVhdGVEeW5hbWljVmVydGV4QnVmZmVyKGUpLHRoaXMuX2RhdGE9ZSk6dGhpcy5fYnVmZmVyPXRoaXMuX2VuZ2luZS5jcmVhdGVWZXJ0ZXhCdWZmZXIoZSkpKX0saS5wcm90b3R5cGUuX3JlYnVpbGQ9ZnVuY3Rpb24oKXt0aGlzLl9idWZmZXI9bnVsbCx0aGlzLmNyZWF0ZSh0aGlzLl9kYXRhKX0saS5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKGUpe3RoaXMuY3JlYXRlKGUpfSxpLnByb3RvdHlwZS51cGRhdGVEaXJlY3RseT1mdW5jdGlvbihlLHQscixuKXtuPT09dm9pZCAwJiYobj0hMSksISF0aGlzLl9idWZmZXImJnRoaXMuX3VwZGF0YWJsZSYmKHRoaXMuX2VuZ2luZS51cGRhdGVEeW5hbWljVmVydGV4QnVmZmVyKHRoaXMuX2J1ZmZlcixlLG4/dDp0KkZsb2F0MzJBcnJheS5CWVRFU19QRVJfRUxFTUVOVCxyP3IqdGhpcy5ieXRlU3RyaWRlOnZvaWQgMCksdD09PTAmJnI9PT12b2lkIDA/dGhpcy5fZGF0YT1lOnRoaXMuX2RhdGE9bnVsbCl9LGkucHJvdG90eXBlLl9pbmNyZWFzZVJlZmVyZW5jZXM9ZnVuY3Rpb24oKXtpZighIXRoaXMuX2J1ZmZlcil7aWYoIXRoaXMuX2lzQWxyZWFkeU93bmVkKXt0aGlzLl9pc0FscmVhZHlPd25lZD0hMDtyZXR1cm59dGhpcy5fYnVmZmVyLnJlZmVyZW5jZXMrK319LGkucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXshdGhpcy5fYnVmZmVyfHx0aGlzLl9lbmdpbmUuX3JlbGVhc2VCdWZmZXIodGhpcy5fYnVmZmVyKSYmKHRoaXMuX2J1ZmZlcj1udWxsLHRoaXMuX2RhdGE9bnVsbCl9LGl9KCksbT1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoZSx0LHIsbixhLHMsbyx1LGYsbCxoLGMsZCxwKXtpZihoPT09dm9pZCAwJiYoaD0hMSksYz09PXZvaWQgMCYmKGM9ITEpLGQ9PT12b2lkIDAmJihkPTEpLHA9PT12b2lkIDAmJihwPSExKSx0IGluc3RhbmNlb2YgU3I/KHRoaXMuX2J1ZmZlcj10LHRoaXMuX293bnNCdWZmZXI9cCk6KHRoaXMuX2J1ZmZlcj1uZXcgU3IoZSx0LG4scyxhLG8sYyksdGhpcy5fb3duc0J1ZmZlcj0hMCksdGhpcy51bmlxdWVJZD1pLl9Db3VudGVyKyssdGhpcy5fa2luZD1yLGw9PW51bGwpe3ZhciBnPXRoaXMuZ2V0RGF0YSgpO3RoaXMudHlwZT1pLkZMT0FULGcgaW5zdGFuY2VvZiBJbnQ4QXJyYXk/dGhpcy50eXBlPWkuQllURTpnIGluc3RhbmNlb2YgVWludDhBcnJheT90aGlzLnR5cGU9aS5VTlNJR05FRF9CWVRFOmcgaW5zdGFuY2VvZiBJbnQxNkFycmF5P3RoaXMudHlwZT1pLlNIT1JUOmcgaW5zdGFuY2VvZiBVaW50MTZBcnJheT90aGlzLnR5cGU9aS5VTlNJR05FRF9TSE9SVDpnIGluc3RhbmNlb2YgSW50MzJBcnJheT90aGlzLnR5cGU9aS5JTlQ6ZyBpbnN0YW5jZW9mIFVpbnQzMkFycmF5JiYodGhpcy50eXBlPWkuVU5TSUdORURfSU5UKX1lbHNlIHRoaXMudHlwZT1sO3ZhciBfPWkuR2V0VHlwZUJ5dGVMZW5ndGgodGhpcy50eXBlKTtjPyh0aGlzLl9zaXplPWZ8fChzP3MvXzppLkRlZHVjZVN0cmlkZShyKSksdGhpcy5ieXRlU3RyaWRlPXN8fHRoaXMuX2J1ZmZlci5ieXRlU3RyaWRlfHx0aGlzLl9zaXplKl8sdGhpcy5ieXRlT2Zmc2V0PXV8fDApOih0aGlzLl9zaXplPWZ8fHN8fGkuRGVkdWNlU3RyaWRlKHIpLHRoaXMuYnl0ZVN0cmlkZT1zP3MqXzp0aGlzLl9idWZmZXIuYnl0ZVN0cmlkZXx8dGhpcy5fc2l6ZSpfLHRoaXMuYnl0ZU9mZnNldD0odXx8MCkqXyksdGhpcy5ub3JtYWxpemVkPWgsdGhpcy5faW5zdGFuY2VkPW8hPT12b2lkIDA/bzohMSx0aGlzLl9pbnN0YW5jZURpdmlzb3I9bz9kOjAsdGhpcy5fY29tcHV0ZUhhc2hDb2RlKCl9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiaW5zdGFuY2VEaXZpc29yIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2luc3RhbmNlRGl2aXNvcn0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX2luc3RhbmNlRGl2aXNvcj1lLGU9PTA/dGhpcy5faW5zdGFuY2VkPSExOnRoaXMuX2luc3RhbmNlZD0hMCx0aGlzLl9jb21wdXRlSGFzaENvZGUoKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLnByb3RvdHlwZS5fY29tcHV0ZUhhc2hDb2RlPWZ1bmN0aW9uKCl7dGhpcy5oYXNoQ29kZT0odGhpcy50eXBlLTUxMjA8PDApKygodGhpcy5ub3JtYWxpemVkPzE6MCk8PDMpKyh0aGlzLl9zaXplPDw0KSsoKHRoaXMuX2luc3RhbmNlZD8xOjApPDw2KSsodGhpcy5ieXRlU3RyaWRlPDwxMil9LGkucHJvdG90eXBlLl9yZWJ1aWxkPWZ1bmN0aW9uKCl7IXRoaXMuX2J1ZmZlcnx8dGhpcy5fYnVmZmVyLl9yZWJ1aWxkKCl9LGkucHJvdG90eXBlLmdldEtpbmQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fa2luZH0saS5wcm90b3R5cGUuaXNVcGRhdGFibGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYnVmZmVyLmlzVXBkYXRhYmxlKCl9LGkucHJvdG90eXBlLmdldERhdGE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYnVmZmVyLmdldERhdGEoKX0saS5wcm90b3R5cGUuZ2V0RmxvYXREYXRhPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy5nZXREYXRhKCk7aWYoIXIpcmV0dXJuIG51bGw7dmFyIG49dGhpcy5nZXRTaXplKCkqaS5HZXRUeXBlQnl0ZUxlbmd0aCh0aGlzLnR5cGUpLGE9ZSp0aGlzLmdldFNpemUoKTtpZih0aGlzLnR5cGUhPT1pLkZMT0FUfHx0aGlzLmJ5dGVTdHJpZGUhPT1uKXt2YXIgcz1uZXcgRmxvYXQzMkFycmF5KGEpO3JldHVybiB0aGlzLmZvckVhY2goYSxmdW5jdGlvbihoLGMpe3JldHVybiBzW2NdPWh9KSxzfWlmKCEociBpbnN0YW5jZW9mIEFycmF5fHxyIGluc3RhbmNlb2YgRmxvYXQzMkFycmF5KXx8dGhpcy5ieXRlT2Zmc2V0IT09MHx8ci5sZW5ndGghPT1hKWlmKHIgaW5zdGFuY2VvZiBBcnJheSl7dmFyIG89dGhpcy5ieXRlT2Zmc2V0LzQ7cmV0dXJuIHIuc2xpY2UobyxvK2EpfWVsc2V7aWYociBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKXJldHVybiBuZXcgRmxvYXQzMkFycmF5KHIsdGhpcy5ieXRlT2Zmc2V0LGEpO3ZhciBvPXIuYnl0ZU9mZnNldCt0aGlzLmJ5dGVPZmZzZXQ7aWYodCl7dmFyIHU9bmV3IEZsb2F0MzJBcnJheShhKSxmPW5ldyBGbG9hdDMyQXJyYXkoci5idWZmZXIsbyxhKTtyZXR1cm4gdS5zZXQoZiksdX12YXIgbD1vJTQ7cmV0dXJuIGwmJihvPU1hdGgubWF4KDAsby1sKSksbmV3IEZsb2F0MzJBcnJheShyLmJ1ZmZlcixvLGEpfXJldHVybiB0P3Iuc2xpY2UoKTpyfSxpLnByb3RvdHlwZS5nZXRCdWZmZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYnVmZmVyLmdldEJ1ZmZlcigpfSxpLnByb3RvdHlwZS5nZXRTdHJpZGVTaXplPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYnl0ZVN0cmlkZS9pLkdldFR5cGVCeXRlTGVuZ3RoKHRoaXMudHlwZSl9LGkucHJvdG90eXBlLmdldE9mZnNldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmJ5dGVPZmZzZXQvaS5HZXRUeXBlQnl0ZUxlbmd0aCh0aGlzLnR5cGUpfSxpLnByb3RvdHlwZS5nZXRTaXplPWZ1bmN0aW9uKGUpe3JldHVybiBlPT09dm9pZCAwJiYoZT0hMSksZT90aGlzLl9zaXplKmkuR2V0VHlwZUJ5dGVMZW5ndGgodGhpcy50eXBlKTp0aGlzLl9zaXplfSxpLnByb3RvdHlwZS5nZXRJc0luc3RhbmNlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbnN0YW5jZWR9LGkucHJvdG90eXBlLmdldEluc3RhbmNlRGl2aXNvcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbnN0YW5jZURpdmlzb3J9LGkucHJvdG90eXBlLmNyZWF0ZT1mdW5jdGlvbihlKXt0aGlzLl9idWZmZXIuY3JlYXRlKGUpfSxpLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24oZSl7dGhpcy5fYnVmZmVyLnVwZGF0ZShlKX0saS5wcm90b3R5cGUudXBkYXRlRGlyZWN0bHk9ZnVuY3Rpb24oZSx0LHIpe3I9PT12b2lkIDAmJihyPSExKSx0aGlzLl9idWZmZXIudXBkYXRlRGlyZWN0bHkoZSx0LHZvaWQgMCxyKX0saS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3RoaXMuX293bnNCdWZmZXImJnRoaXMuX2J1ZmZlci5kaXNwb3NlKCl9LGkucHJvdG90eXBlLmZvckVhY2g9ZnVuY3Rpb24oZSx0KXtpLkZvckVhY2godGhpcy5fYnVmZmVyLmdldERhdGEoKSx0aGlzLmJ5dGVPZmZzZXQsdGhpcy5ieXRlU3RyaWRlLHRoaXMuX3NpemUsdGhpcy50eXBlLGUsdGhpcy5ub3JtYWxpemVkLHQpfSxpLkRlZHVjZVN0cmlkZT1mdW5jdGlvbihlKXtzd2l0Y2goZSl7Y2FzZSBpLlVWS2luZDpjYXNlIGkuVVYyS2luZDpjYXNlIGkuVVYzS2luZDpjYXNlIGkuVVY0S2luZDpjYXNlIGkuVVY1S2luZDpjYXNlIGkuVVY2S2luZDpyZXR1cm4gMjtjYXNlIGkuTm9ybWFsS2luZDpjYXNlIGkuUG9zaXRpb25LaW5kOnJldHVybiAzO2Nhc2UgaS5Db2xvcktpbmQ6Y2FzZSBpLk1hdHJpY2VzSW5kaWNlc0tpbmQ6Y2FzZSBpLk1hdHJpY2VzSW5kaWNlc0V4dHJhS2luZDpjYXNlIGkuTWF0cmljZXNXZWlnaHRzS2luZDpjYXNlIGkuTWF0cmljZXNXZWlnaHRzRXh0cmFLaW5kOmNhc2UgaS5UYW5nZW50S2luZDpyZXR1cm4gNDtkZWZhdWx0OnRocm93IG5ldyBFcnJvcigiSW52YWxpZCBraW5kICciK2UrIiciKX19LGkuR2V0VHlwZUJ5dGVMZW5ndGg9ZnVuY3Rpb24oZSl7c3dpdGNoKGUpe2Nhc2UgaS5CWVRFOmNhc2UgaS5VTlNJR05FRF9CWVRFOnJldHVybiAxO2Nhc2UgaS5TSE9SVDpjYXNlIGkuVU5TSUdORURfU0hPUlQ6cmV0dXJuIDI7Y2FzZSBpLklOVDpjYXNlIGkuVU5TSUdORURfSU5UOmNhc2UgaS5GTE9BVDpyZXR1cm4gNDtkZWZhdWx0OnRocm93IG5ldyBFcnJvcigiSW52YWxpZCB0eXBlICciLmNvbmNhdChlLCInIikpfX0saS5Gb3JFYWNoPWZ1bmN0aW9uKGUsdCxyLG4sYSxzLG8sdSl7aWYoZSBpbnN0YW5jZW9mIEFycmF5KWZvcih2YXIgZj10LzQsbD1yLzQsaD0wO2g8cztoKz1uKXtmb3IodmFyIGM9MDtjPG47YysrKXUoZVtmK2NdLGgrYyk7Zis9bH1lbHNlIGZvcih2YXIgZD1lIGluc3RhbmNlb2YgQXJyYXlCdWZmZXI/bmV3IERhdGFWaWV3KGUpOm5ldyBEYXRhVmlldyhlLmJ1ZmZlcixlLmJ5dGVPZmZzZXQsZS5ieXRlTGVuZ3RoKSxwPWkuR2V0VHlwZUJ5dGVMZW5ndGgoYSksaD0wO2g8cztoKz1uKXtmb3IodmFyIGc9dCxjPTA7YzxuO2MrKyl7dmFyIF89aS5fR2V0RmxvYXRWYWx1ZShkLGEsZyxvKTt1KF8saCtjKSxnKz1wfXQrPXJ9fSxpLl9HZXRGbG9hdFZhbHVlPWZ1bmN0aW9uKGUsdCxyLG4pe3N3aXRjaCh0KXtjYXNlIGkuQllURTp7dmFyIGE9ZS5nZXRJbnQ4KHIpO3JldHVybiBuJiYoYT1NYXRoLm1heChhLzEyNywtMSkpLGF9Y2FzZSBpLlVOU0lHTkVEX0JZVEU6e3ZhciBhPWUuZ2V0VWludDgocik7cmV0dXJuIG4mJihhPWEvMjU1KSxhfWNhc2UgaS5TSE9SVDp7dmFyIGE9ZS5nZXRJbnQxNihyLCEwKTtyZXR1cm4gbiYmKGE9TWF0aC5tYXgoYS8zMjc2NywtMSkpLGF9Y2FzZSBpLlVOU0lHTkVEX1NIT1JUOnt2YXIgYT1lLmdldFVpbnQxNihyLCEwKTtyZXR1cm4gbiYmKGE9YS82NTUzNSksYX1jYXNlIGkuSU5UOnJldHVybiBlLmdldEludDMyKHIsITApO2Nhc2UgaS5VTlNJR05FRF9JTlQ6cmV0dXJuIGUuZ2V0VWludDMyKHIsITApO2Nhc2UgaS5GTE9BVDpyZXR1cm4gZS5nZXRGbG9hdDMyKHIsITApO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIGNvbXBvbmVudCB0eXBlICIuY29uY2F0KHQpKX19LGkuX0NvdW50ZXI9MCxpLkJZVEU9NTEyMCxpLlVOU0lHTkVEX0JZVEU9NTEyMSxpLlNIT1JUPTUxMjIsaS5VTlNJR05FRF9TSE9SVD01MTIzLGkuSU5UPTUxMjQsaS5VTlNJR05FRF9JTlQ9NTEyNSxpLkZMT0FUPTUxMjYsaS5Qb3NpdGlvbktpbmQ9InBvc2l0aW9uIixpLk5vcm1hbEtpbmQ9Im5vcm1hbCIsaS5UYW5nZW50S2luZD0idGFuZ2VudCIsaS5VVktpbmQ9InV2IixpLlVWMktpbmQ9InV2MiIsaS5VVjNLaW5kPSJ1djMiLGkuVVY0S2luZD0idXY0IixpLlVWNUtpbmQ9InV2NSIsaS5VVjZLaW5kPSJ1djYiLGkuQ29sb3JLaW5kPSJjb2xvciIsaS5Db2xvckluc3RhbmNlS2luZD0iaW5zdGFuY2VDb2xvciIsaS5NYXRyaWNlc0luZGljZXNLaW5kPSJtYXRyaWNlc0luZGljZXMiLGkuTWF0cmljZXNXZWlnaHRzS2luZD0ibWF0cmljZXNXZWlnaHRzIixpLk1hdHJpY2VzSW5kaWNlc0V4dHJhS2luZD0ibWF0cmljZXNJbmRpY2VzRXh0cmEiLGkuTWF0cmljZXNXZWlnaHRzRXh0cmFLaW5kPSJtYXRyaWNlc1dlaWdodHNFeHRyYSIsaX0oKSxRZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoKXt0aGlzLl9waWNraW5nVW5hdmFpbGFibGU9ITEsdGhpcy5oaXQ9ITEsdGhpcy5kaXN0YW5jZT0wLHRoaXMucGlja2VkUG9pbnQ9bnVsbCx0aGlzLnBpY2tlZE1lc2g9bnVsbCx0aGlzLmJ1PTAsdGhpcy5idj0wLHRoaXMuZmFjZUlkPS0xLHRoaXMuc3ViTWVzaEZhY2VJZD0tMSx0aGlzLnN1Yk1lc2hJZD0wLHRoaXMucGlja2VkU3ByaXRlPW51bGwsdGhpcy50aGluSW5zdGFuY2VJbmRleD0tMSx0aGlzLnJheT1udWxsLHRoaXMub3JpZ2luTWVzaD1udWxsLHRoaXMuYWltVHJhbnNmb3JtPW51bGwsdGhpcy5ncmlwVHJhbnNmb3JtPW51bGx9cmV0dXJuIGkucHJvdG90eXBlLmdldE5vcm1hbD1mdW5jdGlvbihlLHQpe2lmKGU9PT12b2lkIDAmJihlPSExKSx0PT09dm9pZCAwJiYodD0hMCksIXRoaXMucGlja2VkTWVzaHx8IXRoaXMucGlja2VkTWVzaC5pc1ZlcnRpY2VzRGF0YVByZXNlbnQobS5Ob3JtYWxLaW5kKSlyZXR1cm4gbnVsbDt2YXIgcj10aGlzLnBpY2tlZE1lc2guZ2V0SW5kaWNlcygpO2lmKCFyKXJldHVybiBudWxsO3ZhciBuO2lmKHQpe3ZhciBhPXRoaXMucGlja2VkTWVzaC5nZXRWZXJ0aWNlc0RhdGEobS5Ob3JtYWxLaW5kKSxzPWIuRnJvbUFycmF5KGEsclt0aGlzLmZhY2VJZCozXSozKSxvPWIuRnJvbUFycmF5KGEsclt0aGlzLmZhY2VJZCozKzFdKjMpLHU9Yi5Gcm9tQXJyYXkoYSxyW3RoaXMuZmFjZUlkKjMrMl0qMyk7cz1zLnNjYWxlKHRoaXMuYnUpLG89by5zY2FsZSh0aGlzLmJ2KSx1PXUuc2NhbGUoMS10aGlzLmJ1LXRoaXMuYnYpLG49bmV3IGIocy54K28ueCt1Lngscy55K28ueSt1Lnkscy56K28ueit1LnopfWVsc2V7dmFyIGY9dGhpcy5waWNrZWRNZXNoLmdldFZlcnRpY2VzRGF0YShtLlBvc2l0aW9uS2luZCksbD1iLkZyb21BcnJheShmLHJbdGhpcy5mYWNlSWQqM10qMyksaD1iLkZyb21BcnJheShmLHJbdGhpcy5mYWNlSWQqMysxXSozKSxjPWIuRnJvbUFycmF5KGYsclt0aGlzLmZhY2VJZCozKzJdKjMpLGQ9bC5zdWJ0cmFjdChoKSxwPWMuc3VidHJhY3QoaCk7bj1iLkNyb3NzKGQscCl9aWYoZSl7dmFyIGc9dGhpcy5waWNrZWRNZXNoLmdldFdvcmxkTWF0cml4KCk7dGhpcy5waWNrZWRNZXNoLm5vblVuaWZvcm1TY2FsaW5nJiYoRC5NYXRyaXhbMF0uY29weUZyb20oZyksZz1ELk1hdHJpeFswXSxnLnNldFRyYW5zbGF0aW9uRnJvbUZsb2F0cygwLDAsMCksZy5pbnZlcnQoKSxnLnRyYW5zcG9zZVRvUmVmKEQuTWF0cml4WzFdKSxnPUQuTWF0cml4WzFdKSxuPWIuVHJhbnNmb3JtTm9ybWFsKG4sZyl9cmV0dXJuIG4ubm9ybWFsaXplKCksbn0saS5wcm90b3R5cGUuZ2V0VGV4dHVyZUNvb3JkaW5hdGVzPWZ1bmN0aW9uKCl7aWYoIXRoaXMucGlja2VkTWVzaHx8IXRoaXMucGlja2VkTWVzaC5pc1ZlcnRpY2VzRGF0YVByZXNlbnQobS5VVktpbmQpKXJldHVybiBudWxsO3ZhciBlPXRoaXMucGlja2VkTWVzaC5nZXRJbmRpY2VzKCk7aWYoIWUpcmV0dXJuIG51bGw7dmFyIHQ9dGhpcy5waWNrZWRNZXNoLmdldFZlcnRpY2VzRGF0YShtLlVWS2luZCk7aWYoIXQpcmV0dXJuIG51bGw7dmFyIHI9U2UuRnJvbUFycmF5KHQsZVt0aGlzLmZhY2VJZCozXSoyKSxuPVNlLkZyb21BcnJheSh0LGVbdGhpcy5mYWNlSWQqMysxXSoyKSxhPVNlLkZyb21BcnJheSh0LGVbdGhpcy5mYWNlSWQqMysyXSoyKTtyZXR1cm4gcj1yLnNjYWxlKHRoaXMuYnUpLG49bi5zY2FsZSh0aGlzLmJ2KSxhPWEuc2NhbGUoMS10aGlzLmJ1LXRoaXMuYnYpLG5ldyBTZShyLngrbi54K2EueCxyLnkrbi55K2EueSl9LGl9KCksTmU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKGUsdCxyLG4sYSxzKXt0aGlzLnNvdXJjZT1lLHRoaXMucG9pbnRlclg9dCx0aGlzLnBvaW50ZXJZPXIsdGhpcy5tZXNoVW5kZXJQb2ludGVyPW4sdGhpcy5zb3VyY2VFdmVudD1hLHRoaXMuYWRkaXRpb25hbERhdGE9c31yZXR1cm4gaS5DcmVhdGVOZXc9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUuZ2V0U2NlbmUoKTtyZXR1cm4gbmV3IGkoZSxuLnBvaW50ZXJYLG4ucG9pbnRlclksbi5tZXNoVW5kZXJQb2ludGVyfHxlLHQscil9LGkuQ3JlYXRlTmV3RnJvbVNwcml0ZT1mdW5jdGlvbihlLHQscixuKXtyZXR1cm4gbmV3IGkoZSx0LnBvaW50ZXJYLHQucG9pbnRlclksdC5tZXNoVW5kZXJQb2ludGVyLHIsbil9LGkuQ3JlYXRlTmV3RnJvbVNjZW5lPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG5ldyBpKG51bGwsZS5wb2ludGVyWCxlLnBvaW50ZXJZLGUubWVzaFVuZGVyUG9pbnRlcix0KX0saS5DcmVhdGVOZXdGcm9tUHJpbWl0aXZlPWZ1bmN0aW9uKGUsdCxyLG4pe3JldHVybiBuZXcgaShlLHQueCx0LnksbnVsbCxyLG4pfSxpfSgpLE1yPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaShlKXt0aGlzLl92ZXJ0ZXhCdWZmZXJzPXt9LHRoaXMuX3NjZW5lPWV9cmV0dXJuIGkucHJvdG90eXBlLl9wcmVwYXJlQnVmZmVycz1mdW5jdGlvbigpe2lmKCF0aGlzLl92ZXJ0ZXhCdWZmZXJzW20uUG9zaXRpb25LaW5kXSl7dmFyIGU9W107ZS5wdXNoKDEsMSksZS5wdXNoKC0xLDEpLGUucHVzaCgtMSwtMSksZS5wdXNoKDEsLTEpLHRoaXMuX3ZlcnRleEJ1ZmZlcnNbbS5Qb3NpdGlvbktpbmRdPW5ldyBtKHRoaXMuX3NjZW5lLmdldEVuZ2luZSgpLGUsbS5Qb3NpdGlvbktpbmQsITEsITEsMiksdGhpcy5fYnVpbGRJbmRleEJ1ZmZlcigpfX0saS5wcm90b3R5cGUuX2J1aWxkSW5kZXhCdWZmZXI9ZnVuY3Rpb24oKXt2YXIgZT1bXTtlLnB1c2goMCksZS5wdXNoKDEpLGUucHVzaCgyKSxlLnB1c2goMCksZS5wdXNoKDIpLGUucHVzaCgzKSx0aGlzLl9pbmRleEJ1ZmZlcj10aGlzLl9zY2VuZS5nZXRFbmdpbmUoKS5jcmVhdGVJbmRleEJ1ZmZlcihlKX0saS5wcm90b3R5cGUuX3JlYnVpbGQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLl92ZXJ0ZXhCdWZmZXJzW20uUG9zaXRpb25LaW5kXTshZXx8KGUuX3JlYnVpbGQoKSx0aGlzLl9idWlsZEluZGV4QnVmZmVyKCkpfSxpLnByb3RvdHlwZS5fcHJlcGFyZUZyYW1lPWZ1bmN0aW9uKGUsdCl7ZT09PXZvaWQgMCYmKGU9bnVsbCksdD09PXZvaWQgMCYmKHQ9bnVsbCk7dmFyIHI9dGhpcy5fc2NlbmUuYWN0aXZlQ2FtZXJhO3JldHVybiFyfHwodD10fHxyLl9wb3N0UHJvY2Vzc2VzLmZpbHRlcihmdW5jdGlvbihuKXtyZXR1cm4gbiE9bnVsbH0pLCF0fHx0Lmxlbmd0aD09PTB8fCF0aGlzLl9zY2VuZS5wb3N0UHJvY2Vzc2VzRW5hYmxlZCk/ITE6KHRbMF0uYWN0aXZhdGUocixlLHQhPW51bGwpLCEwKX0saS5wcm90b3R5cGUuZGlyZWN0UmVuZGVyPWZ1bmN0aW9uKGUsdCxyLG4sYSxzKXt2YXIgbzt0PT09dm9pZCAwJiYodD1udWxsKSxyPT09dm9pZCAwJiYocj0hMSksbj09PXZvaWQgMCYmKG49MCksYT09PXZvaWQgMCYmKGE9MCkscz09PXZvaWQgMCYmKHM9ITEpO2Zvcih2YXIgdT10aGlzLl9zY2VuZS5nZXRFbmdpbmUoKSxmPTA7ZjxlLmxlbmd0aDtmKyspe2Y8ZS5sZW5ndGgtMT9lW2YrMV0uYWN0aXZhdGUodGhpcy5fc2NlbmUuYWN0aXZlQ2FtZXJhLHQ9PW51bGw/dm9pZCAwOnQudGV4dHVyZSk6KHQ/dS5iaW5kRnJhbWVidWZmZXIodCxuLHZvaWQgMCx2b2lkIDAscixhKTpzfHx1LnJlc3RvcmVEZWZhdWx0RnJhbWVidWZmZXIoKSwobz11Ll9kZWJ1Z0luc2VydE1hcmtlcik9PT1udWxsfHxvPT09dm9pZCAwfHxvLmNhbGwodSwicG9zdCBwcm9jZXNzICIuY29uY2F0KGVbZl0ubmFtZSwiIG91dHB1dCIpKSk7dmFyIGw9ZVtmXSxoPWwuYXBwbHkoKTtoJiYobC5vbkJlZm9yZVJlbmRlck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGgpLHRoaXMuX3ByZXBhcmVCdWZmZXJzKCksdS5iaW5kQnVmZmVycyh0aGlzLl92ZXJ0ZXhCdWZmZXJzLHRoaXMuX2luZGV4QnVmZmVyLGgpLHUuZHJhd0VsZW1lbnRzVHlwZSgwLDAsNiksbC5vbkFmdGVyUmVuZGVyT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoaCkpfXUuc2V0RGVwdGhCdWZmZXIoITApLHUuc2V0RGVwdGhXcml0ZSghMCl9LGkucHJvdG90eXBlLl9maW5hbGl6ZUZyYW1lPWZ1bmN0aW9uKGUsdCxyLG4sYSl7dmFyIHM7YT09PXZvaWQgMCYmKGE9ITEpO3ZhciBvPXRoaXMuX3NjZW5lLmFjdGl2ZUNhbWVyYTtpZighIW8mJihuPW58fG8uX3Bvc3RQcm9jZXNzZXMuZmlsdGVyKGZ1bmN0aW9uKGQpe3JldHVybiBkIT1udWxsfSksIShuLmxlbmd0aD09PTB8fCF0aGlzLl9zY2VuZS5wb3N0UHJvY2Vzc2VzRW5hYmxlZCkpKXtmb3IodmFyIHU9dGhpcy5fc2NlbmUuZ2V0RW5naW5lKCksZj0wLGw9bi5sZW5ndGg7ZjxsO2YrKyl7dmFyIGg9bltmXTtpZihmPGwtMT9oLl9vdXRwdXRUZXh0dXJlPW5bZisxXS5hY3RpdmF0ZShvLHQ9PW51bGw/dm9pZCAwOnQudGV4dHVyZSk6KHQ/KHUuYmluZEZyYW1lYnVmZmVyKHQscix2b2lkIDAsdm9pZCAwLGEpLGguX291dHB1dFRleHR1cmU9dCk6KHUucmVzdG9yZURlZmF1bHRGcmFtZWJ1ZmZlcigpLGguX291dHB1dFRleHR1cmU9bnVsbCksKHM9dS5fZGVidWdJbnNlcnRNYXJrZXIpPT09bnVsbHx8cz09PXZvaWQgMHx8cy5jYWxsKHUsInBvc3QgcHJvY2VzcyAiLmNvbmNhdChuW2ZdLm5hbWUsIiBvdXRwdXQiKSkpLGUpYnJlYWs7dmFyIGM9aC5hcHBseSgpO2MmJihoLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoYyksdGhpcy5fcHJlcGFyZUJ1ZmZlcnMoKSx1LmJpbmRCdWZmZXJzKHRoaXMuX3ZlcnRleEJ1ZmZlcnMsdGhpcy5faW5kZXhCdWZmZXIsYyksdS5kcmF3RWxlbWVudHNUeXBlKDAsMCw2KSxoLm9uQWZ0ZXJSZW5kZXJPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhjKSl9dS5zZXREZXB0aEJ1ZmZlcighMCksdS5zZXREZXB0aFdyaXRlKCEwKSx1LnNldEFscGhhTW9kZSgwKX19LGkucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLl92ZXJ0ZXhCdWZmZXJzW20uUG9zaXRpb25LaW5kXTtlJiYoZS5kaXNwb3NlKCksdGhpcy5fdmVydGV4QnVmZmVyc1ttLlBvc2l0aW9uS2luZF09bnVsbCksdGhpcy5faW5kZXhCdWZmZXImJih0aGlzLl9zY2VuZS5nZXRFbmdpbmUoKS5fcmVsZWFzZUJ1ZmZlcih0aGlzLl9pbmRleEJ1ZmZlciksdGhpcy5faW5kZXhCdWZmZXI9bnVsbCl9LGl9KCksY2E9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKGUsdCxyLG4sYSl7cj09PXZvaWQgMCYmKHI9bnVsbCksbj09PXZvaWQgMCYmKG49bnVsbCksYT09PXZvaWQgMCYmKGE9bnVsbCksdGhpcy5pbmRleD1lLHRoaXMuX29wYXF1ZVN1Yk1lc2hlcz1uZXcgVmUoMjU2KSx0aGlzLl90cmFuc3BhcmVudFN1Yk1lc2hlcz1uZXcgVmUoMjU2KSx0aGlzLl9hbHBoYVRlc3RTdWJNZXNoZXM9bmV3IFZlKDI1NiksdGhpcy5fZGVwdGhPbmx5U3ViTWVzaGVzPW5ldyBWZSgyNTYpLHRoaXMuX3BhcnRpY2xlU3lzdGVtcz1uZXcgVmUoMjU2KSx0aGlzLl9zcHJpdGVNYW5hZ2Vycz1uZXcgVmUoMjU2KSx0aGlzLl9lbXB0eT0hMCx0aGlzLl9lZGdlc1JlbmRlcmVycz1uZXcgT3QoMTYpLHRoaXMuX3NjZW5lPXQsdGhpcy5vcGFxdWVTb3J0Q29tcGFyZUZuPXIsdGhpcy5hbHBoYVRlc3RTb3J0Q29tcGFyZUZuPW4sdGhpcy50cmFuc3BhcmVudFNvcnRDb21wYXJlRm49YX1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJvcGFxdWVTb3J0Q29tcGFyZUZuIix7c2V0OmZ1bmN0aW9uKGUpe2U/dGhpcy5fb3BhcXVlU29ydENvbXBhcmVGbj1lOnRoaXMuX29wYXF1ZVNvcnRDb21wYXJlRm49aS5QYWludGVyU29ydENvbXBhcmUsdGhpcy5fcmVuZGVyT3BhcXVlPXRoaXMuX3JlbmRlck9wYXF1ZVNvcnRlZH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImFscGhhVGVzdFNvcnRDb21wYXJlRm4iLHtzZXQ6ZnVuY3Rpb24oZSl7ZT90aGlzLl9hbHBoYVRlc3RTb3J0Q29tcGFyZUZuPWU6dGhpcy5fYWxwaGFUZXN0U29ydENvbXBhcmVGbj1pLlBhaW50ZXJTb3J0Q29tcGFyZSx0aGlzLl9yZW5kZXJBbHBoYVRlc3Q9dGhpcy5fcmVuZGVyQWxwaGFUZXN0U29ydGVkfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwidHJhbnNwYXJlbnRTb3J0Q29tcGFyZUZuIix7c2V0OmZ1bmN0aW9uKGUpe2U/dGhpcy5fdHJhbnNwYXJlbnRTb3J0Q29tcGFyZUZuPWU6dGhpcy5fdHJhbnNwYXJlbnRTb3J0Q29tcGFyZUZuPWkuZGVmYXVsdFRyYW5zcGFyZW50U29ydENvbXBhcmUsdGhpcy5fcmVuZGVyVHJhbnNwYXJlbnQ9dGhpcy5fcmVuZGVyVHJhbnNwYXJlbnRTb3J0ZWR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksaS5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKGUsdCxyLG4pe2lmKGUpe2UodGhpcy5fb3BhcXVlU3ViTWVzaGVzLHRoaXMuX2FscGhhVGVzdFN1Yk1lc2hlcyx0aGlzLl90cmFuc3BhcmVudFN1Yk1lc2hlcyx0aGlzLl9kZXB0aE9ubHlTdWJNZXNoZXMpO3JldHVybn12YXIgYT10aGlzLl9zY2VuZS5nZXRFbmdpbmUoKTt0aGlzLl9kZXB0aE9ubHlTdWJNZXNoZXMubGVuZ3RoIT09MCYmKGEuc2V0Q29sb3JXcml0ZSghMSksdGhpcy5fcmVuZGVyQWxwaGFUZXN0KHRoaXMuX2RlcHRoT25seVN1Yk1lc2hlcyksYS5zZXRDb2xvcldyaXRlKCEwKSksdGhpcy5fb3BhcXVlU3ViTWVzaGVzLmxlbmd0aCE9PTAmJnRoaXMuX3JlbmRlck9wYXF1ZSh0aGlzLl9vcGFxdWVTdWJNZXNoZXMpLHRoaXMuX2FscGhhVGVzdFN1Yk1lc2hlcy5sZW5ndGghPT0wJiZ0aGlzLl9yZW5kZXJBbHBoYVRlc3QodGhpcy5fYWxwaGFUZXN0U3ViTWVzaGVzKTt2YXIgcz1hLmdldFN0ZW5jaWxCdWZmZXIoKTtpZihhLnNldFN0ZW5jaWxCdWZmZXIoITEpLHQmJnRoaXMuX3JlbmRlclNwcml0ZXMoKSxyJiZ0aGlzLl9yZW5kZXJQYXJ0aWNsZXMobiksdGhpcy5vbkJlZm9yZVRyYW5zcGFyZW50UmVuZGVyaW5nJiZ0aGlzLm9uQmVmb3JlVHJhbnNwYXJlbnRSZW5kZXJpbmcoKSx0aGlzLl90cmFuc3BhcmVudFN1Yk1lc2hlcy5sZW5ndGghPT0wfHx0aGlzLl9zY2VuZS51c2VPcmRlckluZGVwZW5kZW50VHJhbnNwYXJlbmN5KXtpZihhLnNldFN0ZW5jaWxCdWZmZXIocyksdGhpcy5fc2NlbmUudXNlT3JkZXJJbmRlcGVuZGVudFRyYW5zcGFyZW5jeSl7dmFyIG89dGhpcy5fc2NlbmUuZGVwdGhQZWVsaW5nUmVuZGVyZXIucmVuZGVyKHRoaXMuX3RyYW5zcGFyZW50U3ViTWVzaGVzKTtvLmxlbmd0aCYmdGhpcy5fcmVuZGVyVHJhbnNwYXJlbnQobyl9ZWxzZSB0aGlzLl9yZW5kZXJUcmFuc3BhcmVudCh0aGlzLl90cmFuc3BhcmVudFN1Yk1lc2hlcyk7YS5zZXRBbHBoYU1vZGUoMCl9aWYoYS5zZXRTdGVuY2lsQnVmZmVyKCExKSx0aGlzLl9lZGdlc1JlbmRlcmVycy5sZW5ndGgpe2Zvcih2YXIgdT0wO3U8dGhpcy5fZWRnZXNSZW5kZXJlcnMubGVuZ3RoO3UrKyl0aGlzLl9lZGdlc1JlbmRlcmVycy5kYXRhW3VdLnJlbmRlcigpO2Euc2V0QWxwaGFNb2RlKDApfWEuc2V0U3RlbmNpbEJ1ZmZlcihzKX0saS5wcm90b3R5cGUuX3JlbmRlck9wYXF1ZVNvcnRlZD1mdW5jdGlvbihlKXtyZXR1cm4gaS5fUmVuZGVyU29ydGVkKGUsdGhpcy5fb3BhcXVlU29ydENvbXBhcmVGbix0aGlzLl9zY2VuZS5hY3RpdmVDYW1lcmEsITEpfSxpLnByb3RvdHlwZS5fcmVuZGVyQWxwaGFUZXN0U29ydGVkPWZ1bmN0aW9uKGUpe3JldHVybiBpLl9SZW5kZXJTb3J0ZWQoZSx0aGlzLl9hbHBoYVRlc3RTb3J0Q29tcGFyZUZuLHRoaXMuX3NjZW5lLmFjdGl2ZUNhbWVyYSwhMSl9LGkucHJvdG90eXBlLl9yZW5kZXJUcmFuc3BhcmVudFNvcnRlZD1mdW5jdGlvbihlKXtyZXR1cm4gaS5fUmVuZGVyU29ydGVkKGUsdGhpcy5fdHJhbnNwYXJlbnRTb3J0Q29tcGFyZUZuLHRoaXMuX3NjZW5lLmFjdGl2ZUNhbWVyYSwhMCl9LGkuX1JlbmRlclNvcnRlZD1mdW5jdGlvbihlLHQscixuKXt2YXIgYT0wLHMsbz1yP3IuZ2xvYmFsUG9zaXRpb246aS5fWmVyb1ZlY3RvcjtpZihuKWZvcig7YTxlLmxlbmd0aDthKyspcz1lLmRhdGFbYV0scy5fYWxwaGFJbmRleD1zLmdldE1lc2goKS5hbHBoYUluZGV4LHMuX2Rpc3RhbmNlVG9DYW1lcmE9Yi5EaXN0YW5jZShzLmdldEJvdW5kaW5nSW5mbygpLmJvdW5kaW5nU3BoZXJlLmNlbnRlcldvcmxkLG8pO3ZhciB1PWUubGVuZ3RoPT09ZS5kYXRhLmxlbmd0aD9lLmRhdGE6ZS5kYXRhLnNsaWNlKDAsZS5sZW5ndGgpO3QmJnUuc29ydCh0KTt2YXIgZj11WzBdLmdldE1lc2goKS5nZXRTY2VuZSgpO2ZvcihhPTA7YTx1Lmxlbmd0aDthKyspaWYocz11W2FdLCEoZi5fYWN0aXZlTWVzaGVzRnJvemVuQnV0S2VlcENsaXBwaW5nJiYhcy5pc0luRnJ1c3R1bShmLl9mcnVzdHVtUGxhbmVzKSkpe2lmKG4pe3ZhciBsPXMuZ2V0TWF0ZXJpYWwoKTtpZihsJiZsLm5lZWREZXB0aFByZVBhc3Mpe3ZhciBoPWwuZ2V0U2NlbmUoKS5nZXRFbmdpbmUoKTtoLnNldENvbG9yV3JpdGUoITEpLGguc2V0QWxwaGFNb2RlKDApLHMucmVuZGVyKCExKSxoLnNldENvbG9yV3JpdGUoITApfX1zLnJlbmRlcihuKX19LGkuZGVmYXVsdFRyYW5zcGFyZW50U29ydENvbXBhcmU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5fYWxwaGFJbmRleD50Ll9hbHBoYUluZGV4PzE6ZS5fYWxwaGFJbmRleDx0Ll9hbHBoYUluZGV4Py0xOmkuYmFja1RvRnJvbnRTb3J0Q29tcGFyZShlLHQpfSxpLmJhY2tUb0Zyb250U29ydENvbXBhcmU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5fZGlzdGFuY2VUb0NhbWVyYTx0Ll9kaXN0YW5jZVRvQ2FtZXJhPzE6ZS5fZGlzdGFuY2VUb0NhbWVyYT50Ll9kaXN0YW5jZVRvQ2FtZXJhPy0xOjB9LGkuZnJvbnRUb0JhY2tTb3J0Q29tcGFyZT1mdW5jdGlvbihlLHQpe3JldHVybiBlLl9kaXN0YW5jZVRvQ2FtZXJhPHQuX2Rpc3RhbmNlVG9DYW1lcmE/LTE6ZS5fZGlzdGFuY2VUb0NhbWVyYT50Ll9kaXN0YW5jZVRvQ2FtZXJhPzE6MH0saS5QYWludGVyU29ydENvbXBhcmU9ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLmdldE1lc2goKSxuPXQuZ2V0TWVzaCgpO3JldHVybiByLm1hdGVyaWFsJiZuLm1hdGVyaWFsP3IubWF0ZXJpYWwudW5pcXVlSWQtbi5tYXRlcmlhbC51bmlxdWVJZDpyLnVuaXF1ZUlkLW4udW5pcXVlSWR9LGkucHJvdG90eXBlLnByZXBhcmU9ZnVuY3Rpb24oKXt0aGlzLl9vcGFxdWVTdWJNZXNoZXMucmVzZXQoKSx0aGlzLl90cmFuc3BhcmVudFN1Yk1lc2hlcy5yZXNldCgpLHRoaXMuX2FscGhhVGVzdFN1Yk1lc2hlcy5yZXNldCgpLHRoaXMuX2RlcHRoT25seVN1Yk1lc2hlcy5yZXNldCgpLHRoaXMuX3BhcnRpY2xlU3lzdGVtcy5yZXNldCgpLHRoaXMuX3Nwcml0ZU1hbmFnZXJzLnJlc2V0KCksdGhpcy5fZWRnZXNSZW5kZXJlcnMucmVzZXQoKSx0aGlzLl9lbXB0eT0hMH0saS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3RoaXMuX29wYXF1ZVN1Yk1lc2hlcy5kaXNwb3NlKCksdGhpcy5fdHJhbnNwYXJlbnRTdWJNZXNoZXMuZGlzcG9zZSgpLHRoaXMuX2FscGhhVGVzdFN1Yk1lc2hlcy5kaXNwb3NlKCksdGhpcy5fZGVwdGhPbmx5U3ViTWVzaGVzLmRpc3Bvc2UoKSx0aGlzLl9wYXJ0aWNsZVN5c3RlbXMuZGlzcG9zZSgpLHRoaXMuX3Nwcml0ZU1hbmFnZXJzLmRpc3Bvc2UoKSx0aGlzLl9lZGdlc1JlbmRlcmVycy5kaXNwb3NlKCl9LGkucHJvdG90eXBlLmRpc3BhdGNoPWZ1bmN0aW9uKGUsdCxyKXt0PT09dm9pZCAwJiYodD1lLmdldE1lc2goKSkscj09PXZvaWQgMCYmKHI9ZS5nZXRNYXRlcmlhbCgpKSxyIT1udWxsJiYoci5uZWVkQWxwaGFCbGVuZGluZ0Zvck1lc2godCk/dGhpcy5fdHJhbnNwYXJlbnRTdWJNZXNoZXMucHVzaChlKTpyLm5lZWRBbHBoYVRlc3RpbmcoKT8oci5uZWVkRGVwdGhQcmVQYXNzJiZ0aGlzLl9kZXB0aE9ubHlTdWJNZXNoZXMucHVzaChlKSx0aGlzLl9hbHBoYVRlc3RTdWJNZXNoZXMucHVzaChlKSk6KHIubmVlZERlcHRoUHJlUGFzcyYmdGhpcy5fZGVwdGhPbmx5U3ViTWVzaGVzLnB1c2goZSksdGhpcy5fb3BhcXVlU3ViTWVzaGVzLnB1c2goZSkpLHQuX3JlbmRlcmluZ0dyb3VwPXRoaXMsdC5fZWRnZXNSZW5kZXJlciYmdC5fZWRnZXNSZW5kZXJlci5pc0VuYWJsZWQmJnRoaXMuX2VkZ2VzUmVuZGVyZXJzLnB1c2hOb0R1cGxpY2F0ZSh0Ll9lZGdlc1JlbmRlcmVyKSx0aGlzLl9lbXB0eT0hMSl9LGkucHJvdG90eXBlLmRpc3BhdGNoU3ByaXRlcz1mdW5jdGlvbihlKXt0aGlzLl9zcHJpdGVNYW5hZ2Vycy5wdXNoKGUpLHRoaXMuX2VtcHR5PSExfSxpLnByb3RvdHlwZS5kaXNwYXRjaFBhcnRpY2xlcz1mdW5jdGlvbihlKXt0aGlzLl9wYXJ0aWNsZVN5c3RlbXMucHVzaChlKSx0aGlzLl9lbXB0eT0hMX0saS5wcm90b3R5cGUuX3JlbmRlclBhcnRpY2xlcz1mdW5jdGlvbihlKXtpZih0aGlzLl9wYXJ0aWNsZVN5c3RlbXMubGVuZ3RoIT09MCl7dmFyIHQ9dGhpcy5fc2NlbmUuYWN0aXZlQ2FtZXJhO3RoaXMuX3NjZW5lLm9uQmVmb3JlUGFydGljbGVzUmVuZGVyaW5nT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcy5fc2NlbmUpO2Zvcih2YXIgcj0wO3I8dGhpcy5fcGFydGljbGVTeXN0ZW1zLmxlbmd0aDtyKyspe3ZhciBuPXRoaXMuX3BhcnRpY2xlU3lzdGVtcy5kYXRhW3JdO2lmKCh0JiZ0LmxheWVyTWFzayZuLmxheWVyTWFzaykhPT0wKXt2YXIgYT1uLmVtaXR0ZXI7KCFhLnBvc2l0aW9ufHwhZXx8ZS5pbmRleE9mKGEpIT09LTEpJiZ0aGlzLl9zY2VuZS5fYWN0aXZlUGFydGljbGVzLmFkZENvdW50KG4ucmVuZGVyKCksITEpfX10aGlzLl9zY2VuZS5vbkFmdGVyUGFydGljbGVzUmVuZGVyaW5nT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcy5fc2NlbmUpfX0saS5wcm90b3R5cGUuX3JlbmRlclNwcml0ZXM9ZnVuY3Rpb24oKXtpZighKCF0aGlzLl9zY2VuZS5zcHJpdGVzRW5hYmxlZHx8dGhpcy5fc3ByaXRlTWFuYWdlcnMubGVuZ3RoPT09MCkpe3ZhciBlPXRoaXMuX3NjZW5lLmFjdGl2ZUNhbWVyYTt0aGlzLl9zY2VuZS5vbkJlZm9yZVNwcml0ZXNSZW5kZXJpbmdPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzLl9zY2VuZSk7Zm9yKHZhciB0PTA7dDx0aGlzLl9zcHJpdGVNYW5hZ2Vycy5sZW5ndGg7dCsrKXt2YXIgcj10aGlzLl9zcHJpdGVNYW5hZ2Vycy5kYXRhW3RdOyhlJiZlLmxheWVyTWFzayZyLmxheWVyTWFzaykhPT0wJiZyLnJlbmRlcigpfXRoaXMuX3NjZW5lLm9uQWZ0ZXJTcHJpdGVzUmVuZGVyaW5nT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcy5fc2NlbmUpfX0saS5fWmVyb1ZlY3Rvcj1iLlplcm8oKSxpfSgpLGRhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaSgpe31yZXR1cm4gaX0oKSxBcj1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoZSl7dGhpcy5fdXNlU2NlbmVBdXRvQ2xlYXJTZXR1cD0hMSx0aGlzLl9yZW5kZXJpbmdHcm91cHM9bmV3IEFycmF5LHRoaXMuX2F1dG9DbGVhckRlcHRoU3RlbmNpbD17fSx0aGlzLl9jdXN0b21PcGFxdWVTb3J0Q29tcGFyZUZuPXt9LHRoaXMuX2N1c3RvbUFscGhhVGVzdFNvcnRDb21wYXJlRm49e30sdGhpcy5fY3VzdG9tVHJhbnNwYXJlbnRTb3J0Q29tcGFyZUZuPXt9LHRoaXMuX3JlbmRlcmluZ0dyb3VwSW5mbz1uZXcgZGEsdGhpcy5fc2NlbmU9ZTtmb3IodmFyIHQ9aS5NSU5fUkVOREVSSU5HR1JPVVBTO3Q8aS5NQVhfUkVOREVSSU5HR1JPVVBTO3QrKyl0aGlzLl9hdXRvQ2xlYXJEZXB0aFN0ZW5jaWxbdF09e2F1dG9DbGVhcjohMCxkZXB0aDohMCxzdGVuY2lsOiEwfX1yZXR1cm4gaS5wcm90b3R5cGUuX2NsZWFyRGVwdGhTdGVuY2lsQnVmZmVyPWZ1bmN0aW9uKGUsdCl7ZT09PXZvaWQgMCYmKGU9ITApLHQ9PT12b2lkIDAmJih0PSEwKSwhdGhpcy5fZGVwdGhTdGVuY2lsQnVmZmVyQWxyZWFkeUNsZWFuZWQmJih0aGlzLl9zY2VuZS5nZXRFbmdpbmUoKS5jbGVhcihudWxsLCExLGUsdCksdGhpcy5fZGVwdGhTdGVuY2lsQnVmZmVyQWxyZWFkeUNsZWFuZWQ9ITApfSxpLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24oZSx0LHIsbil7dmFyIGE9dGhpcy5fcmVuZGVyaW5nR3JvdXBJbmZvO2lmKGEuc2NlbmU9dGhpcy5fc2NlbmUsYS5jYW1lcmE9dGhpcy5fc2NlbmUuYWN0aXZlQ2FtZXJhLHRoaXMuX3NjZW5lLnNwcml0ZU1hbmFnZXJzJiZuKWZvcih2YXIgcz0wO3M8dGhpcy5fc2NlbmUuc3ByaXRlTWFuYWdlcnMubGVuZ3RoO3MrKyl7dmFyIG89dGhpcy5fc2NlbmUuc3ByaXRlTWFuYWdlcnNbc107dGhpcy5kaXNwYXRjaFNwcml0ZXMobyl9Zm9yKHZhciBzPWkuTUlOX1JFTkRFUklOR0dST1VQUztzPGkuTUFYX1JFTkRFUklOR0dST1VQUztzKyspe3RoaXMuX2RlcHRoU3RlbmNpbEJ1ZmZlckFscmVhZHlDbGVhbmVkPXM9PT1pLk1JTl9SRU5ERVJJTkdHUk9VUFM7dmFyIHU9dGhpcy5fcmVuZGVyaW5nR3JvdXBzW3NdO2lmKCEoIXV8fHUuX2VtcHR5KSl7dmFyIGY9TWF0aC5wb3coMixzKTtpZihhLnJlbmRlcmluZ0dyb3VwSWQ9cyx0aGlzLl9zY2VuZS5vbkJlZm9yZVJlbmRlcmluZ0dyb3VwT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoYSxmKSxpLkFVVE9DTEVBUil7dmFyIGw9dGhpcy5fdXNlU2NlbmVBdXRvQ2xlYXJTZXR1cD90aGlzLl9zY2VuZS5nZXRBdXRvQ2xlYXJEZXB0aFN0ZW5jaWxTZXR1cChzKTp0aGlzLl9hdXRvQ2xlYXJEZXB0aFN0ZW5jaWxbc107bCYmbC5hdXRvQ2xlYXImJnRoaXMuX2NsZWFyRGVwdGhTdGVuY2lsQnVmZmVyKGwuZGVwdGgsbC5zdGVuY2lsKX1mb3IodmFyIGg9MCxjPXRoaXMuX3NjZW5lLl9iZWZvcmVSZW5kZXJpbmdHcm91cERyYXdTdGFnZTtoPGMubGVuZ3RoO2grKyl7dmFyIGQ9Y1toXTtkLmFjdGlvbihzKX11LnJlbmRlcihlLG4scix0KTtmb3IodmFyIHA9MCxnPXRoaXMuX3NjZW5lLl9hZnRlclJlbmRlcmluZ0dyb3VwRHJhd1N0YWdlO3A8Zy5sZW5ndGg7cCsrKXt2YXIgZD1nW3BdO2QuYWN0aW9uKHMpfXRoaXMuX3NjZW5lLm9uQWZ0ZXJSZW5kZXJpbmdHcm91cE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGEsZil9fX0saS5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXtmb3IodmFyIGU9aS5NSU5fUkVOREVSSU5HR1JPVVBTO2U8aS5NQVhfUkVOREVSSU5HR1JPVVBTO2UrKyl7dmFyIHQ9dGhpcy5fcmVuZGVyaW5nR3JvdXBzW2VdO3QmJnQucHJlcGFyZSgpfX0saS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3RoaXMuZnJlZVJlbmRlcmluZ0dyb3VwcygpLHRoaXMuX3JlbmRlcmluZ0dyb3Vwcy5sZW5ndGg9MCx0aGlzLl9yZW5kZXJpbmdHcm91cEluZm89bnVsbH0saS5wcm90b3R5cGUuZnJlZVJlbmRlcmluZ0dyb3Vwcz1mdW5jdGlvbigpe2Zvcih2YXIgZT1pLk1JTl9SRU5ERVJJTkdHUk9VUFM7ZTxpLk1BWF9SRU5ERVJJTkdHUk9VUFM7ZSsrKXt2YXIgdD10aGlzLl9yZW5kZXJpbmdHcm91cHNbZV07dCYmdC5kaXNwb3NlKCl9fSxpLnByb3RvdHlwZS5fcHJlcGFyZVJlbmRlcmluZ0dyb3VwPWZ1bmN0aW9uKGUpe3RoaXMuX3JlbmRlcmluZ0dyb3Vwc1tlXT09PXZvaWQgMCYmKHRoaXMuX3JlbmRlcmluZ0dyb3Vwc1tlXT1uZXcgY2EoZSx0aGlzLl9zY2VuZSx0aGlzLl9jdXN0b21PcGFxdWVTb3J0Q29tcGFyZUZuW2VdLHRoaXMuX2N1c3RvbUFscGhhVGVzdFNvcnRDb21wYXJlRm5bZV0sdGhpcy5fY3VzdG9tVHJhbnNwYXJlbnRTb3J0Q29tcGFyZUZuW2VdKSl9LGkucHJvdG90eXBlLmRpc3BhdGNoU3ByaXRlcz1mdW5jdGlvbihlKXt2YXIgdD1lLnJlbmRlcmluZ0dyb3VwSWR8fDA7dGhpcy5fcHJlcGFyZVJlbmRlcmluZ0dyb3VwKHQpLHRoaXMuX3JlbmRlcmluZ0dyb3Vwc1t0XS5kaXNwYXRjaFNwcml0ZXMoZSl9LGkucHJvdG90eXBlLmRpc3BhdGNoUGFydGljbGVzPWZ1bmN0aW9uKGUpe3ZhciB0PWUucmVuZGVyaW5nR3JvdXBJZHx8MDt0aGlzLl9wcmVwYXJlUmVuZGVyaW5nR3JvdXAodCksdGhpcy5fcmVuZGVyaW5nR3JvdXBzW3RdLmRpc3BhdGNoUGFydGljbGVzKGUpfSxpLnByb3RvdHlwZS5kaXNwYXRjaD1mdW5jdGlvbihlLHQscil7dD09PXZvaWQgMCYmKHQ9ZS5nZXRNZXNoKCkpO3ZhciBuPXQucmVuZGVyaW5nR3JvdXBJZHx8MDt0aGlzLl9wcmVwYXJlUmVuZGVyaW5nR3JvdXAobiksdGhpcy5fcmVuZGVyaW5nR3JvdXBzW25dLmRpc3BhdGNoKGUsdCxyKX0saS5wcm90b3R5cGUuc2V0UmVuZGVyaW5nT3JkZXI9ZnVuY3Rpb24oZSx0LHIsbil7aWYodD09PXZvaWQgMCYmKHQ9bnVsbCkscj09PXZvaWQgMCYmKHI9bnVsbCksbj09PXZvaWQgMCYmKG49bnVsbCksdGhpcy5fY3VzdG9tT3BhcXVlU29ydENvbXBhcmVGbltlXT10LHRoaXMuX2N1c3RvbUFscGhhVGVzdFNvcnRDb21wYXJlRm5bZV09cix0aGlzLl9jdXN0b21UcmFuc3BhcmVudFNvcnRDb21wYXJlRm5bZV09bix0aGlzLl9yZW5kZXJpbmdHcm91cHNbZV0pe3ZhciBhPXRoaXMuX3JlbmRlcmluZ0dyb3Vwc1tlXTthLm9wYXF1ZVNvcnRDb21wYXJlRm49dGhpcy5fY3VzdG9tT3BhcXVlU29ydENvbXBhcmVGbltlXSxhLmFscGhhVGVzdFNvcnRDb21wYXJlRm49dGhpcy5fY3VzdG9tQWxwaGFUZXN0U29ydENvbXBhcmVGbltlXSxhLnRyYW5zcGFyZW50U29ydENvbXBhcmVGbj10aGlzLl9jdXN0b21UcmFuc3BhcmVudFNvcnRDb21wYXJlRm5bZV19fSxpLnByb3RvdHlwZS5zZXRSZW5kZXJpbmdBdXRvQ2xlYXJEZXB0aFN0ZW5jaWw9ZnVuY3Rpb24oZSx0LHIsbil7cj09PXZvaWQgMCYmKHI9ITApLG49PT12b2lkIDAmJihuPSEwKSx0aGlzLl9hdXRvQ2xlYXJEZXB0aFN0ZW5jaWxbZV09e2F1dG9DbGVhcjp0LGRlcHRoOnIsc3RlbmNpbDpufX0saS5wcm90b3R5cGUuZ2V0QXV0b0NsZWFyRGVwdGhTdGVuY2lsU2V0dXA9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX2F1dG9DbGVhckRlcHRoU3RlbmNpbFtlXX0saS5NQVhfUkVOREVSSU5HR1JPVVBTPTQsaS5NSU5fUkVOREVSSU5HR1JPVVBTPTAsaS5BVVRPQ0xFQVI9ITAsaX0oKSxVdD1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoKXt9cmV0dXJuIGkuTkFNRV9FRkZFQ1RMQVlFUj0iRWZmZWN0TGF5ZXIiLGkuTkFNRV9MQVlFUj0iTGF5ZXIiLGkuTkFNRV9MRU5TRkxBUkVTWVNURU09IkxlbnNGbGFyZVN5c3RlbSIsaS5OQU1FX0JPVU5ESU5HQk9YUkVOREVSRVI9IkJvdW5kaW5nQm94UmVuZGVyZXIiLGkuTkFNRV9QQVJUSUNMRVNZU1RFTT0iUGFydGljbGVTeXN0ZW0iLGkuTkFNRV9HQU1FUEFEPSJHYW1lcGFkIixpLk5BTUVfU0lNUExJRklDQVRJT05RVUVVRT0iU2ltcGxpZmljYXRpb25RdWV1ZSIsaS5OQU1FX0dFT01FVFJZQlVGRkVSUkVOREVSRVI9Ikdlb21ldHJ5QnVmZmVyUmVuZGVyZXIiLGkuTkFNRV9QUkVQQVNTUkVOREVSRVI9IlByZVBhc3NSZW5kZXJlciIsaS5OQU1FX0RFUFRIUkVOREVSRVI9IkRlcHRoUmVuZGVyZXIiLGkuTkFNRV9ERVBUSFBFRUxJTkdSRU5ERVJFUj0iRGVwdGhQZWVsaW5nUmVuZGVyZXIiLGkuTkFNRV9QT1NUUFJPQ0VTU1JFTkRFUlBJUEVMSU5FTUFOQUdFUj0iUG9zdFByb2Nlc3NSZW5kZXJQaXBlbGluZU1hbmFnZXIiLGkuTkFNRV9TUFJJVEU9IlNwcml0ZSIsaS5OQU1FX1NVQlNVUkZBQ0U9IlN1YlN1cmZhY2UiLGkuTkFNRV9PVVRMSU5FUkVOREVSRVI9Ik91dGxpbmUiLGkuTkFNRV9QUk9DRURVUkFMVEVYVFVSRT0iUHJvY2VkdXJhbFRleHR1cmUiLGkuTkFNRV9TSEFET1dHRU5FUkFUT1I9IlNoYWRvd0dlbmVyYXRvciIsaS5OQU1FX09DVFJFRT0iT2N0cmVlIixpLk5BTUVfUEhZU0lDU0VOR0lORT0iUGh5c2ljc0VuZ2luZSIsaS5OQU1FX0FVRElPPSJBdWRpbyIsaS5TVEVQX0lTUkVBRFlGT1JNRVNIX0VGRkVDVExBWUVSPTAsaS5TVEVQX0JFRk9SRUVWQUxVQVRFQUNUSVZFTUVTSF9CT1VORElOR0JPWFJFTkRFUkVSPTAsaS5TVEVQX0VWQUxVQVRFU1VCTUVTSF9CT1VORElOR0JPWFJFTkRFUkVSPTAsaS5TVEVQX1BSRUFDVElWRU1FU0hfQk9VTkRJTkdCT1hSRU5ERVJFUj0wLGkuU1RFUF9DQU1FUkFEUkFXUkVOREVSVEFSR0VUX0VGRkVDVExBWUVSPTEsaS5TVEVQX0JFRk9SRUNBTUVSQURSQVdfUFJFUEFTUz0wLGkuU1RFUF9CRUZPUkVDQU1FUkFEUkFXX0VGRkVDVExBWUVSPTEsaS5TVEVQX0JFRk9SRUNBTUVSQURSQVdfTEFZRVI9MixpLlNURVBfQkVGT1JFUkVOREVSVEFSR0VURFJBV19QUkVQQVNTPTAsaS5TVEVQX0JFRk9SRVJFTkRFUlRBUkdFVERSQVdfTEFZRVI9MSxpLlNURVBfQkVGT1JFUkVOREVSSU5HTUVTSF9QUkVQQVNTPTAsaS5TVEVQX0JFRk9SRVJFTkRFUklOR01FU0hfT1VUTElORT0xLGkuU1RFUF9BRlRFUlJFTkRFUklOR01FU0hfUFJFUEFTUz0wLGkuU1RFUF9BRlRFUlJFTkRFUklOR01FU0hfT1VUTElORT0xLGkuU1RFUF9BRlRFUlJFTkRFUklOR0dST1VQRFJBV19FRkZFQ1RMQVlFUl9EUkFXPTAsaS5TVEVQX0FGVEVSUkVOREVSSU5HR1JPVVBEUkFXX0JPVU5ESU5HQk9YUkVOREVSRVI9MSxpLlNURVBfQkVGT1JFQ0FNRVJBVVBEQVRFX1NJTVBMSUZJQ0FUSU9OUVVFVUU9MCxpLlNURVBfQkVGT1JFQ0FNRVJBVVBEQVRFX0dBTUVQQUQ9MSxpLlNURVBfQkVGT1JFQ0xFQVJfUFJPQ0VEVVJBTFRFWFRVUkU9MCxpLlNURVBfQUZURVJSRU5ERVJUQVJHRVREUkFXX1BSRVBBU1M9MCxpLlNURVBfQUZURVJSRU5ERVJUQVJHRVREUkFXX0xBWUVSPTEsaS5TVEVQX0FGVEVSQ0FNRVJBRFJBV19QUkVQQVNTPTAsaS5TVEVQX0FGVEVSQ0FNRVJBRFJBV19FRkZFQ1RMQVlFUj0xLGkuU1RFUF9BRlRFUkNBTUVSQURSQVdfTEVOU0ZMQVJFU1lTVEVNPTIsaS5TVEVQX0FGVEVSQ0FNRVJBRFJBV19FRkZFQ1RMQVlFUl9EUkFXPTMsaS5TVEVQX0FGVEVSQ0FNRVJBRFJBV19MQVlFUj00LGkuU1RFUF9BRlRFUlJFTkRFUl9BVURJTz0wLGkuU1RFUF9HQVRIRVJSRU5ERVJUQVJHRVRTX0RFUFRIUkVOREVSRVI9MCxpLlNURVBfR0FUSEVSUkVOREVSVEFSR0VUU19HRU9NRVRSWUJVRkZFUlJFTkRFUkVSPTEsaS5TVEVQX0dBVEhFUlJFTkRFUlRBUkdFVFNfU0hBRE9XR0VORVJBVE9SPTIsaS5TVEVQX0dBVEhFUlJFTkRFUlRBUkdFVFNfUE9TVFBST0NFU1NSRU5ERVJQSVBFTElORU1BTkFHRVI9MyxpLlNURVBfR0FUSEVSQUNUSVZFQ0FNRVJBUkVOREVSVEFSR0VUU19ERVBUSFJFTkRFUkVSPTAsaS5TVEVQX0JFRk9SRUNMRUFSU1RBR0VfUFJFUEFTUz0wLGkuU1RFUF9CRUZPUkVSRU5ERVJUQVJHRVRDTEVBUlNUQUdFX1BSRVBBU1M9MCxpLlNURVBfUE9JTlRFUk1PVkVfU1BSSVRFPTAsaS5TVEVQX1BPSU5URVJET1dOX1NQUklURT0wLGkuU1RFUF9QT0lOVEVSVVBfU1BSSVRFPTAsaX0oKSxUZT1mdW5jdGlvbihpKXtLKGUsaSk7ZnVuY3Rpb24gZSh0KXtyZXR1cm4gaS5hcHBseSh0aGlzLHQpfHx0aGlzfXJldHVybiBlLkNyZWF0ZT1mdW5jdGlvbigpe3JldHVybiBPYmplY3QuY3JlYXRlKGUucHJvdG90eXBlKX0sZS5wcm90b3R5cGUucmVnaXN0ZXJTdGVwPWZ1bmN0aW9uKHQscixuKXtmb3IodmFyIGE9MCxzPU51bWJlci5NQVhfVkFMVUU7YTx0aGlzLmxlbmd0aDthKyspe3ZhciBvPXRoaXNbYV07aWYocz1vLmluZGV4LHQ8cylicmVha310aGlzLnNwbGljZShhLDAse2luZGV4OnQsY29tcG9uZW50OnIsYWN0aW9uOm4uYmluZChyKX0pfSxlLnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe3RoaXMubGVuZ3RoPTB9LGV9KEFycmF5KSxoZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoKXt9cmV0dXJuIGkuUE9JTlRFUkRPV049MSxpLlBPSU5URVJVUD0yLGkuUE9JTlRFUk1PVkU9NCxpLlBPSU5URVJXSEVFTD04LGkuUE9JTlRFUlBJQ0s9MTYsaS5QT0lOVEVSVEFQPTMyLGkuUE9JTlRFUkRPVUJMRVRBUD02NCxpfSgpLEdpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaShlLHQpe3RoaXMudHlwZT1lLHRoaXMuZXZlbnQ9dH1yZXR1cm4gaX0oKSxwYT1mdW5jdGlvbihpKXtLKGUsaSk7ZnVuY3Rpb24gZSh0LHIsbixhKXt2YXIgcz1pLmNhbGwodGhpcyx0LHIpfHx0aGlzO3JldHVybiBzLnJheT1udWxsLHMuc2tpcE9uUG9pbnRlck9ic2VydmFibGU9ITEscy5sb2NhbFBvc2l0aW9uPW5ldyBTZShuLGEpLHN9cmV0dXJuIGV9KEdpKSxpcj1mdW5jdGlvbihpKXtLKGUsaSk7ZnVuY3Rpb24gZSh0LHIsbil7dmFyIGE9aS5jYWxsKHRoaXMsdCxyKXx8dGhpcztyZXR1cm4gYS5waWNrSW5mbz1uLGF9cmV0dXJuIGV9KEdpKSxucj1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoKXt0aGlzLmhvdmVyQ3Vyc29yPSIiLHRoaXMuYWN0aW9ucz1uZXcgQXJyYXksdGhpcy5pc1JlY3Vyc2l2ZT0hMX1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGksIkhhc1RyaWdnZXJzIix7Z2V0OmZ1bmN0aW9uKCl7Zm9yKHZhciBlIGluIGkuVHJpZ2dlcnMpaWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGkuVHJpZ2dlcnMsZSkpcmV0dXJuITA7cmV0dXJuITF9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGksIkhhc1BpY2tUcmlnZ2VycyIse2dldDpmdW5jdGlvbigpe2Zvcih2YXIgZSBpbiBpLlRyaWdnZXJzKWlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChpLlRyaWdnZXJzLGUpKXt2YXIgdD1wYXJzZUludChlKTtpZih0Pj0xJiZ0PD03KXJldHVybiEwfXJldHVybiExfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkuSGFzU3BlY2lmaWNUcmlnZ2VyPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdCBpbiBpLlRyaWdnZXJzKWlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChpLlRyaWdnZXJzLHQpKXt2YXIgcj1wYXJzZUludCh0KTtpZihyPT09ZSlyZXR1cm4hMH1yZXR1cm4hMX0saS5UcmlnZ2Vycz17fSxpfSgpLFhpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaSgpe31yZXR1cm4gaS5LRVlET1dOPTEsaS5LRVlVUD0yLGl9KCksUXI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKGUsdCl7dGhpcy50eXBlPWUsdGhpcy5ldmVudD10fXJldHVybiBpfSgpLEhpPWZ1bmN0aW9uKGkpe0soZSxpKTtmdW5jdGlvbiBlKHQscil7dmFyIG49aS5jYWxsKHRoaXMsdCxyKXx8dGhpcztyZXR1cm4gbi50eXBlPXQsbi5ldmVudD1yLG4uc2tpcE9uS2V5Ym9hcmRPYnNlcnZhYmxlPSExLG59cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwic2tpcE9uUG9pbnRlck9ic2VydmFibGUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5za2lwT25LZXlib2FyZE9ic2VydmFibGV9LHNldDpmdW5jdGlvbih0KXt0aGlzLnNraXBPbktleWJvYXJkT2JzZXJ2YWJsZT10fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGV9KFFyKSxCOyhmdW5jdGlvbihpKXtpW2kuR2VuZXJpYz0wXT0iR2VuZXJpYyIsaVtpLktleWJvYXJkPTFdPSJLZXlib2FyZCIsaVtpLk1vdXNlPTJdPSJNb3VzZSIsaVtpLlRvdWNoPTNdPSJUb3VjaCIsaVtpLkR1YWxTaG9jaz00XT0iRHVhbFNob2NrIixpW2kuWGJveD01XT0iWGJveCIsaVtpLlN3aXRjaD02XT0iU3dpdGNoIixpW2kuRHVhbFNlbnNlPTddPSJEdWFsU2Vuc2UifSkoQnx8KEI9e30pKTt2YXIgSDsoZnVuY3Rpb24oaSl7aVtpLkhvcml6b250YWw9MF09Ikhvcml6b250YWwiLGlbaS5WZXJ0aWNhbD0xXT0iVmVydGljYWwiLGlbaS5MZWZ0Q2xpY2s9Ml09IkxlZnRDbGljayIsaVtpLk1pZGRsZUNsaWNrPTNdPSJNaWRkbGVDbGljayIsaVtpLlJpZ2h0Q2xpY2s9NF09IlJpZ2h0Q2xpY2siLGlbaS5Ccm93c2VyQmFjaz01XT0iQnJvd3NlckJhY2siLGlbaS5Ccm93c2VyRm9yd2FyZD02XT0iQnJvd3NlckZvcndhcmQiLGlbaS5Nb3VzZVdoZWVsWD03XT0iTW91c2VXaGVlbFgiLGlbaS5Nb3VzZVdoZWVsWT04XT0iTW91c2VXaGVlbFkiLGlbaS5Nb3VzZVdoZWVsWj05XT0iTW91c2VXaGVlbFoiLGlbaS5Nb3ZlPTEyXT0iTW92ZSJ9KShIfHwoSD17fSkpO3ZhciBScjsoZnVuY3Rpb24oaSl7aVtpLkhvcml6b250YWw9MF09Ikhvcml6b250YWwiLGlbaS5WZXJ0aWNhbD0xXT0iVmVydGljYWwiLGlbaS5MZWZ0Q2xpY2s9Ml09IkxlZnRDbGljayIsaVtpLk1pZGRsZUNsaWNrPTNdPSJNaWRkbGVDbGljayIsaVtpLlJpZ2h0Q2xpY2s9NF09IlJpZ2h0Q2xpY2siLGlbaS5Ccm93c2VyQmFjaz01XT0iQnJvd3NlckJhY2siLGlbaS5Ccm93c2VyRm9yd2FyZD02XT0iQnJvd3NlckZvcndhcmQiLGlbaS5Nb3VzZVdoZWVsWD03XT0iTW91c2VXaGVlbFgiLGlbaS5Nb3VzZVdoZWVsWT04XT0iTW91c2VXaGVlbFkiLGlbaS5Nb3VzZVdoZWVsWj05XT0iTW91c2VXaGVlbFoiLGlbaS5EZWx0YUhvcml6b250YWw9MTBdPSJEZWx0YUhvcml6b250YWwiLGlbaS5EZWx0YVZlcnRpY2FsPTExXT0iRGVsdGFWZXJ0aWNhbCJ9KShScnx8KFJyPXt9KSk7dmFyIGppOyhmdW5jdGlvbihpKXtpW2kuQ3Jvc3M9MF09IkNyb3NzIixpW2kuQ2lyY2xlPTFdPSJDaXJjbGUiLGlbaS5TcXVhcmU9Ml09IlNxdWFyZSIsaVtpLlRyaWFuZ2xlPTNdPSJUcmlhbmdsZSIsaVtpLkwxPTRdPSJMMSIsaVtpLlIxPTVdPSJSMSIsaVtpLkwyPTZdPSJMMiIsaVtpLlIyPTddPSJSMiIsaVtpLlNoYXJlPThdPSJTaGFyZSIsaVtpLk9wdGlvbnM9OV09Ik9wdGlvbnMiLGlbaS5MMz0xMF09IkwzIixpW2kuUjM9MTFdPSJSMyIsaVtpLkRQYWRVcD0xMl09IkRQYWRVcCIsaVtpLkRQYWREb3duPTEzXT0iRFBhZERvd24iLGlbaS5EUGFkTGVmdD0xNF09IkRQYWRMZWZ0IixpW2kuRFBhZFJpZ2h0PTE1XT0iRFBhZFJpZ2h0IixpW2kuSG9tZT0xNl09IkhvbWUiLGlbaS5Ub3VjaFBhZD0xN109IlRvdWNoUGFkIixpW2kuTFN0aWNrWEF4aXM9MThdPSJMU3RpY2tYQXhpcyIsaVtpLkxTdGlja1lBeGlzPTE5XT0iTFN0aWNrWUF4aXMiLGlbaS5SU3RpY2tYQXhpcz0yMF09IlJTdGlja1hBeGlzIixpW2kuUlN0aWNrWUF4aXM9MjFdPSJSU3RpY2tZQXhpcyJ9KShqaXx8KGppPXt9KSk7dmFyIEtpOyhmdW5jdGlvbihpKXtpW2kuQ3Jvc3M9MF09IkNyb3NzIixpW2kuQ2lyY2xlPTFdPSJDaXJjbGUiLGlbaS5TcXVhcmU9Ml09IlNxdWFyZSIsaVtpLlRyaWFuZ2xlPTNdPSJUcmlhbmdsZSIsaVtpLkwxPTRdPSJMMSIsaVtpLlIxPTVdPSJSMSIsaVtpLkwyPTZdPSJMMiIsaVtpLlIyPTddPSJSMiIsaVtpLkNyZWF0ZT04XT0iQ3JlYXRlIixpW2kuT3B0aW9ucz05XT0iT3B0aW9ucyIsaVtpLkwzPTEwXT0iTDMiLGlbaS5SMz0xMV09IlIzIixpW2kuRFBhZFVwPTEyXT0iRFBhZFVwIixpW2kuRFBhZERvd249MTNdPSJEUGFkRG93biIsaVtpLkRQYWRMZWZ0PTE0XT0iRFBhZExlZnQiLGlbaS5EUGFkUmlnaHQ9MTVdPSJEUGFkUmlnaHQiLGlbaS5Ib21lPTE2XT0iSG9tZSIsaVtpLlRvdWNoUGFkPTE3XT0iVG91Y2hQYWQiLGlbaS5MU3RpY2tYQXhpcz0xOF09IkxTdGlja1hBeGlzIixpW2kuTFN0aWNrWUF4aXM9MTldPSJMU3RpY2tZQXhpcyIsaVtpLlJTdGlja1hBeGlzPTIwXT0iUlN0aWNrWEF4aXMiLGlbaS5SU3RpY2tZQXhpcz0yMV09IlJTdGlja1lBeGlzIn0pKEtpfHwoS2k9e30pKTt2YXIgWWk7KGZ1bmN0aW9uKGkpe2lbaS5BPTBdPSJBIixpW2kuQj0xXT0iQiIsaVtpLlg9Ml09IlgiLGlbaS5ZPTNdPSJZIixpW2kuTEI9NF09IkxCIixpW2kuUkI9NV09IlJCIixpW2kuTFQ9Nl09IkxUIixpW2kuUlQ9N109IlJUIixpW2kuQmFjaz04XT0iQmFjayIsaVtpLlN0YXJ0PTldPSJTdGFydCIsaVtpLkxTPTEwXT0iTFMiLGlbaS5SUz0xMV09IlJTIixpW2kuRFBhZFVwPTEyXT0iRFBhZFVwIixpW2kuRFBhZERvd249MTNdPSJEUGFkRG93biIsaVtpLkRQYWRMZWZ0PTE0XT0iRFBhZExlZnQiLGlbaS5EUGFkUmlnaHQ9MTVdPSJEUGFkUmlnaHQiLGlbaS5Ib21lPTE2XT0iSG9tZSIsaVtpLkxTdGlja1hBeGlzPTE3XT0iTFN0aWNrWEF4aXMiLGlbaS5MU3RpY2tZQXhpcz0xOF09IkxTdGlja1lBeGlzIixpW2kuUlN0aWNrWEF4aXM9MTldPSJSU3RpY2tYQXhpcyIsaVtpLlJTdGlja1lBeGlzPTIwXT0iUlN0aWNrWUF4aXMifSkoWWl8fChZaT17fSkpO3ZhciBaaTsoZnVuY3Rpb24oaSl7aVtpLkI9MF09IkIiLGlbaS5BPTFdPSJBIixpW2kuWT0yXT0iWSIsaVtpLlg9M109IlgiLGlbaS5MPTRdPSJMIixpW2kuUj01XT0iUiIsaVtpLlpMPTZdPSJaTCIsaVtpLlpSPTddPSJaUiIsaVtpLk1pbnVzPThdPSJNaW51cyIsaVtpLlBsdXM9OV09IlBsdXMiLGlbaS5MUz0xMF09IkxTIixpW2kuUlM9MTFdPSJSUyIsaVtpLkRQYWRVcD0xMl09IkRQYWRVcCIsaVtpLkRQYWREb3duPTEzXT0iRFBhZERvd24iLGlbaS5EUGFkTGVmdD0xNF09IkRQYWRMZWZ0IixpW2kuRFBhZFJpZ2h0PTE1XT0iRFBhZFJpZ2h0IixpW2kuSG9tZT0xNl09IkhvbWUiLGlbaS5DYXB0dXJlPTE3XT0iQ2FwdHVyZSIsaVtpLkxTdGlja1hBeGlzPTE4XT0iTFN0aWNrWEF4aXMiLGlbaS5MU3RpY2tZQXhpcz0xOV09IkxTdGlja1lBeGlzIixpW2kuUlN0aWNrWEF4aXM9MjBdPSJSU3RpY2tYQXhpcyIsaVtpLlJTdGlja1lBeGlzPTIxXT0iUlN0aWNrWUF4aXMifSkoWml8fChaaT17fSkpO3ZhciBxaTsoZnVuY3Rpb24oaSl7aVtpLlBvaW50ZXJNb3ZlPTBdPSJQb2ludGVyTW92ZSIsaVtpLlBvaW50ZXJEb3duPTFdPSJQb2ludGVyRG93biIsaVtpLlBvaW50ZXJVcD0yXT0iUG9pbnRlclVwIn0pKHFpfHwocWk9e30pKTt2YXIgX2E9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKCl7fXJldHVybiBpLkRPTV9ERUxUQV9QSVhFTD0wLGkuRE9NX0RFTFRBX0xJTkU9MSxpLkRPTV9ERUxUQV9QQUdFPTIsaX0oKSxWdD1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoKXt9cmV0dXJuIGkuQ3JlYXRlRGV2aWNlRXZlbnQ9ZnVuY3Rpb24oZSx0LHIsbixhLHMpe3N3aXRjaChlKXtjYXNlIEIuS2V5Ym9hcmQ6cmV0dXJuIHRoaXMuX0NyZWF0ZUtleWJvYXJkRXZlbnQocixuLGEscyk7Y2FzZSBCLk1vdXNlOmlmKHI9PT1ILk1vdXNlV2hlZWxYfHxyPT09SC5Nb3VzZVdoZWVsWXx8cj09PUguTW91c2VXaGVlbFopcmV0dXJuIHRoaXMuX0NyZWF0ZVdoZWVsRXZlbnQoZSx0LHIsbixhLHMpO2Nhc2UgQi5Ub3VjaDpyZXR1cm4gdGhpcy5fQ3JlYXRlUG9pbnRlckV2ZW50KGUsdCxyLG4sYSxzKTtkZWZhdWx0OnRocm93IlVuYWJsZSB0byBnZW5lcmF0ZSBldmVudCBmb3IgZGV2aWNlICIuY29uY2F0KEJbZV0pfX0saS5fQ3JlYXRlUG9pbnRlckV2ZW50PWZ1bmN0aW9uKGUsdCxyLG4sYSxzKXt2YXIgbz10aGlzLl9DcmVhdGVNb3VzZUV2ZW50KGUsdCxyLG4sYSxzKTtyZXR1cm4gZT09PUIuTW91c2U/KG8uZGV2aWNlVHlwZT1CLk1vdXNlLG8ucG9pbnRlcklkPTEsby5wb2ludGVyVHlwZT0ibW91c2UiKTooby5kZXZpY2VUeXBlPUIuVG91Y2gsby5wb2ludGVySWQ9dCxvLnBvaW50ZXJUeXBlPSJ0b3VjaCIpLHI9PT1ILk1vdmU/by50eXBlPSJwb2ludGVybW92ZSI6cj49SC5MZWZ0Q2xpY2smJnI8PUguUmlnaHRDbGljayYmKG8udHlwZT1uPT09MT8icG9pbnRlcmRvd24iOiJwb2ludGVydXAiLG8uYnV0dG9uPXItMiksb30saS5fQ3JlYXRlV2hlZWxFdmVudD1mdW5jdGlvbihlLHQscixuLGEscyl7dmFyIG89dGhpcy5fQ3JlYXRlTW91c2VFdmVudChlLHQscixuLGEscyk7c3dpdGNoKG8udHlwZT0id2hlZWwiLG8uZGVsdGFNb2RlPV9hLkRPTV9ERUxUQV9QSVhFTCxvLmRlbHRhWD0wLG8uZGVsdGFZPTAsby5kZWx0YVo9MCxyKXtjYXNlIEguTW91c2VXaGVlbFg6by5kZWx0YVg9bjticmVhaztjYXNlIEguTW91c2VXaGVlbFk6by5kZWx0YVk9bjticmVhaztjYXNlIEguTW91c2VXaGVlbFo6by5kZWx0YVo9bjticmVha31yZXR1cm4gb30saS5fQ3JlYXRlTW91c2VFdmVudD1mdW5jdGlvbihlLHQscixuLGEscyl7dmFyIG89dGhpcy5fQ3JlYXRlRXZlbnQocyksdT1hLnBvbGxJbnB1dChlLHQsSC5Ib3Jpem9udGFsKSxmPWEucG9sbElucHV0KGUsdCxILlZlcnRpY2FsKTtyZXR1cm4gcz8oby5tb3ZlbWVudFg9MCxvLm1vdmVtZW50WT0wLG8ub2Zmc2V0WD1vLm1vdmVtZW50WC1zLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLngsby5vZmZzZXRZPW8ubW92ZW1lbnRZLXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkueSk6KG8ubW92ZW1lbnRYPWEucG9sbElucHV0KGUsdCxSci5EZWx0YUhvcml6b250YWwpLG8ubW92ZW1lbnRZPWEucG9sbElucHV0KGUsdCxSci5EZWx0YVZlcnRpY2FsKSxvLm9mZnNldFg9MCxvLm9mZnNldFk9MCksdGhpcy5fQ2hlY2tOb25DaGFyYWN0ZXJLZXlzKG8sYSksby5jbGllbnRYPXUsby5jbGllbnRZPWYsby54PXUsby55PWYsby5kZXZpY2VUeXBlPWUsby5kZXZpY2VTbG90PXQsby5pbnB1dEluZGV4PXIsb30saS5fQ3JlYXRlS2V5Ym9hcmRFdmVudD1mdW5jdGlvbihlLHQscixuKXt2YXIgYT10aGlzLl9DcmVhdGVFdmVudChuKTtyZXR1cm4gdGhpcy5fQ2hlY2tOb25DaGFyYWN0ZXJLZXlzKGEsciksYS5kZXZpY2VUeXBlPUIuS2V5Ym9hcmQsYS5kZXZpY2VTbG90PTAsYS5pbnB1dEluZGV4PWUsYS50eXBlPXQ9PT0xPyJrZXlkb3duIjoia2V5dXAiLGEua2V5PVN0cmluZy5mcm9tQ2hhckNvZGUoZSksYS5rZXlDb2RlPWUsYX0saS5fQ2hlY2tOb25DaGFyYWN0ZXJLZXlzPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dC5pc0RldmljZUF2YWlsYWJsZShCLktleWJvYXJkKSxuPXImJnQucG9sbElucHV0KEIuS2V5Ym9hcmQsMCwxOCk9PT0xLGE9ciYmdC5wb2xsSW5wdXQoQi5LZXlib2FyZCwwLDE3KT09PTEscz1yJiYodC5wb2xsSW5wdXQoQi5LZXlib2FyZCwwLDkxKT09PTF8fHQucG9sbElucHV0KEIuS2V5Ym9hcmQsMCw5Mik9PT0xfHx0LnBvbGxJbnB1dChCLktleWJvYXJkLDAsOTMpPT09MSksbz1yJiZ0LnBvbGxJbnB1dChCLktleWJvYXJkLDAsMTYpPT09MTtlLmFsdEtleT1uLGUuY3RybEtleT1hLGUubWV0YUtleT1zLGUuc2hpZnRLZXk9b30saS5fQ3JlYXRlRXZlbnQ9ZnVuY3Rpb24oZSl7dmFyIHQ9e307cmV0dXJuIHQucHJldmVudERlZmF1bHQ9ZnVuY3Rpb24oKXt9LHQudGFyZ2V0PWUsdH0saX0oKSxnYT1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoZSx0LHIpe3ZhciBuPXRoaXM7dGhpcy5fbmF0aXZlSW5wdXQ9X25hdGl2ZS5EZXZpY2VJbnB1dFN5c3RlbT9uZXcgX25hdGl2ZS5EZXZpY2VJbnB1dFN5c3RlbShlLHQsZnVuY3Rpb24oYSxzLG8sdSl7dmFyIGY9VnQuQ3JlYXRlRGV2aWNlRXZlbnQoYSxzLG8sdSxuKTtyKGEscyxmKX0pOnRoaXMuX2NyZWF0ZUR1bW15TmF0aXZlSW5wdXQoKX1yZXR1cm4gaS5wcm90b3R5cGUucG9sbElucHV0PWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gdGhpcy5fbmF0aXZlSW5wdXQucG9sbElucHV0KGUsdCxyKX0saS5wcm90b3R5cGUuaXNEZXZpY2VBdmFpbGFibGU9ZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT1CLk1vdXNlfHxlPT09Qi5Ub3VjaH0saS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3RoaXMuX25hdGl2ZUlucHV0LmRpc3Bvc2UoKX0saS5wcm90b3R5cGUuX2NyZWF0ZUR1bW15TmF0aXZlSW5wdXQ9ZnVuY3Rpb24oKXt2YXIgZT17cG9sbElucHV0OmZ1bmN0aW9uKCl7cmV0dXJuIDB9LGlzRGV2aWNlQXZhaWxhYmxlOmZ1bmN0aW9uKCl7cmV0dXJuITF9LGRpc3Bvc2U6ZnVuY3Rpb24oKXt9fTtyZXR1cm4gZX0saX0oKSxRaT0yNTUsJGk9T2JqZWN0LmtleXMoSCkubGVuZ3RoLzIsdmE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKGUsdCxyLG4pe3ZhciBhPXRoaXM7dGhpcy5faW5wdXRzPVtdLHRoaXMuX2tleWJvYXJkQWN0aXZlPSExLHRoaXMuX3BvaW50ZXJBY3RpdmU9ITEsdGhpcy5fdXNpbmdTYWZhcmk9X2UuSXNTYWZhcmkoKSx0aGlzLl9rZXlib2FyZERvd25FdmVudD1mdW5jdGlvbihzKXt9LHRoaXMuX2tleWJvYXJkVXBFdmVudD1mdW5jdGlvbihzKXt9LHRoaXMuX2tleWJvYXJkQmx1ckV2ZW50PWZ1bmN0aW9uKHMpe30sdGhpcy5fcG9pbnRlck1vdmVFdmVudD1mdW5jdGlvbihzKXt9LHRoaXMuX3BvaW50ZXJEb3duRXZlbnQ9ZnVuY3Rpb24ocyl7fSx0aGlzLl9wb2ludGVyVXBFdmVudD1mdW5jdGlvbihzKXt9LHRoaXMuX3BvaW50ZXJDYW5jZWxFdmVudD1mdW5jdGlvbihzKXt9LHRoaXMuX3BvaW50ZXJXaGVlbEV2ZW50PWZ1bmN0aW9uKHMpe30sdGhpcy5fcG9pbnRlckJsdXJFdmVudD1mdW5jdGlvbihzKXt9LHRoaXMuX2V2ZW50c0F0dGFjaGVkPSExLHRoaXMuX21vdXNlSWQ9LTEsdGhpcy5faXNVc2luZ0ZpcmVmb3g9enIuSXNOYXZpZ2F0b3JBdmFpbGFibGUoKSYmbmF2aWdhdG9yLnVzZXJBZ2VudCYmbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJGaXJlZm94IikhPT0tMSx0aGlzLl9tYXhUb3VjaFBvaW50cz0wLHRoaXMuX3BvaW50ZXJJbnB1dENsZWFyT2JzZXJ2ZXI9bnVsbCx0aGlzLl9nYW1lcGFkQ29ubmVjdGVkRXZlbnQ9ZnVuY3Rpb24ocyl7fSx0aGlzLl9nYW1lcGFkRGlzY29ubmVjdGVkRXZlbnQ9ZnVuY3Rpb24ocyl7fSx0aGlzLl9ldmVudFByZWZpeD1fZS5HZXRQb2ludGVyUHJlZml4KGUpLHRoaXMuX2VuZ2luZT1lLHRoaXMuX29uRGV2aWNlQ29ubmVjdGVkPXQsdGhpcy5fb25EZXZpY2VEaXNjb25uZWN0ZWQ9cix0aGlzLl9vbklucHV0Q2hhbmdlZD1uLHRoaXMuX2VuYWJsZUV2ZW50cygpLHRoaXMuX2VuZ2luZS5fb25FbmdpbmVWaWV3Q2hhbmdlZHx8KHRoaXMuX2VuZ2luZS5fb25FbmdpbmVWaWV3Q2hhbmdlZD1mdW5jdGlvbigpe2EuX2VuYWJsZUV2ZW50cygpfSl9cmV0dXJuIGkucHJvdG90eXBlLnBvbGxJbnB1dD1mdW5jdGlvbihlLHQscil7dmFyIG49dGhpcy5faW5wdXRzW2VdW3RdO2lmKCFuKXRocm93IlVuYWJsZSB0byBmaW5kIGRldmljZSAiLmNvbmNhdChCW2VdKTtlPj1CLkR1YWxTaG9jayYmZTw9Qi5EdWFsU2Vuc2UmJm5hdmlnYXRvci5nZXRHYW1lcGFkcyYmdGhpcy5fdXBkYXRlRGV2aWNlKGUsdCxyKTt2YXIgYT1uW3JdO2lmKGE9PT12b2lkIDApdGhyb3ciVW5hYmxlIHRvIGZpbmQgaW5wdXQgIi5jb25jYXQociwiIGZvciBkZXZpY2UgIikuY29uY2F0KEJbZV0sIiBpbiBzbG90ICIpLmNvbmNhdCh0KTtyZXR1cm4gcj09PUguTW92ZSYmX2UuV2FybigiVW5hYmxlIHRvIHByb3ZpZGUgaW5mb3JtYXRpb24gZm9yIFBvaW50ZXJJbnB1dC5Nb3ZlLiAgVHJ5IHVzaW5nIFBvaW50ZXJJbnB1dC5Ib3Jpem9udGFsIG9yIFBvaW50ZXJJbnB1dC5WZXJ0aWNhbCBmb3IgbW92ZSBkYXRhLiIpLGF9LGkucHJvdG90eXBlLmlzRGV2aWNlQXZhaWxhYmxlPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9pbnB1dHNbZV0hPT12b2lkIDB9LGkucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt0aGlzLl9vbkRldmljZUNvbm5lY3RlZD1mdW5jdGlvbigpe30sdGhpcy5fb25EZXZpY2VEaXNjb25uZWN0ZWQ9ZnVuY3Rpb24oKXt9LHRoaXMuX29uSW5wdXRDaGFuZ2VkPWZ1bmN0aW9uKCl7fSxkZWxldGUgdGhpcy5fZW5naW5lLl9vbkVuZ2luZVZpZXdDaGFuZ2VkLHRoaXMuX2VsZW1lbnRUb0F0dGFjaFRvJiZ0aGlzLl9kaXNhYmxlRXZlbnRzKCl9LGkucHJvdG90eXBlLl9lbmFibGVFdmVudHM9ZnVuY3Rpb24oKXt2YXIgZT10aGlzPT09bnVsbHx8dGhpcz09PXZvaWQgMD92b2lkIDA6dGhpcy5fZW5naW5lLmdldElucHV0RWxlbWVudCgpO2lmKGUmJighdGhpcy5fZXZlbnRzQXR0YWNoZWR8fHRoaXMuX2VsZW1lbnRUb0F0dGFjaFRvIT09ZSkpe2lmKHRoaXMuX2Rpc2FibGVFdmVudHMoKSx0aGlzLl9pbnB1dHMpZm9yKHZhciB0PTAscj10aGlzLl9pbnB1dHM7dDxyLmxlbmd0aDt0Kyspe3ZhciBuPXJbdF07aWYobilmb3IodmFyIGEgaW4gbil7dmFyIHM9K2Esbz1uW3NdO2lmKG8pZm9yKHZhciB1PTA7dTxvLmxlbmd0aDt1Kyspb1t1XT0wfX10aGlzLl9lbGVtZW50VG9BdHRhY2hUbz1lLHRoaXMuX2VsZW1lbnRUb0F0dGFjaFRvLnRhYkluZGV4PXRoaXMuX2VsZW1lbnRUb0F0dGFjaFRvLnRhYkluZGV4IT09LTE/dGhpcy5fZWxlbWVudFRvQXR0YWNoVG8udGFiSW5kZXg6dGhpcy5fZW5naW5lLmNhbnZhc1RhYkluZGV4LHRoaXMuX2hhbmRsZUtleUFjdGlvbnMoKSx0aGlzLl9oYW5kbGVQb2ludGVyQWN0aW9ucygpLHRoaXMuX2hhbmRsZUdhbWVwYWRBY3Rpb25zKCksdGhpcy5fZXZlbnRzQXR0YWNoZWQ9ITAsdGhpcy5fY2hlY2tGb3JDb25uZWN0ZWREZXZpY2VzKCl9fSxpLnByb3RvdHlwZS5fZGlzYWJsZUV2ZW50cz1mdW5jdGlvbigpe3RoaXMuX2VsZW1lbnRUb0F0dGFjaFRvJiYodGhpcy5fZWxlbWVudFRvQXR0YWNoVG8ucmVtb3ZlRXZlbnRMaXN0ZW5lcigiYmx1ciIsdGhpcy5fa2V5Ym9hcmRCbHVyRXZlbnQpLHRoaXMuX2VsZW1lbnRUb0F0dGFjaFRvLnJlbW92ZUV2ZW50TGlzdGVuZXIoImJsdXIiLHRoaXMuX3BvaW50ZXJCbHVyRXZlbnQpLHRoaXMuX2VsZW1lbnRUb0F0dGFjaFRvLnJlbW92ZUV2ZW50TGlzdGVuZXIoImtleWRvd24iLHRoaXMuX2tleWJvYXJkRG93bkV2ZW50KSx0aGlzLl9lbGVtZW50VG9BdHRhY2hUby5yZW1vdmVFdmVudExpc3RlbmVyKCJrZXl1cCIsdGhpcy5fa2V5Ym9hcmRVcEV2ZW50KSx0aGlzLl9lbGVtZW50VG9BdHRhY2hUby5yZW1vdmVFdmVudExpc3RlbmVyKHRoaXMuX2V2ZW50UHJlZml4KyJtb3ZlIix0aGlzLl9wb2ludGVyTW92ZUV2ZW50KSx0aGlzLl9lbGVtZW50VG9BdHRhY2hUby5yZW1vdmVFdmVudExpc3RlbmVyKHRoaXMuX2V2ZW50UHJlZml4KyJkb3duIix0aGlzLl9wb2ludGVyRG93bkV2ZW50KSx0aGlzLl9lbGVtZW50VG9BdHRhY2hUby5yZW1vdmVFdmVudExpc3RlbmVyKHRoaXMuX2V2ZW50UHJlZml4KyJ1cCIsdGhpcy5fcG9pbnRlclVwRXZlbnQpLHRoaXMuX2VsZW1lbnRUb0F0dGFjaFRvLnJlbW92ZUV2ZW50TGlzdGVuZXIodGhpcy5fZXZlbnRQcmVmaXgrImNhbmNlbCIsdGhpcy5fcG9pbnRlckNhbmNlbEV2ZW50KSx0aGlzLl9lbGVtZW50VG9BdHRhY2hUby5yZW1vdmVFdmVudExpc3RlbmVyKHRoaXMuX3doZWVsRXZlbnROYW1lLHRoaXMuX3BvaW50ZXJXaGVlbEV2ZW50KSx3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigiZ2FtZXBhZGNvbm5lY3RlZCIsdGhpcy5fZ2FtZXBhZENvbm5lY3RlZEV2ZW50KSx3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigiZ2FtZXBhZGRpc2Nvbm5lY3RlZCIsdGhpcy5fZ2FtZXBhZERpc2Nvbm5lY3RlZEV2ZW50KSksdGhpcy5fcG9pbnRlcklucHV0Q2xlYXJPYnNlcnZlciYmdGhpcy5fZW5naW5lLm9uRW5kRnJhbWVPYnNlcnZhYmxlLnJlbW92ZSh0aGlzLl9wb2ludGVySW5wdXRDbGVhck9ic2VydmVyKSx0aGlzLl9ldmVudHNBdHRhY2hlZD0hMX0saS5wcm90b3R5cGUuX2NoZWNrRm9yQ29ubmVjdGVkRGV2aWNlcz1mdW5jdGlvbigpe2lmKG5hdmlnYXRvci5nZXRHYW1lcGFkcylmb3IodmFyIGU9bmF2aWdhdG9yLmdldEdhbWVwYWRzKCksdD0wLHI9ZTt0PHIubGVuZ3RoO3QrKyl7dmFyIG49clt0XTtuJiZ0aGlzLl9hZGRHYW1lUGFkKG4pfXR5cGVvZiBtYXRjaE1lZGlhPT0iZnVuY3Rpb24iJiZtYXRjaE1lZGlhKCIocG9pbnRlcjpmaW5lKSIpLm1hdGNoZXMmJnRoaXMuX2FkZFBvaW50ZXJEZXZpY2UoQi5Nb3VzZSwwLDAsMCl9LGkucHJvdG90eXBlLl9hZGRHYW1lUGFkPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX2dldEdhbWVwYWREZXZpY2VUeXBlKGUuaWQpLHI9ZS5pbmRleDt0aGlzLl9nYW1lcGFkcz10aGlzLl9nYW1lcGFkc3x8bmV3IEFycmF5KGUuaW5kZXgrMSksdGhpcy5fcmVnaXN0ZXJEZXZpY2UodCxyLGUuYnV0dG9ucy5sZW5ndGgrZS5heGVzLmxlbmd0aCksdGhpcy5fZ2FtZXBhZHNbcl09dH0saS5wcm90b3R5cGUuX2FkZFBvaW50ZXJEZXZpY2U9ZnVuY3Rpb24oZSx0LHIsbil7dGhpcy5fcG9pbnRlckFjdGl2ZXx8KHRoaXMuX3BvaW50ZXJBY3RpdmU9ITApLHRoaXMuX3JlZ2lzdGVyRGV2aWNlKGUsdCwkaSk7dmFyIGE9dGhpcy5faW5wdXRzW2VdW3RdO2FbMF09cixhWzFdPW59LGkucHJvdG90eXBlLl9yZWdpc3RlckRldmljZT1mdW5jdGlvbihlLHQscil7aWYodD09PXZvaWQgMCl0aHJvdyJVbmFibGUgdG8gcmVnaXN0ZXIgZGV2aWNlICIuY29uY2F0KEJbZV0sIiB0byB1bmRlZmluZWQgc2xvdC4iKTtpZih0aGlzLl9pbnB1dHNbZV18fCh0aGlzLl9pbnB1dHNbZV09e30pLCF0aGlzLl9pbnB1dHNbZV1bdF0pe2Zvcih2YXIgbj1uZXcgQXJyYXkociksYT0wO2E8cjthKyspblthXT0wO3RoaXMuX2lucHV0c1tlXVt0XT1uLHRoaXMuX29uRGV2aWNlQ29ubmVjdGVkKGUsdCl9fSxpLnByb3RvdHlwZS5fdW5yZWdpc3RlckRldmljZT1mdW5jdGlvbihlLHQpe3RoaXMuX2lucHV0c1tlXVt0XSYmKGRlbGV0ZSB0aGlzLl9pbnB1dHNbZV1bdF0sdGhpcy5fb25EZXZpY2VEaXNjb25uZWN0ZWQoZSx0KSl9LGkucHJvdG90eXBlLl9oYW5kbGVLZXlBY3Rpb25zPWZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLl9rZXlib2FyZERvd25FdmVudD1mdW5jdGlvbih0KXtlLl9rZXlib2FyZEFjdGl2ZXx8KGUuX2tleWJvYXJkQWN0aXZlPSEwLGUuX3JlZ2lzdGVyRGV2aWNlKEIuS2V5Ym9hcmQsMCxRaSkpO3ZhciByPWUuX2lucHV0c1tCLktleWJvYXJkXVswXTtpZihyKXtyW3Qua2V5Q29kZV09MTt2YXIgbj10O24uaW5wdXRJbmRleD10LmtleUNvZGUsZS5fb25JbnB1dENoYW5nZWQoQi5LZXlib2FyZCwwLG4pfX0sdGhpcy5fa2V5Ym9hcmRVcEV2ZW50PWZ1bmN0aW9uKHQpe2UuX2tleWJvYXJkQWN0aXZlfHwoZS5fa2V5Ym9hcmRBY3RpdmU9ITAsZS5fcmVnaXN0ZXJEZXZpY2UoQi5LZXlib2FyZCwwLFFpKSk7dmFyIHI9ZS5faW5wdXRzW0IuS2V5Ym9hcmRdWzBdO2lmKHIpe3JbdC5rZXlDb2RlXT0wO3ZhciBuPXQ7bi5pbnB1dEluZGV4PXQua2V5Q29kZSxlLl9vbklucHV0Q2hhbmdlZChCLktleWJvYXJkLDAsbil9fSx0aGlzLl9rZXlib2FyZEJsdXJFdmVudD1mdW5jdGlvbigpe2lmKGUuX2tleWJvYXJkQWN0aXZlKXtmb3IodmFyIHQ9ZS5faW5wdXRzW0IuS2V5Ym9hcmRdWzBdLHI9MDtyPHQubGVuZ3RoO3IrKylpZih0W3JdIT09MCl7dFtyXT0wO3ZhciBuPVZ0LkNyZWF0ZURldmljZUV2ZW50KEIuS2V5Ym9hcmQsMCxyLDAsZSxlLl9lbGVtZW50VG9BdHRhY2hUbyk7ZS5fb25JbnB1dENoYW5nZWQoQi5LZXlib2FyZCwwLG4pfX19LHRoaXMuX2VsZW1lbnRUb0F0dGFjaFRvLmFkZEV2ZW50TGlzdGVuZXIoImtleWRvd24iLHRoaXMuX2tleWJvYXJkRG93bkV2ZW50KSx0aGlzLl9lbGVtZW50VG9BdHRhY2hUby5hZGRFdmVudExpc3RlbmVyKCJrZXl1cCIsdGhpcy5fa2V5Ym9hcmRVcEV2ZW50KSx0aGlzLl9lbGVtZW50VG9BdHRhY2hUby5hZGRFdmVudExpc3RlbmVyKCJibHVyIix0aGlzLl9rZXlib2FyZEJsdXJFdmVudCl9LGkucHJvdG90eXBlLl9oYW5kbGVQb2ludGVyQWN0aW9ucz1mdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5fbWF4VG91Y2hQb2ludHM9enIuSXNOYXZpZ2F0b3JBdmFpbGFibGUoKSYmbmF2aWdhdG9yLm1heFRvdWNoUG9pbnRzfHwyLHRoaXMuX2FjdGl2ZVRvdWNoSWRzfHwodGhpcy5fYWN0aXZlVG91Y2hJZHM9bmV3IEFycmF5KHRoaXMuX21heFRvdWNoUG9pbnRzKSk7Zm9yKHZhciB0PTA7dDx0aGlzLl9tYXhUb3VjaFBvaW50czt0KyspdGhpcy5fYWN0aXZlVG91Y2hJZHNbdF09LTE7dGhpcy5fcG9pbnRlck1vdmVFdmVudD1mdW5jdGlvbihzKXt2YXIgbz1lLl9nZXRQb2ludGVyVHlwZShzKSx1PW89PT1CLk1vdXNlPzA6ZS5fYWN0aXZlVG91Y2hJZHMuaW5kZXhPZihzLnBvaW50ZXJJZCk7ZS5faW5wdXRzW29dfHwoZS5faW5wdXRzW29dPXt9KSxlLl9pbnB1dHNbb11bdV18fGUuX2FkZFBvaW50ZXJEZXZpY2Uobyx1LHMuY2xpZW50WCxzLmNsaWVudFkpO3ZhciBmPWUuX2lucHV0c1tvXVt1XTtpZihmKXtmW0guSG9yaXpvbnRhbF09cy5jbGllbnRYLGZbSC5WZXJ0aWNhbF09cy5jbGllbnRZO3ZhciBsPXM7bC5pbnB1dEluZGV4PUguTW92ZSxlLl9vbklucHV0Q2hhbmdlZChvLHUsbCksIWUuX3VzaW5nU2FmYXJpJiZzLmJ1dHRvbiE9PS0xJiYobC5pbnB1dEluZGV4PXMuYnV0dG9uKzIsZltzLmJ1dHRvbisyXT1mW3MuYnV0dG9uKzJdPzA6MSxlLl9vbklucHV0Q2hhbmdlZChvLHUsbCkpfX0sdGhpcy5fcG9pbnRlckRvd25FdmVudD1mdW5jdGlvbihzKXt2YXIgbz1lLl9nZXRQb2ludGVyVHlwZShzKSx1PW89PT1CLk1vdXNlPzA6cy5wb2ludGVySWQ7aWYobz09PUIuVG91Y2gpe3ZhciBmPWUuX2FjdGl2ZVRvdWNoSWRzLmluZGV4T2YoLTEpO2lmKGY+PTApdT1mLGUuX2FjdGl2ZVRvdWNoSWRzW2ZdPXMucG9pbnRlcklkO2Vsc2V7X2UuV2FybigiTWF4IG51bWJlciBvZiB0b3VjaGVzIGV4Y2VlZGVkLiAgSWdub3JpbmcgdG91Y2hlcyBpbiBleGNlc3Mgb2YgIi5jb25jYXQoZS5fbWF4VG91Y2hQb2ludHMpKTtyZXR1cm59fWUuX2lucHV0c1tvXXx8KGUuX2lucHV0c1tvXT17fSksZS5faW5wdXRzW29dW3VdP289PT1CLlRvdWNoJiZlLl9vbkRldmljZUNvbm5lY3RlZChvLHUpOmUuX2FkZFBvaW50ZXJEZXZpY2Uobyx1LHMuY2xpZW50WCxzLmNsaWVudFkpO3ZhciBsPWUuX2lucHV0c1tvXVt1XTtpZihsKXt2YXIgaD1sW0guSG9yaXpvbnRhbF0sYz1sW0guVmVydGljYWxdO2lmKG89PT1CLk1vdXNlKXtpZihlLl9tb3VzZUlkPT09LTEmJihzLnBvaW50ZXJJZD09PXZvaWQgMD9lLl9tb3VzZUlkPWUuX2lzVXNpbmdGaXJlZm94PzA6MTplLl9tb3VzZUlkPXMucG9pbnRlcklkKSwhZG9jdW1lbnQucG9pbnRlckxvY2tFbGVtZW50JiZlLl9lbGVtZW50VG9BdHRhY2hUby5oYXNQb2ludGVyQ2FwdHVyZSl0cnl7ZS5fZWxlbWVudFRvQXR0YWNoVG8uc2V0UG9pbnRlckNhcHR1cmUoZS5fbW91c2VJZCl9Y2F0Y2h7fX1lbHNlIGlmKHMucG9pbnRlcklkJiYhZG9jdW1lbnQucG9pbnRlckxvY2tFbGVtZW50JiZlLl9lbGVtZW50VG9BdHRhY2hUby5oYXNQb2ludGVyQ2FwdHVyZSl0cnl7ZS5fZWxlbWVudFRvQXR0YWNoVG8uc2V0UG9pbnRlckNhcHR1cmUocy5wb2ludGVySWQpfWNhdGNoe31sW0guSG9yaXpvbnRhbF09cy5jbGllbnRYLGxbSC5WZXJ0aWNhbF09cy5jbGllbnRZLGxbcy5idXR0b24rMl09MTt2YXIgZD1zO2QuaW5wdXRJbmRleD1zLmJ1dHRvbisyLGUuX29uSW5wdXRDaGFuZ2VkKG8sdSxkKSwoaCE9PXMuY2xpZW50WHx8YyE9PXMuY2xpZW50WSkmJihkLmlucHV0SW5kZXg9SC5Nb3ZlLGUuX29uSW5wdXRDaGFuZ2VkKG8sdSxkKSl9fSx0aGlzLl9wb2ludGVyVXBFdmVudD1mdW5jdGlvbihzKXt2YXIgbyx1LGYsbCxoLGM9ZS5fZ2V0UG9pbnRlclR5cGUocyksZD1jPT09Qi5Nb3VzZT8wOmUuX2FjdGl2ZVRvdWNoSWRzLmluZGV4T2Yocy5wb2ludGVySWQpO2lmKGM9PT1CLlRvdWNoKXtpZihkPT09LTEpcmV0dXJuO2UuX2FjdGl2ZVRvdWNoSWRzW2RdPS0xfXZhciBwPShvPWUuX2lucHV0c1tjXSk9PT1udWxsfHxvPT09dm9pZCAwP3ZvaWQgMDpvW2RdO2lmKHAmJnBbcy5idXR0b24rMl0hPT0wKXt2YXIgZz1wW0guSG9yaXpvbnRhbF0sXz1wW0guVmVydGljYWxdO3BbSC5Ib3Jpem9udGFsXT1zLmNsaWVudFgscFtILlZlcnRpY2FsXT1zLmNsaWVudFkscFtzLmJ1dHRvbisyXT0wO3ZhciB2PXM7KGchPT1zLmNsaWVudFh8fF8hPT1zLmNsaWVudFkpJiYodi5pbnB1dEluZGV4PUguTW92ZSxlLl9vbklucHV0Q2hhbmdlZChjLGQsdikpLHYuaW5wdXRJbmRleD1zLmJ1dHRvbisyLGM9PT1CLk1vdXNlJiZlLl9tb3VzZUlkPj0wJiYoKGY9KHU9ZS5fZWxlbWVudFRvQXR0YWNoVG8pLmhhc1BvaW50ZXJDYXB0dXJlKT09PW51bGx8fGY9PT12b2lkIDA/dm9pZCAwOmYuY2FsbCh1LGUuX21vdXNlSWQpKT9lLl9lbGVtZW50VG9BdHRhY2hUby5yZWxlYXNlUG9pbnRlckNhcHR1cmUoZS5fbW91c2VJZCk6cy5wb2ludGVySWQmJigoaD0obD1lLl9lbGVtZW50VG9BdHRhY2hUbykuaGFzUG9pbnRlckNhcHR1cmUpPT09bnVsbHx8aD09PXZvaWQgMD92b2lkIDA6aC5jYWxsKGwscy5wb2ludGVySWQpKSYmZS5fZWxlbWVudFRvQXR0YWNoVG8ucmVsZWFzZVBvaW50ZXJDYXB0dXJlKHMucG9pbnRlcklkKSxlLl9vbklucHV0Q2hhbmdlZChjLGQsdiksYz09PUIuVG91Y2gmJmUuX29uRGV2aWNlRGlzY29ubmVjdGVkKGMsZCl9fSx0aGlzLl9wb2ludGVyQ2FuY2VsRXZlbnQ9ZnVuY3Rpb24ocyl7dmFyIG8sdSxmLGw7aWYocy5wb2ludGVyVHlwZT09PSJtb3VzZSIpe3ZhciBoPWUuX2lucHV0c1tCLk1vdXNlXVswXTtlLl9tb3VzZUlkPj0wJiYoKHU9KG89ZS5fZWxlbWVudFRvQXR0YWNoVG8pLmhhc1BvaW50ZXJDYXB0dXJlKT09PW51bGx8fHU9PT12b2lkIDA/dm9pZCAwOnUuY2FsbChvLGUuX21vdXNlSWQpKSYmZS5fZWxlbWVudFRvQXR0YWNoVG8ucmVsZWFzZVBvaW50ZXJDYXB0dXJlKGUuX21vdXNlSWQpO2Zvcih2YXIgYz1ILkxlZnRDbGljaztjPD1ILkJyb3dzZXJGb3J3YXJkO2MrKylpZihoW2NdPT09MSl7aFtjXT0wO3ZhciBkPVZ0LkNyZWF0ZURldmljZUV2ZW50KEIuTW91c2UsMCxjLDAsZSxlLl9lbGVtZW50VG9BdHRhY2hUbyk7ZS5fb25JbnB1dENoYW5nZWQoQi5Nb3VzZSwwLGQpfX1lbHNle3ZhciBwPWUuX2FjdGl2ZVRvdWNoSWRzLmluZGV4T2Yocy5wb2ludGVySWQpOyEoKGw9KGY9ZS5fZWxlbWVudFRvQXR0YWNoVG8pLmhhc1BvaW50ZXJDYXB0dXJlKT09PW51bGx8fGw9PT12b2lkIDApJiZsLmNhbGwoZixzLnBvaW50ZXJJZCkmJmUuX2VsZW1lbnRUb0F0dGFjaFRvLnJlbGVhc2VQb2ludGVyQ2FwdHVyZShzLnBvaW50ZXJJZCksZS5faW5wdXRzW0IuVG91Y2hdW3BdW0guTGVmdENsaWNrXT0wO3ZhciBkPVZ0LkNyZWF0ZURldmljZUV2ZW50KEIuVG91Y2gscCxILkxlZnRDbGljaywwLGUsZS5fZWxlbWVudFRvQXR0YWNoVG8pO2UuX29uSW5wdXRDaGFuZ2VkKEIuVG91Y2gscCxkKSxlLl9hY3RpdmVUb3VjaElkc1twXT0tMSxlLl9vbkRldmljZURpc2Nvbm5lY3RlZChCLlRvdWNoLHApfX0sdGhpcy5fd2hlZWxFdmVudE5hbWU9Im9ud2hlZWwiaW4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik/IndoZWVsIjpkb2N1bWVudC5vbm1vdXNld2hlZWwhPT12b2lkIDA/Im1vdXNld2hlZWwiOiJET01Nb3VzZVNjcm9sbCI7dmFyIHI9ITEsbj1mdW5jdGlvbigpe307dHJ5e3ZhciBhPXtwYXNzaXZlOntnZXQ6ZnVuY3Rpb24oKXtyPSEwfX19O3RoaXMuX2VsZW1lbnRUb0F0dGFjaFRvLmFkZEV2ZW50TGlzdGVuZXIoInRlc3QiLG4sYSksdGhpcy5fZWxlbWVudFRvQXR0YWNoVG8ucmVtb3ZlRXZlbnRMaXN0ZW5lcigidGVzdCIsbixhKX1jYXRjaHt9dGhpcy5fcG9pbnRlckJsdXJFdmVudD1mdW5jdGlvbigpe3ZhciBzLG8sdSxmLGw7aWYoZS5pc0RldmljZUF2YWlsYWJsZShCLk1vdXNlKSl7dmFyIGg9ZS5faW5wdXRzW0IuTW91c2VdWzBdO2UuX21vdXNlSWQ+PTAmJigobz0ocz1lLl9lbGVtZW50VG9BdHRhY2hUbykuaGFzUG9pbnRlckNhcHR1cmUpPT09bnVsbHx8bz09PXZvaWQgMD92b2lkIDA6by5jYWxsKHMsZS5fbW91c2VJZCkpJiZlLl9lbGVtZW50VG9BdHRhY2hUby5yZWxlYXNlUG9pbnRlckNhcHR1cmUoZS5fbW91c2VJZCk7Zm9yKHZhciBjPUguTGVmdENsaWNrO2M8PUguQnJvd3NlckZvcndhcmQ7YysrKWlmKGhbY109PT0xKXtoW2NdPTA7dmFyIGQ9VnQuQ3JlYXRlRGV2aWNlRXZlbnQoQi5Nb3VzZSwwLGMsMCxlLGUuX2VsZW1lbnRUb0F0dGFjaFRvKTtlLl9vbklucHV0Q2hhbmdlZChCLk1vdXNlLDAsZCl9fWlmKGUuaXNEZXZpY2VBdmFpbGFibGUoQi5Ub3VjaCkpZm9yKHZhciBoPWUuX2lucHV0c1tCLlRvdWNoXSxwPTA7cDxlLl9hY3RpdmVUb3VjaElkcy5sZW5ndGg7cCsrKXt2YXIgZz1lLl9hY3RpdmVUb3VjaElkc1twXTtpZighKChmPSh1PWUuX2VsZW1lbnRUb0F0dGFjaFRvKS5oYXNQb2ludGVyQ2FwdHVyZSk9PT1udWxsfHxmPT09dm9pZCAwKSYmZi5jYWxsKHUsZykmJmUuX2VsZW1lbnRUb0F0dGFjaFRvLnJlbGVhc2VQb2ludGVyQ2FwdHVyZShnKSxnIT09LTEmJigobD1oW3BdKT09PW51bGx8fGw9PT12b2lkIDA/dm9pZCAwOmxbSC5MZWZ0Q2xpY2tdKT09PTEpe2hbcF1bSC5MZWZ0Q2xpY2tdPTA7dmFyIGQ9VnQuQ3JlYXRlRGV2aWNlRXZlbnQoQi5Ub3VjaCxwLEguTGVmdENsaWNrLDAsZSxlLl9lbGVtZW50VG9BdHRhY2hUbyk7ZS5fb25JbnB1dENoYW5nZWQoQi5Ub3VjaCxwLGQpLGUuX2FjdGl2ZVRvdWNoSWRzW3BdPS0xLGUuX29uRGV2aWNlRGlzY29ubmVjdGVkKEIuVG91Y2gscCl9fX0sdGhpcy5fcG9pbnRlcldoZWVsRXZlbnQ9ZnVuY3Rpb24ocyl7dmFyIG89Qi5Nb3VzZSx1PTA7ZS5faW5wdXRzW29dfHwoZS5faW5wdXRzW29dPVtdKSxlLl9pbnB1dHNbb11bdV18fChlLl9wb2ludGVyQWN0aXZlPSEwLGUuX3JlZ2lzdGVyRGV2aWNlKG8sdSwkaSkpO3ZhciBmPWUuX2lucHV0c1tvXVt1XTtpZihmKXtmW0guTW91c2VXaGVlbFhdPXMuZGVsdGFYfHwwLGZbSC5Nb3VzZVdoZWVsWV09cy5kZWx0YVl8fHMud2hlZWxEZWx0YXx8MCxmW0guTW91c2VXaGVlbFpdPXMuZGVsdGFafHwwO3ZhciBsPXM7ZltILk1vdXNlV2hlZWxYXSE9PTAmJihsLmlucHV0SW5kZXg9SC5Nb3VzZVdoZWVsWCxlLl9vbklucHV0Q2hhbmdlZChvLHUsbCkpLGZbSC5Nb3VzZVdoZWVsWV0hPT0wJiYobC5pbnB1dEluZGV4PUguTW91c2VXaGVlbFksZS5fb25JbnB1dENoYW5nZWQobyx1LGwpKSxmW0guTW91c2VXaGVlbFpdIT09MCYmKGwuaW5wdXRJbmRleD1ILk1vdXNlV2hlZWxaLGUuX29uSW5wdXRDaGFuZ2VkKG8sdSxsKSl9fSx0aGlzLl9lbGVtZW50VG9BdHRhY2hUby5hZGRFdmVudExpc3RlbmVyKHRoaXMuX2V2ZW50UHJlZml4KyJtb3ZlIix0aGlzLl9wb2ludGVyTW92ZUV2ZW50KSx0aGlzLl9lbGVtZW50VG9BdHRhY2hUby5hZGRFdmVudExpc3RlbmVyKHRoaXMuX2V2ZW50UHJlZml4KyJkb3duIix0aGlzLl9wb2ludGVyRG93bkV2ZW50KSx0aGlzLl9lbGVtZW50VG9BdHRhY2hUby5hZGRFdmVudExpc3RlbmVyKHRoaXMuX2V2ZW50UHJlZml4KyJ1cCIsdGhpcy5fcG9pbnRlclVwRXZlbnQpLHRoaXMuX2VsZW1lbnRUb0F0dGFjaFRvLmFkZEV2ZW50TGlzdGVuZXIodGhpcy5fZXZlbnRQcmVmaXgrImNhbmNlbCIsdGhpcy5fcG9pbnRlckNhbmNlbEV2ZW50KSx0aGlzLl9lbGVtZW50VG9BdHRhY2hUby5hZGRFdmVudExpc3RlbmVyKCJibHVyIix0aGlzLl9wb2ludGVyQmx1ckV2ZW50KSx0aGlzLl9lbGVtZW50VG9BdHRhY2hUby5hZGRFdmVudExpc3RlbmVyKHRoaXMuX3doZWVsRXZlbnROYW1lLHRoaXMuX3BvaW50ZXJXaGVlbEV2ZW50LHI/e3Bhc3NpdmU6ITF9OiExKSx0aGlzLl9wb2ludGVySW5wdXRDbGVhck9ic2VydmVyPXRoaXMuX2VuZ2luZS5vbkVuZEZyYW1lT2JzZXJ2YWJsZS5hZGQoZnVuY3Rpb24oKXtpZihlLmlzRGV2aWNlQXZhaWxhYmxlKEIuTW91c2UpKXt2YXIgcz1lLl9pbnB1dHNbQi5Nb3VzZV1bMF07c1tILk1vdXNlV2hlZWxYXT0wLHNbSC5Nb3VzZVdoZWVsWV09MCxzW0guTW91c2VXaGVlbFpdPTB9fSl9LGkucHJvdG90eXBlLl9oYW5kbGVHYW1lcGFkQWN0aW9ucz1mdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5fZ2FtZXBhZENvbm5lY3RlZEV2ZW50PWZ1bmN0aW9uKHQpe2UuX2FkZEdhbWVQYWQodC5nYW1lcGFkKX0sdGhpcy5fZ2FtZXBhZERpc2Nvbm5lY3RlZEV2ZW50PWZ1bmN0aW9uKHQpe2lmKGUuX2dhbWVwYWRzKXt2YXIgcj1lLl9nZXRHYW1lcGFkRGV2aWNlVHlwZSh0LmdhbWVwYWQuaWQpLG49dC5nYW1lcGFkLmluZGV4O2UuX3VucmVnaXN0ZXJEZXZpY2UocixuKSxkZWxldGUgZS5fZ2FtZXBhZHNbbl19fSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigiZ2FtZXBhZGNvbm5lY3RlZCIsdGhpcy5fZ2FtZXBhZENvbm5lY3RlZEV2ZW50KSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigiZ2FtZXBhZGRpc2Nvbm5lY3RlZCIsdGhpcy5fZ2FtZXBhZERpc2Nvbm5lY3RlZEV2ZW50KX0saS5wcm90b3R5cGUuX3VwZGF0ZURldmljZT1mdW5jdGlvbihlLHQscil7dmFyIG49bmF2aWdhdG9yLmdldEdhbWVwYWRzKClbdF07aWYobiYmZT09PXRoaXMuX2dhbWVwYWRzW3RdKXt2YXIgYT10aGlzLl9pbnB1dHNbZV1bdF07cj49bi5idXR0b25zLmxlbmd0aD9hW3JdPW4uYXhlc1tyLW4uYnV0dG9ucy5sZW5ndGhdLnZhbHVlT2YoKTphW3JdPW4uYnV0dG9uc1tyXS52YWx1ZX19LGkucHJvdG90eXBlLl9nZXRHYW1lcGFkRGV2aWNlVHlwZT1mdW5jdGlvbihlKXtyZXR1cm4gZS5pbmRleE9mKCIwNTRjIikhPT0tMT9lLmluZGV4T2YoIjBjZTYiKSE9PS0xP0IuRHVhbFNlbnNlOkIuRHVhbFNob2NrOmUuaW5kZXhPZigiWGJveCBPbmUiKSE9PS0xfHxlLnNlYXJjaCgiWGJveCAzNjAiKSE9PS0xfHxlLnNlYXJjaCgieGlucHV0IikhPT0tMT9CLlhib3g6ZS5pbmRleE9mKCIwNTdlIikhPT0tMT9CLlN3aXRjaDpCLkdlbmVyaWN9LGkucHJvdG90eXBlLl9nZXRQb2ludGVyVHlwZT1mdW5jdGlvbihlKXt2YXIgdD1CLk1vdXNlO3JldHVybihlLnBvaW50ZXJUeXBlPT09InRvdWNoInx8ZS5wb2ludGVyVHlwZT09PSJwZW4ifHxlLnRvdWNoZXMpJiYodD1CLlRvdWNoKSx0fSxpfSgpLEppPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaShlLHQscil7cj09PXZvaWQgMCYmKHI9MCksdGhpcy5kZXZpY2VUeXBlPXQsdGhpcy5kZXZpY2VTbG90PXIsdGhpcy5vbklucHV0Q2hhbmdlZE9ic2VydmFibGU9bmV3IE8sdGhpcy5fZGV2aWNlSW5wdXRTeXN0ZW09ZX1yZXR1cm4gaS5wcm90b3R5cGUuZ2V0SW5wdXQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX2RldmljZUlucHV0U3lzdGVtLnBvbGxJbnB1dCh0aGlzLmRldmljZVR5cGUsdGhpcy5kZXZpY2VTbG90LGUpfSxpfSgpLG1hPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaShlKXt2YXIgdD10aGlzO3RoaXMuX3JlZ2lzdGVyZWRNYW5hZ2Vycz1uZXcgQXJyYXksdGhpcy5fcmVmQ291bnQ9MCx0aGlzLnJlZ2lzdGVyTWFuYWdlcj1mdW5jdGlvbihvKXtmb3IodmFyIHU9MDt1PHQuX2RldmljZXMubGVuZ3RoO3UrKyl7dmFyIGY9dC5fZGV2aWNlc1t1XTtmb3IodmFyIGwgaW4gZil7dmFyIGg9K2w7by5fYWRkRGV2aWNlKG5ldyBKaSh0Ll9kZXZpY2VJbnB1dFN5c3RlbSx1LGgpKX19dC5fcmVnaXN0ZXJlZE1hbmFnZXJzLnB1c2gobyl9LHRoaXMudW5yZWdpc3Rlck1hbmFnZXI9ZnVuY3Rpb24obyl7dmFyIHU9dC5fcmVnaXN0ZXJlZE1hbmFnZXJzLmluZGV4T2Yobyk7dT4tMSYmdC5fcmVnaXN0ZXJlZE1hbmFnZXJzLnNwbGljZSh1LDEpfTt2YXIgcj1PYmplY3Qua2V5cyhCKS5sZW5ndGgvMjt0aGlzLl9kZXZpY2VzPW5ldyBBcnJheShyKTt2YXIgbj1mdW5jdGlvbihvLHUpe3QuX2RldmljZXNbb118fCh0Ll9kZXZpY2VzW29dPW5ldyBBcnJheSksdC5fZGV2aWNlc1tvXVt1XXx8KHQuX2RldmljZXNbb11bdV09dSk7Zm9yKHZhciBmPTAsbD10Ll9yZWdpc3RlcmVkTWFuYWdlcnM7ZjxsLmxlbmd0aDtmKyspe3ZhciBoPWxbZl0sYz1uZXcgSmkodC5fZGV2aWNlSW5wdXRTeXN0ZW0sbyx1KTtoLl9hZGREZXZpY2UoYyl9fSxhPWZ1bmN0aW9uKG8sdSl7dmFyIGY7ISgoZj10Ll9kZXZpY2VzW29dKT09PW51bGx8fGY9PT12b2lkIDApJiZmW3VdJiZkZWxldGUgdC5fZGV2aWNlc1tvXVt1XTtmb3IodmFyIGw9MCxoPXQuX3JlZ2lzdGVyZWRNYW5hZ2VycztsPGgubGVuZ3RoO2wrKyl7dmFyIGM9aFtsXTtjLl9yZW1vdmVEZXZpY2Uobyx1KX19LHM9ZnVuY3Rpb24obyx1LGYpe2lmKGYpZm9yKHZhciBsPTAsaD10Ll9yZWdpc3RlcmVkTWFuYWdlcnM7bDxoLmxlbmd0aDtsKyspe3ZhciBjPWhbbF07Yy5fb25JbnB1dENoYW5nZWQobyx1LGYpfX07dHlwZW9mIF9uYXRpdmUhPSJ1bmRlZmluZWQiP3RoaXMuX2RldmljZUlucHV0U3lzdGVtPW5ldyBnYShuLGEscyk6dGhpcy5fZGV2aWNlSW5wdXRTeXN0ZW09bmV3IHZhKGUsbixhLHMpfXJldHVybiBpLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7dGhpcy5fZGV2aWNlSW5wdXRTeXN0ZW0uZGlzcG9zZSgpfSxpfSgpLHlhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaShlKXt2YXIgdD10aGlzLHI9T2JqZWN0LmtleXMoQikubGVuZ3RoLzI7dGhpcy5fZGV2aWNlcz1uZXcgQXJyYXkociksdGhpcy5fZmlyc3REZXZpY2U9bmV3IEFycmF5KHIpLHRoaXMuX2VuZ2luZT1lLHRoaXMuX2VuZ2luZS5fZGV2aWNlU291cmNlTWFuYWdlcnx8KHRoaXMuX2VuZ2luZS5fZGV2aWNlU291cmNlTWFuYWdlcj1uZXcgbWEoZSkpLHRoaXMuX2VuZ2luZS5fZGV2aWNlU291cmNlTWFuYWdlci5fcmVmQ291bnQrKyx0aGlzLm9uRGV2aWNlQ29ubmVjdGVkT2JzZXJ2YWJsZT1uZXcgTyhmdW5jdGlvbihuKXtmb3IodmFyIGE9MCxzPXQuX2RldmljZXM7YTxzLmxlbmd0aDthKyspe3ZhciBvPXNbYV07aWYobylmb3IodmFyIHU9MCxmPW87dTxmLmxlbmd0aDt1Kyspe3ZhciBsPWZbdV07bCYmdC5vbkRldmljZUNvbm5lY3RlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXIobixsKX19fSksdGhpcy5vbkRldmljZURpc2Nvbm5lY3RlZE9ic2VydmFibGU9bmV3IE8sdGhpcy5fZW5naW5lLl9kZXZpY2VTb3VyY2VNYW5hZ2VyLnJlZ2lzdGVyTWFuYWdlcih0aGlzKSx0aGlzLl9vbkRpc3Bvc2VPYnNlcnZlcj1lLm9uRGlzcG9zZU9ic2VydmFibGUuYWRkKGZ1bmN0aW9uKCl7dC5kaXNwb3NlKCl9KX1yZXR1cm4gaS5wcm90b3R5cGUuZ2V0RGV2aWNlU291cmNlPWZ1bmN0aW9uKGUsdCl7aWYodD09PXZvaWQgMCl7aWYodGhpcy5fZmlyc3REZXZpY2VbZV09PT12b2lkIDApcmV0dXJuIG51bGw7dD10aGlzLl9maXJzdERldmljZVtlXX1yZXR1cm4hdGhpcy5fZGV2aWNlc1tlXXx8dGhpcy5fZGV2aWNlc1tlXVt0XT09PXZvaWQgMD9udWxsOnRoaXMuX2RldmljZXNbZV1bdF19LGkucHJvdG90eXBlLmdldERldmljZVNvdXJjZXM9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX2RldmljZXNbZV0uZmlsdGVyKGZ1bmN0aW9uKHQpe3JldHVybiEhdH0pfSxpLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7dGhpcy5vbkRldmljZUNvbm5lY3RlZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uRGV2aWNlRGlzY29ubmVjdGVkT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMuX2VuZ2luZS5fZGV2aWNlU291cmNlTWFuYWdlciYmKHRoaXMuX2VuZ2luZS5fZGV2aWNlU291cmNlTWFuYWdlci51bnJlZ2lzdGVyTWFuYWdlcih0aGlzKSwtLXRoaXMuX2VuZ2luZS5fZGV2aWNlU291cmNlTWFuYWdlci5fcmVmQ291bnQ8MSYmKHRoaXMuX2VuZ2luZS5fZGV2aWNlU291cmNlTWFuYWdlci5kaXNwb3NlKCksZGVsZXRlIHRoaXMuX2VuZ2luZS5fZGV2aWNlU291cmNlTWFuYWdlcikpLHRoaXMuX2VuZ2luZS5vbkRpc3Bvc2VPYnNlcnZhYmxlLnJlbW92ZSh0aGlzLl9vbkRpc3Bvc2VPYnNlcnZlcil9LGkucHJvdG90eXBlLl9hZGREZXZpY2U9ZnVuY3Rpb24oZSl7dGhpcy5fZGV2aWNlc1tlLmRldmljZVR5cGVdfHwodGhpcy5fZGV2aWNlc1tlLmRldmljZVR5cGVdPW5ldyBBcnJheSksdGhpcy5fZGV2aWNlc1tlLmRldmljZVR5cGVdW2UuZGV2aWNlU2xvdF18fCh0aGlzLl9kZXZpY2VzW2UuZGV2aWNlVHlwZV1bZS5kZXZpY2VTbG90XT1lLHRoaXMuX3VwZGF0ZUZpcnN0RGV2aWNlcyhlLmRldmljZVR5cGUpKSx0aGlzLm9uRGV2aWNlQ29ubmVjdGVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoZSl9LGkucHJvdG90eXBlLl9yZW1vdmVEZXZpY2U9ZnVuY3Rpb24oZSx0KXt2YXIgcixuLGE9KHI9dGhpcy5fZGV2aWNlc1tlXSk9PT1udWxsfHxyPT09dm9pZCAwP3ZvaWQgMDpyW3RdO3RoaXMub25EZXZpY2VEaXNjb25uZWN0ZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhhKSwhKChuPXRoaXMuX2RldmljZXNbZV0pPT09bnVsbHx8bj09PXZvaWQgMCkmJm5bdF0mJmRlbGV0ZSB0aGlzLl9kZXZpY2VzW2VdW3RdLHRoaXMuX3VwZGF0ZUZpcnN0RGV2aWNlcyhlKX0saS5wcm90b3R5cGUuX29uSW5wdXRDaGFuZ2VkPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbixhOyhhPShuPXRoaXMuX2RldmljZXNbZV0pPT09bnVsbHx8bj09PXZvaWQgMD92b2lkIDA6blt0XSk9PT1udWxsfHxhPT09dm9pZCAwfHxhLm9uSW5wdXRDaGFuZ2VkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMocil9LGkucHJvdG90eXBlLl91cGRhdGVGaXJzdERldmljZXM9ZnVuY3Rpb24oZSl7c3dpdGNoKGUpe2Nhc2UgQi5LZXlib2FyZDpjYXNlIEIuTW91c2U6dGhpcy5fZmlyc3REZXZpY2VbZV09MDticmVhaztjYXNlIEIuVG91Y2g6Y2FzZSBCLkR1YWxTZW5zZTpjYXNlIEIuRHVhbFNob2NrOmNhc2UgQi5YYm94OmNhc2UgQi5Td2l0Y2g6Y2FzZSBCLkdlbmVyaWM6e2RlbGV0ZSB0aGlzLl9maXJzdERldmljZVtlXTt2YXIgdD10aGlzLl9kZXZpY2VzW2VdO2lmKHQpe2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKWlmKHRbcl0pe3RoaXMuX2ZpcnN0RGV2aWNlW2VdPXI7YnJlYWt9fWJyZWFrfX19LGl9KCksZW49ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKCl7dGhpcy5fc2luZ2xlQ2xpY2s9ITEsdGhpcy5fZG91YmxlQ2xpY2s9ITEsdGhpcy5faGFzU3dpcGVkPSExLHRoaXMuX2lnbm9yZT0hMX1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJzaW5nbGVDbGljayIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zaW5nbGVDbGlja30sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX3NpbmdsZUNsaWNrPWV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJkb3VibGVDbGljayIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kb3VibGVDbGlja30sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX2RvdWJsZUNsaWNrPWV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJoYXNTd2lwZWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faGFzU3dpcGVkfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5faGFzU3dpcGVkPWV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJpZ25vcmUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faWdub3JlfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5faWdub3JlPWV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksaX0oKSxodD1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoZSl7dGhpcy5fYWxyZWFkeUF0dGFjaGVkPSExLHRoaXMuX21lc2hQaWNrUHJvY2VlZD0hMSx0aGlzLl9jdXJyZW50UGlja1Jlc3VsdD1udWxsLHRoaXMuX3ByZXZpb3VzUGlja1Jlc3VsdD1udWxsLHRoaXMuX3RvdGFsUG9pbnRlcnNQcmVzc2VkPTAsdGhpcy5fZG91YmxlQ2xpY2tPY2N1cmVkPSExLHRoaXMuX3BvaW50ZXJYPTAsdGhpcy5fcG9pbnRlclk9MCx0aGlzLl9zdGFydGluZ1BvaW50ZXJQb3NpdGlvbj1uZXcgU2UoMCwwKSx0aGlzLl9wcmV2aW91c1N0YXJ0aW5nUG9pbnRlclBvc2l0aW9uPW5ldyBTZSgwLDApLHRoaXMuX3N0YXJ0aW5nUG9pbnRlclRpbWU9MCx0aGlzLl9wcmV2aW91c1N0YXJ0aW5nUG9pbnRlclRpbWU9MCx0aGlzLl9wb2ludGVyQ2FwdHVyZXM9e30sdGhpcy5fbWVzaFVuZGVyUG9pbnRlcklkPXt9LHRoaXMuX2RldmljZVNvdXJjZU1hbmFnZXI9bnVsbCx0aGlzLl9zY2VuZT1lfHxhZS5MYXN0Q3JlYXRlZFNjZW5lLHRoaXMuX3NjZW5lfXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsIm1lc2hVbmRlclBvaW50ZXIiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcG9pbnRlck92ZXJNZXNofSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkucHJvdG90eXBlLmdldE1lc2hVbmRlclBvaW50ZXJCeVBvaW50ZXJJZD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fbWVzaFVuZGVyUG9pbnRlcklkW2VdfHxudWxsfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsInVuVHJhbnNsYXRlZFBvaW50ZXIiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFNlKHRoaXMuX3VuVHJhbnNsYXRlZFBvaW50ZXJYLHRoaXMuX3VuVHJhbnNsYXRlZFBvaW50ZXJZKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsInBvaW50ZXJYIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BvaW50ZXJYfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fcG9pbnRlclg9ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsInBvaW50ZXJZIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BvaW50ZXJZfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fcG9pbnRlclk9ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLnByb3RvdHlwZS5fdXBkYXRlUG9pbnRlclBvc2l0aW9uPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX3NjZW5lLmdldEVuZ2luZSgpLmdldElucHV0RWxlbWVudENsaWVudFJlY3QoKTshdHx8KHRoaXMuX3BvaW50ZXJYPWUuY2xpZW50WC10LmxlZnQsdGhpcy5fcG9pbnRlclk9ZS5jbGllbnRZLXQudG9wLHRoaXMuX3VuVHJhbnNsYXRlZFBvaW50ZXJYPXRoaXMuX3BvaW50ZXJYLHRoaXMuX3VuVHJhbnNsYXRlZFBvaW50ZXJZPXRoaXMuX3BvaW50ZXJZKX0saS5wcm90b3R5cGUuX3Byb2Nlc3NQb2ludGVyTW92ZT1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXMuX3NjZW5lLG49ci5nZXRFbmdpbmUoKSxhPW4uZ2V0SW5wdXRFbGVtZW50KCk7YSYmKGEudGFiSW5kZXg9bi5jYW52YXNUYWJJbmRleCxyLmRvTm90SGFuZGxlQ3Vyc29yc3x8KGEuc3R5bGUuY3Vyc29yPXIuZGVmYXVsdEN1cnNvcikpO3ZhciBzPSEhKGUmJmUuaGl0JiZlLnBpY2tlZE1lc2gpO2lmKHMpe2lmKHIuc2V0UG9pbnRlck92ZXJNZXNoKGUucGlja2VkTWVzaCx0LnBvaW50ZXJJZCxlKSwhci5kb05vdEhhbmRsZUN1cnNvcnMmJmEmJnRoaXMuX3BvaW50ZXJPdmVyTWVzaCl7dmFyIG89dGhpcy5fcG9pbnRlck92ZXJNZXNoLl9nZXRBY3Rpb25NYW5hZ2VyRm9yVHJpZ2dlcigpO28mJm8uaGFzUG9pbnRlclRyaWdnZXJzJiYoYS5zdHlsZS5jdXJzb3I9by5ob3ZlckN1cnNvcnx8ci5ob3ZlckN1cnNvcil9fWVsc2Ugci5zZXRQb2ludGVyT3Zlck1lc2gobnVsbCx0LnBvaW50ZXJJZCxlKTtmb3IodmFyIHU9MCxmPXIuX3BvaW50ZXJNb3ZlU3RhZ2U7dTxmLmxlbmd0aDt1Kyspe3ZhciBsPWZbdV07ZT1sLmFjdGlvbih0aGlzLl91blRyYW5zbGF0ZWRQb2ludGVyWCx0aGlzLl91blRyYW5zbGF0ZWRQb2ludGVyWSxlLHMsYSl9aWYoZSl7dmFyIGg9dC50eXBlPT09IndoZWVsInx8dC50eXBlPT09Im1vdXNld2hlZWwifHx0LnR5cGU9PT0iRE9NTW91c2VTY3JvbGwiP2hlLlBPSU5URVJXSEVFTDpoZS5QT0lOVEVSTU9WRTtpZihyLm9uUG9pbnRlck1vdmUmJnIub25Qb2ludGVyTW92ZSh0LGUsaCksci5vblBvaW50ZXJPYnNlcnZhYmxlLmhhc09ic2VydmVycygpKXt2YXIgYz1uZXcgaXIoaCx0LGUpO3RoaXMuX3NldFJheU9uUG9pbnRlckluZm8oYyksci5vblBvaW50ZXJPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhjLGgpfX19LGkucHJvdG90eXBlLl9zZXRSYXlPblBvaW50ZXJJbmZvPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX3NjZW5lO2UucGlja0luZm8mJiFlLnBpY2tJbmZvLl9waWNraW5nVW5hdmFpbGFibGUmJihlLnBpY2tJbmZvLnJheXx8KGUucGlja0luZm8ucmF5PXQuY3JlYXRlUGlja2luZ1JheShlLmV2ZW50Lm9mZnNldFgsZS5ldmVudC5vZmZzZXRZLEkuSWRlbnRpdHkoKSx0LmFjdGl2ZUNhbWVyYSkpKX0saS5wcm90b3R5cGUuX2NoZWNrUHJlUG9pbnRlck9ic2VydmFibGU9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXRoaXMuX3NjZW5lLGE9bmV3IHBhKHIsdCx0aGlzLl91blRyYW5zbGF0ZWRQb2ludGVyWCx0aGlzLl91blRyYW5zbGF0ZWRQb2ludGVyWSk7cmV0dXJuIGUmJihhLnJheT1lLnJheSxlLm9yaWdpbk1lc2gmJihhLm5lYXJJbnRlcmFjdGlvblBpY2tpbmdJbmZvPWUpKSxuLm9uUHJlUG9pbnRlck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGEsciksISFhLnNraXBPblBvaW50ZXJPYnNlcnZhYmxlfSxpLnByb3RvdHlwZS5zaW11bGF0ZVBvaW50ZXJNb3ZlPWZ1bmN0aW9uKGUsdCl7dmFyIHI9bmV3IFBvaW50ZXJFdmVudCgicG9pbnRlcm1vdmUiLHQpO3IuaW5wdXRJbmRleD1ILk1vdmUsIXRoaXMuX2NoZWNrUHJlUG9pbnRlck9ic2VydmFibGUoZSxyLGhlLlBPSU5URVJNT1ZFKSYmdGhpcy5fcHJvY2Vzc1BvaW50ZXJNb3ZlKGUscil9LGkucHJvdG90eXBlLnNpbXVsYXRlUG9pbnRlckRvd249ZnVuY3Rpb24oZSx0KXt2YXIgcj1uZXcgUG9pbnRlckV2ZW50KCJwb2ludGVyZG93biIsdCk7ci5pbnB1dEluZGV4PXIuYnV0dG9uKzIsIXRoaXMuX2NoZWNrUHJlUG9pbnRlck9ic2VydmFibGUoZSxyLGhlLlBPSU5URVJET1dOKSYmdGhpcy5fcHJvY2Vzc1BvaW50ZXJEb3duKGUscil9LGkucHJvdG90eXBlLl9wcm9jZXNzUG9pbnRlckRvd249ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLG49dGhpcy5fc2NlbmU7aWYoZSYmZS5oaXQmJmUucGlja2VkTWVzaCl7dGhpcy5fcGlja2VkRG93bk1lc2g9ZS5waWNrZWRNZXNoO3ZhciBhPWUucGlja2VkTWVzaC5fZ2V0QWN0aW9uTWFuYWdlckZvclRyaWdnZXIoKTtpZihhKXtpZihhLmhhc1BpY2tUcmlnZ2Vycylzd2l0Y2goYS5wcm9jZXNzVHJpZ2dlcig1LE5lLkNyZWF0ZU5ldyhlLnBpY2tlZE1lc2gsdCkpLHQuYnV0dG9uKXtjYXNlIDA6YS5wcm9jZXNzVHJpZ2dlcigyLE5lLkNyZWF0ZU5ldyhlLnBpY2tlZE1lc2gsdCkpO2JyZWFrO2Nhc2UgMTphLnByb2Nlc3NUcmlnZ2VyKDQsTmUuQ3JlYXRlTmV3KGUucGlja2VkTWVzaCx0KSk7YnJlYWs7Y2FzZSAyOmEucHJvY2Vzc1RyaWdnZXIoMyxOZS5DcmVhdGVOZXcoZS5waWNrZWRNZXNoLHQpKTticmVha31hLmhhc1NwZWNpZmljVHJpZ2dlcig4KSYmd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKXt2YXIgaD1uLnBpY2soci5fdW5UcmFuc2xhdGVkUG9pbnRlclgsci5fdW5UcmFuc2xhdGVkUG9pbnRlclksZnVuY3Rpb24oYyl7cmV0dXJuIGMuaXNQaWNrYWJsZSYmYy5pc1Zpc2libGUmJmMuaXNSZWFkeSgpJiZjLmFjdGlvbk1hbmFnZXImJmMuYWN0aW9uTWFuYWdlci5oYXNTcGVjaWZpY1RyaWdnZXIoOCkmJmM9PT1yLl9waWNrZWREb3duTWVzaH0sITEsbi5jYW1lcmFUb1VzZUZvclBvaW50ZXJzKTtoJiZoLmhpdCYmaC5waWNrZWRNZXNoJiZhJiZyLl90b3RhbFBvaW50ZXJzUHJlc3NlZCE9PTAmJkRhdGUubm93KCktci5fc3RhcnRpbmdQb2ludGVyVGltZT5pLkxvbmdQcmVzc0RlbGF5JiYhci5faXNQb2ludGVyU3dpcGluZygpJiYoci5fc3RhcnRpbmdQb2ludGVyVGltZT0wLGEucHJvY2Vzc1RyaWdnZXIoOCxOZS5DcmVhdGVOZXcoaC5waWNrZWRNZXNoLHQpKSl9LGkuTG9uZ1ByZXNzRGVsYXkpfX1lbHNlIGZvcih2YXIgcz0wLG89bi5fcG9pbnRlckRvd25TdGFnZTtzPG8ubGVuZ3RoO3MrKyl7dmFyIHU9b1tzXTtlPXUuYWN0aW9uKHRoaXMuX3VuVHJhbnNsYXRlZFBvaW50ZXJYLHRoaXMuX3VuVHJhbnNsYXRlZFBvaW50ZXJZLGUsdCl9aWYoZSl7dmFyIGY9aGUuUE9JTlRFUkRPV047aWYobi5vblBvaW50ZXJEb3duJiZuLm9uUG9pbnRlckRvd24odCxlLGYpLG4ub25Qb2ludGVyT2JzZXJ2YWJsZS5oYXNPYnNlcnZlcnMoKSl7dmFyIGw9bmV3IGlyKGYsdCxlKTt0aGlzLl9zZXRSYXlPblBvaW50ZXJJbmZvKGwpLG4ub25Qb2ludGVyT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMobCxmKX19fSxpLnByb3RvdHlwZS5faXNQb2ludGVyU3dpcGluZz1mdW5jdGlvbigpe3JldHVybiBNYXRoLmFicyh0aGlzLl9zdGFydGluZ1BvaW50ZXJQb3NpdGlvbi54LXRoaXMuX3BvaW50ZXJYKT5pLkRyYWdNb3ZlbWVudFRocmVzaG9sZHx8TWF0aC5hYnModGhpcy5fc3RhcnRpbmdQb2ludGVyUG9zaXRpb24ueS10aGlzLl9wb2ludGVyWSk+aS5EcmFnTW92ZW1lbnRUaHJlc2hvbGR9LGkucHJvdG90eXBlLnNpbXVsYXRlUG9pbnRlclVwPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1uZXcgUG9pbnRlckV2ZW50KCJwb2ludGVydXAiLHQpO24uaW5wdXRJbmRleD1ILk1vdmU7dmFyIGE9bmV3IGVuO3I/YS5kb3VibGVDbGljaz0hMDphLnNpbmdsZUNsaWNrPSEwLCF0aGlzLl9jaGVja1ByZVBvaW50ZXJPYnNlcnZhYmxlKGUsbixoZS5QT0lOVEVSVVApJiZ0aGlzLl9wcm9jZXNzUG9pbnRlclVwKGUsbixhKX0saS5wcm90b3R5cGUuX3Byb2Nlc3NQb2ludGVyVXA9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXRoaXMuX3NjZW5lO2lmKGUmJmUuaGl0JiZlLnBpY2tlZE1lc2gpe2lmKHRoaXMuX3BpY2tlZFVwTWVzaD1lLnBpY2tlZE1lc2gsdGhpcy5fcGlja2VkRG93bk1lc2g9PT10aGlzLl9waWNrZWRVcE1lc2gmJihuLm9uUG9pbnRlclBpY2smJm4ub25Qb2ludGVyUGljayh0LGUpLHIuc2luZ2xlQ2xpY2smJiFyLmlnbm9yZSYmbi5vblBvaW50ZXJPYnNlcnZhYmxlLmhhc09ic2VydmVycygpKSl7dmFyIGE9aGUuUE9JTlRFUlBJQ0sscz1uZXcgaXIoYSx0LGUpO3RoaXMuX3NldFJheU9uUG9pbnRlckluZm8ocyksbi5vblBvaW50ZXJPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhzLGEpfXZhciBvPWUucGlja2VkTWVzaC5fZ2V0QWN0aW9uTWFuYWdlckZvclRyaWdnZXIoKTtpZihvJiYhci5pZ25vcmUpe28ucHJvY2Vzc1RyaWdnZXIoNyxOZS5DcmVhdGVOZXcoZS5waWNrZWRNZXNoLHQsZSkpLCFyLmhhc1N3aXBlZCYmci5zaW5nbGVDbGljayYmby5wcm9jZXNzVHJpZ2dlcigxLE5lLkNyZWF0ZU5ldyhlLnBpY2tlZE1lc2gsdCxlKSk7dmFyIHU9ZS5waWNrZWRNZXNoLl9nZXRBY3Rpb25NYW5hZ2VyRm9yVHJpZ2dlcig2KTtyLmRvdWJsZUNsaWNrJiZ1JiZ1LnByb2Nlc3NUcmlnZ2VyKDYsTmUuQ3JlYXRlTmV3KGUucGlja2VkTWVzaCx0LGUpKX19ZWxzZSBpZighci5pZ25vcmUpZm9yKHZhciBmPTAsbD1uLl9wb2ludGVyVXBTdGFnZTtmPGwubGVuZ3RoO2YrKyl7dmFyIGg9bFtmXTtlPWguYWN0aW9uKHRoaXMuX3VuVHJhbnNsYXRlZFBvaW50ZXJYLHRoaXMuX3VuVHJhbnNsYXRlZFBvaW50ZXJZLGUsdCl9aWYodGhpcy5fcGlja2VkRG93bk1lc2gmJnRoaXMuX3BpY2tlZERvd25NZXNoIT09dGhpcy5fcGlja2VkVXBNZXNoKXt2YXIgYz10aGlzLl9waWNrZWREb3duTWVzaC5fZ2V0QWN0aW9uTWFuYWdlckZvclRyaWdnZXIoMTYpO2MmJmMucHJvY2Vzc1RyaWdnZXIoMTYsTmUuQ3JlYXRlTmV3KHRoaXMuX3BpY2tlZERvd25NZXNoLHQpKX12YXIgZD0wO2lmKG4ub25Qb2ludGVyT2JzZXJ2YWJsZS5oYXNPYnNlcnZlcnMoKSl7aWYoIXIuaWdub3JlJiYhci5oYXNTd2lwZWQmJihyLnNpbmdsZUNsaWNrJiZuLm9uUG9pbnRlck9ic2VydmFibGUuaGFzU3BlY2lmaWNNYXNrKGhlLlBPSU5URVJUQVApP2Q9aGUuUE9JTlRFUlRBUDpyLmRvdWJsZUNsaWNrJiZuLm9uUG9pbnRlck9ic2VydmFibGUuaGFzU3BlY2lmaWNNYXNrKGhlLlBPSU5URVJET1VCTEVUQVApJiYoZD1oZS5QT0lOVEVSRE9VQkxFVEFQKSxkKSl7dmFyIHM9bmV3IGlyKGQsdCxlKTt0aGlzLl9zZXRSYXlPblBvaW50ZXJJbmZvKHMpLG4ub25Qb2ludGVyT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMocyxkKX1pZighci5pZ25vcmUpe2Q9aGUuUE9JTlRFUlVQO3ZhciBzPW5ldyBpcihkLHQsZSk7dGhpcy5fc2V0UmF5T25Qb2ludGVySW5mbyhzKSxuLm9uUG9pbnRlck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHMsZCl9fW4ub25Qb2ludGVyVXAmJiFyLmlnbm9yZSYmbi5vblBvaW50ZXJVcCh0LGUsZCl9LGkucHJvdG90eXBlLmlzUG9pbnRlckNhcHR1cmVkPWZ1bmN0aW9uKGUpe3JldHVybiBlPT09dm9pZCAwJiYoZT0wKSx0aGlzLl9wb2ludGVyQ2FwdHVyZXNbZV19LGkucHJvdG90eXBlLmF0dGFjaENvbnRyb2w9ZnVuY3Rpb24oZSx0LHIsbil7dmFyIGE9dGhpcztlPT09dm9pZCAwJiYoZT0hMCksdD09PXZvaWQgMCYmKHQ9ITApLHI9PT12b2lkIDAmJihyPSEwKSxuPT09dm9pZCAwJiYobj1udWxsKTt2YXIgcz10aGlzLl9zY2VuZSxvPXMuZ2V0RW5naW5lKCk7bnx8KG49by5nZXRJbnB1dEVsZW1lbnQoKSksdGhpcy5fYWxyZWFkeUF0dGFjaGVkJiZ0aGlzLmRldGFjaENvbnRyb2woKSxuJiYodGhpcy5fYWxyZWFkeUF0dGFjaGVkVG89biksdGhpcy5fZGV2aWNlU291cmNlTWFuYWdlcj1uZXcgeWEobyksdGhpcy5faW5pdEFjdGlvbk1hbmFnZXI9ZnVuY3Rpb24odSl7aWYoIWEuX21lc2hQaWNrUHJvY2VlZCl7dmFyIGY9cy5za2lwUG9pbnRlclVwUGlja2luZz9udWxsOnMucGljayhhLl91blRyYW5zbGF0ZWRQb2ludGVyWCxhLl91blRyYW5zbGF0ZWRQb2ludGVyWSxzLnBvaW50ZXJVcFByZWRpY2F0ZSwhMSxzLmNhbWVyYVRvVXNlRm9yUG9pbnRlcnMpO2EuX2N1cnJlbnRQaWNrUmVzdWx0PWYsZiYmKHU9Zi5oaXQmJmYucGlja2VkTWVzaD9mLnBpY2tlZE1lc2guX2dldEFjdGlvbk1hbmFnZXJGb3JUcmlnZ2VyKCk6bnVsbCksYS5fbWVzaFBpY2tQcm9jZWVkPSEwfXJldHVybiB1fSx0aGlzLl9kZWxheWVkU2ltcGxlQ2xpY2s9ZnVuY3Rpb24odSxmLGwpeyhEYXRlLm5vdygpLWEuX3ByZXZpb3VzU3RhcnRpbmdQb2ludGVyVGltZT5pLkRvdWJsZUNsaWNrRGVsYXkmJiFhLl9kb3VibGVDbGlja09jY3VyZWR8fHUhPT1hLl9wcmV2aW91c0J1dHRvblByZXNzZWQpJiYoYS5fZG91YmxlQ2xpY2tPY2N1cmVkPSExLGYuc2luZ2xlQ2xpY2s9ITAsZi5pZ25vcmU9ITEsbChmLGEuX2N1cnJlbnRQaWNrUmVzdWx0KSl9LHRoaXMuX2luaXRDbGlja0V2ZW50PWZ1bmN0aW9uKHUsZixsLGgpe3ZhciBjPW5ldyBlbjthLl9jdXJyZW50UGlja1Jlc3VsdD1udWxsO3ZhciBkPW51bGwscD11Lmhhc1NwZWNpZmljTWFzayhoZS5QT0lOVEVSUElDSyl8fGYuaGFzU3BlY2lmaWNNYXNrKGhlLlBPSU5URVJQSUNLKXx8dS5oYXNTcGVjaWZpY01hc2soaGUuUE9JTlRFUlRBUCl8fGYuaGFzU3BlY2lmaWNNYXNrKGhlLlBPSU5URVJUQVApfHx1Lmhhc1NwZWNpZmljTWFzayhoZS5QT0lOVEVSRE9VQkxFVEFQKXx8Zi5oYXNTcGVjaWZpY01hc2soaGUuUE9JTlRFUkRPVUJMRVRBUCk7IXAmJm5yJiYoZD1hLl9pbml0QWN0aW9uTWFuYWdlcihkLGMpLGQmJihwPWQuaGFzUGlja1RyaWdnZXJzKSk7dmFyIGc9ITE7aWYocCl7dmFyIF89bC5idXR0b247aWYoYy5oYXNTd2lwZWQ9YS5faXNQb2ludGVyU3dpcGluZygpLCFjLmhhc1N3aXBlZCl7dmFyIHY9IWkuRXhjbHVzaXZlRG91YmxlQ2xpY2tNb2RlO3Z8fCh2PSF1Lmhhc1NwZWNpZmljTWFzayhoZS5QT0lOVEVSRE9VQkxFVEFQKSYmIWYuaGFzU3BlY2lmaWNNYXNrKGhlLlBPSU5URVJET1VCTEVUQVApLHYmJiFuci5IYXNTcGVjaWZpY1RyaWdnZXIoNikmJihkPWEuX2luaXRBY3Rpb25NYW5hZ2VyKGQsYyksZCYmKHY9IWQuaGFzU3BlY2lmaWNUcmlnZ2VyKDYpKSkpLHY/KERhdGUubm93KCktYS5fcHJldmlvdXNTdGFydGluZ1BvaW50ZXJUaW1lPmkuRG91YmxlQ2xpY2tEZWxheXx8XyE9PWEuX3ByZXZpb3VzQnV0dG9uUHJlc3NlZCkmJihjLnNpbmdsZUNsaWNrPSEwLGgoYyxhLl9jdXJyZW50UGlja1Jlc3VsdCksZz0hMCk6KGEuX3ByZXZpb3VzRGVsYXllZFNpbXBsZUNsaWNrVGltZW91dD1hLl9kZWxheWVkU2ltcGxlQ2xpY2tUaW1lb3V0LGEuX2RlbGF5ZWRTaW1wbGVDbGlja1RpbWVvdXQ9d2luZG93LnNldFRpbWVvdXQoYS5fZGVsYXllZFNpbXBsZUNsaWNrLmJpbmQoYSxfLGMsaCksaS5Eb3VibGVDbGlja0RlbGF5KSk7dmFyIHk9dS5oYXNTcGVjaWZpY01hc2soaGUuUE9JTlRFUkRPVUJMRVRBUCl8fGYuaGFzU3BlY2lmaWNNYXNrKGhlLlBPSU5URVJET1VCTEVUQVApOyF5JiZuci5IYXNTcGVjaWZpY1RyaWdnZXIoNikmJihkPWEuX2luaXRBY3Rpb25NYW5hZ2VyKGQsYyksZCYmKHk9ZC5oYXNTcGVjaWZpY1RyaWdnZXIoNikpKSx5JiYoXz09PWEuX3ByZXZpb3VzQnV0dG9uUHJlc3NlZCYmRGF0ZS5ub3coKS1hLl9wcmV2aW91c1N0YXJ0aW5nUG9pbnRlclRpbWU8aS5Eb3VibGVDbGlja0RlbGF5JiYhYS5fZG91YmxlQ2xpY2tPY2N1cmVkPyghYy5oYXNTd2lwZWQmJiFhLl9pc1BvaW50ZXJTd2lwaW5nKCk/KGEuX3ByZXZpb3VzU3RhcnRpbmdQb2ludGVyVGltZT0wLGEuX2RvdWJsZUNsaWNrT2NjdXJlZD0hMCxjLmRvdWJsZUNsaWNrPSEwLGMuaWdub3JlPSExLGkuRXhjbHVzaXZlRG91YmxlQ2xpY2tNb2RlJiZhLl9wcmV2aW91c0RlbGF5ZWRTaW1wbGVDbGlja1RpbWVvdXQmJmNsZWFyVGltZW91dChhLl9wcmV2aW91c0RlbGF5ZWRTaW1wbGVDbGlja1RpbWVvdXQpLGEuX3ByZXZpb3VzRGVsYXllZFNpbXBsZUNsaWNrVGltZW91dD1hLl9kZWxheWVkU2ltcGxlQ2xpY2tUaW1lb3V0LGgoYyxhLl9jdXJyZW50UGlja1Jlc3VsdCkpOihhLl9kb3VibGVDbGlja09jY3VyZWQ9ITEsYS5fcHJldmlvdXNTdGFydGluZ1BvaW50ZXJUaW1lPWEuX3N0YXJ0aW5nUG9pbnRlclRpbWUsYS5fcHJldmlvdXNTdGFydGluZ1BvaW50ZXJQb3NpdGlvbi54PWEuX3N0YXJ0aW5nUG9pbnRlclBvc2l0aW9uLngsYS5fcHJldmlvdXNTdGFydGluZ1BvaW50ZXJQb3NpdGlvbi55PWEuX3N0YXJ0aW5nUG9pbnRlclBvc2l0aW9uLnksYS5fcHJldmlvdXNCdXR0b25QcmVzc2VkPV8saS5FeGNsdXNpdmVEb3VibGVDbGlja01vZGU/KGEuX3ByZXZpb3VzRGVsYXllZFNpbXBsZUNsaWNrVGltZW91dCYmY2xlYXJUaW1lb3V0KGEuX3ByZXZpb3VzRGVsYXllZFNpbXBsZUNsaWNrVGltZW91dCksYS5fcHJldmlvdXNEZWxheWVkU2ltcGxlQ2xpY2tUaW1lb3V0PWEuX2RlbGF5ZWRTaW1wbGVDbGlja1RpbWVvdXQsaChjLGEuX3ByZXZpb3VzUGlja1Jlc3VsdCkpOmgoYyxhLl9jdXJyZW50UGlja1Jlc3VsdCkpLGc9ITApOihhLl9kb3VibGVDbGlja09jY3VyZWQ9ITEsYS5fcHJldmlvdXNTdGFydGluZ1BvaW50ZXJUaW1lPWEuX3N0YXJ0aW5nUG9pbnRlclRpbWUsYS5fcHJldmlvdXNTdGFydGluZ1BvaW50ZXJQb3NpdGlvbi54PWEuX3N0YXJ0aW5nUG9pbnRlclBvc2l0aW9uLngsYS5fcHJldmlvdXNTdGFydGluZ1BvaW50ZXJQb3NpdGlvbi55PWEuX3N0YXJ0aW5nUG9pbnRlclBvc2l0aW9uLnksYS5fcHJldmlvdXNCdXR0b25QcmVzc2VkPV8pKX19Z3x8aChjLGEuX2N1cnJlbnRQaWNrUmVzdWx0KX0sdGhpcy5fb25Qb2ludGVyTW92ZT1mdW5jdGlvbih1KXtpZih1LnBvaW50ZXJJZD09PXZvaWQgMCYmKHUucG9pbnRlcklkPTApLGEuX3VwZGF0ZVBvaW50ZXJQb3NpdGlvbih1KSwhYS5fY2hlY2tQcmVQb2ludGVyT2JzZXJ2YWJsZShudWxsLHUsdS50eXBlPT09IndoZWVsInx8dS50eXBlPT09Im1vdXNld2hlZWwifHx1LnR5cGU9PT0iRE9NTW91c2VTY3JvbGwiP2hlLlBPSU5URVJXSEVFTDpoZS5QT0lOVEVSTU9WRSkmJiEoIXMuY2FtZXJhVG9Vc2VGb3JQb2ludGVycyYmIXMuYWN0aXZlQ2FtZXJhKSl7aWYocy5za2lwUG9pbnRlck1vdmVQaWNraW5nKXthLl9wcm9jZXNzUG9pbnRlck1vdmUobmV3IFFlLHUpO3JldHVybn1zLnBvaW50ZXJNb3ZlUHJlZGljYXRlfHwocy5wb2ludGVyTW92ZVByZWRpY2F0ZT1mdW5jdGlvbihsKXtyZXR1cm4gbC5pc1BpY2thYmxlJiZsLmlzVmlzaWJsZSYmbC5pc1JlYWR5KCkmJmwuaXNFbmFibGVkKCkmJihsLmVuYWJsZVBvaW50ZXJNb3ZlRXZlbnRzfHxzLmNvbnN0YW50bHlVcGRhdGVNZXNoVW5kZXJQb2ludGVyfHxsLl9nZXRBY3Rpb25NYW5hZ2VyRm9yVHJpZ2dlcigpIT09bnVsbCkmJighcy5jYW1lcmFUb1VzZUZvclBvaW50ZXJzfHwocy5jYW1lcmFUb1VzZUZvclBvaW50ZXJzLmxheWVyTWFzayZsLmxheWVyTWFzaykhPT0wKX0pO3ZhciBmPXMucGljayhhLl91blRyYW5zbGF0ZWRQb2ludGVyWCxhLl91blRyYW5zbGF0ZWRQb2ludGVyWSxzLnBvaW50ZXJNb3ZlUHJlZGljYXRlLCExLHMuY2FtZXJhVG9Vc2VGb3JQb2ludGVycyxzLnBvaW50ZXJNb3ZlVHJpYW5nbGVQcmVkaWNhdGUpO2EuX3Byb2Nlc3NQb2ludGVyTW92ZShmLHUpfX0sdGhpcy5fb25Qb2ludGVyRG93bj1mdW5jdGlvbih1KXtpZihhLl90b3RhbFBvaW50ZXJzUHJlc3NlZCsrLGEuX3BpY2tlZERvd25NZXNoPW51bGwsYS5fbWVzaFBpY2tQcm9jZWVkPSExLHUucG9pbnRlcklkPT09dm9pZCAwJiYodS5wb2ludGVySWQ9MCksYS5fdXBkYXRlUG9pbnRlclBvc2l0aW9uKHUpLHMucHJldmVudERlZmF1bHRPblBvaW50ZXJEb3duJiZuJiYodS5wcmV2ZW50RGVmYXVsdCgpLG4uZm9jdXMoKSksYS5fc3RhcnRpbmdQb2ludGVyUG9zaXRpb24ueD1hLl9wb2ludGVyWCxhLl9zdGFydGluZ1BvaW50ZXJQb3NpdGlvbi55PWEuX3BvaW50ZXJZLGEuX3N0YXJ0aW5nUG9pbnRlclRpbWU9RGF0ZS5ub3coKSwhYS5fY2hlY2tQcmVQb2ludGVyT2JzZXJ2YWJsZShudWxsLHUsaGUuUE9JTlRFUkRPV04pJiYhKCFzLmNhbWVyYVRvVXNlRm9yUG9pbnRlcnMmJiFzLmFjdGl2ZUNhbWVyYSkpe2EuX3BvaW50ZXJDYXB0dXJlc1t1LnBvaW50ZXJJZF09ITAscy5wb2ludGVyRG93blByZWRpY2F0ZXx8KHMucG9pbnRlckRvd25QcmVkaWNhdGU9ZnVuY3Rpb24obCl7cmV0dXJuIGwuaXNQaWNrYWJsZSYmbC5pc1Zpc2libGUmJmwuaXNSZWFkeSgpJiZsLmlzRW5hYmxlZCgpJiYoIXMuY2FtZXJhVG9Vc2VGb3JQb2ludGVyc3x8KHMuY2FtZXJhVG9Vc2VGb3JQb2ludGVycy5sYXllck1hc2smbC5sYXllck1hc2spIT09MCl9KSxhLl9waWNrZWREb3duTWVzaD1udWxsO3ZhciBmO3Muc2tpcFBvaW50ZXJEb3duUGlja2luZz9mPW5ldyBRZTpmPXMucGljayhhLl91blRyYW5zbGF0ZWRQb2ludGVyWCxhLl91blRyYW5zbGF0ZWRQb2ludGVyWSxzLnBvaW50ZXJEb3duUHJlZGljYXRlLCExLHMuY2FtZXJhVG9Vc2VGb3JQb2ludGVycyksYS5fcHJvY2Vzc1BvaW50ZXJEb3duKGYsdSl9fSx0aGlzLl9vblBvaW50ZXJVcD1mdW5jdGlvbih1KXthLl90b3RhbFBvaW50ZXJzUHJlc3NlZCE9PTAmJihhLl90b3RhbFBvaW50ZXJzUHJlc3NlZC0tLGEuX3BpY2tlZFVwTWVzaD1udWxsLGEuX21lc2hQaWNrUHJvY2VlZD0hMSx1LnBvaW50ZXJJZD09PXZvaWQgMCYmKHUucG9pbnRlcklkPTApLGEuX3VwZGF0ZVBvaW50ZXJQb3NpdGlvbih1KSxzLnByZXZlbnREZWZhdWx0T25Qb2ludGVyVXAmJm4mJih1LnByZXZlbnREZWZhdWx0KCksbi5mb2N1cygpKSxhLl9pbml0Q2xpY2tFdmVudChzLm9uUHJlUG9pbnRlck9ic2VydmFibGUscy5vblBvaW50ZXJPYnNlcnZhYmxlLHUsZnVuY3Rpb24oZixsKXtzLm9uUHJlUG9pbnRlck9ic2VydmFibGUuaGFzT2JzZXJ2ZXJzKCkmJiFmLmlnbm9yZSYmKCFmLmhhc1N3aXBlZCYmKGYuc2luZ2xlQ2xpY2smJnMub25QcmVQb2ludGVyT2JzZXJ2YWJsZS5oYXNTcGVjaWZpY01hc2soaGUuUE9JTlRFUlRBUCkmJmEuX2NoZWNrUHJlUG9pbnRlck9ic2VydmFibGUobnVsbCx1LGhlLlBPSU5URVJUQVApfHxmLmRvdWJsZUNsaWNrJiZzLm9uUHJlUG9pbnRlck9ic2VydmFibGUuaGFzU3BlY2lmaWNNYXNrKGhlLlBPSU5URVJET1VCTEVUQVApJiZhLl9jaGVja1ByZVBvaW50ZXJPYnNlcnZhYmxlKG51bGwsdSxoZS5QT0lOVEVSRE9VQkxFVEFQKSl8fGEuX2NoZWNrUHJlUG9pbnRlck9ic2VydmFibGUobnVsbCx1LGhlLlBPSU5URVJVUCkpfHwhYS5fcG9pbnRlckNhcHR1cmVzW3UucG9pbnRlcklkXSYmdS5idXR0b25zPjB8fChhLl9wb2ludGVyQ2FwdHVyZXNbdS5wb2ludGVySWRdPSExLCEoIXMuY2FtZXJhVG9Vc2VGb3JQb2ludGVycyYmIXMuYWN0aXZlQ2FtZXJhKSYmKHMucG9pbnRlclVwUHJlZGljYXRlfHwocy5wb2ludGVyVXBQcmVkaWNhdGU9ZnVuY3Rpb24oaCl7cmV0dXJuIGguaXNQaWNrYWJsZSYmaC5pc1Zpc2libGUmJmguaXNSZWFkeSgpJiZoLmlzRW5hYmxlZCgpJiYoIXMuY2FtZXJhVG9Vc2VGb3JQb2ludGVyc3x8KHMuY2FtZXJhVG9Vc2VGb3JQb2ludGVycy5sYXllck1hc2smaC5sYXllck1hc2spIT09MCl9KSwhYS5fbWVzaFBpY2tQcm9jZWVkJiYobnImJm5yLkhhc1RyaWdnZXJzfHxzLm9uUG9pbnRlck9ic2VydmFibGUuaGFzT2JzZXJ2ZXJzKCkpJiZhLl9pbml0QWN0aW9uTWFuYWdlcihudWxsLGYpLGx8fChsPWEuX2N1cnJlbnRQaWNrUmVzdWx0KSxhLl9wcm9jZXNzUG9pbnRlclVwKGwsdSxmKSxhLl9wcmV2aW91c1BpY2tSZXN1bHQ9YS5fY3VycmVudFBpY2tSZXN1bHQpKX0pKX0sdGhpcy5fb25LZXlEb3duPWZ1bmN0aW9uKHUpe3ZhciBmPVhpLktFWURPV047aWYocy5vblByZUtleWJvYXJkT2JzZXJ2YWJsZS5oYXNPYnNlcnZlcnMoKSl7dmFyIGw9bmV3IEhpKGYsdSk7aWYocy5vblByZUtleWJvYXJkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMobCxmKSxsLnNraXBPbktleWJvYXJkT2JzZXJ2YWJsZSlyZXR1cm59aWYocy5vbktleWJvYXJkT2JzZXJ2YWJsZS5oYXNPYnNlcnZlcnMoKSl7dmFyIGw9bmV3IFFyKGYsdSk7cy5vbktleWJvYXJkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMobCxmKX1zLmFjdGlvbk1hbmFnZXImJnMuYWN0aW9uTWFuYWdlci5wcm9jZXNzVHJpZ2dlcigxNCxOZS5DcmVhdGVOZXdGcm9tU2NlbmUocyx1KSl9LHRoaXMuX29uS2V5VXA9ZnVuY3Rpb24odSl7dmFyIGY9WGkuS0VZVVA7aWYocy5vblByZUtleWJvYXJkT2JzZXJ2YWJsZS5oYXNPYnNlcnZlcnMoKSl7dmFyIGw9bmV3IEhpKGYsdSk7aWYocy5vblByZUtleWJvYXJkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMobCxmKSxsLnNraXBPbktleWJvYXJkT2JzZXJ2YWJsZSlyZXR1cm59aWYocy5vbktleWJvYXJkT2JzZXJ2YWJsZS5oYXNPYnNlcnZlcnMoKSl7dmFyIGw9bmV3IFFyKGYsdSk7cy5vbktleWJvYXJkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMobCxmKX1zLmFjdGlvbk1hbmFnZXImJnMuYWN0aW9uTWFuYWdlci5wcm9jZXNzVHJpZ2dlcigxNSxOZS5DcmVhdGVOZXdGcm9tU2NlbmUocyx1KSl9LHRoaXMuX2RldmljZVNvdXJjZU1hbmFnZXIub25EZXZpY2VDb25uZWN0ZWRPYnNlcnZhYmxlLmFkZChmdW5jdGlvbih1KXt1LmRldmljZVR5cGU9PT1CLk1vdXNlP3Uub25JbnB1dENoYW5nZWRPYnNlcnZhYmxlLmFkZChmdW5jdGlvbihmKXtmLmlucHV0SW5kZXg9PT1ILkxlZnRDbGlja3x8Zi5pbnB1dEluZGV4PT09SC5NaWRkbGVDbGlja3x8Zi5pbnB1dEluZGV4PT09SC5SaWdodENsaWNrP3QmJnUuZ2V0SW5wdXQoZi5pbnB1dEluZGV4KT09PTE/YS5fb25Qb2ludGVyRG93bihmKTplJiZ1LmdldElucHV0KGYuaW5wdXRJbmRleCk9PT0wJiZhLl9vblBvaW50ZXJVcChmKTpyJiYoZi5pbnB1dEluZGV4PT09SC5Nb3ZlfHxmLmlucHV0SW5kZXg9PT1ILk1vdXNlV2hlZWxYfHxmLmlucHV0SW5kZXg9PT1ILk1vdXNlV2hlZWxZfHxmLmlucHV0SW5kZXg9PT1ILk1vdXNlV2hlZWxaKSYmYS5fb25Qb2ludGVyTW92ZShmKX0pOnUuZGV2aWNlVHlwZT09PUIuVG91Y2g/dS5vbklucHV0Q2hhbmdlZE9ic2VydmFibGUuYWRkKGZ1bmN0aW9uKGYpe2YuaW5wdXRJbmRleD09PUguTGVmdENsaWNrJiYodCYmdS5nZXRJbnB1dChmLmlucHV0SW5kZXgpPT09MT9hLl9vblBvaW50ZXJEb3duKGYpOmUmJnUuZ2V0SW5wdXQoZi5pbnB1dEluZGV4KT09PTAmJmEuX29uUG9pbnRlclVwKGYpKSxyJiZmLmlucHV0SW5kZXg9PT1ILk1vdmUmJmEuX29uUG9pbnRlck1vdmUoZil9KTp1LmRldmljZVR5cGU9PT1CLktleWJvYXJkJiZ1Lm9uSW5wdXRDaGFuZ2VkT2JzZXJ2YWJsZS5hZGQoZnVuY3Rpb24oZil7Zi50eXBlPT09ImtleWRvd24iP2EuX29uS2V5RG93bihmKTpmLnR5cGU9PT0ia2V5dXAiJiZhLl9vbktleVVwKGYpfSl9KSx0aGlzLl9hbHJlYWR5QXR0YWNoZWQ9ITB9LGkucHJvdG90eXBlLmRldGFjaENvbnRyb2w9ZnVuY3Rpb24oKXt0aGlzLl9hbHJlYWR5QXR0YWNoZWQmJih0aGlzLl9kZXZpY2VTb3VyY2VNYW5hZ2VyLmRpc3Bvc2UoKSx0aGlzLl9kZXZpY2VTb3VyY2VNYW5hZ2VyPW51bGwsdGhpcy5fYWxyZWFkeUF0dGFjaGVkVG8mJiF0aGlzLl9zY2VuZS5kb05vdEhhbmRsZUN1cnNvcnMmJih0aGlzLl9hbHJlYWR5QXR0YWNoZWRUby5zdHlsZS5jdXJzb3I9dGhpcy5fc2NlbmUuZGVmYXVsdEN1cnNvciksdGhpcy5fYWxyZWFkeUF0dGFjaGVkPSExLHRoaXMuX2FscmVhZHlBdHRhY2hlZFRvPW51bGwpfSxpLnByb3RvdHlwZS5zZXRQb2ludGVyT3Zlck1lc2g9ZnVuY3Rpb24oZSx0LHIpe2lmKHQ9PT12b2lkIDAmJih0PTApLHRoaXMuX21lc2hVbmRlclBvaW50ZXJJZFt0XSE9PWUpe3ZhciBuPXRoaXMuX21lc2hVbmRlclBvaW50ZXJJZFt0XSxhO24mJihhPW4uX2dldEFjdGlvbk1hbmFnZXJGb3JUcmlnZ2VyKDEwKSxhJiZhLnByb2Nlc3NUcmlnZ2VyKDEwLE5lLkNyZWF0ZU5ldyhuLHZvaWQgMCx7cG9pbnRlcklkOnR9KSkpLGU/KHRoaXMuX21lc2hVbmRlclBvaW50ZXJJZFt0XT1lLHRoaXMuX3BvaW50ZXJPdmVyTWVzaD1lLGE9ZS5fZ2V0QWN0aW9uTWFuYWdlckZvclRyaWdnZXIoOSksYSYmYS5wcm9jZXNzVHJpZ2dlcig5LE5lLkNyZWF0ZU5ldyhlLHZvaWQgMCx7cG9pbnRlcklkOnQscGlja1Jlc3VsdDpyfSkpKTooZGVsZXRlIHRoaXMuX21lc2hVbmRlclBvaW50ZXJJZFt0XSx0aGlzLl9wb2ludGVyT3Zlck1lc2g9bnVsbCl9fSxpLnByb3RvdHlwZS5nZXRQb2ludGVyT3Zlck1lc2g9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcG9pbnRlck92ZXJNZXNofSxpLnByb3RvdHlwZS5faW52YWxpZGF0ZU1lc2g9ZnVuY3Rpb24oZSl7dGhpcy5fcG9pbnRlck92ZXJNZXNoPT09ZSYmKHRoaXMuX3BvaW50ZXJPdmVyTWVzaD1udWxsKSx0aGlzLl9waWNrZWREb3duTWVzaD09PWUmJih0aGlzLl9waWNrZWREb3duTWVzaD1udWxsKSx0aGlzLl9waWNrZWRVcE1lc2g9PT1lJiYodGhpcy5fcGlja2VkVXBNZXNoPW51bGwpO2Zvcih2YXIgdCBpbiB0aGlzLl9tZXNoVW5kZXJQb2ludGVySWQpdGhpcy5fbWVzaFVuZGVyUG9pbnRlcklkW3RdPT09ZSYmZGVsZXRlIHRoaXMuX21lc2hVbmRlclBvaW50ZXJJZFt0XX0saS5EcmFnTW92ZW1lbnRUaHJlc2hvbGQ9MTAsaS5Mb25nUHJlc3NEZWxheT01MDAsaS5Eb3VibGVDbGlja0RlbGF5PTMwMCxpLkV4Y2x1c2l2ZURvdWJsZUNsaWNrTW9kZT0hMSxpfSgpLCRyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaShlLHQscixuKXt0aGlzLm5vcm1hbD1uZXcgYihlLHQsciksdGhpcy5kPW59cmV0dXJuIGkucHJvdG90eXBlLmFzQXJyYXk9ZnVuY3Rpb24oKXtyZXR1cm5bdGhpcy5ub3JtYWwueCx0aGlzLm5vcm1hbC55LHRoaXMubm9ybWFsLnosdGhpcy5kXX0saS5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGkodGhpcy5ub3JtYWwueCx0aGlzLm5vcm1hbC55LHRoaXMubm9ybWFsLnosdGhpcy5kKX0saS5wcm90b3R5cGUuZ2V0Q2xhc3NOYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIlBsYW5lIn0saS5wcm90b3R5cGUuZ2V0SGFzaENvZGU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLm5vcm1hbC5nZXRIYXNoQ29kZSgpO3JldHVybiBlPWUqMzk3Xih0aGlzLmR8MCksZX0saS5wcm90b3R5cGUubm9ybWFsaXplPWZ1bmN0aW9uKCl7dmFyIGU9TWF0aC5zcXJ0KHRoaXMubm9ybWFsLngqdGhpcy5ub3JtYWwueCt0aGlzLm5vcm1hbC55KnRoaXMubm9ybWFsLnkrdGhpcy5ub3JtYWwueip0aGlzLm5vcm1hbC56KSx0PTA7cmV0dXJuIGUhPT0wJiYodD0xL2UpLHRoaXMubm9ybWFsLngqPXQsdGhpcy5ub3JtYWwueSo9dCx0aGlzLm5vcm1hbC56Kj10LHRoaXMuZCo9dCx0aGlzfSxpLnByb3RvdHlwZS50cmFuc2Zvcm09ZnVuY3Rpb24oZSl7dmFyIHQ9aS5fVG1wTWF0cml4O2UuaW52ZXJ0VG9SZWYodCk7dmFyIHI9dC5tLG49dGhpcy5ub3JtYWwueCxhPXRoaXMubm9ybWFsLnkscz10aGlzLm5vcm1hbC56LG89dGhpcy5kLHU9bipyWzBdK2EqclsxXStzKnJbMl0rbypyWzNdLGY9bipyWzRdK2Eqcls1XStzKnJbNl0rbypyWzddLGw9bipyWzhdK2Eqcls5XStzKnJbMTBdK28qclsxMV0saD1uKnJbMTJdK2EqclsxM10rcypyWzE0XStvKnJbMTVdO3JldHVybiBuZXcgaSh1LGYsbCxoKX0saS5wcm90b3R5cGUuZG90Q29vcmRpbmF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5ub3JtYWwueCplLngrdGhpcy5ub3JtYWwueSplLnkrdGhpcy5ub3JtYWwueiplLnordGhpcy5kfSxpLnByb3RvdHlwZS5jb3B5RnJvbVBvaW50cz1mdW5jdGlvbihlLHQscil7dmFyIG49dC54LWUueCxhPXQueS1lLnkscz10LnotZS56LG89ci54LWUueCx1PXIueS1lLnksZj1yLnotZS56LGw9YSpmLXMqdSxoPXMqby1uKmYsYz1uKnUtYSpvLGQ9TWF0aC5zcXJ0KGwqbCtoKmgrYypjKSxwO3JldHVybiBkIT09MD9wPTEvZDpwPTAsdGhpcy5ub3JtYWwueD1sKnAsdGhpcy5ub3JtYWwueT1oKnAsdGhpcy5ub3JtYWwuej1jKnAsdGhpcy5kPS0odGhpcy5ub3JtYWwueCplLngrdGhpcy5ub3JtYWwueSplLnkrdGhpcy5ub3JtYWwueiplLnopLHRoaXN9LGkucHJvdG90eXBlLmlzRnJvbnRGYWNpbmdUbz1mdW5jdGlvbihlLHQpe3ZhciByPWIuRG90KHRoaXMubm9ybWFsLGUpO3JldHVybiByPD10fSxpLnByb3RvdHlwZS5zaWduZWREaXN0YW5jZVRvPWZ1bmN0aW9uKGUpe3JldHVybiBiLkRvdChlLHRoaXMubm9ybWFsKSt0aGlzLmR9LGkuRnJvbUFycmF5PWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgaShlWzBdLGVbMV0sZVsyXSxlWzNdKX0saS5Gcm9tUG9pbnRzPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1uZXcgaSgwLDAsMCwwKTtyZXR1cm4gbi5jb3B5RnJvbVBvaW50cyhlLHQsciksbn0saS5Gcm9tUG9zaXRpb25BbmROb3JtYWw9ZnVuY3Rpb24oZSx0KXt2YXIgcj1uZXcgaSgwLDAsMCwwKTtyZXR1cm4gdC5ub3JtYWxpemUoKSxyLm5vcm1hbD10LHIuZD0tKHQueCplLngrdC55KmUueSt0LnoqZS56KSxyfSxpLlNpZ25lZERpc3RhbmNlVG9QbGFuZUZyb21Qb3NpdGlvbkFuZE5vcm1hbD1mdW5jdGlvbihlLHQscil7dmFyIG49LSh0LngqZS54K3QueSplLnkrdC56KmUueik7cmV0dXJuIGIuRG90KHIsdCkrbn0saS5fVG1wTWF0cml4PUkuSWRlbnRpdHkoKSxpfSgpLFByPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaSgpe31yZXR1cm4gaS5HZXRQbGFuZXM9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLHI9MDtyPDY7cisrKXQucHVzaChuZXcgJHIoMCwwLDAsMCkpO3JldHVybiBpLkdldFBsYW5lc1RvUmVmKGUsdCksdH0saS5HZXROZWFyUGxhbmVUb1JlZj1mdW5jdGlvbihlLHQpe3ZhciByPWUubTt0Lm5vcm1hbC54PXJbM10rclsyXSx0Lm5vcm1hbC55PXJbN10rcls2XSx0Lm5vcm1hbC56PXJbMTFdK3JbMTBdLHQuZD1yWzE1XStyWzE0XSx0Lm5vcm1hbGl6ZSgpfSxpLkdldEZhclBsYW5lVG9SZWY9ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLm07dC5ub3JtYWwueD1yWzNdLXJbMl0sdC5ub3JtYWwueT1yWzddLXJbNl0sdC5ub3JtYWwuej1yWzExXS1yWzEwXSx0LmQ9clsxNV0tclsxNF0sdC5ub3JtYWxpemUoKX0saS5HZXRMZWZ0UGxhbmVUb1JlZj1mdW5jdGlvbihlLHQpe3ZhciByPWUubTt0Lm5vcm1hbC54PXJbM10rclswXSx0Lm5vcm1hbC55PXJbN10rcls0XSx0Lm5vcm1hbC56PXJbMTFdK3JbOF0sdC5kPXJbMTVdK3JbMTJdLHQubm9ybWFsaXplKCl9LGkuR2V0UmlnaHRQbGFuZVRvUmVmPWZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS5tO3Qubm9ybWFsLng9clszXS1yWzBdLHQubm9ybWFsLnk9cls3XS1yWzRdLHQubm9ybWFsLno9clsxMV0tcls4XSx0LmQ9clsxNV0tclsxMl0sdC5ub3JtYWxpemUoKX0saS5HZXRUb3BQbGFuZVRvUmVmPWZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS5tO3Qubm9ybWFsLng9clszXS1yWzFdLHQubm9ybWFsLnk9cls3XS1yWzVdLHQubm9ybWFsLno9clsxMV0tcls5XSx0LmQ9clsxNV0tclsxM10sdC5ub3JtYWxpemUoKX0saS5HZXRCb3R0b21QbGFuZVRvUmVmPWZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS5tO3Qubm9ybWFsLng9clszXStyWzFdLHQubm9ybWFsLnk9cls3XStyWzVdLHQubm9ybWFsLno9clsxMV0rcls5XSx0LmQ9clsxNV0rclsxM10sdC5ub3JtYWxpemUoKX0saS5HZXRQbGFuZXNUb1JlZj1mdW5jdGlvbihlLHQpe2kuR2V0TmVhclBsYW5lVG9SZWYoZSx0WzBdKSxpLkdldEZhclBsYW5lVG9SZWYoZSx0WzFdKSxpLkdldExlZnRQbGFuZVRvUmVmKGUsdFsyXSksaS5HZXRSaWdodFBsYW5lVG9SZWYoZSx0WzNdKSxpLkdldFRvcFBsYW5lVG9SZWYoZSx0WzRdKSxpLkdldEJvdHRvbVBsYW5lVG9SZWYoZSx0WzVdKX0saX0oKSxiYT1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoKXt9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLCJVbmlxdWVJZCIse2dldDpmdW5jdGlvbigpe3ZhciBlPXRoaXMuX1VuaXF1ZUlkQ291bnRlcjtyZXR1cm4gdGhpcy5fVW5pcXVlSWRDb3VudGVyKyssZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLl9VbmlxdWVJZENvdW50ZXI9MSxpfSgpLHhlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaSgpe31yZXR1cm4gaS5Db21wYXJlTGlnaHRzUHJpb3JpdHk9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5zaGFkb3dFbmFibGVkIT09dC5zaGFkb3dFbmFibGVkPyh0LnNoYWRvd0VuYWJsZWQ/MTowKS0oZS5zaGFkb3dFbmFibGVkPzE6MCk6dC5yZW5kZXJQcmlvcml0eS1lLnJlbmRlclByaW9yaXR5fSxpLkZBTExPRkZfREVGQVVMVD0wLGkuRkFMTE9GRl9QSFlTSUNBTD0xLGkuRkFMTE9GRl9HTFRGPTIsaS5GQUxMT0ZGX1NUQU5EQVJEPTMsaS5MSUdIVE1BUF9ERUZBVUxUPTAsaS5MSUdIVE1BUF9TUEVDVUxBUj0xLGkuTElHSFRNQVBfU0hBRE9XU09OTFk9MixpLklOVEVOU0lUWU1PREVfQVVUT01BVElDPTAsaS5JTlRFTlNJVFlNT0RFX0xVTUlOT1VTUE9XRVI9MSxpLklOVEVOU0lUWU1PREVfTFVNSU5PVVNJTlRFTlNJVFk9MixpLklOVEVOU0lUWU1PREVfSUxMVU1JTkFOQ0U9MyxpLklOVEVOU0lUWU1PREVfTFVNSU5BTkNFPTQsaS5MSUdIVFRZUEVJRF9QT0lOVExJR0hUPTAsaS5MSUdIVFRZUEVJRF9ESVJFQ1RJT05BTExJR0hUPTEsaS5MSUdIVFRZUEVJRF9TUE9UTElHSFQ9MixpLkxJR0hUVFlQRUlEX0hFTUlTUEhFUklDTElHSFQ9MyxpfSgpLHRuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaShlLHQpe2kuSXNBdmFpbGFibGUmJih0aGlzLl9vYnNlcnZlcj1uZXcgd2luZG93LkNvbXB1dGVQcmVzc3VyZU9ic2VydmVyKGUsdCkpfXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoaSwiSXNBdmFpbGFibGUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4geWUoKSYmIkNvbXB1dGVQcmVzc3VyZU9ic2VydmVyImluIHdpbmRvd30sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLnByb3RvdHlwZS5vYnNlcnZlPWZ1bmN0aW9uKCl7dmFyIGUsdDshKChlPXRoaXMuX29ic2VydmVyKT09PW51bGx8fGU9PT12b2lkIDApJiZlLm9ic2VydmUmJigodD10aGlzLl9vYnNlcnZlcik9PT1udWxsfHx0PT09dm9pZCAwfHx0Lm9ic2VydmUoKS5jYXRjaChmdW5jdGlvbigpe30pKX0saS5wcm90b3R5cGUudW5vYnNlcnZlPWZ1bmN0aW9uKCl7dmFyIGUsdDshKChlPXRoaXMuX29ic2VydmVyKT09PW51bGx8fGU9PT12b2lkIDApJiZlLnVub2JzZXJ2ZSYmKCh0PXRoaXMuX29ic2VydmVyKT09PW51bGx8fHQ9PT12b2lkIDB8fHQudW5vYnNlcnZlKCkpfSxpfSgpLHJlPWZ1bmN0aW9uKGkpe0soZSxpKTtmdW5jdGlvbiBlKHQscil7dmFyIG49aS5jYWxsKHRoaXMpfHx0aGlzO24uX2lucHV0TWFuYWdlcj1uZXcgaHQobiksbi5jYW1lcmFUb1VzZUZvclBvaW50ZXJzPW51bGwsbi5faXNTY2VuZT0hMCxuLl9ibG9ja0VudGl0eUNvbGxlY3Rpb249ITEsbi5hdXRvQ2xlYXI9ITAsbi5hdXRvQ2xlYXJEZXB0aEFuZFN0ZW5jaWw9ITAsbi5jbGVhckNvbG9yPW5ldyBFZSguMiwuMiwuMywxKSxuLmFtYmllbnRDb2xvcj1uZXcgYmUoMCwwLDApLG4uZW52aXJvbm1lbnRJbnRlbnNpdHk9MSxuLl9mb3JjZVdpcmVmcmFtZT0hMSxuLl9za2lwRnJ1c3R1bUNsaXBwaW5nPSExLG4uX2ZvcmNlUG9pbnRzQ2xvdWQ9ITEsbi5hbmltYXRpb25zRW5hYmxlZD0hMCxuLl9hbmltYXRpb25Qcm9wZXJ0aWVzT3ZlcnJpZGU9bnVsbCxuLnVzZUNvbnN0YW50QW5pbWF0aW9uRGVsdGFUaW1lPSExLG4uY29uc3RhbnRseVVwZGF0ZU1lc2hVbmRlclBvaW50ZXI9ITEsbi5ob3ZlckN1cnNvcj0icG9pbnRlciIsbi5kZWZhdWx0Q3Vyc29yPSIiLG4uZG9Ob3RIYW5kbGVDdXJzb3JzPSExLG4ucHJldmVudERlZmF1bHRPblBvaW50ZXJEb3duPSEwLG4ucHJldmVudERlZmF1bHRPblBvaW50ZXJVcD0hMCxuLm1ldGFkYXRhPW51bGwsbi5yZXNlcnZlZERhdGFTdG9yZT1udWxsLG4uZGlzYWJsZU9mZmxpbmVTdXBwb3J0RXhjZXB0aW9uUnVsZXM9bmV3IEFycmF5LG4ub25EaXNwb3NlT2JzZXJ2YWJsZT1uZXcgTyxuLl9vbkRpc3Bvc2VPYnNlcnZlcj1udWxsLG4ub25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlPW5ldyBPLG4uX29uQmVmb3JlUmVuZGVyT2JzZXJ2ZXI9bnVsbCxuLm9uQWZ0ZXJSZW5kZXJPYnNlcnZhYmxlPW5ldyBPLG4ub25BZnRlclJlbmRlckNhbWVyYU9ic2VydmFibGU9bmV3IE8sbi5fb25BZnRlclJlbmRlck9ic2VydmVyPW51bGwsbi5vbkJlZm9yZUFuaW1hdGlvbnNPYnNlcnZhYmxlPW5ldyBPLG4ub25BZnRlckFuaW1hdGlvbnNPYnNlcnZhYmxlPW5ldyBPLG4ub25CZWZvcmVEcmF3UGhhc2VPYnNlcnZhYmxlPW5ldyBPLG4ub25BZnRlckRyYXdQaGFzZU9ic2VydmFibGU9bmV3IE8sbi5vblJlYWR5T2JzZXJ2YWJsZT1uZXcgTyxuLm9uQmVmb3JlQ2FtZXJhUmVuZGVyT2JzZXJ2YWJsZT1uZXcgTyxuLl9vbkJlZm9yZUNhbWVyYVJlbmRlck9ic2VydmVyPW51bGwsbi5vbkFmdGVyQ2FtZXJhUmVuZGVyT2JzZXJ2YWJsZT1uZXcgTyxuLl9vbkFmdGVyQ2FtZXJhUmVuZGVyT2JzZXJ2ZXI9bnVsbCxuLm9uQmVmb3JlQWN0aXZlTWVzaGVzRXZhbHVhdGlvbk9ic2VydmFibGU9bmV3IE8sbi5vbkFmdGVyQWN0aXZlTWVzaGVzRXZhbHVhdGlvbk9ic2VydmFibGU9bmV3IE8sbi5vbkJlZm9yZVBhcnRpY2xlc1JlbmRlcmluZ09ic2VydmFibGU9bmV3IE8sbi5vbkFmdGVyUGFydGljbGVzUmVuZGVyaW5nT2JzZXJ2YWJsZT1uZXcgTyxuLm9uRGF0YUxvYWRlZE9ic2VydmFibGU9bmV3IE8sbi5vbk5ld0NhbWVyYUFkZGVkT2JzZXJ2YWJsZT1uZXcgTyxuLm9uQ2FtZXJhUmVtb3ZlZE9ic2VydmFibGU9bmV3IE8sbi5vbk5ld0xpZ2h0QWRkZWRPYnNlcnZhYmxlPW5ldyBPLG4ub25MaWdodFJlbW92ZWRPYnNlcnZhYmxlPW5ldyBPLG4ub25OZXdHZW9tZXRyeUFkZGVkT2JzZXJ2YWJsZT1uZXcgTyxuLm9uR2VvbWV0cnlSZW1vdmVkT2JzZXJ2YWJsZT1uZXcgTyxuLm9uTmV3VHJhbnNmb3JtTm9kZUFkZGVkT2JzZXJ2YWJsZT1uZXcgTyxuLm9uVHJhbnNmb3JtTm9kZVJlbW92ZWRPYnNlcnZhYmxlPW5ldyBPLG4ub25OZXdNZXNoQWRkZWRPYnNlcnZhYmxlPW5ldyBPLG4ub25NZXNoUmVtb3ZlZE9ic2VydmFibGU9bmV3IE8sbi5vbk5ld1NrZWxldG9uQWRkZWRPYnNlcnZhYmxlPW5ldyBPLG4ub25Ta2VsZXRvblJlbW92ZWRPYnNlcnZhYmxlPW5ldyBPLG4ub25OZXdNYXRlcmlhbEFkZGVkT2JzZXJ2YWJsZT1uZXcgTyxuLm9uTmV3TXVsdGlNYXRlcmlhbEFkZGVkT2JzZXJ2YWJsZT1uZXcgTyxuLm9uTWF0ZXJpYWxSZW1vdmVkT2JzZXJ2YWJsZT1uZXcgTyxuLm9uTXVsdGlNYXRlcmlhbFJlbW92ZWRPYnNlcnZhYmxlPW5ldyBPLG4ub25OZXdUZXh0dXJlQWRkZWRPYnNlcnZhYmxlPW5ldyBPLG4ub25UZXh0dXJlUmVtb3ZlZE9ic2VydmFibGU9bmV3IE8sbi5vbkJlZm9yZVJlbmRlclRhcmdldHNSZW5kZXJPYnNlcnZhYmxlPW5ldyBPLG4ub25BZnRlclJlbmRlclRhcmdldHNSZW5kZXJPYnNlcnZhYmxlPW5ldyBPLG4ub25CZWZvcmVTdGVwT2JzZXJ2YWJsZT1uZXcgTyxuLm9uQWZ0ZXJTdGVwT2JzZXJ2YWJsZT1uZXcgTyxuLm9uQWN0aXZlQ2FtZXJhQ2hhbmdlZD1uZXcgTyxuLm9uQmVmb3JlUmVuZGVyaW5nR3JvdXBPYnNlcnZhYmxlPW5ldyBPLG4ub25BZnRlclJlbmRlcmluZ0dyb3VwT2JzZXJ2YWJsZT1uZXcgTyxuLm9uTWVzaEltcG9ydGVkT2JzZXJ2YWJsZT1uZXcgTyxuLm9uQW5pbWF0aW9uRmlsZUltcG9ydGVkT2JzZXJ2YWJsZT1uZXcgTyxuLl9yZWdpc3RlcmVkRm9yTGF0ZUFuaW1hdGlvbkJpbmRpbmdzPW5ldyBPdCgyNTYpLG4uc2tpcFBvaW50ZXJNb3ZlUGlja2luZz0hMSxuLnNraXBQb2ludGVyRG93blBpY2tpbmc9ITEsbi5za2lwUG9pbnRlclVwUGlja2luZz0hMSxuLm9uUHJlUG9pbnRlck9ic2VydmFibGU9bmV3IE8sbi5vblBvaW50ZXJPYnNlcnZhYmxlPW5ldyBPLG4ub25QcmVLZXlib2FyZE9ic2VydmFibGU9bmV3IE8sbi5vbktleWJvYXJkT2JzZXJ2YWJsZT1uZXcgTyxuLl91c2VSaWdodEhhbmRlZFN5c3RlbT0hMSxuLl90aW1lQWNjdW11bGF0b3I9MCxuLl9jdXJyZW50U3RlcElkPTAsbi5fY3VycmVudEludGVybmFsU3RlcD0wLG4uX2ZvZ0VuYWJsZWQ9ITAsbi5fZm9nTW9kZT1lLkZPR01PREVfTk9ORSxuLmZvZ0NvbG9yPW5ldyBiZSguMiwuMiwuMyksbi5mb2dEZW5zaXR5PS4xLG4uZm9nU3RhcnQ9MCxuLmZvZ0VuZD0xZTMsbi5uZWVkc1ByZXZpb3VzV29ybGRNYXRyaWNlcz0hMSxuLl9zaGFkb3dzRW5hYmxlZD0hMCxuLl9saWdodHNFbmFibGVkPSEwLG4uYWN0aXZlQ2FtZXJhcz1uZXcgQXJyYXksbi5fdGV4dHVyZXNFbmFibGVkPSEwLG4ucGh5c2ljc0VuYWJsZWQ9ITAsbi5wYXJ0aWNsZXNFbmFibGVkPSEwLG4uc3ByaXRlc0VuYWJsZWQ9ITAsbi5fc2tlbGV0b25zRW5hYmxlZD0hMCxuLmxlbnNGbGFyZXNFbmFibGVkPSEwLG4uY29sbGlzaW9uc0VuYWJsZWQ9ITAsbi5ncmF2aXR5PW5ldyBiKDAsLTkuODA3LDApLG4ucG9zdFByb2Nlc3Nlc0VuYWJsZWQ9ITAsbi5yZW5kZXJUYXJnZXRzRW5hYmxlZD0hMCxuLmR1bXBOZXh0UmVuZGVyVGFyZ2V0cz0hMSxuLmN1c3RvbVJlbmRlclRhcmdldHM9bmV3IEFycmF5LG4uaW1wb3J0ZWRNZXNoZXNGaWxlcz1uZXcgQXJyYXksbi5wcm9iZXNFbmFibGVkPSEwLG4uX21lc2hlc0ZvckludGVyc2VjdGlvbnM9bmV3IE90KDI1Niksbi5wcm9jZWR1cmFsVGV4dHVyZXNFbmFibGVkPSEwLG4uX3RvdGFsVmVydGljZXM9bmV3ICR0LG4uX2FjdGl2ZUluZGljZXM9bmV3ICR0LG4uX2FjdGl2ZVBhcnRpY2xlcz1uZXcgJHQsbi5fYWN0aXZlQm9uZXM9bmV3ICR0LG4uX2FuaW1hdGlvblRpbWU9MCxuLmFuaW1hdGlvblRpbWVTY2FsZT0xLG4uX3JlbmRlcklkPTAsbi5fZnJhbWVJZD0wLG4uX2V4ZWN1dGVXaGVuUmVhZHlUaW1lb3V0SWQ9bnVsbCxuLl9pbnRlcm1lZGlhdGVSZW5kZXJpbmc9ITEsbi5fZGVmYXVsdEZyYW1lQnVmZmVyQ2xlYXJlZD0hMSxuLl92aWV3VXBkYXRlRmxhZz0tMSxuLl9wcm9qZWN0aW9uVXBkYXRlRmxhZz0tMSxuLl90b0JlRGlzcG9zZWQ9bmV3IEFycmF5KDI1Niksbi5fYWN0aXZlUmVxdWVzdHM9bmV3IEFycmF5LG4uX3BlbmRpbmdEYXRhPW5ldyBBcnJheSxuLl9pc0Rpc3Bvc2VkPSExLG4uZGlzcGF0Y2hBbGxTdWJNZXNoZXNPZkFjdGl2ZU1lc2hlcz0hMSxuLl9hY3RpdmVNZXNoZXM9bmV3IFZlKDI1Niksbi5fcHJvY2Vzc2VkTWF0ZXJpYWxzPW5ldyBWZSgyNTYpLG4uX3JlbmRlclRhcmdldHM9bmV3IE90KDI1Niksbi5fbWF0ZXJpYWxzUmVuZGVyVGFyZ2V0cz1uZXcgT3QoMjU2KSxuLl9hY3RpdmVQYXJ0aWNsZVN5c3RlbXM9bmV3IFZlKDI1Niksbi5fYWN0aXZlU2tlbGV0b25zPW5ldyBPdCgzMiksbi5fc29mdHdhcmVTa2lubmVkTWVzaGVzPW5ldyBPdCgzMiksbi5fYWN0aXZlQW5pbWF0YWJsZXM9bmV3IEFycmF5LG4uX3RyYW5zZm9ybU1hdHJpeD1JLlplcm8oKSxuLnJlcXVpcmVMaWdodFNvcnRpbmc9ITEsbi5fY29tcG9uZW50cz1bXSxuLl9zZXJpYWxpemFibGVDb21wb25lbnRzPVtdLG4uX3RyYW5zaWVudENvbXBvbmVudHM9W10sbi5fYmVmb3JlQ2FtZXJhVXBkYXRlU3RhZ2U9VGUuQ3JlYXRlKCksbi5fYmVmb3JlQ2xlYXJTdGFnZT1UZS5DcmVhdGUoKSxuLl9iZWZvcmVSZW5kZXJUYXJnZXRDbGVhclN0YWdlPVRlLkNyZWF0ZSgpLG4uX2dhdGhlclJlbmRlclRhcmdldHNTdGFnZT1UZS5DcmVhdGUoKSxuLl9nYXRoZXJBY3RpdmVDYW1lcmFSZW5kZXJUYXJnZXRzU3RhZ2U9VGUuQ3JlYXRlKCksbi5faXNSZWFkeUZvck1lc2hTdGFnZT1UZS5DcmVhdGUoKSxuLl9iZWZvcmVFdmFsdWF0ZUFjdGl2ZU1lc2hTdGFnZT1UZS5DcmVhdGUoKSxuLl9ldmFsdWF0ZVN1Yk1lc2hTdGFnZT1UZS5DcmVhdGUoKSxuLl9wcmVBY3RpdmVNZXNoU3RhZ2U9VGUuQ3JlYXRlKCksbi5fY2FtZXJhRHJhd1JlbmRlclRhcmdldFN0YWdlPVRlLkNyZWF0ZSgpLG4uX2JlZm9yZUNhbWVyYURyYXdTdGFnZT1UZS5DcmVhdGUoKSxuLl9iZWZvcmVSZW5kZXJUYXJnZXREcmF3U3RhZ2U9VGUuQ3JlYXRlKCksbi5fYmVmb3JlUmVuZGVyaW5nR3JvdXBEcmF3U3RhZ2U9VGUuQ3JlYXRlKCksbi5fYmVmb3JlUmVuZGVyaW5nTWVzaFN0YWdlPVRlLkNyZWF0ZSgpLG4uX2FmdGVyUmVuZGVyaW5nTWVzaFN0YWdlPVRlLkNyZWF0ZSgpLG4uX2FmdGVyUmVuZGVyaW5nR3JvdXBEcmF3U3RhZ2U9VGUuQ3JlYXRlKCksbi5fYWZ0ZXJDYW1lcmFEcmF3U3RhZ2U9VGUuQ3JlYXRlKCksbi5fYWZ0ZXJSZW5kZXJUYXJnZXREcmF3U3RhZ2U9VGUuQ3JlYXRlKCksbi5fYWZ0ZXJSZW5kZXJTdGFnZT1UZS5DcmVhdGUoKSxuLl9wb2ludGVyTW92ZVN0YWdlPVRlLkNyZWF0ZSgpLG4uX3BvaW50ZXJEb3duU3RhZ2U9VGUuQ3JlYXRlKCksbi5fcG9pbnRlclVwU3RhZ2U9VGUuQ3JlYXRlKCksbi5fZ2VvbWV0cmllc0J5VW5pcXVlSWQ9bnVsbCxuLl9kZWZhdWx0TWVzaENhbmRpZGF0ZXM9e2RhdGE6W10sbGVuZ3RoOjB9LG4uX2RlZmF1bHRTdWJNZXNoQ2FuZGlkYXRlcz17ZGF0YTpbXSxsZW5ndGg6MH0sbi5fcHJldmVudEZyZWVBY3RpdmVNZXNoZXNBbmRSZW5kZXJpbmdHcm91cHM9ITEsbi5fYWN0aXZlTWVzaGVzRnJvemVuPSExLG4uX2FjdGl2ZU1lc2hlc0Zyb3plbkJ1dEtlZXBDbGlwcGluZz0hMSxuLl9za2lwRXZhbHVhdGVBY3RpdmVNZXNoZXNDb21wbGV0ZWx5PSExLG4uX2FsbG93UG9zdFByb2Nlc3NDbGVhckNvbG9yPSEwLG4uZ2V0RGV0ZXJtaW5pc3RpY0ZyYW1lVGltZT1mdW5jdGlvbigpe3JldHVybiBuLl9lbmdpbmUuZ2V0VGltZVN0ZXAoKX0sbi5fYmxvY2tNYXRlcmlhbERpcnR5TWVjaGFuaXNtPSExLG4uX3BlcmZDb2xsZWN0b3I9bnVsbCxuLm9uQ29tcHV0ZVByZXNzdXJlQ2hhbmdlZD1uZXcgTzt2YXIgYT1FdCh7dXNlR2VvbWV0cnlVbmlxdWVJZHNNYXA6ITAsdXNlTWF0ZXJpYWxNZXNoTWFwOiEwLHVzZUNsb25lZE1lc2hNYXA6ITAsdmlydHVhbDohMX0scik7cmV0dXJuIG4uX2VuZ2luZT10fHxhZS5MYXN0Q3JlYXRlZEVuZ2luZSxhLnZpcnR1YWw/bi5fZW5naW5lLl92aXJ0dWFsU2NlbmVzLnB1c2gobik6KGFlLl9MYXN0Q3JlYXRlZFNjZW5lPW4sbi5fZW5naW5lLnNjZW5lcy5wdXNoKG4pKSxuLl91aWQ9bnVsbCxuLl9yZW5kZXJpbmdNYW5hZ2VyPW5ldyBBcihuKSxNciYmKG4ucG9zdFByb2Nlc3NNYW5hZ2VyPW5ldyBNcihuKSkseWUoKSYmbi5hdHRhY2hDb250cm9sKCksbi5fY3JlYXRlVWJvKCksQnQmJihuLl9pbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uPW5ldyBCdCksbi5zZXREZWZhdWx0Q2FuZGlkYXRlUHJvdmlkZXJzKCksYS51c2VHZW9tZXRyeVVuaXF1ZUlkc01hcCYmKG4uX2dlb21ldHJpZXNCeVVuaXF1ZUlkPXt9KSxuLnVzZU1hdGVyaWFsTWVzaE1hcD1hLnVzZU1hdGVyaWFsTWVzaE1hcCxuLnVzZUNsb25lZE1lc2hNYXA9YS51c2VDbG9uZWRNZXNoTWFwLCghcnx8IXIudmlydHVhbCkmJm4uX2VuZ2luZS5vbk5ld1NjZW5lQWRkZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhuKSx0bi5Jc0F2YWlsYWJsZSYmKG4uX2NvbXB1dGVQcmVzc3VyZU9ic2VydmVyPW5ldyB0bihmdW5jdGlvbihzKXtuLm9uQ29tcHV0ZVByZXNzdXJlQ2hhbmdlZC5ub3RpZnlPYnNlcnZlcnMocyl9LHtjcHVVdGlsaXphdGlvblRocmVzaG9sZHM6Wy4yNSwuNSwuNzUsLjldLGNwdVNwZWVkVGhyZXNob2xkczpbLjVdfSksbi5fY29tcHV0ZVByZXNzdXJlT2JzZXJ2ZXIub2JzZXJ2ZSgpKSxufXJldHVybiBlLkRlZmF1bHRNYXRlcmlhbEZhY3Rvcnk9ZnVuY3Rpb24odCl7dGhyb3cgWCgiU3RhbmRhcmRNYXRlcmlhbCIpfSxlLkNvbGxpc2lvbkNvb3JkaW5hdG9yRmFjdG9yeT1mdW5jdGlvbigpe3Rocm93IFgoIkRlZmF1bHRDb2xsaXNpb25Db29yZGluYXRvciIpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImVudmlyb25tZW50VGV4dHVyZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9lbnZpcm9ubWVudFRleHR1cmV9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9lbnZpcm9ubWVudFRleHR1cmUhPT10JiYodGhpcy5fZW52aXJvbm1lbnRUZXh0dXJlPXQsdGhpcy5tYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxKSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJpbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb259LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJmb3JjZVdpcmVmcmFtZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9mb3JjZVdpcmVmcmFtZX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2ZvcmNlV2lyZWZyYW1lIT09dCYmKHRoaXMuX2ZvcmNlV2lyZWZyYW1lPXQsdGhpcy5tYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxNikpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwic2tpcEZydXN0dW1DbGlwcGluZyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9za2lwRnJ1c3R1bUNsaXBwaW5nfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fc2tpcEZydXN0dW1DbGlwcGluZyE9PXQmJih0aGlzLl9za2lwRnJ1c3R1bUNsaXBwaW5nPXQpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiZm9yY2VQb2ludHNDbG91ZCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9mb3JjZVBvaW50c0Nsb3VkfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fZm9yY2VQb2ludHNDbG91ZCE9PXQmJih0aGlzLl9mb3JjZVBvaW50c0Nsb3VkPXQsdGhpcy5tYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxNikpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiYW5pbWF0aW9uUHJvcGVydGllc092ZXJyaWRlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FuaW1hdGlvblByb3BlcnRpZXNPdmVycmlkZX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2FuaW1hdGlvblByb3BlcnRpZXNPdmVycmlkZT10fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwib25EaXNwb3NlIix7c2V0OmZ1bmN0aW9uKHQpe3RoaXMuX29uRGlzcG9zZU9ic2VydmVyJiZ0aGlzLm9uRGlzcG9zZU9ic2VydmFibGUucmVtb3ZlKHRoaXMuX29uRGlzcG9zZU9ic2VydmVyKSx0aGlzLl9vbkRpc3Bvc2VPYnNlcnZlcj10aGlzLm9uRGlzcG9zZU9ic2VydmFibGUuYWRkKHQpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiYmVmb3JlUmVuZGVyIix7c2V0OmZ1bmN0aW9uKHQpe3RoaXMuX29uQmVmb3JlUmVuZGVyT2JzZXJ2ZXImJnRoaXMub25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlLnJlbW92ZSh0aGlzLl9vbkJlZm9yZVJlbmRlck9ic2VydmVyKSx0JiYodGhpcy5fb25CZWZvcmVSZW5kZXJPYnNlcnZlcj10aGlzLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5hZGQodCkpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiYWZ0ZXJSZW5kZXIiLHtzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fb25BZnRlclJlbmRlck9ic2VydmVyJiZ0aGlzLm9uQWZ0ZXJSZW5kZXJPYnNlcnZhYmxlLnJlbW92ZSh0aGlzLl9vbkFmdGVyUmVuZGVyT2JzZXJ2ZXIpLHQmJih0aGlzLl9vbkFmdGVyUmVuZGVyT2JzZXJ2ZXI9dGhpcy5vbkFmdGVyUmVuZGVyT2JzZXJ2YWJsZS5hZGQodCkpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiYmVmb3JlQ2FtZXJhUmVuZGVyIix7c2V0OmZ1bmN0aW9uKHQpe3RoaXMuX29uQmVmb3JlQ2FtZXJhUmVuZGVyT2JzZXJ2ZXImJnRoaXMub25CZWZvcmVDYW1lcmFSZW5kZXJPYnNlcnZhYmxlLnJlbW92ZSh0aGlzLl9vbkJlZm9yZUNhbWVyYVJlbmRlck9ic2VydmVyKSx0aGlzLl9vbkJlZm9yZUNhbWVyYVJlbmRlck9ic2VydmVyPXRoaXMub25CZWZvcmVDYW1lcmFSZW5kZXJPYnNlcnZhYmxlLmFkZCh0KX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImFmdGVyQ2FtZXJhUmVuZGVyIix7c2V0OmZ1bmN0aW9uKHQpe3RoaXMuX29uQWZ0ZXJDYW1lcmFSZW5kZXJPYnNlcnZlciYmdGhpcy5vbkFmdGVyQ2FtZXJhUmVuZGVyT2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5fb25BZnRlckNhbWVyYVJlbmRlck9ic2VydmVyKSx0aGlzLl9vbkFmdGVyQ2FtZXJhUmVuZGVyT2JzZXJ2ZXI9dGhpcy5vbkFmdGVyQ2FtZXJhUmVuZGVyT2JzZXJ2YWJsZS5hZGQodCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJ1blRyYW5zbGF0ZWRQb2ludGVyIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lucHV0TWFuYWdlci51blRyYW5zbGF0ZWRQb2ludGVyfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJEcmFnTW92ZW1lbnRUaHJlc2hvbGQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaHQuRHJhZ01vdmVtZW50VGhyZXNob2xkfSxzZXQ6ZnVuY3Rpb24odCl7aHQuRHJhZ01vdmVtZW50VGhyZXNob2xkPXR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkxvbmdQcmVzc0RlbGF5Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGh0LkxvbmdQcmVzc0RlbGF5fSxzZXQ6ZnVuY3Rpb24odCl7aHQuTG9uZ1ByZXNzRGVsYXk9dH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiRG91YmxlQ2xpY2tEZWxheSIse2dldDpmdW5jdGlvbigpe3JldHVybiBodC5Eb3VibGVDbGlja0RlbGF5fSxzZXQ6ZnVuY3Rpb24odCl7aHQuRG91YmxlQ2xpY2tEZWxheT10fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJFeGNsdXNpdmVEb3VibGVDbGlja01vZGUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaHQuRXhjbHVzaXZlRG91YmxlQ2xpY2tNb2RlfSxzZXQ6ZnVuY3Rpb24odCl7aHQuRXhjbHVzaXZlRG91YmxlQ2xpY2tNb2RlPXR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuYmluZEV5ZVBvc2l0aW9uPWZ1bmN0aW9uKHQscixuKXt2YXIgYTtyPT09dm9pZCAwJiYocj0idkV5ZVBvc2l0aW9uIiksbj09PXZvaWQgMCYmKG49ITEpO3ZhciBzPXRoaXMuX2ZvcmNlZFZpZXdQb3NpdGlvbj90aGlzLl9mb3JjZWRWaWV3UG9zaXRpb246dGhpcy5fbWlycm9yZWRDYW1lcmFQb3NpdGlvbj90aGlzLl9taXJyb3JlZENhbWVyYVBvc2l0aW9uOihhPXRoaXMuYWN0aXZlQ2FtZXJhLmdsb2JhbFBvc2l0aW9uKSE9PW51bGwmJmEhPT12b2lkIDA/YTp0aGlzLmFjdGl2ZUNhbWVyYS5kZXZpY2VQb3NpdGlvbixvPXRoaXMudXNlUmlnaHRIYW5kZWRTeXN0ZW09PT0odGhpcy5fbWlycm9yZWRDYW1lcmFQb3NpdGlvbiE9bnVsbCk7cmV0dXJuIEQuVmVjdG9yNFswXS5zZXQocy54LHMueSxzLnosbz8tMToxKSx0JiYobj90LnNldEZsb2F0MyhyLEQuVmVjdG9yNFswXS54LEQuVmVjdG9yNFswXS55LEQuVmVjdG9yNFswXS56KTp0LnNldFZlY3RvcjQocixELlZlY3RvcjRbMF0pKSxELlZlY3RvcjRbMF19LGUucHJvdG90eXBlLmZpbmFsaXplU2NlbmVVYm89ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldFNjZW5lVW5pZm9ybUJ1ZmZlcigpLHI9dGhpcy5iaW5kRXllUG9zaXRpb24obnVsbCk7cmV0dXJuIHQudXBkYXRlRmxvYXQ0KCJ2RXllUG9zaXRpb24iLHIueCxyLnksci56LHIudyksdC51cGRhdGUoKSx0fSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInVzZVJpZ2h0SGFuZGVkU3lzdGVtIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3VzZVJpZ2h0SGFuZGVkU3lzdGVtfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fdXNlUmlnaHRIYW5kZWRTeXN0ZW0hPT10JiYodGhpcy5fdXNlUmlnaHRIYW5kZWRTeXN0ZW09dCx0aGlzLm1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDE2KSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuc2V0U3RlcElkPWZ1bmN0aW9uKHQpe3RoaXMuX2N1cnJlbnRTdGVwSWQ9dH0sZS5wcm90b3R5cGUuZ2V0U3RlcElkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2N1cnJlbnRTdGVwSWR9LGUucHJvdG90eXBlLmdldEludGVybmFsU3RlcD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9jdXJyZW50SW50ZXJuYWxTdGVwfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImZvZ0VuYWJsZWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZm9nRW5hYmxlZH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2ZvZ0VuYWJsZWQhPT10JiYodGhpcy5fZm9nRW5hYmxlZD10LHRoaXMubWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMTYpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImZvZ01vZGUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZm9nTW9kZX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2ZvZ01vZGUhPT10JiYodGhpcy5fZm9nTW9kZT10LHRoaXMubWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMTYpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInByZVBhc3MiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4hIXRoaXMucHJlUGFzc1JlbmRlcmVyJiZ0aGlzLnByZVBhc3NSZW5kZXJlci5kZWZhdWx0UlQuZW5hYmxlZH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInNoYWRvd3NFbmFibGVkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NoYWRvd3NFbmFibGVkfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fc2hhZG93c0VuYWJsZWQhPT10JiYodGhpcy5fc2hhZG93c0VuYWJsZWQ9dCx0aGlzLm1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDIpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImxpZ2h0c0VuYWJsZWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbGlnaHRzRW5hYmxlZH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2xpZ2h0c0VuYWJsZWQhPT10JiYodGhpcy5fbGlnaHRzRW5hYmxlZD10LHRoaXMubWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMikpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiYWN0aXZlQ2FtZXJhIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FjdGl2ZUNhbWVyYX0sc2V0OmZ1bmN0aW9uKHQpe3QhPT10aGlzLl9hY3RpdmVDYW1lcmEmJih0aGlzLl9hY3RpdmVDYW1lcmE9dCx0aGlzLm9uQWN0aXZlQ2FtZXJhQ2hhbmdlZC5ub3RpZnlPYnNlcnZlcnModGhpcykpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiZGVmYXVsdE1hdGVyaWFsIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RlZmF1bHRNYXRlcmlhbHx8KHRoaXMuX2RlZmF1bHRNYXRlcmlhbD1lLkRlZmF1bHRNYXRlcmlhbEZhY3RvcnkodGhpcykpLHRoaXMuX2RlZmF1bHRNYXRlcmlhbH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2RlZmF1bHRNYXRlcmlhbD10fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwidGV4dHVyZXNFbmFibGVkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RleHR1cmVzRW5hYmxlZH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3RleHR1cmVzRW5hYmxlZCE9PXQmJih0aGlzLl90ZXh0dXJlc0VuYWJsZWQ9dCx0aGlzLm1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDEpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInNrZWxldG9uc0VuYWJsZWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2tlbGV0b25zRW5hYmxlZH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3NrZWxldG9uc0VuYWJsZWQhPT10JiYodGhpcy5fc2tlbGV0b25zRW5hYmxlZD10LHRoaXMubWFya0FsbE1hdGVyaWFsc0FzRGlydHkoOCkpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiY29sbGlzaW9uQ29vcmRpbmF0b3IiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY29sbGlzaW9uQ29vcmRpbmF0b3J8fCh0aGlzLl9jb2xsaXNpb25Db29yZGluYXRvcj1lLkNvbGxpc2lvbkNvb3JkaW5hdG9yRmFjdG9yeSgpLHRoaXMuX2NvbGxpc2lvbkNvb3JkaW5hdG9yLmluaXQodGhpcykpLHRoaXMuX2NvbGxpc2lvbkNvb3JkaW5hdG9yfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiZnJ1c3R1bVBsYW5lcyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9mcnVzdHVtUGxhbmVzfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLl9yZWdpc3RlclRyYW5zaWVudENvbXBvbmVudHM9ZnVuY3Rpb24oKXtpZih0aGlzLl90cmFuc2llbnRDb21wb25lbnRzLmxlbmd0aD4wKXtmb3IodmFyIHQ9MCxyPXRoaXMuX3RyYW5zaWVudENvbXBvbmVudHM7dDxyLmxlbmd0aDt0Kyspe3ZhciBuPXJbdF07bi5yZWdpc3RlcigpfXRoaXMuX3RyYW5zaWVudENvbXBvbmVudHM9W119fSxlLnByb3RvdHlwZS5fYWRkQ29tcG9uZW50PWZ1bmN0aW9uKHQpe3RoaXMuX2NvbXBvbmVudHMucHVzaCh0KSx0aGlzLl90cmFuc2llbnRDb21wb25lbnRzLnB1c2godCk7dmFyIHI9dDtyLmFkZEZyb21Db250YWluZXImJnIuc2VyaWFsaXplJiZ0aGlzLl9zZXJpYWxpemFibGVDb21wb25lbnRzLnB1c2gocil9LGUucHJvdG90eXBlLl9nZXRDb21wb25lbnQ9ZnVuY3Rpb24odCl7Zm9yKHZhciByPTAsbj10aGlzLl9jb21wb25lbnRzO3I8bi5sZW5ndGg7cisrKXt2YXIgYT1uW3JdO2lmKGEubmFtZT09PXQpcmV0dXJuIGF9cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLmdldENsYXNzTmFtZT1mdW5jdGlvbigpe3JldHVybiJTY2VuZSJ9LGUucHJvdG90eXBlLl9nZXREZWZhdWx0TWVzaENhbmRpZGF0ZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGVmYXVsdE1lc2hDYW5kaWRhdGVzLmRhdGE9dGhpcy5tZXNoZXMsdGhpcy5fZGVmYXVsdE1lc2hDYW5kaWRhdGVzLmxlbmd0aD10aGlzLm1lc2hlcy5sZW5ndGgsdGhpcy5fZGVmYXVsdE1lc2hDYW5kaWRhdGVzfSxlLnByb3RvdHlwZS5fZ2V0RGVmYXVsdFN1Yk1lc2hDYW5kaWRhdGVzPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9kZWZhdWx0U3ViTWVzaENhbmRpZGF0ZXMuZGF0YT10LnN1Yk1lc2hlcyx0aGlzLl9kZWZhdWx0U3ViTWVzaENhbmRpZGF0ZXMubGVuZ3RoPXQuc3ViTWVzaGVzLmxlbmd0aCx0aGlzLl9kZWZhdWx0U3ViTWVzaENhbmRpZGF0ZXN9LGUucHJvdG90eXBlLnNldERlZmF1bHRDYW5kaWRhdGVQcm92aWRlcnM9ZnVuY3Rpb24oKXt0aGlzLmdldEFjdGl2ZU1lc2hDYW5kaWRhdGVzPXRoaXMuX2dldERlZmF1bHRNZXNoQ2FuZGlkYXRlcy5iaW5kKHRoaXMpLHRoaXMuZ2V0QWN0aXZlU3ViTWVzaENhbmRpZGF0ZXM9dGhpcy5fZ2V0RGVmYXVsdFN1Yk1lc2hDYW5kaWRhdGVzLmJpbmQodGhpcyksdGhpcy5nZXRJbnRlcnNlY3RpbmdTdWJNZXNoQ2FuZGlkYXRlcz10aGlzLl9nZXREZWZhdWx0U3ViTWVzaENhbmRpZGF0ZXMuYmluZCh0aGlzKSx0aGlzLmdldENvbGxpZGluZ1N1Yk1lc2hDYW5kaWRhdGVzPXRoaXMuX2dldERlZmF1bHRTdWJNZXNoQ2FuZGlkYXRlcy5iaW5kKHRoaXMpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsIm1lc2hVbmRlclBvaW50ZXIiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW5wdXRNYW5hZ2VyLm1lc2hVbmRlclBvaW50ZXJ9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJwb2ludGVyWCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbnB1dE1hbmFnZXIucG9pbnRlclh9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9pbnB1dE1hbmFnZXIucG9pbnRlclg9dH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInBvaW50ZXJZIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lucHV0TWFuYWdlci5wb2ludGVyWX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2lucHV0TWFuYWdlci5wb2ludGVyWT10fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLmdldENhY2hlZE1hdGVyaWFsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NhY2hlZE1hdGVyaWFsfSxlLnByb3RvdHlwZS5nZXRDYWNoZWRFZmZlY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2FjaGVkRWZmZWN0fSxlLnByb3RvdHlwZS5nZXRDYWNoZWRWaXNpYmlsaXR5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NhY2hlZFZpc2liaWxpdHl9LGUucHJvdG90eXBlLmlzQ2FjaGVkTWF0ZXJpYWxJbnZhbGlkPWZ1bmN0aW9uKHQscixuKXtyZXR1cm4gbj09PXZvaWQgMCYmKG49MSksdGhpcy5fY2FjaGVkRWZmZWN0IT09cnx8dGhpcy5fY2FjaGVkTWF0ZXJpYWwhPT10fHx0aGlzLl9jYWNoZWRWaXNpYmlsaXR5IT09bn0sZS5wcm90b3R5cGUuZ2V0RW5naW5lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2VuZ2luZX0sZS5wcm90b3R5cGUuZ2V0VG90YWxWZXJ0aWNlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl90b3RhbFZlcnRpY2VzLmN1cnJlbnR9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwidG90YWxWZXJ0aWNlc1BlcmZDb3VudGVyIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RvdGFsVmVydGljZXN9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuZ2V0QWN0aXZlSW5kaWNlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9hY3RpdmVJbmRpY2VzLmN1cnJlbnR9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwidG90YWxBY3RpdmVJbmRpY2VzUGVyZkNvdW50ZXIiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYWN0aXZlSW5kaWNlc30sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5nZXRBY3RpdmVQYXJ0aWNsZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYWN0aXZlUGFydGljbGVzLmN1cnJlbnR9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiYWN0aXZlUGFydGljbGVzUGVyZkNvdW50ZXIiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYWN0aXZlUGFydGljbGVzfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLmdldEFjdGl2ZUJvbmVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FjdGl2ZUJvbmVzLmN1cnJlbnR9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiYWN0aXZlQm9uZXNQZXJmQ291bnRlciIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9hY3RpdmVCb25lc30sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5nZXRBY3RpdmVNZXNoZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYWN0aXZlTWVzaGVzfSxlLnByb3RvdHlwZS5nZXRBbmltYXRpb25SYXRpbz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9hbmltYXRpb25SYXRpbyE9PXZvaWQgMD90aGlzLl9hbmltYXRpb25SYXRpbzoxfSxlLnByb3RvdHlwZS5nZXRSZW5kZXJJZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9yZW5kZXJJZH0sZS5wcm90b3R5cGUuZ2V0RnJhbWVJZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9mcmFtZUlkfSxlLnByb3RvdHlwZS5pbmNyZW1lbnRSZW5kZXJJZD1mdW5jdGlvbigpe3RoaXMuX3JlbmRlcklkKyt9LGUucHJvdG90eXBlLl9jcmVhdGVVYm89ZnVuY3Rpb24oKXt0aGlzLnNldFNjZW5lVW5pZm9ybUJ1ZmZlcih0aGlzLmNyZWF0ZVNjZW5lVW5pZm9ybUJ1ZmZlcigpKX0sZS5wcm90b3R5cGUuc2ltdWxhdGVQb2ludGVyTW92ZT1mdW5jdGlvbih0LHIpe3JldHVybiB0aGlzLl9pbnB1dE1hbmFnZXIuc2ltdWxhdGVQb2ludGVyTW92ZSh0LHIpLHRoaXN9LGUucHJvdG90eXBlLnNpbXVsYXRlUG9pbnRlckRvd249ZnVuY3Rpb24odCxyKXtyZXR1cm4gdGhpcy5faW5wdXRNYW5hZ2VyLnNpbXVsYXRlUG9pbnRlckRvd24odCxyKSx0aGlzfSxlLnByb3RvdHlwZS5zaW11bGF0ZVBvaW50ZXJVcD1mdW5jdGlvbih0LHIsbil7cmV0dXJuIHRoaXMuX2lucHV0TWFuYWdlci5zaW11bGF0ZVBvaW50ZXJVcCh0LHIsbiksdGhpc30sZS5wcm90b3R5cGUuaXNQb2ludGVyQ2FwdHVyZWQ9ZnVuY3Rpb24odCl7cmV0dXJuIHQ9PT12b2lkIDAmJih0PTApLHRoaXMuX2lucHV0TWFuYWdlci5pc1BvaW50ZXJDYXB0dXJlZCh0KX0sZS5wcm90b3R5cGUuYXR0YWNoQ29udHJvbD1mdW5jdGlvbih0LHIsbil7dD09PXZvaWQgMCYmKHQ9ITApLHI9PT12b2lkIDAmJihyPSEwKSxuPT09dm9pZCAwJiYobj0hMCksdGhpcy5faW5wdXRNYW5hZ2VyLmF0dGFjaENvbnRyb2wodCxyLG4pfSxlLnByb3RvdHlwZS5kZXRhY2hDb250cm9sPWZ1bmN0aW9uKCl7dGhpcy5faW5wdXRNYW5hZ2VyLmRldGFjaENvbnRyb2woKX0sZS5wcm90b3R5cGUuaXNSZWFkeT1mdW5jdGlvbih0KXtpZih0PT09dm9pZCAwJiYodD0hMCksdGhpcy5faXNEaXNwb3NlZClyZXR1cm4hMTt2YXIgcixuPXRoaXMuZ2V0RW5naW5lKCksYT0hMDtmb3IodGhpcy5fcGVuZGluZ0RhdGEubGVuZ3RoPjAmJihhPSExKSx0JiYodGhpcy5fcHJvY2Vzc2VkTWF0ZXJpYWxzLnJlc2V0KCksdGhpcy5fbWF0ZXJpYWxzUmVuZGVyVGFyZ2V0cy5yZXNldCgpKSxyPTA7cjx0aGlzLm1lc2hlcy5sZW5ndGg7cisrKXt2YXIgcz10aGlzLm1lc2hlc1tyXTtpZighKCFzLnN1Yk1lc2hlc3x8cy5zdWJNZXNoZXMubGVuZ3RoPT09MCkpe2lmKCFzLmlzUmVhZHkoITApKXthPSExO2NvbnRpbnVlfWZvcih2YXIgbz1zLmhhc1RoaW5JbnN0YW5jZXN8fHMuZ2V0Q2xhc3NOYW1lKCk9PT0iSW5zdGFuY2VkTWVzaCJ8fHMuZ2V0Q2xhc3NOYW1lKCk9PT0iSW5zdGFuY2VkTGluZXNNZXNoInx8bi5nZXRDYXBzKCkuaW5zdGFuY2VkQXJyYXlzJiZzLmluc3RhbmNlcy5sZW5ndGg+MCx1PTAsZj10aGlzLl9pc1JlYWR5Rm9yTWVzaFN0YWdlO3U8Zi5sZW5ndGg7dSsrKXt2YXIgbD1mW3VdO2wuYWN0aW9uKHMsbyl8fChhPSExKX1pZighIXQpe3ZhciBoPXMubWF0ZXJpYWx8fHRoaXMuZGVmYXVsdE1hdGVyaWFsO2lmKGgpaWYoaC5fc3RvcmVFZmZlY3RPblN1Yk1lc2hlcylmb3IodmFyIGM9MCxkPXMuc3ViTWVzaGVzO2M8ZC5sZW5ndGg7YysrKXt2YXIgcD1kW2NdLGc9cC5nZXRNYXRlcmlhbCgpO2cmJmcuaGFzUmVuZGVyVGFyZ2V0VGV4dHVyZXMmJmcuZ2V0UmVuZGVyVGFyZ2V0VGV4dHVyZXMhPW51bGwmJnRoaXMuX3Byb2Nlc3NlZE1hdGVyaWFscy5pbmRleE9mKGcpPT09LTEmJih0aGlzLl9wcm9jZXNzZWRNYXRlcmlhbHMucHVzaChnKSx0aGlzLl9tYXRlcmlhbHNSZW5kZXJUYXJnZXRzLmNvbmNhdFdpdGhOb0R1cGxpY2F0ZShnLmdldFJlbmRlclRhcmdldFRleHR1cmVzKCkpKX1lbHNlIGguaGFzUmVuZGVyVGFyZ2V0VGV4dHVyZXMmJmguZ2V0UmVuZGVyVGFyZ2V0VGV4dHVyZXMhPW51bGwmJnRoaXMuX3Byb2Nlc3NlZE1hdGVyaWFscy5pbmRleE9mKGgpPT09LTEmJih0aGlzLl9wcm9jZXNzZWRNYXRlcmlhbHMucHVzaChoKSx0aGlzLl9tYXRlcmlhbHNSZW5kZXJUYXJnZXRzLmNvbmNhdFdpdGhOb0R1cGxpY2F0ZShoLmdldFJlbmRlclRhcmdldFRleHR1cmVzKCkpKX19fWlmKCFhfHwhbi5hcmVBbGxFZmZlY3RzUmVhZHkoKSlyZXR1cm4hMTtpZih0KWZvcihyPTA7cjx0aGlzLl9tYXRlcmlhbHNSZW5kZXJUYXJnZXRzLmxlbmd0aDsrK3Ipe3ZhciBfPXRoaXMuX21hdGVyaWFsc1JlbmRlclRhcmdldHMuZGF0YVtyXTtpZighXy5pc1JlYWR5Rm9yUmVuZGVyaW5nKCkpcmV0dXJuITF9Zm9yKHI9MDtyPHRoaXMuZ2VvbWV0cmllcy5sZW5ndGg7cisrKXt2YXIgdj10aGlzLmdlb21ldHJpZXNbcl07aWYodi5kZWxheUxvYWRTdGF0ZT09PTIpcmV0dXJuITF9aWYodGhpcy5hY3RpdmVDYW1lcmFzJiZ0aGlzLmFjdGl2ZUNhbWVyYXMubGVuZ3RoPjApZm9yKHZhciB5PTAsRT10aGlzLmFjdGl2ZUNhbWVyYXM7eTxFLmxlbmd0aDt5Kyspe3ZhciBSPUVbeV07aWYoIVIuaXNSZWFkeSghMCkpcmV0dXJuITF9ZWxzZSBpZih0aGlzLmFjdGl2ZUNhbWVyYSYmIXRoaXMuYWN0aXZlQ2FtZXJhLmlzUmVhZHkoITApKXJldHVybiExO2Zvcih2YXIgTT0wLEM9dGhpcy5wYXJ0aWNsZVN5c3RlbXM7TTxDLmxlbmd0aDtNKyspe3ZhciBBPUNbTV07aWYoIUEuaXNSZWFkeSgpKXJldHVybiExfXJldHVybiEwfSxlLnByb3RvdHlwZS5yZXNldENhY2hlZE1hdGVyaWFsPWZ1bmN0aW9uKCl7dGhpcy5fY2FjaGVkTWF0ZXJpYWw9bnVsbCx0aGlzLl9jYWNoZWRFZmZlY3Q9bnVsbCx0aGlzLl9jYWNoZWRWaXNpYmlsaXR5PW51bGx9LGUucHJvdG90eXBlLnJlZ2lzdGVyQmVmb3JlUmVuZGVyPWZ1bmN0aW9uKHQpe3RoaXMub25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlLmFkZCh0KX0sZS5wcm90b3R5cGUudW5yZWdpc3RlckJlZm9yZVJlbmRlcj1mdW5jdGlvbih0KXt0aGlzLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5yZW1vdmVDYWxsYmFjayh0KX0sZS5wcm90b3R5cGUucmVnaXN0ZXJBZnRlclJlbmRlcj1mdW5jdGlvbih0KXt0aGlzLm9uQWZ0ZXJSZW5kZXJPYnNlcnZhYmxlLmFkZCh0KX0sZS5wcm90b3R5cGUudW5yZWdpc3RlckFmdGVyUmVuZGVyPWZ1bmN0aW9uKHQpe3RoaXMub25BZnRlclJlbmRlck9ic2VydmFibGUucmVtb3ZlQ2FsbGJhY2sodCl9LGUucHJvdG90eXBlLl9leGVjdXRlT25jZUJlZm9yZVJlbmRlcj1mdW5jdGlvbih0KXt2YXIgcj10aGlzLG49ZnVuY3Rpb24oKXt0KCksc2V0VGltZW91dChmdW5jdGlvbigpe3IudW5yZWdpc3RlckJlZm9yZVJlbmRlcihuKX0pfTt0aGlzLnJlZ2lzdGVyQmVmb3JlUmVuZGVyKG4pfSxlLnByb3RvdHlwZS5leGVjdXRlT25jZUJlZm9yZVJlbmRlcj1mdW5jdGlvbih0LHIpe3ZhciBuPXRoaXM7ciE9PXZvaWQgMD9zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7bi5fZXhlY3V0ZU9uY2VCZWZvcmVSZW5kZXIodCl9LHIpOnRoaXMuX2V4ZWN1dGVPbmNlQmVmb3JlUmVuZGVyKHQpfSxlLnByb3RvdHlwZS5fYWRkUGVuZGluZ0RhdGE9ZnVuY3Rpb24odCl7dGhpcy5fcGVuZGluZ0RhdGEucHVzaCh0KX0sZS5wcm90b3R5cGUuX3JlbW92ZVBlbmRpbmdEYXRhPWZ1bmN0aW9uKHQpe3ZhciByPXRoaXMuaXNMb2FkaW5nLG49dGhpcy5fcGVuZGluZ0RhdGEuaW5kZXhPZih0KTtuIT09LTEmJnRoaXMuX3BlbmRpbmdEYXRhLnNwbGljZShuLDEpLHImJiF0aGlzLmlzTG9hZGluZyYmdGhpcy5vbkRhdGFMb2FkZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKX0sZS5wcm90b3R5cGUuZ2V0V2FpdGluZ0l0ZW1zQ291bnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcGVuZGluZ0RhdGEubGVuZ3RofSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImlzTG9hZGluZyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9wZW5kaW5nRGF0YS5sZW5ndGg+MH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5leGVjdXRlV2hlblJlYWR5PWZ1bmN0aW9uKHQscil7cj09PXZvaWQgMCYmKHI9ITEpLHRoaXMub25SZWFkeU9ic2VydmFibGUuYWRkKHQpLHRoaXMuX2V4ZWN1dGVXaGVuUmVhZHlUaW1lb3V0SWQ9PT1udWxsJiZ0aGlzLl9jaGVja0lzUmVhZHkocil9LGUucHJvdG90eXBlLndoZW5SZWFkeUFzeW5jPWZ1bmN0aW9uKHQpe3ZhciByPXRoaXM7cmV0dXJuIHQ9PT12b2lkIDAmJih0PSExKSxuZXcgUHJvbWlzZShmdW5jdGlvbihuKXtyLmV4ZWN1dGVXaGVuUmVhZHkoZnVuY3Rpb24oKXtuKCl9LHQpfSl9LGUucHJvdG90eXBlLl9jaGVja0lzUmVhZHk9ZnVuY3Rpb24odCl7dmFyIHI9dGhpcztpZih0PT09dm9pZCAwJiYodD0hMSksdGhpcy5fcmVnaXN0ZXJUcmFuc2llbnRDb21wb25lbnRzKCksdGhpcy5pc1JlYWR5KHQpKXt0aGlzLm9uUmVhZHlPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKSx0aGlzLm9uUmVhZHlPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5fZXhlY3V0ZVdoZW5SZWFkeVRpbWVvdXRJZD1udWxsO3JldHVybn1pZih0aGlzLl9pc0Rpc3Bvc2VkKXt0aGlzLm9uUmVhZHlPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5fZXhlY3V0ZVdoZW5SZWFkeVRpbWVvdXRJZD1udWxsO3JldHVybn10aGlzLl9leGVjdXRlV2hlblJlYWR5VGltZW91dElkPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtyLl9jaGVja0lzUmVhZHkodCl9LDEwMCl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiYW5pbWF0YWJsZXMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYWN0aXZlQW5pbWF0YWJsZXN9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUucmVzZXRMYXN0QW5pbWF0aW9uVGltZUZyYW1lPWZ1bmN0aW9uKCl7dGhpcy5fYW5pbWF0aW9uVGltZUxhc3Q9TnQuTm93fSxlLnByb3RvdHlwZS5nZXRWaWV3TWF0cml4PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3ZpZXdNYXRyaXh9LGUucHJvdG90eXBlLmdldFByb2plY3Rpb25NYXRyaXg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcHJvamVjdGlvbk1hdHJpeH0sZS5wcm90b3R5cGUuZ2V0VHJhbnNmb3JtTWF0cml4PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RyYW5zZm9ybU1hdHJpeH0sZS5wcm90b3R5cGUuc2V0VHJhbnNmb3JtTWF0cml4PWZ1bmN0aW9uKHQscixuLGEpeyFuJiYhYSYmdGhpcy5fbXVsdGl2aWV3U2NlbmVVYm8mJih0aGlzLl9tdWx0aXZpZXdTY2VuZVViby5kaXNwb3NlKCksdGhpcy5fbXVsdGl2aWV3U2NlbmVVYm89bnVsbCksISh0aGlzLl92aWV3VXBkYXRlRmxhZz09PXQudXBkYXRlRmxhZyYmdGhpcy5fcHJvamVjdGlvblVwZGF0ZUZsYWc9PT1yLnVwZGF0ZUZsYWcpJiYodGhpcy5fdmlld1VwZGF0ZUZsYWc9dC51cGRhdGVGbGFnLHRoaXMuX3Byb2plY3Rpb25VcGRhdGVGbGFnPXIudXBkYXRlRmxhZyx0aGlzLl92aWV3TWF0cml4PXQsdGhpcy5fcHJvamVjdGlvbk1hdHJpeD1yLHRoaXMuX3ZpZXdNYXRyaXgubXVsdGlwbHlUb1JlZih0aGlzLl9wcm9qZWN0aW9uTWF0cml4LHRoaXMuX3RyYW5zZm9ybU1hdHJpeCksdGhpcy5fZnJ1c3R1bVBsYW5lcz9Qci5HZXRQbGFuZXNUb1JlZih0aGlzLl90cmFuc2Zvcm1NYXRyaXgsdGhpcy5fZnJ1c3R1bVBsYW5lcyk6dGhpcy5fZnJ1c3R1bVBsYW5lcz1Qci5HZXRQbGFuZXModGhpcy5fdHJhbnNmb3JtTWF0cml4KSx0aGlzLl9tdWx0aXZpZXdTY2VuZVVibyYmdGhpcy5fbXVsdGl2aWV3U2NlbmVVYm8udXNlVWJvP3RoaXMuX3VwZGF0ZU11bHRpdmlld1VibyhuLGEpOnRoaXMuX3NjZW5lVWJvLnVzZVVibyYmKHRoaXMuX3NjZW5lVWJvLnVwZGF0ZU1hdHJpeCgidmlld1Byb2plY3Rpb24iLHRoaXMuX3RyYW5zZm9ybU1hdHJpeCksdGhpcy5fc2NlbmVVYm8udXBkYXRlTWF0cml4KCJ2aWV3Iix0aGlzLl92aWV3TWF0cml4KSx0aGlzLl9zY2VuZVViby51cGRhdGVNYXRyaXgoInByb2plY3Rpb24iLHRoaXMuX3Byb2plY3Rpb25NYXRyaXgpKSl9LGUucHJvdG90eXBlLmdldFNjZW5lVW5pZm9ybUJ1ZmZlcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9tdWx0aXZpZXdTY2VuZVVibz90aGlzLl9tdWx0aXZpZXdTY2VuZVVibzp0aGlzLl9zY2VuZVVib30sZS5wcm90b3R5cGUuY3JlYXRlU2NlbmVVbmlmb3JtQnVmZmVyPWZ1bmN0aW9uKHQpe3ZhciByPW5ldyBUcih0aGlzLl9lbmdpbmUsdm9pZCAwLCExLHQhPW51bGw/dDoic2NlbmUiKTtyZXR1cm4gci5hZGRVbmlmb3JtKCJ2aWV3UHJvamVjdGlvbiIsMTYpLHIuYWRkVW5pZm9ybSgidmlldyIsMTYpLHIuYWRkVW5pZm9ybSgicHJvamVjdGlvbiIsMTYpLHIuYWRkVW5pZm9ybSgidkV5ZVBvc2l0aW9uIiw0KSxyfSxlLnByb3RvdHlwZS5zZXRTY2VuZVVuaWZvcm1CdWZmZXI9ZnVuY3Rpb24odCl7dGhpcy5fc2NlbmVVYm89dCx0aGlzLl92aWV3VXBkYXRlRmxhZz0tMSx0aGlzLl9wcm9qZWN0aW9uVXBkYXRlRmxhZz0tMX0sZS5wcm90b3R5cGUuZ2V0VW5pcXVlSWQ9ZnVuY3Rpb24oKXtyZXR1cm4gYmEuVW5pcXVlSWR9LGUucHJvdG90eXBlLmFkZE1lc2g9ZnVuY3Rpb24odCxyKXt2YXIgbj10aGlzO3I9PT12b2lkIDAmJihyPSExKSwhdGhpcy5fYmxvY2tFbnRpdHlDb2xsZWN0aW9uJiYodGhpcy5tZXNoZXMucHVzaCh0KSx0Ll9yZXN5bmNMaWdodFNvdXJjZXMoKSx0LnBhcmVudHx8dC5fYWRkVG9TY2VuZVJvb3ROb2RlcygpLHRoaXMub25OZXdNZXNoQWRkZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0KSxyJiZ0LmdldENoaWxkTWVzaGVzKCkuZm9yRWFjaChmdW5jdGlvbihhKXtuLmFkZE1lc2goYSl9KSl9LGUucHJvdG90eXBlLnJlbW92ZU1lc2g9ZnVuY3Rpb24odCxyKXt2YXIgbj10aGlzO3I9PT12b2lkIDAmJihyPSExKTt2YXIgYT10aGlzLm1lc2hlcy5pbmRleE9mKHQpO3JldHVybiBhIT09LTEmJih0aGlzLm1lc2hlc1thXT10aGlzLm1lc2hlc1t0aGlzLm1lc2hlcy5sZW5ndGgtMV0sdGhpcy5tZXNoZXMucG9wKCksdC5wYXJlbnR8fHQuX3JlbW92ZUZyb21TY2VuZVJvb3ROb2RlcygpKSx0aGlzLl9pbnB1dE1hbmFnZXIuX2ludmFsaWRhdGVNZXNoKHQpLHRoaXMub25NZXNoUmVtb3ZlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHQpLHImJnQuZ2V0Q2hpbGRNZXNoZXMoKS5mb3JFYWNoKGZ1bmN0aW9uKHMpe24ucmVtb3ZlTWVzaChzKX0pLGF9LGUucHJvdG90eXBlLmFkZFRyYW5zZm9ybU5vZGU9ZnVuY3Rpb24odCl7dGhpcy5fYmxvY2tFbnRpdHlDb2xsZWN0aW9ufHx0LmdldFNjZW5lKCk9PT10aGlzJiZ0Ll9pbmRleEluU2NlbmVUcmFuc2Zvcm1Ob2Rlc0FycmF5IT09LTF8fCh0Ll9pbmRleEluU2NlbmVUcmFuc2Zvcm1Ob2Rlc0FycmF5PXRoaXMudHJhbnNmb3JtTm9kZXMubGVuZ3RoLHRoaXMudHJhbnNmb3JtTm9kZXMucHVzaCh0KSx0LnBhcmVudHx8dC5fYWRkVG9TY2VuZVJvb3ROb2RlcygpLHRoaXMub25OZXdUcmFuc2Zvcm1Ob2RlQWRkZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0KSl9LGUucHJvdG90eXBlLnJlbW92ZVRyYW5zZm9ybU5vZGU9ZnVuY3Rpb24odCl7dmFyIHI9dC5faW5kZXhJblNjZW5lVHJhbnNmb3JtTm9kZXNBcnJheTtpZihyIT09LTEpe2lmKHIhPT10aGlzLnRyYW5zZm9ybU5vZGVzLmxlbmd0aC0xKXt2YXIgbj10aGlzLnRyYW5zZm9ybU5vZGVzW3RoaXMudHJhbnNmb3JtTm9kZXMubGVuZ3RoLTFdO3RoaXMudHJhbnNmb3JtTm9kZXNbcl09bixuLl9pbmRleEluU2NlbmVUcmFuc2Zvcm1Ob2Rlc0FycmF5PXJ9dC5faW5kZXhJblNjZW5lVHJhbnNmb3JtTm9kZXNBcnJheT0tMSx0aGlzLnRyYW5zZm9ybU5vZGVzLnBvcCgpLHQucGFyZW50fHx0Ll9yZW1vdmVGcm9tU2NlbmVSb290Tm9kZXMoKX1yZXR1cm4gdGhpcy5vblRyYW5zZm9ybU5vZGVSZW1vdmVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModCkscn0sZS5wcm90b3R5cGUucmVtb3ZlU2tlbGV0b249ZnVuY3Rpb24odCl7dmFyIHI9dGhpcy5za2VsZXRvbnMuaW5kZXhPZih0KTtyZXR1cm4gciE9PS0xJiYodGhpcy5za2VsZXRvbnMuc3BsaWNlKHIsMSksdGhpcy5vblNrZWxldG9uUmVtb3ZlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHQpLHRoaXMuX2V4ZWN1dGVBY3RpdmVDb250YWluZXJDbGVhbnVwKHRoaXMuX2FjdGl2ZVNrZWxldG9ucykpLHJ9LGUucHJvdG90eXBlLnJlbW92ZU1vcnBoVGFyZ2V0TWFuYWdlcj1mdW5jdGlvbih0KXt2YXIgcj10aGlzLm1vcnBoVGFyZ2V0TWFuYWdlcnMuaW5kZXhPZih0KTtyZXR1cm4gciE9PS0xJiZ0aGlzLm1vcnBoVGFyZ2V0TWFuYWdlcnMuc3BsaWNlKHIsMSkscn0sZS5wcm90b3R5cGUucmVtb3ZlTGlnaHQ9ZnVuY3Rpb24odCl7dmFyIHI9dGhpcy5saWdodHMuaW5kZXhPZih0KTtpZihyIT09LTEpe2Zvcih2YXIgbj0wLGE9dGhpcy5tZXNoZXM7bjxhLmxlbmd0aDtuKyspe3ZhciBzPWFbbl07cy5fcmVtb3ZlTGlnaHRTb3VyY2UodCwhMSl9dGhpcy5saWdodHMuc3BsaWNlKHIsMSksdGhpcy5zb3J0TGlnaHRzQnlQcmlvcml0eSgpLHQucGFyZW50fHx0Ll9yZW1vdmVGcm9tU2NlbmVSb290Tm9kZXMoKX1yZXR1cm4gdGhpcy5vbkxpZ2h0UmVtb3ZlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHQpLHJ9LGUucHJvdG90eXBlLnJlbW92ZUNhbWVyYT1mdW5jdGlvbih0KXt2YXIgcj10aGlzLmNhbWVyYXMuaW5kZXhPZih0KTtpZihyIT09LTEmJih0aGlzLmNhbWVyYXMuc3BsaWNlKHIsMSksdC5wYXJlbnR8fHQuX3JlbW92ZUZyb21TY2VuZVJvb3ROb2RlcygpKSx0aGlzLmFjdGl2ZUNhbWVyYXMpe3ZhciBuPXRoaXMuYWN0aXZlQ2FtZXJhcy5pbmRleE9mKHQpO24hPT0tMSYmdGhpcy5hY3RpdmVDYW1lcmFzLnNwbGljZShuLDEpfXJldHVybiB0aGlzLmFjdGl2ZUNhbWVyYT09PXQmJih0aGlzLmNhbWVyYXMubGVuZ3RoPjA/dGhpcy5hY3RpdmVDYW1lcmE9dGhpcy5jYW1lcmFzWzBdOnRoaXMuYWN0aXZlQ2FtZXJhPW51bGwpLHRoaXMub25DYW1lcmFSZW1vdmVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModCkscn0sZS5wcm90b3R5cGUucmVtb3ZlUGFydGljbGVTeXN0ZW09ZnVuY3Rpb24odCl7dmFyIHI9dGhpcy5wYXJ0aWNsZVN5c3RlbXMuaW5kZXhPZih0KTtyZXR1cm4gciE9PS0xJiYodGhpcy5wYXJ0aWNsZVN5c3RlbXMuc3BsaWNlKHIsMSksdGhpcy5fZXhlY3V0ZUFjdGl2ZUNvbnRhaW5lckNsZWFudXAodGhpcy5fYWN0aXZlUGFydGljbGVTeXN0ZW1zKSkscn0sZS5wcm90b3R5cGUucmVtb3ZlQW5pbWF0aW9uPWZ1bmN0aW9uKHQpe3ZhciByPXRoaXMuYW5pbWF0aW9ucy5pbmRleE9mKHQpO3JldHVybiByIT09LTEmJnRoaXMuYW5pbWF0aW9ucy5zcGxpY2UociwxKSxyfSxlLnByb3RvdHlwZS5zdG9wQW5pbWF0aW9uPWZ1bmN0aW9uKHQscixuKXt9LGUucHJvdG90eXBlLnJlbW92ZUFuaW1hdGlvbkdyb3VwPWZ1bmN0aW9uKHQpe3ZhciByPXRoaXMuYW5pbWF0aW9uR3JvdXBzLmluZGV4T2YodCk7cmV0dXJuIHIhPT0tMSYmdGhpcy5hbmltYXRpb25Hcm91cHMuc3BsaWNlKHIsMSkscn0sZS5wcm90b3R5cGUucmVtb3ZlTXVsdGlNYXRlcmlhbD1mdW5jdGlvbih0KXt2YXIgcj10aGlzLm11bHRpTWF0ZXJpYWxzLmluZGV4T2YodCk7cmV0dXJuIHIhPT0tMSYmdGhpcy5tdWx0aU1hdGVyaWFscy5zcGxpY2UociwxKSx0aGlzLm9uTXVsdGlNYXRlcmlhbFJlbW92ZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0KSxyfSxlLnByb3RvdHlwZS5yZW1vdmVNYXRlcmlhbD1mdW5jdGlvbih0KXt2YXIgcj10Ll9pbmRleEluU2NlbmVNYXRlcmlhbEFycmF5O2lmKHIhPT0tMSYmcjx0aGlzLm1hdGVyaWFscy5sZW5ndGgpe2lmKHIhPT10aGlzLm1hdGVyaWFscy5sZW5ndGgtMSl7dmFyIG49dGhpcy5tYXRlcmlhbHNbdGhpcy5tYXRlcmlhbHMubGVuZ3RoLTFdO3RoaXMubWF0ZXJpYWxzW3JdPW4sbi5faW5kZXhJblNjZW5lTWF0ZXJpYWxBcnJheT1yfXQuX2luZGV4SW5TY2VuZU1hdGVyaWFsQXJyYXk9LTEsdGhpcy5tYXRlcmlhbHMucG9wKCl9cmV0dXJuIHRoaXMub25NYXRlcmlhbFJlbW92ZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0KSxyfSxlLnByb3RvdHlwZS5yZW1vdmVBY3Rpb25NYW5hZ2VyPWZ1bmN0aW9uKHQpe3ZhciByPXRoaXMuYWN0aW9uTWFuYWdlcnMuaW5kZXhPZih0KTtyZXR1cm4gciE9PS0xJiZ0aGlzLmFjdGlvbk1hbmFnZXJzLnNwbGljZShyLDEpLHJ9LGUucHJvdG90eXBlLnJlbW92ZVRleHR1cmU9ZnVuY3Rpb24odCl7dmFyIHI9dGhpcy50ZXh0dXJlcy5pbmRleE9mKHQpO3JldHVybiByIT09LTEmJnRoaXMudGV4dHVyZXMuc3BsaWNlKHIsMSksdGhpcy5vblRleHR1cmVSZW1vdmVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModCkscn0sZS5wcm90b3R5cGUuYWRkTGlnaHQ9ZnVuY3Rpb24odCl7aWYoIXRoaXMuX2Jsb2NrRW50aXR5Q29sbGVjdGlvbil7dGhpcy5saWdodHMucHVzaCh0KSx0aGlzLnNvcnRMaWdodHNCeVByaW9yaXR5KCksdC5wYXJlbnR8fHQuX2FkZFRvU2NlbmVSb290Tm9kZXMoKTtmb3IodmFyIHI9MCxuPXRoaXMubWVzaGVzO3I8bi5sZW5ndGg7cisrKXt2YXIgYT1uW3JdO2EubGlnaHRTb3VyY2VzLmluZGV4T2YodCk9PT0tMSYmKGEubGlnaHRTb3VyY2VzLnB1c2godCksYS5fcmVzeW5jTGlnaHRTb3VyY2VzKCkpfXRoaXMub25OZXdMaWdodEFkZGVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModCl9fSxlLnByb3RvdHlwZS5zb3J0TGlnaHRzQnlQcmlvcml0eT1mdW5jdGlvbigpe3RoaXMucmVxdWlyZUxpZ2h0U29ydGluZyYmdGhpcy5saWdodHMuc29ydCh4ZS5Db21wYXJlTGlnaHRzUHJpb3JpdHkpfSxlLnByb3RvdHlwZS5hZGRDYW1lcmE9ZnVuY3Rpb24odCl7dGhpcy5fYmxvY2tFbnRpdHlDb2xsZWN0aW9ufHwodGhpcy5jYW1lcmFzLnB1c2godCksdGhpcy5vbk5ld0NhbWVyYUFkZGVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModCksdC5wYXJlbnR8fHQuX2FkZFRvU2NlbmVSb290Tm9kZXMoKSl9LGUucHJvdG90eXBlLmFkZFNrZWxldG9uPWZ1bmN0aW9uKHQpe3RoaXMuX2Jsb2NrRW50aXR5Q29sbGVjdGlvbnx8KHRoaXMuc2tlbGV0b25zLnB1c2godCksdGhpcy5vbk5ld1NrZWxldG9uQWRkZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0KSl9LGUucHJvdG90eXBlLmFkZFBhcnRpY2xlU3lzdGVtPWZ1bmN0aW9uKHQpe3RoaXMuX2Jsb2NrRW50aXR5Q29sbGVjdGlvbnx8dGhpcy5wYXJ0aWNsZVN5c3RlbXMucHVzaCh0KX0sZS5wcm90b3R5cGUuYWRkQW5pbWF0aW9uPWZ1bmN0aW9uKHQpe3RoaXMuX2Jsb2NrRW50aXR5Q29sbGVjdGlvbnx8dGhpcy5hbmltYXRpb25zLnB1c2godCl9LGUucHJvdG90eXBlLmFkZEFuaW1hdGlvbkdyb3VwPWZ1bmN0aW9uKHQpe3RoaXMuX2Jsb2NrRW50aXR5Q29sbGVjdGlvbnx8dGhpcy5hbmltYXRpb25Hcm91cHMucHVzaCh0KX0sZS5wcm90b3R5cGUuYWRkTXVsdGlNYXRlcmlhbD1mdW5jdGlvbih0KXt0aGlzLl9ibG9ja0VudGl0eUNvbGxlY3Rpb258fCh0aGlzLm11bHRpTWF0ZXJpYWxzLnB1c2godCksdGhpcy5vbk5ld011bHRpTWF0ZXJpYWxBZGRlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHQpKX0sZS5wcm90b3R5cGUuYWRkTWF0ZXJpYWw9ZnVuY3Rpb24odCl7dGhpcy5fYmxvY2tFbnRpdHlDb2xsZWN0aW9ufHx0LmdldFNjZW5lKCk9PT10aGlzJiZ0Ll9pbmRleEluU2NlbmVNYXRlcmlhbEFycmF5IT09LTF8fCh0Ll9pbmRleEluU2NlbmVNYXRlcmlhbEFycmF5PXRoaXMubWF0ZXJpYWxzLmxlbmd0aCx0aGlzLm1hdGVyaWFscy5wdXNoKHQpLHRoaXMub25OZXdNYXRlcmlhbEFkZGVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModCkpfSxlLnByb3RvdHlwZS5hZGRNb3JwaFRhcmdldE1hbmFnZXI9ZnVuY3Rpb24odCl7dGhpcy5fYmxvY2tFbnRpdHlDb2xsZWN0aW9ufHx0aGlzLm1vcnBoVGFyZ2V0TWFuYWdlcnMucHVzaCh0KX0sZS5wcm90b3R5cGUuYWRkR2VvbWV0cnk9ZnVuY3Rpb24odCl7dGhpcy5fYmxvY2tFbnRpdHlDb2xsZWN0aW9ufHwodGhpcy5fZ2VvbWV0cmllc0J5VW5pcXVlSWQmJih0aGlzLl9nZW9tZXRyaWVzQnlVbmlxdWVJZFt0LnVuaXF1ZUlkXT10aGlzLmdlb21ldHJpZXMubGVuZ3RoKSx0aGlzLmdlb21ldHJpZXMucHVzaCh0KSl9LGUucHJvdG90eXBlLmFkZEFjdGlvbk1hbmFnZXI9ZnVuY3Rpb24odCl7dGhpcy5hY3Rpb25NYW5hZ2Vycy5wdXNoKHQpfSxlLnByb3RvdHlwZS5hZGRUZXh0dXJlPWZ1bmN0aW9uKHQpe3RoaXMuX2Jsb2NrRW50aXR5Q29sbGVjdGlvbnx8KHRoaXMudGV4dHVyZXMucHVzaCh0KSx0aGlzLm9uTmV3VGV4dHVyZUFkZGVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModCkpfSxlLnByb3RvdHlwZS5zd2l0Y2hBY3RpdmVDYW1lcmE9ZnVuY3Rpb24odCxyKXtyPT09dm9pZCAwJiYocj0hMCk7dmFyIG49dGhpcy5fZW5naW5lLmdldElucHV0RWxlbWVudCgpOyFufHwodGhpcy5hY3RpdmVDYW1lcmEmJnRoaXMuYWN0aXZlQ2FtZXJhLmRldGFjaENvbnRyb2woKSx0aGlzLmFjdGl2ZUNhbWVyYT10LHImJnQuYXR0YWNoQ29udHJvbCgpKX0sZS5wcm90b3R5cGUuc2V0QWN0aXZlQ2FtZXJhQnlJZD1mdW5jdGlvbih0KXt2YXIgcj10aGlzLmdldENhbWVyYUJ5SWQodCk7cmV0dXJuIHI/KHRoaXMuYWN0aXZlQ2FtZXJhPXIscik6bnVsbH0sZS5wcm90b3R5cGUuc2V0QWN0aXZlQ2FtZXJhQnlOYW1lPWZ1bmN0aW9uKHQpe3ZhciByPXRoaXMuZ2V0Q2FtZXJhQnlOYW1lKHQpO3JldHVybiByPyh0aGlzLmFjdGl2ZUNhbWVyYT1yLHIpOm51bGx9LGUucHJvdG90eXBlLmdldEFuaW1hdGlvbkdyb3VwQnlOYW1lPWZ1bmN0aW9uKHQpe2Zvcih2YXIgcj0wO3I8dGhpcy5hbmltYXRpb25Hcm91cHMubGVuZ3RoO3IrKylpZih0aGlzLmFuaW1hdGlvbkdyb3Vwc1tyXS5uYW1lPT09dClyZXR1cm4gdGhpcy5hbmltYXRpb25Hcm91cHNbcl07cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLmdldE1hdGVyaWFsQnlVbmlxdWVJRD1mdW5jdGlvbih0KXtmb3IodmFyIHI9MDtyPHRoaXMubWF0ZXJpYWxzLmxlbmd0aDtyKyspaWYodGhpcy5tYXRlcmlhbHNbcl0udW5pcXVlSWQ9PT10KXJldHVybiB0aGlzLm1hdGVyaWFsc1tyXTtyZXR1cm4gbnVsbH0sZS5wcm90b3R5cGUuZ2V0TWF0ZXJpYWxCeUlkPWZ1bmN0aW9uKHQpe2Zvcih2YXIgcj0wO3I8dGhpcy5tYXRlcmlhbHMubGVuZ3RoO3IrKylpZih0aGlzLm1hdGVyaWFsc1tyXS5pZD09PXQpcmV0dXJuIHRoaXMubWF0ZXJpYWxzW3JdO3JldHVybiBudWxsfSxlLnByb3RvdHlwZS5nZXRMYXN0TWF0ZXJpYWxCeUlkPWZ1bmN0aW9uKHQscil7cj09PXZvaWQgMCYmKHI9ITEpO2Zvcih2YXIgbj10aGlzLm1hdGVyaWFscy5sZW5ndGgtMTtuPj0wO24tLSlpZih0aGlzLm1hdGVyaWFsc1tuXS5pZD09PXQpcmV0dXJuIHRoaXMubWF0ZXJpYWxzW25dO2lmKHIpe2Zvcih2YXIgbj10aGlzLm11bHRpTWF0ZXJpYWxzLmxlbmd0aC0xO24+PTA7bi0tKWlmKHRoaXMubXVsdGlNYXRlcmlhbHNbbl0uaWQ9PT10KXJldHVybiB0aGlzLm11bHRpTWF0ZXJpYWxzW25dfXJldHVybiBudWxsfSxlLnByb3RvdHlwZS5nZXRNYXRlcmlhbEJ5TmFtZT1mdW5jdGlvbih0KXtmb3IodmFyIHI9MDtyPHRoaXMubWF0ZXJpYWxzLmxlbmd0aDtyKyspaWYodGhpcy5tYXRlcmlhbHNbcl0ubmFtZT09PXQpcmV0dXJuIHRoaXMubWF0ZXJpYWxzW3JdO3JldHVybiBudWxsfSxlLnByb3RvdHlwZS5nZXRUZXh0dXJlQnlVbmlxdWVJZD1mdW5jdGlvbih0KXtmb3IodmFyIHI9MDtyPHRoaXMudGV4dHVyZXMubGVuZ3RoO3IrKylpZih0aGlzLnRleHR1cmVzW3JdLnVuaXF1ZUlkPT09dClyZXR1cm4gdGhpcy50ZXh0dXJlc1tyXTtyZXR1cm4gbnVsbH0sZS5wcm90b3R5cGUuZ2V0VGV4dHVyZUJ5TmFtZT1mdW5jdGlvbih0KXtmb3IodmFyIHI9MDtyPHRoaXMudGV4dHVyZXMubGVuZ3RoO3IrKylpZih0aGlzLnRleHR1cmVzW3JdLm5hbWU9PT10KXJldHVybiB0aGlzLnRleHR1cmVzW3JdO3JldHVybiBudWxsfSxlLnByb3RvdHlwZS5nZXRDYW1lcmFCeUlkPWZ1bmN0aW9uKHQpe2Zvcih2YXIgcj0wO3I8dGhpcy5jYW1lcmFzLmxlbmd0aDtyKyspaWYodGhpcy5jYW1lcmFzW3JdLmlkPT09dClyZXR1cm4gdGhpcy5jYW1lcmFzW3JdO3JldHVybiBudWxsfSxlLnByb3RvdHlwZS5nZXRDYW1lcmFCeVVuaXF1ZUlkPWZ1bmN0aW9uKHQpe2Zvcih2YXIgcj0wO3I8dGhpcy5jYW1lcmFzLmxlbmd0aDtyKyspaWYodGhpcy5jYW1lcmFzW3JdLnVuaXF1ZUlkPT09dClyZXR1cm4gdGhpcy5jYW1lcmFzW3JdO3JldHVybiBudWxsfSxlLnByb3RvdHlwZS5nZXRDYW1lcmFCeU5hbWU9ZnVuY3Rpb24odCl7Zm9yKHZhciByPTA7cjx0aGlzLmNhbWVyYXMubGVuZ3RoO3IrKylpZih0aGlzLmNhbWVyYXNbcl0ubmFtZT09PXQpcmV0dXJuIHRoaXMuY2FtZXJhc1tyXTtyZXR1cm4gbnVsbH0sZS5wcm90b3R5cGUuZ2V0Qm9uZUJ5SWQ9ZnVuY3Rpb24odCl7Zm9yKHZhciByPTA7cjx0aGlzLnNrZWxldG9ucy5sZW5ndGg7cisrKWZvcih2YXIgbj10aGlzLnNrZWxldG9uc1tyXSxhPTA7YTxuLmJvbmVzLmxlbmd0aDthKyspaWYobi5ib25lc1thXS5pZD09PXQpcmV0dXJuIG4uYm9uZXNbYV07cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLmdldEJvbmVCeU5hbWU9ZnVuY3Rpb24odCl7Zm9yKHZhciByPTA7cjx0aGlzLnNrZWxldG9ucy5sZW5ndGg7cisrKWZvcih2YXIgbj10aGlzLnNrZWxldG9uc1tyXSxhPTA7YTxuLmJvbmVzLmxlbmd0aDthKyspaWYobi5ib25lc1thXS5uYW1lPT09dClyZXR1cm4gbi5ib25lc1thXTtyZXR1cm4gbnVsbH0sZS5wcm90b3R5cGUuZ2V0TGlnaHRCeU5hbWU9ZnVuY3Rpb24odCl7Zm9yKHZhciByPTA7cjx0aGlzLmxpZ2h0cy5sZW5ndGg7cisrKWlmKHRoaXMubGlnaHRzW3JdLm5hbWU9PT10KXJldHVybiB0aGlzLmxpZ2h0c1tyXTtyZXR1cm4gbnVsbH0sZS5wcm90b3R5cGUuZ2V0TGlnaHRCeUlkPWZ1bmN0aW9uKHQpe2Zvcih2YXIgcj0wO3I8dGhpcy5saWdodHMubGVuZ3RoO3IrKylpZih0aGlzLmxpZ2h0c1tyXS5pZD09PXQpcmV0dXJuIHRoaXMubGlnaHRzW3JdO3JldHVybiBudWxsfSxlLnByb3RvdHlwZS5nZXRMaWdodEJ5VW5pcXVlSWQ9ZnVuY3Rpb24odCl7Zm9yKHZhciByPTA7cjx0aGlzLmxpZ2h0cy5sZW5ndGg7cisrKWlmKHRoaXMubGlnaHRzW3JdLnVuaXF1ZUlkPT09dClyZXR1cm4gdGhpcy5saWdodHNbcl07cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLmdldFBhcnRpY2xlU3lzdGVtQnlJZD1mdW5jdGlvbih0KXtmb3IodmFyIHI9MDtyPHRoaXMucGFydGljbGVTeXN0ZW1zLmxlbmd0aDtyKyspaWYodGhpcy5wYXJ0aWNsZVN5c3RlbXNbcl0uaWQ9PT10KXJldHVybiB0aGlzLnBhcnRpY2xlU3lzdGVtc1tyXTtyZXR1cm4gbnVsbH0sZS5wcm90b3R5cGUuZ2V0R2VvbWV0cnlCeUlkPWZ1bmN0aW9uKHQpe2Zvcih2YXIgcj0wO3I8dGhpcy5nZW9tZXRyaWVzLmxlbmd0aDtyKyspaWYodGhpcy5nZW9tZXRyaWVzW3JdLmlkPT09dClyZXR1cm4gdGhpcy5nZW9tZXRyaWVzW3JdO3JldHVybiBudWxsfSxlLnByb3RvdHlwZS5fZ2V0R2VvbWV0cnlCeVVuaXF1ZUlkPWZ1bmN0aW9uKHQpe2lmKHRoaXMuX2dlb21ldHJpZXNCeVVuaXF1ZUlkKXt2YXIgcj10aGlzLl9nZW9tZXRyaWVzQnlVbmlxdWVJZFt0XTtpZihyIT09dm9pZCAwKXJldHVybiB0aGlzLmdlb21ldHJpZXNbcl19ZWxzZSBmb3IodmFyIHI9MDtyPHRoaXMuZ2VvbWV0cmllcy5sZW5ndGg7cisrKWlmKHRoaXMuZ2VvbWV0cmllc1tyXS51bmlxdWVJZD09PXQpcmV0dXJuIHRoaXMuZ2VvbWV0cmllc1tyXTtyZXR1cm4gbnVsbH0sZS5wcm90b3R5cGUucHVzaEdlb21ldHJ5PWZ1bmN0aW9uKHQscil7cmV0dXJuIXImJnRoaXMuX2dldEdlb21ldHJ5QnlVbmlxdWVJZCh0LnVuaXF1ZUlkKT8hMToodGhpcy5hZGRHZW9tZXRyeSh0KSx0aGlzLm9uTmV3R2VvbWV0cnlBZGRlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHQpLCEwKX0sZS5wcm90b3R5cGUucmVtb3ZlR2VvbWV0cnk9ZnVuY3Rpb24odCl7dmFyIHI7aWYodGhpcy5fZ2VvbWV0cmllc0J5VW5pcXVlSWQpe2lmKHI9dGhpcy5fZ2VvbWV0cmllc0J5VW5pcXVlSWRbdC51bmlxdWVJZF0scj09PXZvaWQgMClyZXR1cm4hMX1lbHNlIGlmKHI9dGhpcy5nZW9tZXRyaWVzLmluZGV4T2YodCkscjwwKXJldHVybiExO2lmKHIhPT10aGlzLmdlb21ldHJpZXMubGVuZ3RoLTEpe3ZhciBuPXRoaXMuZ2VvbWV0cmllc1t0aGlzLmdlb21ldHJpZXMubGVuZ3RoLTFdO24mJih0aGlzLmdlb21ldHJpZXNbcl09bix0aGlzLl9nZW9tZXRyaWVzQnlVbmlxdWVJZCYmKHRoaXMuX2dlb21ldHJpZXNCeVVuaXF1ZUlkW24udW5pcXVlSWRdPXIsdGhpcy5fZ2VvbWV0cmllc0J5VW5pcXVlSWRbdC51bmlxdWVJZF09dm9pZCAwKSl9cmV0dXJuIHRoaXMuZ2VvbWV0cmllcy5wb3AoKSx0aGlzLm9uR2VvbWV0cnlSZW1vdmVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModCksITB9LGUucHJvdG90eXBlLmdldEdlb21ldHJpZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZW9tZXRyaWVzfSxlLnByb3RvdHlwZS5nZXRNZXNoQnlJZD1mdW5jdGlvbih0KXtmb3IodmFyIHI9MDtyPHRoaXMubWVzaGVzLmxlbmd0aDtyKyspaWYodGhpcy5tZXNoZXNbcl0uaWQ9PT10KXJldHVybiB0aGlzLm1lc2hlc1tyXTtyZXR1cm4gbnVsbH0sZS5wcm90b3R5cGUuZ2V0TWVzaGVzQnlJZD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5tZXNoZXMuZmlsdGVyKGZ1bmN0aW9uKHIpe3JldHVybiByLmlkPT09dH0pfSxlLnByb3RvdHlwZS5nZXRUcmFuc2Zvcm1Ob2RlQnlJZD1mdW5jdGlvbih0KXtmb3IodmFyIHI9MDtyPHRoaXMudHJhbnNmb3JtTm9kZXMubGVuZ3RoO3IrKylpZih0aGlzLnRyYW5zZm9ybU5vZGVzW3JdLmlkPT09dClyZXR1cm4gdGhpcy50cmFuc2Zvcm1Ob2Rlc1tyXTtyZXR1cm4gbnVsbH0sZS5wcm90b3R5cGUuZ2V0VHJhbnNmb3JtTm9kZUJ5VW5pcXVlSWQ9ZnVuY3Rpb24odCl7Zm9yKHZhciByPTA7cjx0aGlzLnRyYW5zZm9ybU5vZGVzLmxlbmd0aDtyKyspaWYodGhpcy50cmFuc2Zvcm1Ob2Rlc1tyXS51bmlxdWVJZD09PXQpcmV0dXJuIHRoaXMudHJhbnNmb3JtTm9kZXNbcl07cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLmdldFRyYW5zZm9ybU5vZGVzQnlJZD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy50cmFuc2Zvcm1Ob2Rlcy5maWx0ZXIoZnVuY3Rpb24ocil7cmV0dXJuIHIuaWQ9PT10fSl9LGUucHJvdG90eXBlLmdldE1lc2hCeVVuaXF1ZUlkPWZ1bmN0aW9uKHQpe2Zvcih2YXIgcj0wO3I8dGhpcy5tZXNoZXMubGVuZ3RoO3IrKylpZih0aGlzLm1lc2hlc1tyXS51bmlxdWVJZD09PXQpcmV0dXJuIHRoaXMubWVzaGVzW3JdO3JldHVybiBudWxsfSxlLnByb3RvdHlwZS5nZXRMYXN0TWVzaEJ5SWQ9ZnVuY3Rpb24odCl7Zm9yKHZhciByPXRoaXMubWVzaGVzLmxlbmd0aC0xO3I+PTA7ci0tKWlmKHRoaXMubWVzaGVzW3JdLmlkPT09dClyZXR1cm4gdGhpcy5tZXNoZXNbcl07cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLmdldExhc3RFbnRyeUJ5SWQ9ZnVuY3Rpb24odCl7dmFyIHI7Zm9yKHI9dGhpcy5tZXNoZXMubGVuZ3RoLTE7cj49MDtyLS0paWYodGhpcy5tZXNoZXNbcl0uaWQ9PT10KXJldHVybiB0aGlzLm1lc2hlc1tyXTtmb3Iocj10aGlzLnRyYW5zZm9ybU5vZGVzLmxlbmd0aC0xO3I+PTA7ci0tKWlmKHRoaXMudHJhbnNmb3JtTm9kZXNbcl0uaWQ9PT10KXJldHVybiB0aGlzLnRyYW5zZm9ybU5vZGVzW3JdO2ZvcihyPXRoaXMuY2FtZXJhcy5sZW5ndGgtMTtyPj0wO3ItLSlpZih0aGlzLmNhbWVyYXNbcl0uaWQ9PT10KXJldHVybiB0aGlzLmNhbWVyYXNbcl07Zm9yKHI9dGhpcy5saWdodHMubGVuZ3RoLTE7cj49MDtyLS0paWYodGhpcy5saWdodHNbcl0uaWQ9PT10KXJldHVybiB0aGlzLmxpZ2h0c1tyXTtyZXR1cm4gbnVsbH0sZS5wcm90b3R5cGUuZ2V0Tm9kZUJ5SWQ9ZnVuY3Rpb24odCl7dmFyIHI9dGhpcy5nZXRNZXNoQnlJZCh0KTtpZihyKXJldHVybiByO3ZhciBuPXRoaXMuZ2V0VHJhbnNmb3JtTm9kZUJ5SWQodCk7aWYobilyZXR1cm4gbjt2YXIgYT10aGlzLmdldExpZ2h0QnlJZCh0KTtpZihhKXJldHVybiBhO3ZhciBzPXRoaXMuZ2V0Q2FtZXJhQnlJZCh0KTtpZihzKXJldHVybiBzO3ZhciBvPXRoaXMuZ2V0Qm9uZUJ5SWQodCk7cmV0dXJuIG98fG51bGx9LGUucHJvdG90eXBlLmdldE5vZGVCeU5hbWU9ZnVuY3Rpb24odCl7dmFyIHI9dGhpcy5nZXRNZXNoQnlOYW1lKHQpO2lmKHIpcmV0dXJuIHI7dmFyIG49dGhpcy5nZXRUcmFuc2Zvcm1Ob2RlQnlOYW1lKHQpO2lmKG4pcmV0dXJuIG47dmFyIGE9dGhpcy5nZXRMaWdodEJ5TmFtZSh0KTtpZihhKXJldHVybiBhO3ZhciBzPXRoaXMuZ2V0Q2FtZXJhQnlOYW1lKHQpO2lmKHMpcmV0dXJuIHM7dmFyIG89dGhpcy5nZXRCb25lQnlOYW1lKHQpO3JldHVybiBvfHxudWxsfSxlLnByb3RvdHlwZS5nZXRNZXNoQnlOYW1lPWZ1bmN0aW9uKHQpe2Zvcih2YXIgcj0wO3I8dGhpcy5tZXNoZXMubGVuZ3RoO3IrKylpZih0aGlzLm1lc2hlc1tyXS5uYW1lPT09dClyZXR1cm4gdGhpcy5tZXNoZXNbcl07cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLmdldFRyYW5zZm9ybU5vZGVCeU5hbWU9ZnVuY3Rpb24odCl7Zm9yKHZhciByPTA7cjx0aGlzLnRyYW5zZm9ybU5vZGVzLmxlbmd0aDtyKyspaWYodGhpcy50cmFuc2Zvcm1Ob2Rlc1tyXS5uYW1lPT09dClyZXR1cm4gdGhpcy50cmFuc2Zvcm1Ob2Rlc1tyXTtyZXR1cm4gbnVsbH0sZS5wcm90b3R5cGUuZ2V0TGFzdFNrZWxldG9uQnlJZD1mdW5jdGlvbih0KXtmb3IodmFyIHI9dGhpcy5za2VsZXRvbnMubGVuZ3RoLTE7cj49MDtyLS0paWYodGhpcy5za2VsZXRvbnNbcl0uaWQ9PT10KXJldHVybiB0aGlzLnNrZWxldG9uc1tyXTtyZXR1cm4gbnVsbH0sZS5wcm90b3R5cGUuZ2V0U2tlbGV0b25CeVVuaXF1ZUlkPWZ1bmN0aW9uKHQpe2Zvcih2YXIgcj0wO3I8dGhpcy5za2VsZXRvbnMubGVuZ3RoO3IrKylpZih0aGlzLnNrZWxldG9uc1tyXS51bmlxdWVJZD09PXQpcmV0dXJuIHRoaXMuc2tlbGV0b25zW3JdO3JldHVybiBudWxsfSxlLnByb3RvdHlwZS5nZXRTa2VsZXRvbkJ5SWQ9ZnVuY3Rpb24odCl7Zm9yKHZhciByPTA7cjx0aGlzLnNrZWxldG9ucy5sZW5ndGg7cisrKWlmKHRoaXMuc2tlbGV0b25zW3JdLmlkPT09dClyZXR1cm4gdGhpcy5za2VsZXRvbnNbcl07cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLmdldFNrZWxldG9uQnlOYW1lPWZ1bmN0aW9uKHQpe2Zvcih2YXIgcj0wO3I8dGhpcy5za2VsZXRvbnMubGVuZ3RoO3IrKylpZih0aGlzLnNrZWxldG9uc1tyXS5uYW1lPT09dClyZXR1cm4gdGhpcy5za2VsZXRvbnNbcl07cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLmdldE1vcnBoVGFyZ2V0TWFuYWdlckJ5SWQ9ZnVuY3Rpb24odCl7Zm9yKHZhciByPTA7cjx0aGlzLm1vcnBoVGFyZ2V0TWFuYWdlcnMubGVuZ3RoO3IrKylpZih0aGlzLm1vcnBoVGFyZ2V0TWFuYWdlcnNbcl0udW5pcXVlSWQ9PT10KXJldHVybiB0aGlzLm1vcnBoVGFyZ2V0TWFuYWdlcnNbcl07cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLmdldE1vcnBoVGFyZ2V0QnlJZD1mdW5jdGlvbih0KXtmb3IodmFyIHI9MDtyPHRoaXMubW9ycGhUYXJnZXRNYW5hZ2Vycy5sZW5ndGg7KytyKWZvcih2YXIgbj10aGlzLm1vcnBoVGFyZ2V0TWFuYWdlcnNbcl0sYT0wO2E8bi5udW1UYXJnZXRzOysrYSl7dmFyIHM9bi5nZXRUYXJnZXQoYSk7aWYocy5pZD09PXQpcmV0dXJuIHN9cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLmdldE1vcnBoVGFyZ2V0QnlOYW1lPWZ1bmN0aW9uKHQpe2Zvcih2YXIgcj0wO3I8dGhpcy5tb3JwaFRhcmdldE1hbmFnZXJzLmxlbmd0aDsrK3IpZm9yKHZhciBuPXRoaXMubW9ycGhUYXJnZXRNYW5hZ2Vyc1tyXSxhPTA7YTxuLm51bVRhcmdldHM7KythKXt2YXIgcz1uLmdldFRhcmdldChhKTtpZihzLm5hbWU9PT10KXJldHVybiBzfXJldHVybiBudWxsfSxlLnByb3RvdHlwZS5nZXRQb3N0UHJvY2Vzc0J5TmFtZT1mdW5jdGlvbih0KXtmb3IodmFyIHI9MDtyPHRoaXMucG9zdFByb2Nlc3Nlcy5sZW5ndGg7KytyKXt2YXIgbj10aGlzLnBvc3RQcm9jZXNzZXNbcl07aWYobi5uYW1lPT09dClyZXR1cm4gbn1yZXR1cm4gbnVsbH0sZS5wcm90b3R5cGUuaXNBY3RpdmVNZXNoPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9hY3RpdmVNZXNoZXMuaW5kZXhPZih0KSE9PS0xfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInVpZCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl91aWR8fCh0aGlzLl91aWQ9X2UuUmFuZG9tSWQoKSksdGhpcy5fdWlkfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLmFkZEV4dGVybmFsRGF0YT1mdW5jdGlvbih0LHIpe3JldHVybiB0aGlzLl9leHRlcm5hbERhdGF8fCh0aGlzLl9leHRlcm5hbERhdGE9bmV3IFZpKSx0aGlzLl9leHRlcm5hbERhdGEuYWRkKHQscil9LGUucHJvdG90eXBlLmdldEV4dGVybmFsRGF0YT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fZXh0ZXJuYWxEYXRhP3RoaXMuX2V4dGVybmFsRGF0YS5nZXQodCk6bnVsbH0sZS5wcm90b3R5cGUuZ2V0T3JBZGRFeHRlcm5hbERhdGFXaXRoRmFjdG9yeT1mdW5jdGlvbih0LHIpe3JldHVybiB0aGlzLl9leHRlcm5hbERhdGF8fCh0aGlzLl9leHRlcm5hbERhdGE9bmV3IFZpKSx0aGlzLl9leHRlcm5hbERhdGEuZ2V0T3JBZGRXaXRoRmFjdG9yeSh0LHIpfSxlLnByb3RvdHlwZS5yZW1vdmVFeHRlcm5hbERhdGE9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2V4dGVybmFsRGF0YS5yZW1vdmUodCl9LGUucHJvdG90eXBlLl9ldmFsdWF0ZVN1Yk1lc2g9ZnVuY3Rpb24odCxyLG4pe2lmKG4uaGFzSW5zdGFuY2VzfHxuLmlzQW5JbnN0YW5jZXx8dGhpcy5kaXNwYXRjaEFsbFN1Yk1lc2hlc09mQWN0aXZlTWVzaGVzfHx0aGlzLl9za2lwRnJ1c3R1bUNsaXBwaW5nfHxyLmFsd2F5c1NlbGVjdEFzQWN0aXZlTWVzaHx8ci5zdWJNZXNoZXMubGVuZ3RoPT09MXx8dC5pc0luRnJ1c3R1bSh0aGlzLl9mcnVzdHVtUGxhbmVzKSl7Zm9yKHZhciBhPTAscz10aGlzLl9ldmFsdWF0ZVN1Yk1lc2hTdGFnZTthPHMubGVuZ3RoO2ErKyl7dmFyIG89c1thXTtvLmFjdGlvbihyLHQpfXZhciB1PXQuZ2V0TWF0ZXJpYWwoKTt1IT1udWxsJiYodS5oYXNSZW5kZXJUYXJnZXRUZXh0dXJlcyYmdS5nZXRSZW5kZXJUYXJnZXRUZXh0dXJlcyE9bnVsbCYmdGhpcy5fcHJvY2Vzc2VkTWF0ZXJpYWxzLmluZGV4T2YodSk9PT0tMSYmKHRoaXMuX3Byb2Nlc3NlZE1hdGVyaWFscy5wdXNoKHUpLHRoaXMuX21hdGVyaWFsc1JlbmRlclRhcmdldHMuY29uY2F0V2l0aE5vRHVwbGljYXRlKHUuZ2V0UmVuZGVyVGFyZ2V0VGV4dHVyZXMoKSkpLHRoaXMuX3JlbmRlcmluZ01hbmFnZXIuZGlzcGF0Y2godCxyLHUpKX19LGUucHJvdG90eXBlLmZyZWVQcm9jZXNzZWRNYXRlcmlhbHM9ZnVuY3Rpb24oKXt0aGlzLl9wcm9jZXNzZWRNYXRlcmlhbHMuZGlzcG9zZSgpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImJsb2NrZnJlZUFjdGl2ZU1lc2hlc0FuZFJlbmRlcmluZ0dyb3VwcyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9wcmV2ZW50RnJlZUFjdGl2ZU1lc2hlc0FuZFJlbmRlcmluZ0dyb3Vwc30sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3ByZXZlbnRGcmVlQWN0aXZlTWVzaGVzQW5kUmVuZGVyaW5nR3JvdXBzIT09dCYmKHQmJih0aGlzLmZyZWVBY3RpdmVNZXNoZXMoKSx0aGlzLmZyZWVSZW5kZXJpbmdHcm91cHMoKSksdGhpcy5fcHJldmVudEZyZWVBY3RpdmVNZXNoZXNBbmRSZW5kZXJpbmdHcm91cHM9dCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuZnJlZUFjdGl2ZU1lc2hlcz1mdW5jdGlvbigpe2lmKCF0aGlzLmJsb2NrZnJlZUFjdGl2ZU1lc2hlc0FuZFJlbmRlcmluZ0dyb3VwcyYmKHRoaXMuX2FjdGl2ZU1lc2hlcy5kaXNwb3NlKCksdGhpcy5hY3RpdmVDYW1lcmEmJnRoaXMuYWN0aXZlQ2FtZXJhLl9hY3RpdmVNZXNoZXMmJnRoaXMuYWN0aXZlQ2FtZXJhLl9hY3RpdmVNZXNoZXMuZGlzcG9zZSgpLHRoaXMuYWN0aXZlQ2FtZXJhcykpZm9yKHZhciB0PTA7dDx0aGlzLmFjdGl2ZUNhbWVyYXMubGVuZ3RoO3QrKyl7dmFyIHI9dGhpcy5hY3RpdmVDYW1lcmFzW3RdO3ImJnIuX2FjdGl2ZU1lc2hlcyYmci5fYWN0aXZlTWVzaGVzLmRpc3Bvc2UoKX19LGUucHJvdG90eXBlLmZyZWVSZW5kZXJpbmdHcm91cHM9ZnVuY3Rpb24oKXtpZighdGhpcy5ibG9ja2ZyZWVBY3RpdmVNZXNoZXNBbmRSZW5kZXJpbmdHcm91cHMmJih0aGlzLl9yZW5kZXJpbmdNYW5hZ2VyJiZ0aGlzLl9yZW5kZXJpbmdNYW5hZ2VyLmZyZWVSZW5kZXJpbmdHcm91cHMoKSx0aGlzLnRleHR1cmVzKSlmb3IodmFyIHQ9MDt0PHRoaXMudGV4dHVyZXMubGVuZ3RoO3QrKyl7dmFyIHI9dGhpcy50ZXh0dXJlc1t0XTtyJiZyLnJlbmRlckxpc3QmJnIuZnJlZVJlbmRlcmluZ0dyb3VwcygpfX0sZS5wcm90b3R5cGUuX2lzSW5JbnRlcm1lZGlhdGVSZW5kZXJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW50ZXJtZWRpYXRlUmVuZGVyaW5nfSxlLnByb3RvdHlwZS5mcmVlemVBY3RpdmVNZXNoZXM9ZnVuY3Rpb24odCxyLG4sYSxzKXt2YXIgbz10aGlzO3JldHVybiB0PT09dm9pZCAwJiYodD0hMSksYT09PXZvaWQgMCYmKGE9ITApLHM9PT12b2lkIDAmJihzPSExKSx0aGlzLmV4ZWN1dGVXaGVuUmVhZHkoZnVuY3Rpb24oKXtpZighby5hY3RpdmVDYW1lcmEpe24mJm4oIk5vIGFjdGl2ZSBjYW1lcmEgZm91bmQiKTtyZXR1cm59aWYoby5fZnJ1c3R1bVBsYW5lc3x8by51cGRhdGVUcmFuc2Zvcm1NYXRyaXgoKSxvLl9ldmFsdWF0ZUFjdGl2ZU1lc2hlcygpLG8uX2FjdGl2ZU1lc2hlc0Zyb3plbj0hMCxvLl9hY3RpdmVNZXNoZXNGcm96ZW5CdXRLZWVwQ2xpcHBpbmc9cyxvLl9za2lwRXZhbHVhdGVBY3RpdmVNZXNoZXNDb21wbGV0ZWx5PXQsYSlmb3IodmFyIHU9MDt1PG8uX2FjdGl2ZU1lc2hlcy5sZW5ndGg7dSsrKW8uX2FjdGl2ZU1lc2hlcy5kYXRhW3VdLl9mcmVlemUoKTtyJiZyKCl9KSx0aGlzfSxlLnByb3RvdHlwZS51bmZyZWV6ZUFjdGl2ZU1lc2hlcz1mdW5jdGlvbigpe2Zvcih2YXIgdD0wO3Q8dGhpcy5tZXNoZXMubGVuZ3RoO3QrKyl7dmFyIHI9dGhpcy5tZXNoZXNbdF07ci5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mbyYmKHIuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2lzQWN0aXZlPSExKX1mb3IodmFyIHQ9MDt0PHRoaXMuX2FjdGl2ZU1lc2hlcy5sZW5ndGg7dCsrKXRoaXMuX2FjdGl2ZU1lc2hlcy5kYXRhW3RdLl91bkZyZWV6ZSgpO3JldHVybiB0aGlzLl9hY3RpdmVNZXNoZXNGcm96ZW49ITEsdGhpc30sZS5wcm90b3R5cGUuX2V4ZWN1dGVBY3RpdmVDb250YWluZXJDbGVhbnVwPWZ1bmN0aW9uKHQpe3ZhciByPXRoaXMuX2VuZ2luZS5zbmFwc2hvdFJlbmRlcmluZyYmdGhpcy5fZW5naW5lLnNuYXBzaG90UmVuZGVyaW5nTW9kZT09PTE7IXImJnRoaXMuX2FjdGl2ZU1lc2hlc0Zyb3plbiYmdGhpcy5fYWN0aXZlTWVzaGVzLmxlbmd0aHx8dGhpcy5vbkJlZm9yZVJlbmRlck9ic2VydmFibGUuYWRkT25jZShmdW5jdGlvbigpe3JldHVybiB0LmRpc3Bvc2UoKX0pfSxlLnByb3RvdHlwZS5fZXZhbHVhdGVBY3RpdmVNZXNoZXM9ZnVuY3Rpb24oKXt2YXIgdDtpZih0aGlzLl9lbmdpbmUuc25hcHNob3RSZW5kZXJpbmcmJnRoaXMuX2VuZ2luZS5zbmFwc2hvdFJlbmRlcmluZ01vZGU9PT0xKXt0aGlzLl9hY3RpdmVNZXNoZXMubGVuZ3RoPjAmJigodD10aGlzLmFjdGl2ZUNhbWVyYSk9PT1udWxsfHx0PT09dm9pZCAwfHx0Ll9hY3RpdmVNZXNoZXMucmVzZXQoKSx0aGlzLl9hY3RpdmVNZXNoZXMucmVzZXQoKSx0aGlzLl9yZW5kZXJpbmdNYW5hZ2VyLnJlc2V0KCksdGhpcy5fcHJvY2Vzc2VkTWF0ZXJpYWxzLnJlc2V0KCksdGhpcy5fYWN0aXZlUGFydGljbGVTeXN0ZW1zLnJlc2V0KCksdGhpcy5fYWN0aXZlU2tlbGV0b25zLnJlc2V0KCksdGhpcy5fc29mdHdhcmVTa2lubmVkTWVzaGVzLnJlc2V0KCkpO3JldHVybn1pZih0aGlzLl9hY3RpdmVNZXNoZXNGcm96ZW4mJnRoaXMuX2FjdGl2ZU1lc2hlcy5sZW5ndGgpe2lmKCF0aGlzLl9za2lwRXZhbHVhdGVBY3RpdmVNZXNoZXNDb21wbGV0ZWx5KWZvcih2YXIgcj10aGlzLl9hY3RpdmVNZXNoZXMubGVuZ3RoLG49MDtuPHI7bisrKXt2YXIgYT10aGlzLl9hY3RpdmVNZXNoZXMuZGF0YVtuXTthLmNvbXB1dGVXb3JsZE1hdHJpeCgpfWlmKHRoaXMuX2FjdGl2ZVBhcnRpY2xlU3lzdGVtcylmb3IodmFyIHM9dGhpcy5fYWN0aXZlUGFydGljbGVTeXN0ZW1zLmxlbmd0aCxuPTA7bjxzO24rKyl0aGlzLl9hY3RpdmVQYXJ0aWNsZVN5c3RlbXMuZGF0YVtuXS5hbmltYXRlKCk7cmV0dXJufWlmKCEhdGhpcy5hY3RpdmVDYW1lcmEpe3RoaXMub25CZWZvcmVBY3RpdmVNZXNoZXNFdmFsdWF0aW9uT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyksdGhpcy5hY3RpdmVDYW1lcmEuX2FjdGl2ZU1lc2hlcy5yZXNldCgpLHRoaXMuX2FjdGl2ZU1lc2hlcy5yZXNldCgpLHRoaXMuX3JlbmRlcmluZ01hbmFnZXIucmVzZXQoKSx0aGlzLl9wcm9jZXNzZWRNYXRlcmlhbHMucmVzZXQoKSx0aGlzLl9hY3RpdmVQYXJ0aWNsZVN5c3RlbXMucmVzZXQoKSx0aGlzLl9hY3RpdmVTa2VsZXRvbnMucmVzZXQoKSx0aGlzLl9zb2Z0d2FyZVNraW5uZWRNZXNoZXMucmVzZXQoKSx0aGlzLl9tYXRlcmlhbHNSZW5kZXJUYXJnZXRzLnJlc2V0KCk7Zm9yKHZhciBvPTAsdT10aGlzLl9iZWZvcmVFdmFsdWF0ZUFjdGl2ZU1lc2hTdGFnZTtvPHUubGVuZ3RoO28rKyl7dmFyIGY9dVtvXTtmLmFjdGlvbigpfWZvcih2YXIgbD10aGlzLmdldEFjdGl2ZU1lc2hDYW5kaWRhdGVzKCksaD1sLmxlbmd0aCxuPTA7bjxoO24rKyl7dmFyIGE9bC5kYXRhW25dO2lmKGEuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2N1cnJlbnRMT0RJc1VwVG9EYXRlPSExLCFhLmlzQmxvY2tlZCYmKHRoaXMuX3RvdGFsVmVydGljZXMuYWRkQ291bnQoYS5nZXRUb3RhbFZlcnRpY2VzKCksITEpLCEoIWEuaXNSZWFkeSgpfHwhYS5pc0VuYWJsZWQoKXx8YS5zY2FsaW5nLmhhc0FaZXJvQ29tcG9uZW50KSkpe2EuY29tcHV0ZVdvcmxkTWF0cml4KCksYS5hY3Rpb25NYW5hZ2VyJiZhLmFjdGlvbk1hbmFnZXIuaGFzU3BlY2lmaWNUcmlnZ2VyczIoMTIsMTMpJiZ0aGlzLl9tZXNoZXNGb3JJbnRlcnNlY3Rpb25zLnB1c2hOb0R1cGxpY2F0ZShhKTt2YXIgYz10aGlzLmN1c3RvbUxPRFNlbGVjdG9yP3RoaXMuY3VzdG9tTE9EU2VsZWN0b3IoYSx0aGlzLmFjdGl2ZUNhbWVyYSk6YS5nZXRMT0QodGhpcy5hY3RpdmVDYW1lcmEpO2lmKGEuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2N1cnJlbnRMT0Q9YyxhLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9jdXJyZW50TE9ESXNVcFRvRGF0ZT0hMCxjIT1udWxsJiYoYyE9PWEmJmMuYmlsbGJvYXJkTW9kZSE9PTAmJmMuY29tcHV0ZVdvcmxkTWF0cml4KCksYS5fcHJlQWN0aXZhdGUoKSxhLmlzVmlzaWJsZSYmYS52aXNpYmlsaXR5PjAmJihhLmxheWVyTWFzayZ0aGlzLmFjdGl2ZUNhbWVyYS5sYXllck1hc2spIT09MCYmKHRoaXMuX3NraXBGcnVzdHVtQ2xpcHBpbmd8fGEuYWx3YXlzU2VsZWN0QXNBY3RpdmVNZXNofHxhLmlzSW5GcnVzdHVtKHRoaXMuX2ZydXN0dW1QbGFuZXMpKSkpe3RoaXMuX2FjdGl2ZU1lc2hlcy5wdXNoKGEpLHRoaXMuYWN0aXZlQ2FtZXJhLl9hY3RpdmVNZXNoZXMucHVzaChhKSxjIT09YSYmYy5fYWN0aXZhdGUodGhpcy5fcmVuZGVySWQsITEpO2Zvcih2YXIgZD0wLHA9dGhpcy5fcHJlQWN0aXZlTWVzaFN0YWdlO2Q8cC5sZW5ndGg7ZCsrKXt2YXIgZj1wW2RdO2YuYWN0aW9uKGEpfWEuX2FjdGl2YXRlKHRoaXMuX3JlbmRlcklkLCExKSYmKGEuaXNBbkluc3RhbmNlP2EuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2FjdEFzUmVndWxhck1lc2gmJihjPWEpOmMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX29ubHlGb3JJbnN0YW5jZXM9ITEsYy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5faXNBY3RpdmU9ITAsdGhpcy5fYWN0aXZlTWVzaChhLGMpKSxhLl9wb3N0QWN0aXZhdGUoKX19fWlmKHRoaXMub25BZnRlckFjdGl2ZU1lc2hlc0V2YWx1YXRpb25PYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKSx0aGlzLnBhcnRpY2xlc0VuYWJsZWQpe3RoaXMub25CZWZvcmVQYXJ0aWNsZXNSZW5kZXJpbmdPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKTtmb3IodmFyIGc9MDtnPHRoaXMucGFydGljbGVTeXN0ZW1zLmxlbmd0aDtnKyspe3ZhciBfPXRoaXMucGFydGljbGVTeXN0ZW1zW2ddO2lmKCEoIV8uaXNTdGFydGVkKCl8fCFfLmVtaXR0ZXIpKXt2YXIgdj1fLmVtaXR0ZXI7KCF2LnBvc2l0aW9ufHx2LmlzRW5hYmxlZCgpKSYmKHRoaXMuX2FjdGl2ZVBhcnRpY2xlU3lzdGVtcy5wdXNoKF8pLF8uYW5pbWF0ZSgpLHRoaXMuX3JlbmRlcmluZ01hbmFnZXIuZGlzcGF0Y2hQYXJ0aWNsZXMoXykpfX10aGlzLm9uQWZ0ZXJQYXJ0aWNsZXNSZW5kZXJpbmdPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKX19fSxlLnByb3RvdHlwZS5fYWN0aXZlTWVzaD1mdW5jdGlvbih0LHIpe2lmKHRoaXMuX3NrZWxldG9uc0VuYWJsZWQmJnIuc2tlbGV0b24hPT1udWxsJiZyLnNrZWxldG9uIT09dm9pZCAwJiYodGhpcy5fYWN0aXZlU2tlbGV0b25zLnB1c2hOb0R1cGxpY2F0ZShyLnNrZWxldG9uKSYmKHIuc2tlbGV0b24ucHJlcGFyZSgpLHRoaXMuX2FjdGl2ZUJvbmVzLmFkZENvdW50KHIuc2tlbGV0b24uYm9uZXMubGVuZ3RoLCExKSksci5jb21wdXRlQm9uZXNVc2luZ1NoYWRlcnN8fHRoaXMuX3NvZnR3YXJlU2tpbm5lZE1lc2hlcy5wdXNoTm9EdXBsaWNhdGUocikpLHImJnIuc3ViTWVzaGVzJiZyLnN1Yk1lc2hlcy5sZW5ndGg+MClmb3IodmFyIG49dGhpcy5nZXRBY3RpdmVTdWJNZXNoQ2FuZGlkYXRlcyhyKSxhPW4ubGVuZ3RoLHM9MDtzPGE7cysrKXt2YXIgbz1uLmRhdGFbc107dGhpcy5fZXZhbHVhdGVTdWJNZXNoKG8scix0KX19LGUucHJvdG90eXBlLnVwZGF0ZVRyYW5zZm9ybU1hdHJpeD1mdW5jdGlvbih0KXtpZighIXRoaXMuYWN0aXZlQ2FtZXJhKWlmKHRoaXMuYWN0aXZlQ2FtZXJhLl9yZW5kZXJpbmdNdWx0aXZpZXcpe3ZhciByPXRoaXMuYWN0aXZlQ2FtZXJhLl9yaWdDYW1lcmFzWzBdLG49dGhpcy5hY3RpdmVDYW1lcmEuX3JpZ0NhbWVyYXNbMV07dGhpcy5zZXRUcmFuc2Zvcm1NYXRyaXgoci5nZXRWaWV3TWF0cml4KCksci5nZXRQcm9qZWN0aW9uTWF0cml4KHQpLG4uZ2V0Vmlld01hdHJpeCgpLG4uZ2V0UHJvamVjdGlvbk1hdHJpeCh0KSl9ZWxzZSB0aGlzLnNldFRyYW5zZm9ybU1hdHJpeCh0aGlzLmFjdGl2ZUNhbWVyYS5nZXRWaWV3TWF0cml4KCksdGhpcy5hY3RpdmVDYW1lcmEuZ2V0UHJvamVjdGlvbk1hdHJpeCh0KSl9LGUucHJvdG90eXBlLl9iaW5kRnJhbWVCdWZmZXI9ZnVuY3Rpb24odCxyKXtyPT09dm9pZCAwJiYocj0hMCksdCYmdC5fbXVsdGl2aWV3VGV4dHVyZT90Ll9tdWx0aXZpZXdUZXh0dXJlLl9iaW5kRnJhbWVCdWZmZXIoKTp0JiZ0Lm91dHB1dFJlbmRlclRhcmdldD90Lm91dHB1dFJlbmRlclRhcmdldC5fYmluZEZyYW1lQnVmZmVyKCk6dGhpcy5fZW5naW5lLl9jdXJyZW50RnJhbWVCdWZmZXJJc0RlZmF1bHRGcmFtZUJ1ZmZlcigpfHx0aGlzLl9lbmdpbmUucmVzdG9yZURlZmF1bHRGcmFtZWJ1ZmZlcigpLHImJnRoaXMuX2NsZWFyRnJhbWVCdWZmZXIodCl9LGUucHJvdG90eXBlLl9jbGVhckZyYW1lQnVmZmVyPWZ1bmN0aW9uKHQpe2lmKCEodCYmdC5fbXVsdGl2aWV3VGV4dHVyZSkpaWYodCYmdC5vdXRwdXRSZW5kZXJUYXJnZXQpe3ZhciByPXQub3V0cHV0UmVuZGVyVGFyZ2V0O3Iub25DbGVhck9ic2VydmFibGUuaGFzT2JzZXJ2ZXJzKCk/ci5vbkNsZWFyT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcy5fZW5naW5lKTpyLnNraXBJbml0aWFsQ2xlYXJ8fCh0aGlzLl9lbmdpbmUuY2xlYXIoci5jbGVhckNvbG9yfHx0aGlzLmNsZWFyQ29sb3IsIXIuX2NsZWFyZWQsITAsITApLHIuX2NsZWFyZWQ9ITApfWVsc2UgdGhpcy5fZGVmYXVsdEZyYW1lQnVmZmVyQ2xlYXJlZD90aGlzLl9lbmdpbmUuY2xlYXIobnVsbCwhMSwhMCwhMCk6KHRoaXMuX2RlZmF1bHRGcmFtZUJ1ZmZlckNsZWFyZWQ9ITAsdGhpcy5fY2xlYXIoKSl9LGUucHJvdG90eXBlLl9yZW5kZXJGb3JDYW1lcmE9ZnVuY3Rpb24odCxyLG4pe3ZhciBhLHMsbztpZihuPT09dm9pZCAwJiYobj0hMCksISh0JiZ0Ll9za2lwUmVuZGVyaW5nKSl7dmFyIHU9dGhpcy5fZW5naW5lO2lmKHRoaXMuX2FjdGl2ZUNhbWVyYT10LCF0aGlzLmFjdGl2ZUNhbWVyYSl0aHJvdyBuZXcgRXJyb3IoIkFjdGl2ZSBjYW1lcmEgbm90IHNldCIpO2lmKHUuc2V0Vmlld3BvcnQodGhpcy5hY3RpdmVDYW1lcmEudmlld3BvcnQpLHRoaXMucmVzZXRDYWNoZWRNYXRlcmlhbCgpLHRoaXMuX3JlbmRlcklkKyssIXRoaXMucHJlUGFzcyYmbil7dmFyIGY9ITA7dC5fcmVuZGVyaW5nTXVsdGl2aWV3JiZ0Lm91dHB1dFJlbmRlclRhcmdldCYmKGY9dC5vdXRwdXRSZW5kZXJUYXJnZXQuc2tpcEluaXRpYWxDbGVhcix0aGlzLmF1dG9DbGVhciYmKHQub3V0cHV0UmVuZGVyVGFyZ2V0LnNraXBJbml0aWFsQ2xlYXI9ITEpKSx0aGlzLl9iaW5kRnJhbWVCdWZmZXIodGhpcy5fYWN0aXZlQ2FtZXJhKSx0Ll9yZW5kZXJpbmdNdWx0aXZpZXcmJnQub3V0cHV0UmVuZGVyVGFyZ2V0JiYodC5vdXRwdXRSZW5kZXJUYXJnZXQuc2tpcEluaXRpYWxDbGVhcj1mKX10aGlzLnVwZGF0ZVRyYW5zZm9ybU1hdHJpeCgpLHRoaXMub25CZWZvcmVDYW1lcmFSZW5kZXJPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzLmFjdGl2ZUNhbWVyYSksdGhpcy5fZXZhbHVhdGVBY3RpdmVNZXNoZXMoKTtmb3IodmFyIGw9MDtsPHRoaXMuX3NvZnR3YXJlU2tpbm5lZE1lc2hlcy5sZW5ndGg7bCsrKXt2YXIgaD10aGlzLl9zb2Z0d2FyZVNraW5uZWRNZXNoZXMuZGF0YVtsXTtoLmFwcGx5U2tlbGV0b24oaC5za2VsZXRvbil9dGhpcy5vbkJlZm9yZVJlbmRlclRhcmdldHNSZW5kZXJPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKSx0aGlzLl9yZW5kZXJUYXJnZXRzLmNvbmNhdFdpdGhOb0R1cGxpY2F0ZSh0aGlzLl9tYXRlcmlhbHNSZW5kZXJUYXJnZXRzKSx0LmN1c3RvbVJlbmRlclRhcmdldHMmJnQuY3VzdG9tUmVuZGVyVGFyZ2V0cy5sZW5ndGg+MCYmdGhpcy5fcmVuZGVyVGFyZ2V0cy5jb25jYXRXaXRoTm9EdXBsaWNhdGUodC5jdXN0b21SZW5kZXJUYXJnZXRzKSxyJiZyLmN1c3RvbVJlbmRlclRhcmdldHMmJnIuY3VzdG9tUmVuZGVyVGFyZ2V0cy5sZW5ndGg+MCYmdGhpcy5fcmVuZGVyVGFyZ2V0cy5jb25jYXRXaXRoTm9EdXBsaWNhdGUoci5jdXN0b21SZW5kZXJUYXJnZXRzKSx0aGlzLmVudmlyb25tZW50VGV4dHVyZSYmdGhpcy5lbnZpcm9ubWVudFRleHR1cmUuaXNSZW5kZXJUYXJnZXQmJnRoaXMuX3JlbmRlclRhcmdldHMucHVzaE5vRHVwbGljYXRlKHRoaXMuZW52aXJvbm1lbnRUZXh0dXJlKTtmb3IodmFyIGM9MCxkPXRoaXMuX2dhdGhlckFjdGl2ZUNhbWVyYVJlbmRlclRhcmdldHNTdGFnZTtjPGQubGVuZ3RoO2MrKyl7dmFyIHA9ZFtjXTtwLmFjdGlvbih0aGlzLl9yZW5kZXJUYXJnZXRzKX12YXIgZz0hMTtpZih0aGlzLnJlbmRlclRhcmdldHNFbmFibGVkKXtpZih0aGlzLl9pbnRlcm1lZGlhdGVSZW5kZXJpbmc9ITAsdGhpcy5fcmVuZGVyVGFyZ2V0cy5sZW5ndGg+MCl7X2UuU3RhcnRQZXJmb3JtYW5jZUNvdW50ZXIoIlJlbmRlciB0YXJnZXRzIix0aGlzLl9yZW5kZXJUYXJnZXRzLmxlbmd0aD4wKTtmb3IodmFyIF89MDtfPHRoaXMuX3JlbmRlclRhcmdldHMubGVuZ3RoO18rKyl7dmFyIHY9dGhpcy5fcmVuZGVyVGFyZ2V0cy5kYXRhW19dO2lmKHYuX3Nob3VsZFJlbmRlcigpKXt0aGlzLl9yZW5kZXJJZCsrO3ZhciB5PXYuYWN0aXZlQ2FtZXJhJiZ2LmFjdGl2ZUNhbWVyYSE9PXRoaXMuYWN0aXZlQ2FtZXJhO3YucmVuZGVyKHksdGhpcy5kdW1wTmV4dFJlbmRlclRhcmdldHMpLGc9ITB9fV9lLkVuZFBlcmZvcm1hbmNlQ291bnRlcigiUmVuZGVyIHRhcmdldHMiLHRoaXMuX3JlbmRlclRhcmdldHMubGVuZ3RoPjApLHRoaXMuX3JlbmRlcklkKyt9Zm9yKHZhciBFPTAsUj10aGlzLl9jYW1lcmFEcmF3UmVuZGVyVGFyZ2V0U3RhZ2U7RTxSLmxlbmd0aDtFKyspe3ZhciBwPVJbRV07Zz1wLmFjdGlvbih0aGlzLmFjdGl2ZUNhbWVyYSl8fGd9dGhpcy5faW50ZXJtZWRpYXRlUmVuZGVyaW5nPSExfXRoaXMuX2VuZ2luZS5jdXJyZW50UmVuZGVyUGFzc0lkPShvPShzPShhPXQub3V0cHV0UmVuZGVyVGFyZ2V0KT09PW51bGx8fGE9PT12b2lkIDA/dm9pZCAwOmEucmVuZGVyUGFzc0lkKSE9PW51bGwmJnMhPT12b2lkIDA/czp0LnJlbmRlclBhc3NJZCkhPT1udWxsJiZvIT09dm9pZCAwP286MCxnJiYhdGhpcy5wcmVQYXNzJiZ0aGlzLl9iaW5kRnJhbWVCdWZmZXIodGhpcy5fYWN0aXZlQ2FtZXJhLCExKSx0aGlzLm9uQWZ0ZXJSZW5kZXJUYXJnZXRzUmVuZGVyT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyksdGhpcy5wb3N0UHJvY2Vzc01hbmFnZXImJiF0Ll9tdWx0aXZpZXdUZXh0dXJlJiYhdGhpcy5wcmVQYXNzJiZ0aGlzLnBvc3RQcm9jZXNzTWFuYWdlci5fcHJlcGFyZUZyYW1lKCk7Zm9yKHZhciBNPTAsQz10aGlzLl9iZWZvcmVDYW1lcmFEcmF3U3RhZ2U7TTxDLmxlbmd0aDtNKyspe3ZhciBwPUNbTV07cC5hY3Rpb24odGhpcy5hY3RpdmVDYW1lcmEpfXRoaXMub25CZWZvcmVEcmF3UGhhc2VPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKSx1LnNuYXBzaG90UmVuZGVyaW5nJiZ1LnNuYXBzaG90UmVuZGVyaW5nTW9kZT09PTEmJnRoaXMuZmluYWxpemVTY2VuZVVibygpLHRoaXMuX3JlbmRlcmluZ01hbmFnZXIucmVuZGVyKG51bGwsbnVsbCwhMCwhMCksdGhpcy5vbkFmdGVyRHJhd1BoYXNlT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyk7Zm9yKHZhciBBPTAsUz10aGlzLl9hZnRlckNhbWVyYURyYXdTdGFnZTtBPFMubGVuZ3RoO0ErKyl7dmFyIHA9U1tBXTtwLmFjdGlvbih0aGlzLmFjdGl2ZUNhbWVyYSl9aWYodGhpcy5wb3N0UHJvY2Vzc01hbmFnZXImJiF0Ll9tdWx0aXZpZXdUZXh0dXJlKXt2YXIgdz10Lm91dHB1dFJlbmRlclRhcmdldD90Lm91dHB1dFJlbmRlclRhcmdldC5yZW5kZXJUYXJnZXQ6dm9pZCAwO3RoaXMucG9zdFByb2Nlc3NNYW5hZ2VyLl9maW5hbGl6ZUZyYW1lKHQuaXNJbnRlcm1lZGlhdGUsdyl9dGhpcy5fcmVuZGVyVGFyZ2V0cy5yZXNldCgpLHRoaXMub25BZnRlckNhbWVyYVJlbmRlck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMuYWN0aXZlQ2FtZXJhKX19LGUucHJvdG90eXBlLl9wcm9jZXNzU3ViQ2FtZXJhcz1mdW5jdGlvbih0LHIpe2lmKHI9PT12b2lkIDAmJihyPSEwKSx0LmNhbWVyYVJpZ01vZGU9PT0wfHx0Ll9yZW5kZXJpbmdNdWx0aXZpZXcpe3QuX3JlbmRlcmluZ011bHRpdmlldyYmIXRoaXMuX211bHRpdmlld1NjZW5lVWJvJiZ0aGlzLl9jcmVhdGVNdWx0aXZpZXdVYm8oKSx0aGlzLl9yZW5kZXJGb3JDYW1lcmEodCx2b2lkIDAsciksdGhpcy5vbkFmdGVyUmVuZGVyQ2FtZXJhT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModCk7cmV0dXJufWlmKHQuX3VzZU11bHRpdmlld1RvU2luZ2xlVmlldyl0aGlzLl9yZW5kZXJNdWx0aXZpZXdUb1NpbmdsZVZpZXcodCk7ZWxzZXt0aGlzLm9uQmVmb3JlQ2FtZXJhUmVuZGVyT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModCk7Zm9yKHZhciBuPTA7bjx0Ll9yaWdDYW1lcmFzLmxlbmd0aDtuKyspdGhpcy5fcmVuZGVyRm9yQ2FtZXJhKHQuX3JpZ0NhbWVyYXNbbl0sdCl9dGhpcy5fYWN0aXZlQ2FtZXJhPXQsdGhpcy51cGRhdGVUcmFuc2Zvcm1NYXRyaXgoKSx0aGlzLm9uQWZ0ZXJSZW5kZXJDYW1lcmFPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0KX0sZS5wcm90b3R5cGUuX2NoZWNrSW50ZXJzZWN0aW9ucz1mdW5jdGlvbigpe2Zvcih2YXIgdD0wO3Q8dGhpcy5fbWVzaGVzRm9ySW50ZXJzZWN0aW9ucy5sZW5ndGg7dCsrKXt2YXIgcj10aGlzLl9tZXNoZXNGb3JJbnRlcnNlY3Rpb25zLmRhdGFbdF07aWYoISFyLmFjdGlvbk1hbmFnZXIpZm9yKHZhciBuPWZ1bmN0aW9uKHMpe3ZhciBvPXIuYWN0aW9uTWFuYWdlci5hY3Rpb25zW3NdO2lmKG8udHJpZ2dlcj09PTEyfHxvLnRyaWdnZXI9PT0xMyl7dmFyIHU9by5nZXRUcmlnZ2VyUGFyYW1ldGVyKCksZj11Lm1lc2g/dS5tZXNoOnUsbD1mLmludGVyc2VjdHNNZXNoKHIsdS51c2VQcmVjaXNlSW50ZXJzZWN0aW9uKSxoPXIuX2ludGVyc2VjdGlvbnNJblByb2dyZXNzLmluZGV4T2YoZik7bCYmaD09PS0xP28udHJpZ2dlcj09PTEyPyhvLl9leGVjdXRlQ3VycmVudChOZS5DcmVhdGVOZXcocix2b2lkIDAsZikpLHIuX2ludGVyc2VjdGlvbnNJblByb2dyZXNzLnB1c2goZikpOm8udHJpZ2dlcj09PTEzJiZyLl9pbnRlcnNlY3Rpb25zSW5Qcm9ncmVzcy5wdXNoKGYpOiFsJiZoPi0xJiYoby50cmlnZ2VyPT09MTMmJm8uX2V4ZWN1dGVDdXJyZW50KE5lLkNyZWF0ZU5ldyhyLHZvaWQgMCxmKSksKCFyLmFjdGlvbk1hbmFnZXIuaGFzU3BlY2lmaWNUcmlnZ2VyKDEzLGZ1bmN0aW9uKGMpe3ZhciBkPWMubWVzaD9jLm1lc2g6YztyZXR1cm4gZj09PWR9KXx8by50cmlnZ2VyPT09MTMpJiZyLl9pbnRlcnNlY3Rpb25zSW5Qcm9ncmVzcy5zcGxpY2UoaCwxKSl9fSxhPTA7ci5hY3Rpb25NYW5hZ2VyJiZhPHIuYWN0aW9uTWFuYWdlci5hY3Rpb25zLmxlbmd0aDthKyspbihhKX19LGUucHJvdG90eXBlLl9hZHZhbmNlUGh5c2ljc0VuZ2luZVN0ZXA9ZnVuY3Rpb24odCl7fSxlLnByb3RvdHlwZS5fYW5pbWF0ZT1mdW5jdGlvbigpe30sZS5wcm90b3R5cGUuYW5pbWF0ZT1mdW5jdGlvbigpe2lmKHRoaXMuX2VuZ2luZS5pc0RldGVybWluaXN0aWNMb2NrU3RlcCgpKXt2YXIgdD1NYXRoLm1heChlLk1pbkRlbHRhVGltZSxNYXRoLm1pbih0aGlzLl9lbmdpbmUuZ2V0RGVsdGFUaW1lKCksZS5NYXhEZWx0YVRpbWUpKSt0aGlzLl90aW1lQWNjdW11bGF0b3Iscj10aGlzLl9lbmdpbmUuZ2V0VGltZVN0ZXAoKSxuPTFlMy9yLzFlMyxhPTAscz10aGlzLl9lbmdpbmUuZ2V0TG9ja3N0ZXBNYXhTdGVwcygpLG89TWF0aC5mbG9vcih0L3IpO2ZvcihvPU1hdGgubWluKG8scyk7dD4wJiZhPG87KXRoaXMub25CZWZvcmVTdGVwT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyksdGhpcy5fYW5pbWF0aW9uUmF0aW89cipuLHRoaXMuX2FuaW1hdGUoKSx0aGlzLm9uQWZ0ZXJBbmltYXRpb25zT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyksdGhpcy5waHlzaWNzRW5hYmxlZCYmdGhpcy5fYWR2YW5jZVBoeXNpY3NFbmdpbmVTdGVwKHIpLHRoaXMub25BZnRlclN0ZXBPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKSx0aGlzLl9jdXJyZW50U3RlcElkKyssYSsrLHQtPXI7dGhpcy5fdGltZUFjY3VtdWxhdG9yPXQ8MD8wOnR9ZWxzZXt2YXIgdD10aGlzLnVzZUNvbnN0YW50QW5pbWF0aW9uRGVsdGFUaW1lPzE2Ok1hdGgubWF4KGUuTWluRGVsdGFUaW1lLE1hdGgubWluKHRoaXMuX2VuZ2luZS5nZXREZWx0YVRpbWUoKSxlLk1heERlbHRhVGltZSkpO3RoaXMuX2FuaW1hdGlvblJhdGlvPXQqKDYwLzFlMyksdGhpcy5fYW5pbWF0ZSgpLHRoaXMub25BZnRlckFuaW1hdGlvbnNPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKSx0aGlzLnBoeXNpY3NFbmFibGVkJiZ0aGlzLl9hZHZhbmNlUGh5c2ljc0VuZ2luZVN0ZXAodCl9fSxlLnByb3RvdHlwZS5fY2xlYXI9ZnVuY3Rpb24oKXsodGhpcy5hdXRvQ2xlYXJEZXB0aEFuZFN0ZW5jaWx8fHRoaXMuYXV0b0NsZWFyKSYmdGhpcy5fZW5naW5lLmNsZWFyKHRoaXMuY2xlYXJDb2xvcix0aGlzLmF1dG9DbGVhcnx8dGhpcy5mb3JjZVdpcmVmcmFtZXx8dGhpcy5mb3JjZVBvaW50c0Nsb3VkLHRoaXMuYXV0b0NsZWFyRGVwdGhBbmRTdGVuY2lsLHRoaXMuYXV0b0NsZWFyRGVwdGhBbmRTdGVuY2lsKX0sZS5wcm90b3R5cGUuX2NoZWNrQ2FtZXJhUmVuZGVyVGFyZ2V0PWZ1bmN0aW9uKHQpe3ZhciByO2lmKCh0PT1udWxsP3ZvaWQgMDp0Lm91dHB1dFJlbmRlclRhcmdldCkmJiEodCE9bnVsbCYmdC5pc1JpZ0NhbWVyYSkmJih0Lm91dHB1dFJlbmRlclRhcmdldC5fY2xlYXJlZD0hMSksISgocj10PT1udWxsP3ZvaWQgMDp0LnJpZ0NhbWVyYXMpPT09bnVsbHx8cj09PXZvaWQgMCkmJnIubGVuZ3RoKWZvcih2YXIgbj0wO248dC5yaWdDYW1lcmFzLmxlbmd0aDsrK24pe3ZhciBhPXQucmlnQ2FtZXJhc1tuXS5vdXRwdXRSZW5kZXJUYXJnZXQ7YSYmKGEuX2NsZWFyZWQ9ITEpfX0sZS5wcm90b3R5cGUucmVzZXREcmF3Q2FjaGU9ZnVuY3Rpb24odCl7aWYoISF0aGlzLm1lc2hlcylmb3IodmFyIHI9MCxuPXRoaXMubWVzaGVzO3I8bi5sZW5ndGg7cisrKXt2YXIgYT1uW3JdO2EucmVzZXREcmF3Q2FjaGUodCl9fSxlLnByb3RvdHlwZS5yZW5kZXI9ZnVuY3Rpb24odCxyKXt2YXIgbixhLHM7aWYodD09PXZvaWQgMCYmKHQ9ITApLHI9PT12b2lkIDAmJihyPSExKSwhdGhpcy5pc0Rpc3Bvc2VkKXt0aGlzLm9uUmVhZHlPYnNlcnZhYmxlLmhhc09ic2VydmVycygpJiZ0aGlzLl9leGVjdXRlV2hlblJlYWR5VGltZW91dElkPT09bnVsbCYmdGhpcy5fY2hlY2tJc1JlYWR5KCksdGhpcy5fZnJhbWVJZCsrLHRoaXMuX2RlZmF1bHRGcmFtZUJ1ZmZlckNsZWFyZWQ9ITEsdGhpcy5fY2hlY2tDYW1lcmFSZW5kZXJUYXJnZXQodGhpcy5hY3RpdmVDYW1lcmEpLCEoKG49dGhpcy5hY3RpdmVDYW1lcmFzKT09PW51bGx8fG49PT12b2lkIDApJiZuLmxlbmd0aCYmdGhpcy5hY3RpdmVDYW1lcmFzLmZvckVhY2godGhpcy5fY2hlY2tDYW1lcmFSZW5kZXJUYXJnZXQpLHRoaXMuX3JlZ2lzdGVyVHJhbnNpZW50Q29tcG9uZW50cygpLHRoaXMuX2FjdGl2ZVBhcnRpY2xlcy5mZXRjaE5ld0ZyYW1lKCksdGhpcy5fdG90YWxWZXJ0aWNlcy5mZXRjaE5ld0ZyYW1lKCksdGhpcy5fYWN0aXZlSW5kaWNlcy5mZXRjaE5ld0ZyYW1lKCksdGhpcy5fYWN0aXZlQm9uZXMuZmV0Y2hOZXdGcmFtZSgpLHRoaXMuX21lc2hlc0ZvckludGVyc2VjdGlvbnMucmVzZXQoKSx0aGlzLnJlc2V0Q2FjaGVkTWF0ZXJpYWwoKSx0aGlzLm9uQmVmb3JlQW5pbWF0aW9uc09ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpLHRoaXMuYWN0aW9uTWFuYWdlciYmdGhpcy5hY3Rpb25NYW5hZ2VyLnByb2Nlc3NUcmlnZ2VyKDExKSxyfHx0aGlzLmFuaW1hdGUoKTtmb3IodmFyIG89MCx1PXRoaXMuX2JlZm9yZUNhbWVyYVVwZGF0ZVN0YWdlO288dS5sZW5ndGg7bysrKXt2YXIgZj11W29dO2YuYWN0aW9uKCl9aWYodCl7aWYodGhpcy5hY3RpdmVDYW1lcmFzJiZ0aGlzLmFjdGl2ZUNhbWVyYXMubGVuZ3RoPjApZm9yKHZhciBsPTA7bDx0aGlzLmFjdGl2ZUNhbWVyYXMubGVuZ3RoO2wrKyl7dmFyIGg9dGhpcy5hY3RpdmVDYW1lcmFzW2xdO2lmKGgudXBkYXRlKCksaC5jYW1lcmFSaWdNb2RlIT09MClmb3IodmFyIGM9MDtjPGguX3JpZ0NhbWVyYXMubGVuZ3RoO2MrKyloLl9yaWdDYW1lcmFzW2NdLnVwZGF0ZSgpfWVsc2UgaWYodGhpcy5hY3RpdmVDYW1lcmEmJih0aGlzLmFjdGl2ZUNhbWVyYS51cGRhdGUoKSx0aGlzLmFjdGl2ZUNhbWVyYS5jYW1lcmFSaWdNb2RlIT09MCkpZm9yKHZhciBjPTA7Yzx0aGlzLmFjdGl2ZUNhbWVyYS5fcmlnQ2FtZXJhcy5sZW5ndGg7YysrKXRoaXMuYWN0aXZlQ2FtZXJhLl9yaWdDYW1lcmFzW2NdLnVwZGF0ZSgpfXRoaXMub25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKTt2YXIgZD10aGlzLmdldEVuZ2luZSgpO3RoaXMub25CZWZvcmVSZW5kZXJUYXJnZXRzUmVuZGVyT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyk7dmFyIHA9ISgoYT10aGlzLmFjdGl2ZUNhbWVyYXMpPT09bnVsbHx8YT09PXZvaWQgMCkmJmEubGVuZ3RoP3RoaXMuYWN0aXZlQ2FtZXJhc1swXTp0aGlzLmFjdGl2ZUNhbWVyYTtpZih0aGlzLnJlbmRlclRhcmdldHNFbmFibGVkKXtfZS5TdGFydFBlcmZvcm1hbmNlQ291bnRlcigiQ3VzdG9tIHJlbmRlciB0YXJnZXRzIix0aGlzLmN1c3RvbVJlbmRlclRhcmdldHMubGVuZ3RoPjApLHRoaXMuX2ludGVybWVkaWF0ZVJlbmRlcmluZz0hMDtmb3IodmFyIGc9MDtnPHRoaXMuY3VzdG9tUmVuZGVyVGFyZ2V0cy5sZW5ndGg7ZysrKXt2YXIgXz10aGlzLmN1c3RvbVJlbmRlclRhcmdldHNbZ107aWYoXy5fc2hvdWxkUmVuZGVyKCkpe2lmKHRoaXMuX3JlbmRlcklkKyssdGhpcy5hY3RpdmVDYW1lcmE9Xy5hY3RpdmVDYW1lcmF8fHRoaXMuYWN0aXZlQ2FtZXJhLCF0aGlzLmFjdGl2ZUNhbWVyYSl0aHJvdyBuZXcgRXJyb3IoIkFjdGl2ZSBjYW1lcmEgbm90IHNldCIpO2Quc2V0Vmlld3BvcnQodGhpcy5hY3RpdmVDYW1lcmEudmlld3BvcnQpLHRoaXMudXBkYXRlVHJhbnNmb3JtTWF0cml4KCksXy5yZW5kZXIocCE9PXRoaXMuYWN0aXZlQ2FtZXJhLHRoaXMuZHVtcE5leHRSZW5kZXJUYXJnZXRzKX19X2UuRW5kUGVyZm9ybWFuY2VDb3VudGVyKCJDdXN0b20gcmVuZGVyIHRhcmdldHMiLHRoaXMuY3VzdG9tUmVuZGVyVGFyZ2V0cy5sZW5ndGg+MCksdGhpcy5faW50ZXJtZWRpYXRlUmVuZGVyaW5nPSExLHRoaXMuX3JlbmRlcklkKyt9dGhpcy5fZW5naW5lLmN1cnJlbnRSZW5kZXJQYXNzSWQ9KHM9cD09bnVsbD92b2lkIDA6cC5yZW5kZXJQYXNzSWQpIT09bnVsbCYmcyE9PXZvaWQgMD9zOjAsdGhpcy5hY3RpdmVDYW1lcmE9cCx0aGlzLl9hY3RpdmVDYW1lcmEmJnRoaXMuX2FjdGl2ZUNhbWVyYS5jYW1lcmFSaWdNb2RlIT09MjImJiF0aGlzLnByZVBhc3MmJnRoaXMuX2JpbmRGcmFtZUJ1ZmZlcih0aGlzLl9hY3RpdmVDYW1lcmEsITEpLHRoaXMub25BZnRlclJlbmRlclRhcmdldHNSZW5kZXJPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKTtmb3IodmFyIHY9MCx5PXRoaXMuX2JlZm9yZUNsZWFyU3RhZ2U7djx5Lmxlbmd0aDt2Kyspe3ZhciBmPXlbdl07Zi5hY3Rpb24oKX10aGlzLl9jbGVhckZyYW1lQnVmZmVyKHRoaXMuYWN0aXZlQ2FtZXJhKTtmb3IodmFyIEU9MCxSPXRoaXMuX2dhdGhlclJlbmRlclRhcmdldHNTdGFnZTtFPFIubGVuZ3RoO0UrKyl7dmFyIGY9UltFXTtmLmFjdGlvbih0aGlzLl9yZW5kZXJUYXJnZXRzKX1pZih0aGlzLmFjdGl2ZUNhbWVyYXMmJnRoaXMuYWN0aXZlQ2FtZXJhcy5sZW5ndGg+MClmb3IodmFyIGw9MDtsPHRoaXMuYWN0aXZlQ2FtZXJhcy5sZW5ndGg7bCsrKXRoaXMuX3Byb2Nlc3NTdWJDYW1lcmFzKHRoaXMuYWN0aXZlQ2FtZXJhc1tsXSxsPjApO2Vsc2V7aWYoIXRoaXMuYWN0aXZlQ2FtZXJhKXRocm93IG5ldyBFcnJvcigiTm8gY2FtZXJhIGRlZmluZWQiKTt0aGlzLl9wcm9jZXNzU3ViQ2FtZXJhcyh0aGlzLmFjdGl2ZUNhbWVyYSwhIXRoaXMuYWN0aXZlQ2FtZXJhLm91dHB1dFJlbmRlclRhcmdldCl9dGhpcy5fY2hlY2tJbnRlcnNlY3Rpb25zKCk7Zm9yKHZhciBNPTAsQz10aGlzLl9hZnRlclJlbmRlclN0YWdlO008Qy5sZW5ndGg7TSsrKXt2YXIgZj1DW01dO2YuYWN0aW9uKCl9aWYodGhpcy5hZnRlclJlbmRlciYmdGhpcy5hZnRlclJlbmRlcigpLHRoaXMub25BZnRlclJlbmRlck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpLHRoaXMuX3RvQmVEaXNwb3NlZC5sZW5ndGgpe2Zvcih2YXIgYz0wO2M8dGhpcy5fdG9CZURpc3Bvc2VkLmxlbmd0aDtjKyspe3ZhciBBPXRoaXMuX3RvQmVEaXNwb3NlZFtjXTtBJiZBLmRpc3Bvc2UoKX10aGlzLl90b0JlRGlzcG9zZWQ9W119dGhpcy5kdW1wTmV4dFJlbmRlclRhcmdldHMmJih0aGlzLmR1bXBOZXh0UmVuZGVyVGFyZ2V0cz0hMSksdGhpcy5fYWN0aXZlQm9uZXMuYWRkQ291bnQoMCwhMCksdGhpcy5fYWN0aXZlSW5kaWNlcy5hZGRDb3VudCgwLCEwKSx0aGlzLl9hY3RpdmVQYXJ0aWNsZXMuYWRkQ291bnQoMCwhMCksdGhpcy5fZW5naW5lLnJlc3RvcmVEZWZhdWx0RnJhbWVidWZmZXIoKX19LGUucHJvdG90eXBlLmZyZWV6ZU1hdGVyaWFscz1mdW5jdGlvbigpe2Zvcih2YXIgdD0wO3Q8dGhpcy5tYXRlcmlhbHMubGVuZ3RoO3QrKyl0aGlzLm1hdGVyaWFsc1t0XS5mcmVlemUoKX0sZS5wcm90b3R5cGUudW5mcmVlemVNYXRlcmlhbHM9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9MDt0PHRoaXMubWF0ZXJpYWxzLmxlbmd0aDt0KyspdGhpcy5tYXRlcmlhbHNbdF0udW5mcmVlemUoKX0sZS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3ZhciB0O2lmKCF0aGlzLmlzRGlzcG9zZWQpe3RoaXMuYmVmb3JlUmVuZGVyPW51bGwsdGhpcy5hZnRlclJlbmRlcj1udWxsLHRoaXMubWV0YWRhdGE9bnVsbCx0aGlzLnNrZWxldG9ucz1bXSx0aGlzLm1vcnBoVGFyZ2V0TWFuYWdlcnM9W10sdGhpcy5fdHJhbnNpZW50Q29tcG9uZW50cz1bXSx0aGlzLl9pc1JlYWR5Rm9yTWVzaFN0YWdlLmNsZWFyKCksdGhpcy5fYmVmb3JlRXZhbHVhdGVBY3RpdmVNZXNoU3RhZ2UuY2xlYXIoKSx0aGlzLl9ldmFsdWF0ZVN1Yk1lc2hTdGFnZS5jbGVhcigpLHRoaXMuX3ByZUFjdGl2ZU1lc2hTdGFnZS5jbGVhcigpLHRoaXMuX2NhbWVyYURyYXdSZW5kZXJUYXJnZXRTdGFnZS5jbGVhcigpLHRoaXMuX2JlZm9yZUNhbWVyYURyYXdTdGFnZS5jbGVhcigpLHRoaXMuX2JlZm9yZVJlbmRlclRhcmdldERyYXdTdGFnZS5jbGVhcigpLHRoaXMuX2JlZm9yZVJlbmRlcmluZ0dyb3VwRHJhd1N0YWdlLmNsZWFyKCksdGhpcy5fYmVmb3JlUmVuZGVyaW5nTWVzaFN0YWdlLmNsZWFyKCksdGhpcy5fYWZ0ZXJSZW5kZXJpbmdNZXNoU3RhZ2UuY2xlYXIoKSx0aGlzLl9hZnRlclJlbmRlcmluZ0dyb3VwRHJhd1N0YWdlLmNsZWFyKCksdGhpcy5fYWZ0ZXJDYW1lcmFEcmF3U3RhZ2UuY2xlYXIoKSx0aGlzLl9hZnRlclJlbmRlclRhcmdldERyYXdTdGFnZS5jbGVhcigpLHRoaXMuX2FmdGVyUmVuZGVyU3RhZ2UuY2xlYXIoKSx0aGlzLl9iZWZvcmVDYW1lcmFVcGRhdGVTdGFnZS5jbGVhcigpLHRoaXMuX2JlZm9yZUNsZWFyU3RhZ2UuY2xlYXIoKSx0aGlzLl9nYXRoZXJSZW5kZXJUYXJnZXRzU3RhZ2UuY2xlYXIoKSx0aGlzLl9nYXRoZXJBY3RpdmVDYW1lcmFSZW5kZXJUYXJnZXRzU3RhZ2UuY2xlYXIoKSx0aGlzLl9wb2ludGVyTW92ZVN0YWdlLmNsZWFyKCksdGhpcy5fcG9pbnRlckRvd25TdGFnZS5jbGVhcigpLHRoaXMuX3BvaW50ZXJVcFN0YWdlLmNsZWFyKCksdGhpcy5pbXBvcnRlZE1lc2hlc0ZpbGVzPW5ldyBBcnJheSx0aGlzLnN0b3BBbGxBbmltYXRpb25zJiZ0aGlzLnN0b3BBbGxBbmltYXRpb25zKCksdGhpcy5yZXNldENhY2hlZE1hdGVyaWFsKCksdGhpcy5hY3RpdmVDYW1lcmEmJih0aGlzLmFjdGl2ZUNhbWVyYS5fYWN0aXZlTWVzaGVzLmRpc3Bvc2UoKSx0aGlzLmFjdGl2ZUNhbWVyYT1udWxsKSx0aGlzLl9hY3RpdmVNZXNoZXMuZGlzcG9zZSgpLHRoaXMuX3JlbmRlcmluZ01hbmFnZXIuZGlzcG9zZSgpLHRoaXMuX3Byb2Nlc3NlZE1hdGVyaWFscy5kaXNwb3NlKCksdGhpcy5fYWN0aXZlUGFydGljbGVTeXN0ZW1zLmRpc3Bvc2UoKSx0aGlzLl9hY3RpdmVTa2VsZXRvbnMuZGlzcG9zZSgpLHRoaXMuX3NvZnR3YXJlU2tpbm5lZE1lc2hlcy5kaXNwb3NlKCksdGhpcy5fcmVuZGVyVGFyZ2V0cy5kaXNwb3NlKCksdGhpcy5fbWF0ZXJpYWxzUmVuZGVyVGFyZ2V0cy5kaXNwb3NlKCksdGhpcy5fcmVnaXN0ZXJlZEZvckxhdGVBbmltYXRpb25CaW5kaW5ncy5kaXNwb3NlKCksdGhpcy5fbWVzaGVzRm9ySW50ZXJzZWN0aW9ucy5kaXNwb3NlKCksdGhpcy5fdG9CZURpc3Bvc2VkPVtdO2Zvcih2YXIgcj10aGlzLl9hY3RpdmVSZXF1ZXN0cy5zbGljZSgpLG49MCxhPXI7bjxhLmxlbmd0aDtuKyspe3ZhciBzPWFbbl07cy5hYm9ydCgpfXRoaXMuX2FjdGl2ZVJlcXVlc3RzPVtdLHRoaXMub25EaXNwb3NlT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyksdGhpcy5vbkRpc3Bvc2VPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkJlZm9yZVJlbmRlck9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQWZ0ZXJSZW5kZXJPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkJlZm9yZVJlbmRlclRhcmdldHNSZW5kZXJPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkFmdGVyUmVuZGVyVGFyZ2V0c1JlbmRlck9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQWZ0ZXJTdGVwT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25CZWZvcmVTdGVwT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25CZWZvcmVBY3RpdmVNZXNoZXNFdmFsdWF0aW9uT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25BZnRlckFjdGl2ZU1lc2hlc0V2YWx1YXRpb25PYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkJlZm9yZVBhcnRpY2xlc1JlbmRlcmluZ09ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQWZ0ZXJQYXJ0aWNsZXNSZW5kZXJpbmdPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkJlZm9yZURyYXdQaGFzZU9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQWZ0ZXJEcmF3UGhhc2VPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkJlZm9yZUFuaW1hdGlvbnNPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkFmdGVyQW5pbWF0aW9uc09ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uRGF0YUxvYWRlZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQmVmb3JlUmVuZGVyaW5nR3JvdXBPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkFmdGVyUmVuZGVyaW5nR3JvdXBPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbk1lc2hJbXBvcnRlZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQmVmb3JlQ2FtZXJhUmVuZGVyT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25BZnRlckNhbWVyYVJlbmRlck9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uUmVhZHlPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbk5ld0NhbWVyYUFkZGVkT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25DYW1lcmFSZW1vdmVkT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25OZXdMaWdodEFkZGVkT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25MaWdodFJlbW92ZWRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbk5ld0dlb21ldHJ5QWRkZWRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkdlb21ldHJ5UmVtb3ZlZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uTmV3VHJhbnNmb3JtTm9kZUFkZGVkT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25UcmFuc2Zvcm1Ob2RlUmVtb3ZlZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uTmV3TWVzaEFkZGVkT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25NZXNoUmVtb3ZlZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uTmV3U2tlbGV0b25BZGRlZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uU2tlbGV0b25SZW1vdmVkT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25OZXdNYXRlcmlhbEFkZGVkT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25OZXdNdWx0aU1hdGVyaWFsQWRkZWRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbk1hdGVyaWFsUmVtb3ZlZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uTXVsdGlNYXRlcmlhbFJlbW92ZWRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbk5ld1RleHR1cmVBZGRlZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uVGV4dHVyZVJlbW92ZWRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vblByZVBvaW50ZXJPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vblBvaW50ZXJPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vblByZUtleWJvYXJkT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25LZXlib2FyZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQWN0aXZlQ2FtZXJhQ2hhbmdlZC5jbGVhcigpLHRoaXMub25Db21wdXRlUHJlc3N1cmVDaGFuZ2VkLmNsZWFyKCksKHQ9dGhpcy5fY29tcHV0ZVByZXNzdXJlT2JzZXJ2ZXIpPT09bnVsbHx8dD09PXZvaWQgMHx8dC51bm9ic2VydmUoKSx0aGlzLl9jb21wdXRlUHJlc3N1cmVPYnNlcnZlcj12b2lkIDAsdGhpcy5kZXRhY2hDb250cm9sKCk7dmFyIG89dGhpcy5fZW5naW5lLmdldElucHV0RWxlbWVudCgpO2lmKG8pZm9yKHZhciB1PTA7dTx0aGlzLmNhbWVyYXMubGVuZ3RoO3UrKyl0aGlzLmNhbWVyYXNbdV0uZGV0YWNoQ29udHJvbCgpO3RoaXMuX2Rpc3Bvc2VMaXN0KHRoaXMuYW5pbWF0aW9uR3JvdXBzKSx0aGlzLl9kaXNwb3NlTGlzdCh0aGlzLmxpZ2h0cyksdGhpcy5fZGlzcG9zZUxpc3QodGhpcy5tZXNoZXMsZnVuY3Rpb24obCl7cmV0dXJuIGwuZGlzcG9zZSghMCl9KSx0aGlzLl9kaXNwb3NlTGlzdCh0aGlzLnRyYW5zZm9ybU5vZGVzLGZ1bmN0aW9uKGwpe3JldHVybiBsLmRpc3Bvc2UoITApfSksdGhpcy5fZGlzcG9zZUxpc3QodGhpcy5jYW1lcmFzKSx0aGlzLl9kZWZhdWx0TWF0ZXJpYWwmJnRoaXMuX2RlZmF1bHRNYXRlcmlhbC5kaXNwb3NlKCksdGhpcy5fZGlzcG9zZUxpc3QodGhpcy5tdWx0aU1hdGVyaWFscyksdGhpcy5fZGlzcG9zZUxpc3QodGhpcy5tYXRlcmlhbHMpLHRoaXMuX2Rpc3Bvc2VMaXN0KHRoaXMucGFydGljbGVTeXN0ZW1zKSx0aGlzLl9kaXNwb3NlTGlzdCh0aGlzLnBvc3RQcm9jZXNzZXMpLHRoaXMuX2Rpc3Bvc2VMaXN0KHRoaXMudGV4dHVyZXMpLHRoaXMuX2Rpc3Bvc2VMaXN0KHRoaXMubW9ycGhUYXJnZXRNYW5hZ2VycyksdGhpcy5fc2NlbmVVYm8uZGlzcG9zZSgpLHRoaXMuX211bHRpdmlld1NjZW5lVWJvJiZ0aGlzLl9tdWx0aXZpZXdTY2VuZVViby5kaXNwb3NlKCksdGhpcy5wb3N0UHJvY2Vzc01hbmFnZXIuZGlzcG9zZSgpLHRoaXMuX2Rpc3Bvc2VMaXN0KHRoaXMuX2NvbXBvbmVudHMpO3ZhciBmPXRoaXMuX2VuZ2luZS5zY2VuZXMuaW5kZXhPZih0aGlzKTtmPi0xJiZ0aGlzLl9lbmdpbmUuc2NlbmVzLnNwbGljZShmLDEpLGFlLl9MYXN0Q3JlYXRlZFNjZW5lPT09dGhpcyYmKHRoaXMuX2VuZ2luZS5zY2VuZXMubGVuZ3RoPjA/YWUuX0xhc3RDcmVhdGVkU2NlbmU9dGhpcy5fZW5naW5lLnNjZW5lc1t0aGlzLl9lbmdpbmUuc2NlbmVzLmxlbmd0aC0xXTphZS5fTGFzdENyZWF0ZWRTY2VuZT1udWxsKSxmPXRoaXMuX2VuZ2luZS5fdmlydHVhbFNjZW5lcy5pbmRleE9mKHRoaXMpLGY+LTEmJnRoaXMuX2VuZ2luZS5fdmlydHVhbFNjZW5lcy5zcGxpY2UoZiwxKSx0aGlzLl9lbmdpbmUud2lwZUNhY2hlcyghMCksdGhpcy5faXNEaXNwb3NlZD0hMH19LGUucHJvdG90eXBlLl9kaXNwb3NlTGlzdD1mdW5jdGlvbih0LHIpe3ZhciBuPXQuc2xpY2UoMCk7cj1yIT1udWxsP3I6ZnVuY3Rpb24odSl7cmV0dXJuIHUuZGlzcG9zZSgpfTtmb3IodmFyIGE9MCxzPW47YTxzLmxlbmd0aDthKyspe3ZhciBvPXNbYV07cihvKX10Lmxlbmd0aD0wfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImlzRGlzcG9zZWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXNEaXNwb3NlZH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5jbGVhckNhY2hlZFZlcnRleERhdGE9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9MDt0PHRoaXMubWVzaGVzLmxlbmd0aDt0Kyspe3ZhciByPXRoaXMubWVzaGVzW3RdLG49ci5nZW9tZXRyeTtuJiZuLmNsZWFyQ2FjaGVkRGF0YSgpfX0sZS5wcm90b3R5cGUuY2xlYW5DYWNoZWRUZXh0dXJlQnVmZmVyPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PTAscj10aGlzLnRleHR1cmVzO3Q8ci5sZW5ndGg7dCsrKXt2YXIgbj1yW3RdLGE9bi5fYnVmZmVyO2EmJihuLl9idWZmZXI9bnVsbCl9fSxlLnByb3RvdHlwZS5nZXRXb3JsZEV4dGVuZHM9ZnVuY3Rpb24odCl7dmFyIHI9bmV3IGIoTnVtYmVyLk1BWF9WQUxVRSxOdW1iZXIuTUFYX1ZBTFVFLE51bWJlci5NQVhfVkFMVUUpLG49bmV3IGIoLU51bWJlci5NQVhfVkFMVUUsLU51bWJlci5NQVhfVkFMVUUsLU51bWJlci5NQVhfVkFMVUUpO3JldHVybiB0PXR8fGZ1bmN0aW9uKCl7cmV0dXJuITB9LHRoaXMubWVzaGVzLmZpbHRlcih0KS5mb3JFYWNoKGZ1bmN0aW9uKGEpe2lmKGEuY29tcHV0ZVdvcmxkTWF0cml4KCEwKSwhKCFhLnN1Yk1lc2hlc3x8YS5zdWJNZXNoZXMubGVuZ3RoPT09MHx8YS5pbmZpbml0ZURpc3RhbmNlKSl7dmFyIHM9YS5nZXRCb3VuZGluZ0luZm8oKSxvPXMuYm91bmRpbmdCb3gubWluaW11bVdvcmxkLHU9cy5ib3VuZGluZ0JveC5tYXhpbXVtV29ybGQ7Yi5DaGVja0V4dGVuZHMobyxyLG4pLGIuQ2hlY2tFeHRlbmRzKHUscixuKX19KSx7bWluOnIsbWF4Om59fSxlLnByb3RvdHlwZS5jcmVhdGVQaWNraW5nUmF5PWZ1bmN0aW9uKHQscixuLGEscyl7dGhyb3cgWCgiUmF5Iil9LGUucHJvdG90eXBlLmNyZWF0ZVBpY2tpbmdSYXlUb1JlZj1mdW5jdGlvbih0LHIsbixhLHMsbyx1KXt0aHJvdyBYKCJSYXkiKX0sZS5wcm90b3R5cGUuY3JlYXRlUGlja2luZ1JheUluQ2FtZXJhU3BhY2U9ZnVuY3Rpb24odCxyLG4pe3Rocm93IFgoIlJheSIpfSxlLnByb3RvdHlwZS5jcmVhdGVQaWNraW5nUmF5SW5DYW1lcmFTcGFjZVRvUmVmPWZ1bmN0aW9uKHQscixuLGEpe3Rocm93IFgoIlJheSIpfSxlLnByb3RvdHlwZS5waWNrPWZ1bmN0aW9uKHQscixuLGEscyxvKXt2YXIgdT1uZXcgUWU7cmV0dXJuIHUuX3BpY2tpbmdVbmF2YWlsYWJsZT0hMCx1fSxlLnByb3RvdHlwZS5waWNrV2l0aEJvdW5kaW5nSW5mbz1mdW5jdGlvbih0LHIsbixhLHMpe3ZhciBvPW5ldyBRZTtyZXR1cm4gby5fcGlja2luZ1VuYXZhaWxhYmxlPSEwLG99LGUucHJvdG90eXBlLnBpY2tXaXRoUmF5PWZ1bmN0aW9uKHQscixuLGEpe3Rocm93IFgoIlJheSIpfSxlLnByb3RvdHlwZS5tdWx0aVBpY2s9ZnVuY3Rpb24odCxyLG4sYSxzKXt0aHJvdyBYKCJSYXkiKX0sZS5wcm90b3R5cGUubXVsdGlQaWNrV2l0aFJheT1mdW5jdGlvbih0LHIsbil7dGhyb3cgWCgiUmF5Iil9LGUucHJvdG90eXBlLnNldFBvaW50ZXJPdmVyTWVzaD1mdW5jdGlvbih0LHIsbil7dGhpcy5faW5wdXRNYW5hZ2VyLnNldFBvaW50ZXJPdmVyTWVzaCh0LHIsbil9LGUucHJvdG90eXBlLmdldFBvaW50ZXJPdmVyTWVzaD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbnB1dE1hbmFnZXIuZ2V0UG9pbnRlck92ZXJNZXNoKCl9LGUucHJvdG90eXBlLl9yZWJ1aWxkR2VvbWV0cmllcz1mdW5jdGlvbigpe2Zvcih2YXIgdD0wLHI9dGhpcy5nZW9tZXRyaWVzO3Q8ci5sZW5ndGg7dCsrKXt2YXIgbj1yW3RdO24uX3JlYnVpbGQoKX1mb3IodmFyIGE9MCxzPXRoaXMubWVzaGVzO2E8cy5sZW5ndGg7YSsrKXt2YXIgbz1zW2FdO28uX3JlYnVpbGQoKX10aGlzLnBvc3RQcm9jZXNzTWFuYWdlciYmdGhpcy5wb3N0UHJvY2Vzc01hbmFnZXIuX3JlYnVpbGQoKTtmb3IodmFyIHU9MCxmPXRoaXMuX2NvbXBvbmVudHM7dTxmLmxlbmd0aDt1Kyspe3ZhciBsPWZbdV07bC5yZWJ1aWxkKCl9Zm9yKHZhciBoPTAsYz10aGlzLnBhcnRpY2xlU3lzdGVtcztoPGMubGVuZ3RoO2grKyl7dmFyIGQ9Y1toXTtkLnJlYnVpbGQoKX1pZih0aGlzLnNwcml0ZU1hbmFnZXJzKWZvcih2YXIgcD0wLGc9dGhpcy5zcHJpdGVNYW5hZ2VycztwPGcubGVuZ3RoO3ArKyl7dmFyIF89Z1twXTtfLnJlYnVpbGQoKX19LGUucHJvdG90eXBlLl9yZWJ1aWxkVGV4dHVyZXM9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9MCxyPXRoaXMudGV4dHVyZXM7dDxyLmxlbmd0aDt0Kyspe3ZhciBuPXJbdF07bi5fcmVidWlsZCgpfXRoaXMubWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMSl9LGUucHJvdG90eXBlLl9nZXRCeVRhZ3M9ZnVuY3Rpb24odCxyLG4pe2lmKHI9PT12b2lkIDApcmV0dXJuIHQ7dmFyIGE9W107bj1ufHxmdW5jdGlvbih1KXt9O2Zvcih2YXIgcyBpbiB0KXt2YXIgbz10W3NdO2RlJiZkZS5NYXRjaGVzUXVlcnkobyxyKSYmKGEucHVzaChvKSxuKG8pKX1yZXR1cm4gYX0sZS5wcm90b3R5cGUuZ2V0TWVzaGVzQnlUYWdzPWZ1bmN0aW9uKHQscil7cmV0dXJuIHRoaXMuX2dldEJ5VGFncyh0aGlzLm1lc2hlcyx0LHIpfSxlLnByb3RvdHlwZS5nZXRDYW1lcmFzQnlUYWdzPWZ1bmN0aW9uKHQscil7cmV0dXJuIHRoaXMuX2dldEJ5VGFncyh0aGlzLmNhbWVyYXMsdCxyKX0sZS5wcm90b3R5cGUuZ2V0TGlnaHRzQnlUYWdzPWZ1bmN0aW9uKHQscil7cmV0dXJuIHRoaXMuX2dldEJ5VGFncyh0aGlzLmxpZ2h0cyx0LHIpfSxlLnByb3RvdHlwZS5nZXRNYXRlcmlhbEJ5VGFncz1mdW5jdGlvbih0LHIpe3JldHVybiB0aGlzLl9nZXRCeVRhZ3ModGhpcy5tYXRlcmlhbHMsdCxyKS5jb25jYXQodGhpcy5fZ2V0QnlUYWdzKHRoaXMubXVsdGlNYXRlcmlhbHMsdCxyKSl9LGUucHJvdG90eXBlLmdldFRyYW5zZm9ybU5vZGVzQnlUYWdzPWZ1bmN0aW9uKHQscil7cmV0dXJuIHRoaXMuX2dldEJ5VGFncyh0aGlzLnRyYW5zZm9ybU5vZGVzLHQscil9LGUucHJvdG90eXBlLnNldFJlbmRlcmluZ09yZGVyPWZ1bmN0aW9uKHQscixuLGEpe3I9PT12b2lkIDAmJihyPW51bGwpLG49PT12b2lkIDAmJihuPW51bGwpLGE9PT12b2lkIDAmJihhPW51bGwpLHRoaXMuX3JlbmRlcmluZ01hbmFnZXIuc2V0UmVuZGVyaW5nT3JkZXIodCxyLG4sYSl9LGUucHJvdG90eXBlLnNldFJlbmRlcmluZ0F1dG9DbGVhckRlcHRoU3RlbmNpbD1mdW5jdGlvbih0LHIsbixhKXtuPT09dm9pZCAwJiYobj0hMCksYT09PXZvaWQgMCYmKGE9ITApLHRoaXMuX3JlbmRlcmluZ01hbmFnZXIuc2V0UmVuZGVyaW5nQXV0b0NsZWFyRGVwdGhTdGVuY2lsKHQscixuLGEpfSxlLnByb3RvdHlwZS5nZXRBdXRvQ2xlYXJEZXB0aFN0ZW5jaWxTZXR1cD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fcmVuZGVyaW5nTWFuYWdlci5nZXRBdXRvQ2xlYXJEZXB0aFN0ZW5jaWxTZXR1cCh0KX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJibG9ja01hdGVyaWFsRGlydHlNZWNoYW5pc20iLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYmxvY2tNYXRlcmlhbERpcnR5TWVjaGFuaXNtfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fYmxvY2tNYXRlcmlhbERpcnR5TWVjaGFuaXNtIT09dCYmKHRoaXMuX2Jsb2NrTWF0ZXJpYWxEaXJ0eU1lY2hhbmlzbT10LHR8fHRoaXMubWFya0FsbE1hdGVyaWFsc0FzRGlydHkoNjMpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5tYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eT1mdW5jdGlvbih0LHIpe2lmKCF0aGlzLl9ibG9ja01hdGVyaWFsRGlydHlNZWNoYW5pc20pZm9yKHZhciBuPTAsYT10aGlzLm1hdGVyaWFscztuPGEubGVuZ3RoO24rKyl7dmFyIHM9YVtuXTtyJiYhcihzKXx8cy5tYXJrQXNEaXJ0eSh0KX19LGUucHJvdG90eXBlLl9sb2FkRmlsZT1mdW5jdGlvbih0LHIsbixhLHMsbyx1KXt2YXIgZj10aGlzLGw9SXQodCxyLG4sYT90aGlzLm9mZmxpbmVQcm92aWRlcjp2b2lkIDAscyxvLHUpO3JldHVybiB0aGlzLl9hY3RpdmVSZXF1ZXN0cy5wdXNoKGwpLGwub25Db21wbGV0ZU9ic2VydmFibGUuYWRkKGZ1bmN0aW9uKGgpe2YuX2FjdGl2ZVJlcXVlc3RzLnNwbGljZShmLl9hY3RpdmVSZXF1ZXN0cy5pbmRleE9mKGgpLDEpfSksbH0sZS5wcm90b3R5cGUuX2xvYWRGaWxlQXN5bmM9ZnVuY3Rpb24odCxyLG4sYSxzKXt2YXIgbz10aGlzO3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbih1LGYpe28uX2xvYWRGaWxlKHQsZnVuY3Rpb24obCl7dShsKX0scixuLGEsZnVuY3Rpb24obCxoKXtmKGgpfSxzKX0pfSxlLnByb3RvdHlwZS5fcmVxdWVzdEZpbGU9ZnVuY3Rpb24odCxyLG4sYSxzLG8sdSl7dmFyIGY9dGhpcyxsPVlyKHQscixuLGE/dGhpcy5vZmZsaW5lUHJvdmlkZXI6dm9pZCAwLHMsbyx1KTtyZXR1cm4gdGhpcy5fYWN0aXZlUmVxdWVzdHMucHVzaChsKSxsLm9uQ29tcGxldGVPYnNlcnZhYmxlLmFkZChmdW5jdGlvbihoKXtmLl9hY3RpdmVSZXF1ZXN0cy5zcGxpY2UoZi5fYWN0aXZlUmVxdWVzdHMuaW5kZXhPZihoKSwxKX0pLGx9LGUucHJvdG90eXBlLl9yZXF1ZXN0RmlsZUFzeW5jPWZ1bmN0aW9uKHQscixuLGEscyl7dmFyIG89dGhpcztyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24odSxmKXtvLl9yZXF1ZXN0RmlsZSh0LGZ1bmN0aW9uKGwpe3UobCl9LHIsbixhLGZ1bmN0aW9uKGwpe2YobCl9LHMpfSl9LGUucHJvdG90eXBlLl9yZWFkRmlsZT1mdW5jdGlvbih0LHIsbixhLHMpe3ZhciBvPXRoaXMsdT1lcih0LHIsbixhLHMpO3JldHVybiB0aGlzLl9hY3RpdmVSZXF1ZXN0cy5wdXNoKHUpLHUub25Db21wbGV0ZU9ic2VydmFibGUuYWRkKGZ1bmN0aW9uKGYpe28uX2FjdGl2ZVJlcXVlc3RzLnNwbGljZShvLl9hY3RpdmVSZXF1ZXN0cy5pbmRleE9mKGYpLDEpfSksdX0sZS5wcm90b3R5cGUuX3JlYWRGaWxlQXN5bmM9ZnVuY3Rpb24odCxyLG4pe3ZhciBhPXRoaXM7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHMsbyl7YS5fcmVhZEZpbGUodCxmdW5jdGlvbih1KXtzKHUpfSxyLG4sZnVuY3Rpb24odSl7byh1KX0pfSl9LGUucHJvdG90eXBlLmdldFBlcmZDb2xsZWN0b3I9ZnVuY3Rpb24oKXt0aHJvdyBYKCJwZXJmb3JtYW5jZVZpZXdlclNjZW5lRXh0ZW5zaW9uIil9LGUuRk9HTU9ERV9OT05FPTAsZS5GT0dNT0RFX0VYUD0xLGUuRk9HTU9ERV9FWFAyPTIsZS5GT0dNT0RFX0xJTkVBUj0zLGUuTWluRGVsdGFUaW1lPTEsZS5NYXhEZWx0YVRpbWU9MWUzLGV9KGtpKTtyZS5wcm90b3R5cGUuc2V0QWN0aXZlQ2FtZXJhQnlJRD1mdW5jdGlvbihpKXtyZXR1cm4gdGhpcy5zZXRBY3RpdmVDYW1lcmFCeUlkKGkpfSxyZS5wcm90b3R5cGUuZ2V0TGFzdE1hdGVyaWFsQnlJRD1mdW5jdGlvbihpKXtyZXR1cm4gdGhpcy5nZXRMYXN0TWF0ZXJpYWxCeUlkKGkpfSxyZS5wcm90b3R5cGUuZ2V0TWF0ZXJpYWxCeUlEPWZ1bmN0aW9uKGkpe3JldHVybiB0aGlzLmdldE1hdGVyaWFsQnlJZChpKX0scmUucHJvdG90eXBlLmdldFRleHR1cmVCeVVuaXF1ZUlEPWZ1bmN0aW9uKGkpe3JldHVybiB0aGlzLmdldFRleHR1cmVCeVVuaXF1ZUlkKGkpfSxyZS5wcm90b3R5cGUuZ2V0Q2FtZXJhQnlJRD1mdW5jdGlvbihpKXtyZXR1cm4gdGhpcy5nZXRDYW1lcmFCeUlkKGkpfSxyZS5wcm90b3R5cGUuZ2V0Q2FtZXJhQnlVbmlxdWVJRD1mdW5jdGlvbihpKXtyZXR1cm4gdGhpcy5nZXRDYW1lcmFCeVVuaXF1ZUlkKGkpfSxyZS5wcm90b3R5cGUuZ2V0Qm9uZUJ5SUQ9ZnVuY3Rpb24oaSl7cmV0dXJuIHRoaXMuZ2V0Qm9uZUJ5SWQoaSl9LHJlLnByb3RvdHlwZS5nZXRMaWdodEJ5SUQ9ZnVuY3Rpb24oaSl7cmV0dXJuIHRoaXMuZ2V0TGlnaHRCeUlkKGkpfSxyZS5wcm90b3R5cGUuZ2V0TGlnaHRCeVVuaXF1ZUlEPWZ1bmN0aW9uKGkpe3JldHVybiB0aGlzLmdldExpZ2h0QnlVbmlxdWVJZChpKX0scmUucHJvdG90eXBlLmdldFBhcnRpY2xlU3lzdGVtQnlJRD1mdW5jdGlvbihpKXtyZXR1cm4gdGhpcy5nZXRQYXJ0aWNsZVN5c3RlbUJ5SWQoaSl9LHJlLnByb3RvdHlwZS5nZXRHZW9tZXRyeUJ5SUQ9ZnVuY3Rpb24oaSl7cmV0dXJuIHRoaXMuZ2V0R2VvbWV0cnlCeUlkKGkpfSxyZS5wcm90b3R5cGUuZ2V0TWVzaEJ5SUQ9ZnVuY3Rpb24oaSl7cmV0dXJuIHRoaXMuZ2V0TWVzaEJ5SWQoaSl9LHJlLnByb3RvdHlwZS5nZXRNZXNoZXNCeUlEPWZ1bmN0aW9uKGkpe3JldHVybiB0aGlzLmdldE1lc2hlc0J5SWQoaSl9LHJlLnByb3RvdHlwZS5nZXRUcmFuc2Zvcm1Ob2RlQnlJRD1mdW5jdGlvbihpKXtyZXR1cm4gdGhpcy5nZXRUcmFuc2Zvcm1Ob2RlQnlJZChpKX0scmUucHJvdG90eXBlLmdldFRyYW5zZm9ybU5vZGVCeVVuaXF1ZUlEPWZ1bmN0aW9uKGkpe3JldHVybiB0aGlzLmdldFRyYW5zZm9ybU5vZGVCeVVuaXF1ZUlkKGkpfSxyZS5wcm90b3R5cGUuZ2V0VHJhbnNmb3JtTm9kZXNCeUlEPWZ1bmN0aW9uKGkpe3JldHVybiB0aGlzLmdldFRyYW5zZm9ybU5vZGVzQnlJZChpKX0scmUucHJvdG90eXBlLmdldE1lc2hCeVVuaXF1ZUlEPWZ1bmN0aW9uKGkpe3JldHVybiB0aGlzLmdldE1lc2hCeVVuaXF1ZUlkKGkpfSxyZS5wcm90b3R5cGUuZ2V0TGFzdE1lc2hCeUlEPWZ1bmN0aW9uKGkpe3JldHVybiB0aGlzLmdldExhc3RNZXNoQnlJZChpKX0scmUucHJvdG90eXBlLmdldExhc3RFbnRyeUJ5SUQ9ZnVuY3Rpb24oaSl7cmV0dXJuIHRoaXMuZ2V0TGFzdEVudHJ5QnlJZChpKX0scmUucHJvdG90eXBlLmdldE5vZGVCeUlEPWZ1bmN0aW9uKGkpe3JldHVybiB0aGlzLmdldE5vZGVCeUlkKGkpfSxyZS5wcm90b3R5cGUuZ2V0TGFzdFNrZWxldG9uQnlJRD1mdW5jdGlvbihpKXtyZXR1cm4gdGhpcy5nZXRMYXN0U2tlbGV0b25CeUlkKGkpfTtmdW5jdGlvbiBKcihpLGUsdCl7dHJ5e3ZhciByPWkubmV4dCgpO3IuZG9uZT9lKHIpOnIudmFsdWU/ci52YWx1ZS50aGVuKGZ1bmN0aW9uKCl7ci52YWx1ZT12b2lkIDAsZShyKX0sdCk6ZShyKX1jYXRjaChuKXt0KG4pfX1mdW5jdGlvbiBFYShpKXtpPT09dm9pZCAwJiYoaT0yNSk7dmFyIGU7cmV0dXJuIGZ1bmN0aW9uKHQscixuKXt2YXIgYT1wZXJmb3JtYW5jZS5ub3coKTtlPT09dm9pZCAwfHxhLWU+aT8oZT1hLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtKcih0LHIsbil9LDApKTpKcih0LHIsbil9fWZ1bmN0aW9uIHJuKGksZSx0LHIsbil7dmFyIGE9ZnVuY3Rpb24oKXt2YXIgcyxvPWZ1bmN0aW9uKHUpe3UuZG9uZT90KHUudmFsdWUpOnM9PT12b2lkIDA/cz0hMDphKCl9O2RvIHM9dm9pZCAwLCFufHwhbi5hYm9ydGVkP2UoaSxvLHIpOnIobmV3IEVycm9yKCJBYm9ydGVkIikpLHM9PT12b2lkIDAmJihzPSExKTt3aGlsZShzKX07YSgpfWZ1bmN0aW9uIGVpKGksZSl7dmFyIHQ7cmV0dXJuIHJuKGksSnIsZnVuY3Rpb24ocil7cmV0dXJuIHQ9cn0sZnVuY3Rpb24ocil7dGhyb3cgcn0sZSksdH1mdW5jdGlvbiBUYShpLGUsdCl7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHIsbil7cm4oaSxlLHIsbix0KX0pfWZ1bmN0aW9uIFNhKGksZSl7cmV0dXJuIGZ1bmN0aW9uKCl7Zm9yKHZhciB0PVtdLHI9MDtyPGFyZ3VtZW50cy5sZW5ndGg7cisrKXRbcl09YXJndW1lbnRzW3JdO3JldHVybiBlaShpLmFwcGx5KHZvaWQgMCx0KSxlKX19dmFyIE1hPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaSgpe3RoaXMuX2RvTm90U2VyaWFsaXplPSExLHRoaXMuX2lzRGlzcG9zZWQ9ITEsdGhpcy5fc2NlbmVSb290Tm9kZXNJbmRleD0tMSx0aGlzLl9pc0VuYWJsZWQ9ITAsdGhpcy5faXNQYXJlbnRFbmFibGVkPSEwLHRoaXMuX2lzUmVhZHk9ITAsdGhpcy5fb25FbmFibGVkU3RhdGVDaGFuZ2VkT2JzZXJ2YWJsZT1uZXcgTyx0aGlzLl9vbkNsb25lZE9ic2VydmFibGU9bmV3IE99cmV0dXJuIGl9KCksJGU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKGUsdCl7dD09PXZvaWQgMCYmKHQ9bnVsbCksdGhpcy5faXNEaXJ0eT0hMSx0aGlzLl9ub2RlRGF0YVN0b3JhZ2U9bmV3IE1hLHRoaXMuc3RhdGU9IiIsdGhpcy5tZXRhZGF0YT1udWxsLHRoaXMucmVzZXJ2ZWREYXRhU3RvcmU9bnVsbCx0aGlzLl9wYXJlbnRDb250YWluZXI9bnVsbCx0aGlzLmFuaW1hdGlvbnM9bmV3IEFycmF5LHRoaXMuX3Jhbmdlcz17fSx0aGlzLm9uUmVhZHk9bnVsbCx0aGlzLl9jdXJyZW50UmVuZGVySWQ9LTEsdGhpcy5fcGFyZW50VXBkYXRlSWQ9LTEsdGhpcy5fY2hpbGRVcGRhdGVJZD0tMSx0aGlzLl93YWl0aW5nUGFyZW50SWQ9bnVsbCx0aGlzLl9jYWNoZT17fSx0aGlzLl9wYXJlbnROb2RlPW51bGwsdGhpcy5fY2hpbGRyZW49bnVsbCx0aGlzLl93b3JsZE1hdHJpeD1JLklkZW50aXR5KCksdGhpcy5fd29ybGRNYXRyaXhEZXRlcm1pbmFudD0wLHRoaXMuX3dvcmxkTWF0cml4RGV0ZXJtaW5hbnRJc0RpcnR5PSEwLHRoaXMuX2FuaW1hdGlvblByb3BlcnRpZXNPdmVycmlkZT1udWxsLHRoaXMuX2lzTm9kZT0hMCx0aGlzLm9uRGlzcG9zZU9ic2VydmFibGU9bmV3IE8sdGhpcy5fb25EaXNwb3NlT2JzZXJ2ZXI9bnVsbCx0aGlzLl9iZWhhdmlvcnM9bmV3IEFycmF5LHRoaXMubmFtZT1lLHRoaXMuaWQ9ZSx0aGlzLl9zY2VuZT10fHxhZS5MYXN0Q3JlYXRlZFNjZW5lLHRoaXMudW5pcXVlSWQ9dGhpcy5fc2NlbmUuZ2V0VW5pcXVlSWQoKSx0aGlzLl9pbml0Q2FjaGUoKX1yZXR1cm4gaS5BZGROb2RlQ29uc3RydWN0b3I9ZnVuY3Rpb24oZSx0KXt0aGlzLl9Ob2RlQ29uc3RydWN0b3JzW2VdPXR9LGkuQ29uc3RydWN0PWZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBhPXRoaXMuX05vZGVDb25zdHJ1Y3RvcnNbZV07cmV0dXJuIGE/YSh0LHIsbik6bnVsbH0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJkb05vdFNlcmlhbGl6ZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9ub2RlRGF0YVN0b3JhZ2UuX2RvTm90U2VyaWFsaXplPyEwOnRoaXMuX3BhcmVudE5vZGU/dGhpcy5fcGFyZW50Tm9kZS5kb05vdFNlcmlhbGl6ZTohMX0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX25vZGVEYXRhU3RvcmFnZS5fZG9Ob3RTZXJpYWxpemU9ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLnByb3RvdHlwZS5pc0Rpc3Bvc2VkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX25vZGVEYXRhU3RvcmFnZS5faXNEaXNwb3NlZH0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJwYXJlbnQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcGFyZW50Tm9kZX0sc2V0OmZ1bmN0aW9uKGUpe2lmKHRoaXMuX3BhcmVudE5vZGUhPT1lKXt2YXIgdD10aGlzLl9wYXJlbnROb2RlO2lmKHRoaXMuX3BhcmVudE5vZGUmJnRoaXMuX3BhcmVudE5vZGUuX2NoaWxkcmVuIT09dm9pZCAwJiZ0aGlzLl9wYXJlbnROb2RlLl9jaGlsZHJlbiE9PW51bGwpe3ZhciByPXRoaXMuX3BhcmVudE5vZGUuX2NoaWxkcmVuLmluZGV4T2YodGhpcyk7ciE9PS0xJiZ0aGlzLl9wYXJlbnROb2RlLl9jaGlsZHJlbi5zcGxpY2UociwxKSwhZSYmIXRoaXMuX25vZGVEYXRhU3RvcmFnZS5faXNEaXNwb3NlZCYmdGhpcy5fYWRkVG9TY2VuZVJvb3ROb2RlcygpfXRoaXMuX3BhcmVudE5vZGU9ZSx0aGlzLl9wYXJlbnROb2RlJiYoKHRoaXMuX3BhcmVudE5vZGUuX2NoaWxkcmVuPT09dm9pZCAwfHx0aGlzLl9wYXJlbnROb2RlLl9jaGlsZHJlbj09PW51bGwpJiYodGhpcy5fcGFyZW50Tm9kZS5fY2hpbGRyZW49bmV3IEFycmF5KSx0aGlzLl9wYXJlbnROb2RlLl9jaGlsZHJlbi5wdXNoKHRoaXMpLHR8fHRoaXMuX3JlbW92ZUZyb21TY2VuZVJvb3ROb2RlcygpKSx0aGlzLl9zeW5jUGFyZW50RW5hYmxlZFN0YXRlKCl9fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkucHJvdG90eXBlLl9hZGRUb1NjZW5lUm9vdE5vZGVzPWZ1bmN0aW9uKCl7dGhpcy5fbm9kZURhdGFTdG9yYWdlLl9zY2VuZVJvb3ROb2Rlc0luZGV4PT09LTEmJih0aGlzLl9ub2RlRGF0YVN0b3JhZ2UuX3NjZW5lUm9vdE5vZGVzSW5kZXg9dGhpcy5fc2NlbmUucm9vdE5vZGVzLmxlbmd0aCx0aGlzLl9zY2VuZS5yb290Tm9kZXMucHVzaCh0aGlzKSl9LGkucHJvdG90eXBlLl9yZW1vdmVGcm9tU2NlbmVSb290Tm9kZXM9ZnVuY3Rpb24oKXtpZih0aGlzLl9ub2RlRGF0YVN0b3JhZ2UuX3NjZW5lUm9vdE5vZGVzSW5kZXghPT0tMSl7dmFyIGU9dGhpcy5fc2NlbmUucm9vdE5vZGVzLHQ9ZS5sZW5ndGgtMTtlW3RoaXMuX25vZGVEYXRhU3RvcmFnZS5fc2NlbmVSb290Tm9kZXNJbmRleF09ZVt0XSxlW3RoaXMuX25vZGVEYXRhU3RvcmFnZS5fc2NlbmVSb290Tm9kZXNJbmRleF0uX25vZGVEYXRhU3RvcmFnZS5fc2NlbmVSb290Tm9kZXNJbmRleD10aGlzLl9ub2RlRGF0YVN0b3JhZ2UuX3NjZW5lUm9vdE5vZGVzSW5kZXgsdGhpcy5fc2NlbmUucm9vdE5vZGVzLnBvcCgpLHRoaXMuX25vZGVEYXRhU3RvcmFnZS5fc2NlbmVSb290Tm9kZXNJbmRleD0tMX19LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiYW5pbWF0aW9uUHJvcGVydGllc092ZXJyaWRlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FuaW1hdGlvblByb3BlcnRpZXNPdmVycmlkZT90aGlzLl9hbmltYXRpb25Qcm9wZXJ0aWVzT3ZlcnJpZGU6dGhpcy5fc2NlbmUuYW5pbWF0aW9uUHJvcGVydGllc092ZXJyaWRlfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fYW5pbWF0aW9uUHJvcGVydGllc092ZXJyaWRlPWV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksaS5wcm90b3R5cGUuZ2V0Q2xhc3NOYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIk5vZGUifSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsIm9uRGlzcG9zZSIse3NldDpmdW5jdGlvbihlKXt0aGlzLl9vbkRpc3Bvc2VPYnNlcnZlciYmdGhpcy5vbkRpc3Bvc2VPYnNlcnZhYmxlLnJlbW92ZSh0aGlzLl9vbkRpc3Bvc2VPYnNlcnZlciksdGhpcy5fb25EaXNwb3NlT2JzZXJ2ZXI9dGhpcy5vbkRpc3Bvc2VPYnNlcnZhYmxlLmFkZChlKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsIm9uRW5hYmxlZFN0YXRlQ2hhbmdlZE9ic2VydmFibGUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbm9kZURhdGFTdG9yYWdlLl9vbkVuYWJsZWRTdGF0ZUNoYW5nZWRPYnNlcnZhYmxlfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwib25DbG9uZWRPYnNlcnZhYmxlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX25vZGVEYXRhU3RvcmFnZS5fb25DbG9uZWRPYnNlcnZhYmxlfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkucHJvdG90eXBlLmdldFNjZW5lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NjZW5lfSxpLnByb3RvdHlwZS5nZXRFbmdpbmU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2NlbmUuZ2V0RW5naW5lKCl9LGkucHJvdG90eXBlLmFkZEJlaGF2aW9yPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpczt0PT09dm9pZCAwJiYodD0hMSk7dmFyIG49dGhpcy5fYmVoYXZpb3JzLmluZGV4T2YoZSk7cmV0dXJuIG4hPT0tMT90aGlzOihlLmluaXQoKSx0aGlzLl9zY2VuZS5pc0xvYWRpbmcmJiF0P3RoaXMuX3NjZW5lLm9uRGF0YUxvYWRlZE9ic2VydmFibGUuYWRkT25jZShmdW5jdGlvbigpe2UuYXR0YWNoKHIpfSk6ZS5hdHRhY2godGhpcyksdGhpcy5fYmVoYXZpb3JzLnB1c2goZSksdGhpcyl9LGkucHJvdG90eXBlLnJlbW92ZUJlaGF2aW9yPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX2JlaGF2aW9ycy5pbmRleE9mKGUpO3JldHVybiB0PT09LTE/dGhpczoodGhpcy5fYmVoYXZpb3JzW3RdLmRldGFjaCgpLHRoaXMuX2JlaGF2aW9ycy5zcGxpY2UodCwxKSx0aGlzKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJiZWhhdmlvcnMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYmVoYXZpb3JzfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkucHJvdG90eXBlLmdldEJlaGF2aW9yQnlOYW1lPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wLHI9dGhpcy5fYmVoYXZpb3JzO3Q8ci5sZW5ndGg7dCsrKXt2YXIgbj1yW3RdO2lmKG4ubmFtZT09PWUpcmV0dXJuIG59cmV0dXJuIG51bGx9LGkucHJvdG90eXBlLmdldFdvcmxkTWF0cml4PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2N1cnJlbnRSZW5kZXJJZCE9PXRoaXMuX3NjZW5lLmdldFJlbmRlcklkKCkmJnRoaXMuY29tcHV0ZVdvcmxkTWF0cml4KCksdGhpcy5fd29ybGRNYXRyaXh9LGkucHJvdG90eXBlLl9nZXRXb3JsZE1hdHJpeERldGVybWluYW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3dvcmxkTWF0cml4RGV0ZXJtaW5hbnRJc0RpcnR5JiYodGhpcy5fd29ybGRNYXRyaXhEZXRlcm1pbmFudElzRGlydHk9ITEsdGhpcy5fd29ybGRNYXRyaXhEZXRlcm1pbmFudD10aGlzLl93b3JsZE1hdHJpeC5kZXRlcm1pbmFudCgpKSx0aGlzLl93b3JsZE1hdHJpeERldGVybWluYW50fSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsIndvcmxkTWF0cml4RnJvbUNhY2hlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3dvcmxkTWF0cml4fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkucHJvdG90eXBlLl9pbml0Q2FjaGU9ZnVuY3Rpb24oKXt0aGlzLl9jYWNoZT17fSx0aGlzLl9jYWNoZS5wYXJlbnQ9dm9pZCAwfSxpLnByb3RvdHlwZS51cGRhdGVDYWNoZT1mdW5jdGlvbihlKXshZSYmdGhpcy5pc1N5bmNocm9uaXplZCgpfHwodGhpcy5fY2FjaGUucGFyZW50PXRoaXMucGFyZW50LHRoaXMuX3VwZGF0ZUNhY2hlKCkpfSxpLnByb3RvdHlwZS5fZ2V0QWN0aW9uTWFuYWdlckZvclRyaWdnZXI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5wYXJlbnQ/dGhpcy5wYXJlbnQuX2dldEFjdGlvbk1hbmFnZXJGb3JUcmlnZ2VyKGUsITEpOm51bGx9LGkucHJvdG90eXBlLl91cGRhdGVDYWNoZT1mdW5jdGlvbihlKXt9LGkucHJvdG90eXBlLl9pc1N5bmNocm9uaXplZD1mdW5jdGlvbigpe3JldHVybiEwfSxpLnByb3RvdHlwZS5fbWFya1N5bmNlZFdpdGhQYXJlbnQ9ZnVuY3Rpb24oKXt0aGlzLl9wYXJlbnROb2RlJiYodGhpcy5fcGFyZW50VXBkYXRlSWQ9dGhpcy5fcGFyZW50Tm9kZS5fY2hpbGRVcGRhdGVJZCl9LGkucHJvdG90eXBlLmlzU3luY2hyb25pemVkV2l0aFBhcmVudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9wYXJlbnROb2RlP3RoaXMuX3BhcmVudE5vZGUuX2lzRGlydHl8fHRoaXMuX3BhcmVudFVwZGF0ZUlkIT09dGhpcy5fcGFyZW50Tm9kZS5fY2hpbGRVcGRhdGVJZD8hMTp0aGlzLl9wYXJlbnROb2RlLmlzU3luY2hyb25pemVkKCk6ITB9LGkucHJvdG90eXBlLmlzU3luY2hyb25pemVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NhY2hlLnBhcmVudCE9PXRoaXMuX3BhcmVudE5vZGU/KHRoaXMuX2NhY2hlLnBhcmVudD10aGlzLl9wYXJlbnROb2RlLCExKTp0aGlzLl9wYXJlbnROb2RlJiYhdGhpcy5pc1N5bmNocm9uaXplZFdpdGhQYXJlbnQoKT8hMTp0aGlzLl9pc1N5bmNocm9uaXplZCgpfSxpLnByb3RvdHlwZS5pc1JlYWR5PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9ub2RlRGF0YVN0b3JhZ2UuX2lzUmVhZHl9LGkucHJvdG90eXBlLm1hcmtBc0RpcnR5PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9jdXJyZW50UmVuZGVySWQ9TnVtYmVyLk1BWF9WQUxVRSx0aGlzLl9pc0RpcnR5PSEwLHRoaXN9LGkucHJvdG90eXBlLmlzRW5hYmxlZD1mdW5jdGlvbihlKXtyZXR1cm4gZT09PXZvaWQgMCYmKGU9ITApLGU9PT0hMT90aGlzLl9ub2RlRGF0YVN0b3JhZ2UuX2lzRW5hYmxlZDp0aGlzLl9ub2RlRGF0YVN0b3JhZ2UuX2lzRW5hYmxlZD90aGlzLl9ub2RlRGF0YVN0b3JhZ2UuX2lzUGFyZW50RW5hYmxlZDohMX0saS5wcm90b3R5cGUuX3N5bmNQYXJlbnRFbmFibGVkU3RhdGU9ZnVuY3Rpb24oKXt0aGlzLl9ub2RlRGF0YVN0b3JhZ2UuX2lzUGFyZW50RW5hYmxlZD10aGlzLl9wYXJlbnROb2RlP3RoaXMuX3BhcmVudE5vZGUuaXNFbmFibGVkKCk6ITAsdGhpcy5fY2hpbGRyZW4mJnRoaXMuX2NoaWxkcmVuLmZvckVhY2goZnVuY3Rpb24oZSl7ZS5fc3luY1BhcmVudEVuYWJsZWRTdGF0ZSgpfSl9LGkucHJvdG90eXBlLnNldEVuYWJsZWQ9ZnVuY3Rpb24oZSl7dGhpcy5fbm9kZURhdGFTdG9yYWdlLl9pc0VuYWJsZWQhPT1lJiYodGhpcy5fbm9kZURhdGFTdG9yYWdlLl9pc0VuYWJsZWQ9ZSx0aGlzLl9ub2RlRGF0YVN0b3JhZ2UuX29uRW5hYmxlZFN0YXRlQ2hhbmdlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGUpLHRoaXMuX3N5bmNQYXJlbnRFbmFibGVkU3RhdGUoKSl9LGkucHJvdG90eXBlLmlzRGVzY2VuZGFudE9mPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnBhcmVudD90aGlzLnBhcmVudD09PWU/ITA6dGhpcy5wYXJlbnQuaXNEZXNjZW5kYW50T2YoZSk6ITF9LGkucHJvdG90eXBlLl9nZXREZXNjZW5kYW50cz1mdW5jdGlvbihlLHQscil7aWYodD09PXZvaWQgMCYmKHQ9ITEpLCEhdGhpcy5fY2hpbGRyZW4pZm9yKHZhciBuPTA7bjx0aGlzLl9jaGlsZHJlbi5sZW5ndGg7bisrKXt2YXIgYT10aGlzLl9jaGlsZHJlbltuXTsoIXJ8fHIoYSkpJiZlLnB1c2goYSksdHx8YS5fZ2V0RGVzY2VuZGFudHMoZSwhMSxyKX19LGkucHJvdG90eXBlLmdldERlc2NlbmRhbnRzPWZ1bmN0aW9uKGUsdCl7dmFyIHI9bmV3IEFycmF5O3JldHVybiB0aGlzLl9nZXREZXNjZW5kYW50cyhyLGUsdCkscn0saS5wcm90b3R5cGUuZ2V0Q2hpbGRNZXNoZXM9ZnVuY3Rpb24oZSx0KXt2YXIgcj1bXTtyZXR1cm4gdGhpcy5fZ2V0RGVzY2VuZGFudHMocixlLGZ1bmN0aW9uKG4pe3JldHVybighdHx8dChuKSkmJm4uY3VsbGluZ1N0cmF0ZWd5IT09dm9pZCAwfSkscn0saS5wcm90b3R5cGUuZ2V0Q2hpbGRyZW49ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD09PXZvaWQgMCYmKHQ9ITApLHRoaXMuZ2V0RGVzY2VuZGFudHModCxlKX0saS5wcm90b3R5cGUuX3NldFJlYWR5PWZ1bmN0aW9uKGUpe2lmKGUhPT10aGlzLl9ub2RlRGF0YVN0b3JhZ2UuX2lzUmVhZHkpe2lmKCFlKXt0aGlzLl9ub2RlRGF0YVN0b3JhZ2UuX2lzUmVhZHk9ITE7cmV0dXJufXRoaXMub25SZWFkeSYmdGhpcy5vblJlYWR5KHRoaXMpLHRoaXMuX25vZGVEYXRhU3RvcmFnZS5faXNSZWFkeT0hMH19LGkucHJvdG90eXBlLmdldEFuaW1hdGlvbkJ5TmFtZT1mdW5jdGlvbihlKXtmb3IodmFyIHQ9MDt0PHRoaXMuYW5pbWF0aW9ucy5sZW5ndGg7dCsrKXt2YXIgcj10aGlzLmFuaW1hdGlvbnNbdF07aWYoci5uYW1lPT09ZSlyZXR1cm4gcn1yZXR1cm4gbnVsbH0saS5wcm90b3R5cGUuY3JlYXRlQW5pbWF0aW9uUmFuZ2U9ZnVuY3Rpb24oZSx0LHIpe2lmKCF0aGlzLl9yYW5nZXNbZV0pe3RoaXMuX3Jhbmdlc1tlXT1pLl9BbmltYXRpb25SYW5nZUZhY3RvcnkoZSx0LHIpO2Zvcih2YXIgbj0wLGE9dGhpcy5hbmltYXRpb25zLmxlbmd0aDtuPGE7bisrKXRoaXMuYW5pbWF0aW9uc1tuXSYmdGhpcy5hbmltYXRpb25zW25dLmNyZWF0ZVJhbmdlKGUsdCxyKX19LGkucHJvdG90eXBlLmRlbGV0ZUFuaW1hdGlvblJhbmdlPWZ1bmN0aW9uKGUsdCl7dD09PXZvaWQgMCYmKHQ9ITApO2Zvcih2YXIgcj0wLG49dGhpcy5hbmltYXRpb25zLmxlbmd0aDtyPG47cisrKXRoaXMuYW5pbWF0aW9uc1tyXSYmdGhpcy5hbmltYXRpb25zW3JdLmRlbGV0ZVJhbmdlKGUsdCk7dGhpcy5fcmFuZ2VzW2VdPW51bGx9LGkucHJvdG90eXBlLmdldEFuaW1hdGlvblJhbmdlPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9yYW5nZXNbZV18fG51bGx9LGkucHJvdG90eXBlLmdldEFuaW1hdGlvblJhbmdlcz1mdW5jdGlvbigpe3ZhciBlPVtdLHQ7Zm9yKHQgaW4gdGhpcy5fcmFuZ2VzKWUucHVzaCh0aGlzLl9yYW5nZXNbdF0pO3JldHVybiBlfSxpLnByb3RvdHlwZS5iZWdpbkFuaW1hdGlvbj1mdW5jdGlvbihlLHQscixuKXt2YXIgYT10aGlzLmdldEFuaW1hdGlvblJhbmdlKGUpO3JldHVybiBhP3RoaXMuX3NjZW5lLmJlZ2luQW5pbWF0aW9uKHRoaXMsYS5mcm9tLGEudG8sdCxyLG4pOm51bGx9LGkucHJvdG90eXBlLnNlcmlhbGl6ZUFuaW1hdGlvblJhbmdlcz1mdW5jdGlvbigpe3ZhciBlPVtdO2Zvcih2YXIgdCBpbiB0aGlzLl9yYW5nZXMpe3ZhciByPXRoaXMuX3Jhbmdlc1t0XTtpZighIXIpe3ZhciBuPXt9O24ubmFtZT10LG4uZnJvbT1yLmZyb20sbi50bz1yLnRvLGUucHVzaChuKX19cmV0dXJuIGV9LGkucHJvdG90eXBlLmNvbXB1dGVXb3JsZE1hdHJpeD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fd29ybGRNYXRyaXh8fCh0aGlzLl93b3JsZE1hdHJpeD1JLklkZW50aXR5KCkpLHRoaXMuX3dvcmxkTWF0cml4fSxpLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKGUsdCl7aWYodD09PXZvaWQgMCYmKHQ9ITEpLHRoaXMuX25vZGVEYXRhU3RvcmFnZS5faXNEaXNwb3NlZD0hMCwhZSlmb3IodmFyIHI9dGhpcy5nZXREZXNjZW5kYW50cyghMCksbj0wLGE9cjtuPGEubGVuZ3RoO24rKyl7dmFyIHM9YVtuXTtzLmRpc3Bvc2UoZSx0KX10aGlzLnBhcmVudD90aGlzLnBhcmVudD1udWxsOnRoaXMuX3JlbW92ZUZyb21TY2VuZVJvb3ROb2RlcygpLHRoaXMub25EaXNwb3NlT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyksdGhpcy5vbkRpc3Bvc2VPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkVuYWJsZWRTdGF0ZUNoYW5nZWRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkNsb25lZE9ic2VydmFibGUuY2xlYXIoKTtmb3IodmFyIG89MCx1PXRoaXMuX2JlaGF2aW9ycztvPHUubGVuZ3RoO28rKyl7dmFyIGY9dVtvXTtmLmRldGFjaCgpfXRoaXMuX2JlaGF2aW9ycz1bXSx0aGlzLm1ldGFkYXRhPW51bGx9LGkuUGFyc2VBbmltYXRpb25SYW5nZXM9ZnVuY3Rpb24oZSx0LHIpe2lmKHQucmFuZ2VzKWZvcih2YXIgbj0wO248dC5yYW5nZXMubGVuZ3RoO24rKyl7dmFyIGE9dC5yYW5nZXNbbl07ZS5jcmVhdGVBbmltYXRpb25SYW5nZShhLm5hbWUsYS5mcm9tLGEudG8pfX0saS5wcm90b3R5cGUuZ2V0SGllcmFyY2h5Qm91bmRpbmdWZWN0b3JzPWZ1bmN0aW9uKGUsdCl7ZT09PXZvaWQgMCYmKGU9ITApLHQ9PT12b2lkIDAmJih0PW51bGwpLHRoaXMuZ2V0U2NlbmUoKS5pbmNyZW1lbnRSZW5kZXJJZCgpLHRoaXMuY29tcHV0ZVdvcmxkTWF0cml4KCEwKTt2YXIgcixuLGE9dGhpcztpZihhLmdldEJvdW5kaW5nSW5mbyYmYS5zdWJNZXNoZXMpe3ZhciBzPWEuZ2V0Qm91bmRpbmdJbmZvKCk7cj1zLmJvdW5kaW5nQm94Lm1pbmltdW1Xb3JsZC5jbG9uZSgpLG49cy5ib3VuZGluZ0JveC5tYXhpbXVtV29ybGQuY2xvbmUoKX1lbHNlIHI9bmV3IGIoTnVtYmVyLk1BWF9WQUxVRSxOdW1iZXIuTUFYX1ZBTFVFLE51bWJlci5NQVhfVkFMVUUpLG49bmV3IGIoLU51bWJlci5NQVhfVkFMVUUsLU51bWJlci5NQVhfVkFMVUUsLU51bWJlci5NQVhfVkFMVUUpO2lmKGUpZm9yKHZhciBvPXRoaXMuZ2V0RGVzY2VuZGFudHMoITEpLHU9MCxmPW87dTxmLmxlbmd0aDt1Kyspe3ZhciBsPWZbdV0saD1sO2lmKGguY29tcHV0ZVdvcmxkTWF0cml4KCEwKSwhKHQmJiF0KGgpKSYmISghaC5nZXRCb3VuZGluZ0luZm98fGguZ2V0VG90YWxWZXJ0aWNlcygpPT09MCkpe3ZhciBjPWguZ2V0Qm91bmRpbmdJbmZvKCksZD1jLmJvdW5kaW5nQm94LHA9ZC5taW5pbXVtV29ybGQsZz1kLm1heGltdW1Xb3JsZDtiLkNoZWNrRXh0ZW5kcyhwLHIsbiksYi5DaGVja0V4dGVuZHMoZyxyLG4pfX1yZXR1cm57bWluOnIsbWF4Om59fSxpLl9BbmltYXRpb25SYW5nZUZhY3Rvcnk9ZnVuY3Rpb24oZSx0LHIpe3Rocm93IFgoIkFuaW1hdGlvblJhbmdlIil9LGkuX05vZGVDb25zdHJ1Y3RvcnM9e30sVChbUCgpXSxpLnByb3RvdHlwZSwibmFtZSIsdm9pZCAwKSxUKFtQKCldLGkucHJvdG90eXBlLCJpZCIsdm9pZCAwKSxUKFtQKCldLGkucHJvdG90eXBlLCJ1bmlxdWVJZCIsdm9pZCAwKSxUKFtQKCldLGkucHJvdG90eXBlLCJzdGF0ZSIsdm9pZCAwKSxUKFtQKCldLGkucHJvdG90eXBlLCJtZXRhZGF0YSIsdm9pZCAwKSxpfSgpLGdlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaSgpe3RoaXMuX2FwcGx5VG89U2EodGhpcy5fYXBwbHlUb0Nvcm91dGluZS5iaW5kKHRoaXMpKX1yZXR1cm4gaS5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKGUsdCl7c3dpdGNoKGUubGVuZ3RofHxXLldhcm4oIlNldHRpbmcgdmVydGV4IGRhdGEga2luZCAnIi5jb25jYXQodCwiJyB3aXRoIGFuIGVtcHR5IGFycmF5IikpLHQpe2Nhc2UgbS5Qb3NpdGlvbktpbmQ6dGhpcy5wb3NpdGlvbnM9ZTticmVhaztjYXNlIG0uTm9ybWFsS2luZDp0aGlzLm5vcm1hbHM9ZTticmVhaztjYXNlIG0uVGFuZ2VudEtpbmQ6dGhpcy50YW5nZW50cz1lO2JyZWFrO2Nhc2UgbS5VVktpbmQ6dGhpcy51dnM9ZTticmVhaztjYXNlIG0uVVYyS2luZDp0aGlzLnV2czI9ZTticmVhaztjYXNlIG0uVVYzS2luZDp0aGlzLnV2czM9ZTticmVhaztjYXNlIG0uVVY0S2luZDp0aGlzLnV2czQ9ZTticmVhaztjYXNlIG0uVVY1S2luZDp0aGlzLnV2czU9ZTticmVhaztjYXNlIG0uVVY2S2luZDp0aGlzLnV2czY9ZTticmVhaztjYXNlIG0uQ29sb3JLaW5kOnRoaXMuY29sb3JzPWU7YnJlYWs7Y2FzZSBtLk1hdHJpY2VzSW5kaWNlc0tpbmQ6dGhpcy5tYXRyaWNlc0luZGljZXM9ZTticmVhaztjYXNlIG0uTWF0cmljZXNXZWlnaHRzS2luZDp0aGlzLm1hdHJpY2VzV2VpZ2h0cz1lO2JyZWFrO2Nhc2UgbS5NYXRyaWNlc0luZGljZXNFeHRyYUtpbmQ6dGhpcy5tYXRyaWNlc0luZGljZXNFeHRyYT1lO2JyZWFrO2Nhc2UgbS5NYXRyaWNlc1dlaWdodHNFeHRyYUtpbmQ6dGhpcy5tYXRyaWNlc1dlaWdodHNFeHRyYT1lO2JyZWFrfX0saS5wcm90b3R5cGUuYXBwbHlUb01lc2g9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5fYXBwbHlUbyhlLHQsITEpLHRoaXN9LGkucHJvdG90eXBlLmFwcGx5VG9HZW9tZXRyeT1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLl9hcHBseVRvKGUsdCwhMSksdGhpc30saS5wcm90b3R5cGUudXBkYXRlTWVzaD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fdXBkYXRlKGUpLHRoaXN9LGkucHJvdG90eXBlLnVwZGF0ZUdlb21ldHJ5PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl91cGRhdGUoZSksdGhpc30saS5wcm90b3R5cGUuX2FwcGx5VG9Db3JvdXRpbmU9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiB0PT09dm9pZCAwJiYodD0hMSksd3QodGhpcyxmdW5jdGlvbihuKXtzd2l0Y2gobi5sYWJlbCl7Y2FzZSAwOnJldHVybiB0aGlzLnBvc2l0aW9ucz8oZS5zZXRWZXJ0aWNlc0RhdGEobS5Qb3NpdGlvbktpbmQsdGhpcy5wb3NpdGlvbnMsdCkscj9bNF06WzMsMl0pOlszLDJdO2Nhc2UgMTpuLnNlbnQoKSxuLmxhYmVsPTI7Y2FzZSAyOnJldHVybiB0aGlzLm5vcm1hbHM/KGUuc2V0VmVydGljZXNEYXRhKG0uTm9ybWFsS2luZCx0aGlzLm5vcm1hbHMsdCkscj9bNF06WzMsNF0pOlszLDRdO2Nhc2UgMzpuLnNlbnQoKSxuLmxhYmVsPTQ7Y2FzZSA0OnJldHVybiB0aGlzLnRhbmdlbnRzPyhlLnNldFZlcnRpY2VzRGF0YShtLlRhbmdlbnRLaW5kLHRoaXMudGFuZ2VudHMsdCkscj9bNF06WzMsNl0pOlszLDZdO2Nhc2UgNTpuLnNlbnQoKSxuLmxhYmVsPTY7Y2FzZSA2OnJldHVybiB0aGlzLnV2cz8oZS5zZXRWZXJ0aWNlc0RhdGEobS5VVktpbmQsdGhpcy51dnMsdCkscj9bNF06WzMsOF0pOlszLDhdO2Nhc2UgNzpuLnNlbnQoKSxuLmxhYmVsPTg7Y2FzZSA4OnJldHVybiB0aGlzLnV2czI/KGUuc2V0VmVydGljZXNEYXRhKG0uVVYyS2luZCx0aGlzLnV2czIsdCkscj9bNF06WzMsMTBdKTpbMywxMF07Y2FzZSA5Om4uc2VudCgpLG4ubGFiZWw9MTA7Y2FzZSAxMDpyZXR1cm4gdGhpcy51dnMzPyhlLnNldFZlcnRpY2VzRGF0YShtLlVWM0tpbmQsdGhpcy51dnMzLHQpLHI/WzRdOlszLDEyXSk6WzMsMTJdO2Nhc2UgMTE6bi5zZW50KCksbi5sYWJlbD0xMjtjYXNlIDEyOnJldHVybiB0aGlzLnV2czQ/KGUuc2V0VmVydGljZXNEYXRhKG0uVVY0S2luZCx0aGlzLnV2czQsdCkscj9bNF06WzMsMTRdKTpbMywxNF07Y2FzZSAxMzpuLnNlbnQoKSxuLmxhYmVsPTE0O2Nhc2UgMTQ6cmV0dXJuIHRoaXMudXZzNT8oZS5zZXRWZXJ0aWNlc0RhdGEobS5VVjVLaW5kLHRoaXMudXZzNSx0KSxyP1s0XTpbMywxNl0pOlszLDE2XTtjYXNlIDE1Om4uc2VudCgpLG4ubGFiZWw9MTY7Y2FzZSAxNjpyZXR1cm4gdGhpcy51dnM2PyhlLnNldFZlcnRpY2VzRGF0YShtLlVWNktpbmQsdGhpcy51dnM2LHQpLHI/WzRdOlszLDE4XSk6WzMsMThdO2Nhc2UgMTc6bi5zZW50KCksbi5sYWJlbD0xODtjYXNlIDE4OnJldHVybiB0aGlzLmNvbG9ycz8oZS5zZXRWZXJ0aWNlc0RhdGEobS5Db2xvcktpbmQsdGhpcy5jb2xvcnMsdCkscj9bNF06WzMsMjBdKTpbMywyMF07Y2FzZSAxOTpuLnNlbnQoKSxuLmxhYmVsPTIwO2Nhc2UgMjA6cmV0dXJuIHRoaXMubWF0cmljZXNJbmRpY2VzPyhlLnNldFZlcnRpY2VzRGF0YShtLk1hdHJpY2VzSW5kaWNlc0tpbmQsdGhpcy5tYXRyaWNlc0luZGljZXMsdCkscj9bNF06WzMsMjJdKTpbMywyMl07Y2FzZSAyMTpuLnNlbnQoKSxuLmxhYmVsPTIyO2Nhc2UgMjI6cmV0dXJuIHRoaXMubWF0cmljZXNXZWlnaHRzPyhlLnNldFZlcnRpY2VzRGF0YShtLk1hdHJpY2VzV2VpZ2h0c0tpbmQsdGhpcy5tYXRyaWNlc1dlaWdodHMsdCkscj9bNF06WzMsMjRdKTpbMywyNF07Y2FzZSAyMzpuLnNlbnQoKSxuLmxhYmVsPTI0O2Nhc2UgMjQ6cmV0dXJuIHRoaXMubWF0cmljZXNJbmRpY2VzRXh0cmE/KGUuc2V0VmVydGljZXNEYXRhKG0uTWF0cmljZXNJbmRpY2VzRXh0cmFLaW5kLHRoaXMubWF0cmljZXNJbmRpY2VzRXh0cmEsdCkscj9bNF06WzMsMjZdKTpbMywyNl07Y2FzZSAyNTpuLnNlbnQoKSxuLmxhYmVsPTI2O2Nhc2UgMjY6cmV0dXJuIHRoaXMubWF0cmljZXNXZWlnaHRzRXh0cmE/KGUuc2V0VmVydGljZXNEYXRhKG0uTWF0cmljZXNXZWlnaHRzRXh0cmFLaW5kLHRoaXMubWF0cmljZXNXZWlnaHRzRXh0cmEsdCkscj9bNF06WzMsMjhdKTpbMywyOF07Y2FzZSAyNzpuLnNlbnQoKSxuLmxhYmVsPTI4O2Nhc2UgMjg6cmV0dXJuIHRoaXMuaW5kaWNlcz8oZS5zZXRJbmRpY2VzKHRoaXMuaW5kaWNlcyxudWxsLHQpLHI/WzRdOlszLDMwXSk6WzMsMzFdO2Nhc2UgMjk6bi5zZW50KCksbi5sYWJlbD0zMDtjYXNlIDMwOnJldHVyblszLDMyXTtjYXNlIDMxOmUuc2V0SW5kaWNlcyhbXSxudWxsKSxuLmxhYmVsPTMyO2Nhc2UgMzI6cmV0dXJuWzIsdGhpc119fSl9LGkucHJvdG90eXBlLl91cGRhdGU9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiB0aGlzLnBvc2l0aW9ucyYmZS51cGRhdGVWZXJ0aWNlc0RhdGEobS5Qb3NpdGlvbktpbmQsdGhpcy5wb3NpdGlvbnMsdCxyKSx0aGlzLm5vcm1hbHMmJmUudXBkYXRlVmVydGljZXNEYXRhKG0uTm9ybWFsS2luZCx0aGlzLm5vcm1hbHMsdCxyKSx0aGlzLnRhbmdlbnRzJiZlLnVwZGF0ZVZlcnRpY2VzRGF0YShtLlRhbmdlbnRLaW5kLHRoaXMudGFuZ2VudHMsdCxyKSx0aGlzLnV2cyYmZS51cGRhdGVWZXJ0aWNlc0RhdGEobS5VVktpbmQsdGhpcy51dnMsdCxyKSx0aGlzLnV2czImJmUudXBkYXRlVmVydGljZXNEYXRhKG0uVVYyS2luZCx0aGlzLnV2czIsdCxyKSx0aGlzLnV2czMmJmUudXBkYXRlVmVydGljZXNEYXRhKG0uVVYzS2luZCx0aGlzLnV2czMsdCxyKSx0aGlzLnV2czQmJmUudXBkYXRlVmVydGljZXNEYXRhKG0uVVY0S2luZCx0aGlzLnV2czQsdCxyKSx0aGlzLnV2czUmJmUudXBkYXRlVmVydGljZXNEYXRhKG0uVVY1S2luZCx0aGlzLnV2czUsdCxyKSx0aGlzLnV2czYmJmUudXBkYXRlVmVydGljZXNEYXRhKG0uVVY2S2luZCx0aGlzLnV2czYsdCxyKSx0aGlzLmNvbG9ycyYmZS51cGRhdGVWZXJ0aWNlc0RhdGEobS5Db2xvcktpbmQsdGhpcy5jb2xvcnMsdCxyKSx0aGlzLm1hdHJpY2VzSW5kaWNlcyYmZS51cGRhdGVWZXJ0aWNlc0RhdGEobS5NYXRyaWNlc0luZGljZXNLaW5kLHRoaXMubWF0cmljZXNJbmRpY2VzLHQsciksdGhpcy5tYXRyaWNlc1dlaWdodHMmJmUudXBkYXRlVmVydGljZXNEYXRhKG0uTWF0cmljZXNXZWlnaHRzS2luZCx0aGlzLm1hdHJpY2VzV2VpZ2h0cyx0LHIpLHRoaXMubWF0cmljZXNJbmRpY2VzRXh0cmEmJmUudXBkYXRlVmVydGljZXNEYXRhKG0uTWF0cmljZXNJbmRpY2VzRXh0cmFLaW5kLHRoaXMubWF0cmljZXNJbmRpY2VzRXh0cmEsdCxyKSx0aGlzLm1hdHJpY2VzV2VpZ2h0c0V4dHJhJiZlLnVwZGF0ZVZlcnRpY2VzRGF0YShtLk1hdHJpY2VzV2VpZ2h0c0V4dHJhS2luZCx0aGlzLm1hdHJpY2VzV2VpZ2h0c0V4dHJhLHQsciksdGhpcy5pbmRpY2VzJiZlLnNldEluZGljZXModGhpcy5pbmRpY2VzLG51bGwpLHRoaXN9LGkuX1RyYW5zZm9ybVZlY3RvcjNDb29yZGluYXRlcz1mdW5jdGlvbihlLHQscixuKXtyPT09dm9pZCAwJiYocj0wKSxuPT09dm9pZCAwJiYobj1lLmxlbmd0aCk7Zm9yKHZhciBhPUQuVmVjdG9yM1swXSxzPUQuVmVjdG9yM1sxXSxvPXI7bzxyK247bys9MyliLkZyb21BcnJheVRvUmVmKGUsbyxhKSxiLlRyYW5zZm9ybUNvb3JkaW5hdGVzVG9SZWYoYSx0LHMpLGVbb109cy54LGVbbysxXT1zLnksZVtvKzJdPXMuen0saS5fVHJhbnNmb3JtVmVjdG9yM05vcm1hbHM9ZnVuY3Rpb24oZSx0LHIsbil7cj09PXZvaWQgMCYmKHI9MCksbj09PXZvaWQgMCYmKG49ZS5sZW5ndGgpO2Zvcih2YXIgYT1ELlZlY3RvcjNbMF0scz1ELlZlY3RvcjNbMV0sbz1yO288cituO28rPTMpYi5Gcm9tQXJyYXlUb1JlZihlLG8sYSksYi5UcmFuc2Zvcm1Ob3JtYWxUb1JlZihhLHQscyksZVtvXT1zLngsZVtvKzFdPXMueSxlW28rMl09cy56fSxpLl9UcmFuc2Zvcm1WZWN0b3I0Tm9ybWFscz1mdW5jdGlvbihlLHQscixuKXtyPT09dm9pZCAwJiYocj0wKSxuPT09dm9pZCAwJiYobj1lLmxlbmd0aCk7Zm9yKHZhciBhPUQuVmVjdG9yNFswXSxzPUQuVmVjdG9yNFsxXSxvPXI7bzxyK247bys9NCl5dC5Gcm9tQXJyYXlUb1JlZihlLG8sYSkseXQuVHJhbnNmb3JtTm9ybWFsVG9SZWYoYSx0LHMpLGVbb109cy54LGVbbysxXT1zLnksZVtvKzJdPXMueixlW28rM109cy53fSxpLl9GbGlwRmFjZXM9ZnVuY3Rpb24oZSx0LHIpe3Q9PT12b2lkIDAmJih0PTApLHI9PT12b2lkIDAmJihyPWUubGVuZ3RoKTtmb3IodmFyIG49dDtuPHQrcjtuKz0zKXt2YXIgYT1lW24rMV07ZVtuKzFdPWVbbisyXSxlW24rMl09YX19LGkucHJvdG90eXBlLnRyYW5zZm9ybT1mdW5jdGlvbihlKXt2YXIgdD1lLmRldGVybWluYW50KCk8MDtyZXR1cm4gdGhpcy5wb3NpdGlvbnMmJmkuX1RyYW5zZm9ybVZlY3RvcjNDb29yZGluYXRlcyh0aGlzLnBvc2l0aW9ucyxlKSx0aGlzLm5vcm1hbHMmJmkuX1RyYW5zZm9ybVZlY3RvcjNOb3JtYWxzKHRoaXMubm9ybWFscyxlKSx0aGlzLnRhbmdlbnRzJiZpLl9UcmFuc2Zvcm1WZWN0b3I0Tm9ybWFscyh0aGlzLnRhbmdlbnRzLGUpLHQmJnRoaXMuaW5kaWNlcyYmaS5fRmxpcEZhY2VzKHRoaXMuaW5kaWNlcyksdGhpc30saS5wcm90b3R5cGUubWVyZ2U9ZnVuY3Rpb24oZSx0LHIpe3Q9PT12b2lkIDAmJih0PSExKSxyPT09dm9pZCAwJiYocj0hMSk7dmFyIG49QXJyYXkuaXNBcnJheShlKT9lLm1hcChmdW5jdGlvbihhKXtyZXR1cm5bYSx2b2lkIDBdfSk6W1tlLHZvaWQgMF1dO3JldHVybiBlaSh0aGlzLl9tZXJnZUNvcm91dGluZSh2b2lkIDAsbix0LCExLHIpKX0saS5wcm90b3R5cGUuX21lcmdlQ29yb3V0aW5lPWZ1bmN0aW9uKGUsdCxyLG4sYSl7dmFyIHMsbyx1LHksZixsLGgsYyxkLHAsZyxfLHYseSxFLFIsTT10aGlzLEMsQSxTLHc7cmV0dXJuIHI9PT12b2lkIDAmJihyPSExKSx3dCh0aGlzLGZ1bmN0aW9uKEYpe3N3aXRjaChGLmxhYmVsKXtjYXNlIDA6Zm9yKHRoaXMuX3ZhbGlkYXRlKCkscz10Lm1hcChmdW5jdGlvbih4KXtyZXR1cm4geFswXX0pLG89MCx1PXM7bzx1Lmxlbmd0aDtvKyspaWYoeT11W29dLHkuX3ZhbGlkYXRlKCksIXRoaXMubm9ybWFscyE9IXkubm9ybWFsc3x8IXRoaXMudGFuZ2VudHMhPSF5LnRhbmdlbnRzfHwhdGhpcy51dnMhPSF5LnV2c3x8IXRoaXMudXZzMiE9IXkudXZzMnx8IXRoaXMudXZzMyE9IXkudXZzM3x8IXRoaXMudXZzNCE9IXkudXZzNHx8IXRoaXMudXZzNSE9IXkudXZzNXx8IXRoaXMudXZzNiE9IXkudXZzNnx8IXRoaXMuY29sb3JzIT0heS5jb2xvcnN8fCF0aGlzLm1hdHJpY2VzSW5kaWNlcyE9IXkubWF0cmljZXNJbmRpY2VzfHwhdGhpcy5tYXRyaWNlc1dlaWdodHMhPSF5Lm1hdHJpY2VzV2VpZ2h0c3x8IXRoaXMubWF0cmljZXNJbmRpY2VzRXh0cmEhPSF5Lm1hdHJpY2VzSW5kaWNlc0V4dHJhfHwhdGhpcy5tYXRyaWNlc1dlaWdodHNFeHRyYSE9IXkubWF0cmljZXNXZWlnaHRzRXh0cmEpdGhyb3cgbmV3IEVycm9yKCJDYW5ub3QgbWVyZ2UgdmVydGV4IGRhdGEgdGhhdCBkbyBub3QgaGF2ZSB0aGUgc2FtZSBzZXQgb2YgYXR0cmlidXRlcyIpO2lmKGY9cy5yZWR1Y2UoZnVuY3Rpb24oeCxHKXt2YXIgeixOO3JldHVybiB4KygoTj0oej1HLmluZGljZXMpPT09bnVsbHx8ej09PXZvaWQgMD92b2lkIDA6ei5sZW5ndGgpIT09bnVsbCYmTiE9PXZvaWQgMD9OOjApfSwoQT0oQz10aGlzLmluZGljZXMpPT09bnVsbHx8Qz09PXZvaWQgMD92b2lkIDA6Qy5sZW5ndGgpIT09bnVsbCYmQSE9PXZvaWQgMD9BOjApLGw9YXx8cy5zb21lKGZ1bmN0aW9uKHgpe3JldHVybiB4LmluZGljZXM9PT1NLmluZGljZXN9KSxoPWw/KFM9dGhpcy5pbmRpY2VzKT09PW51bGx8fFM9PT12b2lkIDA/dm9pZCAwOlMuc2xpY2UoKTp0aGlzLmluZGljZXMsIShmPjApKXJldHVyblszLDRdO2M9KHc9aD09bnVsbD92b2lkIDA6aC5sZW5ndGgpIT09bnVsbCYmdyE9PXZvaWQgMD93OjAsaHx8KGg9bmV3IEFycmF5KGYpKSxoLmxlbmd0aCE9PWYmJihBcnJheS5pc0FycmF5KGgpP2gubGVuZ3RoPWY6KGQ9cnx8aCBpbnN0YW5jZW9mIFVpbnQzMkFycmF5P25ldyBVaW50MzJBcnJheShmKTpuZXcgVWludDE2QXJyYXkoZiksZC5zZXQoaCksaD1kKSxlJiZlLmRldGVybWluYW50KCk8MCYmaS5fRmxpcEZhY2VzKGgsMCxjKSkscD10aGlzLnBvc2l0aW9ucz90aGlzLnBvc2l0aW9ucy5sZW5ndGgvMzowLGc9MCxfPXQsRi5sYWJlbD0xO2Nhc2UgMTppZighKGc8Xy5sZW5ndGgpKXJldHVyblszLDRdO2lmKHY9X1tnXSx5PXZbMF0sRT12WzFdLCF5LmluZGljZXMpcmV0dXJuWzMsM107Zm9yKFI9MDtSPHkuaW5kaWNlcy5sZW5ndGg7UisrKWhbYytSXT15LmluZGljZXNbUl0rcDtyZXR1cm4gRSYmRS5kZXRlcm1pbmFudCgpPDAmJmkuX0ZsaXBGYWNlcyhoLGMseS5pbmRpY2VzLmxlbmd0aCkscCs9eS5wb3NpdGlvbnMubGVuZ3RoLzMsYys9eS5pbmRpY2VzLmxlbmd0aCxuP1s0XTpbMywzXTtjYXNlIDI6Ri5zZW50KCksRi5sYWJlbD0zO2Nhc2UgMzpyZXR1cm4gZysrLFszLDFdO2Nhc2UgNDpyZXR1cm4gdGhpcy5pbmRpY2VzPWgsdGhpcy5wb3NpdGlvbnM9aS5fTWVyZ2VFbGVtZW50KG0uUG9zaXRpb25LaW5kLHRoaXMucG9zaXRpb25zLGUsdC5tYXAoZnVuY3Rpb24oeCl7cmV0dXJuW3hbMF0ucG9zaXRpb25zLHhbMV1dfSkpLG4/WzRdOlszLDZdO2Nhc2UgNTpGLnNlbnQoKSxGLmxhYmVsPTY7Y2FzZSA2OnJldHVybiB0aGlzLm5vcm1hbHM9aS5fTWVyZ2VFbGVtZW50KG0uTm9ybWFsS2luZCx0aGlzLm5vcm1hbHMsZSx0Lm1hcChmdW5jdGlvbih4KXtyZXR1cm5beFswXS5ub3JtYWxzLHhbMV1dfSkpLG4/WzRdOlszLDhdO2Nhc2UgNzpGLnNlbnQoKSxGLmxhYmVsPTg7Y2FzZSA4OnJldHVybiB0aGlzLnRhbmdlbnRzPWkuX01lcmdlRWxlbWVudChtLlRhbmdlbnRLaW5kLHRoaXMudGFuZ2VudHMsZSx0Lm1hcChmdW5jdGlvbih4KXtyZXR1cm5beFswXS50YW5nZW50cyx4WzFdXX0pKSxuP1s0XTpbMywxMF07Y2FzZSA5OkYuc2VudCgpLEYubGFiZWw9MTA7Y2FzZSAxMDpyZXR1cm4gdGhpcy51dnM9aS5fTWVyZ2VFbGVtZW50KG0uVVZLaW5kLHRoaXMudXZzLGUsdC5tYXAoZnVuY3Rpb24oeCl7cmV0dXJuW3hbMF0udXZzLHhbMV1dfSkpLG4/WzRdOlszLDEyXTtjYXNlIDExOkYuc2VudCgpLEYubGFiZWw9MTI7Y2FzZSAxMjpyZXR1cm4gdGhpcy51dnMyPWkuX01lcmdlRWxlbWVudChtLlVWMktpbmQsdGhpcy51dnMyLGUsdC5tYXAoZnVuY3Rpb24oeCl7cmV0dXJuW3hbMF0udXZzMix4WzFdXX0pKSxuP1s0XTpbMywxNF07Y2FzZSAxMzpGLnNlbnQoKSxGLmxhYmVsPTE0O2Nhc2UgMTQ6cmV0dXJuIHRoaXMudXZzMz1pLl9NZXJnZUVsZW1lbnQobS5VVjNLaW5kLHRoaXMudXZzMyxlLHQubWFwKGZ1bmN0aW9uKHgpe3JldHVyblt4WzBdLnV2czMseFsxXV19KSksbj9bNF06WzMsMTZdO2Nhc2UgMTU6Ri5zZW50KCksRi5sYWJlbD0xNjtjYXNlIDE2OnJldHVybiB0aGlzLnV2czQ9aS5fTWVyZ2VFbGVtZW50KG0uVVY0S2luZCx0aGlzLnV2czQsZSx0Lm1hcChmdW5jdGlvbih4KXtyZXR1cm5beFswXS51dnM0LHhbMV1dfSkpLG4/WzRdOlszLDE4XTtjYXNlIDE3OkYuc2VudCgpLEYubGFiZWw9MTg7Y2FzZSAxODpyZXR1cm4gdGhpcy51dnM1PWkuX01lcmdlRWxlbWVudChtLlVWNUtpbmQsdGhpcy51dnM1LGUsdC5tYXAoZnVuY3Rpb24oeCl7cmV0dXJuW3hbMF0udXZzNSx4WzFdXX0pKSxuP1s0XTpbMywyMF07Y2FzZSAxOTpGLnNlbnQoKSxGLmxhYmVsPTIwO2Nhc2UgMjA6cmV0dXJuIHRoaXMudXZzNj1pLl9NZXJnZUVsZW1lbnQobS5VVjZLaW5kLHRoaXMudXZzNixlLHQubWFwKGZ1bmN0aW9uKHgpe3JldHVyblt4WzBdLnV2czYseFsxXV19KSksbj9bNF06WzMsMjJdO2Nhc2UgMjE6Ri5zZW50KCksRi5sYWJlbD0yMjtjYXNlIDIyOnJldHVybiB0aGlzLmNvbG9ycz1pLl9NZXJnZUVsZW1lbnQobS5Db2xvcktpbmQsdGhpcy5jb2xvcnMsZSx0Lm1hcChmdW5jdGlvbih4KXtyZXR1cm5beFswXS5jb2xvcnMseFsxXV19KSksbj9bNF06WzMsMjRdO2Nhc2UgMjM6Ri5zZW50KCksRi5sYWJlbD0yNDtjYXNlIDI0OnJldHVybiB0aGlzLm1hdHJpY2VzSW5kaWNlcz1pLl9NZXJnZUVsZW1lbnQobS5NYXRyaWNlc0luZGljZXNLaW5kLHRoaXMubWF0cmljZXNJbmRpY2VzLGUsdC5tYXAoZnVuY3Rpb24oeCl7cmV0dXJuW3hbMF0ubWF0cmljZXNJbmRpY2VzLHhbMV1dfSkpLG4/WzRdOlszLDI2XTtjYXNlIDI1OkYuc2VudCgpLEYubGFiZWw9MjY7Y2FzZSAyNjpyZXR1cm4gdGhpcy5tYXRyaWNlc1dlaWdodHM9aS5fTWVyZ2VFbGVtZW50KG0uTWF0cmljZXNXZWlnaHRzS2luZCx0aGlzLm1hdHJpY2VzV2VpZ2h0cyxlLHQubWFwKGZ1bmN0aW9uKHgpe3JldHVyblt4WzBdLm1hdHJpY2VzV2VpZ2h0cyx4WzFdXX0pKSxuP1s0XTpbMywyOF07Y2FzZSAyNzpGLnNlbnQoKSxGLmxhYmVsPTI4O2Nhc2UgMjg6cmV0dXJuIHRoaXMubWF0cmljZXNJbmRpY2VzRXh0cmE9aS5fTWVyZ2VFbGVtZW50KG0uTWF0cmljZXNJbmRpY2VzRXh0cmFLaW5kLHRoaXMubWF0cmljZXNJbmRpY2VzRXh0cmEsZSx0Lm1hcChmdW5jdGlvbih4KXtyZXR1cm5beFswXS5tYXRyaWNlc0luZGljZXNFeHRyYSx4WzFdXX0pKSxuP1s0XTpbMywzMF07Y2FzZSAyOTpGLnNlbnQoKSxGLmxhYmVsPTMwO2Nhc2UgMzA6cmV0dXJuIHRoaXMubWF0cmljZXNXZWlnaHRzRXh0cmE9aS5fTWVyZ2VFbGVtZW50KG0uTWF0cmljZXNXZWlnaHRzRXh0cmFLaW5kLHRoaXMubWF0cmljZXNXZWlnaHRzRXh0cmEsZSx0Lm1hcChmdW5jdGlvbih4KXtyZXR1cm5beFswXS5tYXRyaWNlc1dlaWdodHNFeHRyYSx4WzFdXX0pKSxbMix0aGlzXX19KX0saS5fTWVyZ2VFbGVtZW50PWZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBhPW4uZmlsdGVyKGZ1bmN0aW9uKE0pe3JldHVybiBNWzBdIT09bnVsbCYmTVswXSE9PXZvaWQgMH0pO2lmKCF0JiZhLmxlbmd0aD09MClyZXR1cm4gdDtpZighdClyZXR1cm4gdGhpcy5fTWVyZ2VFbGVtZW50KGUsYVswXVswXSxhWzBdWzFdLGEuc2xpY2UoMSkpO3ZhciBzPWEucmVkdWNlKGZ1bmN0aW9uKE0sQyl7cmV0dXJuIE0rQ1swXS5sZW5ndGh9LHQubGVuZ3RoKSxvPWU9PT1tLlBvc2l0aW9uS2luZD9pLl9UcmFuc2Zvcm1WZWN0b3IzQ29vcmRpbmF0ZXM6ZT09PW0uTm9ybWFsS2luZD9pLl9UcmFuc2Zvcm1WZWN0b3IzTm9ybWFsczplPT09bS5UYW5nZW50S2luZD9pLl9UcmFuc2Zvcm1WZWN0b3I0Tm9ybWFsczpmdW5jdGlvbigpe307aWYodCBpbnN0YW5jZW9mIEZsb2F0MzJBcnJheSl7dmFyIHU9bmV3IEZsb2F0MzJBcnJheShzKTt1LnNldCh0KSxyJiZvKHUsciwwLHQubGVuZ3RoKTtmb3IodmFyIGY9dC5sZW5ndGgsbD0wLGg9YTtsPGgubGVuZ3RoO2wrKyl7dmFyIGM9aFtsXSxkPWNbMF0scD1jWzFdO3Uuc2V0KGQsZikscCYmbyh1LHAsZixkLmxlbmd0aCksZis9ZC5sZW5ndGh9cmV0dXJuIHV9ZWxzZXtmb3IodmFyIGc9bmV3IEFycmF5KHMpLF89MDtfPHQubGVuZ3RoO18rKylnW19dPXRbX107ciYmbyhnLHIsMCx0Lmxlbmd0aCk7Zm9yKHZhciBmPXQubGVuZ3RoLHY9MCx5PWE7djx5Lmxlbmd0aDt2Kyspe2Zvcih2YXIgRT15W3ZdLGQ9RVswXSxSPUVbMV0sXz0wO188ZC5sZW5ndGg7XysrKWdbZitfXT1kW19dO1ImJm8oZyxSLGYsZC5sZW5ndGgpLGYrPWQubGVuZ3RofXJldHVybiBnfX0saS5wcm90b3R5cGUuX3ZhbGlkYXRlPWZ1bmN0aW9uKCl7aWYoIXRoaXMucG9zaXRpb25zKXRocm93IG5ldyBEdCgiUG9zaXRpb25zIGFyZSByZXF1aXJlZCIseHQuTWVzaEludmFsaWRQb3NpdGlvbnNFcnJvcik7dmFyIGU9ZnVuY3Rpb24obixhKXt2YXIgcz1tLkRlZHVjZVN0cmlkZShuKTtpZihhLmxlbmd0aCVzIT09MCl0aHJvdyBuZXcgRXJyb3IoIlRoZSAiK24rInMgYXJyYXkgY291bnQgbXVzdCBiZSBhIG11bHRpcGxlIG9mICIrcyk7cmV0dXJuIGEubGVuZ3RoL3N9LHQ9ZShtLlBvc2l0aW9uS2luZCx0aGlzLnBvc2l0aW9ucykscj1mdW5jdGlvbihuLGEpe3ZhciBzPWUobixhKTtpZihzIT09dCl0aHJvdyBuZXcgRXJyb3IoIlRoZSAiK24rInMgZWxlbWVudCBjb3VudCAoIitzKyIpIGRvZXMgbm90IG1hdGNoIHRoZSBwb3NpdGlvbnMgY291bnQgKCIrdCsiKSIpfTt0aGlzLm5vcm1hbHMmJnIobS5Ob3JtYWxLaW5kLHRoaXMubm9ybWFscyksdGhpcy50YW5nZW50cyYmcihtLlRhbmdlbnRLaW5kLHRoaXMudGFuZ2VudHMpLHRoaXMudXZzJiZyKG0uVVZLaW5kLHRoaXMudXZzKSx0aGlzLnV2czImJnIobS5VVjJLaW5kLHRoaXMudXZzMiksdGhpcy51dnMzJiZyKG0uVVYzS2luZCx0aGlzLnV2czMpLHRoaXMudXZzNCYmcihtLlVWNEtpbmQsdGhpcy51dnM0KSx0aGlzLnV2czUmJnIobS5VVjVLaW5kLHRoaXMudXZzNSksdGhpcy51dnM2JiZyKG0uVVY2S2luZCx0aGlzLnV2czYpLHRoaXMuY29sb3JzJiZyKG0uQ29sb3JLaW5kLHRoaXMuY29sb3JzKSx0aGlzLm1hdHJpY2VzSW5kaWNlcyYmcihtLk1hdHJpY2VzSW5kaWNlc0tpbmQsdGhpcy5tYXRyaWNlc0luZGljZXMpLHRoaXMubWF0cmljZXNXZWlnaHRzJiZyKG0uTWF0cmljZXNXZWlnaHRzS2luZCx0aGlzLm1hdHJpY2VzV2VpZ2h0cyksdGhpcy5tYXRyaWNlc0luZGljZXNFeHRyYSYmcihtLk1hdHJpY2VzSW5kaWNlc0V4dHJhS2luZCx0aGlzLm1hdHJpY2VzSW5kaWNlc0V4dHJhKSx0aGlzLm1hdHJpY2VzV2VpZ2h0c0V4dHJhJiZyKG0uTWF0cmljZXNXZWlnaHRzRXh0cmFLaW5kLHRoaXMubWF0cmljZXNXZWlnaHRzRXh0cmEpfSxpLnByb3RvdHlwZS5zZXJpYWxpemU9ZnVuY3Rpb24oKXt2YXIgZT17fTtyZXR1cm4gdGhpcy5wb3NpdGlvbnMmJihlLnBvc2l0aW9ucz10aGlzLnBvc2l0aW9ucyksdGhpcy5ub3JtYWxzJiYoZS5ub3JtYWxzPXRoaXMubm9ybWFscyksdGhpcy50YW5nZW50cyYmKGUudGFuZ2VudHM9dGhpcy50YW5nZW50cyksdGhpcy51dnMmJihlLnV2cz10aGlzLnV2cyksdGhpcy51dnMyJiYoZS51dnMyPXRoaXMudXZzMiksdGhpcy51dnMzJiYoZS51dnMzPXRoaXMudXZzMyksdGhpcy51dnM0JiYoZS51dnM0PXRoaXMudXZzNCksdGhpcy51dnM1JiYoZS51dnM1PXRoaXMudXZzNSksdGhpcy51dnM2JiYoZS51dnM2PXRoaXMudXZzNiksdGhpcy5jb2xvcnMmJihlLmNvbG9ycz10aGlzLmNvbG9ycyksdGhpcy5tYXRyaWNlc0luZGljZXMmJihlLm1hdHJpY2VzSW5kaWNlcz10aGlzLm1hdHJpY2VzSW5kaWNlcyxlLm1hdHJpY2VzSW5kaWNlcy5faXNFeHBhbmRlZD0hMCksdGhpcy5tYXRyaWNlc1dlaWdodHMmJihlLm1hdHJpY2VzV2VpZ2h0cz10aGlzLm1hdHJpY2VzV2VpZ2h0cyksdGhpcy5tYXRyaWNlc0luZGljZXNFeHRyYSYmKGUubWF0cmljZXNJbmRpY2VzRXh0cmE9dGhpcy5tYXRyaWNlc0luZGljZXNFeHRyYSxlLm1hdHJpY2VzSW5kaWNlc0V4dHJhLl9pc0V4cGFuZGVkPSEwKSx0aGlzLm1hdHJpY2VzV2VpZ2h0c0V4dHJhJiYoZS5tYXRyaWNlc1dlaWdodHNFeHRyYT10aGlzLm1hdHJpY2VzV2VpZ2h0c0V4dHJhKSxlLmluZGljZXM9dGhpcy5pbmRpY2VzLGV9LGkuRXh0cmFjdEZyb21NZXNoPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gaS5fRXh0cmFjdEZyb20oZSx0LHIpfSxpLkV4dHJhY3RGcm9tR2VvbWV0cnk9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBpLl9FeHRyYWN0RnJvbShlLHQscil9LGkuX0V4dHJhY3RGcm9tPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1uZXcgaTtyZXR1cm4gZS5pc1ZlcnRpY2VzRGF0YVByZXNlbnQobS5Qb3NpdGlvbktpbmQpJiYobi5wb3NpdGlvbnM9ZS5nZXRWZXJ0aWNlc0RhdGEobS5Qb3NpdGlvbktpbmQsdCxyKSksZS5pc1ZlcnRpY2VzRGF0YVByZXNlbnQobS5Ob3JtYWxLaW5kKSYmKG4ubm9ybWFscz1lLmdldFZlcnRpY2VzRGF0YShtLk5vcm1hbEtpbmQsdCxyKSksZS5pc1ZlcnRpY2VzRGF0YVByZXNlbnQobS5UYW5nZW50S2luZCkmJihuLnRhbmdlbnRzPWUuZ2V0VmVydGljZXNEYXRhKG0uVGFuZ2VudEtpbmQsdCxyKSksZS5pc1ZlcnRpY2VzRGF0YVByZXNlbnQobS5VVktpbmQpJiYobi51dnM9ZS5nZXRWZXJ0aWNlc0RhdGEobS5VVktpbmQsdCxyKSksZS5pc1ZlcnRpY2VzRGF0YVByZXNlbnQobS5VVjJLaW5kKSYmKG4udXZzMj1lLmdldFZlcnRpY2VzRGF0YShtLlVWMktpbmQsdCxyKSksZS5pc1ZlcnRpY2VzRGF0YVByZXNlbnQobS5VVjNLaW5kKSYmKG4udXZzMz1lLmdldFZlcnRpY2VzRGF0YShtLlVWM0tpbmQsdCxyKSksZS5pc1ZlcnRpY2VzRGF0YVByZXNlbnQobS5VVjRLaW5kKSYmKG4udXZzND1lLmdldFZlcnRpY2VzRGF0YShtLlVWNEtpbmQsdCxyKSksZS5pc1ZlcnRpY2VzRGF0YVByZXNlbnQobS5VVjVLaW5kKSYmKG4udXZzNT1lLmdldFZlcnRpY2VzRGF0YShtLlVWNUtpbmQsdCxyKSksZS5pc1ZlcnRpY2VzRGF0YVByZXNlbnQobS5VVjZLaW5kKSYmKG4udXZzNj1lLmdldFZlcnRpY2VzRGF0YShtLlVWNktpbmQsdCxyKSksZS5pc1ZlcnRpY2VzRGF0YVByZXNlbnQobS5Db2xvcktpbmQpJiYobi5jb2xvcnM9ZS5nZXRWZXJ0aWNlc0RhdGEobS5Db2xvcktpbmQsdCxyKSksZS5pc1ZlcnRpY2VzRGF0YVByZXNlbnQobS5NYXRyaWNlc0luZGljZXNLaW5kKSYmKG4ubWF0cmljZXNJbmRpY2VzPWUuZ2V0VmVydGljZXNEYXRhKG0uTWF0cmljZXNJbmRpY2VzS2luZCx0LHIpKSxlLmlzVmVydGljZXNEYXRhUHJlc2VudChtLk1hdHJpY2VzV2VpZ2h0c0tpbmQpJiYobi5tYXRyaWNlc1dlaWdodHM9ZS5nZXRWZXJ0aWNlc0RhdGEobS5NYXRyaWNlc1dlaWdodHNLaW5kLHQscikpLGUuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KG0uTWF0cmljZXNJbmRpY2VzRXh0cmFLaW5kKSYmKG4ubWF0cmljZXNJbmRpY2VzRXh0cmE9ZS5nZXRWZXJ0aWNlc0RhdGEobS5NYXRyaWNlc0luZGljZXNFeHRyYUtpbmQsdCxyKSksZS5pc1ZlcnRpY2VzRGF0YVByZXNlbnQobS5NYXRyaWNlc1dlaWdodHNFeHRyYUtpbmQpJiYobi5tYXRyaWNlc1dlaWdodHNFeHRyYT1lLmdldFZlcnRpY2VzRGF0YShtLk1hdHJpY2VzV2VpZ2h0c0V4dHJhS2luZCx0LHIpKSxuLmluZGljZXM9ZS5nZXRJbmRpY2VzKHQsciksbn0saS5DcmVhdGVSaWJib249ZnVuY3Rpb24oZSl7dGhyb3cgWCgicmliYm9uQnVpbGRlciIpfSxpLkNyZWF0ZUJveD1mdW5jdGlvbihlKXt0aHJvdyBYKCJib3hCdWlsZGVyIil9LGkuQ3JlYXRlVGlsZWRCb3g9ZnVuY3Rpb24oZSl7dGhyb3cgWCgidGlsZWRCb3hCdWlsZGVyIil9LGkuQ3JlYXRlVGlsZWRQbGFuZT1mdW5jdGlvbihlKXt0aHJvdyBYKCJ0aWxlZFBsYW5lQnVpbGRlciIpfSxpLkNyZWF0ZVNwaGVyZT1mdW5jdGlvbihlKXt0aHJvdyBYKCJzcGhlcmVCdWlsZGVyIil9LGkuQ3JlYXRlQ3lsaW5kZXI9ZnVuY3Rpb24oZSl7dGhyb3cgWCgiY3lsaW5kZXJCdWlsZGVyIil9LGkuQ3JlYXRlVG9ydXM9ZnVuY3Rpb24oZSl7dGhyb3cgWCgidG9ydXNCdWlsZGVyIil9LGkuQ3JlYXRlTGluZVN5c3RlbT1mdW5jdGlvbihlKXt0aHJvdyBYKCJsaW5lc0J1aWxkZXIiKX0saS5DcmVhdGVEYXNoZWRMaW5lcz1mdW5jdGlvbihlKXt0aHJvdyBYKCJsaW5lc0J1aWxkZXIiKX0saS5DcmVhdGVHcm91bmQ9ZnVuY3Rpb24oZSl7dGhyb3cgWCgiZ3JvdW5kQnVpbGRlciIpfSxpLkNyZWF0ZVRpbGVkR3JvdW5kPWZ1bmN0aW9uKGUpe3Rocm93IFgoImdyb3VuZEJ1aWxkZXIiKX0saS5DcmVhdGVHcm91bmRGcm9tSGVpZ2h0TWFwPWZ1bmN0aW9uKGUpe3Rocm93IFgoImdyb3VuZEJ1aWxkZXIiKX0saS5DcmVhdGVQbGFuZT1mdW5jdGlvbihlKXt0aHJvdyBYKCJwbGFuZUJ1aWxkZXIiKX0saS5DcmVhdGVEaXNjPWZ1bmN0aW9uKGUpe3Rocm93IFgoImRpc2NCdWlsZGVyIil9LGkuQ3JlYXRlUG9seWdvbj1mdW5jdGlvbihlLHQscixuLGEscyxvKXt0aHJvdyBYKCJwb2x5Z29uQnVpbGRlciIpfSxpLkNyZWF0ZUljb1NwaGVyZT1mdW5jdGlvbihlKXt0aHJvdyBYKCJpY29TcGhlcmVCdWlsZGVyIil9LGkuQ3JlYXRlUG9seWhlZHJvbj1mdW5jdGlvbihlKXt0aHJvdyBYKCJwb2x5aGVkcm9uQnVpbGRlciIpfSxpLkNyZWF0ZUNhcHN1bGU9ZnVuY3Rpb24oZSl7dGhyb3cgZT09PXZvaWQgMCYmKGU9e29yaWVudGF0aW9uOmIuVXAoKSxzdWJkaXZpc2lvbnM6Mix0ZXNzZWxsYXRpb246MTYsaGVpZ2h0OjEscmFkaXVzOi4yNSxjYXBTdWJkaXZpc2lvbnM6Nn0pLFgoImNhcHN1bGVCdWlsZGVyIil9LGkuQ3JlYXRlVG9ydXNLbm90PWZ1bmN0aW9uKGUpe3Rocm93IFgoInRvcnVzS25vdEJ1aWxkZXIiKX0saS5Db21wdXRlTm9ybWFscz1mdW5jdGlvbihlLHQscixuKXt2YXIgYT0wLHM9MCxvPTAsdT0wLGY9MCxsPTAsaD0wLGM9MCxkPTAscD0wLGc9MCxfPTAsdj0wLHk9MCxFPTAsUj0wLE09MCxDPTAsQT0wLFM9MCx3PSExLEY9ITEseD0hMSxHPSExLHo9MSxOPTAscT1udWxsO24mJih3PSEhbi5mYWNldE5vcm1hbHMsRj0hIW4uZmFjZXRQb3NpdGlvbnMseD0hIW4uZmFjZXRQYXJ0aXRpb25pbmcsej1uLnVzZVJpZ2h0SGFuZGVkU3lzdGVtPT09ITA/LTE6MSxOPW4ucmF0aW98fDAsRz0hIW4uZGVwdGhTb3J0LHE9bi5kaXN0YW5jZVRvLEcmJnE9PT12b2lkIDAmJihxPWIuWmVybygpKSk7dmFyICQ9MCx1ZT0wLFo9MCxqPTA7Zm9yKHgmJm4mJm4uYmJTaXplJiYoJD1uLnN1YkRpdi5YKk4vbi5iYlNpemUueCx1ZT1uLnN1YkRpdi5ZKk4vbi5iYlNpemUueSxaPW4uc3ViRGl2LloqTi9uLmJiU2l6ZS56LGo9bi5zdWJEaXYubWF4Km4uc3ViRGl2Lm1heCxuLmZhY2V0UGFydGl0aW9uaW5nLmxlbmd0aD0wKSxhPTA7YTxlLmxlbmd0aDthKyspclthXT0wO3ZhciBmZT10Lmxlbmd0aC8zfDA7Zm9yKGE9MDthPGZlO2ErKyl7aWYoXz10W2EqM10qMyx2PV8rMSx5PV8rMixFPXRbYSozKzFdKjMsUj1FKzEsTT1FKzIsQz10W2EqMysyXSozLEE9QysxLFM9QysyLHM9ZVtfXS1lW0VdLG89ZVt2XS1lW1JdLHU9ZVt5XS1lW01dLGY9ZVtDXS1lW0VdLGw9ZVtBXS1lW1JdLGg9ZVtTXS1lW01dLGM9eioobypoLXUqbCksZD16Kih1KmYtcypoKSxwPXoqKHMqbC1vKmYpLGc9TWF0aC5zcXJ0KGMqYytkKmQrcCpwKSxnPWc9PT0wPzE6ZyxjLz1nLGQvPWcscC89Zyx3JiZuJiYobi5mYWNldE5vcm1hbHNbYV0ueD1jLG4uZmFjZXROb3JtYWxzW2FdLnk9ZCxuLmZhY2V0Tm9ybWFsc1thXS56PXApLEYmJm4mJihuLmZhY2V0UG9zaXRpb25zW2FdLng9KGVbX10rZVtFXStlW0NdKS8zLG4uZmFjZXRQb3NpdGlvbnNbYV0ueT0oZVt2XStlW1JdK2VbQV0pLzMsbi5mYWNldFBvc2l0aW9uc1thXS56PShlW3ldK2VbTV0rZVtTXSkvMykseCYmbil7dmFyIFBlPU1hdGguZmxvb3IoKG4uZmFjZXRQb3NpdGlvbnNbYV0ueC1uLmJJbmZvLm1pbmltdW0ueCpOKSokKSxXZT1NYXRoLmZsb29yKChuLmZhY2V0UG9zaXRpb25zW2FdLnktbi5iSW5mby5taW5pbXVtLnkqTikqdWUpLFplPU1hdGguZmxvb3IoKG4uZmFjZXRQb3NpdGlvbnNbYV0uei1uLmJJbmZvLm1pbmltdW0ueipOKSpaKSxIdD1NYXRoLmZsb29yKChlW19dLW4uYkluZm8ubWluaW11bS54Kk4pKiQpLHdyPU1hdGguZmxvb3IoKGVbdl0tbi5iSW5mby5taW5pbXVtLnkqTikqdWUpLExyPU1hdGguZmxvb3IoKGVbeV0tbi5iSW5mby5taW5pbXVtLnoqTikqWiksdmk9TWF0aC5mbG9vcigoZVtFXS1uLmJJbmZvLm1pbmltdW0ueCpOKSokKSxtaT1NYXRoLmZsb29yKChlW1JdLW4uYkluZm8ubWluaW11bS55Kk4pKnVlKSx5aT1NYXRoLmZsb29yKChlW01dLW4uYkluZm8ubWluaW11bS56Kk4pKlopLGJpPU1hdGguZmxvb3IoKGVbQ10tbi5iSW5mby5taW5pbXVtLngqTikqJCksRWk9TWF0aC5mbG9vcigoZVtBXS1uLmJJbmZvLm1pbmltdW0ueSpOKSp1ZSksVGk9TWF0aC5mbG9vcigoZVtTXS1uLmJJbmZvLm1pbmltdW0ueipOKSpaKSxfdD1IdCtuLnN1YkRpdi5tYXgqd3IraipMcixndD12aStuLnN1YkRpdi5tYXgqbWkraip5aSx2dD1iaStuLnN1YkRpdi5tYXgqRWkraipUaSxtdD1QZStuLnN1YkRpdi5tYXgqV2UraipaZTtuLmZhY2V0UGFydGl0aW9uaW5nW210XT1uLmZhY2V0UGFydGl0aW9uaW5nW210XT9uLmZhY2V0UGFydGl0aW9uaW5nW210XTpuZXcgQXJyYXksbi5mYWNldFBhcnRpdGlvbmluZ1tfdF09bi5mYWNldFBhcnRpdGlvbmluZ1tfdF0/bi5mYWNldFBhcnRpdGlvbmluZ1tfdF06bmV3IEFycmF5LG4uZmFjZXRQYXJ0aXRpb25pbmdbZ3RdPW4uZmFjZXRQYXJ0aXRpb25pbmdbZ3RdP24uZmFjZXRQYXJ0aXRpb25pbmdbZ3RdOm5ldyBBcnJheSxuLmZhY2V0UGFydGl0aW9uaW5nW3Z0XT1uLmZhY2V0UGFydGl0aW9uaW5nW3Z0XT9uLmZhY2V0UGFydGl0aW9uaW5nW3Z0XTpuZXcgQXJyYXksbi5mYWNldFBhcnRpdGlvbmluZ1tfdF0ucHVzaChhKSxndCE9X3QmJm4uZmFjZXRQYXJ0aXRpb25pbmdbZ3RdLnB1c2goYSksdnQ9PWd0fHx2dD09X3R8fG4uZmFjZXRQYXJ0aXRpb25pbmdbdnRdLnB1c2goYSksbXQ9PV90fHxtdD09Z3R8fG10PT12dHx8bi5mYWNldFBhcnRpdGlvbmluZ1ttdF0ucHVzaChhKX1pZihHJiZuJiZuLmZhY2V0UG9zaXRpb25zKXt2YXIgTnI9bi5kZXB0aFNvcnRlZEZhY2V0c1thXTtOci5pbmQ9YSozLE5yLnNxRGlzdGFuY2U9Yi5EaXN0YW5jZVNxdWFyZWQobi5mYWNldFBvc2l0aW9uc1thXSxxKX1yW19dKz1jLHJbdl0rPWQsclt5XSs9cCxyW0VdKz1jLHJbUl0rPWQscltNXSs9cCxyW0NdKz1jLHJbQV0rPWQscltTXSs9cH1mb3IoYT0wO2E8ci5sZW5ndGgvMzthKyspYz1yW2EqM10sZD1yW2EqMysxXSxwPXJbYSozKzJdLGc9TWF0aC5zcXJ0KGMqYytkKmQrcCpwKSxnPWc9PT0wPzE6ZyxjLz1nLGQvPWcscC89ZyxyW2EqM109YyxyW2EqMysxXT1kLHJbYSozKzJdPXB9LGkuX0NvbXB1dGVTaWRlcz1mdW5jdGlvbihlLHQscixuLGEscyxvKXt2YXIgdT1yLmxlbmd0aCxmPW4ubGVuZ3RoLGwsaDtzd2l0Y2goZT1lfHxpLkRFRkFVTFRTSURFLGUpe2Nhc2UgaS5GUk9OVFNJREU6YnJlYWs7Y2FzZSBpLkJBQ0tTSURFOmZvcihsPTA7bDx1O2wrPTMpe3ZhciBjPXJbbF07cltsXT1yW2wrMl0scltsKzJdPWN9Zm9yKGg9MDtoPGY7aCsrKW5baF09LW5baF07YnJlYWs7Y2FzZSBpLkRPVUJMRVNJREU6e2Zvcih2YXIgZD10Lmxlbmd0aCxwPWQvMyxnPTA7ZzxkO2crKyl0W2QrZ109dFtnXTtmb3IobD0wO2w8dTtsKz0zKXJbbCt1XT1yW2wrMl0rcCxyW2wrMSt1XT1yW2wrMV0rcCxyW2wrMit1XT1yW2xdK3A7Zm9yKGg9MDtoPGY7aCsrKW5bZitoXT0tbltoXTt2YXIgXz1hLmxlbmd0aCx2PTA7Zm9yKHY9MDt2PF87disrKWFbditfXT1hW3ZdO2ZvcihzPXN8fG5ldyB5dCgwLDAsMSwxKSxvPW98fG5ldyB5dCgwLDAsMSwxKSx2PTAsbD0wO2w8Xy8yO2wrKylhW3ZdPXMueCsocy56LXMueCkqYVt2XSxhW3YrMV09cy55KyhzLnctcy55KSphW3YrMV0sYVt2K19dPW8ueCsoby56LW8ueCkqYVt2K19dLGFbditfKzFdPW8ueSsoby53LW8ueSkqYVt2K18rMV0sdis9MjticmVha319fSxpLkltcG9ydFZlcnRleERhdGE9ZnVuY3Rpb24oZSx0KXt2YXIgcj1uZXcgaSxuPWUucG9zaXRpb25zO24mJnIuc2V0KG4sbS5Qb3NpdGlvbktpbmQpO3ZhciBhPWUubm9ybWFsczthJiZyLnNldChhLG0uTm9ybWFsS2luZCk7dmFyIHM9ZS50YW5nZW50cztzJiZyLnNldChzLG0uVGFuZ2VudEtpbmQpO3ZhciBvPWUudXZzO28mJnIuc2V0KG8sbS5VVktpbmQpO3ZhciB1PWUudXYyczt1JiZyLnNldCh1LG0uVVYyS2luZCk7dmFyIGY9ZS51djNzO2YmJnIuc2V0KGYsbS5VVjNLaW5kKTt2YXIgbD1lLnV2NHM7bCYmci5zZXQobCxtLlVWNEtpbmQpO3ZhciBoPWUudXY1cztoJiZyLnNldChoLG0uVVY1S2luZCk7dmFyIGM9ZS51djZzO2MmJnIuc2V0KGMsbS5VVjZLaW5kKTt2YXIgZD1lLmNvbG9ycztkJiZyLnNldChFZS5DaGVja0NvbG9yczQoZCxuLmxlbmd0aC8zKSxtLkNvbG9yS2luZCk7dmFyIHA9ZS5tYXRyaWNlc0luZGljZXM7cCYmci5zZXQocCxtLk1hdHJpY2VzSW5kaWNlc0tpbmQpO3ZhciBnPWUubWF0cmljZXNXZWlnaHRzO2cmJnIuc2V0KGcsbS5NYXRyaWNlc1dlaWdodHNLaW5kKTt2YXIgXz1lLmluZGljZXM7XyYmKHIuaW5kaWNlcz1fKSx0LnNldEFsbFZlcnRpY2VzRGF0YShyLGUudXBkYXRhYmxlKX0saS5GUk9OVFNJREU9MCxpLkJBQ0tTSURFPTEsaS5ET1VCTEVTSURFPTIsaS5ERUZBVUxUU0lERT0wLFQoW1R0LmZpbHRlcihmdW5jdGlvbigpe2Zvcih2YXIgZT1bXSx0PTA7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyllW3RdPWFyZ3VtZW50c1t0XTt2YXIgcj1lWzBdO3JldHVybiFBcnJheS5pc0FycmF5KHIpfSldLGksIl9UcmFuc2Zvcm1WZWN0b3IzQ29vcmRpbmF0ZXMiLG51bGwpLFQoW1R0LmZpbHRlcihmdW5jdGlvbigpe2Zvcih2YXIgZT1bXSx0PTA7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyllW3RdPWFyZ3VtZW50c1t0XTt2YXIgcj1lWzBdO3JldHVybiFBcnJheS5pc0FycmF5KHIpfSldLGksIl9UcmFuc2Zvcm1WZWN0b3IzTm9ybWFscyIsbnVsbCksVChbVHQuZmlsdGVyKGZ1bmN0aW9uKCl7Zm9yKHZhciBlPVtdLHQ9MDt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKWVbdF09YXJndW1lbnRzW3RdO3ZhciByPWVbMF07cmV0dXJuIUFycmF5LmlzQXJyYXkocil9KV0saSwiX1RyYW5zZm9ybVZlY3RvcjROb3JtYWxzIixudWxsKSxUKFtUdC5maWx0ZXIoZnVuY3Rpb24oKXtmb3IodmFyIGU9W10sdD0wO3Q8YXJndW1lbnRzLmxlbmd0aDt0KyspZVt0XT1hcmd1bWVudHNbdF07dmFyIHI9ZVswXTtyZXR1cm4hQXJyYXkuaXNBcnJheShyKX0pXSxpLCJfRmxpcEZhY2VzIixudWxsKSxpfSgpLHRpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaShlLHQscil7dGhpcy5idT1lLHRoaXMuYnY9dCx0aGlzLmRpc3RhbmNlPXIsdGhpcy5mYWNlSWQ9MCx0aGlzLnN1Yk1lc2hJZD0wfXJldHVybiBpfSgpLG5uPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaShlLHQscil7dGhpcy52ZWN0b3JzPUFlLkJ1aWxkQXJyYXkoOCxiLlplcm8pLHRoaXMuY2VudGVyPWIuWmVybygpLHRoaXMuY2VudGVyV29ybGQ9Yi5aZXJvKCksdGhpcy5leHRlbmRTaXplPWIuWmVybygpLHRoaXMuZXh0ZW5kU2l6ZVdvcmxkPWIuWmVybygpLHRoaXMuZGlyZWN0aW9ucz1BZS5CdWlsZEFycmF5KDMsYi5aZXJvKSx0aGlzLnZlY3RvcnNXb3JsZD1BZS5CdWlsZEFycmF5KDgsYi5aZXJvKSx0aGlzLm1pbmltdW1Xb3JsZD1iLlplcm8oKSx0aGlzLm1heGltdW1Xb3JsZD1iLlplcm8oKSx0aGlzLm1pbmltdW09Yi5aZXJvKCksdGhpcy5tYXhpbXVtPWIuWmVybygpLHRoaXMuX2RyYXdXcmFwcGVyRnJvbnQ9bnVsbCx0aGlzLl9kcmF3V3JhcHBlckJhY2s9bnVsbCx0aGlzLnJlQ29uc3RydWN0KGUsdCxyKX1yZXR1cm4gaS5wcm90b3R5cGUucmVDb25zdHJ1Y3Q9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUueCxhPWUueSxzPWUueixvPXQueCx1PXQueSxmPXQueixsPXRoaXMudmVjdG9yczt0aGlzLm1pbmltdW0uY29weUZyb21GbG9hdHMobixhLHMpLHRoaXMubWF4aW11bS5jb3B5RnJvbUZsb2F0cyhvLHUsZiksbFswXS5jb3B5RnJvbUZsb2F0cyhuLGEscyksbFsxXS5jb3B5RnJvbUZsb2F0cyhvLHUsZiksbFsyXS5jb3B5RnJvbUZsb2F0cyhvLGEscyksbFszXS5jb3B5RnJvbUZsb2F0cyhuLHUscyksbFs0XS5jb3B5RnJvbUZsb2F0cyhuLGEsZiksbFs1XS5jb3B5RnJvbUZsb2F0cyhvLHUscyksbFs2XS5jb3B5RnJvbUZsb2F0cyhuLHUsZiksbFs3XS5jb3B5RnJvbUZsb2F0cyhvLGEsZiksdC5hZGRUb1JlZihlLHRoaXMuY2VudGVyKS5zY2FsZUluUGxhY2UoLjUpLHQuc3VidHJhY3RUb1JlZihlLHRoaXMuZXh0ZW5kU2l6ZSkuc2NhbGVJblBsYWNlKC41KSx0aGlzLl93b3JsZE1hdHJpeD1yfHxJLklkZW50aXR5UmVhZE9ubHksdGhpcy5fdXBkYXRlKHRoaXMuX3dvcmxkTWF0cml4KX0saS5wcm90b3R5cGUuc2NhbGU9ZnVuY3Rpb24oZSl7dmFyIHQ9aS5fVG1wVmVjdG9yMyxyPXRoaXMubWF4aW11bS5zdWJ0cmFjdFRvUmVmKHRoaXMubWluaW11bSx0WzBdKSxuPXIubGVuZ3RoKCk7ci5ub3JtYWxpemVGcm9tTGVuZ3RoKG4pO3ZhciBhPW4qZSxzPXIuc2NhbGVJblBsYWNlKGEqLjUpLG89dGhpcy5jZW50ZXIuc3VidHJhY3RUb1JlZihzLHRbMV0pLHU9dGhpcy5jZW50ZXIuYWRkVG9SZWYocyx0WzJdKTtyZXR1cm4gdGhpcy5yZUNvbnN0cnVjdChvLHUsdGhpcy5fd29ybGRNYXRyaXgpLHRoaXN9LGkucHJvdG90eXBlLmdldFdvcmxkTWF0cml4PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3dvcmxkTWF0cml4fSxpLnByb3RvdHlwZS5fdXBkYXRlPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMubWluaW11bVdvcmxkLHI9dGhpcy5tYXhpbXVtV29ybGQsbj10aGlzLmRpcmVjdGlvbnMsYT10aGlzLnZlY3RvcnNXb3JsZCxzPXRoaXMudmVjdG9ycztpZihlLmlzSWRlbnRpdHkoKSl7dC5jb3B5RnJvbSh0aGlzLm1pbmltdW0pLHIuY29weUZyb20odGhpcy5tYXhpbXVtKTtmb3IodmFyIG89MDtvPDg7KytvKWFbb10uY29weUZyb20oc1tvXSk7dGhpcy5leHRlbmRTaXplV29ybGQuY29weUZyb20odGhpcy5leHRlbmRTaXplKSx0aGlzLmNlbnRlcldvcmxkLmNvcHlGcm9tKHRoaXMuY2VudGVyKX1lbHNle3Quc2V0QWxsKE51bWJlci5NQVhfVkFMVUUpLHIuc2V0QWxsKC1OdW1iZXIuTUFYX1ZBTFVFKTtmb3IodmFyIG89MDtvPDg7KytvKXt2YXIgdT1hW29dO2IuVHJhbnNmb3JtQ29vcmRpbmF0ZXNUb1JlZihzW29dLGUsdSksdC5taW5pbWl6ZUluUGxhY2UodSksci5tYXhpbWl6ZUluUGxhY2UodSl9ci5zdWJ0cmFjdFRvUmVmKHQsdGhpcy5leHRlbmRTaXplV29ybGQpLnNjYWxlSW5QbGFjZSguNSksci5hZGRUb1JlZih0LHRoaXMuY2VudGVyV29ybGQpLnNjYWxlSW5QbGFjZSguNSl9Yi5Gcm9tQXJyYXlUb1JlZihlLm0sMCxuWzBdKSxiLkZyb21BcnJheVRvUmVmKGUubSw0LG5bMV0pLGIuRnJvbUFycmF5VG9SZWYoZS5tLDgsblsyXSksdGhpcy5fd29ybGRNYXRyaXg9ZX0saS5wcm90b3R5cGUuaXNJbkZydXN0dW09ZnVuY3Rpb24oZSl7cmV0dXJuIGkuSXNJbkZydXN0dW0odGhpcy52ZWN0b3JzV29ybGQsZSl9LGkucHJvdG90eXBlLmlzQ29tcGxldGVseUluRnJ1c3R1bT1mdW5jdGlvbihlKXtyZXR1cm4gaS5Jc0NvbXBsZXRlbHlJbkZydXN0dW0odGhpcy52ZWN0b3JzV29ybGQsZSl9LGkucHJvdG90eXBlLmludGVyc2VjdHNQb2ludD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLm1pbmltdW1Xb3JsZCxyPXRoaXMubWF4aW11bVdvcmxkLG49dC54LGE9dC55LHM9dC56LG89ci54LHU9ci55LGY9ci56LGw9ZS54LGg9ZS55LGM9ZS56LGQ9LWVlO3JldHVybiEoby1sPGR8fGQ+bC1ufHx1LWg8ZHx8ZD5oLWF8fGYtYzxkfHxkPmMtcyl9LGkucHJvdG90eXBlLmludGVyc2VjdHNTcGhlcmU9ZnVuY3Rpb24oZSl7cmV0dXJuIGkuSW50ZXJzZWN0c1NwaGVyZSh0aGlzLm1pbmltdW1Xb3JsZCx0aGlzLm1heGltdW1Xb3JsZCxlLmNlbnRlcldvcmxkLGUucmFkaXVzV29ybGQpfSxpLnByb3RvdHlwZS5pbnRlcnNlY3RzTWluTWF4PWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy5taW5pbXVtV29ybGQsbj10aGlzLm1heGltdW1Xb3JsZCxhPXIueCxzPXIueSxvPXIueix1PW4ueCxmPW4ueSxsPW4ueixoPWUueCxjPWUueSxkPWUueixwPXQueCxnPXQueSxfPXQuejtyZXR1cm4hKHU8aHx8YT5wfHxmPGN8fHM+Z3x8bDxkfHxvPl8pfSxpLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7dmFyIGUsdDsoZT10aGlzLl9kcmF3V3JhcHBlckZyb250KT09PW51bGx8fGU9PT12b2lkIDB8fGUuZGlzcG9zZSgpLCh0PXRoaXMuX2RyYXdXcmFwcGVyQmFjayk9PT1udWxsfHx0PT09dm9pZCAwfHx0LmRpc3Bvc2UoKX0saS5JbnRlcnNlY3RzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuaW50ZXJzZWN0c01pbk1heCh0Lm1pbmltdW1Xb3JsZCx0Lm1heGltdW1Xb3JsZCl9LGkuSW50ZXJzZWN0c1NwaGVyZT1mdW5jdGlvbihlLHQscixuKXt2YXIgYT1pLl9UbXBWZWN0b3IzWzBdO2IuQ2xhbXBUb1JlZihyLGUsdCxhKTt2YXIgcz1iLkRpc3RhbmNlU3F1YXJlZChyLGEpO3JldHVybiBzPD1uKm59LGkuSXNDb21wbGV0ZWx5SW5GcnVzdHVtPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByPTA7cjw2Oysrcilmb3IodmFyIG49dFtyXSxhPTA7YTw4OysrYSlpZihuLmRvdENvb3JkaW5hdGUoZVthXSk8MClyZXR1cm4hMTtyZXR1cm4hMH0saS5Jc0luRnJ1c3R1bT1mdW5jdGlvbihlLHQpe2Zvcih2YXIgcj0wO3I8NjsrK3Ipe2Zvcih2YXIgbj0hMCxhPXRbcl0scz0wO3M8ODsrK3MpaWYoYS5kb3RDb29yZGluYXRlKGVbc10pPj0wKXtuPSExO2JyZWFrfWlmKG4pcmV0dXJuITF9cmV0dXJuITB9LGkuX1RtcFZlY3RvcjM9QWUuQnVpbGRBcnJheSgzLGIuWmVybyksaX0oKSxhbj1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoZSx0LHIpe3RoaXMuY2VudGVyPWIuWmVybygpLHRoaXMuY2VudGVyV29ybGQ9Yi5aZXJvKCksdGhpcy5taW5pbXVtPWIuWmVybygpLHRoaXMubWF4aW11bT1iLlplcm8oKSx0aGlzLnJlQ29uc3RydWN0KGUsdCxyKX1yZXR1cm4gaS5wcm90b3R5cGUucmVDb25zdHJ1Y3Q9ZnVuY3Rpb24oZSx0LHIpe3RoaXMubWluaW11bS5jb3B5RnJvbShlKSx0aGlzLm1heGltdW0uY29weUZyb20odCk7dmFyIG49Yi5EaXN0YW5jZShlLHQpO3QuYWRkVG9SZWYoZSx0aGlzLmNlbnRlcikuc2NhbGVJblBsYWNlKC41KSx0aGlzLnJhZGl1cz1uKi41LHRoaXMuX3VwZGF0ZShyfHxJLklkZW50aXR5UmVhZE9ubHkpfSxpLnByb3RvdHlwZS5zY2FsZT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLnJhZGl1cyplLHI9aS5fVG1wVmVjdG9yMyxuPXJbMF0uc2V0QWxsKHQpLGE9dGhpcy5jZW50ZXIuc3VidHJhY3RUb1JlZihuLHJbMV0pLHM9dGhpcy5jZW50ZXIuYWRkVG9SZWYobixyWzJdKTtyZXR1cm4gdGhpcy5yZUNvbnN0cnVjdChhLHMsdGhpcy5fd29ybGRNYXRyaXgpLHRoaXN9LGkucHJvdG90eXBlLmdldFdvcmxkTWF0cml4PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3dvcmxkTWF0cml4fSxpLnByb3RvdHlwZS5fdXBkYXRlPWZ1bmN0aW9uKGUpe2lmKGUuaXNJZGVudGl0eSgpKXRoaXMuY2VudGVyV29ybGQuY29weUZyb20odGhpcy5jZW50ZXIpLHRoaXMucmFkaXVzV29ybGQ9dGhpcy5yYWRpdXM7ZWxzZXtiLlRyYW5zZm9ybUNvb3JkaW5hdGVzVG9SZWYodGhpcy5jZW50ZXIsZSx0aGlzLmNlbnRlcldvcmxkKTt2YXIgdD1pLl9UbXBWZWN0b3IzWzBdO2IuVHJhbnNmb3JtTm9ybWFsRnJvbUZsb2F0c1RvUmVmKDEsMSwxLGUsdCksdGhpcy5yYWRpdXNXb3JsZD1NYXRoLm1heChNYXRoLmFicyh0LngpLE1hdGguYWJzKHQueSksTWF0aC5hYnModC56KSkqdGhpcy5yYWRpdXN9fSxpLnByb3RvdHlwZS5pc0luRnJ1c3R1bT1mdW5jdGlvbihlKXtmb3IodmFyIHQ9dGhpcy5jZW50ZXJXb3JsZCxyPXRoaXMucmFkaXVzV29ybGQsbj0wO248NjtuKyspaWYoZVtuXS5kb3RDb29yZGluYXRlKHQpPD0tcilyZXR1cm4hMTtyZXR1cm4hMH0saS5wcm90b3R5cGUuaXNDZW50ZXJJbkZydXN0dW09ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXRoaXMuY2VudGVyV29ybGQscj0wO3I8NjtyKyspaWYoZVtyXS5kb3RDb29yZGluYXRlKHQpPDApcmV0dXJuITE7cmV0dXJuITB9LGkucHJvdG90eXBlLmludGVyc2VjdHNQb2ludD1mdW5jdGlvbihlKXt2YXIgdD1iLkRpc3RhbmNlU3F1YXJlZCh0aGlzLmNlbnRlcldvcmxkLGUpO3JldHVybiEodGhpcy5yYWRpdXNXb3JsZCp0aGlzLnJhZGl1c1dvcmxkPHQpfSxpLkludGVyc2VjdHM9ZnVuY3Rpb24oZSx0KXt2YXIgcj1iLkRpc3RhbmNlU3F1YXJlZChlLmNlbnRlcldvcmxkLHQuY2VudGVyV29ybGQpLG49ZS5yYWRpdXNXb3JsZCt0LnJhZGl1c1dvcmxkO3JldHVybiEobipuPHIpfSxpLkNyZWF0ZUZyb21DZW50ZXJBbmRSYWRpdXM9ZnVuY3Rpb24oZSx0LHIpe3RoaXMuX1RtcFZlY3RvcjNbMF0uY29weUZyb20oZSksdGhpcy5fVG1wVmVjdG9yM1sxXS5jb3B5RnJvbUZsb2F0cygwLDAsdCksdGhpcy5fVG1wVmVjdG9yM1syXS5jb3B5RnJvbShlKSx0aGlzLl9UbXBWZWN0b3IzWzBdLmFkZEluUGxhY2UodGhpcy5fVG1wVmVjdG9yM1sxXSksdGhpcy5fVG1wVmVjdG9yM1syXS5zdWJ0cmFjdEluUGxhY2UodGhpcy5fVG1wVmVjdG9yM1sxXSk7dmFyIG49bmV3IGkodGhpcy5fVG1wVmVjdG9yM1swXSx0aGlzLl9UbXBWZWN0b3IzWzJdKTtyZXR1cm4gcj9uLl93b3JsZE1hdHJpeD1yOm4uX3dvcmxkTWF0cml4PUkuSWRlbnRpdHkoKSxufSxpLl9UbXBWZWN0b3IzPUFlLkJ1aWxkQXJyYXkoMyxiLlplcm8pLGl9KCkscmk9e21pbjowLG1heDowfSxpaT17bWluOjAsbWF4OjB9LHNuPWZ1bmN0aW9uKGksZSx0KXt2YXIgcj1iLkRvdChlLmNlbnRlcldvcmxkLGkpLG49TWF0aC5hYnMoYi5Eb3QoZS5kaXJlY3Rpb25zWzBdLGkpKSplLmV4dGVuZFNpemUueCxhPU1hdGguYWJzKGIuRG90KGUuZGlyZWN0aW9uc1sxXSxpKSkqZS5leHRlbmRTaXplLnkscz1NYXRoLmFicyhiLkRvdChlLmRpcmVjdGlvbnNbMl0saSkpKmUuZXh0ZW5kU2l6ZS56LG89bithK3M7dC5taW49ci1vLHQubWF4PXIrb30sQmU9ZnVuY3Rpb24oaSxlLHQpe3JldHVybiBzbihpLGUscmkpLHNuKGksdCxpaSksIShyaS5taW4+aWkubWF4fHxpaS5taW4+cmkubWF4KX0sU3Q9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKGUsdCxyKXt0aGlzLl9pc0xvY2tlZD0hMSx0aGlzLmJvdW5kaW5nQm94PW5ldyBubihlLHQsciksdGhpcy5ib3VuZGluZ1NwaGVyZT1uZXcgYW4oZSx0LHIpfXJldHVybiBpLnByb3RvdHlwZS5yZUNvbnN0cnVjdD1mdW5jdGlvbihlLHQscil7dGhpcy5ib3VuZGluZ0JveC5yZUNvbnN0cnVjdChlLHQsciksdGhpcy5ib3VuZGluZ1NwaGVyZS5yZUNvbnN0cnVjdChlLHQscil9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwibWluaW11bSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmJvdW5kaW5nQm94Lm1pbmltdW19LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJtYXhpbXVtIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYm91bmRpbmdCb3gubWF4aW11bX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImlzTG9ja2VkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lzTG9ja2VkfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5faXNMb2NrZWQ9ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24oZSl7dGhpcy5faXNMb2NrZWR8fCh0aGlzLmJvdW5kaW5nQm94Ll91cGRhdGUoZSksdGhpcy5ib3VuZGluZ1NwaGVyZS5fdXBkYXRlKGUpKX0saS5wcm90b3R5cGUuY2VudGVyT249ZnVuY3Rpb24oZSx0KXt2YXIgcj1pLl9UbXBWZWN0b3IzWzBdLmNvcHlGcm9tKGUpLnN1YnRyYWN0SW5QbGFjZSh0KSxuPWkuX1RtcFZlY3RvcjNbMV0uY29weUZyb20oZSkuYWRkSW5QbGFjZSh0KTtyZXR1cm4gdGhpcy5ib3VuZGluZ0JveC5yZUNvbnN0cnVjdChyLG4sdGhpcy5ib3VuZGluZ0JveC5nZXRXb3JsZE1hdHJpeCgpKSx0aGlzLmJvdW5kaW5nU3BoZXJlLnJlQ29uc3RydWN0KHIsbix0aGlzLmJvdW5kaW5nQm94LmdldFdvcmxkTWF0cml4KCkpLHRoaXN9LGkucHJvdG90eXBlLmVuY2Fwc3VsYXRlPWZ1bmN0aW9uKGUpe3ZhciB0PWIuTWluaW1pemUodGhpcy5taW5pbXVtLGUpLHI9Yi5NYXhpbWl6ZSh0aGlzLm1heGltdW0sZSk7cmV0dXJuIHRoaXMucmVDb25zdHJ1Y3QodCxyLHRoaXMuYm91bmRpbmdCb3guZ2V0V29ybGRNYXRyaXgoKSksdGhpc30saS5wcm90b3R5cGUuZW5jYXBzdWxhdGVCb3VuZGluZ0luZm89ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZW5jYXBzdWxhdGUoZS5ib3VuZGluZ0JveC5jZW50ZXJXb3JsZC5zdWJ0cmFjdChlLmJvdW5kaW5nQm94LmV4dGVuZFNpemVXb3JsZCkpLHRoaXMuZW5jYXBzdWxhdGUoZS5ib3VuZGluZ0JveC5jZW50ZXJXb3JsZC5hZGQoZS5ib3VuZGluZ0JveC5leHRlbmRTaXplV29ybGQpKSx0aGlzfSxpLnByb3RvdHlwZS5zY2FsZT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5ib3VuZGluZ0JveC5zY2FsZShlKSx0aGlzLmJvdW5kaW5nU3BoZXJlLnNjYWxlKGUpLHRoaXN9LGkucHJvdG90eXBlLmlzSW5GcnVzdHVtPWZ1bmN0aW9uKGUsdCl7dD09PXZvaWQgMCYmKHQ9MCk7dmFyIHI9dD09PTJ8fHQ9PT0zO2lmKHImJnRoaXMuYm91bmRpbmdTcGhlcmUuaXNDZW50ZXJJbkZydXN0dW0oZSkpcmV0dXJuITA7aWYoIXRoaXMuYm91bmRpbmdTcGhlcmUuaXNJbkZydXN0dW0oZSkpcmV0dXJuITE7dmFyIG49dD09PTF8fHQ9PT0zO3JldHVybiBuPyEwOnRoaXMuYm91bmRpbmdCb3guaXNJbkZydXN0dW0oZSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiZGlhZ29uYWxMZW5ndGgiLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmJvdW5kaW5nQm94LHQ9ZS5tYXhpbXVtV29ybGQuc3VidHJhY3RUb1JlZihlLm1pbmltdW1Xb3JsZCxpLl9UbXBWZWN0b3IzWzBdKTtyZXR1cm4gdC5sZW5ndGgoKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLnByb3RvdHlwZS5pc0NvbXBsZXRlbHlJbkZydXN0dW09ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuYm91bmRpbmdCb3guaXNDb21wbGV0ZWx5SW5GcnVzdHVtKGUpfSxpLnByb3RvdHlwZS5fY2hlY2tDb2xsaXNpb249ZnVuY3Rpb24oZSl7cmV0dXJuIGUuX2NhbkRvQ29sbGlzaW9uKHRoaXMuYm91bmRpbmdTcGhlcmUuY2VudGVyV29ybGQsdGhpcy5ib3VuZGluZ1NwaGVyZS5yYWRpdXNXb3JsZCx0aGlzLmJvdW5kaW5nQm94Lm1pbmltdW1Xb3JsZCx0aGlzLmJvdW5kaW5nQm94Lm1heGltdW1Xb3JsZCl9LGkucHJvdG90eXBlLmludGVyc2VjdHNQb2ludD1mdW5jdGlvbihlKXtyZXR1cm4hKCF0aGlzLmJvdW5kaW5nU3BoZXJlLmNlbnRlcldvcmxkfHwhdGhpcy5ib3VuZGluZ1NwaGVyZS5pbnRlcnNlY3RzUG9pbnQoZSl8fCF0aGlzLmJvdW5kaW5nQm94LmludGVyc2VjdHNQb2ludChlKSl9LGkucHJvdG90eXBlLmludGVyc2VjdHM9ZnVuY3Rpb24oZSx0KXtpZighYW4uSW50ZXJzZWN0cyh0aGlzLmJvdW5kaW5nU3BoZXJlLGUuYm91bmRpbmdTcGhlcmUpfHwhbm4uSW50ZXJzZWN0cyh0aGlzLmJvdW5kaW5nQm94LGUuYm91bmRpbmdCb3gpKXJldHVybiExO2lmKCF0KXJldHVybiEwO3ZhciByPXRoaXMuYm91bmRpbmdCb3gsbj1lLmJvdW5kaW5nQm94O3JldHVybiEoIUJlKHIuZGlyZWN0aW9uc1swXSxyLG4pfHwhQmUoci5kaXJlY3Rpb25zWzFdLHIsbil8fCFCZShyLmRpcmVjdGlvbnNbMl0scixuKXx8IUJlKG4uZGlyZWN0aW9uc1swXSxyLG4pfHwhQmUobi5kaXJlY3Rpb25zWzFdLHIsbil8fCFCZShuLmRpcmVjdGlvbnNbMl0scixuKXx8IUJlKGIuQ3Jvc3Moci5kaXJlY3Rpb25zWzBdLG4uZGlyZWN0aW9uc1swXSkscixuKXx8IUJlKGIuQ3Jvc3Moci5kaXJlY3Rpb25zWzBdLG4uZGlyZWN0aW9uc1sxXSkscixuKXx8IUJlKGIuQ3Jvc3Moci5kaXJlY3Rpb25zWzBdLG4uZGlyZWN0aW9uc1syXSkscixuKXx8IUJlKGIuQ3Jvc3Moci5kaXJlY3Rpb25zWzFdLG4uZGlyZWN0aW9uc1swXSkscixuKXx8IUJlKGIuQ3Jvc3Moci5kaXJlY3Rpb25zWzFdLG4uZGlyZWN0aW9uc1sxXSkscixuKXx8IUJlKGIuQ3Jvc3Moci5kaXJlY3Rpb25zWzFdLG4uZGlyZWN0aW9uc1syXSkscixuKXx8IUJlKGIuQ3Jvc3Moci5kaXJlY3Rpb25zWzJdLG4uZGlyZWN0aW9uc1swXSkscixuKXx8IUJlKGIuQ3Jvc3Moci5kaXJlY3Rpb25zWzJdLG4uZGlyZWN0aW9uc1sxXSkscixuKXx8IUJlKGIuQ3Jvc3Moci5kaXJlY3Rpb25zWzJdLG4uZGlyZWN0aW9uc1syXSkscixuKSl9LGkuX1RtcFZlY3RvcjM9QWUuQnVpbGRBcnJheSgyLGIuWmVybyksaX0oKSxvbj1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoKXt9cmV0dXJuIGkuZXh0cmFjdE1pbkFuZE1heEluZGV4ZWQ9ZnVuY3Rpb24oZSx0LHIsbixhLHMpe2Zvcih2YXIgbz1yO288cituO28rKyl7dmFyIHU9dFtvXSozLGY9ZVt1XSxsPWVbdSsxXSxoPWVbdSsyXTthLm1pbmltaXplSW5QbGFjZUZyb21GbG9hdHMoZixsLGgpLHMubWF4aW1pemVJblBsYWNlRnJvbUZsb2F0cyhmLGwsaCl9fSxpLmV4dHJhY3RNaW5BbmRNYXg9ZnVuY3Rpb24oZSx0LHIsbixhLHMpe2Zvcih2YXIgbz10LHU9dCpuO288dCtyO28rKyx1Kz1uKXt2YXIgZj1lW3VdLGw9ZVt1KzFdLGg9ZVt1KzJdO2EubWluaW1pemVJblBsYWNlRnJvbUZsb2F0cyhmLGwsaCkscy5tYXhpbWl6ZUluUGxhY2VGcm9tRmxvYXRzKGYsbCxoKX19LFQoW1R0LmZpbHRlcihmdW5jdGlvbigpe2Zvcih2YXIgZT1bXSx0PTA7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyllW3RdPWFyZ3VtZW50c1t0XTt2YXIgcj1lWzBdLG49ZVsxXTtyZXR1cm4hQXJyYXkuaXNBcnJheShyKSYmIUFycmF5LmlzQXJyYXkobil9KV0saSwiZXh0cmFjdE1pbkFuZE1heEluZGV4ZWQiLG51bGwpLFQoW1R0LmZpbHRlcihmdW5jdGlvbigpe2Zvcih2YXIgZT1bXSx0PTA7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyllW3RdPWFyZ3VtZW50c1t0XTt2YXIgcj1lWzBdO3JldHVybiFBcnJheS5pc0FycmF5KHIpfSldLGksImV4dHJhY3RNaW5BbmRNYXgiLG51bGwpLGl9KCk7ZnVuY3Rpb24gQWEoaSxlLHQscixuKXtuPT09dm9pZCAwJiYobj1udWxsKTt2YXIgYT1uZXcgYihOdW1iZXIuTUFYX1ZBTFVFLE51bWJlci5NQVhfVkFMVUUsTnVtYmVyLk1BWF9WQUxVRSkscz1uZXcgYigtTnVtYmVyLk1BWF9WQUxVRSwtTnVtYmVyLk1BWF9WQUxVRSwtTnVtYmVyLk1BWF9WQUxVRSk7cmV0dXJuIG9uLmV4dHJhY3RNaW5BbmRNYXhJbmRleGVkKGksZSx0LHIsYSxzKSxuJiYoYS54LT1hLngqbi54K24ueSxhLnktPWEueSpuLngrbi55LGEuei09YS56Km4ueCtuLnkscy54Kz1zLngqbi54K24ueSxzLnkrPXMueSpuLngrbi55LHMueis9cy56Km4ueCtuLnkpLHttaW5pbXVtOmEsbWF4aW11bTpzfX1mdW5jdGlvbiB1bihpLGUsdCxyLG4pe3I9PT12b2lkIDAmJihyPW51bGwpO3ZhciBhPW5ldyBiKE51bWJlci5NQVhfVkFMVUUsTnVtYmVyLk1BWF9WQUxVRSxOdW1iZXIuTUFYX1ZBTFVFKSxzPW5ldyBiKC1OdW1iZXIuTUFYX1ZBTFVFLC1OdW1iZXIuTUFYX1ZBTFVFLC1OdW1iZXIuTUFYX1ZBTFVFKTtyZXR1cm4gbnx8KG49Myksb24uZXh0cmFjdE1pbkFuZE1heChpLGUsdCxuLGEscyksciYmKGEueC09YS54KnIueCtyLnksYS55LT1hLnkqci54K3IueSxhLnotPWEueipyLngrci55LHMueCs9cy54KnIueCtyLnkscy55Kz1zLnkqci54K3IueSxzLnorPXMueipyLngrci55KSx7bWluaW11bTphLG1heGltdW06c319dmFyIE10PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaShlLHQscixuLGEscyxvLHUsZil7dT09PXZvaWQgMCYmKHU9ITApLGY9PT12b2lkIDAmJihmPSEwKSx0aGlzLm1hdGVyaWFsSW5kZXg9ZSx0aGlzLnZlcnRpY2VzU3RhcnQ9dCx0aGlzLnZlcnRpY2VzQ291bnQ9cix0aGlzLmluZGV4U3RhcnQ9bix0aGlzLmluZGV4Q291bnQ9YSx0aGlzLl9tYWluRHJhd1dyYXBwZXJPdmVycmlkZT1udWxsLHRoaXMuX2xpbmVzSW5kZXhDb3VudD0wLHRoaXMuX2xpbmVzSW5kZXhCdWZmZXI9bnVsbCx0aGlzLl9sYXN0Q29sbGlkZXJXb3JsZFZlcnRpY2VzPW51bGwsdGhpcy5fbGFzdENvbGxpZGVyVHJhbnNmb3JtTWF0cml4PW51bGwsdGhpcy5fcmVuZGVySWQ9MCx0aGlzLl9hbHBoYUluZGV4PTAsdGhpcy5fZGlzdGFuY2VUb0NhbWVyYT0wLHRoaXMuX2N1cnJlbnRNYXRlcmlhbD1udWxsLHRoaXMuX21lc2g9cyx0aGlzLl9yZW5kZXJpbmdNZXNoPW98fHMsZiYmcy5zdWJNZXNoZXMucHVzaCh0aGlzKSx0aGlzLl9lbmdpbmU9dGhpcy5fbWVzaC5nZXRTY2VuZSgpLmdldEVuZ2luZSgpLHRoaXMucmVzZXREcmF3Q2FjaGUoKSx0aGlzLl90cmlhbmdsZVBsYW5lcz1bXSx0aGlzLl9pZD1zLnN1Yk1lc2hlcy5sZW5ndGgtMSx1JiYodGhpcy5yZWZyZXNoQm91bmRpbmdJbmZvKCkscy5jb21wdXRlV29ybGRNYXRyaXgoITApKX1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJtYXRlcmlhbERlZmluZXMiLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgZTtyZXR1cm4gdGhpcy5fbWFpbkRyYXdXcmFwcGVyT3ZlcnJpZGU/dGhpcy5fbWFpbkRyYXdXcmFwcGVyT3ZlcnJpZGUuZGVmaW5lczooZT10aGlzLl9nZXREcmF3V3JhcHBlcigpKT09PW51bGx8fGU9PT12b2lkIDA/dm9pZCAwOmUuZGVmaW5lc30sc2V0OmZ1bmN0aW9uKGUpe3ZhciB0LHI9KHQ9dGhpcy5fbWFpbkRyYXdXcmFwcGVyT3ZlcnJpZGUpIT09bnVsbCYmdCE9PXZvaWQgMD90OnRoaXMuX2dldERyYXdXcmFwcGVyKHZvaWQgMCwhMCk7ci5kZWZpbmVzPWV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksaS5wcm90b3R5cGUuX2dldERyYXdXcmFwcGVyPWZ1bmN0aW9uKGUsdCl7dD09PXZvaWQgMCYmKHQ9ITEpLGU9ZSE9bnVsbD9lOnRoaXMuX2VuZ2luZS5jdXJyZW50UmVuZGVyUGFzc0lkO3ZhciByPXRoaXMuX2RyYXdXcmFwcGVyc1tlXTtyZXR1cm4hciYmdCYmKHRoaXMuX2RyYXdXcmFwcGVyc1tlXT1yPW5ldyBRdCh0aGlzLl9tZXNoLmdldFNjZW5lKCkuZ2V0RW5naW5lKCkpKSxyfSxpLnByb3RvdHlwZS5fcmVtb3ZlRHJhd1dyYXBwZXI9ZnVuY3Rpb24oZSx0KXt2YXIgcjt0PT09dm9pZCAwJiYodD0hMCksdCYmKChyPXRoaXMuX2RyYXdXcmFwcGVyc1tlXSk9PT1udWxsfHxyPT09dm9pZCAwfHxyLmRpc3Bvc2UoKSksdGhpcy5fZHJhd1dyYXBwZXJzW2VdPXZvaWQgMH0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJlZmZlY3QiLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgZSx0O3JldHVybiB0aGlzLl9tYWluRHJhd1dyYXBwZXJPdmVycmlkZT90aGlzLl9tYWluRHJhd1dyYXBwZXJPdmVycmlkZS5lZmZlY3Q6KHQ9KGU9dGhpcy5fZ2V0RHJhd1dyYXBwZXIoKSk9PT1udWxsfHxlPT09dm9pZCAwP3ZvaWQgMDplLmVmZmVjdCkhPT1udWxsJiZ0IT09dm9pZCAwP3Q6bnVsbH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsIl9kcmF3V3JhcHBlciIse2dldDpmdW5jdGlvbigpe3ZhciBlO3JldHVybihlPXRoaXMuX21haW5EcmF3V3JhcHBlck92ZXJyaWRlKSE9PW51bGwmJmUhPT12b2lkIDA/ZTp0aGlzLl9nZXREcmF3V3JhcHBlcih2b2lkIDAsITApfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiX2RyYXdXcmFwcGVyT3ZlcnJpZGUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbWFpbkRyYXdXcmFwcGVyT3ZlcnJpZGV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksaS5wcm90b3R5cGUuX3NldE1haW5EcmF3V3JhcHBlck92ZXJyaWRlPWZ1bmN0aW9uKGUpe3RoaXMuX21haW5EcmF3V3JhcHBlck92ZXJyaWRlPWV9LGkucHJvdG90eXBlLnNldEVmZmVjdD1mdW5jdGlvbihlLHQscixuKXt0PT09dm9pZCAwJiYodD1udWxsKSxuPT09dm9pZCAwJiYobj0hMCk7dmFyIGE9dGhpcy5fZHJhd1dyYXBwZXI7YS5zZXRFZmZlY3QoZSx0LG4pLHIhPT12b2lkIDAmJihhLm1hdGVyaWFsQ29udGV4dD1yKSxlfHwoYS5kZWZpbmVzPW51bGwsYS5tYXRlcmlhbENvbnRleHQ9dm9pZCAwKX0saS5wcm90b3R5cGUucmVzZXREcmF3Q2FjaGU9ZnVuY3Rpb24oZSl7aWYodGhpcy5fZHJhd1dyYXBwZXJzKWlmKGUhPT12b2lkIDApe3RoaXMuX3JlbW92ZURyYXdXcmFwcGVyKGUpO3JldHVybn1lbHNlIGZvcih2YXIgdD0wLHI9dGhpcy5fZHJhd1dyYXBwZXJzO3Q8ci5sZW5ndGg7dCsrKXt2YXIgbj1yW3RdO249PW51bGx8fG4uZGlzcG9zZSgpfXRoaXMuX2RyYXdXcmFwcGVycz1bXX0saS5BZGRUb01lc2g9ZnVuY3Rpb24oZSx0LHIsbixhLHMsbyx1KXtyZXR1cm4gdT09PXZvaWQgMCYmKHU9ITApLG5ldyBpKGUsdCxyLG4sYSxzLG8sdSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiSXNHbG9iYWwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52ZXJ0aWNlc1N0YXJ0PT09MCYmdGhpcy52ZXJ0aWNlc0NvdW50PT09dGhpcy5fbWVzaC5nZXRUb3RhbFZlcnRpY2VzKCkmJnRoaXMuaW5kZXhTdGFydD09PTAmJnRoaXMuaW5kZXhDb3VudD09PXRoaXMuX21lc2guZ2V0VG90YWxJbmRpY2VzKCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksaS5wcm90b3R5cGUuZ2V0Qm91bmRpbmdJbmZvPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuSXNHbG9iYWw/dGhpcy5fbWVzaC5nZXRCb3VuZGluZ0luZm8oKTp0aGlzLl9ib3VuZGluZ0luZm99LGkucHJvdG90eXBlLnNldEJvdW5kaW5nSW5mbz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fYm91bmRpbmdJbmZvPWUsdGhpc30saS5wcm90b3R5cGUuZ2V0TWVzaD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9tZXNofSxpLnByb3RvdHlwZS5nZXRSZW5kZXJpbmdNZXNoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JlbmRlcmluZ01lc2h9LGkucHJvdG90eXBlLmdldFJlcGxhY2VtZW50TWVzaD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9tZXNoLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9hY3RBc1JlZ3VsYXJNZXNoP3RoaXMuX21lc2g6bnVsbH0saS5wcm90b3R5cGUuZ2V0RWZmZWN0aXZlTWVzaD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuX21lc2guX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2FjdEFzUmVndWxhck1lc2g/dGhpcy5fbWVzaDpudWxsO3JldHVybiBlfHx0aGlzLl9yZW5kZXJpbmdNZXNofSxpLnByb3RvdHlwZS5nZXRNYXRlcmlhbD1mdW5jdGlvbigpe3ZhciBlLHQ9KGU9dGhpcy5fcmVuZGVyaW5nTWVzaC5nZXRNYXRlcmlhbEZvclJlbmRlclBhc3ModGhpcy5fZW5naW5lLmN1cnJlbnRSZW5kZXJQYXNzSWQpKSE9PW51bGwmJmUhPT12b2lkIDA/ZTp0aGlzLl9yZW5kZXJpbmdNZXNoLm1hdGVyaWFsO2lmKHQpe2lmKHRoaXMuX2lzTXVsdGlNYXRlcmlhbCh0KSl7dmFyIHI9dC5nZXRTdWJNYXRlcmlhbCh0aGlzLm1hdGVyaWFsSW5kZXgpO3JldHVybiB0aGlzLl9jdXJyZW50TWF0ZXJpYWwhPT1yJiYodGhpcy5fY3VycmVudE1hdGVyaWFsPXIsdGhpcy5yZXNldERyYXdDYWNoZSgpKSxyfX1lbHNlIHJldHVybiB0aGlzLl9tZXNoLmdldFNjZW5lKCkuZGVmYXVsdE1hdGVyaWFsO3JldHVybiB0fSxpLnByb3RvdHlwZS5faXNNdWx0aU1hdGVyaWFsPWZ1bmN0aW9uKGUpe3JldHVybiBlLmdldFN1Yk1hdGVyaWFsIT09dm9pZCAwfSxpLnByb3RvdHlwZS5yZWZyZXNoQm91bmRpbmdJbmZvPWZ1bmN0aW9uKGUpe2lmKGU9PT12b2lkIDAmJihlPW51bGwpLHRoaXMuX2xhc3RDb2xsaWRlcldvcmxkVmVydGljZXM9bnVsbCx0aGlzLklzR2xvYmFsfHwhdGhpcy5fcmVuZGVyaW5nTWVzaHx8IXRoaXMuX3JlbmRlcmluZ01lc2guZ2VvbWV0cnkpcmV0dXJuIHRoaXM7aWYoZXx8KGU9dGhpcy5fcmVuZGVyaW5nTWVzaC5nZXRWZXJ0aWNlc0RhdGEobS5Qb3NpdGlvbktpbmQpKSwhZSlyZXR1cm4gdGhpcy5fYm91bmRpbmdJbmZvPXRoaXMuX21lc2guZ2V0Qm91bmRpbmdJbmZvKCksdGhpczt2YXIgdD10aGlzLl9yZW5kZXJpbmdNZXNoLmdldEluZGljZXMoKSxyO2lmKHRoaXMuaW5kZXhTdGFydD09PTAmJnRoaXMuaW5kZXhDb3VudD09PXQubGVuZ3RoKXt2YXIgbj10aGlzLl9yZW5kZXJpbmdNZXNoLmdldEJvdW5kaW5nSW5mbygpO3I9e21pbmltdW06bi5taW5pbXVtLmNsb25lKCksbWF4aW11bTpuLm1heGltdW0uY2xvbmUoKX19ZWxzZSByPUFhKGUsdCx0aGlzLmluZGV4U3RhcnQsdGhpcy5pbmRleENvdW50LHRoaXMuX3JlbmRlcmluZ01lc2guZ2VvbWV0cnkuYm91bmRpbmdCaWFzKTtyZXR1cm4gdGhpcy5fYm91bmRpbmdJbmZvP3RoaXMuX2JvdW5kaW5nSW5mby5yZUNvbnN0cnVjdChyLm1pbmltdW0sci5tYXhpbXVtKTp0aGlzLl9ib3VuZGluZ0luZm89bmV3IFN0KHIubWluaW11bSxyLm1heGltdW0pLHRoaXN9LGkucHJvdG90eXBlLl9jaGVja0NvbGxpc2lvbj1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmdldEJvdW5kaW5nSW5mbygpO3JldHVybiB0Ll9jaGVja0NvbGxpc2lvbihlKX0saS5wcm90b3R5cGUudXBkYXRlQm91bmRpbmdJbmZvPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuZ2V0Qm91bmRpbmdJbmZvKCk7cmV0dXJuIHR8fCh0aGlzLnJlZnJlc2hCb3VuZGluZ0luZm8oKSx0PXRoaXMuZ2V0Qm91bmRpbmdJbmZvKCkpLHQmJnQudXBkYXRlKGUpLHRoaXN9LGkucHJvdG90eXBlLmlzSW5GcnVzdHVtPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuZ2V0Qm91bmRpbmdJbmZvKCk7cmV0dXJuIHQ/dC5pc0luRnJ1c3R1bShlLHRoaXMuX21lc2guY3VsbGluZ1N0cmF0ZWd5KTohMX0saS5wcm90b3R5cGUuaXNDb21wbGV0ZWx5SW5GcnVzdHVtPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuZ2V0Qm91bmRpbmdJbmZvKCk7cmV0dXJuIHQ/dC5pc0NvbXBsZXRlbHlJbkZydXN0dW0oZSk6ITF9LGkucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fcmVuZGVyaW5nTWVzaC5yZW5kZXIodGhpcyxlLHRoaXMuX21lc2guX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2FjdEFzUmVndWxhck1lc2g/dGhpcy5fbWVzaDp2b2lkIDApLHRoaXN9LGkucHJvdG90eXBlLl9nZXRMaW5lc0luZGV4QnVmZmVyPWZ1bmN0aW9uKGUsdCl7aWYoIXRoaXMuX2xpbmVzSW5kZXhCdWZmZXIpe2Zvcih2YXIgcj1bXSxuPXRoaXMuaW5kZXhTdGFydDtuPHRoaXMuaW5kZXhTdGFydCt0aGlzLmluZGV4Q291bnQ7bis9MylyLnB1c2goZVtuXSxlW24rMV0sZVtuKzFdLGVbbisyXSxlW24rMl0sZVtuXSk7dGhpcy5fbGluZXNJbmRleEJ1ZmZlcj10LmNyZWF0ZUluZGV4QnVmZmVyKHIpLHRoaXMuX2xpbmVzSW5kZXhDb3VudD1yLmxlbmd0aH1yZXR1cm4gdGhpcy5fbGluZXNJbmRleEJ1ZmZlcn0saS5wcm90b3R5cGUuY2FuSW50ZXJzZWN0cz1mdW5jdGlvbihlKXt2YXIgdD10aGlzLmdldEJvdW5kaW5nSW5mbygpO3JldHVybiB0P2UuaW50ZXJzZWN0c0JveCh0LmJvdW5kaW5nQm94KTohMX0saS5wcm90b3R5cGUuaW50ZXJzZWN0cz1mdW5jdGlvbihlLHQscixuLGEpe3ZhciBzPXRoaXMuZ2V0TWF0ZXJpYWwoKTtpZighcylyZXR1cm4gbnVsbDt2YXIgbz0zLHU9ITE7c3dpdGNoKHMuZmlsbE1vZGUpe2Nhc2UgMzpjYXNlIDU6Y2FzZSA2OmNhc2UgODpyZXR1cm4gbnVsbDtjYXNlIDc6bz0xLHU9ITA7YnJlYWt9cmV0dXJuIHMuZmlsbE1vZGU9PT00P3IubGVuZ3RoP3RoaXMuX2ludGVyc2VjdExpbmVzKGUsdCxyLHRoaXMuX21lc2guaW50ZXJzZWN0aW9uVGhyZXNob2xkLG4pOnRoaXMuX2ludGVyc2VjdFVuSW5kZXhlZExpbmVzKGUsdCxyLHRoaXMuX21lc2guaW50ZXJzZWN0aW9uVGhyZXNob2xkLG4pOiFyLmxlbmd0aCYmdGhpcy5fbWVzaC5fdW5JbmRleGVkP3RoaXMuX2ludGVyc2VjdFVuSW5kZXhlZFRyaWFuZ2xlcyhlLHQscixuLGEpOnRoaXMuX2ludGVyc2VjdFRyaWFuZ2xlcyhlLHQscixvLHUsbixhKX0saS5wcm90b3R5cGUuX2ludGVyc2VjdExpbmVzPWZ1bmN0aW9uKGUsdCxyLG4sYSl7Zm9yKHZhciBzPW51bGwsbz10aGlzLmluZGV4U3RhcnQ7bzx0aGlzLmluZGV4U3RhcnQrdGhpcy5pbmRleENvdW50O28rPTIpe3ZhciB1PXRbcltvXV0sZj10W3JbbysxXV0sbD1lLmludGVyc2VjdGlvblNlZ21lbnQodSxmLG4pO2lmKCEobDwwKSYmKGF8fCFzfHxsPHMuZGlzdGFuY2UpJiYocz1uZXcgdGkobnVsbCxudWxsLGwpLHMuZmFjZUlkPW8vMixhKSlicmVha31yZXR1cm4gc30saS5wcm90b3R5cGUuX2ludGVyc2VjdFVuSW5kZXhlZExpbmVzPWZ1bmN0aW9uKGUsdCxyLG4sYSl7Zm9yKHZhciBzPW51bGwsbz10aGlzLnZlcnRpY2VzU3RhcnQ7bzx0aGlzLnZlcnRpY2VzU3RhcnQrdGhpcy52ZXJ0aWNlc0NvdW50O28rPTIpe3ZhciB1PXRbb10sZj10W28rMV0sbD1lLmludGVyc2VjdGlvblNlZ21lbnQodSxmLG4pO2lmKCEobDwwKSYmKGF8fCFzfHxsPHMuZGlzdGFuY2UpJiYocz1uZXcgdGkobnVsbCxudWxsLGwpLHMuZmFjZUlkPW8vMixhKSlicmVha31yZXR1cm4gc30saS5wcm90b3R5cGUuX2ludGVyc2VjdFRyaWFuZ2xlcz1mdW5jdGlvbihlLHQscixuLGEscyxvKXtmb3IodmFyIHU9bnVsbCxmPS0xLGw9dGhpcy5pbmRleFN0YXJ0O2w8dGhpcy5pbmRleFN0YXJ0K3RoaXMuaW5kZXhDb3VudC0oMy1uKTtsKz1uKXtmKys7dmFyIGg9cltsXSxjPXJbbCsxXSxkPXJbbCsyXTtpZihhJiZkPT09NDI5NDk2NzI5NSl7bCs9Mjtjb250aW51ZX12YXIgcD10W2hdLGc9dFtjXSxfPXRbZF07aWYoISghcHx8IWd8fCFfKSYmIShvJiYhbyhwLGcsXyxlKSkpe3ZhciB2PWUuaW50ZXJzZWN0c1RyaWFuZ2xlKHAsZyxfKTtpZih2KXtpZih2LmRpc3RhbmNlPDApY29udGludWU7aWYoKHN8fCF1fHx2LmRpc3RhbmNlPHUuZGlzdGFuY2UpJiYodT12LHUuZmFjZUlkPWYscykpYnJlYWt9fX1yZXR1cm4gdX0saS5wcm90b3R5cGUuX2ludGVyc2VjdFVuSW5kZXhlZFRyaWFuZ2xlcz1mdW5jdGlvbihlLHQscixuLGEpe2Zvcih2YXIgcz1udWxsLG89dGhpcy52ZXJ0aWNlc1N0YXJ0O288dGhpcy52ZXJ0aWNlc1N0YXJ0K3RoaXMudmVydGljZXNDb3VudDtvKz0zKXt2YXIgdT10W29dLGY9dFtvKzFdLGw9dFtvKzJdO2lmKCEoYSYmIWEodSxmLGwsZSkpKXt2YXIgaD1lLmludGVyc2VjdHNUcmlhbmdsZSh1LGYsbCk7aWYoaCl7aWYoaC5kaXN0YW5jZTwwKWNvbnRpbnVlO2lmKChufHwhc3x8aC5kaXN0YW5jZTxzLmRpc3RhbmNlKSYmKHM9aCxzLmZhY2VJZD1vLzMsbikpYnJlYWt9fX1yZXR1cm4gc30saS5wcm90b3R5cGUuX3JlYnVpbGQ9ZnVuY3Rpb24oKXt0aGlzLl9saW5lc0luZGV4QnVmZmVyJiYodGhpcy5fbGluZXNJbmRleEJ1ZmZlcj1udWxsKX0saS5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oZSx0KXt2YXIgcj1uZXcgaSh0aGlzLm1hdGVyaWFsSW5kZXgsdGhpcy52ZXJ0aWNlc1N0YXJ0LHRoaXMudmVydGljZXNDb3VudCx0aGlzLmluZGV4U3RhcnQsdGhpcy5pbmRleENvdW50LGUsdCwhMSk7aWYoIXRoaXMuSXNHbG9iYWwpe3ZhciBuPXRoaXMuZ2V0Qm91bmRpbmdJbmZvKCk7aWYoIW4pcmV0dXJuIHI7ci5fYm91bmRpbmdJbmZvPW5ldyBTdChuLm1pbmltdW0sbi5tYXhpbXVtKX1yZXR1cm4gcn0saS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3RoaXMuX2xpbmVzSW5kZXhCdWZmZXImJih0aGlzLl9tZXNoLmdldFNjZW5lKCkuZ2V0RW5naW5lKCkuX3JlbGVhc2VCdWZmZXIodGhpcy5fbGluZXNJbmRleEJ1ZmZlciksdGhpcy5fbGluZXNJbmRleEJ1ZmZlcj1udWxsKTt2YXIgZT10aGlzLl9tZXNoLnN1Yk1lc2hlcy5pbmRleE9mKHRoaXMpO3RoaXMuX21lc2guc3ViTWVzaGVzLnNwbGljZShlLDEpLHRoaXMucmVzZXREcmF3Q2FjaGUoKX0saS5wcm90b3R5cGUuZ2V0Q2xhc3NOYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIlN1Yk1lc2gifSxpLkNyZWF0ZUZyb21JbmRpY2VzPWZ1bmN0aW9uKGUsdCxyLG4sYSxzKXtzPT09dm9pZCAwJiYocz0hMCk7Zm9yKHZhciBvPU51bWJlci5NQVhfVkFMVUUsdT0tTnVtYmVyLk1BWF9WQUxVRSxmPWF8fG4sbD1mLmdldEluZGljZXMoKSxoPXQ7aDx0K3I7aCsrKXt2YXIgYz1sW2hdO2M8byYmKG89YyksYz51JiYodT1jKX1yZXR1cm4gbmV3IGkoZSxvLHUtbysxLHQscixuLGEscyl9LGl9KCksbnQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKCl7fXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoaSwiRm9yY2VGdWxsU2NlbmVMb2FkaW5nRm9ySW5jcmVtZW50YWwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaS5fRm9yY2VGdWxsU2NlbmVMb2FkaW5nRm9ySW5jcmVtZW50YWx9LHNldDpmdW5jdGlvbihlKXtpLl9Gb3JjZUZ1bGxTY2VuZUxvYWRpbmdGb3JJbmNyZW1lbnRhbD1lfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLCJTaG93TG9hZGluZ1NjcmVlbiIse2dldDpmdW5jdGlvbigpe3JldHVybiBpLl9TaG93TG9hZGluZ1NjcmVlbn0sc2V0OmZ1bmN0aW9uKGUpe2kuX1Nob3dMb2FkaW5nU2NyZWVuPWV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGksImxvZ2dpbmdMZXZlbCIse2dldDpmdW5jdGlvbigpe3JldHVybiBpLl9Mb2dnaW5nTGV2ZWx9LHNldDpmdW5jdGlvbihlKXtpLl9Mb2dnaW5nTGV2ZWw9ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSwiQ2xlYW5Cb25lTWF0cml4V2VpZ2h0cyIse2dldDpmdW5jdGlvbigpe3JldHVybiBpLl9DbGVhbkJvbmVNYXRyaXhXZWlnaHRzfSxzZXQ6ZnVuY3Rpb24oZSl7aS5fQ2xlYW5Cb25lTWF0cml4V2VpZ2h0cz1lfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkuX0ZvcmNlRnVsbFNjZW5lTG9hZGluZ0ZvckluY3JlbWVudGFsPSExLGkuX1Nob3dMb2FkaW5nU2NyZWVuPSEwLGkuX0NsZWFuQm9uZU1hdHJpeFdlaWdodHM9ITEsaS5fTG9nZ2luZ0xldmVsPTAsaX0oKSxqZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoKXt9cmV0dXJuIGkuVXNlT3BlbkdMT3JpZW50YXRpb25Gb3JVVj0hMSxpfSgpLEF0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaShlLHQscixuLGEpe249PT12b2lkIDAmJihuPSExKSxhPT09dm9pZCAwJiYoYT1udWxsKSx0aGlzLmRlbGF5TG9hZFN0YXRlPTAsdGhpcy5fdG90YWxWZXJ0aWNlcz0wLHRoaXMuX2lzRGlzcG9zZWQ9ITEsdGhpcy5faW5kZXhCdWZmZXJJc1VwZGF0YWJsZT0hMSx0aGlzLl9wb3NpdGlvbnNDYWNoZT1bXSx0aGlzLl9wYXJlbnRDb250YWluZXI9bnVsbCx0aGlzLnVzZUJvdW5kaW5nSW5mb0Zyb21HZW9tZXRyeT0hMSx0aGlzLl9zY2VuZT10fHxhZS5MYXN0Q3JlYXRlZFNjZW5lLHRoaXMuX3NjZW5lJiYodGhpcy5pZD1lLHRoaXMudW5pcXVlSWQ9dGhpcy5fc2NlbmUuZ2V0VW5pcXVlSWQoKSx0aGlzLl9lbmdpbmU9dGhpcy5fc2NlbmUuZ2V0RW5naW5lKCksdGhpcy5fbWVzaGVzPVtdLHRoaXMuX3ZlcnRleEJ1ZmZlcnM9e30sdGhpcy5faW5kaWNlcz1bXSx0aGlzLl91cGRhdGFibGU9bixyP3RoaXMuc2V0QWxsVmVydGljZXNEYXRhKHIsbik6KHRoaXMuX3RvdGFsVmVydGljZXM9MCx0aGlzLl9pbmRpY2VzPVtdKSx0aGlzLl9lbmdpbmUuZ2V0Q2FwcygpLnZlcnRleEFycmF5T2JqZWN0JiYodGhpcy5fdmVydGV4QXJyYXlPYmplY3RzPXt9KSxhJiYodGhpcy5hcHBseVRvTWVzaChhKSxhLmNvbXB1dGVXb3JsZE1hdHJpeCghMCkpKX1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJib3VuZGluZ0JpYXMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYm91bmRpbmdCaWFzfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fYm91bmRpbmdCaWFzP3RoaXMuX2JvdW5kaW5nQmlhcy5jb3B5RnJvbShlKTp0aGlzLl9ib3VuZGluZ0JpYXM9ZS5jbG9uZSgpLHRoaXMuX3VwZGF0ZUJvdW5kaW5nSW5mbyghMCxudWxsKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLkNyZWF0ZUdlb21ldHJ5Rm9yTWVzaD1mdW5jdGlvbihlKXt2YXIgdD1uZXcgaShpLlJhbmRvbUlkKCksZS5nZXRTY2VuZSgpKTtyZXR1cm4gdC5hcHBseVRvTWVzaChlKSx0fSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsIm1lc2hlcyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9tZXNoZXN9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJleHRlbmQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZXh0ZW5kfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkucHJvdG90eXBlLmdldFNjZW5lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NjZW5lfSxpLnByb3RvdHlwZS5nZXRFbmdpbmU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZW5naW5lfSxpLnByb3RvdHlwZS5pc1JlYWR5PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGVsYXlMb2FkU3RhdGU9PT0xfHx0aGlzLmRlbGF5TG9hZFN0YXRlPT09MH0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJkb05vdFNlcmlhbGl6ZSIse2dldDpmdW5jdGlvbigpe2Zvcih2YXIgZT0wO2U8dGhpcy5fbWVzaGVzLmxlbmd0aDtlKyspaWYoIXRoaXMuX21lc2hlc1tlXS5kb05vdFNlcmlhbGl6ZSlyZXR1cm4hMTtyZXR1cm4hMH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLnByb3RvdHlwZS5fcmVidWlsZD1mdW5jdGlvbigpe3RoaXMuX3ZlcnRleEFycmF5T2JqZWN0cyYmKHRoaXMuX3ZlcnRleEFycmF5T2JqZWN0cz17fSksdGhpcy5fbWVzaGVzLmxlbmd0aCE9PTAmJnRoaXMuX2luZGljZXMmJih0aGlzLl9pbmRleEJ1ZmZlcj10aGlzLl9lbmdpbmUuY3JlYXRlSW5kZXhCdWZmZXIodGhpcy5faW5kaWNlcyx0aGlzLl91cGRhdGFibGUpKTtmb3IodmFyIGUgaW4gdGhpcy5fdmVydGV4QnVmZmVycyl7dmFyIHQ9dGhpcy5fdmVydGV4QnVmZmVyc1tlXTt0Ll9yZWJ1aWxkKCl9fSxpLnByb3RvdHlwZS5zZXRBbGxWZXJ0aWNlc0RhdGE9ZnVuY3Rpb24oZSx0KXtlLmFwcGx5VG9HZW9tZXRyeSh0aGlzLHQpLHRoaXMuX25vdGlmeVVwZGF0ZSgpfSxpLnByb3RvdHlwZS5zZXRWZXJ0aWNlc0RhdGE9ZnVuY3Rpb24oZSx0LHIsbil7cj09PXZvaWQgMCYmKHI9ITEpLHImJkFycmF5LmlzQXJyYXkodCkmJih0PW5ldyBGbG9hdDMyQXJyYXkodCkpO3ZhciBhPW5ldyBtKHRoaXMuX2VuZ2luZSx0LGUscix0aGlzLl9tZXNoZXMubGVuZ3RoPT09MCxuKTt0aGlzLnNldFZlcnRpY2VzQnVmZmVyKGEpfSxpLnByb3RvdHlwZS5yZW1vdmVWZXJ0aWNlc0RhdGE9ZnVuY3Rpb24oZSl7dGhpcy5fdmVydGV4QnVmZmVyc1tlXSYmKHRoaXMuX3ZlcnRleEJ1ZmZlcnNbZV0uZGlzcG9zZSgpLGRlbGV0ZSB0aGlzLl92ZXJ0ZXhCdWZmZXJzW2VdKSx0aGlzLl92ZXJ0ZXhBcnJheU9iamVjdHMmJnRoaXMuX2Rpc3Bvc2VWZXJ0ZXhBcnJheU9iamVjdHMoKX0saS5wcm90b3R5cGUuc2V0VmVydGljZXNCdWZmZXI9ZnVuY3Rpb24oZSx0LHIpe3Q9PT12b2lkIDAmJih0PW51bGwpLHI9PT12b2lkIDAmJihyPSEwKTt2YXIgbj1lLmdldEtpbmQoKTt0aGlzLl92ZXJ0ZXhCdWZmZXJzW25dJiZyJiZ0aGlzLl92ZXJ0ZXhCdWZmZXJzW25dLmRpc3Bvc2UoKSxlLl9idWZmZXImJmUuX2J1ZmZlci5faW5jcmVhc2VSZWZlcmVuY2VzKCksdGhpcy5fdmVydGV4QnVmZmVyc1tuXT1lO3ZhciBhPXRoaXMuX21lc2hlcyxzPWEubGVuZ3RoO2lmKG49PT1tLlBvc2l0aW9uS2luZCl7dmFyIG89ZS5nZXREYXRhKCk7dCE9bnVsbD90aGlzLl90b3RhbFZlcnRpY2VzPXQ6byE9bnVsbCYmKHRoaXMuX3RvdGFsVmVydGljZXM9by5sZW5ndGgvKGUudHlwZT09PW0uQllURT9lLmJ5dGVTdHJpZGU6ZS5ieXRlU3RyaWRlLzQpKSx0aGlzLl91cGRhdGVFeHRlbmQobyksdGhpcy5fcmVzZXRQb2ludHNBcnJheUNhY2hlKCk7Zm9yKHZhciB1PTA7dTxzO3UrKyl7dmFyIGY9YVt1XTtmLmJ1aWxkQm91bmRpbmdJbmZvKHRoaXMuX2V4dGVuZC5taW5pbXVtLHRoaXMuX2V4dGVuZC5tYXhpbXVtKSxmLl9jcmVhdGVHbG9iYWxTdWJNZXNoKGYuaXNVbkluZGV4ZWQpLGYuY29tcHV0ZVdvcmxkTWF0cml4KCEwKSxmLnN5bmNocm9uaXplSW5zdGFuY2VzKCl9fXRoaXMuX25vdGlmeVVwZGF0ZShuKX0saS5wcm90b3R5cGUudXBkYXRlVmVydGljZXNEYXRhRGlyZWN0bHk9ZnVuY3Rpb24oZSx0LHIsbil7bj09PXZvaWQgMCYmKG49ITEpO3ZhciBhPXRoaXMuZ2V0VmVydGV4QnVmZmVyKGUpOyFhfHwoYS51cGRhdGVEaXJlY3RseSh0LHIsbiksdGhpcy5fbm90aWZ5VXBkYXRlKGUpKX0saS5wcm90b3R5cGUudXBkYXRlVmVydGljZXNEYXRhPWZ1bmN0aW9uKGUsdCxyKXtyPT09dm9pZCAwJiYocj0hMSk7dmFyIG49dGhpcy5nZXRWZXJ0ZXhCdWZmZXIoZSk7IW58fChuLnVwZGF0ZSh0KSxlPT09bS5Qb3NpdGlvbktpbmQmJnRoaXMuX3VwZGF0ZUJvdW5kaW5nSW5mbyhyLHQpLHRoaXMuX25vdGlmeVVwZGF0ZShlKSl9LGkucHJvdG90eXBlLl91cGRhdGVCb3VuZGluZ0luZm89ZnVuY3Rpb24oZSx0KXtpZihlJiZ0aGlzLl91cGRhdGVFeHRlbmQodCksdGhpcy5fcmVzZXRQb2ludHNBcnJheUNhY2hlKCksZSlmb3IodmFyIHI9dGhpcy5fbWVzaGVzLG49MCxhPXI7bjxhLmxlbmd0aDtuKyspe3ZhciBzPWFbbl07cy5oYXNCb3VuZGluZ0luZm8/cy5nZXRCb3VuZGluZ0luZm8oKS5yZUNvbnN0cnVjdCh0aGlzLl9leHRlbmQubWluaW11bSx0aGlzLl9leHRlbmQubWF4aW11bSk6cy5idWlsZEJvdW5kaW5nSW5mbyh0aGlzLl9leHRlbmQubWluaW11bSx0aGlzLl9leHRlbmQubWF4aW11bSk7Zm9yKHZhciBvPXMuc3ViTWVzaGVzLHU9MCxmPW87dTxmLmxlbmd0aDt1Kyspe3ZhciBsPWZbdV07bC5yZWZyZXNoQm91bmRpbmdJbmZvKCl9fX0saS5wcm90b3R5cGUuX2JpbmQ9ZnVuY3Rpb24oZSx0LHIsbil7aWYoISFlKXt0PT09dm9pZCAwJiYodD10aGlzLl9pbmRleEJ1ZmZlcik7dmFyIGE9dGhpcy5nZXRWZXJ0ZXhCdWZmZXJzKCk7aWYoISFhKXtpZih0IT10aGlzLl9pbmRleEJ1ZmZlcnx8IXRoaXMuX3ZlcnRleEFycmF5T2JqZWN0cyYmIW4pe3RoaXMuX2VuZ2luZS5iaW5kQnVmZmVycyhhLHQsZSxyKTtyZXR1cm59dmFyIHM9bnx8dGhpcy5fdmVydGV4QXJyYXlPYmplY3RzO3NbZS5rZXldfHwoc1tlLmtleV09dGhpcy5fZW5naW5lLnJlY29yZFZlcnRleEFycmF5T2JqZWN0KGEsdCxlLHIpKSx0aGlzLl9lbmdpbmUuYmluZFZlcnRleEFycmF5T2JqZWN0KHNbZS5rZXldLHQpfX19LGkucHJvdG90eXBlLmdldFRvdGFsVmVydGljZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc1JlYWR5KCk/dGhpcy5fdG90YWxWZXJ0aWNlczowfSxpLnByb3RvdHlwZS5nZXRWZXJ0aWNlc0RhdGE9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXRoaXMuZ2V0VmVydGV4QnVmZmVyKGUpO3JldHVybiBuP24uZ2V0RmxvYXREYXRhKHRoaXMuX3RvdGFsVmVydGljZXMscnx8dCYmdGhpcy5fbWVzaGVzLmxlbmd0aCE9PTEpOm51bGx9LGkucHJvdG90eXBlLmlzVmVydGV4QnVmZmVyVXBkYXRhYmxlPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX3ZlcnRleEJ1ZmZlcnNbZV07cmV0dXJuIHQ/dC5pc1VwZGF0YWJsZSgpOiExfSxpLnByb3RvdHlwZS5nZXRWZXJ0ZXhCdWZmZXI9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuaXNSZWFkeSgpP3RoaXMuX3ZlcnRleEJ1ZmZlcnNbZV06bnVsbH0saS5wcm90b3R5cGUuZ2V0VmVydGV4QnVmZmVycz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmlzUmVhZHkoKT90aGlzLl92ZXJ0ZXhCdWZmZXJzOm51bGx9LGkucHJvdG90eXBlLmlzVmVydGljZXNEYXRhUHJlc2VudD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fdmVydGV4QnVmZmVycz90aGlzLl92ZXJ0ZXhCdWZmZXJzW2VdIT09dm9pZCAwOnRoaXMuX2RlbGF5SW5mbz90aGlzLl9kZWxheUluZm8uaW5kZXhPZihlKSE9PS0xOiExfSxpLnByb3RvdHlwZS5nZXRWZXJ0aWNlc0RhdGFLaW5kcz1mdW5jdGlvbigpe3ZhciBlPVtdLHQ7aWYoIXRoaXMuX3ZlcnRleEJ1ZmZlcnMmJnRoaXMuX2RlbGF5SW5mbylmb3IodCBpbiB0aGlzLl9kZWxheUluZm8pZS5wdXNoKHQpO2Vsc2UgZm9yKHQgaW4gdGhpcy5fdmVydGV4QnVmZmVycyllLnB1c2godCk7cmV0dXJuIGV9LGkucHJvdG90eXBlLnVwZGF0ZUluZGljZXM9ZnVuY3Rpb24oZSx0LHIpe2lmKHI9PT12b2lkIDAmJihyPSExKSwhIXRoaXMuX2luZGV4QnVmZmVyKWlmKCF0aGlzLl9pbmRleEJ1ZmZlcklzVXBkYXRhYmxlKXRoaXMuc2V0SW5kaWNlcyhlLG51bGwsITApO2Vsc2V7dmFyIG49ZS5sZW5ndGghPT10aGlzLl9pbmRpY2VzLmxlbmd0aDtpZihyfHwodGhpcy5faW5kaWNlcz1lLnNsaWNlKCkpLHRoaXMuX2VuZ2luZS51cGRhdGVEeW5hbWljSW5kZXhCdWZmZXIodGhpcy5faW5kZXhCdWZmZXIsZSx0KSxuKWZvcih2YXIgYT0wLHM9dGhpcy5fbWVzaGVzO2E8cy5sZW5ndGg7YSsrKXt2YXIgbz1zW2FdO28uX2NyZWF0ZUdsb2JhbFN1Yk1lc2goITApfX19LGkucHJvdG90eXBlLnNldEluZGljZXM9ZnVuY3Rpb24oZSx0LHIpe3Q9PT12b2lkIDAmJih0PW51bGwpLHI9PT12b2lkIDAmJihyPSExKSx0aGlzLl9pbmRleEJ1ZmZlciYmdGhpcy5fZW5naW5lLl9yZWxlYXNlQnVmZmVyKHRoaXMuX2luZGV4QnVmZmVyKSx0aGlzLl9pbmRpY2VzPWUsdGhpcy5faW5kZXhCdWZmZXJJc1VwZGF0YWJsZT1yLHRoaXMuX21lc2hlcy5sZW5ndGghPT0wJiZ0aGlzLl9pbmRpY2VzJiYodGhpcy5faW5kZXhCdWZmZXI9dGhpcy5fZW5naW5lLmNyZWF0ZUluZGV4QnVmZmVyKHRoaXMuX2luZGljZXMscikpLHQhPW51bGwmJih0aGlzLl90b3RhbFZlcnRpY2VzPXQpO2Zvcih2YXIgbj0wLGE9dGhpcy5fbWVzaGVzO248YS5sZW5ndGg7bisrKXt2YXIgcz1hW25dO3MuX2NyZWF0ZUdsb2JhbFN1Yk1lc2goITApLHMuc3luY2hyb25pemVJbnN0YW5jZXMoKX10aGlzLl9ub3RpZnlVcGRhdGUoKX0saS5wcm90b3R5cGUuZ2V0VG90YWxJbmRpY2VzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXNSZWFkeSgpP3RoaXMuX2luZGljZXMubGVuZ3RoOjB9LGkucHJvdG90eXBlLmdldEluZGljZXM9ZnVuY3Rpb24oZSx0KXtpZighdGhpcy5pc1JlYWR5KCkpcmV0dXJuIG51bGw7dmFyIHI9dGhpcy5faW5kaWNlcztyZXR1cm4hdCYmKCFlfHx0aGlzLl9tZXNoZXMubGVuZ3RoPT09MSk/cjpyLnNsaWNlKCl9LGkucHJvdG90eXBlLmdldEluZGV4QnVmZmVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXNSZWFkeSgpP3RoaXMuX2luZGV4QnVmZmVyOm51bGx9LGkucHJvdG90eXBlLl9yZWxlYXNlVmVydGV4QXJyYXlPYmplY3Q9ZnVuY3Rpb24oZSl7ZT09PXZvaWQgMCYmKGU9bnVsbCksISghZXx8IXRoaXMuX3ZlcnRleEFycmF5T2JqZWN0cykmJnRoaXMuX3ZlcnRleEFycmF5T2JqZWN0c1tlLmtleV0mJih0aGlzLl9lbmdpbmUucmVsZWFzZVZlcnRleEFycmF5T2JqZWN0KHRoaXMuX3ZlcnRleEFycmF5T2JqZWN0c1tlLmtleV0pLGRlbGV0ZSB0aGlzLl92ZXJ0ZXhBcnJheU9iamVjdHNbZS5rZXldKX0saS5wcm90b3R5cGUucmVsZWFzZUZvck1lc2g9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLl9tZXNoZXMsbj1yLmluZGV4T2YoZSk7biE9PS0xJiYoci5zcGxpY2UobiwxKSx0aGlzLl92ZXJ0ZXhBcnJheU9iamVjdHMmJmUuX2ludmFsaWRhdGVJbnN0YW5jZVZlcnRleEFycmF5T2JqZWN0KCksZS5fZ2VvbWV0cnk9bnVsbCxyLmxlbmd0aD09PTAmJnQmJnRoaXMuZGlzcG9zZSgpKX0saS5wcm90b3R5cGUuYXBwbHlUb01lc2g9ZnVuY3Rpb24oZSl7aWYoZS5fZ2VvbWV0cnkhPT10aGlzKXt2YXIgdD1lLl9nZW9tZXRyeTt0JiZ0LnJlbGVhc2VGb3JNZXNoKGUpLHRoaXMuX3ZlcnRleEFycmF5T2JqZWN0cyYmZS5faW52YWxpZGF0ZUluc3RhbmNlVmVydGV4QXJyYXlPYmplY3QoKTt2YXIgcj10aGlzLl9tZXNoZXM7ZS5fZ2VvbWV0cnk9dGhpcyxlLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9wb3NpdGlvbnM9bnVsbCx0aGlzLl9zY2VuZS5wdXNoR2VvbWV0cnkodGhpcyksci5wdXNoKGUpLHRoaXMuaXNSZWFkeSgpP3RoaXMuX2FwcGx5VG9NZXNoKGUpOnRoaXMuX2JvdW5kaW5nSW5mbyYmZS5zZXRCb3VuZGluZ0luZm8odGhpcy5fYm91bmRpbmdJbmZvKX19LGkucHJvdG90eXBlLl91cGRhdGVFeHRlbmQ9ZnVuY3Rpb24oZSl7aWYoZT09PXZvaWQgMCYmKGU9bnVsbCksdGhpcy51c2VCb3VuZGluZ0luZm9Gcm9tR2VvbWV0cnkmJnRoaXMuX2JvdW5kaW5nSW5mbyl0aGlzLl9leHRlbmQ9e21pbmltdW06dGhpcy5fYm91bmRpbmdJbmZvLm1pbmltdW0uY2xvbmUoKSxtYXhpbXVtOnRoaXMuX2JvdW5kaW5nSW5mby5tYXhpbXVtLmNsb25lKCl9O2Vsc2V7aWYoIWUmJihlPXRoaXMuZ2V0VmVydGljZXNEYXRhKG0uUG9zaXRpb25LaW5kKSwhZSkpcmV0dXJuO3RoaXMuX2V4dGVuZD11bihlLDAsdGhpcy5fdG90YWxWZXJ0aWNlcyx0aGlzLmJvdW5kaW5nQmlhcywzKX19LGkucHJvdG90eXBlLl9hcHBseVRvTWVzaD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLl9tZXNoZXMubGVuZ3RoO2Zvcih2YXIgciBpbiB0aGlzLl92ZXJ0ZXhCdWZmZXJzKXQ9PT0xJiZ0aGlzLl92ZXJ0ZXhCdWZmZXJzW3JdLmNyZWF0ZSgpLHI9PT1tLlBvc2l0aW9uS2luZCYmKHRoaXMuX2V4dGVuZHx8dGhpcy5fdXBkYXRlRXh0ZW5kKCksZS5idWlsZEJvdW5kaW5nSW5mbyh0aGlzLl9leHRlbmQubWluaW11bSx0aGlzLl9leHRlbmQubWF4aW11bSksZS5fY3JlYXRlR2xvYmFsU3ViTWVzaChlLmlzVW5JbmRleGVkKSxlLl91cGRhdGVCb3VuZGluZ0luZm8oKSk7dD09PTEmJnRoaXMuX2luZGljZXMmJnRoaXMuX2luZGljZXMubGVuZ3RoPjAmJih0aGlzLl9pbmRleEJ1ZmZlcj10aGlzLl9lbmdpbmUuY3JlYXRlSW5kZXhCdWZmZXIodGhpcy5faW5kaWNlcyx0aGlzLl91cGRhdGFibGUpKSxlLl9zeW5jR2VvbWV0cnlXaXRoTW9ycGhUYXJnZXRNYW5hZ2VyKCksZS5zeW5jaHJvbml6ZUluc3RhbmNlcygpfSxpLnByb3RvdHlwZS5fbm90aWZ5VXBkYXRlPWZ1bmN0aW9uKGUpe3RoaXMub25HZW9tZXRyeVVwZGF0ZWQmJnRoaXMub25HZW9tZXRyeVVwZGF0ZWQodGhpcyxlKSx0aGlzLl92ZXJ0ZXhBcnJheU9iamVjdHMmJnRoaXMuX2Rpc3Bvc2VWZXJ0ZXhBcnJheU9iamVjdHMoKTtmb3IodmFyIHQ9MCxyPXRoaXMuX21lc2hlczt0PHIubGVuZ3RoO3QrKyl7dmFyIG49clt0XTtuLl9tYXJrU3ViTWVzaGVzQXNBdHRyaWJ1dGVzRGlydHkoKX19LGkucHJvdG90eXBlLmxvYWQ9ZnVuY3Rpb24oZSx0KXtpZih0aGlzLmRlbGF5TG9hZFN0YXRlIT09Mil7aWYodGhpcy5pc1JlYWR5KCkpe3QmJnQoKTtyZXR1cm59dGhpcy5kZWxheUxvYWRTdGF0ZT0yLHRoaXMuX3F1ZXVlTG9hZChlLHQpfX0saS5wcm90b3R5cGUuX3F1ZXVlTG9hZD1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7IXRoaXMuZGVsYXlMb2FkaW5nRmlsZXx8KGUuX2FkZFBlbmRpbmdEYXRhKHRoaXMpLGUuX2xvYWRGaWxlKHRoaXMuZGVsYXlMb2FkaW5nRmlsZSxmdW5jdGlvbihuKXtpZighIXIuX2RlbGF5TG9hZGluZ0Z1bmN0aW9uKXtyLl9kZWxheUxvYWRpbmdGdW5jdGlvbihKU09OLnBhcnNlKG4pLHIpLHIuZGVsYXlMb2FkU3RhdGU9MSxyLl9kZWxheUluZm89W10sZS5fcmVtb3ZlUGVuZGluZ0RhdGEocik7Zm9yKHZhciBhPXIuX21lc2hlcyxzPWEubGVuZ3RoLG89MDtvPHM7bysrKXIuX2FwcGx5VG9NZXNoKGFbb10pO3QmJnQoKX19LHZvaWQgMCwhMCkpfSxpLnByb3RvdHlwZS50b0xlZnRIYW5kZWQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldEluZGljZXMoITEpO2lmKGUhPW51bGwmJmUubGVuZ3RoPjApe2Zvcih2YXIgdD0wO3Q8ZS5sZW5ndGg7dCs9Myl7dmFyIHI9ZVt0KzBdO2VbdCswXT1lW3QrMl0sZVt0KzJdPXJ9dGhpcy5zZXRJbmRpY2VzKGUpfXZhciBuPXRoaXMuZ2V0VmVydGljZXNEYXRhKG0uUG9zaXRpb25LaW5kLCExKTtpZihuIT1udWxsJiZuLmxlbmd0aD4wKXtmb3IodmFyIHQ9MDt0PG4ubGVuZ3RoO3QrPTMpblt0KzJdPS1uW3QrMl07dGhpcy5zZXRWZXJ0aWNlc0RhdGEobS5Qb3NpdGlvbktpbmQsbiwhMSl9dmFyIGE9dGhpcy5nZXRWZXJ0aWNlc0RhdGEobS5Ob3JtYWxLaW5kLCExKTtpZihhIT1udWxsJiZhLmxlbmd0aD4wKXtmb3IodmFyIHQ9MDt0PGEubGVuZ3RoO3QrPTMpYVt0KzJdPS1hW3QrMl07dGhpcy5zZXRWZXJ0aWNlc0RhdGEobS5Ob3JtYWxLaW5kLGEsITEpfX0saS5wcm90b3R5cGUuX3Jlc2V0UG9pbnRzQXJyYXlDYWNoZT1mdW5jdGlvbigpe3RoaXMuX3Bvc2l0aW9ucz1udWxsfSxpLnByb3RvdHlwZS5fZ2VuZXJhdGVQb2ludHNBcnJheT1mdW5jdGlvbigpe2lmKHRoaXMuX3Bvc2l0aW9ucylyZXR1cm4hMDt2YXIgZT10aGlzLmdldFZlcnRpY2VzRGF0YShtLlBvc2l0aW9uS2luZCk7aWYoIWV8fGUubGVuZ3RoPT09MClyZXR1cm4hMTtmb3IodmFyIHQ9dGhpcy5fcG9zaXRpb25zQ2FjaGUubGVuZ3RoKjMscj10aGlzLl9wb3NpdGlvbnNDYWNoZS5sZW5ndGg7dDxlLmxlbmd0aDt0Kz0zLCsrcil0aGlzLl9wb3NpdGlvbnNDYWNoZVtyXT1iLkZyb21BcnJheShlLHQpO2Zvcih2YXIgdD0wLHI9MDt0PGUubGVuZ3RoO3QrPTMsKytyKXRoaXMuX3Bvc2l0aW9uc0NhY2hlW3JdLnNldChlWzArdF0sZVsxK3RdLGVbMit0XSk7cmV0dXJuIHRoaXMuX3Bvc2l0aW9uc0NhY2hlLmxlbmd0aD1lLmxlbmd0aC8zLHRoaXMuX3Bvc2l0aW9ucz10aGlzLl9wb3NpdGlvbnNDYWNoZSwhMH0saS5wcm90b3R5cGUuaXNEaXNwb3NlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9pc0Rpc3Bvc2VkfSxpLnByb3RvdHlwZS5fZGlzcG9zZVZlcnRleEFycmF5T2JqZWN0cz1mdW5jdGlvbigpe2lmKHRoaXMuX3ZlcnRleEFycmF5T2JqZWN0cyl7Zm9yKHZhciBlIGluIHRoaXMuX3ZlcnRleEFycmF5T2JqZWN0cyl0aGlzLl9lbmdpbmUucmVsZWFzZVZlcnRleEFycmF5T2JqZWN0KHRoaXMuX3ZlcnRleEFycmF5T2JqZWN0c1tlXSk7dGhpcy5fdmVydGV4QXJyYXlPYmplY3RzPXt9O2Zvcih2YXIgdD10aGlzLl9tZXNoZXMscj10Lmxlbmd0aCxuPTA7bjxyO24rKyl0W25dLl9pbnZhbGlkYXRlSW5zdGFuY2VWZXJ0ZXhBcnJheU9iamVjdCgpfX0saS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3ZhciBlPXRoaXMuX21lc2hlcyx0PWUubGVuZ3RoLHI7Zm9yKHI9MDtyPHQ7cisrKXRoaXMucmVsZWFzZUZvck1lc2goZVtyXSk7dGhpcy5fbWVzaGVzPVtdLHRoaXMuX2Rpc3Bvc2VWZXJ0ZXhBcnJheU9iamVjdHMoKTtmb3IodmFyIG4gaW4gdGhpcy5fdmVydGV4QnVmZmVycyl0aGlzLl92ZXJ0ZXhCdWZmZXJzW25dLmRpc3Bvc2UoKTtpZih0aGlzLl92ZXJ0ZXhCdWZmZXJzPXt9LHRoaXMuX3RvdGFsVmVydGljZXM9MCx0aGlzLl9pbmRleEJ1ZmZlciYmdGhpcy5fZW5naW5lLl9yZWxlYXNlQnVmZmVyKHRoaXMuX2luZGV4QnVmZmVyKSx0aGlzLl9pbmRleEJ1ZmZlcj1udWxsLHRoaXMuX2luZGljZXM9W10sdGhpcy5kZWxheUxvYWRTdGF0ZT0wLHRoaXMuZGVsYXlMb2FkaW5nRmlsZT1udWxsLHRoaXMuX2RlbGF5TG9hZGluZ0Z1bmN0aW9uPW51bGwsdGhpcy5fZGVsYXlJbmZvPVtdLHRoaXMuX2JvdW5kaW5nSW5mbz1udWxsLHRoaXMuX3NjZW5lLnJlbW92ZUdlb21ldHJ5KHRoaXMpLHRoaXMuX3BhcmVudENvbnRhaW5lcil7dmFyIGE9dGhpcy5fcGFyZW50Q29udGFpbmVyLmdlb21ldHJpZXMuaW5kZXhPZih0aGlzKTthPi0xJiZ0aGlzLl9wYXJlbnRDb250YWluZXIuZ2VvbWV0cmllcy5zcGxpY2UoYSwxKSx0aGlzLl9wYXJlbnRDb250YWluZXI9bnVsbH10aGlzLl9pc0Rpc3Bvc2VkPSEwfSxpLnByb3RvdHlwZS5jb3B5PWZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBnZTt0LmluZGljZXM9W107dmFyIHI9dGhpcy5nZXRJbmRpY2VzKCk7aWYocilmb3IodmFyIG49MDtuPHIubGVuZ3RoO24rKyl0LmluZGljZXMucHVzaChyW25dKTt2YXIgYT0hMSxzPSExLG87Zm9yKG8gaW4gdGhpcy5fdmVydGV4QnVmZmVycyl7dmFyIHU9dGhpcy5nZXRWZXJ0aWNlc0RhdGEobyk7aWYodSYmKHUgaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXk/dC5zZXQobmV3IEZsb2F0MzJBcnJheSh1KSxvKTp0LnNldCh1LnNsaWNlKDApLG8pLCFzKSl7dmFyIGY9dGhpcy5nZXRWZXJ0ZXhCdWZmZXIobyk7ZiYmKGE9Zi5pc1VwZGF0YWJsZSgpLHM9IWEpfX12YXIgbD1uZXcgaShlLHRoaXMuX3NjZW5lLHQsYSk7bC5kZWxheUxvYWRTdGF0ZT10aGlzLmRlbGF5TG9hZFN0YXRlLGwuZGVsYXlMb2FkaW5nRmlsZT10aGlzLmRlbGF5TG9hZGluZ0ZpbGUsbC5fZGVsYXlMb2FkaW5nRnVuY3Rpb249dGhpcy5fZGVsYXlMb2FkaW5nRnVuY3Rpb247Zm9yKG8gaW4gdGhpcy5fZGVsYXlJbmZvKWwuX2RlbGF5SW5mbz1sLl9kZWxheUluZm98fFtdLGwuX2RlbGF5SW5mby5wdXNoKG8pO3JldHVybiBsLl9ib3VuZGluZ0luZm89bmV3IFN0KHRoaXMuX2V4dGVuZC5taW5pbXVtLHRoaXMuX2V4dGVuZC5tYXhpbXVtKSxsfSxpLnByb3RvdHlwZS5zZXJpYWxpemU9ZnVuY3Rpb24oKXt2YXIgZT17fTtyZXR1cm4gZS5pZD10aGlzLmlkLGUudW5pcXVlSWQ9dGhpcy51bmlxdWVJZCxlLnVwZGF0YWJsZT10aGlzLl91cGRhdGFibGUsZGUmJmRlLkhhc1RhZ3ModGhpcykmJihlLnRhZ3M9ZGUuR2V0VGFncyh0aGlzKSksZX0saS5wcm90b3R5cGUuX3RvTnVtYmVyQXJyYXk9ZnVuY3Rpb24oZSl7cmV0dXJuIEFycmF5LmlzQXJyYXkoZSk/ZTpBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChlKX0saS5wcm90b3R5cGUuY2xlYXJDYWNoZWREYXRhPWZ1bmN0aW9uKCl7dGhpcy5faW5kaWNlcz1bXSx0aGlzLl9yZXNldFBvaW50c0FycmF5Q2FjaGUoKTtmb3IodmFyIGUgaW4gdGhpcy5fdmVydGV4QnVmZmVycykhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMuX3ZlcnRleEJ1ZmZlcnMsZSl8fCh0aGlzLl92ZXJ0ZXhCdWZmZXJzW2VdLl9idWZmZXIuX2RhdGE9bnVsbCl9LGkucHJvdG90eXBlLnNlcmlhbGl6ZVZlcnRpY2VEYXRhPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5zZXJpYWxpemUoKTtyZXR1cm4gdGhpcy5pc1ZlcnRpY2VzRGF0YVByZXNlbnQobS5Qb3NpdGlvbktpbmQpJiYoZS5wb3NpdGlvbnM9dGhpcy5fdG9OdW1iZXJBcnJheSh0aGlzLmdldFZlcnRpY2VzRGF0YShtLlBvc2l0aW9uS2luZCkpLHRoaXMuaXNWZXJ0ZXhCdWZmZXJVcGRhdGFibGUobS5Qb3NpdGlvbktpbmQpJiYoZS5wb3NpdGlvbnMuX3VwZGF0YWJsZT0hMCkpLHRoaXMuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KG0uTm9ybWFsS2luZCkmJihlLm5vcm1hbHM9dGhpcy5fdG9OdW1iZXJBcnJheSh0aGlzLmdldFZlcnRpY2VzRGF0YShtLk5vcm1hbEtpbmQpKSx0aGlzLmlzVmVydGV4QnVmZmVyVXBkYXRhYmxlKG0uTm9ybWFsS2luZCkmJihlLm5vcm1hbHMuX3VwZGF0YWJsZT0hMCkpLHRoaXMuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KG0uVGFuZ2VudEtpbmQpJiYoZS50YW5nZW50cz10aGlzLl90b051bWJlckFycmF5KHRoaXMuZ2V0VmVydGljZXNEYXRhKG0uVGFuZ2VudEtpbmQpKSx0aGlzLmlzVmVydGV4QnVmZmVyVXBkYXRhYmxlKG0uVGFuZ2VudEtpbmQpJiYoZS50YW5nZW50cy5fdXBkYXRhYmxlPSEwKSksdGhpcy5pc1ZlcnRpY2VzRGF0YVByZXNlbnQobS5VVktpbmQpJiYoZS51dnM9dGhpcy5fdG9OdW1iZXJBcnJheSh0aGlzLmdldFZlcnRpY2VzRGF0YShtLlVWS2luZCkpLHRoaXMuaXNWZXJ0ZXhCdWZmZXJVcGRhdGFibGUobS5VVktpbmQpJiYoZS51dnMuX3VwZGF0YWJsZT0hMCkpLHRoaXMuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KG0uVVYyS2luZCkmJihlLnV2MnM9dGhpcy5fdG9OdW1iZXJBcnJheSh0aGlzLmdldFZlcnRpY2VzRGF0YShtLlVWMktpbmQpKSx0aGlzLmlzVmVydGV4QnVmZmVyVXBkYXRhYmxlKG0uVVYyS2luZCkmJihlLnV2MnMuX3VwZGF0YWJsZT0hMCkpLHRoaXMuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KG0uVVYzS2luZCkmJihlLnV2M3M9dGhpcy5fdG9OdW1iZXJBcnJheSh0aGlzLmdldFZlcnRpY2VzRGF0YShtLlVWM0tpbmQpKSx0aGlzLmlzVmVydGV4QnVmZmVyVXBkYXRhYmxlKG0uVVYzS2luZCkmJihlLnV2M3MuX3VwZGF0YWJsZT0hMCkpLHRoaXMuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KG0uVVY0S2luZCkmJihlLnV2NHM9dGhpcy5fdG9OdW1iZXJBcnJheSh0aGlzLmdldFZlcnRpY2VzRGF0YShtLlVWNEtpbmQpKSx0aGlzLmlzVmVydGV4QnVmZmVyVXBkYXRhYmxlKG0uVVY0S2luZCkmJihlLnV2NHMuX3VwZGF0YWJsZT0hMCkpLHRoaXMuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KG0uVVY1S2luZCkmJihlLnV2NXM9dGhpcy5fdG9OdW1iZXJBcnJheSh0aGlzLmdldFZlcnRpY2VzRGF0YShtLlVWNUtpbmQpKSx0aGlzLmlzVmVydGV4QnVmZmVyVXBkYXRhYmxlKG0uVVY1S2luZCkmJihlLnV2NXMuX3VwZGF0YWJsZT0hMCkpLHRoaXMuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KG0uVVY2S2luZCkmJihlLnV2NnM9dGhpcy5fdG9OdW1iZXJBcnJheSh0aGlzLmdldFZlcnRpY2VzRGF0YShtLlVWNktpbmQpKSx0aGlzLmlzVmVydGV4QnVmZmVyVXBkYXRhYmxlKG0uVVY2S2luZCkmJihlLnV2NnMuX3VwZGF0YWJsZT0hMCkpLHRoaXMuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KG0uQ29sb3JLaW5kKSYmKGUuY29sb3JzPXRoaXMuX3RvTnVtYmVyQXJyYXkodGhpcy5nZXRWZXJ0aWNlc0RhdGEobS5Db2xvcktpbmQpKSx0aGlzLmlzVmVydGV4QnVmZmVyVXBkYXRhYmxlKG0uQ29sb3JLaW5kKSYmKGUuY29sb3JzLl91cGRhdGFibGU9ITApKSx0aGlzLmlzVmVydGljZXNEYXRhUHJlc2VudChtLk1hdHJpY2VzSW5kaWNlc0tpbmQpJiYoZS5tYXRyaWNlc0luZGljZXM9dGhpcy5fdG9OdW1iZXJBcnJheSh0aGlzLmdldFZlcnRpY2VzRGF0YShtLk1hdHJpY2VzSW5kaWNlc0tpbmQpKSxlLm1hdHJpY2VzSW5kaWNlcy5faXNFeHBhbmRlZD0hMCx0aGlzLmlzVmVydGV4QnVmZmVyVXBkYXRhYmxlKG0uTWF0cmljZXNJbmRpY2VzS2luZCkmJihlLm1hdHJpY2VzSW5kaWNlcy5fdXBkYXRhYmxlPSEwKSksdGhpcy5pc1ZlcnRpY2VzRGF0YVByZXNlbnQobS5NYXRyaWNlc1dlaWdodHNLaW5kKSYmKGUubWF0cmljZXNXZWlnaHRzPXRoaXMuX3RvTnVtYmVyQXJyYXkodGhpcy5nZXRWZXJ0aWNlc0RhdGEobS5NYXRyaWNlc1dlaWdodHNLaW5kKSksdGhpcy5pc1ZlcnRleEJ1ZmZlclVwZGF0YWJsZShtLk1hdHJpY2VzV2VpZ2h0c0tpbmQpJiYoZS5tYXRyaWNlc1dlaWdodHMuX3VwZGF0YWJsZT0hMCkpLGUuaW5kaWNlcz10aGlzLl90b051bWJlckFycmF5KHRoaXMuZ2V0SW5kaWNlcygpKSxlfSxpLkV4dHJhY3RGcm9tTWVzaD1mdW5jdGlvbihlLHQpe3ZhciByPWUuX2dlb21ldHJ5O3JldHVybiByP3IuY29weSh0KTpudWxsfSxpLlJhbmRvbUlkPWZ1bmN0aW9uKCl7cmV0dXJuIF9lLlJhbmRvbUlkKCl9LGkuX0dldEdlb21ldHJ5QnlMb2FkZWRVbmlxdWVJZD1mdW5jdGlvbihlLHQpe2Zvcih2YXIgcj0wO3I8dC5nZW9tZXRyaWVzLmxlbmd0aDtyKyspaWYodC5nZW9tZXRyaWVzW3JdLl9sb2FkZWRVbmlxdWVJZD09PWUpcmV0dXJuIHQuZ2VvbWV0cmllc1tyXTtyZXR1cm4gbnVsbH0saS5fSW1wb3J0R2VvbWV0cnk9ZnVuY3Rpb24oZSx0KXt2YXIgcj10LmdldFNjZW5lKCksbj1lLmdlb21ldHJ5VW5pcXVlSWQsYT1lLmdlb21ldHJ5SWQ7aWYobnx8YSl7dmFyIHM9bj90aGlzLl9HZXRHZW9tZXRyeUJ5TG9hZGVkVW5pcXVlSWQobixyKTpyLmdldEdlb21ldHJ5QnlJZChhKTtzJiZzLmFwcGx5VG9NZXNoKHQpfWVsc2UgaWYoZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKXt2YXIgbz10Ll9iaW5hcnlJbmZvO2lmKG8ucG9zaXRpb25zQXR0ckRlc2MmJm8ucG9zaXRpb25zQXR0ckRlc2MuY291bnQ+MCl7dmFyIHU9bmV3IEZsb2F0MzJBcnJheShlLG8ucG9zaXRpb25zQXR0ckRlc2Mub2Zmc2V0LG8ucG9zaXRpb25zQXR0ckRlc2MuY291bnQpO3Quc2V0VmVydGljZXNEYXRhKG0uUG9zaXRpb25LaW5kLHUsITEpfWlmKG8ubm9ybWFsc0F0dHJEZXNjJiZvLm5vcm1hbHNBdHRyRGVzYy5jb3VudD4wKXt2YXIgZj1uZXcgRmxvYXQzMkFycmF5KGUsby5ub3JtYWxzQXR0ckRlc2Mub2Zmc2V0LG8ubm9ybWFsc0F0dHJEZXNjLmNvdW50KTt0LnNldFZlcnRpY2VzRGF0YShtLk5vcm1hbEtpbmQsZiwhMSl9aWYoby50YW5nZXRzQXR0ckRlc2MmJm8udGFuZ2V0c0F0dHJEZXNjLmNvdW50PjApe3ZhciBsPW5ldyBGbG9hdDMyQXJyYXkoZSxvLnRhbmdldHNBdHRyRGVzYy5vZmZzZXQsby50YW5nZXRzQXR0ckRlc2MuY291bnQpO3Quc2V0VmVydGljZXNEYXRhKG0uVGFuZ2VudEtpbmQsbCwhMSl9aWYoby51dnNBdHRyRGVzYyYmby51dnNBdHRyRGVzYy5jb3VudD4wKXt2YXIgaD1uZXcgRmxvYXQzMkFycmF5KGUsby51dnNBdHRyRGVzYy5vZmZzZXQsby51dnNBdHRyRGVzYy5jb3VudCk7aWYoamUuVXNlT3BlbkdMT3JpZW50YXRpb25Gb3JVVilmb3IodmFyIGM9MTtjPGgubGVuZ3RoO2MrPTIpaFtjXT0xLWhbY107dC5zZXRWZXJ0aWNlc0RhdGEobS5VVktpbmQsaCwhMSl9aWYoby51dnMyQXR0ckRlc2MmJm8udXZzMkF0dHJEZXNjLmNvdW50PjApe3ZhciBkPW5ldyBGbG9hdDMyQXJyYXkoZSxvLnV2czJBdHRyRGVzYy5vZmZzZXQsby51dnMyQXR0ckRlc2MuY291bnQpO2lmKGplLlVzZU9wZW5HTE9yaWVudGF0aW9uRm9yVVYpZm9yKHZhciBjPTE7YzxkLmxlbmd0aDtjKz0yKWRbY109MS1kW2NdO3Quc2V0VmVydGljZXNEYXRhKG0uVVYyS2luZCxkLCExKX1pZihvLnV2czNBdHRyRGVzYyYmby51dnMzQXR0ckRlc2MuY291bnQ+MCl7dmFyIHA9bmV3IEZsb2F0MzJBcnJheShlLG8udXZzM0F0dHJEZXNjLm9mZnNldCxvLnV2czNBdHRyRGVzYy5jb3VudCk7aWYoamUuVXNlT3BlbkdMT3JpZW50YXRpb25Gb3JVVilmb3IodmFyIGM9MTtjPHAubGVuZ3RoO2MrPTIpcFtjXT0xLXBbY107dC5zZXRWZXJ0aWNlc0RhdGEobS5VVjNLaW5kLHAsITEpfWlmKG8udXZzNEF0dHJEZXNjJiZvLnV2czRBdHRyRGVzYy5jb3VudD4wKXt2YXIgZz1uZXcgRmxvYXQzMkFycmF5KGUsby51dnM0QXR0ckRlc2Mub2Zmc2V0LG8udXZzNEF0dHJEZXNjLmNvdW50KTtpZihqZS5Vc2VPcGVuR0xPcmllbnRhdGlvbkZvclVWKWZvcih2YXIgYz0xO2M8Zy5sZW5ndGg7Yys9MilnW2NdPTEtZ1tjXTt0LnNldFZlcnRpY2VzRGF0YShtLlVWNEtpbmQsZywhMSl9aWYoby51dnM1QXR0ckRlc2MmJm8udXZzNUF0dHJEZXNjLmNvdW50PjApe3ZhciBfPW5ldyBGbG9hdDMyQXJyYXkoZSxvLnV2czVBdHRyRGVzYy5vZmZzZXQsby51dnM1QXR0ckRlc2MuY291bnQpO2lmKGplLlVzZU9wZW5HTE9yaWVudGF0aW9uRm9yVVYpZm9yKHZhciBjPTE7YzxfLmxlbmd0aDtjKz0yKV9bY109MS1fW2NdO3Quc2V0VmVydGljZXNEYXRhKG0uVVY1S2luZCxfLCExKX1pZihvLnV2czZBdHRyRGVzYyYmby51dnM2QXR0ckRlc2MuY291bnQ+MCl7dmFyIHY9bmV3IEZsb2F0MzJBcnJheShlLG8udXZzNkF0dHJEZXNjLm9mZnNldCxvLnV2czZBdHRyRGVzYy5jb3VudCk7aWYoamUuVXNlT3BlbkdMT3JpZW50YXRpb25Gb3JVVilmb3IodmFyIGM9MTtjPHYubGVuZ3RoO2MrPTIpdltjXT0xLXZbY107dC5zZXRWZXJ0aWNlc0RhdGEobS5VVjZLaW5kLHYsITEpfWlmKG8uY29sb3JzQXR0ckRlc2MmJm8uY29sb3JzQXR0ckRlc2MuY291bnQ+MCl7dmFyIHk9bmV3IEZsb2F0MzJBcnJheShlLG8uY29sb3JzQXR0ckRlc2Mub2Zmc2V0LG8uY29sb3JzQXR0ckRlc2MuY291bnQpO3Quc2V0VmVydGljZXNEYXRhKG0uQ29sb3JLaW5kLHksITEsby5jb2xvcnNBdHRyRGVzYy5zdHJpZGUpfWlmKG8ubWF0cmljZXNJbmRpY2VzQXR0ckRlc2MmJm8ubWF0cmljZXNJbmRpY2VzQXR0ckRlc2MuY291bnQ+MCl7Zm9yKHZhciBFPW5ldyBJbnQzMkFycmF5KGUsby5tYXRyaWNlc0luZGljZXNBdHRyRGVzYy5vZmZzZXQsby5tYXRyaWNlc0luZGljZXNBdHRyRGVzYy5jb3VudCksUj1bXSxNPTA7TTxFLmxlbmd0aDtNKyspe3ZhciBjPUVbTV07Ui5wdXNoKGMmMjU1KSxSLnB1c2goKGMmNjUyODApPj44KSxSLnB1c2goKGMmMTY3MTE2ODApPj4xNiksUi5wdXNoKGM+PjI0JjI1NSl9dC5zZXRWZXJ0aWNlc0RhdGEobS5NYXRyaWNlc0luZGljZXNLaW5kLFIsITEpfWlmKG8ubWF0cmljZXNJbmRpY2VzRXh0cmFBdHRyRGVzYyYmby5tYXRyaWNlc0luZGljZXNFeHRyYUF0dHJEZXNjLmNvdW50PjApe2Zvcih2YXIgRT1uZXcgSW50MzJBcnJheShlLG8ubWF0cmljZXNJbmRpY2VzRXh0cmFBdHRyRGVzYy5vZmZzZXQsby5tYXRyaWNlc0luZGljZXNFeHRyYUF0dHJEZXNjLmNvdW50KSxSPVtdLE09MDtNPEUubGVuZ3RoO00rKyl7dmFyIGM9RVtNXTtSLnB1c2goYyYyNTUpLFIucHVzaCgoYyY2NTI4MCk+PjgpLFIucHVzaCgoYyYxNjcxMTY4MCk+PjE2KSxSLnB1c2goYz4+MjQmMjU1KX10LnNldFZlcnRpY2VzRGF0YShtLk1hdHJpY2VzSW5kaWNlc0V4dHJhS2luZCxSLCExKX1pZihvLm1hdHJpY2VzV2VpZ2h0c0F0dHJEZXNjJiZvLm1hdHJpY2VzV2VpZ2h0c0F0dHJEZXNjLmNvdW50PjApe3ZhciBDPW5ldyBGbG9hdDMyQXJyYXkoZSxvLm1hdHJpY2VzV2VpZ2h0c0F0dHJEZXNjLm9mZnNldCxvLm1hdHJpY2VzV2VpZ2h0c0F0dHJEZXNjLmNvdW50KTt0LnNldFZlcnRpY2VzRGF0YShtLk1hdHJpY2VzV2VpZ2h0c0tpbmQsQywhMSl9aWYoby5pbmRpY2VzQXR0ckRlc2MmJm8uaW5kaWNlc0F0dHJEZXNjLmNvdW50PjApe3ZhciBBPW5ldyBJbnQzMkFycmF5KGUsby5pbmRpY2VzQXR0ckRlc2Mub2Zmc2V0LG8uaW5kaWNlc0F0dHJEZXNjLmNvdW50KTt0LnNldEluZGljZXMoQSxudWxsKX1pZihvLnN1Yk1lc2hlc0F0dHJEZXNjJiZvLnN1Yk1lc2hlc0F0dHJEZXNjLmNvdW50PjApe3ZhciBTPW5ldyBJbnQzMkFycmF5KGUsby5zdWJNZXNoZXNBdHRyRGVzYy5vZmZzZXQsby5zdWJNZXNoZXNBdHRyRGVzYy5jb3VudCo1KTt0LnN1Yk1lc2hlcz1bXTtmb3IodmFyIE09MDtNPG8uc3ViTWVzaGVzQXR0ckRlc2MuY291bnQ7TSsrKXt2YXIgdz1TW00qNSswXSxGPVNbTSo1KzFdLHg9U1tNKjUrMl0sRz1TW00qNSszXSx6PVNbTSo1KzRdO010LkFkZFRvTWVzaCh3LEYseCxHLHosdCl9fX1lbHNlIGlmKGUucG9zaXRpb25zJiZlLm5vcm1hbHMmJmUuaW5kaWNlcyl7aWYodC5zZXRWZXJ0aWNlc0RhdGEobS5Qb3NpdGlvbktpbmQsZS5wb3NpdGlvbnMsZS5wb3NpdGlvbnMuX3VwZGF0YWJsZSksdC5zZXRWZXJ0aWNlc0RhdGEobS5Ob3JtYWxLaW5kLGUubm9ybWFscyxlLm5vcm1hbHMuX3VwZGF0YWJsZSksZS50YW5nZW50cyYmdC5zZXRWZXJ0aWNlc0RhdGEobS5UYW5nZW50S2luZCxlLnRhbmdlbnRzLGUudGFuZ2VudHMuX3VwZGF0YWJsZSksZS51dnMmJnQuc2V0VmVydGljZXNEYXRhKG0uVVZLaW5kLGUudXZzLGUudXZzLl91cGRhdGFibGUpLGUudXZzMiYmdC5zZXRWZXJ0aWNlc0RhdGEobS5VVjJLaW5kLGUudXZzMixlLnV2czIuX3VwZGF0YWJsZSksZS51dnMzJiZ0LnNldFZlcnRpY2VzRGF0YShtLlVWM0tpbmQsZS51dnMzLGUudXZzMy5fdXBkYXRhYmxlKSxlLnV2czQmJnQuc2V0VmVydGljZXNEYXRhKG0uVVY0S2luZCxlLnV2czQsZS51dnM0Ll91cGRhdGFibGUpLGUudXZzNSYmdC5zZXRWZXJ0aWNlc0RhdGEobS5VVjVLaW5kLGUudXZzNSxlLnV2czUuX3VwZGF0YWJsZSksZS51dnM2JiZ0LnNldFZlcnRpY2VzRGF0YShtLlVWNktpbmQsZS51dnM2LGUudXZzNi5fdXBkYXRhYmxlKSxlLmNvbG9ycyYmdC5zZXRWZXJ0aWNlc0RhdGEobS5Db2xvcktpbmQsRWUuQ2hlY2tDb2xvcnM0KGUuY29sb3JzLGUucG9zaXRpb25zLmxlbmd0aC8zKSxlLmNvbG9ycy5fdXBkYXRhYmxlKSxlLm1hdHJpY2VzSW5kaWNlcylpZihlLm1hdHJpY2VzSW5kaWNlcy5faXNFeHBhbmRlZClkZWxldGUgZS5tYXRyaWNlc0luZGljZXMuX2lzRXhwYW5kZWQsdC5zZXRWZXJ0aWNlc0RhdGEobS5NYXRyaWNlc0luZGljZXNLaW5kLGUubWF0cmljZXNJbmRpY2VzLGUubWF0cmljZXNJbmRpY2VzLl91cGRhdGFibGUpO2Vsc2V7Zm9yKHZhciBSPVtdLE09MDtNPGUubWF0cmljZXNJbmRpY2VzLmxlbmd0aDtNKyspe3ZhciBOPWUubWF0cmljZXNJbmRpY2VzW01dO1IucHVzaChOJjI1NSksUi5wdXNoKChOJjY1MjgwKT4+OCksUi5wdXNoKChOJjE2NzExNjgwKT4+MTYpLFIucHVzaChOPj4yNCYyNTUpfXQuc2V0VmVydGljZXNEYXRhKG0uTWF0cmljZXNJbmRpY2VzS2luZCxSLGUubWF0cmljZXNJbmRpY2VzLl91cGRhdGFibGUpfWlmKGUubWF0cmljZXNJbmRpY2VzRXh0cmEpaWYoZS5tYXRyaWNlc0luZGljZXNFeHRyYS5faXNFeHBhbmRlZClkZWxldGUgZS5tYXRyaWNlc0luZGljZXMuX2lzRXhwYW5kZWQsdC5zZXRWZXJ0aWNlc0RhdGEobS5NYXRyaWNlc0luZGljZXNFeHRyYUtpbmQsZS5tYXRyaWNlc0luZGljZXNFeHRyYSxlLm1hdHJpY2VzSW5kaWNlc0V4dHJhLl91cGRhdGFibGUpO2Vsc2V7Zm9yKHZhciBSPVtdLE09MDtNPGUubWF0cmljZXNJbmRpY2VzRXh0cmEubGVuZ3RoO00rKyl7dmFyIE49ZS5tYXRyaWNlc0luZGljZXNFeHRyYVtNXTtSLnB1c2goTiYyNTUpLFIucHVzaCgoTiY2NTI4MCk+PjgpLFIucHVzaCgoTiYxNjcxMTY4MCk+PjE2KSxSLnB1c2goTj4+MjQmMjU1KX10LnNldFZlcnRpY2VzRGF0YShtLk1hdHJpY2VzSW5kaWNlc0V4dHJhS2luZCxSLGUubWF0cmljZXNJbmRpY2VzRXh0cmEuX3VwZGF0YWJsZSl9ZS5tYXRyaWNlc1dlaWdodHMmJihpLl9DbGVhbk1hdHJpY2VzV2VpZ2h0cyhlLHQpLHQuc2V0VmVydGljZXNEYXRhKG0uTWF0cmljZXNXZWlnaHRzS2luZCxlLm1hdHJpY2VzV2VpZ2h0cyxlLm1hdHJpY2VzV2VpZ2h0cy5fdXBkYXRhYmxlKSksZS5tYXRyaWNlc1dlaWdodHNFeHRyYSYmdC5zZXRWZXJ0aWNlc0RhdGEobS5NYXRyaWNlc1dlaWdodHNFeHRyYUtpbmQsZS5tYXRyaWNlc1dlaWdodHNFeHRyYSxlLm1hdHJpY2VzV2VpZ2h0cy5fdXBkYXRhYmxlKSx0LnNldEluZGljZXMoZS5pbmRpY2VzLG51bGwpfWlmKGUuc3ViTWVzaGVzKXt0LnN1Yk1lc2hlcz1bXTtmb3IodmFyIHE9MDtxPGUuc3ViTWVzaGVzLmxlbmd0aDtxKyspe3ZhciAkPWUuc3ViTWVzaGVzW3FdO010LkFkZFRvTWVzaCgkLm1hdGVyaWFsSW5kZXgsJC52ZXJ0aWNlc1N0YXJ0LCQudmVydGljZXNDb3VudCwkLmluZGV4U3RhcnQsJC5pbmRleENvdW50LHQpfX10Ll9zaG91bGRHZW5lcmF0ZUZsYXRTaGFkaW5nJiYodC5jb252ZXJ0VG9GbGF0U2hhZGVkTWVzaCgpLHQuX3Nob3VsZEdlbmVyYXRlRmxhdFNoYWRpbmc9ITEpLHQuY29tcHV0ZVdvcmxkTWF0cml4KCEwKSxyLm9uTWVzaEltcG9ydGVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModCl9LGkuX0NsZWFuTWF0cmljZXNXZWlnaHRzPWZ1bmN0aW9uKGUsdCl7dmFyIHI9LjAwMTtpZighIW50LkNsZWFuQm9uZU1hdHJpeFdlaWdodHMpe3ZhciBuPTA7aWYoZS5za2VsZXRvbklkPi0xKXt2YXIgYT10LmdldFNjZW5lKCkuZ2V0TGFzdFNrZWxldG9uQnlJZChlLnNrZWxldG9uSWQpO2lmKCFhKXJldHVybjtuPWEuYm9uZXMubGVuZ3RofWVsc2UgcmV0dXJuO2Zvcih2YXIgcz10LmdldFZlcnRpY2VzRGF0YShtLk1hdHJpY2VzSW5kaWNlc0tpbmQpLG89dC5nZXRWZXJ0aWNlc0RhdGEobS5NYXRyaWNlc0luZGljZXNFeHRyYUtpbmQpLHU9ZS5tYXRyaWNlc1dlaWdodHMsZj1lLm1hdHJpY2VzV2VpZ2h0c0V4dHJhLGw9ZS5udW1Cb25lSW5mbHVlbmNlcixoPXUubGVuZ3RoLGM9MDtjPGg7Yys9NCl7Zm9yKHZhciBkPTAscD0tMSxnPTA7Zzw0O2crKyl7dmFyIF89dVtjK2ddO2QrPV8sXzxyJiZwPDAmJihwPWcpfWlmKGYpZm9yKHZhciBnPTA7Zzw0O2crKyl7dmFyIF89ZltjK2ddO2QrPV8sXzxyJiZwPDAmJihwPWcrNCl9aWYoKHA8MHx8cD5sLTEpJiYocD1sLTEpLGQ+cil7Zm9yKHZhciB2PTEvZCxnPTA7Zzw0O2crKyl1W2MrZ10qPXY7aWYoZilmb3IodmFyIGc9MDtnPDQ7ZysrKWZbYytnXSo9dn1lbHNlIHA+PTQ/KGZbYytwLTRdPTEtZCxvW2MrcC00XT1uKToodVtjK3BdPTEtZCxzW2MrcF09bil9dC5zZXRWZXJ0aWNlc0RhdGEobS5NYXRyaWNlc0luZGljZXNLaW5kLHMpLGUubWF0cmljZXNXZWlnaHRzRXh0cmEmJnQuc2V0VmVydGljZXNEYXRhKG0uTWF0cmljZXNJbmRpY2VzRXh0cmFLaW5kLG8pfX0saS5QYXJzZT1mdW5jdGlvbihlLHQscil7dmFyIG49bmV3IGkoZS5pZCx0LHZvaWQgMCxlLnVwZGF0YWJsZSk7cmV0dXJuIG4uX2xvYWRlZFVuaXF1ZUlkPWUudW5pcXVlSWQsZGUmJmRlLkFkZFRhZ3NUbyhuLGUudGFncyksZS5kZWxheUxvYWRpbmdGaWxlPyhuLmRlbGF5TG9hZFN0YXRlPTQsbi5kZWxheUxvYWRpbmdGaWxlPXIrZS5kZWxheUxvYWRpbmdGaWxlLG4uX2JvdW5kaW5nSW5mbz1uZXcgU3QoYi5Gcm9tQXJyYXkoZS5ib3VuZGluZ0JveE1pbmltdW0pLGIuRnJvbUFycmF5KGUuYm91bmRpbmdCb3hNYXhpbXVtKSksbi5fZGVsYXlJbmZvPVtdLGUuaGFzVVZzJiZuLl9kZWxheUluZm8ucHVzaChtLlVWS2luZCksZS5oYXNVVnMyJiZuLl9kZWxheUluZm8ucHVzaChtLlVWMktpbmQpLGUuaGFzVVZzMyYmbi5fZGVsYXlJbmZvLnB1c2gobS5VVjNLaW5kKSxlLmhhc1VWczQmJm4uX2RlbGF5SW5mby5wdXNoKG0uVVY0S2luZCksZS5oYXNVVnM1JiZuLl9kZWxheUluZm8ucHVzaChtLlVWNUtpbmQpLGUuaGFzVVZzNiYmbi5fZGVsYXlJbmZvLnB1c2gobS5VVjZLaW5kKSxlLmhhc0NvbG9ycyYmbi5fZGVsYXlJbmZvLnB1c2gobS5Db2xvcktpbmQpLGUuaGFzTWF0cmljZXNJbmRpY2VzJiZuLl9kZWxheUluZm8ucHVzaChtLk1hdHJpY2VzSW5kaWNlc0tpbmQpLGUuaGFzTWF0cmljZXNXZWlnaHRzJiZuLl9kZWxheUluZm8ucHVzaChtLk1hdHJpY2VzV2VpZ2h0c0tpbmQpLG4uX2RlbGF5TG9hZGluZ0Z1bmN0aW9uPWdlLkltcG9ydFZlcnRleERhdGEpOmdlLkltcG9ydFZlcnRleERhdGEoZSxuKSx0LnB1c2hHZW9tZXRyeShuLCEwKSxufSxpfSgpLGN0OyhmdW5jdGlvbihpKXtpW2kuTE9DQUw9MF09IkxPQ0FMIixpW2kuV09STEQ9MV09IldPUkxEIixpW2kuQk9ORT0yXT0iQk9ORSJ9KShjdHx8KGN0PXt9KSk7dmFyIENyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaSgpe31yZXR1cm4gaS5YPW5ldyBiKDEsMCwwKSxpLlk9bmV3IGIoMCwxLDApLGkuWj1uZXcgYigwLDAsMSksaX0oKSxmbjsoZnVuY3Rpb24oaSl7aVtpLlg9MF09IlgiLGlbaS5ZPTFdPSJZIixpW2kuWj0yXT0iWiJ9KShmbnx8KGZuPXt9KSk7dmFyIEplPWZ1bmN0aW9uKGkpe0soZSxpKTtmdW5jdGlvbiBlKHQscixuKXtyPT09dm9pZCAwJiYocj1udWxsKSxuPT09dm9pZCAwJiYobj0hMCk7dmFyIGE9aS5jYWxsKHRoaXMsdCxyKXx8dGhpcztyZXR1cm4gYS5fZm9yd2FyZD1uZXcgYigwLDAsMSksYS5fdXA9bmV3IGIoMCwxLDApLGEuX3JpZ2h0PW5ldyBiKDEsMCwwKSxhLl9wb3NpdGlvbj1iLlplcm8oKSxhLl9yb3RhdGlvbj1iLlplcm8oKSxhLl9yb3RhdGlvblF1YXRlcm5pb249bnVsbCxhLl9zY2FsaW5nPWIuT25lKCksYS5fdHJhbnNmb3JtVG9Cb25lUmVmZXJhbD1udWxsLGEuX2lzQWJzb2x1dGVTeW5jZWQ9ITEsYS5fYmlsbGJvYXJkTW9kZT1lLkJJTExCT0FSRE1PREVfTk9ORSxhLl9wcmVzZXJ2ZVBhcmVudFJvdGF0aW9uRm9yQmlsbGJvYXJkPSExLGEuc2NhbGluZ0RldGVybWluYW50PTEsYS5faW5maW5pdGVEaXN0YW5jZT0hMSxhLmlnbm9yZU5vblVuaWZvcm1TY2FsaW5nPSExLGEucmVJbnRlZ3JhdGVSb3RhdGlvbkludG9Sb3RhdGlvblF1YXRlcm5pb249ITEsYS5fcG9zZU1hdHJpeD1udWxsLGEuX2xvY2FsTWF0cml4PUkuWmVybygpLGEuX3VzZVBpdm90TWF0cml4PSExLGEuX2Fic29sdXRlUG9zaXRpb249Yi5aZXJvKCksYS5fYWJzb2x1dGVTY2FsaW5nPWIuWmVybygpLGEuX2Fic29sdXRlUm90YXRpb25RdWF0ZXJuaW9uPXNlLklkZW50aXR5KCksYS5fcGl2b3RNYXRyaXg9SS5JZGVudGl0eSgpLGEuX3Bvc3RNdWx0aXBseVBpdm90TWF0cml4PSExLGEuX2lzV29ybGRNYXRyaXhGcm96ZW49ITEsYS5faW5kZXhJblNjZW5lVHJhbnNmb3JtTm9kZXNBcnJheT0tMSxhLm9uQWZ0ZXJXb3JsZE1hdHJpeFVwZGF0ZU9ic2VydmFibGU9bmV3IE8sYS5fbm9uVW5pZm9ybVNjYWxpbmc9ITEsbiYmYS5nZXRTY2VuZSgpLmFkZFRyYW5zZm9ybU5vZGUoYSksYX1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJiaWxsYm9hcmRNb2RlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2JpbGxib2FyZE1vZGV9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9iaWxsYm9hcmRNb2RlIT09dCYmKHRoaXMuX2JpbGxib2FyZE1vZGU9dCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJwcmVzZXJ2ZVBhcmVudFJvdGF0aW9uRm9yQmlsbGJvYXJkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3ByZXNlcnZlUGFyZW50Um90YXRpb25Gb3JCaWxsYm9hcmR9LHNldDpmdW5jdGlvbih0KXt0IT09dGhpcy5fcHJlc2VydmVQYXJlbnRSb3RhdGlvbkZvckJpbGxib2FyZCYmKHRoaXMuX3ByZXNlcnZlUGFyZW50Um90YXRpb25Gb3JCaWxsYm9hcmQ9dCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJpbmZpbml0ZURpc3RhbmNlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2luZmluaXRlRGlzdGFuY2V9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9pbmZpbml0ZURpc3RhbmNlIT09dCYmKHRoaXMuX2luZmluaXRlRGlzdGFuY2U9dCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuZ2V0Q2xhc3NOYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIlRyYW5zZm9ybU5vZGUifSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInBvc2l0aW9uIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3Bvc2l0aW9ufSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fcG9zaXRpb249dCx0aGlzLl9pc0RpcnR5PSEwfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLmlzVXNpbmdQaXZvdE1hdHJpeD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl91c2VQaXZvdE1hdHJpeH0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJyb3RhdGlvbiIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9yb3RhdGlvbn0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3JvdGF0aW9uPXQsdGhpcy5fcm90YXRpb25RdWF0ZXJuaW9uPW51bGwsdGhpcy5faXNEaXJ0eT0hMH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInNjYWxpbmciLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2NhbGluZ30sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3NjYWxpbmc9dCx0aGlzLl9pc0RpcnR5PSEwfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwicm90YXRpb25RdWF0ZXJuaW9uIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JvdGF0aW9uUXVhdGVybmlvbn0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3JvdGF0aW9uUXVhdGVybmlvbj10LHQmJnRoaXMuX3JvdGF0aW9uLnNldEFsbCgwKSx0aGlzLl9pc0RpcnR5PSEwfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiZm9yd2FyZCIse2dldDpmdW5jdGlvbigpe3JldHVybiBiLlRyYW5zZm9ybU5vcm1hbEZyb21GbG9hdHNUb1JlZigwLDAsdGhpcy5nZXRTY2VuZSgpLnVzZVJpZ2h0SGFuZGVkU3lzdGVtPy0xOjEsdGhpcy5nZXRXb3JsZE1hdHJpeCgpLHRoaXMuX2ZvcndhcmQpLHRoaXMuX2ZvcndhcmQubm9ybWFsaXplKCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJ1cCIse2dldDpmdW5jdGlvbigpe3JldHVybiBiLlRyYW5zZm9ybU5vcm1hbEZyb21GbG9hdHNUb1JlZigwLDEsMCx0aGlzLmdldFdvcmxkTWF0cml4KCksdGhpcy5fdXApLHRoaXMuX3VwLm5vcm1hbGl6ZSgpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwicmlnaHQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYi5UcmFuc2Zvcm1Ob3JtYWxGcm9tRmxvYXRzVG9SZWYodGhpcy5nZXRTY2VuZSgpLnVzZVJpZ2h0SGFuZGVkU3lzdGVtPy0xOjEsMCwwLHRoaXMuZ2V0V29ybGRNYXRyaXgoKSx0aGlzLl9yaWdodCksdGhpcy5fcmlnaHQubm9ybWFsaXplKCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUudXBkYXRlUG9zZU1hdHJpeD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fcG9zZU1hdHJpeD8odGhpcy5fcG9zZU1hdHJpeC5jb3B5RnJvbSh0KSx0aGlzKToodGhpcy5fcG9zZU1hdHJpeD10LmNsb25lKCksdGhpcyl9LGUucHJvdG90eXBlLmdldFBvc2VNYXRyaXg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcG9zZU1hdHJpeHx8KHRoaXMuX3Bvc2VNYXRyaXg9SS5JZGVudGl0eSgpKSx0aGlzLl9wb3NlTWF0cml4fSxlLnByb3RvdHlwZS5faXNTeW5jaHJvbml6ZWQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9jYWNoZTtyZXR1cm4hKHRoaXMuX2JpbGxib2FyZE1vZGUhPT10LmJpbGxib2FyZE1vZGV8fHRoaXMuX2JpbGxib2FyZE1vZGUhPT1lLkJJTExCT0FSRE1PREVfTk9ORXx8dC5waXZvdE1hdHJpeFVwZGF0ZWR8fHRoaXMuX2luZmluaXRlRGlzdGFuY2V8fHRoaXMuX3Bvc2l0aW9uLl9pc0RpcnR5fHx0aGlzLl9zY2FsaW5nLl9pc0RpcnR5fHx0aGlzLl9yb3RhdGlvblF1YXRlcm5pb24mJnRoaXMuX3JvdGF0aW9uUXVhdGVybmlvbi5faXNEaXJ0eXx8dGhpcy5fcm90YXRpb24uX2lzRGlydHkpfSxlLnByb3RvdHlwZS5faW5pdENhY2hlPWZ1bmN0aW9uKCl7aS5wcm90b3R5cGUuX2luaXRDYWNoZS5jYWxsKHRoaXMpO3ZhciB0PXRoaXMuX2NhY2hlO3QubG9jYWxNYXRyaXhVcGRhdGVkPSExLHQuYmlsbGJvYXJkTW9kZT0tMSx0LmluZmluaXRlRGlzdGFuY2U9ITF9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiYWJzb2x1dGVQb3NpdGlvbiIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldEFic29sdXRlUG9zaXRpb24oKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImFic29sdXRlU2NhbGluZyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zeW5jQWJzb2x1dGVTY2FsaW5nQW5kUm90YXRpb24oKSx0aGlzLl9hYnNvbHV0ZVNjYWxpbmd9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJhYnNvbHV0ZVJvdGF0aW9uUXVhdGVybmlvbiIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zeW5jQWJzb2x1dGVTY2FsaW5nQW5kUm90YXRpb24oKSx0aGlzLl9hYnNvbHV0ZVJvdGF0aW9uUXVhdGVybmlvbn0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5zZXRQcmVUcmFuc2Zvcm1NYXRyaXg9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc2V0UGl2b3RNYXRyaXgodCwhMSl9LGUucHJvdG90eXBlLnNldFBpdm90TWF0cml4PWZ1bmN0aW9uKHQscil7cmV0dXJuIHI9PT12b2lkIDAmJihyPSEwKSx0aGlzLl9waXZvdE1hdHJpeC5jb3B5RnJvbSh0KSx0aGlzLl91c2VQaXZvdE1hdHJpeD0hdGhpcy5fcGl2b3RNYXRyaXguaXNJZGVudGl0eSgpLHRoaXMuX2NhY2hlLnBpdm90TWF0cml4VXBkYXRlZD0hMCx0aGlzLl9wb3N0TXVsdGlwbHlQaXZvdE1hdHJpeD1yLHRoaXMuX3Bvc3RNdWx0aXBseVBpdm90TWF0cml4JiYodGhpcy5fcGl2b3RNYXRyaXhJbnZlcnNlP3RoaXMuX3Bpdm90TWF0cml4LmludmVydFRvUmVmKHRoaXMuX3Bpdm90TWF0cml4SW52ZXJzZSk6dGhpcy5fcGl2b3RNYXRyaXhJbnZlcnNlPUkuSW52ZXJ0KHRoaXMuX3Bpdm90TWF0cml4KSksdGhpc30sZS5wcm90b3R5cGUuZ2V0UGl2b3RNYXRyaXg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcGl2b3RNYXRyaXh9LGUucHJvdG90eXBlLmluc3RhbnRpYXRlSGllcmFyY2h5PWZ1bmN0aW9uKHQscixuKXt0PT09dm9pZCAwJiYodD1udWxsKTt2YXIgYT10aGlzLmNsb25lKCJDbG9uZSBvZiAiKyh0aGlzLm5hbWV8fHRoaXMuaWQpLHR8fHRoaXMucGFyZW50LCEwKTthJiZuJiZuKHRoaXMsYSk7Zm9yKHZhciBzPTAsbz10aGlzLmdldENoaWxkVHJhbnNmb3JtTm9kZXMoITApO3M8by5sZW5ndGg7cysrKXt2YXIgdT1vW3NdO3UuaW5zdGFudGlhdGVIaWVyYXJjaHkoYSxyLG4pfXJldHVybiBhfSxlLnByb3RvdHlwZS5mcmVlemVXb3JsZE1hdHJpeD1mdW5jdGlvbih0LHIpe3JldHVybiB0PT09dm9pZCAwJiYodD1udWxsKSxyPT09dm9pZCAwJiYocj0hMSksdD9yPyh0aGlzLl9yb3RhdGlvbi5zZXRBbGwoMCksdGhpcy5fcm90YXRpb25RdWF0ZXJuaW9uPXRoaXMuX3JvdGF0aW9uUXVhdGVybmlvbnx8c2UuSWRlbnRpdHkoKSx0LmRlY29tcG9zZSh0aGlzLl9zY2FsaW5nLHRoaXMuX3JvdGF0aW9uUXVhdGVybmlvbix0aGlzLl9wb3NpdGlvbiksdGhpcy5jb21wdXRlV29ybGRNYXRyaXgoITApKToodGhpcy5fd29ybGRNYXRyaXg9dCx0aGlzLl9hYnNvbHV0ZVBvc2l0aW9uLmNvcHlGcm9tRmxvYXRzKHRoaXMuX3dvcmxkTWF0cml4Lm1bMTJdLHRoaXMuX3dvcmxkTWF0cml4Lm1bMTNdLHRoaXMuX3dvcmxkTWF0cml4Lm1bMTRdKSx0aGlzLl9hZnRlckNvbXB1dGVXb3JsZE1hdHJpeCgpKToodGhpcy5faXNXb3JsZE1hdHJpeEZyb3plbj0hMSx0aGlzLmNvbXB1dGVXb3JsZE1hdHJpeCghMCkpLHRoaXMuX2lzRGlydHk9ITEsdGhpcy5faXNXb3JsZE1hdHJpeEZyb3plbj0hMCx0aGlzfSxlLnByb3RvdHlwZS51bmZyZWV6ZVdvcmxkTWF0cml4PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lzV29ybGRNYXRyaXhGcm96ZW49ITEsdGhpcy5jb21wdXRlV29ybGRNYXRyaXgoITApLHRoaXN9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiaXNXb3JsZE1hdHJpeEZyb3plbiIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pc1dvcmxkTWF0cml4RnJvemVufSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLmdldEFic29sdXRlUG9zaXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb21wdXRlV29ybGRNYXRyaXgoKSx0aGlzLl9hYnNvbHV0ZVBvc2l0aW9ufSxlLnByb3RvdHlwZS5zZXRBYnNvbHV0ZVBvc2l0aW9uPWZ1bmN0aW9uKHQpe2lmKCF0KXJldHVybiB0aGlzO3ZhciByLG4sYTtpZih0Lng9PT12b2lkIDApe2lmKGFyZ3VtZW50cy5sZW5ndGg8MylyZXR1cm4gdGhpcztyPWFyZ3VtZW50c1swXSxuPWFyZ3VtZW50c1sxXSxhPWFyZ3VtZW50c1syXX1lbHNlIHI9dC54LG49dC55LGE9dC56O2lmKHRoaXMucGFyZW50KXt2YXIgcz1ELk1hdHJpeFswXTt0aGlzLnBhcmVudC5nZXRXb3JsZE1hdHJpeCgpLmludmVydFRvUmVmKHMpLGIuVHJhbnNmb3JtQ29vcmRpbmF0ZXNGcm9tRmxvYXRzVG9SZWYocixuLGEscyx0aGlzLnBvc2l0aW9uKX1lbHNlIHRoaXMucG9zaXRpb24ueD1yLHRoaXMucG9zaXRpb24ueT1uLHRoaXMucG9zaXRpb24uej1hO3JldHVybiB0aGlzLl9hYnNvbHV0ZVBvc2l0aW9uLmNvcHlGcm9tKHQpLHRoaXN9LGUucHJvdG90eXBlLnNldFBvc2l0aW9uV2l0aExvY2FsVmVjdG9yPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNvbXB1dGVXb3JsZE1hdHJpeCgpLHRoaXMucG9zaXRpb249Yi5UcmFuc2Zvcm1Ob3JtYWwodCx0aGlzLl9sb2NhbE1hdHJpeCksdGhpc30sZS5wcm90b3R5cGUuZ2V0UG9zaXRpb25FeHByZXNzZWRJbkxvY2FsU3BhY2U9ZnVuY3Rpb24oKXt0aGlzLmNvbXB1dGVXb3JsZE1hdHJpeCgpO3ZhciB0PUQuTWF0cml4WzBdO3JldHVybiB0aGlzLl9sb2NhbE1hdHJpeC5pbnZlcnRUb1JlZih0KSxiLlRyYW5zZm9ybU5vcm1hbCh0aGlzLnBvc2l0aW9uLHQpfSxlLnByb3RvdHlwZS5sb2NhbGx5VHJhbnNsYXRlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmNvbXB1dGVXb3JsZE1hdHJpeCghMCksdGhpcy5wb3NpdGlvbj1iLlRyYW5zZm9ybUNvb3JkaW5hdGVzKHQsdGhpcy5fbG9jYWxNYXRyaXgpLHRoaXN9LGUucHJvdG90eXBlLmxvb2tBdD1mdW5jdGlvbih0LHIsbixhLHMpe3I9PT12b2lkIDAmJihyPTApLG49PT12b2lkIDAmJihuPTApLGE9PT12b2lkIDAmJihhPTApLHM9PT12b2lkIDAmJihzPWN0LkxPQ0FMKTt2YXIgbz1lLl9Mb29rQXRWZWN0b3JDYWNoZSx1PXM9PT1jdC5MT0NBTD90aGlzLnBvc2l0aW9uOnRoaXMuZ2V0QWJzb2x1dGVQb3NpdGlvbigpO2lmKHQuc3VidHJhY3RUb1JlZih1LG8pLHRoaXMuc2V0RGlyZWN0aW9uKG8scixuLGEpLHM9PT1jdC5XT1JMRCYmdGhpcy5wYXJlbnQpaWYodGhpcy5yb3RhdGlvblF1YXRlcm5pb24pe3ZhciBmPUQuTWF0cml4WzBdO3RoaXMucm90YXRpb25RdWF0ZXJuaW9uLnRvUm90YXRpb25NYXRyaXgoZik7dmFyIGw9RC5NYXRyaXhbMV07dGhpcy5wYXJlbnQuZ2V0V29ybGRNYXRyaXgoKS5nZXRSb3RhdGlvbk1hdHJpeFRvUmVmKGwpLGwuaW52ZXJ0KCksZi5tdWx0aXBseVRvUmVmKGwsZiksdGhpcy5yb3RhdGlvblF1YXRlcm5pb24uZnJvbVJvdGF0aW9uTWF0cml4KGYpfWVsc2V7dmFyIGg9RC5RdWF0ZXJuaW9uWzBdO3NlLkZyb21FdWxlclZlY3RvclRvUmVmKHRoaXMucm90YXRpb24saCk7dmFyIGY9RC5NYXRyaXhbMF07aC50b1JvdGF0aW9uTWF0cml4KGYpO3ZhciBsPUQuTWF0cml4WzFdO3RoaXMucGFyZW50LmdldFdvcmxkTWF0cml4KCkuZ2V0Um90YXRpb25NYXRyaXhUb1JlZihsKSxsLmludmVydCgpLGYubXVsdGlwbHlUb1JlZihsLGYpLGguZnJvbVJvdGF0aW9uTWF0cml4KGYpLGgudG9FdWxlckFuZ2xlc1RvUmVmKHRoaXMucm90YXRpb24pfXJldHVybiB0aGlzfSxlLnByb3RvdHlwZS5nZXREaXJlY3Rpb249ZnVuY3Rpb24odCl7dmFyIHI9Yi5aZXJvKCk7cmV0dXJuIHRoaXMuZ2V0RGlyZWN0aW9uVG9SZWYodCxyKSxyfSxlLnByb3RvdHlwZS5nZXREaXJlY3Rpb25Ub1JlZj1mdW5jdGlvbih0LHIpe3JldHVybiBiLlRyYW5zZm9ybU5vcm1hbFRvUmVmKHQsdGhpcy5nZXRXb3JsZE1hdHJpeCgpLHIpLHRoaXN9LGUucHJvdG90eXBlLnNldERpcmVjdGlvbj1mdW5jdGlvbih0LHIsbixhKXtyPT09dm9pZCAwJiYocj0wKSxuPT09dm9pZCAwJiYobj0wKSxhPT09dm9pZCAwJiYoYT0wKTt2YXIgcz0tTWF0aC5hdGFuMih0LnosdC54KStNYXRoLlBJLzIsbz1NYXRoLnNxcnQodC54KnQueCt0LnoqdC56KSx1PS1NYXRoLmF0YW4yKHQueSxvKTtyZXR1cm4gdGhpcy5yb3RhdGlvblF1YXRlcm5pb24/c2UuUm90YXRpb25ZYXdQaXRjaFJvbGxUb1JlZihzK3IsdStuLGEsdGhpcy5yb3RhdGlvblF1YXRlcm5pb24pOih0aGlzLnJvdGF0aW9uLng9dStuLHRoaXMucm90YXRpb24ueT1zK3IsdGhpcy5yb3RhdGlvbi56PWEpLHRoaXN9LGUucHJvdG90eXBlLnNldFBpdm90UG9pbnQ9ZnVuY3Rpb24odCxyKXtyPT09dm9pZCAwJiYocj1jdC5MT0NBTCksdGhpcy5nZXRTY2VuZSgpLmdldFJlbmRlcklkKCk9PTAmJnRoaXMuY29tcHV0ZVdvcmxkTWF0cml4KCEwKTt2YXIgbj10aGlzLmdldFdvcmxkTWF0cml4KCk7aWYocj09Y3QuV09STEQpe3ZhciBhPUQuTWF0cml4WzBdO24uaW52ZXJ0VG9SZWYoYSksdD1iLlRyYW5zZm9ybUNvb3JkaW5hdGVzKHQsYSl9cmV0dXJuIHRoaXMuc2V0UGl2b3RNYXRyaXgoSS5UcmFuc2xhdGlvbigtdC54LC10LnksLXQueiksITApfSxlLnByb3RvdHlwZS5nZXRQaXZvdFBvaW50PWZ1bmN0aW9uKCl7dmFyIHQ9Yi5aZXJvKCk7cmV0dXJuIHRoaXMuZ2V0UGl2b3RQb2ludFRvUmVmKHQpLHR9LGUucHJvdG90eXBlLmdldFBpdm90UG9pbnRUb1JlZj1mdW5jdGlvbih0KXtyZXR1cm4gdC54PS10aGlzLl9waXZvdE1hdHJpeC5tWzEyXSx0Lnk9LXRoaXMuX3Bpdm90TWF0cml4Lm1bMTNdLHQuej0tdGhpcy5fcGl2b3RNYXRyaXgubVsxNF0sdGhpc30sZS5wcm90b3R5cGUuZ2V0QWJzb2x1dGVQaXZvdFBvaW50PWZ1bmN0aW9uKCl7dmFyIHQ9Yi5aZXJvKCk7cmV0dXJuIHRoaXMuZ2V0QWJzb2x1dGVQaXZvdFBvaW50VG9SZWYodCksdH0sZS5wcm90b3R5cGUuZ2V0QWJzb2x1dGVQaXZvdFBvaW50VG9SZWY9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZ2V0UGl2b3RQb2ludFRvUmVmKHQpLGIuVHJhbnNmb3JtQ29vcmRpbmF0ZXNUb1JlZih0LHRoaXMuZ2V0V29ybGRNYXRyaXgoKSx0KSx0aGlzfSxlLnByb3RvdHlwZS5tYXJrQXNEaXJ0eT1mdW5jdGlvbih0KXtpZih0aGlzLl9jaGlsZHJlbilmb3IodmFyIHI9MCxuPXRoaXMuX2NoaWxkcmVuO3I8bi5sZW5ndGg7cisrKXt2YXIgYT1uW3JdO2EubWFya0FzRGlydHkodCl9cmV0dXJuIGkucHJvdG90eXBlLm1hcmtBc0RpcnR5LmNhbGwodGhpcyx0KX0sZS5wcm90b3R5cGUuc2V0UGFyZW50PWZ1bmN0aW9uKHQscil7aWYocj09PXZvaWQgMCYmKHI9ITEpLCF0JiYhdGhpcy5wYXJlbnQpcmV0dXJuIHRoaXM7dmFyIG49RC5RdWF0ZXJuaW9uWzBdLGE9RC5WZWN0b3IzWzBdLHM9RC5WZWN0b3IzWzFdLG89RC5NYXRyaXhbMV07SS5JZGVudGl0eVRvUmVmKG8pO3ZhciB1PUQuTWF0cml4WzBdO3RoaXMuY29tcHV0ZVdvcmxkTWF0cml4KCEwKTt2YXIgZj10aGlzLnJvdGF0aW9uUXVhdGVybmlvbjtyZXR1cm4gZnx8KGY9ZS5fVG1wUm90YXRpb24sc2UuUm90YXRpb25ZYXdQaXRjaFJvbGxUb1JlZih0aGlzLl9yb3RhdGlvbi55LHRoaXMuX3JvdGF0aW9uLngsdGhpcy5fcm90YXRpb24ueixmKSksSS5Db21wb3NlVG9SZWYodGhpcy5zY2FsaW5nLGYsdGhpcy5wb3NpdGlvbix1KSx0aGlzLnBhcmVudCYmdS5tdWx0aXBseVRvUmVmKHRoaXMucGFyZW50LmNvbXB1dGVXb3JsZE1hdHJpeCghMCksdSksdCYmKHQuY29tcHV0ZVdvcmxkTWF0cml4KCEwKS5pbnZlcnRUb1JlZihvKSx1Lm11bHRpcGx5VG9SZWYobyx1KSksdS5kZWNvbXBvc2UocyxuLGEscj90aGlzOnZvaWQgMCksdGhpcy5yb3RhdGlvblF1YXRlcm5pb24/dGhpcy5yb3RhdGlvblF1YXRlcm5pb24uY29weUZyb20obik6bi50b0V1bGVyQW5nbGVzVG9SZWYodGhpcy5yb3RhdGlvbiksdGhpcy5zY2FsaW5nLmNvcHlGcm9tKHMpLHRoaXMucG9zaXRpb24uY29weUZyb20oYSksdGhpcy5wYXJlbnQ9dCx0aGlzfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsIm5vblVuaWZvcm1TY2FsaW5nIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX25vblVuaWZvcm1TY2FsaW5nfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLl91cGRhdGVOb25Vbmlmb3JtU2NhbGluZ1N0YXRlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9ub25Vbmlmb3JtU2NhbGluZz09PXQ/ITE6KHRoaXMuX25vblVuaWZvcm1TY2FsaW5nPXQsITApfSxlLnByb3RvdHlwZS5hdHRhY2hUb0JvbmU9ZnVuY3Rpb24odCxyKXtyZXR1cm4gdGhpcy5fY3VycmVudFBhcmVudFdoZW5BdHRhY2hpbmdUb0JvbmU9dGhpcy5wYXJlbnQsdGhpcy5fdHJhbnNmb3JtVG9Cb25lUmVmZXJhbD1yLHRoaXMucGFyZW50PXQsdC5nZXRTa2VsZXRvbigpLnByZXBhcmUoKSx0LmdldFdvcmxkTWF0cml4KCkuZGV0ZXJtaW5hbnQoKTwwJiYodGhpcy5zY2FsaW5nRGV0ZXJtaW5hbnQqPS0xKSx0aGlzfSxlLnByb3RvdHlwZS5kZXRhY2hGcm9tQm9uZT1mdW5jdGlvbih0KXtyZXR1cm4gdD09PXZvaWQgMCYmKHQ9ITEpLHRoaXMucGFyZW50Pyh0aGlzLnBhcmVudC5nZXRXb3JsZE1hdHJpeCgpLmRldGVybWluYW50KCk8MCYmKHRoaXMuc2NhbGluZ0RldGVybWluYW50Kj0tMSksdGhpcy5fdHJhbnNmb3JtVG9Cb25lUmVmZXJhbD1udWxsLHQ/dGhpcy5wYXJlbnQ9dGhpcy5fY3VycmVudFBhcmVudFdoZW5BdHRhY2hpbmdUb0JvbmU6dGhpcy5wYXJlbnQ9bnVsbCx0aGlzKToodCYmKHRoaXMucGFyZW50PXRoaXMuX2N1cnJlbnRQYXJlbnRXaGVuQXR0YWNoaW5nVG9Cb25lKSx0aGlzKX0sZS5wcm90b3R5cGUucm90YXRlPWZ1bmN0aW9uKHQscixuKXt0Lm5vcm1hbGl6ZSgpLHRoaXMucm90YXRpb25RdWF0ZXJuaW9ufHwodGhpcy5yb3RhdGlvblF1YXRlcm5pb249dGhpcy5yb3RhdGlvbi50b1F1YXRlcm5pb24oKSx0aGlzLnJvdGF0aW9uLnNldEFsbCgwKSk7dmFyIGE7aWYoIW58fG49PT1jdC5MT0NBTClhPXNlLlJvdGF0aW9uQXhpc1RvUmVmKHQscixlLl9Sb3RhdGlvbkF4aXNDYWNoZSksdGhpcy5yb3RhdGlvblF1YXRlcm5pb24ubXVsdGlwbHlUb1JlZihhLHRoaXMucm90YXRpb25RdWF0ZXJuaW9uKTtlbHNle2lmKHRoaXMucGFyZW50KXt2YXIgcz1ELk1hdHJpeFswXTt0aGlzLnBhcmVudC5nZXRXb3JsZE1hdHJpeCgpLmludmVydFRvUmVmKHMpLHQ9Yi5UcmFuc2Zvcm1Ob3JtYWwodCxzKX1hPXNlLlJvdGF0aW9uQXhpc1RvUmVmKHQscixlLl9Sb3RhdGlvbkF4aXNDYWNoZSksYS5tdWx0aXBseVRvUmVmKHRoaXMucm90YXRpb25RdWF0ZXJuaW9uLHRoaXMucm90YXRpb25RdWF0ZXJuaW9uKX1yZXR1cm4gdGhpc30sZS5wcm90b3R5cGUucm90YXRlQXJvdW5kPWZ1bmN0aW9uKHQscixuKXtyLm5vcm1hbGl6ZSgpLHRoaXMucm90YXRpb25RdWF0ZXJuaW9ufHwodGhpcy5yb3RhdGlvblF1YXRlcm5pb249c2UuUm90YXRpb25ZYXdQaXRjaFJvbGwodGhpcy5yb3RhdGlvbi55LHRoaXMucm90YXRpb24ueCx0aGlzLnJvdGF0aW9uLnopLHRoaXMucm90YXRpb24uc2V0QWxsKDApKTt2YXIgYT1ELlZlY3RvcjNbMF0scz1ELlZlY3RvcjNbMV0sbz1ELlZlY3RvcjNbMl0sdT1ELlF1YXRlcm5pb25bMF0sZj1ELk1hdHJpeFswXSxsPUQuTWF0cml4WzFdLGg9RC5NYXRyaXhbMl0sYz1ELk1hdHJpeFszXTtyZXR1cm4gdC5zdWJ0cmFjdFRvUmVmKHRoaXMucG9zaXRpb24sYSksSS5UcmFuc2xhdGlvblRvUmVmKGEueCxhLnksYS56LGYpLEkuVHJhbnNsYXRpb25Ub1JlZigtYS54LC1hLnksLWEueixsKSxJLlJvdGF0aW9uQXhpc1RvUmVmKHIsbixoKSxsLm11bHRpcGx5VG9SZWYoaCxjKSxjLm11bHRpcGx5VG9SZWYoZixjKSxjLmRlY29tcG9zZShzLHUsbyksdGhpcy5wb3NpdGlvbi5hZGRJblBsYWNlKG8pLHUubXVsdGlwbHlUb1JlZih0aGlzLnJvdGF0aW9uUXVhdGVybmlvbix0aGlzLnJvdGF0aW9uUXVhdGVybmlvbiksdGhpc30sZS5wcm90b3R5cGUudHJhbnNsYXRlPWZ1bmN0aW9uKHQscixuKXt2YXIgYT10LnNjYWxlKHIpO2lmKCFufHxuPT09Y3QuTE9DQUwpe3ZhciBzPXRoaXMuZ2V0UG9zaXRpb25FeHByZXNzZWRJbkxvY2FsU3BhY2UoKS5hZGQoYSk7dGhpcy5zZXRQb3NpdGlvbldpdGhMb2NhbFZlY3RvcihzKX1lbHNlIHRoaXMuc2V0QWJzb2x1dGVQb3NpdGlvbih0aGlzLmdldEFic29sdXRlUG9zaXRpb24oKS5hZGQoYSkpO3JldHVybiB0aGlzfSxlLnByb3RvdHlwZS5hZGRSb3RhdGlvbj1mdW5jdGlvbih0LHIsbil7dmFyIGE7dGhpcy5yb3RhdGlvblF1YXRlcm5pb24/YT10aGlzLnJvdGF0aW9uUXVhdGVybmlvbjooYT1ELlF1YXRlcm5pb25bMV0sc2UuUm90YXRpb25ZYXdQaXRjaFJvbGxUb1JlZih0aGlzLnJvdGF0aW9uLnksdGhpcy5yb3RhdGlvbi54LHRoaXMucm90YXRpb24ueixhKSk7dmFyIHM9RC5RdWF0ZXJuaW9uWzBdO3JldHVybiBzZS5Sb3RhdGlvbllhd1BpdGNoUm9sbFRvUmVmKHIsdCxuLHMpLGEubXVsdGlwbHlJblBsYWNlKHMpLHRoaXMucm90YXRpb25RdWF0ZXJuaW9ufHxhLnRvRXVsZXJBbmdsZXNUb1JlZih0aGlzLnJvdGF0aW9uKSx0aGlzfSxlLnByb3RvdHlwZS5fZ2V0RWZmZWN0aXZlUGFyZW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGFyZW50fSxlLnByb3RvdHlwZS5jb21wdXRlV29ybGRNYXRyaXg9ZnVuY3Rpb24odCl7aWYodGhpcy5faXNXb3JsZE1hdHJpeEZyb3plbiYmIXRoaXMuX2lzRGlydHkpcmV0dXJuIHRoaXMuX3dvcmxkTWF0cml4O3ZhciByPXRoaXMuZ2V0U2NlbmUoKS5nZXRSZW5kZXJJZCgpO2lmKCF0aGlzLl9pc0RpcnR5JiYhdCYmKHRoaXMuX2N1cnJlbnRSZW5kZXJJZD09PXJ8fHRoaXMuaXNTeW5jaHJvbml6ZWQoKSkpcmV0dXJuIHRoaXMuX2N1cnJlbnRSZW5kZXJJZD1yLHRoaXMuX3dvcmxkTWF0cml4O3ZhciBuPXRoaXMuZ2V0U2NlbmUoKS5hY3RpdmVDYW1lcmEsYT0odGhpcy5fYmlsbGJvYXJkTW9kZSZlLkJJTExCT0FSRE1PREVfVVNFX1BPU0lUSU9OKSE9PTAscz10aGlzLl9iaWxsYm9hcmRNb2RlIT09ZS5CSUxMQk9BUkRNT0RFX05PTkUmJiF0aGlzLnByZXNlcnZlUGFyZW50Um90YXRpb25Gb3JCaWxsYm9hcmQ7dGhpcy5fdXBkYXRlQ2FjaGUoKTt2YXIgbz10aGlzLl9jYWNoZTtvLnBpdm90TWF0cml4VXBkYXRlZD0hMSxvLmJpbGxib2FyZE1vZGU9dGhpcy5iaWxsYm9hcmRNb2RlLG8uaW5maW5pdGVEaXN0YW5jZT10aGlzLmluZmluaXRlRGlzdGFuY2Usby5wYXJlbnQ9dGhpcy5fcGFyZW50Tm9kZSx0aGlzLl9jdXJyZW50UmVuZGVySWQ9cix0aGlzLl9jaGlsZFVwZGF0ZUlkKz0xLHRoaXMuX2lzRGlydHk9ITEsdGhpcy5fcG9zaXRpb24uX2lzRGlydHk9ITEsdGhpcy5fcm90YXRpb24uX2lzRGlydHk9ITEsdGhpcy5fc2NhbGluZy5faXNEaXJ0eT0hMTt2YXIgdT10aGlzLl9nZXRFZmZlY3RpdmVQYXJlbnQoKSxmPWUuX1RtcFNjYWxpbmcsbD10aGlzLl9wb3NpdGlvbjtpZih0aGlzLl9pbmZpbml0ZURpc3RhbmNlJiYhdGhpcy5wYXJlbnQmJm4pe3ZhciBoPW4uZ2V0V29ybGRNYXRyaXgoKSxjPW5ldyBiKGgubVsxMl0saC5tWzEzXSxoLm1bMTRdKTtsPWUuX1RtcFRyYW5zbGF0aW9uLGwuY29weUZyb21GbG9hdHModGhpcy5fcG9zaXRpb24ueCtjLngsdGhpcy5fcG9zaXRpb24ueStjLnksdGhpcy5fcG9zaXRpb24ueitjLnopfWYuY29weUZyb21GbG9hdHModGhpcy5fc2NhbGluZy54KnRoaXMuc2NhbGluZ0RldGVybWluYW50LHRoaXMuX3NjYWxpbmcueSp0aGlzLnNjYWxpbmdEZXRlcm1pbmFudCx0aGlzLl9zY2FsaW5nLnoqdGhpcy5zY2FsaW5nRGV0ZXJtaW5hbnQpO3ZhciBkO2lmKHRoaXMuX3JvdGF0aW9uUXVhdGVybmlvbil7aWYodGhpcy5fcm90YXRpb25RdWF0ZXJuaW9uLl9pc0RpcnR5PSExLGQ9dGhpcy5fcm90YXRpb25RdWF0ZXJuaW9uLHRoaXMucmVJbnRlZ3JhdGVSb3RhdGlvbkludG9Sb3RhdGlvblF1YXRlcm5pb24pe3ZhciBwPXRoaXMucm90YXRpb24ubGVuZ3RoU3F1YXJlZCgpO3AmJih0aGlzLl9yb3RhdGlvblF1YXRlcm5pb24ubXVsdGlwbHlJblBsYWNlKHNlLlJvdGF0aW9uWWF3UGl0Y2hSb2xsKHRoaXMuX3JvdGF0aW9uLnksdGhpcy5fcm90YXRpb24ueCx0aGlzLl9yb3RhdGlvbi56KSksdGhpcy5fcm90YXRpb24uY29weUZyb21GbG9hdHMoMCwwLDApKX19ZWxzZSBkPWUuX1RtcFJvdGF0aW9uLHNlLlJvdGF0aW9uWWF3UGl0Y2hSb2xsVG9SZWYodGhpcy5fcm90YXRpb24ueSx0aGlzLl9yb3RhdGlvbi54LHRoaXMuX3JvdGF0aW9uLnosZCk7aWYodGhpcy5fdXNlUGl2b3RNYXRyaXgpe3ZhciBnPUQuTWF0cml4WzFdO0kuU2NhbGluZ1RvUmVmKGYueCxmLnksZi56LGcpO3ZhciBfPUQuTWF0cml4WzBdO2QudG9Sb3RhdGlvbk1hdHJpeChfKSx0aGlzLl9waXZvdE1hdHJpeC5tdWx0aXBseVRvUmVmKGcsRC5NYXRyaXhbNF0pLEQuTWF0cml4WzRdLm11bHRpcGx5VG9SZWYoXyx0aGlzLl9sb2NhbE1hdHJpeCksdGhpcy5fcG9zdE11bHRpcGx5UGl2b3RNYXRyaXgmJnRoaXMuX2xvY2FsTWF0cml4Lm11bHRpcGx5VG9SZWYodGhpcy5fcGl2b3RNYXRyaXhJbnZlcnNlLHRoaXMuX2xvY2FsTWF0cml4KSx0aGlzLl9sb2NhbE1hdHJpeC5hZGRUcmFuc2xhdGlvbkZyb21GbG9hdHMobC54LGwueSxsLnopfWVsc2UgSS5Db21wb3NlVG9SZWYoZixkLGwsdGhpcy5fbG9jYWxNYXRyaXgpO2lmKHUmJnUuZ2V0V29ybGRNYXRyaXgpe2lmKHQmJnUuY29tcHV0ZVdvcmxkTWF0cml4KHQpLHMpe3RoaXMuX3RyYW5zZm9ybVRvQm9uZVJlZmVyYWw/dS5nZXRXb3JsZE1hdHJpeCgpLm11bHRpcGx5VG9SZWYodGhpcy5fdHJhbnNmb3JtVG9Cb25lUmVmZXJhbC5nZXRXb3JsZE1hdHJpeCgpLEQuTWF0cml4WzddKTpELk1hdHJpeFs3XS5jb3B5RnJvbSh1LmdldFdvcmxkTWF0cml4KCkpO3ZhciB2PUQuVmVjdG9yM1s1XSx5PUQuVmVjdG9yM1s2XTtELk1hdHJpeFs3XS5kZWNvbXBvc2UoeSx2b2lkIDAsdiksSS5TY2FsaW5nVG9SZWYoeS54LHkueSx5LnosRC5NYXRyaXhbN10pLEQuTWF0cml4WzddLnNldFRyYW5zbGF0aW9uKHYpLHRoaXMuX2xvY2FsTWF0cml4Lm11bHRpcGx5VG9SZWYoRC5NYXRyaXhbN10sdGhpcy5fd29ybGRNYXRyaXgpfWVsc2UgdGhpcy5fdHJhbnNmb3JtVG9Cb25lUmVmZXJhbD8odGhpcy5fbG9jYWxNYXRyaXgubXVsdGlwbHlUb1JlZih1LmdldFdvcmxkTWF0cml4KCksRC5NYXRyaXhbNl0pLEQuTWF0cml4WzZdLm11bHRpcGx5VG9SZWYodGhpcy5fdHJhbnNmb3JtVG9Cb25lUmVmZXJhbC5nZXRXb3JsZE1hdHJpeCgpLHRoaXMuX3dvcmxkTWF0cml4KSk6dGhpcy5fbG9jYWxNYXRyaXgubXVsdGlwbHlUb1JlZih1LmdldFdvcmxkTWF0cml4KCksdGhpcy5fd29ybGRNYXRyaXgpO3RoaXMuX21hcmtTeW5jZWRXaXRoUGFyZW50KCl9ZWxzZSB0aGlzLl93b3JsZE1hdHJpeC5jb3B5RnJvbSh0aGlzLl9sb2NhbE1hdHJpeCk7aWYocyYmbiYmdGhpcy5iaWxsYm9hcmRNb2RlJiYhYSl7dmFyIEU9RC5WZWN0b3IzWzBdO2lmKHRoaXMuX3dvcmxkTWF0cml4LmdldFRyYW5zbGF0aW9uVG9SZWYoRSksRC5NYXRyaXhbMV0uY29weUZyb20obi5nZXRWaWV3TWF0cml4KCkpLEQuTWF0cml4WzFdLnNldFRyYW5zbGF0aW9uRnJvbUZsb2F0cygwLDAsMCksRC5NYXRyaXhbMV0uaW52ZXJ0VG9SZWYoRC5NYXRyaXhbMF0pLCh0aGlzLmJpbGxib2FyZE1vZGUmZS5CSUxMQk9BUkRNT0RFX0FMTCkhPT1lLkJJTExCT0FSRE1PREVfQUxMKXtELk1hdHJpeFswXS5kZWNvbXBvc2Uodm9pZCAwLEQuUXVhdGVybmlvblswXSx2b2lkIDApO3ZhciBSPUQuVmVjdG9yM1sxXTtELlF1YXRlcm5pb25bMF0udG9FdWxlckFuZ2xlc1RvUmVmKFIpLCh0aGlzLmJpbGxib2FyZE1vZGUmZS5CSUxMQk9BUkRNT0RFX1gpIT09ZS5CSUxMQk9BUkRNT0RFX1gmJihSLng9MCksKHRoaXMuYmlsbGJvYXJkTW9kZSZlLkJJTExCT0FSRE1PREVfWSkhPT1lLkJJTExCT0FSRE1PREVfWSYmKFIueT0wKSwodGhpcy5iaWxsYm9hcmRNb2RlJmUuQklMTEJPQVJETU9ERV9aKSE9PWUuQklMTEJPQVJETU9ERV9aJiYoUi56PTApLEkuUm90YXRpb25ZYXdQaXRjaFJvbGxUb1JlZihSLnksUi54LFIueixELk1hdHJpeFswXSl9dGhpcy5fd29ybGRNYXRyaXguc2V0VHJhbnNsYXRpb25Gcm9tRmxvYXRzKDAsMCwwKSx0aGlzLl93b3JsZE1hdHJpeC5tdWx0aXBseVRvUmVmKEQuTWF0cml4WzBdLHRoaXMuX3dvcmxkTWF0cml4KSx0aGlzLl93b3JsZE1hdHJpeC5zZXRUcmFuc2xhdGlvbihELlZlY3RvcjNbMF0pfWVsc2UgaWYocyYmbiYmdGhpcy5iaWxsYm9hcmRNb2RlJiZhKXt2YXIgRT1ELlZlY3RvcjNbMF07dGhpcy5fd29ybGRNYXRyaXguZ2V0VHJhbnNsYXRpb25Ub1JlZihFKTt2YXIgTT1uLmdsb2JhbFBvc2l0aW9uO3RoaXMuX3dvcmxkTWF0cml4LmludmVydFRvUmVmKEQuTWF0cml4WzFdKTt2YXIgQz1ELlZlY3RvcjNbMV07Yi5UcmFuc2Zvcm1Db29yZGluYXRlc1RvUmVmKE0sRC5NYXRyaXhbMV0sQyksQy5ub3JtYWxpemUoKTt2YXIgQT0tTWF0aC5hdGFuMihDLnosQy54KStNYXRoLlBJLzIscD1NYXRoLnNxcnQoQy54KkMueCtDLnoqQy56KSxTPS1NYXRoLmF0YW4yKEMueSxwKTtpZihzZS5Sb3RhdGlvbllhd1BpdGNoUm9sbFRvUmVmKEEsUywwLEQuUXVhdGVybmlvblswXSksKHRoaXMuYmlsbGJvYXJkTW9kZSZlLkJJTExCT0FSRE1PREVfQUxMKSE9PWUuQklMTEJPQVJETU9ERV9BTEwpe3ZhciBSPUQuVmVjdG9yM1sxXTtELlF1YXRlcm5pb25bMF0udG9FdWxlckFuZ2xlc1RvUmVmKFIpLCh0aGlzLmJpbGxib2FyZE1vZGUmZS5CSUxMQk9BUkRNT0RFX1gpIT09ZS5CSUxMQk9BUkRNT0RFX1gmJihSLng9MCksKHRoaXMuYmlsbGJvYXJkTW9kZSZlLkJJTExCT0FSRE1PREVfWSkhPT1lLkJJTExCT0FSRE1PREVfWSYmKFIueT0wKSwodGhpcy5iaWxsYm9hcmRNb2RlJmUuQklMTEJPQVJETU9ERV9aKSE9PWUuQklMTEJPQVJETU9ERV9aJiYoUi56PTApLEkuUm90YXRpb25ZYXdQaXRjaFJvbGxUb1JlZihSLnksUi54LFIueixELk1hdHJpeFswXSl9ZWxzZSBJLkZyb21RdWF0ZXJuaW9uVG9SZWYoRC5RdWF0ZXJuaW9uWzBdLEQuTWF0cml4WzBdKTt0aGlzLl93b3JsZE1hdHJpeC5zZXRUcmFuc2xhdGlvbkZyb21GbG9hdHMoMCwwLDApLHRoaXMuX3dvcmxkTWF0cml4Lm11bHRpcGx5VG9SZWYoRC5NYXRyaXhbMF0sdGhpcy5fd29ybGRNYXRyaXgpLHRoaXMuX3dvcmxkTWF0cml4LnNldFRyYW5zbGF0aW9uKEQuVmVjdG9yM1swXSl9cmV0dXJuIHRoaXMuaWdub3JlTm9uVW5pZm9ybVNjYWxpbmc/dGhpcy5fdXBkYXRlTm9uVW5pZm9ybVNjYWxpbmdTdGF0ZSghMSk6dGhpcy5fc2NhbGluZy5pc05vblVuaWZvcm1XaXRoaW5FcHNpbG9uKDFlLTYpP3RoaXMuX3VwZGF0ZU5vblVuaWZvcm1TY2FsaW5nU3RhdGUoITApOnUmJnUuX25vblVuaWZvcm1TY2FsaW5nP3RoaXMuX3VwZGF0ZU5vblVuaWZvcm1TY2FsaW5nU3RhdGUodS5fbm9uVW5pZm9ybVNjYWxpbmcpOnRoaXMuX3VwZGF0ZU5vblVuaWZvcm1TY2FsaW5nU3RhdGUoITEpLHRoaXMuX2FmdGVyQ29tcHV0ZVdvcmxkTWF0cml4KCksdGhpcy5fYWJzb2x1dGVQb3NpdGlvbi5jb3B5RnJvbUZsb2F0cyh0aGlzLl93b3JsZE1hdHJpeC5tWzEyXSx0aGlzLl93b3JsZE1hdHJpeC5tWzEzXSx0aGlzLl93b3JsZE1hdHJpeC5tWzE0XSksdGhpcy5faXNBYnNvbHV0ZVN5bmNlZD0hMSx0aGlzLm9uQWZ0ZXJXb3JsZE1hdHJpeFVwZGF0ZU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpLHRoaXMuX3Bvc2VNYXRyaXh8fCh0aGlzLl9wb3NlTWF0cml4PUkuSW52ZXJ0KHRoaXMuX3dvcmxkTWF0cml4KSksdGhpcy5fd29ybGRNYXRyaXhEZXRlcm1pbmFudElzRGlydHk9ITAsdGhpcy5fd29ybGRNYXRyaXh9LGUucHJvdG90eXBlLnJlc2V0TG9jYWxNYXRyaXg9ZnVuY3Rpb24odCl7aWYodD09PXZvaWQgMCYmKHQ9ITApLHRoaXMuY29tcHV0ZVdvcmxkTWF0cml4KCksdClmb3IodmFyIHI9dGhpcy5nZXRDaGlsZHJlbigpLG49MDtuPHIubGVuZ3RoOysrbil7dmFyIGE9cltuXTtpZihhKXthLmNvbXB1dGVXb3JsZE1hdHJpeCgpO3ZhciBzPUQuTWF0cml4WzBdO2EuX2xvY2FsTWF0cml4Lm11bHRpcGx5VG9SZWYodGhpcy5fbG9jYWxNYXRyaXgscyk7dmFyIG89RC5RdWF0ZXJuaW9uWzBdO3MuZGVjb21wb3NlKGEuc2NhbGluZyxvLGEucG9zaXRpb24pLGEucm90YXRpb25RdWF0ZXJuaW9uP2Eucm90YXRpb25RdWF0ZXJuaW9uLmNvcHlGcm9tKG8pOm8udG9FdWxlckFuZ2xlc1RvUmVmKGEucm90YXRpb24pfX10aGlzLnNjYWxpbmcuY29weUZyb21GbG9hdHMoMSwxLDEpLHRoaXMucG9zaXRpb24uY29weUZyb21GbG9hdHMoMCwwLDApLHRoaXMucm90YXRpb24uY29weUZyb21GbG9hdHMoMCwwLDApLHRoaXMucm90YXRpb25RdWF0ZXJuaW9uJiYodGhpcy5yb3RhdGlvblF1YXRlcm5pb249c2UuSWRlbnRpdHkoKSksdGhpcy5fd29ybGRNYXRyaXg9SS5JZGVudGl0eSgpfSxlLnByb3RvdHlwZS5fYWZ0ZXJDb21wdXRlV29ybGRNYXRyaXg9ZnVuY3Rpb24oKXt9LGUucHJvdG90eXBlLnJlZ2lzdGVyQWZ0ZXJXb3JsZE1hdHJpeFVwZGF0ZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5vbkFmdGVyV29ybGRNYXRyaXhVcGRhdGVPYnNlcnZhYmxlLmFkZCh0KSx0aGlzfSxlLnByb3RvdHlwZS51bnJlZ2lzdGVyQWZ0ZXJXb3JsZE1hdHJpeFVwZGF0ZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5vbkFmdGVyV29ybGRNYXRyaXhVcGRhdGVPYnNlcnZhYmxlLnJlbW92ZUNhbGxiYWNrKHQpLHRoaXN9LGUucHJvdG90eXBlLmdldFBvc2l0aW9uSW5DYW1lcmFTcGFjZT1mdW5jdGlvbih0KXtyZXR1cm4gdD09PXZvaWQgMCYmKHQ9bnVsbCksdHx8KHQ9dGhpcy5nZXRTY2VuZSgpLmFjdGl2ZUNhbWVyYSksYi5UcmFuc2Zvcm1Db29yZGluYXRlcyh0aGlzLmdldEFic29sdXRlUG9zaXRpb24oKSx0LmdldFZpZXdNYXRyaXgoKSl9LGUucHJvdG90eXBlLmdldERpc3RhbmNlVG9DYW1lcmE9ZnVuY3Rpb24odCl7cmV0dXJuIHQ9PT12b2lkIDAmJih0PW51bGwpLHR8fCh0PXRoaXMuZ2V0U2NlbmUoKS5hY3RpdmVDYW1lcmEpLHRoaXMuZ2V0QWJzb2x1dGVQb3NpdGlvbigpLnN1YnRyYWN0KHQuZ2xvYmFsUG9zaXRpb24pLmxlbmd0aCgpfSxlLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbih0LHIsbil7dmFyIGE9dGhpcyxzPXRlLkNsb25lKGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBlKHQsYS5nZXRTY2VuZSgpKX0sdGhpcyk7aWYocy5uYW1lPXQscy5pZD10LHImJihzLnBhcmVudD1yKSwhbilmb3IodmFyIG89dGhpcy5nZXREZXNjZW5kYW50cyghMCksdT0wO3U8by5sZW5ndGg7dSsrKXt2YXIgZj1vW3VdO2YuY2xvbmUmJmYuY2xvbmUodCsiLiIrZi5uYW1lLHMpfXJldHVybiBzfSxlLnByb3RvdHlwZS5zZXJpYWxpemU9ZnVuY3Rpb24odCl7dmFyIHI9dGUuU2VyaWFsaXplKHRoaXMsdCk7cmV0dXJuIHIudHlwZT10aGlzLmdldENsYXNzTmFtZSgpLHIudW5pcXVlSWQ9dGhpcy51bmlxdWVJZCx0aGlzLnBhcmVudCYmKHIucGFyZW50SWQ9dGhpcy5wYXJlbnQudW5pcXVlSWQpLHIubG9jYWxNYXRyaXg9dGhpcy5nZXRQaXZvdE1hdHJpeCgpLmFzQXJyYXkoKSxyLmlzRW5hYmxlZD10aGlzLmlzRW5hYmxlZCgpLHRoaXMucGFyZW50JiYoci5wYXJlbnRJZD10aGlzLnBhcmVudC51bmlxdWVJZCkscn0sZS5QYXJzZT1mdW5jdGlvbih0LHIsbil7dmFyIGE9dGUuUGFyc2UoZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGUodC5uYW1lLHIpfSx0LHIsbik7cmV0dXJuIHQubG9jYWxNYXRyaXg/YS5zZXRQcmVUcmFuc2Zvcm1NYXRyaXgoSS5Gcm9tQXJyYXkodC5sb2NhbE1hdHJpeCkpOnQucGl2b3RNYXRyaXgmJmEuc2V0UGl2b3RNYXRyaXgoSS5Gcm9tQXJyYXkodC5waXZvdE1hdHJpeCkpLGEuc2V0RW5hYmxlZCh0LmlzRW5hYmxlZCksdC5wYXJlbnRJZCE9PXZvaWQgMCYmKGEuX3dhaXRpbmdQYXJlbnRJZD10LnBhcmVudElkKSxhfSxlLnByb3RvdHlwZS5nZXRDaGlsZFRyYW5zZm9ybU5vZGVzPWZ1bmN0aW9uKHQscil7dmFyIG49W107cmV0dXJuIHRoaXMuX2dldERlc2NlbmRhbnRzKG4sdCxmdW5jdGlvbihhKXtyZXR1cm4oIXJ8fHIoYSkpJiZhIGluc3RhbmNlb2YgZX0pLG59LGUucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24odCxyKXtpZihyPT09dm9pZCAwJiYocj0hMSksdGhpcy5nZXRTY2VuZSgpLnN0b3BBbmltYXRpb24odGhpcyksdGhpcy5nZXRTY2VuZSgpLnJlbW92ZVRyYW5zZm9ybU5vZGUodGhpcyksdGhpcy5fcGFyZW50Q29udGFpbmVyKXt2YXIgbj10aGlzLl9wYXJlbnRDb250YWluZXIudHJhbnNmb3JtTm9kZXMuaW5kZXhPZih0aGlzKTtuPi0xJiZ0aGlzLl9wYXJlbnRDb250YWluZXIudHJhbnNmb3JtTm9kZXMuc3BsaWNlKG4sMSksdGhpcy5fcGFyZW50Q29udGFpbmVyPW51bGx9aWYodGhpcy5vbkFmdGVyV29ybGRNYXRyaXhVcGRhdGVPYnNlcnZhYmxlLmNsZWFyKCksdClmb3IodmFyIGE9dGhpcy5nZXRDaGlsZFRyYW5zZm9ybU5vZGVzKCEwKSxzPTAsbz1hO3M8by5sZW5ndGg7cysrKXt2YXIgdT1vW3NdO3UucGFyZW50PW51bGwsdS5jb21wdXRlV29ybGRNYXRyaXgoITApfWkucHJvdG90eXBlLmRpc3Bvc2UuY2FsbCh0aGlzLHQscil9LGUucHJvdG90eXBlLm5vcm1hbGl6ZVRvVW5pdEN1YmU9ZnVuY3Rpb24odCxyLG4pe3Q9PT12b2lkIDAmJih0PSEwKSxyPT09dm9pZCAwJiYocj0hMSk7dmFyIGE9bnVsbCxzPW51bGw7ciYmKHRoaXMucm90YXRpb25RdWF0ZXJuaW9uPyhzPXRoaXMucm90YXRpb25RdWF0ZXJuaW9uLmNsb25lKCksdGhpcy5yb3RhdGlvblF1YXRlcm5pb24uY29weUZyb21GbG9hdHMoMCwwLDAsMSkpOnRoaXMucm90YXRpb24mJihhPXRoaXMucm90YXRpb24uY2xvbmUoKSx0aGlzLnJvdGF0aW9uLmNvcHlGcm9tRmxvYXRzKDAsMCwwKSkpO3ZhciBvPXRoaXMuZ2V0SGllcmFyY2h5Qm91bmRpbmdWZWN0b3JzKHQsbiksdT1vLm1heC5zdWJ0cmFjdChvLm1pbiksZj1NYXRoLm1heCh1LngsdS55LHUueik7aWYoZj09PTApcmV0dXJuIHRoaXM7dmFyIGw9MS9mO3JldHVybiB0aGlzLnNjYWxpbmcuc2NhbGVJblBsYWNlKGwpLHImJih0aGlzLnJvdGF0aW9uUXVhdGVybmlvbiYmcz90aGlzLnJvdGF0aW9uUXVhdGVybmlvbi5jb3B5RnJvbShzKTp0aGlzLnJvdGF0aW9uJiZhJiZ0aGlzLnJvdGF0aW9uLmNvcHlGcm9tKGEpKSx0aGlzfSxlLnByb3RvdHlwZS5fc3luY0Fic29sdXRlU2NhbGluZ0FuZFJvdGF0aW9uPWZ1bmN0aW9uKCl7dGhpcy5faXNBYnNvbHV0ZVN5bmNlZHx8KHRoaXMuX3dvcmxkTWF0cml4LmRlY29tcG9zZSh0aGlzLl9hYnNvbHV0ZVNjYWxpbmcsdGhpcy5fYWJzb2x1dGVSb3RhdGlvblF1YXRlcm5pb24pLHRoaXMuX2lzQWJzb2x1dGVTeW5jZWQ9ITApfSxlLkJJTExCT0FSRE1PREVfTk9ORT0wLGUuQklMTEJPQVJETU9ERV9YPTEsZS5CSUxMQk9BUkRNT0RFX1k9MixlLkJJTExCT0FSRE1PREVfWj00LGUuQklMTEJPQVJETU9ERV9BTEw9NyxlLkJJTExCT0FSRE1PREVfVVNFX1BPU0lUSU9OPTEyOCxlLl9UbXBSb3RhdGlvbj1zZS5aZXJvKCksZS5fVG1wU2NhbGluZz1iLlplcm8oKSxlLl9UbXBUcmFuc2xhdGlvbj1iLlplcm8oKSxlLl9Mb29rQXRWZWN0b3JDYWNoZT1uZXcgYigwLDAsMCksZS5fUm90YXRpb25BeGlzQ2FjaGU9bmV3IHNlLFQoW2x0KCJwb3NpdGlvbiIpXSxlLnByb3RvdHlwZSwiX3Bvc2l0aW9uIix2b2lkIDApLFQoW2x0KCJyb3RhdGlvbiIpXSxlLnByb3RvdHlwZSwiX3JvdGF0aW9uIix2b2lkIDApLFQoW2hhKCJyb3RhdGlvblF1YXRlcm5pb24iKV0sZS5wcm90b3R5cGUsIl9yb3RhdGlvblF1YXRlcm5pb24iLHZvaWQgMCksVChbbHQoInNjYWxpbmciKV0sZS5wcm90b3R5cGUsIl9zY2FsaW5nIix2b2lkIDApLFQoW1AoImJpbGxib2FyZE1vZGUiKV0sZS5wcm90b3R5cGUsIl9iaWxsYm9hcmRNb2RlIix2b2lkIDApLFQoW1AoKV0sZS5wcm90b3R5cGUsInNjYWxpbmdEZXRlcm1pbmFudCIsdm9pZCAwKSxUKFtQKCJpbmZpbml0ZURpc3RhbmNlIildLGUucHJvdG90eXBlLCJfaW5maW5pdGVEaXN0YW5jZSIsdm9pZCAwKSxUKFtQKCldLGUucHJvdG90eXBlLCJpZ25vcmVOb25Vbmlmb3JtU2NhbGluZyIsdm9pZCAwKSxUKFtQKCldLGUucHJvdG90eXBlLCJyZUludGVncmF0ZVJvdGF0aW9uSW50b1JvdGF0aW9uUXVhdGVybmlvbiIsdm9pZCAwKSxlfSgkZSksUmE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKCl7dGhpcy5fY2hlY2tDb2xsaXNpb25zPSExLHRoaXMuX2NvbGxpc2lvbk1hc2s9LTEsdGhpcy5fY29sbGlzaW9uR3JvdXA9LTEsdGhpcy5fc3Vycm91bmRpbmdNZXNoZXM9bnVsbCx0aGlzLl9jb2xsaWRlcj1udWxsLHRoaXMuX29sZFBvc2l0aW9uRm9yQ29sbGlzaW9ucz1uZXcgYigwLDAsMCksdGhpcy5fZGlmZlBvc2l0aW9uRm9yQ29sbGlzaW9ucz1uZXcgYigwLDAsMCksdGhpcy5fY29sbGlzaW9uUmVzcG9uc2U9ITB9cmV0dXJuIGl9KCksUGE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKCl7dGhpcy5mYWNldE5iPTAsdGhpcy5wYXJ0aXRpb25pbmdTdWJkaXZpc2lvbnM9MTAsdGhpcy5wYXJ0aXRpb25pbmdCQm94UmF0aW89MS4wMSx0aGlzLmZhY2V0RGF0YUVuYWJsZWQ9ITEsdGhpcy5mYWNldFBhcmFtZXRlcnM9e30sdGhpcy5iYlNpemU9Yi5aZXJvKCksdGhpcy5zdWJEaXY9e21heDoxLFg6MSxZOjEsWjoxfSx0aGlzLmZhY2V0RGVwdGhTb3J0PSExLHRoaXMuZmFjZXREZXB0aFNvcnRFbmFibGVkPSExfXJldHVybiBpfSgpLENhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaSgpe3RoaXMuX2hhc1ZlcnRleEFscGhhPSExLHRoaXMuX3VzZVZlcnRleENvbG9ycz0hMCx0aGlzLl9udW1Cb25lSW5mbHVlbmNlcnM9NCx0aGlzLl9hcHBseUZvZz0hMCx0aGlzLl9yZWNlaXZlU2hhZG93cz0hMSx0aGlzLl9mYWNldERhdGE9bmV3IFBhLHRoaXMuX3Zpc2liaWxpdHk9MSx0aGlzLl9za2VsZXRvbj1udWxsLHRoaXMuX2xheWVyTWFzaz0yNjg0MzU0NTUsdGhpcy5fY29tcHV0ZUJvbmVzVXNpbmdTaGFkZXJzPSEwLHRoaXMuX2lzQWN0aXZlPSExLHRoaXMuX29ubHlGb3JJbnN0YW5jZXM9ITEsdGhpcy5faXNBY3RpdmVJbnRlcm1lZGlhdGU9ITEsdGhpcy5fb25seUZvckluc3RhbmNlc0ludGVybWVkaWF0ZT0hMSx0aGlzLl9hY3RBc1JlZ3VsYXJNZXNoPSExLHRoaXMuX2N1cnJlbnRMT0Q9bnVsbCx0aGlzLl9jdXJyZW50TE9ESXNVcFRvRGF0ZT0hMSx0aGlzLl9jb2xsaXNpb25SZXRyeUNvdW50PTMsdGhpcy5fbW9ycGhUYXJnZXRNYW5hZ2VyPW51bGwsdGhpcy5fcmVuZGVyaW5nR3JvdXBJZD0wLHRoaXMuX2Jha2VkVmVydGV4QW5pbWF0aW9uTWFuYWdlcj1udWxsLHRoaXMuX21hdGVyaWFsPW51bGwsdGhpcy5fcG9zaXRpb25zPW51bGwsdGhpcy5fbWVzaENvbGxpc2lvbkRhdGE9bmV3IFJhLHRoaXMuX2VuYWJsZURpc3RhbnRQaWNraW5nPSExfXJldHVybiBpfSgpLG5pPWZ1bmN0aW9uKGkpe0soZSxpKTtmdW5jdGlvbiBlKHQscil7cj09PXZvaWQgMCYmKHI9bnVsbCk7dmFyIG49aS5jYWxsKHRoaXMsdCxyLCExKXx8dGhpcztyZXR1cm4gbi5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mbz1uZXcgQ2Esbi5fd2FpdGluZ01hdGVyaWFsSWQ9bnVsbCxuLmN1bGxpbmdTdHJhdGVneT1lLkNVTExJTkdTVFJBVEVHWV9CT1VORElOR1NQSEVSRV9PTkxZLG4ub25Db2xsaWRlT2JzZXJ2YWJsZT1uZXcgTyxuLm9uQ29sbGlzaW9uUG9zaXRpb25DaGFuZ2VPYnNlcnZhYmxlPW5ldyBPLG4ub25NYXRlcmlhbENoYW5nZWRPYnNlcnZhYmxlPW5ldyBPLG4uZGVmaW5lZEZhY2luZ0ZvcndhcmQ9ITAsbi5fb2NjbHVzaW9uUXVlcnk9bnVsbCxuLl9yZW5kZXJpbmdHcm91cD1udWxsLG4uYWxwaGFJbmRleD1OdW1iZXIuTUFYX1ZBTFVFLG4uaXNWaXNpYmxlPSEwLG4uaXNQaWNrYWJsZT0hMCxuLmlzTmVhclBpY2thYmxlPSExLG4uaXNOZWFyR3JhYmJhYmxlPSExLG4uc2hvd1N1Yk1lc2hlc0JvdW5kaW5nQm94PSExLG4uaXNCbG9ja2VyPSExLG4uZW5hYmxlUG9pbnRlck1vdmVFdmVudHM9ITEsbi5vdXRsaW5lQ29sb3I9YmUuUmVkKCksbi5vdXRsaW5lV2lkdGg9LjAyLG4ub3ZlcmxheUNvbG9yPWJlLlJlZCgpLG4ub3ZlcmxheUFscGhhPS41LG4udXNlT2N0cmVlRm9yUmVuZGVyaW5nU2VsZWN0aW9uPSEwLG4udXNlT2N0cmVlRm9yUGlja2luZz0hMCxuLnVzZU9jdHJlZUZvckNvbGxpc2lvbnM9ITAsbi5hbHdheXNTZWxlY3RBc0FjdGl2ZU1lc2g9ITEsbi5kb05vdFN5bmNCb3VuZGluZ0luZm89ITEsbi5hY3Rpb25NYW5hZ2VyPW51bGwsbi5lbGxpcHNvaWQ9bmV3IGIoLjUsMSwuNSksbi5lbGxpcHNvaWRPZmZzZXQ9bmV3IGIoMCwwLDApLG4uZWRnZXNXaWR0aD0xLG4uZWRnZXNDb2xvcj1uZXcgRWUoMSwwLDAsMSksbi5fZWRnZXNSZW5kZXJlcj1udWxsLG4uX21hc3Rlck1lc2g9bnVsbCxuLl9ib3VuZGluZ0luZm89bnVsbCxuLl9ib3VuZGluZ0luZm9Jc0RpcnR5PSEwLG4uX3JlbmRlcklkPTAsbi5faW50ZXJzZWN0aW9uc0luUHJvZ3Jlc3M9bmV3IEFycmF5LG4uX3VuSW5kZXhlZD0hMSxuLl9saWdodFNvdXJjZXM9bmV3IEFycmF5LG4uX3dhaXRpbmdEYXRhPXtsb2RzOm51bGwsYWN0aW9uczpudWxsLGZyZWV6ZVdvcmxkTWF0cml4Om51bGx9LG4uX2JvbmVzVHJhbnNmb3JtTWF0cmljZXM9bnVsbCxuLl90cmFuc2Zvcm1NYXRyaXhUZXh0dXJlPW51bGwsbi5vblJlYnVpbGRPYnNlcnZhYmxlPW5ldyBPLG4uX29uQ29sbGlzaW9uUG9zaXRpb25DaGFuZ2U9ZnVuY3Rpb24oYSxzLG8pe289PT12b2lkIDAmJihvPW51bGwpLHMuc3VidHJhY3RUb1JlZihuLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tZXNoQ29sbGlzaW9uRGF0YS5fb2xkUG9zaXRpb25Gb3JDb2xsaXNpb25zLG4uX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21lc2hDb2xsaXNpb25EYXRhLl9kaWZmUG9zaXRpb25Gb3JDb2xsaXNpb25zKSxuLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tZXNoQ29sbGlzaW9uRGF0YS5fZGlmZlBvc2l0aW9uRm9yQ29sbGlzaW9ucy5sZW5ndGgoKT5jZS5Db2xsaXNpb25zRXBzaWxvbiYmbi5wb3NpdGlvbi5hZGRJblBsYWNlKG4uX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21lc2hDb2xsaXNpb25EYXRhLl9kaWZmUG9zaXRpb25Gb3JDb2xsaXNpb25zKSxvJiZuLm9uQ29sbGlkZU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKG8pLG4ub25Db2xsaXNpb25Qb3NpdGlvbkNoYW5nZU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKG4ucG9zaXRpb24pfSxuLmdldFNjZW5lKCkuYWRkTWVzaChuKSxuLl9yZXN5bmNMaWdodFNvdXJjZXMoKSxuLl91bmlmb3JtQnVmZmVyPW5ldyBUcihuLmdldFNjZW5lKCkuZ2V0RW5naW5lKCksdm9pZCAwLHZvaWQgMCx0LCFuLmdldFNjZW5lKCkuZ2V0RW5naW5lKCkuaXNXZWJHUFUpLG4uX2J1aWxkVW5pZm9ybUxheW91dCgpLG59cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJCSUxMQk9BUkRNT0RFX05PTkUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gSmUuQklMTEJPQVJETU9ERV9OT05FfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJCSUxMQk9BUkRNT0RFX1giLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gSmUuQklMTEJPQVJETU9ERV9YfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJCSUxMQk9BUkRNT0RFX1kiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gSmUuQklMTEJPQVJETU9ERV9ZfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJCSUxMQk9BUkRNT0RFX1oiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gSmUuQklMTEJPQVJETU9ERV9afSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJCSUxMQk9BUkRNT0RFX0FMTCIse2dldDpmdW5jdGlvbigpe3JldHVybiBKZS5CSUxMQk9BUkRNT0RFX0FMTH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiQklMTEJPQVJETU9ERV9VU0VfUE9TSVRJT04iLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gSmUuQklMTEJPQVJETU9ERV9VU0VfUE9TSVRJT059LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJmYWNldE5iIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2ZhY2V0RGF0YS5mYWNldE5ifSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwicGFydGl0aW9uaW5nU3ViZGl2aXNpb25zIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2ZhY2V0RGF0YS5wYXJ0aXRpb25pbmdTdWJkaXZpc2lvbnN9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9mYWNldERhdGEucGFydGl0aW9uaW5nU3ViZGl2aXNpb25zPXR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJwYXJ0aXRpb25pbmdCQm94UmF0aW8iLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fZmFjZXREYXRhLnBhcnRpdGlvbmluZ0JCb3hSYXRpb30sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2ZhY2V0RGF0YS5wYXJ0aXRpb25pbmdCQm94UmF0aW89dH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsIm11c3REZXB0aFNvcnRGYWNldHMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fZmFjZXREYXRhLmZhY2V0RGVwdGhTb3J0fSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fZmFjZXREYXRhLmZhY2V0RGVwdGhTb3J0PXR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJmYWNldERlcHRoU29ydEZyb20iLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fZmFjZXREYXRhLmZhY2V0RGVwdGhTb3J0RnJvbX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2ZhY2V0RGF0YS5mYWNldERlcHRoU29ydEZyb209dH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImNvbGxpc2lvblJldHJ5Q291bnQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fY29sbGlzaW9uUmV0cnlDb3VudH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2NvbGxpc2lvblJldHJ5Q291bnQ9dH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImlzRmFjZXREYXRhRW5hYmxlZCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9mYWNldERhdGEuZmFjZXREYXRhRW5hYmxlZH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsIm1vcnBoVGFyZ2V0TWFuYWdlciIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tb3JwaFRhcmdldE1hbmFnZXJ9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tb3JwaFRhcmdldE1hbmFnZXIhPT10JiYodGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbW9ycGhUYXJnZXRNYW5hZ2VyPXQsdGhpcy5fc3luY0dlb21ldHJ5V2l0aE1vcnBoVGFyZ2V0TWFuYWdlcigpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImJha2VkVmVydGV4QW5pbWF0aW9uTWFuYWdlciIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9iYWtlZFZlcnRleEFuaW1hdGlvbk1hbmFnZXJ9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9iYWtlZFZlcnRleEFuaW1hdGlvbk1hbmFnZXIhPT10JiYodGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fYmFrZWRWZXJ0ZXhBbmltYXRpb25NYW5hZ2VyPXQsdGhpcy5fbWFya1N1Yk1lc2hlc0FzQXR0cmlidXRlc0RpcnR5KCkpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLl9zeW5jR2VvbWV0cnlXaXRoTW9ycGhUYXJnZXRNYW5hZ2VyPWZ1bmN0aW9uKCl7fSxlLnByb3RvdHlwZS5fdXBkYXRlTm9uVW5pZm9ybVNjYWxpbmdTdGF0ZT1mdW5jdGlvbih0KXtyZXR1cm4gaS5wcm90b3R5cGUuX3VwZGF0ZU5vblVuaWZvcm1TY2FsaW5nU3RhdGUuY2FsbCh0aGlzLHQpPyh0aGlzLl9tYXJrU3ViTWVzaGVzQXNNaXNjRGlydHkoKSwhMCk6ITF9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwib25Db2xsaWRlIix7c2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21lc2hDb2xsaXNpb25EYXRhLl9vbkNvbGxpZGVPYnNlcnZlciYmdGhpcy5vbkNvbGxpZGVPYnNlcnZhYmxlLnJlbW92ZSh0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tZXNoQ29sbGlzaW9uRGF0YS5fb25Db2xsaWRlT2JzZXJ2ZXIpLHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21lc2hDb2xsaXNpb25EYXRhLl9vbkNvbGxpZGVPYnNlcnZlcj10aGlzLm9uQ29sbGlkZU9ic2VydmFibGUuYWRkKHQpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwib25Db2xsaXNpb25Qb3NpdGlvbkNoYW5nZSIse3NldDpmdW5jdGlvbih0KXt0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tZXNoQ29sbGlzaW9uRGF0YS5fb25Db2xsaXNpb25Qb3NpdGlvbkNoYW5nZU9ic2VydmVyJiZ0aGlzLm9uQ29sbGlzaW9uUG9zaXRpb25DaGFuZ2VPYnNlcnZhYmxlLnJlbW92ZSh0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tZXNoQ29sbGlzaW9uRGF0YS5fb25Db2xsaXNpb25Qb3NpdGlvbkNoYW5nZU9ic2VydmVyKSx0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tZXNoQ29sbGlzaW9uRGF0YS5fb25Db2xsaXNpb25Qb3NpdGlvbkNoYW5nZU9ic2VydmVyPXRoaXMub25Db2xsaXNpb25Qb3NpdGlvbkNoYW5nZU9ic2VydmFibGUuYWRkKHQpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwidmlzaWJpbGl0eSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl92aXNpYmlsaXR5fSxzZXQ6ZnVuY3Rpb24odCl7aWYodGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fdmlzaWJpbGl0eSE9PXQpe3ZhciByPXRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX3Zpc2liaWxpdHk7dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fdmlzaWJpbGl0eT10LChyPT09MSYmdCE9PTF8fHIhPT0xJiZ0PT09MSkmJnRoaXMuX21hcmtTdWJNZXNoZXNBc01pc2NEaXJ0eSgpfX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInJlbmRlcmluZ0dyb3VwSWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fcmVuZGVyaW5nR3JvdXBJZH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX3JlbmRlcmluZ0dyb3VwSWQ9dH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsIm1hdGVyaWFsIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21hdGVyaWFsfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWF0ZXJpYWwhPT10JiYodGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWF0ZXJpYWwmJnRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21hdGVyaWFsLm1lc2hNYXAmJih0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tYXRlcmlhbC5tZXNoTWFwW3RoaXMudW5pcXVlSWRdPXZvaWQgMCksdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWF0ZXJpYWw9dCx0JiZ0Lm1lc2hNYXAmJih0Lm1lc2hNYXBbdGhpcy51bmlxdWVJZF09dGhpcyksdGhpcy5vbk1hdGVyaWFsQ2hhbmdlZE9ic2VydmFibGUuaGFzT2JzZXJ2ZXJzKCkmJnRoaXMub25NYXRlcmlhbENoYW5nZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKSx0aGlzLnN1Yk1lc2hlcyYmKHRoaXMucmVzZXREcmF3Q2FjaGUoKSx0aGlzLl91bkJpbmRFZmZlY3QoKSkpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLmdldE1hdGVyaWFsRm9yUmVuZGVyUGFzcz1mdW5jdGlvbih0KXt2YXIgcjtyZXR1cm4ocj10aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tYXRlcmlhbEZvclJlbmRlclBhc3MpPT09bnVsbHx8cj09PXZvaWQgMD92b2lkIDA6clt0XX0sZS5wcm90b3R5cGUuc2V0TWF0ZXJpYWxGb3JSZW5kZXJQYXNzPWZ1bmN0aW9uKHQscil7dGhpcy5yZXNldERyYXdDYWNoZSh0KSx0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tYXRlcmlhbEZvclJlbmRlclBhc3N8fCh0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tYXRlcmlhbEZvclJlbmRlclBhc3M9W10pLHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21hdGVyaWFsRm9yUmVuZGVyUGFzc1t0XT1yfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInJlY2VpdmVTaGFkb3dzIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX3JlY2VpdmVTaGFkb3dzfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fcmVjZWl2ZVNoYWRvd3MhPT10JiYodGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fcmVjZWl2ZVNoYWRvd3M9dCx0aGlzLl9tYXJrU3ViTWVzaGVzQXNMaWdodERpcnR5KCkpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiaGFzVmVydGV4QWxwaGEiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5faGFzVmVydGV4QWxwaGF9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9oYXNWZXJ0ZXhBbHBoYSE9PXQmJih0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9oYXNWZXJ0ZXhBbHBoYT10LHRoaXMuX21hcmtTdWJNZXNoZXNBc0F0dHJpYnV0ZXNEaXJ0eSgpLHRoaXMuX21hcmtTdWJNZXNoZXNBc01pc2NEaXJ0eSgpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInVzZVZlcnRleENvbG9ycyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl91c2VWZXJ0ZXhDb2xvcnN9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl91c2VWZXJ0ZXhDb2xvcnMhPT10JiYodGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fdXNlVmVydGV4Q29sb3JzPXQsdGhpcy5fbWFya1N1Yk1lc2hlc0FzQXR0cmlidXRlc0RpcnR5KCkpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiY29tcHV0ZUJvbmVzVXNpbmdTaGFkZXJzIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2NvbXB1dGVCb25lc1VzaW5nU2hhZGVyc30sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2NvbXB1dGVCb25lc1VzaW5nU2hhZGVycyE9PXQmJih0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9jb21wdXRlQm9uZXNVc2luZ1NoYWRlcnM9dCx0aGlzLl9tYXJrU3ViTWVzaGVzQXNBdHRyaWJ1dGVzRGlydHkoKSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJudW1Cb25lSW5mbHVlbmNlcnMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbnVtQm9uZUluZmx1ZW5jZXJzfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbnVtQm9uZUluZmx1ZW5jZXJzIT09dCYmKHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX251bUJvbmVJbmZsdWVuY2Vycz10LHRoaXMuX21hcmtTdWJNZXNoZXNBc0F0dHJpYnV0ZXNEaXJ0eSgpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImFwcGx5Rm9nIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2FwcGx5Rm9nfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fYXBwbHlGb2chPT10JiYodGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fYXBwbHlGb2c9dCx0aGlzLl9tYXJrU3ViTWVzaGVzQXNNaXNjRGlydHkoKSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJlbmFibGVEaXN0YW50UGlja2luZyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9lbmFibGVEaXN0YW50UGlja2luZ30sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2VuYWJsZURpc3RhbnRQaWNraW5nPXR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJsYXllck1hc2siLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbGF5ZXJNYXNrfSxzZXQ6ZnVuY3Rpb24odCl7dCE9PXRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2xheWVyTWFzayYmKHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2xheWVyTWFzaz10LHRoaXMuX3Jlc3luY0xpZ2h0U291cmNlcygpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImNvbGxpc2lvbk1hc2siLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWVzaENvbGxpc2lvbkRhdGEuX2NvbGxpc2lvbk1hc2t9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tZXNoQ29sbGlzaW9uRGF0YS5fY29sbGlzaW9uTWFzaz1pc05hTih0KT8tMTp0fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiY29sbGlzaW9uUmVzcG9uc2UiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWVzaENvbGxpc2lvbkRhdGEuX2NvbGxpc2lvblJlc3BvbnNlfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWVzaENvbGxpc2lvbkRhdGEuX2NvbGxpc2lvblJlc3BvbnNlPXR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJjb2xsaXNpb25Hcm91cCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tZXNoQ29sbGlzaW9uRGF0YS5fY29sbGlzaW9uR3JvdXB9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tZXNoQ29sbGlzaW9uRGF0YS5fY29sbGlzaW9uR3JvdXA9aXNOYU4odCk/LTE6dH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInN1cnJvdW5kaW5nTWVzaGVzIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21lc2hDb2xsaXNpb25EYXRhLl9zdXJyb3VuZGluZ01lc2hlc30sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21lc2hDb2xsaXNpb25EYXRhLl9zdXJyb3VuZGluZ01lc2hlcz10fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwibGlnaHRTb3VyY2VzIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xpZ2h0U291cmNlc30sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsIl9wb3NpdGlvbnMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInNrZWxldG9uIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX3NrZWxldG9ufSxzZXQ6ZnVuY3Rpb24odCl7dmFyIHI9dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fc2tlbGV0b247ciYmci5uZWVkSW5pdGlhbFNraW5NYXRyaXgmJnIuX3VucmVnaXN0ZXJNZXNoV2l0aFBvc2VNYXRyaXgodGhpcyksdCYmdC5uZWVkSW5pdGlhbFNraW5NYXRyaXgmJnQuX3JlZ2lzdGVyTWVzaFdpdGhQb3NlTWF0cml4KHRoaXMpLHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX3NrZWxldG9uPXQsdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fc2tlbGV0b258fCh0aGlzLl9ib25lc1RyYW5zZm9ybU1hdHJpY2VzPW51bGwpLHRoaXMuX21hcmtTdWJNZXNoZXNBc0F0dHJpYnV0ZXNEaXJ0eSgpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLl9idWlsZFVuaWZvcm1MYXlvdXQ9ZnVuY3Rpb24oKXt0aGlzLl91bmlmb3JtQnVmZmVyLmFkZFVuaWZvcm0oIndvcmxkIiwxNiksdGhpcy5fdW5pZm9ybUJ1ZmZlci5hZGRVbmlmb3JtKCJ2aXNpYmlsaXR5IiwxKSx0aGlzLl91bmlmb3JtQnVmZmVyLmNyZWF0ZSgpfSxlLnByb3RvdHlwZS50cmFuc2ZlclRvRWZmZWN0PWZ1bmN0aW9uKHQpe3ZhciByPXRoaXMuX3VuaWZvcm1CdWZmZXI7ci51cGRhdGVNYXRyaXgoIndvcmxkIix0KSxyLnVwZGF0ZUZsb2F0KCJ2aXNpYmlsaXR5Iix0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl92aXNpYmlsaXR5KSxyLnVwZGF0ZSgpfSxlLnByb3RvdHlwZS5nZXRNZXNoVW5pZm9ybUJ1ZmZlcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl91bmlmb3JtQnVmZmVyfSxlLnByb3RvdHlwZS5nZXRDbGFzc05hbWU9ZnVuY3Rpb24oKXtyZXR1cm4iQWJzdHJhY3RNZXNoIn0sZS5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24odCl7dmFyIHI9Ik5hbWU6ICIrdGhpcy5uYW1lKyIsIGlzSW5zdGFuY2U6ICIrKHRoaXMuZ2V0Q2xhc3NOYW1lKCkhPT0iSW5zdGFuY2VkTWVzaCI/IllFUyI6Ik5PIik7cis9IiwgIyBvZiBzdWJtZXNoZXM6ICIrKHRoaXMuc3ViTWVzaGVzP3RoaXMuc3ViTWVzaGVzLmxlbmd0aDowKTt2YXIgbj10aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9za2VsZXRvbjtyZXR1cm4gbiYmKHIrPSIsIHNrZWxldG9uOiAiK24ubmFtZSksdCYmKHIrPSIsIGJpbGxib2FyZCBtb2RlOiAiK1siTk9ORSIsIlgiLCJZIixudWxsLCJaIixudWxsLG51bGwsIkFMTCJdW3RoaXMuYmlsbGJvYXJkTW9kZV0scis9IiwgZnJlZXplIHdybGQgbWF0OiAiKyh0aGlzLl9pc1dvcmxkTWF0cml4RnJvemVufHx0aGlzLl93YWl0aW5nRGF0YS5mcmVlemVXb3JsZE1hdHJpeD8iWUVTIjoiTk8iKSkscn0sZS5wcm90b3R5cGUuX2dldEVmZmVjdGl2ZVBhcmVudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9tYXN0ZXJNZXNoJiZ0aGlzLmJpbGxib2FyZE1vZGUhPT1KZS5CSUxMQk9BUkRNT0RFX05PTkU/dGhpcy5fbWFzdGVyTWVzaDppLnByb3RvdHlwZS5fZ2V0RWZmZWN0aXZlUGFyZW50LmNhbGwodGhpcyl9LGUucHJvdG90eXBlLl9nZXRBY3Rpb25NYW5hZ2VyRm9yVHJpZ2dlcj1mdW5jdGlvbih0LHIpe2lmKHI9PT12b2lkIDAmJihyPSEwKSx0aGlzLmFjdGlvbk1hbmFnZXImJihyfHx0aGlzLmFjdGlvbk1hbmFnZXIuaXNSZWN1cnNpdmUpKWlmKHQpe2lmKHRoaXMuYWN0aW9uTWFuYWdlci5oYXNTcGVjaWZpY1RyaWdnZXIodCkpcmV0dXJuIHRoaXMuYWN0aW9uTWFuYWdlcn1lbHNlIHJldHVybiB0aGlzLmFjdGlvbk1hbmFnZXI7cmV0dXJuIHRoaXMucGFyZW50P3RoaXMucGFyZW50Ll9nZXRBY3Rpb25NYW5hZ2VyRm9yVHJpZ2dlcih0LCExKTpudWxsfSxlLnByb3RvdHlwZS5fcmVidWlsZD1mdW5jdGlvbih0KXtpZih0aGlzLm9uUmVidWlsZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpLHRoaXMuX29jY2x1c2lvblF1ZXJ5IT09bnVsbCYmKHRoaXMuX29jY2x1c2lvblF1ZXJ5PW51bGwpLCEhdGhpcy5zdWJNZXNoZXMpZm9yKHZhciByPTAsbj10aGlzLnN1Yk1lc2hlcztyPG4ubGVuZ3RoO3IrKyl7dmFyIGE9bltyXTthLl9yZWJ1aWxkKCl9fSxlLnByb3RvdHlwZS5fcmVzeW5jTGlnaHRTb3VyY2VzPWZ1bmN0aW9uKCl7dGhpcy5fbGlnaHRTb3VyY2VzLmxlbmd0aD0wO2Zvcih2YXIgdD0wLHI9dGhpcy5nZXRTY2VuZSgpLmxpZ2h0czt0PHIubGVuZ3RoO3QrKyl7dmFyIG49clt0XTshbi5pc0VuYWJsZWQoKXx8bi5jYW5BZmZlY3RNZXNoKHRoaXMpJiZ0aGlzLl9saWdodFNvdXJjZXMucHVzaChuKX10aGlzLl9tYXJrU3ViTWVzaGVzQXNMaWdodERpcnR5KCl9LGUucHJvdG90eXBlLl9yZXN5bmNMaWdodFNvdXJjZT1mdW5jdGlvbih0KXt2YXIgcj10LmlzRW5hYmxlZCgpJiZ0LmNhbkFmZmVjdE1lc2godGhpcyksbj10aGlzLl9saWdodFNvdXJjZXMuaW5kZXhPZih0KSxhPSExO2lmKG49PT0tMSl7aWYoIXIpcmV0dXJuO3RoaXMuX2xpZ2h0U291cmNlcy5wdXNoKHQpfWVsc2V7aWYocilyZXR1cm47YT0hMCx0aGlzLl9saWdodFNvdXJjZXMuc3BsaWNlKG4sMSl9dGhpcy5fbWFya1N1Yk1lc2hlc0FzTGlnaHREaXJ0eShhKX0sZS5wcm90b3R5cGUuX3VuQmluZEVmZmVjdD1mdW5jdGlvbigpe2Zvcih2YXIgdD0wLHI9dGhpcy5zdWJNZXNoZXM7dDxyLmxlbmd0aDt0Kyspe3ZhciBuPXJbdF07bi5zZXRFZmZlY3QobnVsbCl9fSxlLnByb3RvdHlwZS5fcmVtb3ZlTGlnaHRTb3VyY2U9ZnVuY3Rpb24odCxyKXt2YXIgbj10aGlzLl9saWdodFNvdXJjZXMuaW5kZXhPZih0KTtuIT09LTEmJih0aGlzLl9saWdodFNvdXJjZXMuc3BsaWNlKG4sMSksdGhpcy5fbWFya1N1Yk1lc2hlc0FzTGlnaHREaXJ0eShyKSl9LGUucHJvdG90eXBlLl9tYXJrU3ViTWVzaGVzQXNEaXJ0eT1mdW5jdGlvbih0KXtpZighIXRoaXMuc3ViTWVzaGVzKWZvcih2YXIgcj0wLG49dGhpcy5zdWJNZXNoZXM7cjxuLmxlbmd0aDtyKyspZm9yKHZhciBhPW5bcl0scz0wO3M8YS5fZHJhd1dyYXBwZXJzLmxlbmd0aDsrK3Mpe3ZhciBvPWEuX2RyYXdXcmFwcGVyc1tzXTshb3x8IW8uZGVmaW5lc3x8IW8uZGVmaW5lcy5tYXJrQWxsQXNEaXJ0eXx8dChvLmRlZmluZXMpfX0sZS5wcm90b3R5cGUuX21hcmtTdWJNZXNoZXNBc0xpZ2h0RGlydHk9ZnVuY3Rpb24odCl7dD09PXZvaWQgMCYmKHQ9ITEpLHRoaXMuX21hcmtTdWJNZXNoZXNBc0RpcnR5KGZ1bmN0aW9uKHIpe3JldHVybiByLm1hcmtBc0xpZ2h0RGlydHkodCl9KX0sZS5wcm90b3R5cGUuX21hcmtTdWJNZXNoZXNBc0F0dHJpYnV0ZXNEaXJ0eT1mdW5jdGlvbigpe3RoaXMuX21hcmtTdWJNZXNoZXNBc0RpcnR5KGZ1bmN0aW9uKHQpe3JldHVybiB0Lm1hcmtBc0F0dHJpYnV0ZXNEaXJ0eSgpfSl9LGUucHJvdG90eXBlLl9tYXJrU3ViTWVzaGVzQXNNaXNjRGlydHk9ZnVuY3Rpb24oKXt0aGlzLl9tYXJrU3ViTWVzaGVzQXNEaXJ0eShmdW5jdGlvbih0KXtyZXR1cm4gdC5tYXJrQXNNaXNjRGlydHkoKX0pfSxlLnByb3RvdHlwZS5tYXJrQXNEaXJ0eT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fY3VycmVudFJlbmRlcklkPU51bWJlci5NQVhfVkFMVUUsdGhpcy5faXNEaXJ0eT0hMCx0aGlzfSxlLnByb3RvdHlwZS5yZXNldERyYXdDYWNoZT1mdW5jdGlvbih0KXtpZighIXRoaXMuc3ViTWVzaGVzKWZvcih2YXIgcj0wLG49dGhpcy5zdWJNZXNoZXM7cjxuLmxlbmd0aDtyKyspe3ZhciBhPW5bcl07YS5yZXNldERyYXdDYWNoZSh0KX19LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiaXNCbG9ja2VkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuITF9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuZ2V0TE9EPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzfSxlLnByb3RvdHlwZS5nZXRUb3RhbFZlcnRpY2VzPWZ1bmN0aW9uKCl7cmV0dXJuIDB9LGUucHJvdG90eXBlLmdldFRvdGFsSW5kaWNlcz1mdW5jdGlvbigpe3JldHVybiAwfSxlLnByb3RvdHlwZS5nZXRJbmRpY2VzPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLmdldFZlcnRpY2VzRGF0YT1mdW5jdGlvbih0KXtyZXR1cm4gbnVsbH0sZS5wcm90b3R5cGUuc2V0VmVydGljZXNEYXRhPWZ1bmN0aW9uKHQscixuLGEpe3JldHVybiB0aGlzfSxlLnByb3RvdHlwZS51cGRhdGVWZXJ0aWNlc0RhdGE9ZnVuY3Rpb24odCxyLG4sYSl7cmV0dXJuIHRoaXN9LGUucHJvdG90eXBlLnNldEluZGljZXM9ZnVuY3Rpb24odCxyKXtyZXR1cm4gdGhpc30sZS5wcm90b3R5cGUuaXNWZXJ0aWNlc0RhdGFQcmVzZW50PWZ1bmN0aW9uKHQpe3JldHVybiExfSxlLnByb3RvdHlwZS5nZXRCb3VuZGluZ0luZm89ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbWFzdGVyTWVzaD90aGlzLl9tYXN0ZXJNZXNoLmdldEJvdW5kaW5nSW5mbygpOih0aGlzLl9ib3VuZGluZ0luZm9Jc0RpcnR5JiYodGhpcy5fYm91bmRpbmdJbmZvSXNEaXJ0eT0hMSx0aGlzLl91cGRhdGVCb3VuZGluZ0luZm8oKSksdGhpcy5fYm91bmRpbmdJbmZvKX0sZS5wcm90b3R5cGUuc2V0Qm91bmRpbmdJbmZvPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9ib3VuZGluZ0luZm89dCx0aGlzfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImhhc0JvdW5kaW5nSW5mbyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9ib3VuZGluZ0luZm8hPT1udWxsfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLmJ1aWxkQm91bmRpbmdJbmZvPWZ1bmN0aW9uKHQscixuKXtyZXR1cm4gdGhpcy5fYm91bmRpbmdJbmZvPW5ldyBTdCh0LHIsbiksdGhpcy5fYm91bmRpbmdJbmZvfSxlLnByb3RvdHlwZS5ub3JtYWxpemVUb1VuaXRDdWJlPWZ1bmN0aW9uKHQscixuKXtyZXR1cm4gdD09PXZvaWQgMCYmKHQ9ITApLHI9PT12b2lkIDAmJihyPSExKSxpLnByb3RvdHlwZS5ub3JtYWxpemVUb1VuaXRDdWJlLmNhbGwodGhpcyx0LHIsbil9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwidXNlQm9uZXMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5za2VsZXRvbiYmdGhpcy5nZXRTY2VuZSgpLnNrZWxldG9uc0VuYWJsZWQmJnRoaXMuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KG0uTWF0cmljZXNJbmRpY2VzS2luZCkmJnRoaXMuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KG0uTWF0cmljZXNXZWlnaHRzS2luZCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuX3ByZUFjdGl2YXRlPWZ1bmN0aW9uKCl7fSxlLnByb3RvdHlwZS5fcHJlQWN0aXZhdGVGb3JJbnRlcm1lZGlhdGVSZW5kZXJpbmc9ZnVuY3Rpb24odCl7fSxlLnByb3RvdHlwZS5fYWN0aXZhdGU9ZnVuY3Rpb24odCxyKXtyZXR1cm4gdGhpcy5fcmVuZGVySWQ9dCwhMH0sZS5wcm90b3R5cGUuX3Bvc3RBY3RpdmF0ZT1mdW5jdGlvbigpe30sZS5wcm90b3R5cGUuX2ZyZWV6ZT1mdW5jdGlvbigpe30sZS5wcm90b3R5cGUuX3VuRnJlZXplPWZ1bmN0aW9uKCl7fSxlLnByb3RvdHlwZS5nZXRXb3JsZE1hdHJpeD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9tYXN0ZXJNZXNoJiZ0aGlzLmJpbGxib2FyZE1vZGU9PT1KZS5CSUxMQk9BUkRNT0RFX05PTkU/dGhpcy5fbWFzdGVyTWVzaC5nZXRXb3JsZE1hdHJpeCgpOmkucHJvdG90eXBlLmdldFdvcmxkTWF0cml4LmNhbGwodGhpcyl9LGUucHJvdG90eXBlLl9nZXRXb3JsZE1hdHJpeERldGVybWluYW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21hc3Rlck1lc2g/dGhpcy5fbWFzdGVyTWVzaC5fZ2V0V29ybGRNYXRyaXhEZXRlcm1pbmFudCgpOmkucHJvdG90eXBlLl9nZXRXb3JsZE1hdHJpeERldGVybWluYW50LmNhbGwodGhpcyl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiaXNBbkluc3RhbmNlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuITF9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJoYXNJbnN0YW5jZXMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4hMX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImhhc1RoaW5JbnN0YW5jZXMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4hMX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5tb3ZlUE9WPWZ1bmN0aW9uKHQscixuKXtyZXR1cm4gdGhpcy5wb3NpdGlvbi5hZGRJblBsYWNlKHRoaXMuY2FsY01vdmVQT1YodCxyLG4pKSx0aGlzfSxlLnByb3RvdHlwZS5jYWxjTW92ZVBPVj1mdW5jdGlvbih0LHIsbil7dmFyIGE9bmV3IEkscz10aGlzLnJvdGF0aW9uUXVhdGVybmlvbj90aGlzLnJvdGF0aW9uUXVhdGVybmlvbjpzZS5Sb3RhdGlvbllhd1BpdGNoUm9sbCh0aGlzLnJvdGF0aW9uLnksdGhpcy5yb3RhdGlvbi54LHRoaXMucm90YXRpb24ueik7cy50b1JvdGF0aW9uTWF0cml4KGEpO3ZhciBvPWIuWmVybygpLHU9dGhpcy5kZWZpbmVkRmFjaW5nRm9yd2FyZD8tMToxO3JldHVybiBiLlRyYW5zZm9ybUNvb3JkaW5hdGVzRnJvbUZsb2F0c1RvUmVmKHQqdSxyLG4qdSxhLG8pLG99LGUucHJvdG90eXBlLnJvdGF0ZVBPVj1mdW5jdGlvbih0LHIsbil7cmV0dXJuIHRoaXMucm90YXRpb24uYWRkSW5QbGFjZSh0aGlzLmNhbGNSb3RhdGVQT1YodCxyLG4pKSx0aGlzfSxlLnByb3RvdHlwZS5jYWxjUm90YXRlUE9WPWZ1bmN0aW9uKHQscixuKXt2YXIgYT10aGlzLmRlZmluZWRGYWNpbmdGb3J3YXJkPzE6LTE7cmV0dXJuIG5ldyBiKHQqYSxyLG4qYSl9LGUucHJvdG90eXBlLnJlZnJlc2hCb3VuZGluZ0luZm89ZnVuY3Rpb24odCxyKXtyZXR1cm4gdD09PXZvaWQgMCYmKHQ9ITEpLHI9PT12b2lkIDAmJihyPSExKSx0aGlzLl9ib3VuZGluZ0luZm8mJnRoaXMuX2JvdW5kaW5nSW5mby5pc0xvY2tlZD90aGlzOih0aGlzLl9yZWZyZXNoQm91bmRpbmdJbmZvKHRoaXMuX2dldFBvc2l0aW9uRGF0YSh0LHIpLG51bGwpLHRoaXMpfSxlLnByb3RvdHlwZS5fcmVmcmVzaEJvdW5kaW5nSW5mbz1mdW5jdGlvbih0LHIpe2lmKHQpe3ZhciBuPXVuKHQsMCx0aGlzLmdldFRvdGFsVmVydGljZXMoKSxyKTt0aGlzLl9ib3VuZGluZ0luZm8/dGhpcy5fYm91bmRpbmdJbmZvLnJlQ29uc3RydWN0KG4ubWluaW11bSxuLm1heGltdW0pOnRoaXMuX2JvdW5kaW5nSW5mbz1uZXcgU3Qobi5taW5pbXVtLG4ubWF4aW11bSl9aWYodGhpcy5zdWJNZXNoZXMpZm9yKHZhciBhPTA7YTx0aGlzLnN1Yk1lc2hlcy5sZW5ndGg7YSsrKXRoaXMuc3ViTWVzaGVzW2FdLnJlZnJlc2hCb3VuZGluZ0luZm8odCk7dGhpcy5fdXBkYXRlQm91bmRpbmdJbmZvKCl9LGUucHJvdG90eXBlLl9nZXREYXRhPWZ1bmN0aW9uKHQscixuLGEpe2lmKHQ9PT12b2lkIDAmJih0PSExKSxyPT09dm9pZCAwJiYocj0hMSksYT09PXZvaWQgMCYmKGE9bS5Qb3NpdGlvbktpbmQpLG49biE9bnVsbD9uOnRoaXMuZ2V0VmVydGljZXNEYXRhKGEpLnNsaWNlKCksbiYmciYmdGhpcy5tb3JwaFRhcmdldE1hbmFnZXIpZm9yKHZhciBzPTAsbz0wLHU9MDt1PG4ubGVuZ3RoO3UrKyl7Zm9yKHZhciBmPTA7Zjx0aGlzLm1vcnBoVGFyZ2V0TWFuYWdlci5udW1UYXJnZXRzO2YrKyl7dmFyIGw9dGhpcy5tb3JwaFRhcmdldE1hbmFnZXIuZ2V0VGFyZ2V0KGYpLGg9bC5pbmZsdWVuY2U7aWYoaD4wKXt2YXIgYz1sLmdldFBvc2l0aW9ucygpO2MmJihuW3VdKz0oY1t1XS1uW3VdKSpoKX19aWYocysrLGE9PT1tLlBvc2l0aW9uS2luZCYmdGhpcy5fcG9zaXRpb25zJiZzPT09Myl7cz0wO3ZhciBkPW8qMzt0aGlzLl9wb3NpdGlvbnNbbysrXS5jb3B5RnJvbUZsb2F0cyhuW2RdLG5bZCsxXSxuW2QrMl0pfX1pZihuJiZ0JiZ0aGlzLnNrZWxldG9uKXt2YXIgcD10aGlzLmdldFZlcnRpY2VzRGF0YShtLk1hdHJpY2VzSW5kaWNlc0tpbmQpLGc9dGhpcy5nZXRWZXJ0aWNlc0RhdGEobS5NYXRyaWNlc1dlaWdodHNLaW5kKTtpZihnJiZwKWZvcih2YXIgXz10aGlzLm51bUJvbmVJbmZsdWVuY2Vycz40LHY9Xz90aGlzLmdldFZlcnRpY2VzRGF0YShtLk1hdHJpY2VzSW5kaWNlc0V4dHJhS2luZCk6bnVsbCx5PV8/dGhpcy5nZXRWZXJ0aWNlc0RhdGEobS5NYXRyaWNlc1dlaWdodHNFeHRyYUtpbmQpOm51bGwsRT10aGlzLnNrZWxldG9uLmdldFRyYW5zZm9ybU1hdHJpY2VzKHRoaXMpLFI9RC5WZWN0b3IzWzBdLE09RC5NYXRyaXhbMF0sQz1ELk1hdHJpeFsxXSxBPTAsZD0wO2Q8bi5sZW5ndGg7ZCs9MyxBKz00KXtNLnJlc2V0KCk7dmFyIFM9dm9pZCAwLHc9dm9pZCAwO2ZvcihTPTA7Uzw0O1MrKyl3PWdbQStTXSx3PjAmJihJLkZyb21GbG9hdDMyQXJyYXlUb1JlZlNjYWxlZChFLE1hdGguZmxvb3IocFtBK1NdKjE2KSx3LEMpLE0uYWRkVG9TZWxmKEMpKTtpZihfKWZvcihTPTA7Uzw0O1MrKyl3PXlbQStTXSx3PjAmJihJLkZyb21GbG9hdDMyQXJyYXlUb1JlZlNjYWxlZChFLE1hdGguZmxvb3IodltBK1NdKjE2KSx3LEMpLE0uYWRkVG9TZWxmKEMpKTthPT09bS5Ob3JtYWxLaW5kP2IuVHJhbnNmb3JtTm9ybWFsRnJvbUZsb2F0c1RvUmVmKG5bZF0sbltkKzFdLG5bZCsyXSxNLFIpOmIuVHJhbnNmb3JtQ29vcmRpbmF0ZXNGcm9tRmxvYXRzVG9SZWYobltkXSxuW2QrMV0sbltkKzJdLE0sUiksUi50b0FycmF5KG4sZCksYT09PW0uUG9zaXRpb25LaW5kJiZ0aGlzLl9wb3NpdGlvbnMmJnRoaXMuX3Bvc2l0aW9uc1tkLzNdLmNvcHlGcm9tKFIpfX1yZXR1cm4gbn0sZS5wcm90b3R5cGUuZ2V0Tm9ybWFsc0RhdGE9ZnVuY3Rpb24odCxyKXtyZXR1cm4gdD09PXZvaWQgMCYmKHQ9ITEpLHI9PT12b2lkIDAmJihyPSExKSx0aGlzLl9nZXREYXRhKHQscixudWxsLG0uTm9ybWFsS2luZCl9LGUucHJvdG90eXBlLmdldFBvc2l0aW9uRGF0YT1mdW5jdGlvbih0LHIsbil7cmV0dXJuIHQ9PT12b2lkIDAmJih0PSExKSxyPT09dm9pZCAwJiYocj0hMSksdGhpcy5fZ2V0RGF0YSh0LHIsbixtLlBvc2l0aW9uS2luZCl9LGUucHJvdG90eXBlLl9nZXRQb3NpdGlvbkRhdGE9ZnVuY3Rpb24odCxyKXt2YXIgbixhPXRoaXMuZ2V0VmVydGljZXNEYXRhKG0uUG9zaXRpb25LaW5kKTtpZih0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9wb3NpdGlvbnMmJih0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9wb3NpdGlvbnM9bnVsbCksYSYmKHQmJnRoaXMuc2tlbGV0b258fHImJnRoaXMubW9ycGhUYXJnZXRNYW5hZ2VyKSl7aWYoYT1hLnNsaWNlKCksdGhpcy5fZ2VuZXJhdGVQb2ludHNBcnJheSgpLHRoaXMuX3Bvc2l0aW9ucyl7dmFyIHM9dGhpcy5fcG9zaXRpb25zO3RoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX3Bvc2l0aW9ucz1uZXcgQXJyYXkocy5sZW5ndGgpO2Zvcih2YXIgbz0wO288cy5sZW5ndGg7bysrKXRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX3Bvc2l0aW9uc1tvXT0oKG49c1tvXSk9PT1udWxsfHxuPT09dm9pZCAwP3ZvaWQgMDpuLmNsb25lKCkpfHxuZXcgYn1yZXR1cm4gdGhpcy5nZXRQb3NpdGlvbkRhdGEodCxyLGEpfXJldHVybiBhfSxlLnByb3RvdHlwZS5fdXBkYXRlQm91bmRpbmdJbmZvPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2JvdW5kaW5nSW5mbz90aGlzLl9ib3VuZGluZ0luZm8udXBkYXRlKHRoaXMud29ybGRNYXRyaXhGcm9tQ2FjaGUpOnRoaXMuX2JvdW5kaW5nSW5mbz1uZXcgU3QoYi5aZXJvKCksYi5aZXJvKCksdGhpcy53b3JsZE1hdHJpeEZyb21DYWNoZSksdGhpcy5fdXBkYXRlU3ViTWVzaGVzQm91bmRpbmdJbmZvKHRoaXMud29ybGRNYXRyaXhGcm9tQ2FjaGUpLHRoaXN9LGUucHJvdG90eXBlLl91cGRhdGVTdWJNZXNoZXNCb3VuZGluZ0luZm89ZnVuY3Rpb24odCl7aWYoIXRoaXMuc3ViTWVzaGVzKXJldHVybiB0aGlzO2Zvcih2YXIgcj10aGlzLnN1Yk1lc2hlcy5sZW5ndGgsbj0wO248cjtuKyspe3ZhciBhPXRoaXMuc3ViTWVzaGVzW25dOyhyPjF8fCFhLklzR2xvYmFsKSYmYS51cGRhdGVCb3VuZGluZ0luZm8odCl9cmV0dXJuIHRoaXN9LGUucHJvdG90eXBlLl9hZnRlckNvbXB1dGVXb3JsZE1hdHJpeD1mdW5jdGlvbigpe3RoaXMuZG9Ob3RTeW5jQm91bmRpbmdJbmZvfHwodGhpcy5fYm91bmRpbmdJbmZvSXNEaXJ0eT0hMCl9LGUucHJvdG90eXBlLmlzSW5GcnVzdHVtPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmdldEJvdW5kaW5nSW5mbygpLmlzSW5GcnVzdHVtKHQsdGhpcy5jdWxsaW5nU3RyYXRlZ3kpfSxlLnByb3RvdHlwZS5pc0NvbXBsZXRlbHlJbkZydXN0dW09ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZ2V0Qm91bmRpbmdJbmZvKCkuaXNDb21wbGV0ZWx5SW5GcnVzdHVtKHQpfSxlLnByb3RvdHlwZS5pbnRlcnNlY3RzTWVzaD1mdW5jdGlvbih0LHIsbil7cj09PXZvaWQgMCYmKHI9ITEpO3ZhciBhPXRoaXMuZ2V0Qm91bmRpbmdJbmZvKCkscz10LmdldEJvdW5kaW5nSW5mbygpO2lmKGEuaW50ZXJzZWN0cyhzLHIpKXJldHVybiEwO2lmKG4pZm9yKHZhciBvPTAsdT10aGlzLmdldENoaWxkTWVzaGVzKCk7bzx1Lmxlbmd0aDtvKyspe3ZhciBmPXVbb107aWYoZi5pbnRlcnNlY3RzTWVzaCh0LHIsITApKXJldHVybiEwfXJldHVybiExfSxlLnByb3RvdHlwZS5pbnRlcnNlY3RzUG9pbnQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZ2V0Qm91bmRpbmdJbmZvKCkuaW50ZXJzZWN0c1BvaW50KHQpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImNoZWNrQ29sbGlzaW9ucyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tZXNoQ29sbGlzaW9uRGF0YS5fY2hlY2tDb2xsaXNpb25zfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWVzaENvbGxpc2lvbkRhdGEuX2NoZWNrQ29sbGlzaW9ucz10fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiY29sbGlkZXIiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWVzaENvbGxpc2lvbkRhdGEuX2NvbGxpZGVyfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLm1vdmVXaXRoQ29sbGlzaW9ucz1mdW5jdGlvbih0KXt2YXIgcj10aGlzLmdldEFic29sdXRlUG9zaXRpb24oKTtyLmFkZFRvUmVmKHRoaXMuZWxsaXBzb2lkT2Zmc2V0LHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21lc2hDb2xsaXNpb25EYXRhLl9vbGRQb3NpdGlvbkZvckNvbGxpc2lvbnMpO3ZhciBuPXRoaXMuZ2V0U2NlbmUoKS5jb2xsaXNpb25Db29yZGluYXRvcjtyZXR1cm4gdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWVzaENvbGxpc2lvbkRhdGEuX2NvbGxpZGVyfHwodGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWVzaENvbGxpc2lvbkRhdGEuX2NvbGxpZGVyPW4uY3JlYXRlQ29sbGlkZXIoKSksdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWVzaENvbGxpc2lvbkRhdGEuX2NvbGxpZGVyLl9yYWRpdXM9dGhpcy5lbGxpcHNvaWQsbi5nZXROZXdQb3NpdGlvbih0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tZXNoQ29sbGlzaW9uRGF0YS5fb2xkUG9zaXRpb25Gb3JDb2xsaXNpb25zLHQsdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWVzaENvbGxpc2lvbkRhdGEuX2NvbGxpZGVyLHRoaXMuY29sbGlzaW9uUmV0cnlDb3VudCx0aGlzLHRoaXMuX29uQ29sbGlzaW9uUG9zaXRpb25DaGFuZ2UsdGhpcy51bmlxdWVJZCksdGhpc30sZS5wcm90b3R5cGUuX2NvbGxpZGVGb3JTdWJNZXNoPWZ1bmN0aW9uKHQscixuKXt2YXIgYTtpZih0aGlzLl9nZW5lcmF0ZVBvaW50c0FycmF5KCksIXRoaXMuX3Bvc2l0aW9ucylyZXR1cm4gdGhpcztpZighdC5fbGFzdENvbGxpZGVyV29ybGRWZXJ0aWNlc3x8IXQuX2xhc3RDb2xsaWRlclRyYW5zZm9ybU1hdHJpeC5lcXVhbHMocikpe3QuX2xhc3RDb2xsaWRlclRyYW5zZm9ybU1hdHJpeD1yLmNsb25lKCksdC5fbGFzdENvbGxpZGVyV29ybGRWZXJ0aWNlcz1bXSx0Ll90cmlhbmdsZVBsYW5lcz1bXTtmb3IodmFyIHM9dC52ZXJ0aWNlc1N0YXJ0LG89dC52ZXJ0aWNlc1N0YXJ0K3QudmVydGljZXNDb3VudCx1PXM7dTxvO3UrKyl0Ll9sYXN0Q29sbGlkZXJXb3JsZFZlcnRpY2VzLnB1c2goYi5UcmFuc2Zvcm1Db29yZGluYXRlcyh0aGlzLl9wb3NpdGlvbnNbdV0scikpfXJldHVybiBuLl9jb2xsaWRlKHQuX3RyaWFuZ2xlUGxhbmVzLHQuX2xhc3RDb2xsaWRlcldvcmxkVmVydGljZXMsdGhpcy5nZXRJbmRpY2VzKCksdC5pbmRleFN0YXJ0LHQuaW5kZXhTdGFydCt0LmluZGV4Q291bnQsdC52ZXJ0aWNlc1N0YXJ0LCEhdC5nZXRNYXRlcmlhbCgpLHRoaXMsdGhpcy5fc2hvdWxkQ29udmVydFJIUygpLCgoYT10LmdldE1hdGVyaWFsKCkpPT09bnVsbHx8YT09PXZvaWQgMD92b2lkIDA6YS5maWxsTW9kZSk9PT03KSx0aGlzfSxlLnByb3RvdHlwZS5fcHJvY2Vzc0NvbGxpc2lvbnNGb3JTdWJNZXNoZXM9ZnVuY3Rpb24odCxyKXtmb3IodmFyIG49dGhpcy5fc2NlbmUuZ2V0Q29sbGlkaW5nU3ViTWVzaENhbmRpZGF0ZXModGhpcyx0KSxhPW4ubGVuZ3RoLHM9MDtzPGE7cysrKXt2YXIgbz1uLmRhdGFbc107YT4xJiYhby5fY2hlY2tDb2xsaXNpb24odCl8fHRoaXMuX2NvbGxpZGVGb3JTdWJNZXNoKG8scix0KX1yZXR1cm4gdGhpc30sZS5wcm90b3R5cGUuX3Nob3VsZENvbnZlcnRSSFM9ZnVuY3Rpb24oKXtyZXR1cm4hMX0sZS5wcm90b3R5cGUuX2NoZWNrQ29sbGlzaW9uPWZ1bmN0aW9uKHQpe2lmKCF0aGlzLmdldEJvdW5kaW5nSW5mbygpLl9jaGVja0NvbGxpc2lvbih0KSlyZXR1cm4gdGhpczt2YXIgcj1ELk1hdHJpeFswXSxuPUQuTWF0cml4WzFdO3JldHVybiBJLlNjYWxpbmdUb1JlZigxL3QuX3JhZGl1cy54LDEvdC5fcmFkaXVzLnksMS90Ll9yYWRpdXMueixyKSx0aGlzLndvcmxkTWF0cml4RnJvbUNhY2hlLm11bHRpcGx5VG9SZWYocixuKSx0aGlzLl9wcm9jZXNzQ29sbGlzaW9uc0ZvclN1Yk1lc2hlcyh0LG4pLHRoaXN9LGUucHJvdG90eXBlLl9nZW5lcmF0ZVBvaW50c0FycmF5PWZ1bmN0aW9uKCl7cmV0dXJuITF9LGUucHJvdG90eXBlLmludGVyc2VjdHM9ZnVuY3Rpb24odCxyLG4sYSxzLG8pe2E9PT12b2lkIDAmJihhPSExKSxvPT09dm9pZCAwJiYobz0hMSk7dmFyIHU9bmV3IFFlLGY9dGhpcy5nZXRDbGFzc05hbWUoKT09PSJJbnN0YW5jZWRMaW5lc01lc2gifHx0aGlzLmdldENsYXNzTmFtZSgpPT09IkxpbmVzTWVzaCI/dGhpcy5pbnRlcnNlY3Rpb25UaHJlc2hvbGQ6MCxsPXRoaXMuZ2V0Qm91bmRpbmdJbmZvKCk7aWYoIXRoaXMuc3ViTWVzaGVzfHwhbyYmKCF0LmludGVyc2VjdHNTcGhlcmUobC5ib3VuZGluZ1NwaGVyZSxmKXx8IXQuaW50ZXJzZWN0c0JveChsLmJvdW5kaW5nQm94LGYpKSlyZXR1cm4gdTtpZihhKXJldHVybiB1LmhpdD0hbyx1LnBpY2tlZE1lc2g9bz9udWxsOnRoaXMsdS5kaXN0YW5jZT1vPzA6Yi5EaXN0YW5jZSh0Lm9yaWdpbixsLmJvdW5kaW5nU3BoZXJlLmNlbnRlciksdS5zdWJNZXNoSWQ9MCx1O2lmKCF0aGlzLl9nZW5lcmF0ZVBvaW50c0FycmF5KCkpcmV0dXJuIHU7Zm9yKHZhciBoPW51bGwsYz10aGlzLl9zY2VuZS5nZXRJbnRlcnNlY3RpbmdTdWJNZXNoQ2FuZGlkYXRlcyh0aGlzLHQpLGQ9Yy5sZW5ndGgscD0hMSxnPTA7ZzxkO2crKyl7dmFyIF89Yy5kYXRhW2ddLHY9Xy5nZXRNYXRlcmlhbCgpO2lmKCEhdiYmKHYuZmlsbE1vZGU9PTd8fHYuZmlsbE1vZGU9PTB8fHYuZmlsbE1vZGU9PTF8fHYuZmlsbE1vZGU9PTJ8fHYuZmlsbE1vZGU9PTQpKXtwPSEwO2JyZWFrfX1pZighcClyZXR1cm4gdS5oaXQ9ITAsdS5waWNrZWRNZXNoPXRoaXMsdS5kaXN0YW5jZT1iLkRpc3RhbmNlKHQub3JpZ2luLGwuYm91bmRpbmdTcGhlcmUuY2VudGVyKSx1LnN1Yk1lc2hJZD0tMSx1O2Zvcih2YXIgZz0wO2c8ZDtnKyspe3ZhciBfPWMuZGF0YVtnXTtpZighKGQ+MSYmIV8uY2FuSW50ZXJzZWN0cyh0KSkpe3ZhciB5PV8uaW50ZXJzZWN0cyh0LHRoaXMuX3Bvc2l0aW9ucyx0aGlzLmdldEluZGljZXMoKSxyLG4pO2lmKHkmJihyfHwhaHx8eS5kaXN0YW5jZTxoLmRpc3RhbmNlKSYmKGg9eSxoLnN1Yk1lc2hJZD1nLHIpKWJyZWFrfX1pZihoKXt2YXIgRT1zIT1udWxsP3M6dGhpcy5nZXRXb3JsZE1hdHJpeCgpLFI9RC5WZWN0b3IzWzBdLE09RC5WZWN0b3IzWzFdO2IuVHJhbnNmb3JtQ29vcmRpbmF0ZXNUb1JlZih0Lm9yaWdpbixFLFIpLHQuZGlyZWN0aW9uLnNjYWxlVG9SZWYoaC5kaXN0YW5jZSxNKTt2YXIgQz1iLlRyYW5zZm9ybU5vcm1hbChNLEUpLEE9Qy5hZGRJblBsYWNlKFIpO3JldHVybiB1LmhpdD0hMCx1LmRpc3RhbmNlPWIuRGlzdGFuY2UoUixBKSx1LnBpY2tlZFBvaW50PUEsdS5waWNrZWRNZXNoPXRoaXMsdS5idT1oLmJ1fHwwLHUuYnY9aC5idnx8MCx1LnN1Yk1lc2hGYWNlSWQ9aC5mYWNlSWQsdS5mYWNlSWQ9aC5mYWNlSWQrYy5kYXRhW2guc3ViTWVzaElkXS5pbmRleFN0YXJ0Lyh0aGlzLmdldENsYXNzTmFtZSgpLmluZGV4T2YoIkxpbmVzTWVzaCIpIT09LTE/MjozKSx1LnN1Yk1lc2hJZD1oLnN1Yk1lc2hJZCx1fXJldHVybiB1fSxlLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbih0LHIsbil7cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLnJlbGVhc2VTdWJNZXNoZXM9ZnVuY3Rpb24oKXtpZih0aGlzLnN1Yk1lc2hlcylmb3IoO3RoaXMuc3ViTWVzaGVzLmxlbmd0aDspdGhpcy5zdWJNZXNoZXNbMF0uZGlzcG9zZSgpO2Vsc2UgdGhpcy5zdWJNZXNoZXM9bmV3IEFycmF5O3JldHVybiB0aGlzfSxlLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKHQscil7dmFyIG49dGhpcztyPT09dm9pZCAwJiYocj0hMSk7dmFyIGE7Zm9yKHRoaXMuX3NjZW5lLnVzZU1hdGVyaWFsTWVzaE1hcCYmdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWF0ZXJpYWwmJnRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21hdGVyaWFsLm1lc2hNYXAmJih0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tYXRlcmlhbC5tZXNoTWFwW3RoaXMudW5pcXVlSWRdPXZvaWQgMCksdGhpcy5nZXRTY2VuZSgpLmZyZWVBY3RpdmVNZXNoZXMoKSx0aGlzLmdldFNjZW5lKCkuZnJlZVJlbmRlcmluZ0dyb3VwcygpLHRoaXMuYWN0aW9uTWFuYWdlciE9PXZvaWQgMCYmdGhpcy5hY3Rpb25NYW5hZ2VyIT09bnVsbCYmKHRoaXMuYWN0aW9uTWFuYWdlci5kaXNwb3NlKCksdGhpcy5hY3Rpb25NYW5hZ2VyPW51bGwpLHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX3NrZWxldG9uPW51bGwsdGhpcy5fdHJhbnNmb3JtTWF0cml4VGV4dHVyZSYmKHRoaXMuX3RyYW5zZm9ybU1hdHJpeFRleHR1cmUuZGlzcG9zZSgpLHRoaXMuX3RyYW5zZm9ybU1hdHJpeFRleHR1cmU9bnVsbCksYT0wO2E8dGhpcy5faW50ZXJzZWN0aW9uc0luUHJvZ3Jlc3MubGVuZ3RoO2ErKyl7dmFyIHM9dGhpcy5faW50ZXJzZWN0aW9uc0luUHJvZ3Jlc3NbYV0sbz1zLl9pbnRlcnNlY3Rpb25zSW5Qcm9ncmVzcy5pbmRleE9mKHRoaXMpO3MuX2ludGVyc2VjdGlvbnNJblByb2dyZXNzLnNwbGljZShvLDEpfXRoaXMuX2ludGVyc2VjdGlvbnNJblByb2dyZXNzPVtdO3ZhciB1PXRoaXMuZ2V0U2NlbmUoKS5saWdodHM7dS5mb3JFYWNoKGZ1bmN0aW9uKGgpe3ZhciBjPWguaW5jbHVkZWRPbmx5TWVzaGVzLmluZGV4T2Yobik7YyE9PS0xJiZoLmluY2x1ZGVkT25seU1lc2hlcy5zcGxpY2UoYywxKSxjPWguZXhjbHVkZWRNZXNoZXMuaW5kZXhPZihuKSxjIT09LTEmJmguZXhjbHVkZWRNZXNoZXMuc3BsaWNlKGMsMSk7dmFyIGQ9aC5nZXRTaGFkb3dHZW5lcmF0b3IoKTtpZihkKXt2YXIgcD1kLmdldFNoYWRvd01hcCgpO3AmJnAucmVuZGVyTGlzdCYmKGM9cC5yZW5kZXJMaXN0LmluZGV4T2YobiksYyE9PS0xJiZwLnJlbmRlckxpc3Quc3BsaWNlKGMsMSkpfX0pLCh0aGlzLmdldENsYXNzTmFtZSgpIT09Ikluc3RhbmNlZE1lc2gifHx0aGlzLmdldENsYXNzTmFtZSgpIT09Ikluc3RhbmNlZExpbmVzTWVzaCIpJiZ0aGlzLnJlbGVhc2VTdWJNZXNoZXMoKTt2YXIgZj10aGlzLmdldFNjZW5lKCkuZ2V0RW5naW5lKCk7aWYodGhpcy5fb2NjbHVzaW9uUXVlcnkhPT1udWxsJiYodGhpcy5pc09jY2x1c2lvblF1ZXJ5SW5Qcm9ncmVzcz0hMSxmLmRlbGV0ZVF1ZXJ5KHRoaXMuX29jY2x1c2lvblF1ZXJ5KSx0aGlzLl9vY2NsdXNpb25RdWVyeT1udWxsKSxmLndpcGVDYWNoZXMoKSx0aGlzLmdldFNjZW5lKCkucmVtb3ZlTWVzaCh0aGlzKSx0aGlzLl9wYXJlbnRDb250YWluZXIpe3ZhciBsPXRoaXMuX3BhcmVudENvbnRhaW5lci5tZXNoZXMuaW5kZXhPZih0aGlzKTtsPi0xJiZ0aGlzLl9wYXJlbnRDb250YWluZXIubWVzaGVzLnNwbGljZShsLDEpLHRoaXMuX3BhcmVudENvbnRhaW5lcj1udWxsfWlmKHImJnRoaXMubWF0ZXJpYWwmJih0aGlzLm1hdGVyaWFsLmdldENsYXNzTmFtZSgpPT09Ik11bHRpTWF0ZXJpYWwiP3RoaXMubWF0ZXJpYWwuZGlzcG9zZSghMSwhMCwhMCk6dGhpcy5tYXRlcmlhbC5kaXNwb3NlKCExLCEwKSksIXQpZm9yKGE9MDthPHRoaXMuZ2V0U2NlbmUoKS5wYXJ0aWNsZVN5c3RlbXMubGVuZ3RoO2ErKyl0aGlzLmdldFNjZW5lKCkucGFydGljbGVTeXN0ZW1zW2FdLmVtaXR0ZXI9PT10aGlzJiYodGhpcy5nZXRTY2VuZSgpLnBhcnRpY2xlU3lzdGVtc1thXS5kaXNwb3NlKCksYS0tKTt0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9mYWNldERhdGEuZmFjZXREYXRhRW5hYmxlZCYmdGhpcy5kaXNhYmxlRmFjZXREYXRhKCksdGhpcy5fdW5pZm9ybUJ1ZmZlci5kaXNwb3NlKCksdGhpcy5vbkFmdGVyV29ybGRNYXRyaXhVcGRhdGVPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkNvbGxpZGVPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkNvbGxpc2lvblBvc2l0aW9uQ2hhbmdlT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25SZWJ1aWxkT2JzZXJ2YWJsZS5jbGVhcigpLGkucHJvdG90eXBlLmRpc3Bvc2UuY2FsbCh0aGlzLHQscil9LGUucHJvdG90eXBlLmFkZENoaWxkPWZ1bmN0aW9uKHQscil7cmV0dXJuIHI9PT12b2lkIDAmJihyPSExKSx0LnNldFBhcmVudCh0aGlzLHIpLHRoaXN9LGUucHJvdG90eXBlLnJlbW92ZUNoaWxkPWZ1bmN0aW9uKHQscil7cmV0dXJuIHI9PT12b2lkIDAmJihyPSExKSx0LnNldFBhcmVudChudWxsLHIpLHRoaXN9LGUucHJvdG90eXBlLl9pbml0RmFjZXREYXRhPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fZmFjZXREYXRhO3QuZmFjZXROb3JtYWxzfHwodC5mYWNldE5vcm1hbHM9bmV3IEFycmF5KSx0LmZhY2V0UG9zaXRpb25zfHwodC5mYWNldFBvc2l0aW9ucz1uZXcgQXJyYXkpLHQuZmFjZXRQYXJ0aXRpb25pbmd8fCh0LmZhY2V0UGFydGl0aW9uaW5nPW5ldyBBcnJheSksdC5mYWNldE5iPXRoaXMuZ2V0SW5kaWNlcygpLmxlbmd0aC8zfDAsdC5wYXJ0aXRpb25pbmdTdWJkaXZpc2lvbnM9dC5wYXJ0aXRpb25pbmdTdWJkaXZpc2lvbnM/dC5wYXJ0aXRpb25pbmdTdWJkaXZpc2lvbnM6MTAsdC5wYXJ0aXRpb25pbmdCQm94UmF0aW89dC5wYXJ0aXRpb25pbmdCQm94UmF0aW8/dC5wYXJ0aXRpb25pbmdCQm94UmF0aW86MS4wMTtmb3IodmFyIHI9MDtyPHQuZmFjZXROYjtyKyspdC5mYWNldE5vcm1hbHNbcl09Yi5aZXJvKCksdC5mYWNldFBvc2l0aW9uc1tyXT1iLlplcm8oKTtyZXR1cm4gdC5mYWNldERhdGFFbmFibGVkPSEwLHRoaXN9LGUucHJvdG90eXBlLnVwZGF0ZUZhY2V0RGF0YT1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2ZhY2V0RGF0YTt0LmZhY2V0RGF0YUVuYWJsZWR8fHRoaXMuX2luaXRGYWNldERhdGEoKTt2YXIgcj10aGlzLmdldFZlcnRpY2VzRGF0YShtLlBvc2l0aW9uS2luZCksbj10aGlzLmdldEluZGljZXMoKSxhPXRoaXMuZ2V0VmVydGljZXNEYXRhKG0uTm9ybWFsS2luZCkscz10aGlzLmdldEJvdW5kaW5nSW5mbygpO2lmKHQuZmFjZXREZXB0aFNvcnQmJiF0LmZhY2V0RGVwdGhTb3J0RW5hYmxlZCl7aWYodC5mYWNldERlcHRoU29ydEVuYWJsZWQ9ITAsbiBpbnN0YW5jZW9mIFVpbnQxNkFycmF5KXQuZGVwdGhTb3J0ZWRJbmRpY2VzPW5ldyBVaW50MTZBcnJheShuKTtlbHNlIGlmKG4gaW5zdGFuY2VvZiBVaW50MzJBcnJheSl0LmRlcHRoU29ydGVkSW5kaWNlcz1uZXcgVWludDMyQXJyYXkobik7ZWxzZXtmb3IodmFyIG89ITEsdT0wO3U8bi5sZW5ndGg7dSsrKWlmKG5bdV0+NjU1MzUpe289ITA7YnJlYWt9bz90LmRlcHRoU29ydGVkSW5kaWNlcz1uZXcgVWludDMyQXJyYXkobik6dC5kZXB0aFNvcnRlZEluZGljZXM9bmV3IFVpbnQxNkFycmF5KG4pfWlmKHQuZmFjZXREZXB0aFNvcnRGdW5jdGlvbj1mdW5jdGlvbihnLF8pe3JldHVybiBfLnNxRGlzdGFuY2UtZy5zcURpc3RhbmNlfSwhdC5mYWNldERlcHRoU29ydEZyb20pe3ZhciBmPXRoaXMuZ2V0U2NlbmUoKS5hY3RpdmVDYW1lcmE7dC5mYWNldERlcHRoU29ydEZyb209Zj9mLnBvc2l0aW9uOmIuWmVybygpfXQuZGVwdGhTb3J0ZWRGYWNldHM9W107Zm9yKHZhciBsPTA7bDx0LmZhY2V0TmI7bCsrKXt2YXIgaD17aW5kOmwqMyxzcURpc3RhbmNlOjB9O3QuZGVwdGhTb3J0ZWRGYWNldHMucHVzaChoKX10LmludmVydGVkTWF0cml4PUkuSWRlbnRpdHkoKSx0LmZhY2V0RGVwdGhTb3J0T3JpZ2luPWIuWmVybygpfXQuYmJTaXplLng9cy5tYXhpbXVtLngtcy5taW5pbXVtLng+ZWU/cy5tYXhpbXVtLngtcy5taW5pbXVtLng6ZWUsdC5iYlNpemUueT1zLm1heGltdW0ueS1zLm1pbmltdW0ueT5lZT9zLm1heGltdW0ueS1zLm1pbmltdW0ueTplZSx0LmJiU2l6ZS56PXMubWF4aW11bS56LXMubWluaW11bS56PmVlP3MubWF4aW11bS56LXMubWluaW11bS56OmVlO3ZhciBjPXQuYmJTaXplLng+dC5iYlNpemUueT90LmJiU2l6ZS54OnQuYmJTaXplLnk7aWYoYz1jPnQuYmJTaXplLno/Yzp0LmJiU2l6ZS56LHQuc3ViRGl2Lm1heD10LnBhcnRpdGlvbmluZ1N1YmRpdmlzaW9ucyx0LnN1YkRpdi5YPU1hdGguZmxvb3IodC5zdWJEaXYubWF4KnQuYmJTaXplLngvYyksdC5zdWJEaXYuWT1NYXRoLmZsb29yKHQuc3ViRGl2Lm1heCp0LmJiU2l6ZS55L2MpLHQuc3ViRGl2Llo9TWF0aC5mbG9vcih0LnN1YkRpdi5tYXgqdC5iYlNpemUuei9jKSx0LnN1YkRpdi5YPXQuc3ViRGl2Llg8MT8xOnQuc3ViRGl2LlgsdC5zdWJEaXYuWT10LnN1YkRpdi5ZPDE/MTp0LnN1YkRpdi5ZLHQuc3ViRGl2Llo9dC5zdWJEaXYuWjwxPzE6dC5zdWJEaXYuWix0LmZhY2V0UGFyYW1ldGVycy5mYWNldE5vcm1hbHM9dGhpcy5nZXRGYWNldExvY2FsTm9ybWFscygpLHQuZmFjZXRQYXJhbWV0ZXJzLmZhY2V0UG9zaXRpb25zPXRoaXMuZ2V0RmFjZXRMb2NhbFBvc2l0aW9ucygpLHQuZmFjZXRQYXJhbWV0ZXJzLmZhY2V0UGFydGl0aW9uaW5nPXRoaXMuZ2V0RmFjZXRMb2NhbFBhcnRpdGlvbmluZygpLHQuZmFjZXRQYXJhbWV0ZXJzLmJJbmZvPXMsdC5mYWNldFBhcmFtZXRlcnMuYmJTaXplPXQuYmJTaXplLHQuZmFjZXRQYXJhbWV0ZXJzLnN1YkRpdj10LnN1YkRpdix0LmZhY2V0UGFyYW1ldGVycy5yYXRpbz10aGlzLnBhcnRpdGlvbmluZ0JCb3hSYXRpbyx0LmZhY2V0UGFyYW1ldGVycy5kZXB0aFNvcnQ9dC5mYWNldERlcHRoU29ydCx0LmZhY2V0RGVwdGhTb3J0JiZ0LmZhY2V0RGVwdGhTb3J0RW5hYmxlZCYmKHRoaXMuY29tcHV0ZVdvcmxkTWF0cml4KCEwKSx0aGlzLl93b3JsZE1hdHJpeC5pbnZlcnRUb1JlZih0LmludmVydGVkTWF0cml4KSxiLlRyYW5zZm9ybUNvb3JkaW5hdGVzVG9SZWYodC5mYWNldERlcHRoU29ydEZyb20sdC5pbnZlcnRlZE1hdHJpeCx0LmZhY2V0RGVwdGhTb3J0T3JpZ2luKSx0LmZhY2V0UGFyYW1ldGVycy5kaXN0YW5jZVRvPXQuZmFjZXREZXB0aFNvcnRPcmlnaW4pLHQuZmFjZXRQYXJhbWV0ZXJzLmRlcHRoU29ydGVkRmFjZXRzPXQuZGVwdGhTb3J0ZWRGYWNldHMsYSYmZ2UuQ29tcHV0ZU5vcm1hbHMocixuLGEsdC5mYWNldFBhcmFtZXRlcnMpLHQuZmFjZXREZXB0aFNvcnQmJnQuZmFjZXREZXB0aFNvcnRFbmFibGVkKXt0LmRlcHRoU29ydGVkRmFjZXRzLnNvcnQodC5mYWNldERlcHRoU29ydEZ1bmN0aW9uKTtmb3IodmFyIGQ9dC5kZXB0aFNvcnRlZEluZGljZXMubGVuZ3RoLzN8MCxsPTA7bDxkO2wrKyl7dmFyIHA9dC5kZXB0aFNvcnRlZEZhY2V0c1tsXS5pbmQ7dC5kZXB0aFNvcnRlZEluZGljZXNbbCozXT1uW3BdLHQuZGVwdGhTb3J0ZWRJbmRpY2VzW2wqMysxXT1uW3ArMV0sdC5kZXB0aFNvcnRlZEluZGljZXNbbCozKzJdPW5bcCsyXX10aGlzLnVwZGF0ZUluZGljZXModC5kZXB0aFNvcnRlZEluZGljZXMsdm9pZCAwLCEwKX1yZXR1cm4gdGhpc30sZS5wcm90b3R5cGUuZ2V0RmFjZXRMb2NhbE5vcm1hbHM9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9mYWNldERhdGE7cmV0dXJuIHQuZmFjZXROb3JtYWxzfHx0aGlzLnVwZGF0ZUZhY2V0RGF0YSgpLHQuZmFjZXROb3JtYWxzfSxlLnByb3RvdHlwZS5nZXRGYWNldExvY2FsUG9zaXRpb25zPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fZmFjZXREYXRhO3JldHVybiB0LmZhY2V0UG9zaXRpb25zfHx0aGlzLnVwZGF0ZUZhY2V0RGF0YSgpLHQuZmFjZXRQb3NpdGlvbnN9LGUucHJvdG90eXBlLmdldEZhY2V0TG9jYWxQYXJ0aXRpb25pbmc9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9mYWNldERhdGE7cmV0dXJuIHQuZmFjZXRQYXJ0aXRpb25pbmd8fHRoaXMudXBkYXRlRmFjZXREYXRhKCksdC5mYWNldFBhcnRpdGlvbmluZ30sZS5wcm90b3R5cGUuZ2V0RmFjZXRQb3NpdGlvbj1mdW5jdGlvbih0KXt2YXIgcj1iLlplcm8oKTtyZXR1cm4gdGhpcy5nZXRGYWNldFBvc2l0aW9uVG9SZWYodCxyKSxyfSxlLnByb3RvdHlwZS5nZXRGYWNldFBvc2l0aW9uVG9SZWY9ZnVuY3Rpb24odCxyKXt2YXIgbj10aGlzLmdldEZhY2V0TG9jYWxQb3NpdGlvbnMoKVt0XSxhPXRoaXMuZ2V0V29ybGRNYXRyaXgoKTtyZXR1cm4gYi5UcmFuc2Zvcm1Db29yZGluYXRlc1RvUmVmKG4sYSxyKSx0aGlzfSxlLnByb3RvdHlwZS5nZXRGYWNldE5vcm1hbD1mdW5jdGlvbih0KXt2YXIgcj1iLlplcm8oKTtyZXR1cm4gdGhpcy5nZXRGYWNldE5vcm1hbFRvUmVmKHQscikscn0sZS5wcm90b3R5cGUuZ2V0RmFjZXROb3JtYWxUb1JlZj1mdW5jdGlvbih0LHIpe3ZhciBuPXRoaXMuZ2V0RmFjZXRMb2NhbE5vcm1hbHMoKVt0XTtyZXR1cm4gYi5UcmFuc2Zvcm1Ob3JtYWxUb1JlZihuLHRoaXMuZ2V0V29ybGRNYXRyaXgoKSxyKSx0aGlzfSxlLnByb3RvdHlwZS5nZXRGYWNldHNBdExvY2FsQ29vcmRpbmF0ZXM9ZnVuY3Rpb24odCxyLG4pe3ZhciBhPXRoaXMuZ2V0Qm91bmRpbmdJbmZvKCkscz10aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9mYWNldERhdGEsbz1NYXRoLmZsb29yKCh0LWEubWluaW11bS54KnMucGFydGl0aW9uaW5nQkJveFJhdGlvKSpzLnN1YkRpdi5YKnMucGFydGl0aW9uaW5nQkJveFJhdGlvL3MuYmJTaXplLngpLHU9TWF0aC5mbG9vcigoci1hLm1pbmltdW0ueSpzLnBhcnRpdGlvbmluZ0JCb3hSYXRpbykqcy5zdWJEaXYuWSpzLnBhcnRpdGlvbmluZ0JCb3hSYXRpby9zLmJiU2l6ZS55KSxmPU1hdGguZmxvb3IoKG4tYS5taW5pbXVtLnoqcy5wYXJ0aXRpb25pbmdCQm94UmF0aW8pKnMuc3ViRGl2Lloqcy5wYXJ0aXRpb25pbmdCQm94UmF0aW8vcy5iYlNpemUueik7cmV0dXJuIG88MHx8bz5zLnN1YkRpdi5tYXh8fHU8MHx8dT5zLnN1YkRpdi5tYXh8fGY8MHx8Zj5zLnN1YkRpdi5tYXg/bnVsbDpzLmZhY2V0UGFydGl0aW9uaW5nW28rcy5zdWJEaXYubWF4KnUrcy5zdWJEaXYubWF4KnMuc3ViRGl2Lm1heCpmXX0sZS5wcm90b3R5cGUuZ2V0Q2xvc2VzdEZhY2V0QXRDb29yZGluYXRlcz1mdW5jdGlvbih0LHIsbixhLHMsbyl7cz09PXZvaWQgMCYmKHM9ITEpLG89PT12b2lkIDAmJihvPSEwKTt2YXIgdT10aGlzLmdldFdvcmxkTWF0cml4KCksZj1ELk1hdHJpeFs1XTt1LmludmVydFRvUmVmKGYpO3ZhciBsPUQuVmVjdG9yM1s4XTtiLlRyYW5zZm9ybUNvb3JkaW5hdGVzRnJvbUZsb2F0c1RvUmVmKHQscixuLGYsbCk7dmFyIGg9dGhpcy5nZXRDbG9zZXN0RmFjZXRBdExvY2FsQ29vcmRpbmF0ZXMobC54LGwueSxsLnosYSxzLG8pO3JldHVybiBhJiZiLlRyYW5zZm9ybUNvb3JkaW5hdGVzRnJvbUZsb2F0c1RvUmVmKGEueCxhLnksYS56LHUsYSksaH0sZS5wcm90b3R5cGUuZ2V0Q2xvc2VzdEZhY2V0QXRMb2NhbENvb3JkaW5hdGVzPWZ1bmN0aW9uKHQscixuLGEscyxvKXtzPT09dm9pZCAwJiYocz0hMSksbz09PXZvaWQgMCYmKG89ITApO3ZhciB1PW51bGwsZj0wLGw9MCxoPTAsYz0wLGQ9MCxwPTAsZz0wLF89MCx2PXRoaXMuZ2V0RmFjZXRMb2NhbFBvc2l0aW9ucygpLHk9dGhpcy5nZXRGYWNldExvY2FsTm9ybWFscygpLEU9dGhpcy5nZXRGYWNldHNBdExvY2FsQ29vcmRpbmF0ZXModCxyLG4pO2lmKCFFKXJldHVybiBudWxsO2Zvcih2YXIgUj1OdW1iZXIuTUFYX1ZBTFVFLE09UixDLEEsUyx3PTA7dzxFLmxlbmd0aDt3KyspQz1FW3ddLEE9eVtDXSxTPXZbQ10sYz0odC1TLngpKkEueCsoci1TLnkpKkEueSsobi1TLnopKkEueiwoIXN8fHMmJm8mJmM+PTB8fHMmJiFvJiZjPD0wKSYmKGM9QS54KlMueCtBLnkqUy55K0EueipTLnosZD0tKEEueCp0K0EueSpyK0EueipuLWMpLyhBLngqQS54K0EueSpBLnkrQS56KkEueikscD10K0EueCpkLGc9citBLnkqZCxfPW4rQS56KmQsZj1wLXQsbD1nLXIsaD1fLW4sTT1mKmYrbCpsK2gqaCxNPFImJihSPU0sdT1DLGEmJihhLng9cCxhLnk9ZyxhLno9XykpKTtyZXR1cm4gdX0sZS5wcm90b3R5cGUuZ2V0RmFjZXREYXRhUGFyYW1ldGVycz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9mYWNldERhdGEuZmFjZXRQYXJhbWV0ZXJzfSxlLnByb3RvdHlwZS5kaXNhYmxlRmFjZXREYXRhPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fZmFjZXREYXRhO3JldHVybiB0LmZhY2V0RGF0YUVuYWJsZWQmJih0LmZhY2V0RGF0YUVuYWJsZWQ9ITEsdC5mYWNldFBvc2l0aW9ucz1uZXcgQXJyYXksdC5mYWNldE5vcm1hbHM9bmV3IEFycmF5LHQuZmFjZXRQYXJ0aXRpb25pbmc9bmV3IEFycmF5LHQuZmFjZXRQYXJhbWV0ZXJzPW51bGwsdC5kZXB0aFNvcnRlZEluZGljZXM9bmV3IFVpbnQzMkFycmF5KDApKSx0aGlzfSxlLnByb3RvdHlwZS51cGRhdGVJbmRpY2VzPWZ1bmN0aW9uKHQscixuKXtyZXR1cm4gdGhpc30sZS5wcm90b3R5cGUuY3JlYXRlTm9ybWFscz1mdW5jdGlvbih0KXt2YXIgcj10aGlzLmdldFZlcnRpY2VzRGF0YShtLlBvc2l0aW9uS2luZCksbj10aGlzLmdldEluZGljZXMoKSxhO3JldHVybiB0aGlzLmlzVmVydGljZXNEYXRhUHJlc2VudChtLk5vcm1hbEtpbmQpP2E9dGhpcy5nZXRWZXJ0aWNlc0RhdGEobS5Ob3JtYWxLaW5kKTphPVtdLGdlLkNvbXB1dGVOb3JtYWxzKHIsbixhLHt1c2VSaWdodEhhbmRlZFN5c3RlbTp0aGlzLmdldFNjZW5lKCkudXNlUmlnaHRIYW5kZWRTeXN0ZW19KSx0aGlzLnNldFZlcnRpY2VzRGF0YShtLk5vcm1hbEtpbmQsYSx0KSx0aGlzfSxlLnByb3RvdHlwZS5hbGlnbldpdGhOb3JtYWw9ZnVuY3Rpb24odCxyKXtyfHwocj1Dci5ZKTt2YXIgbj1ELlZlY3RvcjNbMF0sYT1ELlZlY3RvcjNbMV07cmV0dXJuIGIuQ3Jvc3NUb1JlZihyLHQsYSksYi5Dcm9zc1RvUmVmKHQsYSxuKSx0aGlzLnJvdGF0aW9uUXVhdGVybmlvbj9zZS5Sb3RhdGlvblF1YXRlcm5pb25Gcm9tQXhpc1RvUmVmKG4sdCxhLHRoaXMucm90YXRpb25RdWF0ZXJuaW9uKTpiLlJvdGF0aW9uRnJvbUF4aXNUb1JlZihuLHQsYSx0aGlzLnJvdGF0aW9uKSx0aGlzfSxlLnByb3RvdHlwZS5fY2hlY2tPY2NsdXNpb25RdWVyeT1mdW5jdGlvbigpe3JldHVybiExfSxlLnByb3RvdHlwZS5kaXNhYmxlRWRnZXNSZW5kZXJpbmc9ZnVuY3Rpb24oKXt0aHJvdyBYKCJFZGdlc1JlbmRlcmVyIil9LGUucHJvdG90eXBlLmVuYWJsZUVkZ2VzUmVuZGVyaW5nPWZ1bmN0aW9uKHQscixuKXt0aHJvdyBYKCJFZGdlc1JlbmRlcmVyIil9LGUucHJvdG90eXBlLmdldENvbm5lY3RlZFBhcnRpY2xlU3lzdGVtcz1mdW5jdGlvbigpe3ZhciB0PXRoaXM7cmV0dXJuIHRoaXMuX3NjZW5lLnBhcnRpY2xlU3lzdGVtcy5maWx0ZXIoZnVuY3Rpb24ocil7cmV0dXJuIHIuZW1pdHRlcj09PXR9KX0sZS5PQ0NMVVNJT05fVFlQRV9OT05FPTAsZS5PQ0NMVVNJT05fVFlQRV9PUFRJTUlTVElDPTEsZS5PQ0NMVVNJT05fVFlQRV9TVFJJQ1Q9MixlLk9DQ0xVU0lPTl9BTEdPUklUSE1fVFlQRV9BQ0NVUkFURT0wLGUuT0NDTFVTSU9OX0FMR09SSVRITV9UWVBFX0NPTlNFUlZBVElWRT0xLGUuQ1VMTElOR1NUUkFURUdZX1NUQU5EQVJEPTAsZS5DVUxMSU5HU1RSQVRFR1lfQk9VTkRJTkdTUEhFUkVfT05MWT0xLGUuQ1VMTElOR1NUUkFURUdZX09QVElNSVNUSUNfSU5DTFVTSU9OPTIsZS5DVUxMSU5HU1RSQVRFR1lfT1BUSU1JU1RJQ19JTkNMVVNJT05fVEhFTl9CU1BIRVJFX09OTFk9MyxlfShKZSk7d2UoIkJBQllMT04uQWJzdHJhY3RNZXNoIixuaSk7dmFyIHhhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaShlLHQscixuKXt0aGlzLng9ZSx0aGlzLnk9dCx0aGlzLndpZHRoPXIsdGhpcy5oZWlnaHQ9bn1yZXR1cm4gaS5wcm90b3R5cGUudG9HbG9iYWw9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbmV3IGkodGhpcy54KmUsdGhpcy55KnQsdGhpcy53aWR0aCplLHRoaXMuaGVpZ2h0KnQpfSxpLnByb3RvdHlwZS50b0dsb2JhbFRvUmVmPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gci54PXRoaXMueCplLHIueT10aGlzLnkqdCxyLndpZHRoPXRoaXMud2lkdGgqZSxyLmhlaWdodD10aGlzLmhlaWdodCp0LHRoaXN9LGkucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBpKHRoaXMueCx0aGlzLnksdGhpcy53aWR0aCx0aGlzLmhlaWdodCl9LGl9KCksT2U9ZnVuY3Rpb24oaSl7SyhlLGkpO2Z1bmN0aW9uIGUodCxyLG4sYSl7YT09PXZvaWQgMCYmKGE9ITApO3ZhciBzPWkuY2FsbCh0aGlzLHQsbil8fHRoaXM7cmV0dXJuIHMuX3Bvc2l0aW9uPWIuWmVybygpLHMuX3VwVmVjdG9yPWIuVXAoKSxzLm9ydGhvTGVmdD1udWxsLHMub3J0aG9SaWdodD1udWxsLHMub3J0aG9Cb3R0b209bnVsbCxzLm9ydGhvVG9wPW51bGwscy5mb3Y9Ljgscy5wcm9qZWN0aW9uUGxhbmVUaWx0PTAscy5taW5aPTEscy5tYXhaPTFlNCxzLmluZXJ0aWE9Ljkscy5tb2RlPWUuUEVSU1BFQ1RJVkVfQ0FNRVJBLHMuaXNJbnRlcm1lZGlhdGU9ITEscy52aWV3cG9ydD1uZXcgeGEoMCwwLDEsMSkscy5sYXllck1hc2s9MjY4NDM1NDU1LHMuZm92TW9kZT1lLkZPVk1PREVfVkVSVElDQUxfRklYRUQscy5jYW1lcmFSaWdNb2RlPWUuUklHX01PREVfTk9ORSxzLmN1c3RvbVJlbmRlclRhcmdldHM9bmV3IEFycmF5LHMub3V0cHV0UmVuZGVyVGFyZ2V0PW51bGwscy5vblZpZXdNYXRyaXhDaGFuZ2VkT2JzZXJ2YWJsZT1uZXcgTyxzLm9uUHJvamVjdGlvbk1hdHJpeENoYW5nZWRPYnNlcnZhYmxlPW5ldyBPLHMub25BZnRlckNoZWNrSW5wdXRzT2JzZXJ2YWJsZT1uZXcgTyxzLm9uUmVzdG9yZVN0YXRlT2JzZXJ2YWJsZT1uZXcgTyxzLmlzUmlnQ2FtZXJhPSExLHMuX3JpZ0NhbWVyYXM9bmV3IEFycmF5LHMuX3dlYnZyVmlld01hdHJpeD1JLklkZW50aXR5KCkscy5fc2tpcFJlbmRlcmluZz0hMSxzLl9wcm9qZWN0aW9uTWF0cml4PW5ldyBJLHMuX3Bvc3RQcm9jZXNzZXM9bmV3IEFycmF5LHMuX2FjdGl2ZU1lc2hlcz1uZXcgVmUoMjU2KSxzLl9nbG9iYWxQb3NpdGlvbj1iLlplcm8oKSxzLl9jb21wdXRlZFZpZXdNYXRyaXg9SS5JZGVudGl0eSgpLHMuX2RvTm90Q29tcHV0ZVByb2plY3Rpb25NYXRyaXg9ITEscy5fdHJhbnNmb3JtTWF0cml4PUkuWmVybygpLHMuX3JlZnJlc2hGcnVzdHVtUGxhbmVzPSEwLHMuX2Fic29sdXRlUm90YXRpb249c2UuSWRlbnRpdHkoKSxzLl9pc0NhbWVyYT0hMCxzLl9pc0xlZnRDYW1lcmE9ITEscy5faXNSaWdodENhbWVyYT0hMSxzLmdldFNjZW5lKCkuYWRkQ2FtZXJhKHMpLGEmJiFzLmdldFNjZW5lKCkuYWN0aXZlQ2FtZXJhJiYocy5nZXRTY2VuZSgpLmFjdGl2ZUNhbWVyYT1zKSxzLnBvc2l0aW9uPXIscy5yZW5kZXJQYXNzSWQ9cy5nZXRTY2VuZSgpLmdldEVuZ2luZSgpLmNyZWF0ZVJlbmRlclBhc3NJZCgiQ2FtZXJhICIuY29uY2F0KHQpKSxzfXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInBvc2l0aW9uIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3Bvc2l0aW9ufSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fcG9zaXRpb249dH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInVwVmVjdG9yIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3VwVmVjdG9yfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fdXBWZWN0b3I9dH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInNjcmVlbkFyZWEiLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgdCxyLG4sYSxzPTAsbz0wO2lmKHRoaXMubW9kZT09PWUuUEVSU1BFQ1RJVkVfQ0FNRVJBKXRoaXMuZm92TW9kZT09PWUuRk9WTU9ERV9WRVJUSUNBTF9GSVhFRD8obz10aGlzLm1pbloqMipNYXRoLnRhbih0aGlzLmZvdi8yKSxzPXRoaXMuZ2V0RW5naW5lKCkuZ2V0QXNwZWN0UmF0aW8odGhpcykqbyk6KHM9dGhpcy5taW5aKjIqTWF0aC50YW4odGhpcy5mb3YvMiksbz1zL3RoaXMuZ2V0RW5naW5lKCkuZ2V0QXNwZWN0UmF0aW8odGhpcykpO2Vsc2V7dmFyIHU9dGhpcy5nZXRFbmdpbmUoKS5nZXRSZW5kZXJXaWR0aCgpLzIsZj10aGlzLmdldEVuZ2luZSgpLmdldFJlbmRlckhlaWdodCgpLzI7cz0oKHQ9dGhpcy5vcnRob1JpZ2h0KSE9PW51bGwmJnQhPT12b2lkIDA/dDp1KS0oKHI9dGhpcy5vcnRob0xlZnQpIT09bnVsbCYmciE9PXZvaWQgMD9yOi11KSxvPSgobj10aGlzLm9ydGhvVG9wKSE9PW51bGwmJm4hPT12b2lkIDA/bjpmKS0oKGE9dGhpcy5vcnRob0JvdHRvbSkhPT1udWxsJiZhIT09dm9pZCAwP2E6LWYpfXJldHVybiBzKm99LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuc3RvcmVTdGF0ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdGF0ZVN0b3JlZD0hMCx0aGlzLl9zdG9yZWRGb3Y9dGhpcy5mb3YsdGhpc30sZS5wcm90b3R5cGUuX3Jlc3RvcmVTdGF0ZVZhbHVlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdGF0ZVN0b3JlZD8odGhpcy5mb3Y9dGhpcy5fc3RvcmVkRm92LCEwKTohMX0sZS5wcm90b3R5cGUucmVzdG9yZVN0YXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3Jlc3RvcmVTdGF0ZVZhbHVlcygpPyh0aGlzLm9uUmVzdG9yZVN0YXRlT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyksITApOiExfSxlLnByb3RvdHlwZS5nZXRDbGFzc05hbWU9ZnVuY3Rpb24oKXtyZXR1cm4iQ2FtZXJhIn0sZS5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24odCl7dmFyIHI9Ik5hbWU6ICIrdGhpcy5uYW1lO2lmKHIrPSIsIHR5cGU6ICIrdGhpcy5nZXRDbGFzc05hbWUoKSx0aGlzLmFuaW1hdGlvbnMpZm9yKHZhciBuPTA7bjx0aGlzLmFuaW1hdGlvbnMubGVuZ3RoO24rKylyKz0iLCBhbmltYXRpb25bMF06ICIrdGhpcy5hbmltYXRpb25zW25dLnRvU3RyaW5nKHQpO3JldHVybiByfSxlLnByb3RvdHlwZS5hcHBseVZlcnRpY2FsQ29ycmVjdGlvbj1mdW5jdGlvbigpe3ZhciB0PXRoaXMuYWJzb2x1dGVSb3RhdGlvbi50b0V1bGVyQW5nbGVzKCk7dGhpcy5wcm9qZWN0aW9uUGxhbmVUaWx0PXRoaXMuX3NjZW5lLnVzZVJpZ2h0SGFuZGVkU3lzdGVtPy10Lng6dC54fSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImdsb2JhbFBvc2l0aW9uIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dsb2JhbFBvc2l0aW9ufSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLmdldEFjdGl2ZU1lc2hlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9hY3RpdmVNZXNoZXN9LGUucHJvdG90eXBlLmlzQWN0aXZlTWVzaD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fYWN0aXZlTWVzaGVzLmluZGV4T2YodCkhPT0tMX0sZS5wcm90b3R5cGUuaXNSZWFkeT1mdW5jdGlvbih0KXtpZih0PT09dm9pZCAwJiYodD0hMSksdClmb3IodmFyIHI9MCxuPXRoaXMuX3Bvc3RQcm9jZXNzZXM7cjxuLmxlbmd0aDtyKyspe3ZhciBhPW5bcl07aWYoYSYmIWEuaXNSZWFkeSgpKXJldHVybiExfXJldHVybiBpLnByb3RvdHlwZS5pc1JlYWR5LmNhbGwodGhpcyx0KX0sZS5wcm90b3R5cGUuX2luaXRDYWNoZT1mdW5jdGlvbigpe2kucHJvdG90eXBlLl9pbml0Q2FjaGUuY2FsbCh0aGlzKSx0aGlzLl9jYWNoZS5wb3NpdGlvbj1uZXcgYihOdW1iZXIuTUFYX1ZBTFVFLE51bWJlci5NQVhfVkFMVUUsTnVtYmVyLk1BWF9WQUxVRSksdGhpcy5fY2FjaGUudXBWZWN0b3I9bmV3IGIoTnVtYmVyLk1BWF9WQUxVRSxOdW1iZXIuTUFYX1ZBTFVFLE51bWJlci5NQVhfVkFMVUUpLHRoaXMuX2NhY2hlLm1vZGU9dm9pZCAwLHRoaXMuX2NhY2hlLm1pblo9dm9pZCAwLHRoaXMuX2NhY2hlLm1heFo9dm9pZCAwLHRoaXMuX2NhY2hlLmZvdj12b2lkIDAsdGhpcy5fY2FjaGUuZm92TW9kZT12b2lkIDAsdGhpcy5fY2FjaGUuYXNwZWN0UmF0aW89dm9pZCAwLHRoaXMuX2NhY2hlLm9ydGhvTGVmdD12b2lkIDAsdGhpcy5fY2FjaGUub3J0aG9SaWdodD12b2lkIDAsdGhpcy5fY2FjaGUub3J0aG9Cb3R0b209dm9pZCAwLHRoaXMuX2NhY2hlLm9ydGhvVG9wPXZvaWQgMCx0aGlzLl9jYWNoZS5yZW5kZXJXaWR0aD12b2lkIDAsdGhpcy5fY2FjaGUucmVuZGVySGVpZ2h0PXZvaWQgMH0sZS5wcm90b3R5cGUuX3VwZGF0ZUNhY2hlPWZ1bmN0aW9uKHQpe3R8fGkucHJvdG90eXBlLl91cGRhdGVDYWNoZS5jYWxsKHRoaXMpLHRoaXMuX2NhY2hlLnBvc2l0aW9uLmNvcHlGcm9tKHRoaXMucG9zaXRpb24pLHRoaXMuX2NhY2hlLnVwVmVjdG9yLmNvcHlGcm9tKHRoaXMudXBWZWN0b3IpfSxlLnByb3RvdHlwZS5faXNTeW5jaHJvbml6ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXNTeW5jaHJvbml6ZWRWaWV3TWF0cml4KCkmJnRoaXMuX2lzU3luY2hyb25pemVkUHJvamVjdGlvbk1hdHJpeCgpfSxlLnByb3RvdHlwZS5faXNTeW5jaHJvbml6ZWRWaWV3TWF0cml4PWZ1bmN0aW9uKCl7cmV0dXJuIGkucHJvdG90eXBlLl9pc1N5bmNocm9uaXplZC5jYWxsKHRoaXMpP3RoaXMuX2NhY2hlLnBvc2l0aW9uLmVxdWFscyh0aGlzLnBvc2l0aW9uKSYmdGhpcy5fY2FjaGUudXBWZWN0b3IuZXF1YWxzKHRoaXMudXBWZWN0b3IpJiZ0aGlzLmlzU3luY2hyb25pemVkV2l0aFBhcmVudCgpOiExfSxlLnByb3RvdHlwZS5faXNTeW5jaHJvbml6ZWRQcm9qZWN0aW9uTWF0cml4PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fY2FjaGUubW9kZT09PXRoaXMubW9kZSYmdGhpcy5fY2FjaGUubWluWj09PXRoaXMubWluWiYmdGhpcy5fY2FjaGUubWF4Wj09PXRoaXMubWF4WjtpZighdClyZXR1cm4hMTt2YXIgcj10aGlzLmdldEVuZ2luZSgpO3JldHVybiB0aGlzLm1vZGU9PT1lLlBFUlNQRUNUSVZFX0NBTUVSQT90PXRoaXMuX2NhY2hlLmZvdj09PXRoaXMuZm92JiZ0aGlzLl9jYWNoZS5mb3ZNb2RlPT09dGhpcy5mb3ZNb2RlJiZ0aGlzLl9jYWNoZS5hc3BlY3RSYXRpbz09PXIuZ2V0QXNwZWN0UmF0aW8odGhpcykmJnRoaXMuX2NhY2hlLnByb2plY3Rpb25QbGFuZVRpbHQ9PT10aGlzLnByb2plY3Rpb25QbGFuZVRpbHQ6dD10aGlzLl9jYWNoZS5vcnRob0xlZnQ9PT10aGlzLm9ydGhvTGVmdCYmdGhpcy5fY2FjaGUub3J0aG9SaWdodD09PXRoaXMub3J0aG9SaWdodCYmdGhpcy5fY2FjaGUub3J0aG9Cb3R0b209PT10aGlzLm9ydGhvQm90dG9tJiZ0aGlzLl9jYWNoZS5vcnRob1RvcD09PXRoaXMub3J0aG9Ub3AmJnRoaXMuX2NhY2hlLnJlbmRlcldpZHRoPT09ci5nZXRSZW5kZXJXaWR0aCgpJiZ0aGlzLl9jYWNoZS5yZW5kZXJIZWlnaHQ9PT1yLmdldFJlbmRlckhlaWdodCgpLHR9LGUucHJvdG90eXBlLmF0dGFjaENvbnRyb2w9ZnVuY3Rpb24odCxyKXt9LGUucHJvdG90eXBlLmRldGFjaENvbnRyb2w9ZnVuY3Rpb24odCl7fSxlLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24oKXt0aGlzLl9jaGVja0lucHV0cygpLHRoaXMuY2FtZXJhUmlnTW9kZSE9PWUuUklHX01PREVfTk9ORSYmdGhpcy5fdXBkYXRlUmlnQ2FtZXJhcygpfSxlLnByb3RvdHlwZS5fY2hlY2tJbnB1dHM9ZnVuY3Rpb24oKXt0aGlzLm9uQWZ0ZXJDaGVja0lucHV0c09ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInJpZ0NhbWVyYXMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmlnQ2FtZXJhc30sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInJpZ1Bvc3RQcm9jZXNzIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JpZ1Bvc3RQcm9jZXNzfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLl9nZXRGaXJzdFBvc3RQcm9jZXNzPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PTA7dDx0aGlzLl9wb3N0UHJvY2Vzc2VzLmxlbmd0aDt0KyspaWYodGhpcy5fcG9zdFByb2Nlc3Nlc1t0XSE9PW51bGwpcmV0dXJuIHRoaXMuX3Bvc3RQcm9jZXNzZXNbdF07cmV0dXJuIG51bGx9LGUucHJvdG90eXBlLl9jYXNjYWRlUG9zdFByb2Nlc3Nlc1RvUmlnQ2Ftcz1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX2dldEZpcnN0UG9zdFByb2Nlc3MoKTt0JiZ0Lm1hcmtUZXh0dXJlRGlydHkoKTtmb3IodmFyIHI9MCxuPXRoaXMuX3JpZ0NhbWVyYXMubGVuZ3RoO3I8bjtyKyspe3ZhciBhPXRoaXMuX3JpZ0NhbWVyYXNbcl0scz1hLl9yaWdQb3N0UHJvY2VzcztpZihzKXt2YXIgbz1zLmdldEVmZmVjdE5hbWUoKT09PSJwYXNzIjtvJiYoYS5pc0ludGVybWVkaWF0ZT10aGlzLl9wb3N0UHJvY2Vzc2VzLmxlbmd0aD09PTApLGEuX3Bvc3RQcm9jZXNzZXM9dGhpcy5fcG9zdFByb2Nlc3Nlcy5zbGljZSgwKS5jb25jYXQocykscy5tYXJrVGV4dHVyZURpcnR5KCl9ZWxzZSBhLl9wb3N0UHJvY2Vzc2VzPXRoaXMuX3Bvc3RQcm9jZXNzZXMuc2xpY2UoMCl9fSxlLnByb3RvdHlwZS5hdHRhY2hQb3N0UHJvY2Vzcz1mdW5jdGlvbih0LHIpe3JldHVybiByPT09dm9pZCAwJiYocj1udWxsKSwhdC5pc1JldXNhYmxlKCkmJnRoaXMuX3Bvc3RQcm9jZXNzZXMuaW5kZXhPZih0KT4tMT8oVy5FcnJvcigiWW91J3JlIHRyeWluZyB0byByZXVzZSBhIHBvc3QgcHJvY2VzcyBub3QgZGVmaW5lZCBhcyByZXVzYWJsZS4iKSwwKToocj09bnVsbHx8cjwwP3RoaXMuX3Bvc3RQcm9jZXNzZXMucHVzaCh0KTp0aGlzLl9wb3N0UHJvY2Vzc2VzW3JdPT09bnVsbD90aGlzLl9wb3N0UHJvY2Vzc2VzW3JdPXQ6dGhpcy5fcG9zdFByb2Nlc3Nlcy5zcGxpY2UociwwLHQpLHRoaXMuX2Nhc2NhZGVQb3N0UHJvY2Vzc2VzVG9SaWdDYW1zKCksdGhpcy5fc2NlbmUucHJlUGFzc1JlbmRlcmVyJiZ0aGlzLl9zY2VuZS5wcmVQYXNzUmVuZGVyZXIubWFya0FzRGlydHkoKSx0aGlzLl9wb3N0UHJvY2Vzc2VzLmluZGV4T2YodCkpfSxlLnByb3RvdHlwZS5kZXRhY2hQb3N0UHJvY2Vzcz1mdW5jdGlvbih0KXt2YXIgcj10aGlzLl9wb3N0UHJvY2Vzc2VzLmluZGV4T2YodCk7ciE9PS0xJiYodGhpcy5fcG9zdFByb2Nlc3Nlc1tyXT1udWxsKSx0aGlzLl9zY2VuZS5wcmVQYXNzUmVuZGVyZXImJnRoaXMuX3NjZW5lLnByZVBhc3NSZW5kZXJlci5tYXJrQXNEaXJ0eSgpLHRoaXMuX2Nhc2NhZGVQb3N0UHJvY2Vzc2VzVG9SaWdDYW1zKCl9LGUucHJvdG90eXBlLmdldFdvcmxkTWF0cml4PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lzU3luY2hyb25pemVkVmlld01hdHJpeCgpP3RoaXMuX3dvcmxkTWF0cml4Oih0aGlzLmdldFZpZXdNYXRyaXgoKSx0aGlzLl93b3JsZE1hdHJpeCl9LGUucHJvdG90eXBlLl9nZXRWaWV3TWF0cml4PWZ1bmN0aW9uKCl7cmV0dXJuIEkuSWRlbnRpdHkoKX0sZS5wcm90b3R5cGUuZ2V0Vmlld01hdHJpeD1mdW5jdGlvbih0KXtyZXR1cm4hdCYmdGhpcy5faXNTeW5jaHJvbml6ZWRWaWV3TWF0cml4KCk/dGhpcy5fY29tcHV0ZWRWaWV3TWF0cml4Oih0aGlzLnVwZGF0ZUNhY2hlKCksdGhpcy5fY29tcHV0ZWRWaWV3TWF0cml4PXRoaXMuX2dldFZpZXdNYXRyaXgoKSx0aGlzLl9jdXJyZW50UmVuZGVySWQ9dGhpcy5nZXRTY2VuZSgpLmdldFJlbmRlcklkKCksdGhpcy5fY2hpbGRVcGRhdGVJZCsrLHRoaXMuX3JlZnJlc2hGcnVzdHVtUGxhbmVzPSEwLHRoaXMuX2NhbWVyYVJpZ1BhcmFtcyYmdGhpcy5fY2FtZXJhUmlnUGFyYW1zLnZyUHJlVmlld01hdHJpeCYmdGhpcy5fY29tcHV0ZWRWaWV3TWF0cml4Lm11bHRpcGx5VG9SZWYodGhpcy5fY2FtZXJhUmlnUGFyYW1zLnZyUHJlVmlld01hdHJpeCx0aGlzLl9jb21wdXRlZFZpZXdNYXRyaXgpLHRoaXMucGFyZW50JiZ0aGlzLnBhcmVudC5vblZpZXdNYXRyaXhDaGFuZ2VkT2JzZXJ2YWJsZSYmdGhpcy5wYXJlbnQub25WaWV3TWF0cml4Q2hhbmdlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMucGFyZW50KSx0aGlzLm9uVmlld01hdHJpeENoYW5nZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKSx0aGlzLl9jb21wdXRlZFZpZXdNYXRyaXguaW52ZXJ0VG9SZWYodGhpcy5fd29ybGRNYXRyaXgpLHRoaXMuX2NvbXB1dGVkVmlld01hdHJpeCl9LGUucHJvdG90eXBlLmZyZWV6ZVByb2plY3Rpb25NYXRyaXg9ZnVuY3Rpb24odCl7dGhpcy5fZG9Ob3RDb21wdXRlUHJvamVjdGlvbk1hdHJpeD0hMCx0IT09dm9pZCAwJiYodGhpcy5fcHJvamVjdGlvbk1hdHJpeD10KX0sZS5wcm90b3R5cGUudW5mcmVlemVQcm9qZWN0aW9uTWF0cml4PWZ1bmN0aW9uKCl7dGhpcy5fZG9Ob3RDb21wdXRlUHJvamVjdGlvbk1hdHJpeD0hMX0sZS5wcm90b3R5cGUuZ2V0UHJvamVjdGlvbk1hdHJpeD1mdW5jdGlvbih0KXt2YXIgcixuLGEscyxvLHUsZixsO2lmKHRoaXMuX2RvTm90Q29tcHV0ZVByb2plY3Rpb25NYXRyaXh8fCF0JiZ0aGlzLl9pc1N5bmNocm9uaXplZFByb2plY3Rpb25NYXRyaXgoKSlyZXR1cm4gdGhpcy5fcHJvamVjdGlvbk1hdHJpeDt0aGlzLl9jYWNoZS5tb2RlPXRoaXMubW9kZSx0aGlzLl9jYWNoZS5taW5aPXRoaXMubWluWix0aGlzLl9jYWNoZS5tYXhaPXRoaXMubWF4Wix0aGlzLl9yZWZyZXNoRnJ1c3R1bVBsYW5lcz0hMDt2YXIgaD10aGlzLmdldEVuZ2luZSgpLGM9dGhpcy5nZXRTY2VuZSgpO2lmKHRoaXMubW9kZT09PWUuUEVSU1BFQ1RJVkVfQ0FNRVJBKXt0aGlzLl9jYWNoZS5mb3Y9dGhpcy5mb3YsdGhpcy5fY2FjaGUuZm92TW9kZT10aGlzLmZvdk1vZGUsdGhpcy5fY2FjaGUuYXNwZWN0UmF0aW89aC5nZXRBc3BlY3RSYXRpbyh0aGlzKSx0aGlzLl9jYWNoZS5wcm9qZWN0aW9uUGxhbmVUaWx0PXRoaXMucHJvamVjdGlvblBsYW5lVGlsdCx0aGlzLm1pblo8PTAmJih0aGlzLm1pblo9LjEpO3ZhciBkPWgudXNlUmV2ZXJzZURlcHRoQnVmZmVyLHA9dm9pZCAwO2MudXNlUmlnaHRIYW5kZWRTeXN0ZW0/cD1JLlBlcnNwZWN0aXZlRm92UkhUb1JlZjpwPUkuUGVyc3BlY3RpdmVGb3ZMSFRvUmVmLHAodGhpcy5mb3YsaC5nZXRBc3BlY3RSYXRpbyh0aGlzKSxkP3RoaXMubWF4Wjp0aGlzLm1pblosZD90aGlzLm1pblo6dGhpcy5tYXhaLHRoaXMuX3Byb2plY3Rpb25NYXRyaXgsdGhpcy5mb3ZNb2RlPT09ZS5GT1ZNT0RFX1ZFUlRJQ0FMX0ZJWEVELGguaXNORENIYWxmWlJhbmdlLHRoaXMucHJvamVjdGlvblBsYW5lVGlsdCxoLnVzZVJldmVyc2VEZXB0aEJ1ZmZlcil9ZWxzZXt2YXIgZz1oLmdldFJlbmRlcldpZHRoKCkvMixfPWguZ2V0UmVuZGVySGVpZ2h0KCkvMjtjLnVzZVJpZ2h0SGFuZGVkU3lzdGVtP0kuT3J0aG9PZmZDZW50ZXJSSFRvUmVmKChyPXRoaXMub3J0aG9MZWZ0KSE9PW51bGwmJnIhPT12b2lkIDA/cjotZywobj10aGlzLm9ydGhvUmlnaHQpIT09bnVsbCYmbiE9PXZvaWQgMD9uOmcsKGE9dGhpcy5vcnRob0JvdHRvbSkhPT1udWxsJiZhIT09dm9pZCAwP2E6LV8sKHM9dGhpcy5vcnRob1RvcCkhPT1udWxsJiZzIT09dm9pZCAwP3M6Xyx0aGlzLm1pblosdGhpcy5tYXhaLHRoaXMuX3Byb2plY3Rpb25NYXRyaXgsaC5pc05EQ0hhbGZaUmFuZ2UpOkkuT3J0aG9PZmZDZW50ZXJMSFRvUmVmKChvPXRoaXMub3J0aG9MZWZ0KSE9PW51bGwmJm8hPT12b2lkIDA/bzotZywodT10aGlzLm9ydGhvUmlnaHQpIT09bnVsbCYmdSE9PXZvaWQgMD91OmcsKGY9dGhpcy5vcnRob0JvdHRvbSkhPT1udWxsJiZmIT09dm9pZCAwP2Y6LV8sKGw9dGhpcy5vcnRob1RvcCkhPT1udWxsJiZsIT09dm9pZCAwP2w6Xyx0aGlzLm1pblosdGhpcy5tYXhaLHRoaXMuX3Byb2plY3Rpb25NYXRyaXgsaC5pc05EQ0hhbGZaUmFuZ2UpLHRoaXMuX2NhY2hlLm9ydGhvTGVmdD10aGlzLm9ydGhvTGVmdCx0aGlzLl9jYWNoZS5vcnRob1JpZ2h0PXRoaXMub3J0aG9SaWdodCx0aGlzLl9jYWNoZS5vcnRob0JvdHRvbT10aGlzLm9ydGhvQm90dG9tLHRoaXMuX2NhY2hlLm9ydGhvVG9wPXRoaXMub3J0aG9Ub3AsdGhpcy5fY2FjaGUucmVuZGVyV2lkdGg9aC5nZXRSZW5kZXJXaWR0aCgpLHRoaXMuX2NhY2hlLnJlbmRlckhlaWdodD1oLmdldFJlbmRlckhlaWdodCgpfXJldHVybiB0aGlzLm9uUHJvamVjdGlvbk1hdHJpeENoYW5nZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKSx0aGlzLl9wcm9qZWN0aW9uTWF0cml4fSxlLnByb3RvdHlwZS5nZXRUcmFuc2Zvcm1hdGlvbk1hdHJpeD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9jb21wdXRlZFZpZXdNYXRyaXgubXVsdGlwbHlUb1JlZih0aGlzLl9wcm9qZWN0aW9uTWF0cml4LHRoaXMuX3RyYW5zZm9ybU1hdHJpeCksdGhpcy5fdHJhbnNmb3JtTWF0cml4fSxlLnByb3RvdHlwZS5fdXBkYXRlRnJ1c3R1bVBsYW5lcz1mdW5jdGlvbigpeyF0aGlzLl9yZWZyZXNoRnJ1c3R1bVBsYW5lc3x8KHRoaXMuZ2V0VHJhbnNmb3JtYXRpb25NYXRyaXgoKSx0aGlzLl9mcnVzdHVtUGxhbmVzP1ByLkdldFBsYW5lc1RvUmVmKHRoaXMuX3RyYW5zZm9ybU1hdHJpeCx0aGlzLl9mcnVzdHVtUGxhbmVzKTp0aGlzLl9mcnVzdHVtUGxhbmVzPVByLkdldFBsYW5lcyh0aGlzLl90cmFuc2Zvcm1NYXRyaXgpLHRoaXMuX3JlZnJlc2hGcnVzdHVtUGxhbmVzPSExKX0sZS5wcm90b3R5cGUuaXNJbkZydXN0dW09ZnVuY3Rpb24odCxyKXtpZihyPT09dm9pZCAwJiYocj0hMSksdGhpcy5fdXBkYXRlRnJ1c3R1bVBsYW5lcygpLHImJnRoaXMucmlnQ2FtZXJhcy5sZW5ndGg+MCl7dmFyIG49ITE7cmV0dXJuIHRoaXMucmlnQ2FtZXJhcy5mb3JFYWNoKGZ1bmN0aW9uKGEpe2EuX3VwZGF0ZUZydXN0dW1QbGFuZXMoKSxuPW58fHQuaXNJbkZydXN0dW0oYS5fZnJ1c3R1bVBsYW5lcyl9KSxufWVsc2UgcmV0dXJuIHQuaXNJbkZydXN0dW0odGhpcy5fZnJ1c3R1bVBsYW5lcyl9LGUucHJvdG90eXBlLmlzQ29tcGxldGVseUluRnJ1c3R1bT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fdXBkYXRlRnJ1c3R1bVBsYW5lcygpLHQuaXNDb21wbGV0ZWx5SW5GcnVzdHVtKHRoaXMuX2ZydXN0dW1QbGFuZXMpfSxlLnByb3RvdHlwZS5nZXRGb3J3YXJkUmF5PWZ1bmN0aW9uKHQscixuKXt0aHJvdyBYKCJSYXkiKX0sZS5wcm90b3R5cGUuZ2V0Rm9yd2FyZFJheVRvUmVmPWZ1bmN0aW9uKHQscixuLGEpe3Rocm93IFgoIlJheSIpfSxlLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKHQscil7Zm9yKHI9PT12b2lkIDAmJihyPSExKSx0aGlzLm9uVmlld01hdHJpeENoYW5nZWRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vblByb2plY3Rpb25NYXRyaXhDaGFuZ2VkT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25BZnRlckNoZWNrSW5wdXRzT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25SZXN0b3JlU3RhdGVPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5pbnB1dHMmJnRoaXMuaW5wdXRzLmNsZWFyKCksdGhpcy5nZXRTY2VuZSgpLnN0b3BBbmltYXRpb24odGhpcyksdGhpcy5nZXRTY2VuZSgpLnJlbW92ZUNhbWVyYSh0aGlzKTt0aGlzLl9yaWdDYW1lcmFzLmxlbmd0aD4wOyl7dmFyIG49dGhpcy5fcmlnQ2FtZXJhcy5wb3AoKTtuJiZuLmRpc3Bvc2UoKX1pZih0aGlzLl9wYXJlbnRDb250YWluZXIpe3ZhciBhPXRoaXMuX3BhcmVudENvbnRhaW5lci5jYW1lcmFzLmluZGV4T2YodGhpcyk7YT4tMSYmdGhpcy5fcGFyZW50Q29udGFpbmVyLmNhbWVyYXMuc3BsaWNlKGEsMSksdGhpcy5fcGFyZW50Q29udGFpbmVyPW51bGx9aWYodGhpcy5fcmlnUG9zdFByb2Nlc3MpdGhpcy5fcmlnUG9zdFByb2Nlc3MuZGlzcG9zZSh0aGlzKSx0aGlzLl9yaWdQb3N0UHJvY2Vzcz1udWxsLHRoaXMuX3Bvc3RQcm9jZXNzZXM9W107ZWxzZSBpZih0aGlzLmNhbWVyYVJpZ01vZGUhPT1lLlJJR19NT0RFX05PTkUpdGhpcy5fcmlnUG9zdFByb2Nlc3M9bnVsbCx0aGlzLl9wb3N0UHJvY2Vzc2VzPVtdO2Vsc2UgZm9yKHZhciBzPXRoaXMuX3Bvc3RQcm9jZXNzZXMubGVuZ3RoOy0tcz49MDspe3ZhciBvPXRoaXMuX3Bvc3RQcm9jZXNzZXNbc107byYmby5kaXNwb3NlKHRoaXMpfWZvcih2YXIgdT10aGlzLmN1c3RvbVJlbmRlclRhcmdldHMubGVuZ3RoOy0tdT49MDspdGhpcy5jdXN0b21SZW5kZXJUYXJnZXRzW3VdLmRpc3Bvc2UoKTt0aGlzLmN1c3RvbVJlbmRlclRhcmdldHM9W10sdGhpcy5fYWN0aXZlTWVzaGVzLmRpc3Bvc2UoKSx0aGlzLmdldFNjZW5lKCkuZ2V0RW5naW5lKCkucmVsZWFzZVJlbmRlclBhc3NJZCh0aGlzLnJlbmRlclBhc3NJZCksaS5wcm90b3R5cGUuZGlzcG9zZS5jYWxsKHRoaXMsdCxyKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJpc0xlZnRDYW1lcmEiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXNMZWZ0Q2FtZXJhfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiaXNSaWdodENhbWVyYSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pc1JpZ2h0Q2FtZXJhfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwibGVmdENhbWVyYSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9yaWdDYW1lcmFzLmxlbmd0aDwxP251bGw6dGhpcy5fcmlnQ2FtZXJhc1swXX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInJpZ2h0Q2FtZXJhIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JpZ0NhbWVyYXMubGVuZ3RoPDI/bnVsbDp0aGlzLl9yaWdDYW1lcmFzWzFdfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLmdldExlZnRUYXJnZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmlnQ2FtZXJhcy5sZW5ndGg8MT9udWxsOnRoaXMuX3JpZ0NhbWVyYXNbMF0uZ2V0VGFyZ2V0KCl9LGUucHJvdG90eXBlLmdldFJpZ2h0VGFyZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JpZ0NhbWVyYXMubGVuZ3RoPDI/bnVsbDp0aGlzLl9yaWdDYW1lcmFzWzFdLmdldFRhcmdldCgpfSxlLnByb3RvdHlwZS5zZXRDYW1lcmFSaWdNb2RlPWZ1bmN0aW9uKHQscil7aWYodGhpcy5jYW1lcmFSaWdNb2RlIT09dCl7Zm9yKDt0aGlzLl9yaWdDYW1lcmFzLmxlbmd0aD4wOyl7dmFyIG49dGhpcy5fcmlnQ2FtZXJhcy5wb3AoKTtuJiZuLmRpc3Bvc2UoKX1pZih0aGlzLmNhbWVyYVJpZ01vZGU9dCx0aGlzLl9jYW1lcmFSaWdQYXJhbXM9e30sdGhpcy5fY2FtZXJhUmlnUGFyYW1zLmludGVyYXhpYWxEaXN0YW5jZT1yLmludGVyYXhpYWxEaXN0YW5jZXx8LjA2MzcsdGhpcy5fY2FtZXJhUmlnUGFyYW1zLnN0ZXJlb0hhbGZBbmdsZT1fZS5Ub1JhZGlhbnModGhpcy5fY2FtZXJhUmlnUGFyYW1zLmludGVyYXhpYWxEaXN0YW5jZS8uMDYzNyksdGhpcy5jYW1lcmFSaWdNb2RlIT09ZS5SSUdfTU9ERV9OT05FKXt2YXIgYT10aGlzLmNyZWF0ZVJpZ0NhbWVyYSh0aGlzLm5hbWUrIl9MIiwwKTthJiYoYS5faXNMZWZ0Q2FtZXJhPSEwKTt2YXIgcz10aGlzLmNyZWF0ZVJpZ0NhbWVyYSh0aGlzLm5hbWUrIl9SIiwxKTtzJiYocy5faXNSaWdodENhbWVyYT0hMCksYSYmcyYmKHRoaXMuX3JpZ0NhbWVyYXMucHVzaChhKSx0aGlzLl9yaWdDYW1lcmFzLnB1c2gocykpfXRoaXMuX3NldFJpZ01vZGUociksdGhpcy5fY2FzY2FkZVBvc3RQcm9jZXNzZXNUb1JpZ0NhbXMoKSx0aGlzLnVwZGF0ZSgpfX0sZS5wcm90b3R5cGUuX3NldFJpZ01vZGU9ZnVuY3Rpb24odCl7fSxlLnByb3RvdHlwZS5fZ2V0VlJQcm9qZWN0aW9uTWF0cml4PWZ1bmN0aW9uKCl7cmV0dXJuIEkuUGVyc3BlY3RpdmVGb3ZMSFRvUmVmKHRoaXMuX2NhbWVyYVJpZ1BhcmFtcy52ck1ldHJpY3MuYXNwZWN0UmF0aW9Gb3YsdGhpcy5fY2FtZXJhUmlnUGFyYW1zLnZyTWV0cmljcy5hc3BlY3RSYXRpbyx0aGlzLm1pblosdGhpcy5tYXhaLHRoaXMuX2NhbWVyYVJpZ1BhcmFtcy52cldvcmtNYXRyaXgsITAsdGhpcy5nZXRFbmdpbmUoKS5pc05EQ0hhbGZaUmFuZ2UpLHRoaXMuX2NhbWVyYVJpZ1BhcmFtcy52cldvcmtNYXRyaXgubXVsdGlwbHlUb1JlZih0aGlzLl9jYW1lcmFSaWdQYXJhbXMudnJITWF0cml4LHRoaXMuX3Byb2plY3Rpb25NYXRyaXgpLHRoaXMuX3Byb2plY3Rpb25NYXRyaXh9LGUucHJvdG90eXBlLl91cGRhdGVDYW1lcmFSb3RhdGlvbk1hdHJpeD1mdW5jdGlvbigpe30sZS5wcm90b3R5cGUuX3VwZGF0ZVdlYlZSQ2FtZXJhUm90YXRpb25NYXRyaXg9ZnVuY3Rpb24oKXt9LGUucHJvdG90eXBlLl9nZXRXZWJWUlByb2plY3Rpb25NYXRyaXg9ZnVuY3Rpb24oKXtyZXR1cm4gSS5JZGVudGl0eSgpfSxlLnByb3RvdHlwZS5fZ2V0V2ViVlJWaWV3TWF0cml4PWZ1bmN0aW9uKCl7cmV0dXJuIEkuSWRlbnRpdHkoKX0sZS5wcm90b3R5cGUuc2V0Q2FtZXJhUmlnUGFyYW1ldGVyPWZ1bmN0aW9uKHQscil7dGhpcy5fY2FtZXJhUmlnUGFyYW1zfHwodGhpcy5fY2FtZXJhUmlnUGFyYW1zPXt9KSx0aGlzLl9jYW1lcmFSaWdQYXJhbXNbdF09cix0PT09ImludGVyYXhpYWxEaXN0YW5jZSImJih0aGlzLl9jYW1lcmFSaWdQYXJhbXMuc3RlcmVvSGFsZkFuZ2xlPV9lLlRvUmFkaWFucyhyLy4wNjM3KSl9LGUucHJvdG90eXBlLmNyZWF0ZVJpZ0NhbWVyYT1mdW5jdGlvbih0LHIpe3JldHVybiBudWxsfSxlLnByb3RvdHlwZS5fdXBkYXRlUmlnQ2FtZXJhcz1mdW5jdGlvbigpe2Zvcih2YXIgdD0wO3Q8dGhpcy5fcmlnQ2FtZXJhcy5sZW5ndGg7dCsrKXRoaXMuX3JpZ0NhbWVyYXNbdF0ubWluWj10aGlzLm1pblosdGhpcy5fcmlnQ2FtZXJhc1t0XS5tYXhaPXRoaXMubWF4Wix0aGlzLl9yaWdDYW1lcmFzW3RdLmZvdj10aGlzLmZvdix0aGlzLl9yaWdDYW1lcmFzW3RdLnVwVmVjdG9yLmNvcHlGcm9tKHRoaXMudXBWZWN0b3IpO3RoaXMuY2FtZXJhUmlnTW9kZT09PWUuUklHX01PREVfU1RFUkVPU0NPUElDX0FOQUdMWVBIJiYodGhpcy5fcmlnQ2FtZXJhc1swXS52aWV3cG9ydD10aGlzLl9yaWdDYW1lcmFzWzFdLnZpZXdwb3J0PXRoaXMudmlld3BvcnQpfSxlLnByb3RvdHlwZS5fc2V0dXBJbnB1dHM9ZnVuY3Rpb24oKXt9LGUucHJvdG90eXBlLnNlcmlhbGl6ZT1mdW5jdGlvbigpe3ZhciB0PXRlLlNlcmlhbGl6ZSh0aGlzKTtyZXR1cm4gdC51bmlxdWVJZD10aGlzLnVuaXF1ZUlkLHQudHlwZT10aGlzLmdldENsYXNzTmFtZSgpLHRoaXMucGFyZW50JiYodC5wYXJlbnRJZD10aGlzLnBhcmVudC51bmlxdWVJZCksdGhpcy5pbnB1dHMmJnRoaXMuaW5wdXRzLnNlcmlhbGl6ZSh0KSx0ZS5BcHBlbmRTZXJpYWxpemVkQW5pbWF0aW9ucyh0aGlzLHQpLHQucmFuZ2VzPXRoaXMuc2VyaWFsaXplQW5pbWF0aW9uUmFuZ2VzKCksdC5pc0VuYWJsZWQ9dGhpcy5pc0VuYWJsZWQoKSx0fSxlLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbih0LHIpe3I9PT12b2lkIDAmJihyPW51bGwpO3ZhciBuPXRlLkNsb25lKGUuR2V0Q29uc3RydWN0b3JGcm9tTmFtZSh0aGlzLmdldENsYXNzTmFtZSgpLHQsdGhpcy5nZXRTY2VuZSgpLHRoaXMuaW50ZXJheGlhbERpc3RhbmNlLHRoaXMuaXNTdGVyZW9zY29waWNTaWRlQnlTaWRlKSx0aGlzKTtyZXR1cm4gbi5uYW1lPXQsbi5wYXJlbnQ9cix0aGlzLm9uQ2xvbmVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMobiksbn0sZS5wcm90b3R5cGUuZ2V0RGlyZWN0aW9uPWZ1bmN0aW9uKHQpe3ZhciByPWIuWmVybygpO3JldHVybiB0aGlzLmdldERpcmVjdGlvblRvUmVmKHQscikscn0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJhYnNvbHV0ZVJvdGF0aW9uIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0V29ybGRNYXRyaXgoKS5kZWNvbXBvc2Uodm9pZCAwLHRoaXMuX2Fic29sdXRlUm90YXRpb24pLHRoaXMuX2Fic29sdXRlUm90YXRpb259LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuZ2V0RGlyZWN0aW9uVG9SZWY9ZnVuY3Rpb24odCxyKXtiLlRyYW5zZm9ybU5vcm1hbFRvUmVmKHQsdGhpcy5nZXRXb3JsZE1hdHJpeCgpLHIpfSxlLkdldENvbnN0cnVjdG9yRnJvbU5hbWU9ZnVuY3Rpb24odCxyLG4sYSxzKXthPT09dm9pZCAwJiYoYT0wKSxzPT09dm9pZCAwJiYocz0hMCk7dmFyIG89JGUuQ29uc3RydWN0KHQscixuLHtpbnRlcmF4aWFsX2Rpc3RhbmNlOmEsaXNTdGVyZW9zY29waWNTaWRlQnlTaWRlOnN9KTtyZXR1cm4gb3x8ZnVuY3Rpb24oKXtyZXR1cm4gZS5fQ3JlYXRlRGVmYXVsdFBhcnNlZENhbWVyYShyLG4pfX0sZS5wcm90b3R5cGUuY29tcHV0ZVdvcmxkTWF0cml4PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0V29ybGRNYXRyaXgoKX0sZS5QYXJzZT1mdW5jdGlvbih0LHIpe3ZhciBuPXQudHlwZSxhPWUuR2V0Q29uc3RydWN0b3JGcm9tTmFtZShuLHQubmFtZSxyLHQuaW50ZXJheGlhbF9kaXN0YW5jZSx0LmlzU3RlcmVvc2NvcGljU2lkZUJ5U2lkZSkscz10ZS5QYXJzZShhLHQscik7aWYodC5wYXJlbnRJZCE9PXZvaWQgMCYmKHMuX3dhaXRpbmdQYXJlbnRJZD10LnBhcmVudElkKSxzLmlucHV0cyYmKHMuaW5wdXRzLnBhcnNlKHQpLHMuX3NldHVwSW5wdXRzKCkpLHQudXBWZWN0b3ImJihzLnVwVmVjdG9yPWIuRnJvbUFycmF5KHQudXBWZWN0b3IpKSxzLnNldFBvc2l0aW9uJiYocy5wb3NpdGlvbi5jb3B5RnJvbUZsb2F0cygwLDAsMCkscy5zZXRQb3NpdGlvbihiLkZyb21BcnJheSh0LnBvc2l0aW9uKSkpLHQudGFyZ2V0JiZzLnNldFRhcmdldCYmcy5zZXRUYXJnZXQoYi5Gcm9tQXJyYXkodC50YXJnZXQpKSx0LmNhbWVyYVJpZ01vZGUpe3ZhciBvPXQuaW50ZXJheGlhbF9kaXN0YW5jZT97aW50ZXJheGlhbERpc3RhbmNlOnQuaW50ZXJheGlhbF9kaXN0YW5jZX06e307cy5zZXRDYW1lcmFSaWdNb2RlKHQuY2FtZXJhUmlnTW9kZSxvKX1pZih0LmFuaW1hdGlvbnMpe2Zvcih2YXIgdT0wO3U8dC5hbmltYXRpb25zLmxlbmd0aDt1Kyspe3ZhciBmPXQuYW5pbWF0aW9uc1t1XSxsPVB0KCJCQUJZTE9OLkFuaW1hdGlvbiIpO2wmJnMuYW5pbWF0aW9ucy5wdXNoKGwuUGFyc2UoZikpfSRlLlBhcnNlQW5pbWF0aW9uUmFuZ2VzKHMsdCxyKX1yZXR1cm4gdC5hdXRvQW5pbWF0ZSYmci5iZWdpbkFuaW1hdGlvbihzLHQuYXV0b0FuaW1hdGVGcm9tLHQuYXV0b0FuaW1hdGVUbyx0LmF1dG9BbmltYXRlTG9vcCx0LmF1dG9BbmltYXRlU3BlZWR8fDEpLHQuaXNFbmFibGVkIT09dm9pZCAwJiZzLnNldEVuYWJsZWQodC5pc0VuYWJsZWQpLHN9LGUuX0NyZWF0ZURlZmF1bHRQYXJzZWRDYW1lcmE9ZnVuY3Rpb24odCxyKXt0aHJvdyBYKCJVbml2ZXJzYWxDYW1lcmEiKX0sZS5QRVJTUEVDVElWRV9DQU1FUkE9MCxlLk9SVEhPR1JBUEhJQ19DQU1FUkE9MSxlLkZPVk1PREVfVkVSVElDQUxfRklYRUQ9MCxlLkZPVk1PREVfSE9SSVpPTlRBTF9GSVhFRD0xLGUuUklHX01PREVfTk9ORT0wLGUuUklHX01PREVfU1RFUkVPU0NPUElDX0FOQUdMWVBIPTEwLGUuUklHX01PREVfU1RFUkVPU0NPUElDX1NJREVCWVNJREVfUEFSQUxMRUw9MTEsZS5SSUdfTU9ERV9TVEVSRU9TQ09QSUNfU0lERUJZU0lERV9DUk9TU0VZRUQ9MTIsZS5SSUdfTU9ERV9TVEVSRU9TQ09QSUNfT1ZFUlVOREVSPTEzLGUuUklHX01PREVfU1RFUkVPU0NPUElDX0lOVEVSTEFDRUQ9MTQsZS5SSUdfTU9ERV9WUj0yMCxlLlJJR19NT0RFX1dFQlZSPTIxLGUuUklHX01PREVfQ1VTVE9NPTIyLGUuRm9yY2VBdHRhY2hDb250cm9sVG9BbHdheXNQcmV2ZW50RGVmYXVsdD0hMSxUKFtsdCgicG9zaXRpb24iKV0sZS5wcm90b3R5cGUsIl9wb3NpdGlvbiIsdm9pZCAwKSxUKFtsdCgidXBWZWN0b3IiKV0sZS5wcm90b3R5cGUsIl91cFZlY3RvciIsdm9pZCAwKSxUKFtQKCldLGUucHJvdG90eXBlLCJvcnRob0xlZnQiLHZvaWQgMCksVChbUCgpXSxlLnByb3RvdHlwZSwib3J0aG9SaWdodCIsdm9pZCAwKSxUKFtQKCldLGUucHJvdG90eXBlLCJvcnRob0JvdHRvbSIsdm9pZCAwKSxUKFtQKCldLGUucHJvdG90eXBlLCJvcnRob1RvcCIsdm9pZCAwKSxUKFtQKCldLGUucHJvdG90eXBlLCJmb3YiLHZvaWQgMCksVChbUCgpXSxlLnByb3RvdHlwZSwicHJvamVjdGlvblBsYW5lVGlsdCIsdm9pZCAwKSxUKFtQKCldLGUucHJvdG90eXBlLCJtaW5aIix2b2lkIDApLFQoW1AoKV0sZS5wcm90b3R5cGUsIm1heFoiLHZvaWQgMCksVChbUCgpXSxlLnByb3RvdHlwZSwiaW5lcnRpYSIsdm9pZCAwKSxUKFtQKCldLGUucHJvdG90eXBlLCJtb2RlIix2b2lkIDApLFQoW1AoKV0sZS5wcm90b3R5cGUsImxheWVyTWFzayIsdm9pZCAwKSxUKFtQKCldLGUucHJvdG90eXBlLCJmb3ZNb2RlIix2b2lkIDApLFQoW1AoKV0sZS5wcm90b3R5cGUsImNhbWVyYVJpZ01vZGUiLHZvaWQgMCksVChbUCgpXSxlLnByb3RvdHlwZSwiaW50ZXJheGlhbERpc3RhbmNlIix2b2lkIDApLFQoW1AoKV0sZS5wcm90b3R5cGUsImlzU3RlcmVvc2NvcGljU2lkZUJ5U2lkZSIsdm9pZCAwKSxlfSgkZSksZXQ9ZnVuY3Rpb24oaSl7SyhlLGkpO2Z1bmN0aW9uIGUodCxyKXt2YXIgbj1pLmNhbGwodGhpcyx0LHIpfHx0aGlzO3JldHVybiBuLmRpZmZ1c2U9bmV3IGJlKDEsMSwxKSxuLnNwZWN1bGFyPW5ldyBiZSgxLDEsMSksbi5mYWxsb2ZmVHlwZT1lLkZBTExPRkZfREVGQVVMVCxuLmludGVuc2l0eT0xLG4uX3JhbmdlPU51bWJlci5NQVhfVkFMVUUsbi5faW52ZXJzZVNxdWFyZWRSYW5nZT0wLG4uX3Bob3RvbWV0cmljU2NhbGU9MSxuLl9pbnRlbnNpdHlNb2RlPWUuSU5URU5TSVRZTU9ERV9BVVRPTUFUSUMsbi5fcmFkaXVzPTFlLTUsbi5yZW5kZXJQcmlvcml0eT0wLG4uX3NoYWRvd0VuYWJsZWQ9ITAsbi5fZXhjbHVkZVdpdGhMYXllck1hc2s9MCxuLl9pbmNsdWRlT25seVdpdGhMYXllck1hc2s9MCxuLl9saWdodG1hcE1vZGU9MCxuLl9leGNsdWRlZE1lc2hlc0lkcz1uZXcgQXJyYXksbi5faW5jbHVkZWRPbmx5TWVzaGVzSWRzPW5ldyBBcnJheSxuLl9pc0xpZ2h0PSEwLG4uZ2V0U2NlbmUoKS5hZGRMaWdodChuKSxuLl91bmlmb3JtQnVmZmVyPW5ldyBUcihuLmdldFNjZW5lKCkuZ2V0RW5naW5lKCksdm9pZCAwLHZvaWQgMCx0KSxuLl9idWlsZFVuaWZvcm1MYXlvdXQoKSxuLmluY2x1ZGVkT25seU1lc2hlcz1uZXcgQXJyYXksbi5leGNsdWRlZE1lc2hlcz1uZXcgQXJyYXksbi5fcmVzeW5jTWVzaGVzKCksbn1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJyYW5nZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9yYW5nZX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3JhbmdlPXQsdGhpcy5faW52ZXJzZVNxdWFyZWRSYW5nZT0xLyh0aGlzLnJhbmdlKnRoaXMucmFuZ2UpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiaW50ZW5zaXR5TW9kZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbnRlbnNpdHlNb2RlfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5faW50ZW5zaXR5TW9kZT10LHRoaXMuX2NvbXB1dGVQaG90b21ldHJpY1NjYWxlKCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJyYWRpdXMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmFkaXVzfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fcmFkaXVzPXQsdGhpcy5fY29tcHV0ZVBob3RvbWV0cmljU2NhbGUoKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInNoYWRvd0VuYWJsZWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2hhZG93RW5hYmxlZH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3NoYWRvd0VuYWJsZWQhPT10JiYodGhpcy5fc2hhZG93RW5hYmxlZD10LHRoaXMuX21hcmtNZXNoZXNBc0xpZ2h0RGlydHkoKSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJpbmNsdWRlZE9ubHlNZXNoZXMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW5jbHVkZWRPbmx5TWVzaGVzfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5faW5jbHVkZWRPbmx5TWVzaGVzPXQsdGhpcy5faG9va0FycmF5Rm9ySW5jbHVkZWRPbmx5KHQpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiZXhjbHVkZWRNZXNoZXMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZXhjbHVkZWRNZXNoZXN9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9leGNsdWRlZE1lc2hlcz10LHRoaXMuX2hvb2tBcnJheUZvckV4Y2x1ZGVkKHQpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiZXhjbHVkZVdpdGhMYXllck1hc2siLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZXhjbHVkZVdpdGhMYXllck1hc2t9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9leGNsdWRlV2l0aExheWVyTWFzaz10LHRoaXMuX3Jlc3luY01lc2hlcygpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiaW5jbHVkZU9ubHlXaXRoTGF5ZXJNYXNrIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2luY2x1ZGVPbmx5V2l0aExheWVyTWFza30sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2luY2x1ZGVPbmx5V2l0aExheWVyTWFzaz10LHRoaXMuX3Jlc3luY01lc2hlcygpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwibGlnaHRtYXBNb2RlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xpZ2h0bWFwTW9kZX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2xpZ2h0bWFwTW9kZSE9PXQmJih0aGlzLl9saWdodG1hcE1vZGU9dCx0aGlzLl9tYXJrTWVzaGVzQXNMaWdodERpcnR5KCkpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLnRyYW5zZmVyVGV4dHVyZXNUb0VmZmVjdD1mdW5jdGlvbih0LHIpe3JldHVybiB0aGlzfSxlLnByb3RvdHlwZS5fYmluZExpZ2h0PWZ1bmN0aW9uKHQscixuLGEscyl7cz09PXZvaWQgMCYmKHM9ITApO3ZhciBvPXQudG9TdHJpbmcoKSx1PSExO2lmKHRoaXMuX3VuaWZvcm1CdWZmZXIuYmluZFRvRWZmZWN0KG4sIkxpZ2h0IitvKSx0aGlzLl9yZW5kZXJJZCE9PXIuZ2V0UmVuZGVySWQoKXx8dGhpcy5fbGFzdFVzZVNwZWN1bGFyIT09YXx8IXRoaXMuX3VuaWZvcm1CdWZmZXIudXNlVWJvKXt0aGlzLl9yZW5kZXJJZD1yLmdldFJlbmRlcklkKCksdGhpcy5fbGFzdFVzZVNwZWN1bGFyPWE7dmFyIGY9dGhpcy5nZXRTY2FsZWRJbnRlbnNpdHkoKTt0aGlzLnRyYW5zZmVyVG9FZmZlY3QobixvKSx0aGlzLmRpZmZ1c2Uuc2NhbGVUb1JlZihmLGNyLkNvbG9yM1swXSksdGhpcy5fdW5pZm9ybUJ1ZmZlci51cGRhdGVDb2xvcjQoInZMaWdodERpZmZ1c2UiLGNyLkNvbG9yM1swXSx0aGlzLnJhbmdlLG8pLGEmJih0aGlzLnNwZWN1bGFyLnNjYWxlVG9SZWYoZixjci5Db2xvcjNbMV0pLHRoaXMuX3VuaWZvcm1CdWZmZXIudXBkYXRlQ29sb3I0KCJ2TGlnaHRTcGVjdWxhciIsY3IuQ29sb3IzWzFdLHRoaXMucmFkaXVzLG8pKSx1PSEwfWlmKHRoaXMudHJhbnNmZXJUZXh0dXJlc1RvRWZmZWN0KG4sbyksci5zaGFkb3dzRW5hYmxlZCYmdGhpcy5zaGFkb3dFbmFibGVkJiZzKXt2YXIgbD10aGlzLmdldFNoYWRvd0dlbmVyYXRvcigpO2wmJihsLmJpbmRTaGFkb3dMaWdodChvLG4pLHU9ITApfXU/dGhpcy5fdW5pZm9ybUJ1ZmZlci51cGRhdGUoKTp0aGlzLl91bmlmb3JtQnVmZmVyLmJpbmRVbmlmb3JtQnVmZmVyKCl9LGUucHJvdG90eXBlLmdldENsYXNzTmFtZT1mdW5jdGlvbigpe3JldHVybiJMaWdodCJ9LGUucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKHQpe3ZhciByPSJOYW1lOiAiK3RoaXMubmFtZTtpZihyKz0iLCB0eXBlOiAiK1siUG9pbnQiLCJEaXJlY3Rpb25hbCIsIlNwb3QiLCJIZW1pc3BoZXJpYyJdW3RoaXMuZ2V0VHlwZUlEKCldLHRoaXMuYW5pbWF0aW9ucylmb3IodmFyIG49MDtuPHRoaXMuYW5pbWF0aW9ucy5sZW5ndGg7bisrKXIrPSIsIGFuaW1hdGlvblswXTogIit0aGlzLmFuaW1hdGlvbnNbbl0udG9TdHJpbmcodCk7cmV0dXJuIHJ9LGUucHJvdG90eXBlLl9zeW5jUGFyZW50RW5hYmxlZFN0YXRlPWZ1bmN0aW9uKCl7aS5wcm90b3R5cGUuX3N5bmNQYXJlbnRFbmFibGVkU3RhdGUuY2FsbCh0aGlzKSx0aGlzLmlzRGlzcG9zZWQoKXx8dGhpcy5fcmVzeW5jTWVzaGVzKCl9LGUucHJvdG90eXBlLnNldEVuYWJsZWQ9ZnVuY3Rpb24odCl7aS5wcm90b3R5cGUuc2V0RW5hYmxlZC5jYWxsKHRoaXMsdCksdGhpcy5fcmVzeW5jTWVzaGVzKCl9LGUucHJvdG90eXBlLmdldFNoYWRvd0dlbmVyYXRvcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zaGFkb3dHZW5lcmF0b3J9LGUucHJvdG90eXBlLmdldEFic29sdXRlUG9zaXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gYi5aZXJvKCl9LGUucHJvdG90eXBlLmNhbkFmZmVjdE1lc2g9ZnVuY3Rpb24odCl7cmV0dXJuIHQ/ISh0aGlzLmluY2x1ZGVkT25seU1lc2hlcyYmdGhpcy5pbmNsdWRlZE9ubHlNZXNoZXMubGVuZ3RoPjAmJnRoaXMuaW5jbHVkZWRPbmx5TWVzaGVzLmluZGV4T2YodCk9PT0tMXx8dGhpcy5leGNsdWRlZE1lc2hlcyYmdGhpcy5leGNsdWRlZE1lc2hlcy5sZW5ndGg+MCYmdGhpcy5leGNsdWRlZE1lc2hlcy5pbmRleE9mKHQpIT09LTF8fHRoaXMuaW5jbHVkZU9ubHlXaXRoTGF5ZXJNYXNrIT09MCYmKHRoaXMuaW5jbHVkZU9ubHlXaXRoTGF5ZXJNYXNrJnQubGF5ZXJNYXNrKT09PTB8fHRoaXMuZXhjbHVkZVdpdGhMYXllck1hc2shPT0wJiZ0aGlzLmV4Y2x1ZGVXaXRoTGF5ZXJNYXNrJnQubGF5ZXJNYXNrKTohMH0sZS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbih0LHIpe2lmKHI9PT12b2lkIDAmJihyPSExKSx0aGlzLl9zaGFkb3dHZW5lcmF0b3ImJih0aGlzLl9zaGFkb3dHZW5lcmF0b3IuZGlzcG9zZSgpLHRoaXMuX3NoYWRvd0dlbmVyYXRvcj1udWxsKSx0aGlzLmdldFNjZW5lKCkuc3RvcEFuaW1hdGlvbih0aGlzKSx0aGlzLl9wYXJlbnRDb250YWluZXIpe3ZhciBuPXRoaXMuX3BhcmVudENvbnRhaW5lci5saWdodHMuaW5kZXhPZih0aGlzKTtuPi0xJiZ0aGlzLl9wYXJlbnRDb250YWluZXIubGlnaHRzLnNwbGljZShuLDEpLHRoaXMuX3BhcmVudENvbnRhaW5lcj1udWxsfWZvcih2YXIgYT0wLHM9dGhpcy5nZXRTY2VuZSgpLm1lc2hlczthPHMubGVuZ3RoO2ErKyl7dmFyIG89c1thXTtvLl9yZW1vdmVMaWdodFNvdXJjZSh0aGlzLCEwKX10aGlzLl91bmlmb3JtQnVmZmVyLmRpc3Bvc2UoKSx0aGlzLmdldFNjZW5lKCkucmVtb3ZlTGlnaHQodGhpcyksaS5wcm90b3R5cGUuZGlzcG9zZS5jYWxsKHRoaXMsdCxyKX0sZS5wcm90b3R5cGUuZ2V0VHlwZUlEPWZ1bmN0aW9uKCl7cmV0dXJuIDB9LGUucHJvdG90eXBlLmdldFNjYWxlZEludGVuc2l0eT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9waG90b21ldHJpY1NjYWxlKnRoaXMuaW50ZW5zaXR5fSxlLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbih0LHIpe3I9PT12b2lkIDAmJihyPW51bGwpO3ZhciBuPWUuR2V0Q29uc3RydWN0b3JGcm9tTmFtZSh0aGlzLmdldFR5cGVJRCgpLHQsdGhpcy5nZXRTY2VuZSgpKTtpZighbilyZXR1cm4gbnVsbDt2YXIgYT10ZS5DbG9uZShuLHRoaXMpO3JldHVybiB0JiYoYS5uYW1lPXQpLHImJihhLnBhcmVudD1yKSxhLnNldEVuYWJsZWQodGhpcy5pc0VuYWJsZWQoKSksdGhpcy5vbkNsb25lZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGEpLGF9LGUucHJvdG90eXBlLnNlcmlhbGl6ZT1mdW5jdGlvbigpe3ZhciB0PXRlLlNlcmlhbGl6ZSh0aGlzKTtyZXR1cm4gdC51bmlxdWVJZD10aGlzLnVuaXF1ZUlkLHQudHlwZT10aGlzLmdldFR5cGVJRCgpLHRoaXMucGFyZW50JiYodC5wYXJlbnRJZD10aGlzLnBhcmVudC51bmlxdWVJZCksdGhpcy5leGNsdWRlZE1lc2hlcy5sZW5ndGg+MCYmKHQuZXhjbHVkZWRNZXNoZXNJZHM9W10sdGhpcy5leGNsdWRlZE1lc2hlcy5mb3JFYWNoKGZ1bmN0aW9uKHIpe3QuZXhjbHVkZWRNZXNoZXNJZHMucHVzaChyLmlkKX0pKSx0aGlzLmluY2x1ZGVkT25seU1lc2hlcy5sZW5ndGg+MCYmKHQuaW5jbHVkZWRPbmx5TWVzaGVzSWRzPVtdLHRoaXMuaW5jbHVkZWRPbmx5TWVzaGVzLmZvckVhY2goZnVuY3Rpb24ocil7dC5pbmNsdWRlZE9ubHlNZXNoZXNJZHMucHVzaChyLmlkKX0pKSx0ZS5BcHBlbmRTZXJpYWxpemVkQW5pbWF0aW9ucyh0aGlzLHQpLHQucmFuZ2VzPXRoaXMuc2VyaWFsaXplQW5pbWF0aW9uUmFuZ2VzKCksdC5pc0VuYWJsZWQ9dGhpcy5pc0VuYWJsZWQoKSx0fSxlLkdldENvbnN0cnVjdG9yRnJvbU5hbWU9ZnVuY3Rpb24odCxyLG4pe3ZhciBhPSRlLkNvbnN0cnVjdCgiTGlnaHRfVHlwZV8iK3QscixuKTtyZXR1cm4gYXx8bnVsbH0sZS5QYXJzZT1mdW5jdGlvbih0LHIpe3ZhciBuPWUuR2V0Q29uc3RydWN0b3JGcm9tTmFtZSh0LnR5cGUsdC5uYW1lLHIpO2lmKCFuKXJldHVybiBudWxsO3ZhciBhPXRlLlBhcnNlKG4sdCxyKTtpZih0LmV4Y2x1ZGVkTWVzaGVzSWRzJiYoYS5fZXhjbHVkZWRNZXNoZXNJZHM9dC5leGNsdWRlZE1lc2hlc0lkcyksdC5pbmNsdWRlZE9ubHlNZXNoZXNJZHMmJihhLl9pbmNsdWRlZE9ubHlNZXNoZXNJZHM9dC5pbmNsdWRlZE9ubHlNZXNoZXNJZHMpLHQucGFyZW50SWQhPT12b2lkIDAmJihhLl93YWl0aW5nUGFyZW50SWQ9dC5wYXJlbnRJZCksdC5mYWxsb2ZmVHlwZSE9PXZvaWQgMCYmKGEuZmFsbG9mZlR5cGU9dC5mYWxsb2ZmVHlwZSksdC5saWdodG1hcE1vZGUhPT12b2lkIDAmJihhLmxpZ2h0bWFwTW9kZT10LmxpZ2h0bWFwTW9kZSksdC5hbmltYXRpb25zKXtmb3IodmFyIHM9MDtzPHQuYW5pbWF0aW9ucy5sZW5ndGg7cysrKXt2YXIgbz10LmFuaW1hdGlvbnNbc10sdT1QdCgiQkFCWUxPTi5BbmltYXRpb24iKTt1JiZhLmFuaW1hdGlvbnMucHVzaCh1LlBhcnNlKG8pKX0kZS5QYXJzZUFuaW1hdGlvblJhbmdlcyhhLHQscil9cmV0dXJuIHQuYXV0b0FuaW1hdGUmJnIuYmVnaW5BbmltYXRpb24oYSx0LmF1dG9BbmltYXRlRnJvbSx0LmF1dG9BbmltYXRlVG8sdC5hdXRvQW5pbWF0ZUxvb3AsdC5hdXRvQW5pbWF0ZVNwZWVkfHwxKSx0LmlzRW5hYmxlZCE9PXZvaWQgMCYmYS5zZXRFbmFibGVkKHQuaXNFbmFibGVkKSxhfSxlLnByb3RvdHlwZS5faG9va0FycmF5Rm9yRXhjbHVkZWQ9ZnVuY3Rpb24odCl7dmFyIHI9dGhpcyxuPXQucHVzaDt0LnB1c2g9ZnVuY3Rpb24oKXtmb3IodmFyIGY9W10sbD0wO2w8YXJndW1lbnRzLmxlbmd0aDtsKyspZltsXT1hcmd1bWVudHNbbF07Zm9yKHZhciBoPW4uYXBwbHkodCxmKSxjPTAsZD1mO2M8ZC5sZW5ndGg7YysrKXt2YXIgcD1kW2NdO3AuX3Jlc3luY0xpZ2h0U291cmNlKHIpfXJldHVybiBofTt2YXIgYT10LnNwbGljZTt0LnNwbGljZT1mdW5jdGlvbihmLGwpe2Zvcih2YXIgaD1hLmFwcGx5KHQsW2YsbF0pLGM9MCxkPWg7YzxkLmxlbmd0aDtjKyspe3ZhciBwPWRbY107cC5fcmVzeW5jTGlnaHRTb3VyY2Uocil9cmV0dXJuIGh9O2Zvcih2YXIgcz0wLG89dDtzPG8ubGVuZ3RoO3MrKyl7dmFyIHU9b1tzXTt1Ll9yZXN5bmNMaWdodFNvdXJjZSh0aGlzKX19LGUucHJvdG90eXBlLl9ob29rQXJyYXlGb3JJbmNsdWRlZE9ubHk9ZnVuY3Rpb24odCl7dmFyIHI9dGhpcyxuPXQucHVzaDt0LnB1c2g9ZnVuY3Rpb24oKXtmb3IodmFyIHM9W10sbz0wO288YXJndW1lbnRzLmxlbmd0aDtvKyspc1tvXT1hcmd1bWVudHNbb107dmFyIHU9bi5hcHBseSh0LHMpO3JldHVybiByLl9yZXN5bmNNZXNoZXMoKSx1fTt2YXIgYT10LnNwbGljZTt0LnNwbGljZT1mdW5jdGlvbihzLG8pe3ZhciB1PWEuYXBwbHkodCxbcyxvXSk7cmV0dXJuIHIuX3Jlc3luY01lc2hlcygpLHV9LHRoaXMuX3Jlc3luY01lc2hlcygpfSxlLnByb3RvdHlwZS5fcmVzeW5jTWVzaGVzPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PTAscj10aGlzLmdldFNjZW5lKCkubWVzaGVzO3Q8ci5sZW5ndGg7dCsrKXt2YXIgbj1yW3RdO24uX3Jlc3luY0xpZ2h0U291cmNlKHRoaXMpfX0sZS5wcm90b3R5cGUuX21hcmtNZXNoZXNBc0xpZ2h0RGlydHk9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9MCxyPXRoaXMuZ2V0U2NlbmUoKS5tZXNoZXM7dDxyLmxlbmd0aDt0Kyspe3ZhciBuPXJbdF07bi5saWdodFNvdXJjZXMuaW5kZXhPZih0aGlzKSE9PS0xJiZuLl9tYXJrU3ViTWVzaGVzQXNMaWdodERpcnR5KCl9fSxlLnByb3RvdHlwZS5fY29tcHV0ZVBob3RvbWV0cmljU2NhbGU9ZnVuY3Rpb24oKXt0aGlzLl9waG90b21ldHJpY1NjYWxlPXRoaXMuX2dldFBob3RvbWV0cmljU2NhbGUoKSx0aGlzLmdldFNjZW5lKCkucmVzZXRDYWNoZWRNYXRlcmlhbCgpfSxlLnByb3RvdHlwZS5fZ2V0UGhvdG9tZXRyaWNTY2FsZT1mdW5jdGlvbigpe3ZhciB0PTAscj10aGlzLmdldFR5cGVJRCgpLG49dGhpcy5pbnRlbnNpdHlNb2RlO3N3aXRjaChuPT09ZS5JTlRFTlNJVFlNT0RFX0FVVE9NQVRJQyYmKHI9PT1lLkxJR0hUVFlQRUlEX0RJUkVDVElPTkFMTElHSFQ/bj1lLklOVEVOU0lUWU1PREVfSUxMVU1JTkFOQ0U6bj1lLklOVEVOU0lUWU1PREVfTFVNSU5PVVNJTlRFTlNJVFkpLHIpe2Nhc2UgZS5MSUdIVFRZUEVJRF9QT0lOVExJR0hUOmNhc2UgZS5MSUdIVFRZUEVJRF9TUE9UTElHSFQ6c3dpdGNoKG4pe2Nhc2UgZS5JTlRFTlNJVFlNT0RFX0xVTUlOT1VTUE9XRVI6dD0xLyg0Kk1hdGguUEkpO2JyZWFrO2Nhc2UgZS5JTlRFTlNJVFlNT0RFX0xVTUlOT1VTSU5URU5TSVRZOnQ9MTticmVhaztjYXNlIGUuSU5URU5TSVRZTU9ERV9MVU1JTkFOQ0U6dD10aGlzLnJhZGl1cyp0aGlzLnJhZGl1czticmVha31icmVhaztjYXNlIGUuTElHSFRUWVBFSURfRElSRUNUSU9OQUxMSUdIVDpzd2l0Y2gobil7Y2FzZSBlLklOVEVOU0lUWU1PREVfSUxMVU1JTkFOQ0U6dD0xO2JyZWFrO2Nhc2UgZS5JTlRFTlNJVFlNT0RFX0xVTUlOQU5DRTp7dmFyIGE9dGhpcy5yYWRpdXM7YT1NYXRoLm1heChhLC4wMDEpO3ZhciBzPTIqTWF0aC5QSSooMS1NYXRoLmNvcyhhKSk7dD1zO2JyZWFrfX1icmVhaztjYXNlIGUuTElHSFRUWVBFSURfSEVNSVNQSEVSSUNMSUdIVDp0PTE7YnJlYWt9cmV0dXJuIHR9LGUucHJvdG90eXBlLl9yZW9yZGVyTGlnaHRzSW5TY2VuZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2V0U2NlbmUoKTt0aGlzLl9yZW5kZXJQcmlvcml0eSE9MCYmKHQucmVxdWlyZUxpZ2h0U29ydGluZz0hMCksdGhpcy5nZXRTY2VuZSgpLnNvcnRMaWdodHNCeVByaW9yaXR5KCl9LGUuRkFMTE9GRl9ERUZBVUxUPXhlLkZBTExPRkZfREVGQVVMVCxlLkZBTExPRkZfUEhZU0lDQUw9eGUuRkFMTE9GRl9QSFlTSUNBTCxlLkZBTExPRkZfR0xURj14ZS5GQUxMT0ZGX0dMVEYsZS5GQUxMT0ZGX1NUQU5EQVJEPXhlLkZBTExPRkZfU1RBTkRBUkQsZS5MSUdIVE1BUF9ERUZBVUxUPXhlLkxJR0hUTUFQX0RFRkFVTFQsZS5MSUdIVE1BUF9TUEVDVUxBUj14ZS5MSUdIVE1BUF9TUEVDVUxBUixlLkxJR0hUTUFQX1NIQURPV1NPTkxZPXhlLkxJR0hUTUFQX1NIQURPV1NPTkxZLGUuSU5URU5TSVRZTU9ERV9BVVRPTUFUSUM9eGUuSU5URU5TSVRZTU9ERV9BVVRPTUFUSUMsZS5JTlRFTlNJVFlNT0RFX0xVTUlOT1VTUE9XRVI9eGUuSU5URU5TSVRZTU9ERV9MVU1JTk9VU1BPV0VSLGUuSU5URU5TSVRZTU9ERV9MVU1JTk9VU0lOVEVOU0lUWT14ZS5JTlRFTlNJVFlNT0RFX0xVTUlOT1VTSU5URU5TSVRZLGUuSU5URU5TSVRZTU9ERV9JTExVTUlOQU5DRT14ZS5JTlRFTlNJVFlNT0RFX0lMTFVNSU5BTkNFLGUuSU5URU5TSVRZTU9ERV9MVU1JTkFOQ0U9eGUuSU5URU5TSVRZTU9ERV9MVU1JTkFOQ0UsZS5MSUdIVFRZUEVJRF9QT0lOVExJR0hUPXhlLkxJR0hUVFlQRUlEX1BPSU5UTElHSFQsZS5MSUdIVFRZUEVJRF9ESVJFQ1RJT05BTExJR0hUPXhlLkxJR0hUVFlQRUlEX0RJUkVDVElPTkFMTElHSFQsZS5MSUdIVFRZUEVJRF9TUE9UTElHSFQ9eGUuTElHSFRUWVBFSURfU1BPVExJR0hULGUuTElHSFRUWVBFSURfSEVNSVNQSEVSSUNMSUdIVD14ZS5MSUdIVFRZUEVJRF9IRU1JU1BIRVJJQ0xJR0hULFQoW0Z0KCldLGUucHJvdG90eXBlLCJkaWZmdXNlIix2b2lkIDApLFQoW0Z0KCldLGUucHJvdG90eXBlLCJzcGVjdWxhciIsdm9pZCAwKSxUKFtQKCldLGUucHJvdG90eXBlLCJmYWxsb2ZmVHlwZSIsdm9pZCAwKSxUKFtQKCldLGUucHJvdG90eXBlLCJpbnRlbnNpdHkiLHZvaWQgMCksVChbUCgpXSxlLnByb3RvdHlwZSwicmFuZ2UiLG51bGwpLFQoW1AoKV0sZS5wcm90b3R5cGUsImludGVuc2l0eU1vZGUiLG51bGwpLFQoW1AoKV0sZS5wcm90b3R5cGUsInJhZGl1cyIsbnVsbCksVChbUCgpXSxlLnByb3RvdHlwZSwiX3JlbmRlclByaW9yaXR5Iix2b2lkIDApLFQoW29lKCJfcmVvcmRlckxpZ2h0c0luU2NlbmUiKV0sZS5wcm90b3R5cGUsInJlbmRlclByaW9yaXR5Iix2b2lkIDApLFQoW1AoInNoYWRvd0VuYWJsZWQiKV0sZS5wcm90b3R5cGUsIl9zaGFkb3dFbmFibGVkIix2b2lkIDApLFQoW1AoImV4Y2x1ZGVXaXRoTGF5ZXJNYXNrIildLGUucHJvdG90eXBlLCJfZXhjbHVkZVdpdGhMYXllck1hc2siLHZvaWQgMCksVChbUCgiaW5jbHVkZU9ubHlXaXRoTGF5ZXJNYXNrIildLGUucHJvdG90eXBlLCJfaW5jbHVkZU9ubHlXaXRoTGF5ZXJNYXNrIix2b2lkIDApLFQoW1AoImxpZ2h0bWFwTW9kZSIpXSxlLnByb3RvdHlwZSwiX2xpZ2h0bWFwTW9kZSIsdm9pZCAwKSxlfSgkZSksRGE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKCl7fXJldHVybiBpLkJpbmRDbGlwUGxhbmU9ZnVuY3Rpb24oZSx0KXtpZih0LmNsaXBQbGFuZSl7dmFyIHI9dC5jbGlwUGxhbmU7ZS5zZXRGbG9hdDQoInZDbGlwUGxhbmUiLHIubm9ybWFsLngsci5ub3JtYWwueSxyLm5vcm1hbC56LHIuZCl9aWYodC5jbGlwUGxhbmUyKXt2YXIgcj10LmNsaXBQbGFuZTI7ZS5zZXRGbG9hdDQoInZDbGlwUGxhbmUyIixyLm5vcm1hbC54LHIubm9ybWFsLnksci5ub3JtYWwueixyLmQpfWlmKHQuY2xpcFBsYW5lMyl7dmFyIHI9dC5jbGlwUGxhbmUzO2Uuc2V0RmxvYXQ0KCJ2Q2xpcFBsYW5lMyIsci5ub3JtYWwueCxyLm5vcm1hbC55LHIubm9ybWFsLnosci5kKX1pZih0LmNsaXBQbGFuZTQpe3ZhciByPXQuY2xpcFBsYW5lNDtlLnNldEZsb2F0NCgidkNsaXBQbGFuZTQiLHIubm9ybWFsLngsci5ub3JtYWwueSxyLm5vcm1hbC56LHIuZCl9aWYodC5jbGlwUGxhbmU1KXt2YXIgcj10LmNsaXBQbGFuZTU7ZS5zZXRGbG9hdDQoInZDbGlwUGxhbmU1IixyLm5vcm1hbC54LHIubm9ybWFsLnksci5ub3JtYWwueixyLmQpfWlmKHQuY2xpcFBsYW5lNil7dmFyIHI9dC5jbGlwUGxhbmU2O2Uuc2V0RmxvYXQ0KCJ2Q2xpcFBsYW5lNiIsci5ub3JtYWwueCxyLm5vcm1hbC55LHIubm9ybWFsLnosci5kKX19LGl9KCksWT1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoKXt9cmV0dXJuIGkuQmluZFNjZW5lVW5pZm9ybUJ1ZmZlcj1mdW5jdGlvbihlLHQpe3QuYmluZFRvRWZmZWN0KGUsIlNjZW5lIil9LGkuUHJlcGFyZURlZmluZXNGb3JNZXJnZWRVVj1mdW5jdGlvbihlLHQscil7dC5fbmVlZFVWcz0hMCx0W3JdPSEwLGUuZ2V0VGV4dHVyZU1hdHJpeCgpLmlzSWRlbnRpdHlBczN4MigpPyh0W3IrIkRJUkVDVFVWIl09ZS5jb29yZGluYXRlc0luZGV4KzEsdFsiTUFJTlVWIisoZS5jb29yZGluYXRlc0luZGV4KzEpXT0hMCk6dFtyKyJESVJFQ1RVViJdPTB9LGkuQmluZFRleHR1cmVNYXRyaXg9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUuZ2V0VGV4dHVyZU1hdHJpeCgpO3QudXBkYXRlTWF0cml4KHIrIk1hdHJpeCIsbil9LGkuR2V0Rm9nU3RhdGU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC5mb2dFbmFibGVkJiZlLmFwcGx5Rm9nJiZ0LmZvZ01vZGUhPT1yZS5GT0dNT0RFX05PTkV9LGkuUHJlcGFyZURlZmluZXNGb3JNaXNjPWZ1bmN0aW9uKGUsdCxyLG4sYSxzLG8pe28uX2FyZU1pc2NEaXJ0eSYmKG8uTE9HQVJJVEhNSUNERVBUSD1yLG8uUE9JTlRTSVpFPW4sby5GT0c9YSYmdGhpcy5HZXRGb2dTdGF0ZShlLHQpLG8uTk9OVU5JRk9STVNDQUxJTkc9ZS5ub25Vbmlmb3JtU2NhbGluZyxvLkFMUEhBVEVTVD1zKX0saS5QcmVwYXJlRGVmaW5lc0ZvckZyYW1lQm91bmRWYWx1ZXM9ZnVuY3Rpb24oZSx0LHIsbixhLHMpe2E9PT12b2lkIDAmJihhPW51bGwpLHM9PT12b2lkIDAmJihzPSExKTt2YXIgbz0hMSx1PSExLGY9ITEsbD0hMSxoPSExLGM9ITEsZD0hMTt1PWE9PW51bGw/ZS5jbGlwUGxhbmUhPT12b2lkIDAmJmUuY2xpcFBsYW5lIT09bnVsbDphLGY9YT09bnVsbD9lLmNsaXBQbGFuZTIhPT12b2lkIDAmJmUuY2xpcFBsYW5lMiE9PW51bGw6YSxsPWE9PW51bGw/ZS5jbGlwUGxhbmUzIT09dm9pZCAwJiZlLmNsaXBQbGFuZTMhPT1udWxsOmEsaD1hPT1udWxsP2UuY2xpcFBsYW5lNCE9PXZvaWQgMCYmZS5jbGlwUGxhbmU0IT09bnVsbDphLGM9YT09bnVsbD9lLmNsaXBQbGFuZTUhPT12b2lkIDAmJmUuY2xpcFBsYW5lNSE9PW51bGw6YSxkPWE9PW51bGw/ZS5jbGlwUGxhbmU2IT09dm9pZCAwJiZlLmNsaXBQbGFuZTYhPT1udWxsOmEsci5DTElQUExBTkUhPT11JiYoci5DTElQUExBTkU9dSxvPSEwKSxyLkNMSVBQTEFORTIhPT1mJiYoci5DTElQUExBTkUyPWYsbz0hMCksci5DTElQUExBTkUzIT09bCYmKHIuQ0xJUFBMQU5FMz1sLG89ITApLHIuQ0xJUFBMQU5FNCE9PWgmJihyLkNMSVBQTEFORTQ9aCxvPSEwKSxyLkNMSVBQTEFORTUhPT1jJiYoci5DTElQUExBTkU1PWMsbz0hMCksci5DTElQUExBTkU2IT09ZCYmKHIuQ0xJUFBMQU5FNj1kLG89ITApLHIuREVQVEhQUkVQQVNTIT09IXQuZ2V0Q29sb3JXcml0ZSgpJiYoci5ERVBUSFBSRVBBU1M9IXIuREVQVEhQUkVQQVNTLG89ITApLHIuSU5TVEFOQ0VTIT09biYmKHIuSU5TVEFOQ0VTPW4sbz0hMCksci5JTlNUQU5DRVNDT0xPUiYmIXIuSU5TVEFOQ0VTJiYoci5JTlNUQU5DRVNDT0xPUj0hMSxvPSEwKSxyLlRISU5fSU5TVEFOQ0VTIT09cyYmKHIuVEhJTl9JTlNUQU5DRVM9cyxvPSEwKSxvJiZyLm1hcmtBc1VucHJvY2Vzc2VkKCl9LGkuUHJlcGFyZURlZmluZXNGb3JCb25lcz1mdW5jdGlvbihlLHQpe2lmKGUudXNlQm9uZXMmJmUuY29tcHV0ZUJvbmVzVXNpbmdTaGFkZXJzJiZlLnNrZWxldG9uKXt0Lk5VTV9CT05FX0lORkxVRU5DRVJTPWUubnVtQm9uZUluZmx1ZW5jZXJzO3ZhciByPXQuQk9ORVRFWFRVUkUhPT12b2lkIDA7aWYoZS5za2VsZXRvbi5pc1VzaW5nVGV4dHVyZUZvck1hdHJpY2VzJiZyKXQuQk9ORVRFWFRVUkU9ITA7ZWxzZXt0LkJvbmVzUGVyTWVzaD1lLnNrZWxldG9uLmJvbmVzLmxlbmd0aCsxLHQuQk9ORVRFWFRVUkU9cj8hMTp2b2lkIDA7dmFyIG49ZS5nZXRTY2VuZSgpLnByZVBhc3NSZW5kZXJlcjtpZihuJiZuLmVuYWJsZWQpe3ZhciBhPW4uZXhjbHVkZWRTa2lubmVkTWVzaC5pbmRleE9mKGUpPT09LTE7dC5CT05FU19WRUxPQ0lUWV9FTkFCTEVEPWF9fX1lbHNlIHQuTlVNX0JPTkVfSU5GTFVFTkNFUlM9MCx0LkJvbmVzUGVyTWVzaD0wfSxpLlByZXBhcmVEZWZpbmVzRm9yTW9ycGhUYXJnZXRzPWZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS5tb3JwaFRhcmdldE1hbmFnZXI7cj8odC5NT1JQSFRBUkdFVFNfVVY9ci5zdXBwb3J0c1VWcyYmdC5VVjEsdC5NT1JQSFRBUkdFVFNfVEFOR0VOVD1yLnN1cHBvcnRzVGFuZ2VudHMmJnQuVEFOR0VOVCx0Lk1PUlBIVEFSR0VUU19OT1JNQUw9ci5zdXBwb3J0c05vcm1hbHMmJnQuTk9STUFMLHQuTU9SUEhUQVJHRVRTPXIubnVtSW5mbHVlbmNlcnM+MCx0Lk5VTV9NT1JQSF9JTkZMVUVOQ0VSUz1yLm51bUluZmx1ZW5jZXJzLHQuTU9SUEhUQVJHRVRTX1RFWFRVUkU9ci5pc1VzaW5nVGV4dHVyZUZvclRhcmdldHMpOih0Lk1PUlBIVEFSR0VUU19VVj0hMSx0Lk1PUlBIVEFSR0VUU19UQU5HRU5UPSExLHQuTU9SUEhUQVJHRVRTX05PUk1BTD0hMSx0Lk1PUlBIVEFSR0VUUz0hMSx0Lk5VTV9NT1JQSF9JTkZMVUVOQ0VSUz0wKX0saS5QcmVwYXJlRGVmaW5lc0ZvckJha2VkVmVydGV4QW5pbWF0aW9uPWZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS5iYWtlZFZlcnRleEFuaW1hdGlvbk1hbmFnZXI7dC5CQUtFRF9WRVJURVhfQU5JTUFUSU9OX1RFWFRVUkU9ISEociYmci5pc0VuYWJsZWQpfSxpLlByZXBhcmVEZWZpbmVzRm9yQXR0cmlidXRlcz1mdW5jdGlvbihlLHQscixuLGEscyxvKXtpZihhPT09dm9pZCAwJiYoYT0hMSkscz09PXZvaWQgMCYmKHM9ITApLG89PT12b2lkIDAmJihvPSEwKSwhdC5fYXJlQXR0cmlidXRlc0RpcnR5JiZ0Ll9uZWVkTm9ybWFscz09PXQuX25vcm1hbHMmJnQuX25lZWRVVnM9PT10Ll91dnMpcmV0dXJuITE7dC5fbm9ybWFscz10Ll9uZWVkTm9ybWFscyx0Ll91dnM9dC5fbmVlZFVWcyx0Lk5PUk1BTD10Ll9uZWVkTm9ybWFscyYmZS5pc1ZlcnRpY2VzRGF0YVByZXNlbnQobS5Ob3JtYWxLaW5kKSx0Ll9uZWVkTm9ybWFscyYmZS5pc1ZlcnRpY2VzRGF0YVByZXNlbnQobS5UYW5nZW50S2luZCkmJih0LlRBTkdFTlQ9ITApO2Zvcih2YXIgdT0xO3U8PTY7Kyt1KXRbIlVWIit1XT10Ll9uZWVkVVZzP2UuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KCJ1diIuY29uY2F0KHU9PT0xPyIiOnUpKTohMTtpZihyKXt2YXIgZj1lLnVzZVZlcnRleENvbG9ycyYmZS5pc1ZlcnRpY2VzRGF0YVByZXNlbnQobS5Db2xvcktpbmQpO3QuVkVSVEVYQ09MT1I9Zix0LlZFUlRFWEFMUEhBPWUuaGFzVmVydGV4QWxwaGEmJmYmJnN9cmV0dXJuIGUuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KG0uQ29sb3JJbnN0YW5jZUtpbmQpJiYoZS5oYXNJbnN0YW5jZXN8fGUuaGFzVGhpbkluc3RhbmNlcykmJih0LklOU1RBTkNFU0NPTE9SPSEwKSxuJiZ0aGlzLlByZXBhcmVEZWZpbmVzRm9yQm9uZXMoZSx0KSxhJiZ0aGlzLlByZXBhcmVEZWZpbmVzRm9yTW9ycGhUYXJnZXRzKGUsdCksbyYmdGhpcy5QcmVwYXJlRGVmaW5lc0ZvckJha2VkVmVydGV4QW5pbWF0aW9uKGUsdCksITB9LGkuUHJlcGFyZURlZmluZXNGb3JNdWx0aXZpZXc9ZnVuY3Rpb24oZSx0KXtpZihlLmFjdGl2ZUNhbWVyYSl7dmFyIHI9dC5NVUxUSVZJRVc7dC5NVUxUSVZJRVc9ZS5hY3RpdmVDYW1lcmEub3V0cHV0UmVuZGVyVGFyZ2V0IT09bnVsbCYmZS5hY3RpdmVDYW1lcmEub3V0cHV0UmVuZGVyVGFyZ2V0LmdldFZpZXdDb3VudCgpPjEsdC5NVUxUSVZJRVchPXImJnQubWFya0FzVW5wcm9jZXNzZWQoKX19LGkuUHJlcGFyZURlZmluZXNGb3JPSVQ9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXQuT1JERVJfSU5ERVBFTkRFTlRfVFJBTlNQQVJFTkNZLGE9dC5PUkRFUl9JTkRFUEVOREVOVF9UUkFOU1BBUkVOQ1lfMTZCSVRTO3QuT1JERVJfSU5ERVBFTkRFTlRfVFJBTlNQQVJFTkNZPWUudXNlT3JkZXJJbmRlcGVuZGVudFRyYW5zcGFyZW5jeSYmcix0Lk9SREVSX0lOREVQRU5ERU5UX1RSQU5TUEFSRU5DWV8xNkJJVFM9IWUuZ2V0RW5naW5lKCkuZ2V0Q2FwcygpLnRleHR1cmVGbG9hdExpbmVhckZpbHRlcmluZywobiE9PXQuT1JERVJfSU5ERVBFTkRFTlRfVFJBTlNQQVJFTkNZfHxhIT09dC5PUkRFUl9JTkRFUEVOREVOVF9UUkFOU1BBUkVOQ1lfMTZCSVRTKSYmdC5tYXJrQXNVbnByb2Nlc3NlZCgpfSxpLlByZXBhcmVEZWZpbmVzRm9yUHJlUGFzcz1mdW5jdGlvbihlLHQscil7dmFyIG49dC5QUkVQQVNTO2lmKCEhdC5fYXJlUHJlUGFzc0RpcnR5KXt2YXIgYT1be3R5cGU6MSxkZWZpbmU6IlBSRVBBU1NfUE9TSVRJT04iLGluZGV4OiJQUkVQQVNTX1BPU0lUSU9OX0lOREVYIn0se3R5cGU6MixkZWZpbmU6IlBSRVBBU1NfVkVMT0NJVFkiLGluZGV4OiJQUkVQQVNTX1ZFTE9DSVRZX0lOREVYIn0se3R5cGU6MyxkZWZpbmU6IlBSRVBBU1NfUkVGTEVDVElWSVRZIixpbmRleDoiUFJFUEFTU19SRUZMRUNUSVZJVFlfSU5ERVgifSx7dHlwZTowLGRlZmluZToiUFJFUEFTU19JUlJBRElBTkNFIixpbmRleDoiUFJFUEFTU19JUlJBRElBTkNFX0lOREVYIn0se3R5cGU6NyxkZWZpbmU6IlBSRVBBU1NfQUxCRURPX1NRUlQiLGluZGV4OiJQUkVQQVNTX0FMQkVET19TUVJUX0lOREVYIn0se3R5cGU6NSxkZWZpbmU6IlBSRVBBU1NfREVQVEgiLGluZGV4OiJQUkVQQVNTX0RFUFRIX0lOREVYIn0se3R5cGU6NixkZWZpbmU6IlBSRVBBU1NfTk9STUFMIixpbmRleDoiUFJFUEFTU19OT1JNQUxfSU5ERVgifV07aWYoZS5wcmVQYXNzUmVuZGVyZXImJmUucHJlUGFzc1JlbmRlcmVyLmVuYWJsZWQmJnIpe3QuUFJFUEFTUz0hMCx0LlNDRU5FX01SVF9DT1VOVD1lLnByZVBhc3NSZW5kZXJlci5tcnRDb3VudDtmb3IodmFyIHM9MDtzPGEubGVuZ3RoO3MrKyl7dmFyIG89ZS5wcmVQYXNzUmVuZGVyZXIuZ2V0SW5kZXgoYVtzXS50eXBlKTtvIT09LTE/KHRbYVtzXS5kZWZpbmVdPSEwLHRbYVtzXS5pbmRleF09byk6dFthW3NdLmRlZmluZV09ITF9fWVsc2V7dC5QUkVQQVNTPSExO2Zvcih2YXIgcz0wO3M8YS5sZW5ndGg7cysrKXRbYVtzXS5kZWZpbmVdPSExfXQuUFJFUEFTUyE9biYmKHQubWFya0FzVW5wcm9jZXNzZWQoKSx0Lm1hcmtBc0ltYWdlUHJvY2Vzc2luZ0RpcnR5KCkpfX0saS5QcmVwYXJlRGVmaW5lc0ZvckxpZ2h0PWZ1bmN0aW9uKGUsdCxyLG4sYSxzLG8pe3N3aXRjaChvLm5lZWROb3JtYWxzPSEwLGFbIkxJR0hUIituXT09PXZvaWQgMCYmKG8ubmVlZFJlYnVpbGQ9ITApLGFbIkxJR0hUIituXT0hMCxhWyJTUE9UTElHSFQiK25dPSExLGFbIkhFTUlMSUdIVCIrbl09ITEsYVsiUE9JTlRMSUdIVCIrbl09ITEsYVsiRElSTElHSFQiK25dPSExLHIucHJlcGFyZUxpZ2h0U3BlY2lmaWNEZWZpbmVzKGEsbiksYVsiTElHSFRfRkFMTE9GRl9QSFlTSUNBTCIrbl09ITEsYVsiTElHSFRfRkFMTE9GRl9HTFRGIituXT0hMSxhWyJMSUdIVF9GQUxMT0ZGX1NUQU5EQVJEIituXT0hMSxyLmZhbGxvZmZUeXBlKXtjYXNlIGV0LkZBTExPRkZfR0xURjphWyJMSUdIVF9GQUxMT0ZGX0dMVEYiK25dPSEwO2JyZWFrO2Nhc2UgZXQuRkFMTE9GRl9QSFlTSUNBTDphWyJMSUdIVF9GQUxMT0ZGX1BIWVNJQ0FMIituXT0hMDticmVhaztjYXNlIGV0LkZBTExPRkZfU1RBTkRBUkQ6YVsiTElHSFRfRkFMTE9GRl9TVEFOREFSRCIrbl09ITA7YnJlYWt9aWYocyYmIXIuc3BlY3VsYXIuZXF1YWxzRmxvYXRzKDAsMCwwKSYmKG8uc3BlY3VsYXJFbmFibGVkPSEwKSxhWyJTSEFET1ciK25dPSExLGFbIlNIQURPV0NTTSIrbl09ITEsYVsiU0hBRE9XQ1NNREVCVUciK25dPSExLGFbIlNIQURPV0NTTU5VTV9DQVNDQURFUyIrbl09ITEsYVsiU0hBRE9XQ1NNVVNFU0hBRE9XTUFYWiIrbl09ITEsYVsiU0hBRE9XQ1NNTk9CTEVORCIrbl09ITEsYVsiU0hBRE9XQ1NNX1JJR0hUSEFOREVEIituXT0hMSxhWyJTSEFET1dQQ0YiK25dPSExLGFbIlNIQURPV1BDU1MiK25dPSExLGFbIlNIQURPV1BPSVNTT04iK25dPSExLGFbIlNIQURPV0VTTSIrbl09ITEsYVsiU0hBRE9XQ0xPU0VFU00iK25dPSExLGFbIlNIQURPV0NVQkUiK25dPSExLGFbIlNIQURPV0xPV1FVQUxJVFkiK25dPSExLGFbIlNIQURPV01FRElVTVFVQUxJVFkiK25dPSExLHQmJnQucmVjZWl2ZVNoYWRvd3MmJmUuc2hhZG93c0VuYWJsZWQmJnIuc2hhZG93RW5hYmxlZCl7dmFyIHU9ci5nZXRTaGFkb3dHZW5lcmF0b3IoKTtpZih1KXt2YXIgZj11LmdldFNoYWRvd01hcCgpO2YmJmYucmVuZGVyTGlzdCYmZi5yZW5kZXJMaXN0Lmxlbmd0aD4wJiYoby5zaGFkb3dFbmFibGVkPSEwLHUucHJlcGFyZURlZmluZXMoYSxuKSl9fXIubGlnaHRtYXBNb2RlIT1ldC5MSUdIVE1BUF9ERUZBVUxUPyhvLmxpZ2h0bWFwTW9kZT0hMCxhWyJMSUdIVE1BUEVYQ0xVREVEIituXT0hMCxhWyJMSUdIVE1BUE5PU1BFQ1VMQVIiK25dPXIubGlnaHRtYXBNb2RlPT1ldC5MSUdIVE1BUF9TSEFET1dTT05MWSk6KGFbIkxJR0hUTUFQRVhDTFVERUQiK25dPSExLGFbIkxJR0hUTUFQTk9TUEVDVUxBUiIrbl09ITEpfSxpLlByZXBhcmVEZWZpbmVzRm9yTGlnaHRzPWZ1bmN0aW9uKGUsdCxyLG4sYSxzKXtpZihhPT09dm9pZCAwJiYoYT00KSxzPT09dm9pZCAwJiYocz0hMSksIXIuX2FyZUxpZ2h0c0RpcnR5KXJldHVybiByLl9uZWVkTm9ybWFsczt2YXIgbz0wLHU9e25lZWROb3JtYWxzOiExLG5lZWRSZWJ1aWxkOiExLGxpZ2h0bWFwTW9kZTohMSxzaGFkb3dFbmFibGVkOiExLHNwZWN1bGFyRW5hYmxlZDohMX07aWYoZS5saWdodHNFbmFibGVkJiYhcylmb3IodmFyIGY9MCxsPXQubGlnaHRTb3VyY2VzO2Y8bC5sZW5ndGg7ZisrKXt2YXIgaD1sW2ZdO2lmKHRoaXMuUHJlcGFyZURlZmluZXNGb3JMaWdodChlLHQsaCxvLHIsbix1KSxvKyssbz09PWEpYnJlYWt9ci5TUEVDVUxBUlRFUk09dS5zcGVjdWxhckVuYWJsZWQsci5TSEFET1dTPXUuc2hhZG93RW5hYmxlZDtmb3IodmFyIGM9bztjPGE7YysrKXJbIkxJR0hUIitjXSE9PXZvaWQgMCYmKHJbIkxJR0hUIitjXT0hMSxyWyJIRU1JTElHSFQiK2NdPSExLHJbIlBPSU5UTElHSFQiK2NdPSExLHJbIkRJUkxJR0hUIitjXT0hMSxyWyJTUE9UTElHSFQiK2NdPSExLHJbIlNIQURPVyIrY109ITEsclsiU0hBRE9XQ1NNIitjXT0hMSxyWyJTSEFET1dDU01ERUJVRyIrY109ITEsclsiU0hBRE9XQ1NNTlVNX0NBU0NBREVTIitjXT0hMSxyWyJTSEFET1dDU01VU0VTSEFET1dNQVhaIitjXT0hMSxyWyJTSEFET1dDU01OT0JMRU5EIitjXT0hMSxyWyJTSEFET1dDU01fUklHSFRIQU5ERUQiK2NdPSExLHJbIlNIQURPV1BDRiIrY109ITEsclsiU0hBRE9XUENTUyIrY109ITEsclsiU0hBRE9XUE9JU1NPTiIrY109ITEsclsiU0hBRE9XRVNNIitjXT0hMSxyWyJTSEFET1dDTE9TRUVTTSIrY109ITEsclsiU0hBRE9XQ1VCRSIrY109ITEsclsiU0hBRE9XTE9XUVVBTElUWSIrY109ITEsclsiU0hBRE9XTUVESVVNUVVBTElUWSIrY109ITEpO3ZhciBkPWUuZ2V0RW5naW5lKCkuZ2V0Q2FwcygpO3JldHVybiByLlNIQURPV0ZMT0FUPT09dm9pZCAwJiYodS5uZWVkUmVidWlsZD0hMCksci5TSEFET1dGTE9BVD11LnNoYWRvd0VuYWJsZWQmJihkLnRleHR1cmVGbG9hdFJlbmRlciYmZC50ZXh0dXJlRmxvYXRMaW5lYXJGaWx0ZXJpbmd8fGQudGV4dHVyZUhhbGZGbG9hdFJlbmRlciYmZC50ZXh0dXJlSGFsZkZsb2F0TGluZWFyRmlsdGVyaW5nKSxyLkxJR0hUTUFQRVhDTFVERUQ9dS5saWdodG1hcE1vZGUsdS5uZWVkUmVidWlsZCYmci5yZWJ1aWxkKCksdS5uZWVkTm9ybWFsc30saS5QcmVwYXJlVW5pZm9ybXNBbmRTYW1wbGVyc0ZvckxpZ2h0PWZ1bmN0aW9uKGUsdCxyLG4sYSxzKXthPT09dm9pZCAwJiYoYT1udWxsKSxzPT09dm9pZCAwJiYocz0hMSksYSYmYS5wdXNoKCJMaWdodCIrZSksIXMmJih0LnB1c2goInZMaWdodERhdGEiK2UsInZMaWdodERpZmZ1c2UiK2UsInZMaWdodFNwZWN1bGFyIitlLCJ2TGlnaHREaXJlY3Rpb24iK2UsInZMaWdodEZhbGxvZmYiK2UsInZMaWdodEdyb3VuZCIrZSwibGlnaHRNYXRyaXgiK2UsInNoYWRvd3NJbmZvIitlLCJkZXB0aFZhbHVlcyIrZSksci5wdXNoKCJzaGFkb3dTYW1wbGVyIitlKSxyLnB1c2goImRlcHRoU2FtcGxlciIrZSksdC5wdXNoKCJ2aWV3RnJ1c3R1bVoiK2UsImNhc2NhZGVCbGVuZEZhY3RvciIrZSwibGlnaHRTaXplVVZDb3JyZWN0aW9uIitlLCJkZXB0aENvcnJlY3Rpb24iK2UsInBlbnVtYnJhRGFya25lc3MiK2UsImZydXN0dW1MZW5ndGhzIitlKSxuJiYoci5wdXNoKCJwcm9qZWN0aW9uTGlnaHRTYW1wbGVyIitlKSx0LnB1c2goInRleHR1cmVQcm9qZWN0aW9uTWF0cml4IitlKSkpfSxpLlByZXBhcmVVbmlmb3Jtc0FuZFNhbXBsZXJzTGlzdD1mdW5jdGlvbihlLHQscixuKXtuPT09dm9pZCAwJiYobj00KTt2YXIgYSxzPW51bGw7aWYoZS51bmlmb3Jtc05hbWVzKXt2YXIgbz1lO2E9by51bmlmb3Jtc05hbWVzLHM9by51bmlmb3JtQnVmZmVyc05hbWVzLHQ9by5zYW1wbGVycyxyPW8uZGVmaW5lcyxuPW8ubWF4U2ltdWx0YW5lb3VzTGlnaHRzfHwwfWVsc2UgYT1lLHR8fCh0PVtdKTtmb3IodmFyIHU9MDt1PG4mJnJbIkxJR0hUIit1XTt1KyspdGhpcy5QcmVwYXJlVW5pZm9ybXNBbmRTYW1wbGVyc0ZvckxpZ2h0KHUsYSx0LHJbIlBST0pFQ1RFRExJR0hUVEVYVFVSRSIrdV0scyk7ci5OVU1fTU9SUEhfSU5GTFVFTkNFUlMmJmEucHVzaCgibW9ycGhUYXJnZXRJbmZsdWVuY2VzIiksci5CQUtFRF9WRVJURVhfQU5JTUFUSU9OX1RFWFRVUkUmJihhLnB1c2goImJha2VkVmVydGV4QW5pbWF0aW9uU2V0dGluZ3MiKSxhLnB1c2goImJha2VkVmVydGV4QW5pbWF0aW9uVGV4dHVyZVNpemVJbnZlcnRlZCIpLGEucHVzaCgiYmFrZWRWZXJ0ZXhBbmltYXRpb25UaW1lIiksdC5wdXNoKCJiYWtlZFZlcnRleEFuaW1hdGlvblRleHR1cmUiKSl9LGkuSGFuZGxlRmFsbGJhY2tzRm9yU2hhZG93cz1mdW5jdGlvbihlLHQscixuKXtyPT09dm9pZCAwJiYocj00KSxuPT09dm9pZCAwJiYobj0wKTtmb3IodmFyIGE9MCxzPTA7czxyJiZlWyJMSUdIVCIrc107cysrKXM+MCYmKGE9bitzLHQuYWRkRmFsbGJhY2soYSwiTElHSFQiK3MpKSxlLlNIQURPV1N8fChlWyJTSEFET1ciK3NdJiZ0LmFkZEZhbGxiYWNrKG4sIlNIQURPVyIrcyksZVsiU0hBRE9XUENGIitzXSYmdC5hZGRGYWxsYmFjayhuLCJTSEFET1dQQ0YiK3MpLGVbIlNIQURPV1BDU1MiK3NdJiZ0LmFkZEZhbGxiYWNrKG4sIlNIQURPV1BDU1MiK3MpLGVbIlNIQURPV1BPSVNTT04iK3NdJiZ0LmFkZEZhbGxiYWNrKG4sIlNIQURPV1BPSVNTT04iK3MpLGVbIlNIQURPV0VTTSIrc10mJnQuYWRkRmFsbGJhY2sobiwiU0hBRE9XRVNNIitzKSxlWyJTSEFET1dDTE9TRUVTTSIrc10mJnQuYWRkRmFsbGJhY2sobiwiU0hBRE9XQ0xPU0VFU00iK3MpKTtyZXR1cm4gYSsrfSxpLlByZXBhcmVBdHRyaWJ1dGVzRm9yTW9ycGhUYXJnZXRzSW5mbHVlbmNlcnM9ZnVuY3Rpb24oZSx0LHIpe3RoaXMuX1RtcE1vcnBoSW5mbHVlbmNlcnMuTlVNX01PUlBIX0lORkxVRU5DRVJTPXIsdGhpcy5QcmVwYXJlQXR0cmlidXRlc0Zvck1vcnBoVGFyZ2V0cyhlLHQsdGhpcy5fVG1wTW9ycGhJbmZsdWVuY2Vycyl9LGkuUHJlcGFyZUF0dHJpYnV0ZXNGb3JNb3JwaFRhcmdldHM9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIuTlVNX01PUlBIX0lORkxVRU5DRVJTO2lmKG4+MCYmYWUuTGFzdENyZWF0ZWRFbmdpbmUpe3ZhciBhPWFlLkxhc3RDcmVhdGVkRW5naW5lLmdldENhcHMoKS5tYXhWZXJ0ZXhBdHRyaWJzLHM9dC5tb3JwaFRhcmdldE1hbmFnZXI7aWYocyE9bnVsbCYmcy5pc1VzaW5nVGV4dHVyZUZvclRhcmdldHMpcmV0dXJuO2Zvcih2YXIgbz1zJiZzLnN1cHBvcnRzTm9ybWFscyYmci5OT1JNQUwsdT1zJiZzLnN1cHBvcnRzVGFuZ2VudHMmJnIuVEFOR0VOVCxmPXMmJnMuc3VwcG9ydHNVVnMmJnIuVVYxLGw9MDtsPG47bCsrKWUucHVzaChtLlBvc2l0aW9uS2luZCtsKSxvJiZlLnB1c2gobS5Ob3JtYWxLaW5kK2wpLHUmJmUucHVzaChtLlRhbmdlbnRLaW5kK2wpLGYmJmUucHVzaChtLlVWS2luZCsiXyIrbCksZS5sZW5ndGg+YSYmVy5FcnJvcigiQ2Fubm90IGFkZCBtb3JlIHZlcnRleCBhdHRyaWJ1dGVzIGZvciBtZXNoICIrdC5uYW1lKX19LGkuUHJlcGFyZUF0dHJpYnV0ZXNGb3JCYWtlZFZlcnRleEFuaW1hdGlvbj1mdW5jdGlvbihlLHQscil7dmFyIG49ci5CQUtFRF9WRVJURVhfQU5JTUFUSU9OX1RFWFRVUkUmJnIuSU5TVEFOQ0VTO24mJmUucHVzaCgiYmFrZWRWZXJ0ZXhBbmltYXRpb25TZXR0aW5nc0luc3RhbmNlZCIpfSxpLlByZXBhcmVBdHRyaWJ1dGVzRm9yQm9uZXM9ZnVuY3Rpb24oZSx0LHIsbil7ci5OVU1fQk9ORV9JTkZMVUVOQ0VSUz4wJiYobi5hZGRDUFVTa2lubmluZ0ZhbGxiYWNrKDAsdCksZS5wdXNoKG0uTWF0cmljZXNJbmRpY2VzS2luZCksZS5wdXNoKG0uTWF0cmljZXNXZWlnaHRzS2luZCksci5OVU1fQk9ORV9JTkZMVUVOQ0VSUz40JiYoZS5wdXNoKG0uTWF0cmljZXNJbmRpY2VzRXh0cmFLaW5kKSxlLnB1c2gobS5NYXRyaWNlc1dlaWdodHNFeHRyYUtpbmQpKSl9LGkuUHJlcGFyZUF0dHJpYnV0ZXNGb3JJbnN0YW5jZXM9ZnVuY3Rpb24oZSx0KXsodC5JTlNUQU5DRVN8fHQuVEhJTl9JTlNUQU5DRVMpJiZ0aGlzLlB1c2hBdHRyaWJ1dGVzRm9ySW5zdGFuY2VzKGUsISF0LlBSRVBBU1NfVkVMT0NJVFkpLHQuSU5TVEFOQ0VTQ09MT1ImJmUucHVzaChtLkNvbG9ySW5zdGFuY2VLaW5kKX0saS5QdXNoQXR0cmlidXRlc0Zvckluc3RhbmNlcz1mdW5jdGlvbihlLHQpe3Q9PT12b2lkIDAmJih0PSExKSxlLnB1c2goIndvcmxkMCIpLGUucHVzaCgid29ybGQxIiksZS5wdXNoKCJ3b3JsZDIiKSxlLnB1c2goIndvcmxkMyIpLHQmJihlLnB1c2goInByZXZpb3VzV29ybGQwIiksZS5wdXNoKCJwcmV2aW91c1dvcmxkMSIpLGUucHVzaCgicHJldmlvdXNXb3JsZDIiKSxlLnB1c2goInByZXZpb3VzV29ybGQzIikpfSxpLkJpbmRMaWdodFByb3BlcnRpZXM9ZnVuY3Rpb24oZSx0LHIpe2UudHJhbnNmZXJUb0VmZmVjdCh0LHIrIiIpfSxpLkJpbmRMaWdodD1mdW5jdGlvbihlLHQscixuLGEscyl7cz09PXZvaWQgMCYmKHM9ITApLGUuX2JpbmRMaWdodCh0LHIsbixhLHMpfSxpLkJpbmRMaWdodHM9ZnVuY3Rpb24oZSx0LHIsbixhKXthPT09dm9pZCAwJiYoYT00KTtmb3IodmFyIHM9TWF0aC5taW4odC5saWdodFNvdXJjZXMubGVuZ3RoLGEpLG89MDtvPHM7bysrKXt2YXIgdT10LmxpZ2h0U291cmNlc1tvXTt0aGlzLkJpbmRMaWdodCh1LG8sZSxyLHR5cGVvZiBuPT0iYm9vbGVhbiI/bjpuLlNQRUNVTEFSVEVSTSx0LnJlY2VpdmVTaGFkb3dzKX19LGkuQmluZEZvZ1BhcmFtZXRlcnM9ZnVuY3Rpb24oZSx0LHIsbil7bj09PXZvaWQgMCYmKG49ITEpLGUuZm9nRW5hYmxlZCYmdC5hcHBseUZvZyYmZS5mb2dNb2RlIT09cmUuRk9HTU9ERV9OT05FJiYoci5zZXRGbG9hdDQoInZGb2dJbmZvcyIsZS5mb2dNb2RlLGUuZm9nU3RhcnQsZS5mb2dFbmQsZS5mb2dEZW5zaXR5KSxuPyhlLmZvZ0NvbG9yLnRvTGluZWFyU3BhY2VUb1JlZih0aGlzLl9UZW1wRm9nQ29sb3IpLHIuc2V0Q29sb3IzKCJ2Rm9nQ29sb3IiLHRoaXMuX1RlbXBGb2dDb2xvcikpOnIuc2V0Q29sb3IzKCJ2Rm9nQ29sb3IiLGUuZm9nQ29sb3IpKX0saS5CaW5kQm9uZXNQYXJhbWV0ZXJzPWZ1bmN0aW9uKGUsdCxyKXtpZighKCF0fHwhZSkmJihlLmNvbXB1dGVCb25lc1VzaW5nU2hhZGVycyYmdC5fYm9uZXNDb21wdXRhdGlvbkZvcmNlZFRvQ1BVJiYoZS5jb21wdXRlQm9uZXNVc2luZ1NoYWRlcnM9ITEpLGUudXNlQm9uZXMmJmUuY29tcHV0ZUJvbmVzVXNpbmdTaGFkZXJzJiZlLnNrZWxldG9uKSl7dmFyIG49ZS5za2VsZXRvbjtpZihuLmlzVXNpbmdUZXh0dXJlRm9yTWF0cmljZXMmJnQuZ2V0VW5pZm9ybUluZGV4KCJib25lVGV4dHVyZVdpZHRoIik+LTEpe3ZhciBhPW4uZ2V0VHJhbnNmb3JtTWF0cml4VGV4dHVyZShlKTt0LnNldFRleHR1cmUoImJvbmVTYW1wbGVyIixhKSx0LnNldEZsb2F0KCJib25lVGV4dHVyZVdpZHRoIiw0KihuLmJvbmVzLmxlbmd0aCsxKSl9ZWxzZXt2YXIgcz1uLmdldFRyYW5zZm9ybU1hdHJpY2VzKGUpO3MmJih0LnNldE1hdHJpY2VzKCJtQm9uZXMiLHMpLHImJmUuZ2V0U2NlbmUoKS5wcmVQYXNzUmVuZGVyZXImJmUuZ2V0U2NlbmUoKS5wcmVQYXNzUmVuZGVyZXIuZ2V0SW5kZXgoMikmJihyLnByZXZpb3VzQm9uZXNbZS51bmlxdWVJZF18fChyLnByZXZpb3VzQm9uZXNbZS51bmlxdWVJZF09cy5zbGljZSgpKSx0LnNldE1hdHJpY2VzKCJtUHJldmlvdXNCb25lcyIsci5wcmV2aW91c0JvbmVzW2UudW5pcXVlSWRdKSxpLl9Db3B5Qm9uZXNUcmFuc2Zvcm1hdGlvbk1hdHJpY2VzKHMsci5wcmV2aW91c0JvbmVzW2UudW5pcXVlSWRdKSkpfX19LGkuX0NvcHlCb25lc1RyYW5zZm9ybWF0aW9uTWF0cmljZXM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC5zZXQoZSksdH0saS5CaW5kTW9ycGhUYXJnZXRQYXJhbWV0ZXJzPWZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS5tb3JwaFRhcmdldE1hbmFnZXI7IWV8fCFyfHx0LnNldEZsb2F0QXJyYXkoIm1vcnBoVGFyZ2V0SW5mbHVlbmNlcyIsci5pbmZsdWVuY2VzKX0saS5CaW5kTG9nRGVwdGg9ZnVuY3Rpb24oZSx0LHIpe2lmKCFlfHxlLkxPR0FSSVRITUlDREVQVEgpe3ZhciBuPXIuYWN0aXZlQ2FtZXJhO24ubW9kZT09PU9lLk9SVEhPR1JBUEhJQ19DQU1FUkEmJlcuRXJyb3IoIkxvZ2FyaXRobWljIGRlcHRoIGlzIG5vdCBjb21wYXRpYmxlIHdpdGggb3J0aG9ncmFwaGljIGNhbWVyYXMhIiwyMCksdC5zZXRGbG9hdCgibG9nYXJpdGhtaWNEZXB0aENvbnN0YW50IiwyLyhNYXRoLmxvZyhuLm1heForMSkvTWF0aC5MTjIpKX19LGkuQmluZENsaXBQbGFuZT1mdW5jdGlvbihlLHQpe0RhLkJpbmRDbGlwUGxhbmUoZSx0KX0saS5fVG1wTW9ycGhJbmZsdWVuY2Vycz17TlVNX01PUlBIX0lORkxVRU5DRVJTOjB9LGkuX1RlbXBGb2dDb2xvcj1iZS5CbGFjaygpLGl9KCksSWE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKCl7dGhpcy5yZXNldCgpfXJldHVybiBpLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3RoaXMuZW5hYmxlZD0hMSx0aGlzLm1hc2s9MjU1LHRoaXMuZnVuYz01MTksdGhpcy5mdW5jUmVmPTEsdGhpcy5mdW5jTWFzaz0yNTUsdGhpcy5vcFN0ZW5jaWxGYWlsPTc2ODAsdGhpcy5vcERlcHRoRmFpbD03NjgwLHRoaXMub3BTdGVuY2lsRGVwdGhQYXNzPTc2ODF9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiZnVuYyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9mdW5jfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fZnVuYz1lfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiZnVuY1JlZiIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9mdW5jUmVmfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fZnVuY1JlZj1lfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiZnVuY01hc2siLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZnVuY01hc2t9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9mdW5jTWFzaz1lfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwib3BTdGVuY2lsRmFpbCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vcFN0ZW5jaWxGYWlsfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fb3BTdGVuY2lsRmFpbD1lfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwib3BEZXB0aEZhaWwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb3BEZXB0aEZhaWx9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9vcERlcHRoRmFpbD1lfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwib3BTdGVuY2lsRGVwdGhQYXNzIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29wU3RlbmNpbERlcHRoUGFzc30sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX29wU3RlbmNpbERlcHRoUGFzcz1lfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwibWFzayIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9tYXNrfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fbWFzaz1lfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiZW5hYmxlZCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9lbmFibGVkfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fZW5hYmxlZD1lfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkucHJvdG90eXBlLmdldENsYXNzTmFtZT1mdW5jdGlvbigpe3JldHVybiJNYXRlcmlhbFN0ZW5jaWxTdGF0ZSJ9LGkucHJvdG90eXBlLmNvcHlUbz1mdW5jdGlvbihlKXt0ZS5DbG9uZShmdW5jdGlvbigpe3JldHVybiBlfSx0aGlzKX0saS5wcm90b3R5cGUuc2VyaWFsaXplPWZ1bmN0aW9uKCl7cmV0dXJuIHRlLlNlcmlhbGl6ZSh0aGlzKX0saS5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXRoaXM7dGUuUGFyc2UoZnVuY3Rpb24oKXtyZXR1cm4gbn0sZSx0LHIpfSxUKFtQKCldLGkucHJvdG90eXBlLCJmdW5jIixudWxsKSxUKFtQKCldLGkucHJvdG90eXBlLCJmdW5jUmVmIixudWxsKSxUKFtQKCldLGkucHJvdG90eXBlLCJmdW5jTWFzayIsbnVsbCksVChbUCgpXSxpLnByb3RvdHlwZSwib3BTdGVuY2lsRmFpbCIsbnVsbCksVChbUCgpXSxpLnByb3RvdHlwZSwib3BEZXB0aEZhaWwiLG51bGwpLFQoW1AoKV0saS5wcm90b3R5cGUsIm9wU3RlbmNpbERlcHRoUGFzcyIsbnVsbCksVChbUCgpXSxpLnByb3RvdHlwZSwibWFzayIsbnVsbCksVChbUCgpXSxpLnByb3RvdHlwZSwiZW5hYmxlZCIsbnVsbCksaX0oKSxEZTsoZnVuY3Rpb24oaSl7aVtpLkNyZWF0ZWQ9MV09IkNyZWF0ZWQiLGlbaS5EaXNwb3NlZD0yXT0iRGlzcG9zZWQiLGlbaS5HZXREZWZpbmVOYW1lcz00XT0iR2V0RGVmaW5lTmFtZXMiLGlbaS5QcmVwYXJlVW5pZm9ybUJ1ZmZlcj04XT0iUHJlcGFyZVVuaWZvcm1CdWZmZXIiLGlbaS5Jc1JlYWR5Rm9yU3ViTWVzaD0xNl09IklzUmVhZHlGb3JTdWJNZXNoIixpW2kuUHJlcGFyZURlZmluZXM9MzJdPSJQcmVwYXJlRGVmaW5lcyIsaVtpLkJpbmRGb3JTdWJNZXNoPTY0XT0iQmluZEZvclN1Yk1lc2giLGlbaS5QcmVwYXJlRWZmZWN0PTEyOF09IlByZXBhcmVFZmZlY3QiLGlbaS5HZXRBbmltYXRhYmxlcz0yNTZdPSJHZXRBbmltYXRhYmxlcyIsaVtpLkdldEFjdGl2ZVRleHR1cmVzPTUxMl09IkdldEFjdGl2ZVRleHR1cmVzIixpW2kuSGFzVGV4dHVyZT0xMDI0XT0iSGFzVGV4dHVyZSIsaVtpLkZpbGxSZW5kZXJUYXJnZXRUZXh0dXJlcz0yMDQ4XT0iRmlsbFJlbmRlclRhcmdldFRleHR1cmVzIixpW2kuSGFzUmVuZGVyVGFyZ2V0VGV4dHVyZXM9NDA5Nl09Ikhhc1JlbmRlclRhcmdldFRleHR1cmVzIixpW2kuSGFyZEJpbmRGb3JTdWJNZXNoPTgxOTJdPSJIYXJkQmluZEZvclN1Yk1lc2gifSkoRGV8fChEZT17fSkpO3ZhciBGZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoZSx0LHIpe3RoaXMuc2hhZG93RGVwdGhXcmFwcGVyPW51bGwsdGhpcy5hbGxvd1NoYWRlckhvdFN3YXBwaW5nPSEwLHRoaXMubWV0YWRhdGE9bnVsbCx0aGlzLnJlc2VydmVkRGF0YVN0b3JlPW51bGwsdGhpcy5jaGVja1JlYWR5T25FdmVyeUNhbGw9ITEsdGhpcy5jaGVja1JlYWR5T25seU9uY2U9ITEsdGhpcy5zdGF0ZT0iIix0aGlzLl9hbHBoYT0xLHRoaXMuX2JhY2tGYWNlQ3VsbGluZz0hMCx0aGlzLl9jdWxsQmFja0ZhY2VzPSEwLHRoaXMub25Db21waWxlZD1udWxsLHRoaXMub25FcnJvcj1udWxsLHRoaXMuZ2V0UmVuZGVyVGFyZ2V0VGV4dHVyZXM9bnVsbCx0aGlzLmRvTm90U2VyaWFsaXplPSExLHRoaXMuX3N0b3JlRWZmZWN0T25TdWJNZXNoZXM9ITEsdGhpcy5hbmltYXRpb25zPW51bGwsdGhpcy5vbkRpc3Bvc2VPYnNlcnZhYmxlPW5ldyBPLHRoaXMuX29uRGlzcG9zZU9ic2VydmVyPW51bGwsdGhpcy5fb25VbkJpbmRPYnNlcnZhYmxlPW51bGwsdGhpcy5fb25CaW5kT2JzZXJ2ZXI9bnVsbCx0aGlzLl9hbHBoYU1vZGU9Mix0aGlzLl9uZWVkRGVwdGhQcmVQYXNzPSExLHRoaXMuZGlzYWJsZURlcHRoV3JpdGU9ITEsdGhpcy5kaXNhYmxlQ29sb3JXcml0ZT0hMSx0aGlzLmZvcmNlRGVwdGhXcml0ZT0hMSx0aGlzLmRlcHRoRnVuY3Rpb249MCx0aGlzLnNlcGFyYXRlQ3VsbGluZ1Bhc3M9ITEsdGhpcy5fZm9nRW5hYmxlZD0hMCx0aGlzLnBvaW50U2l6ZT0xLHRoaXMuek9mZnNldD0wLHRoaXMuek9mZnNldFVuaXRzPTAsdGhpcy5zdGVuY2lsPW5ldyBJYSx0aGlzLl91c2VVQk89ITEsdGhpcy5fZmlsbE1vZGU9aS5UcmlhbmdsZUZpbGxNb2RlLHRoaXMuX2NhY2hlZERlcHRoV3JpdGVTdGF0ZT0hMSx0aGlzLl9jYWNoZWRDb2xvcldyaXRlU3RhdGU9ITEsdGhpcy5fY2FjaGVkRGVwdGhGdW5jdGlvblN0YXRlPTAsdGhpcy5faW5kZXhJblNjZW5lTWF0ZXJpYWxBcnJheT0tMSx0aGlzLm1lc2hNYXA9bnVsbCx0aGlzLl9wYXJlbnRDb250YWluZXI9bnVsbCx0aGlzLl91bmlmb3JtQnVmZmVyTGF5b3V0QnVpbHQ9ITEsdGhpcy5fZXZlbnRJbmZvPXt9LHRoaXMuX2NhbGxiYWNrUGx1Z2luRXZlbnRHZW5lcmljPWZ1bmN0aW9uKCl7fSx0aGlzLl9jYWxsYmFja1BsdWdpbkV2ZW50SXNSZWFkeUZvclN1Yk1lc2g9ZnVuY3Rpb24oKXt9LHRoaXMuX2NhbGxiYWNrUGx1Z2luRXZlbnRQcmVwYXJlRGVmaW5lcz1mdW5jdGlvbigpe30sdGhpcy5fY2FsbGJhY2tQbHVnaW5FdmVudEhhcmRCaW5kRm9yU3ViTWVzaD1mdW5jdGlvbigpe30sdGhpcy5fY2FsbGJhY2tQbHVnaW5FdmVudEJpbmRGb3JTdWJNZXNoPWZ1bmN0aW9uKCl7fSx0aGlzLl9jYWxsYmFja1BsdWdpbkV2ZW50SGFzUmVuZGVyVGFyZ2V0VGV4dHVyZXM9ZnVuY3Rpb24oKXt9LHRoaXMuX2NhbGxiYWNrUGx1Z2luRXZlbnRGaWxsUmVuZGVyVGFyZ2V0VGV4dHVyZXM9ZnVuY3Rpb24oKXt9LHRoaXMuX2ZvcmNlQWxwaGFUZXN0PSExLHRoaXMuX3RyYW5zcGFyZW5jeU1vZGU9bnVsbCx0aGlzLm5hbWU9ZTt2YXIgbj10fHxhZS5MYXN0Q3JlYXRlZFNjZW5lOyFufHwodGhpcy5fc2NlbmU9bix0aGlzLl9kaXJ0eUNhbGxiYWNrcz17fSx0aGlzLl9kaXJ0eUNhbGxiYWNrc1sxXT10aGlzLl9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0RpcnR5LmJpbmQodGhpcyksdGhpcy5fZGlydHlDYWxsYmFja3NbMl09dGhpcy5fbWFya0FsbFN1Yk1lc2hlc0FzTGlnaHRzRGlydHkuYmluZCh0aGlzKSx0aGlzLl9kaXJ0eUNhbGxiYWNrc1s0XT10aGlzLl9tYXJrQWxsU3ViTWVzaGVzQXNGcmVzbmVsRGlydHkuYmluZCh0aGlzKSx0aGlzLl9kaXJ0eUNhbGxiYWNrc1s4XT10aGlzLl9tYXJrQWxsU3ViTWVzaGVzQXNBdHRyaWJ1dGVzRGlydHkuYmluZCh0aGlzKSx0aGlzLl9kaXJ0eUNhbGxiYWNrc1sxNl09dGhpcy5fbWFya0FsbFN1Yk1lc2hlc0FzTWlzY0RpcnR5LmJpbmQodGhpcyksdGhpcy5fZGlydHlDYWxsYmFja3NbMzJdPXRoaXMuX21hcmtBbGxTdWJNZXNoZXNBc1ByZVBhc3NEaXJ0eS5iaW5kKHRoaXMpLHRoaXMuX2RpcnR5Q2FsbGJhY2tzWzYzXT10aGlzLl9tYXJrQWxsU3ViTWVzaGVzQXNBbGxEaXJ0eS5iaW5kKHRoaXMpLHRoaXMuaWQ9ZXx8X2UuUmFuZG9tSWQoKSx0aGlzLnVuaXF1ZUlkPXRoaXMuX3NjZW5lLmdldFVuaXF1ZUlkKCksdGhpcy5fbWF0ZXJpYWxDb250ZXh0PXRoaXMuX3NjZW5lLmdldEVuZ2luZSgpLmNyZWF0ZU1hdGVyaWFsQ29udGV4dCgpLHRoaXMuX2RyYXdXcmFwcGVyPW5ldyBRdCh0aGlzLl9zY2VuZS5nZXRFbmdpbmUoKSwhMSksdGhpcy5fZHJhd1dyYXBwZXIubWF0ZXJpYWxDb250ZXh0PXRoaXMuX21hdGVyaWFsQ29udGV4dCx0aGlzLl9zY2VuZS51c2VSaWdodEhhbmRlZFN5c3RlbT90aGlzLnNpZGVPcmllbnRhdGlvbj1pLkNsb2NrV2lzZVNpZGVPcmllbnRhdGlvbjp0aGlzLnNpZGVPcmllbnRhdGlvbj1pLkNvdW50ZXJDbG9ja1dpc2VTaWRlT3JpZW50YXRpb24sdGhpcy5fdW5pZm9ybUJ1ZmZlcj1uZXcgVHIodGhpcy5fc2NlbmUuZ2V0RW5naW5lKCksdm9pZCAwLHZvaWQgMCxlKSx0aGlzLl91c2VVQk89dGhpcy5nZXRTY2VuZSgpLmdldEVuZ2luZSgpLnN1cHBvcnRzVW5pZm9ybUJ1ZmZlcnMscnx8dGhpcy5fc2NlbmUuYWRkTWF0ZXJpYWwodGhpcyksdGhpcy5fc2NlbmUudXNlTWF0ZXJpYWxNZXNoTWFwJiYodGhpcy5tZXNoTWFwPXt9KSxpLk9uRXZlbnRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzLERlLkNyZWF0ZWQpKX1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJjYW5SZW5kZXJUb01SVCIse2dldDpmdW5jdGlvbigpe3JldHVybiExfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiYWxwaGEiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYWxwaGF9LHNldDpmdW5jdGlvbihlKXtpZih0aGlzLl9hbHBoYSE9PWUpe3ZhciB0PXRoaXMuX2FscGhhO3RoaXMuX2FscGhhPWUsKHQ9PT0xfHxlPT09MSkmJnRoaXMubWFya0FzRGlydHkoaS5NaXNjRGlydHlGbGFnKX19LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJiYWNrRmFjZUN1bGxpbmciLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYmFja0ZhY2VDdWxsaW5nfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fYmFja0ZhY2VDdWxsaW5nIT09ZSYmKHRoaXMuX2JhY2tGYWNlQ3VsbGluZz1lLHRoaXMubWFya0FzRGlydHkoaS5UZXh0dXJlRGlydHlGbGFnKSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJjdWxsQmFja0ZhY2VzIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2N1bGxCYWNrRmFjZXN9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9jdWxsQmFja0ZhY2VzIT09ZSYmKHRoaXMuX2N1bGxCYWNrRmFjZXM9ZSx0aGlzLm1hcmtBc0RpcnR5KGkuVGV4dHVyZURpcnR5RmxhZykpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiaGFzUmVuZGVyVGFyZ2V0VGV4dHVyZXMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZXZlbnRJbmZvLmhhc1JlbmRlclRhcmdldFRleHR1cmVzPSExLHRoaXMuX2NhbGxiYWNrUGx1Z2luRXZlbnRIYXNSZW5kZXJUYXJnZXRUZXh0dXJlcyh0aGlzLl9ldmVudEluZm8pLHRoaXMuX2V2ZW50SW5mby5oYXNSZW5kZXJUYXJnZXRUZXh0dXJlc30sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsIm9uRGlzcG9zZSIse3NldDpmdW5jdGlvbihlKXt0aGlzLl9vbkRpc3Bvc2VPYnNlcnZlciYmdGhpcy5vbkRpc3Bvc2VPYnNlcnZhYmxlLnJlbW92ZSh0aGlzLl9vbkRpc3Bvc2VPYnNlcnZlciksdGhpcy5fb25EaXNwb3NlT2JzZXJ2ZXI9dGhpcy5vbkRpc3Bvc2VPYnNlcnZhYmxlLmFkZChlKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsIm9uQmluZE9ic2VydmFibGUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb25CaW5kT2JzZXJ2YWJsZXx8KHRoaXMuX29uQmluZE9ic2VydmFibGU9bmV3IE8pLHRoaXMuX29uQmluZE9ic2VydmFibGV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJvbkJpbmQiLHtzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fb25CaW5kT2JzZXJ2ZXImJnRoaXMub25CaW5kT2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5fb25CaW5kT2JzZXJ2ZXIpLHRoaXMuX29uQmluZE9ic2VydmVyPXRoaXMub25CaW5kT2JzZXJ2YWJsZS5hZGQoZSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJvblVuQmluZE9ic2VydmFibGUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb25VbkJpbmRPYnNlcnZhYmxlfHwodGhpcy5fb25VbkJpbmRPYnNlcnZhYmxlPW5ldyBPKSx0aGlzLl9vblVuQmluZE9ic2VydmFibGV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJvbkVmZmVjdENyZWF0ZWRPYnNlcnZhYmxlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29uRWZmZWN0Q3JlYXRlZE9ic2VydmFibGV8fCh0aGlzLl9vbkVmZmVjdENyZWF0ZWRPYnNlcnZhYmxlPW5ldyBPKSx0aGlzLl9vbkVmZmVjdENyZWF0ZWRPYnNlcnZhYmxlfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiYWxwaGFNb2RlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FscGhhTW9kZX0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX2FscGhhTW9kZSE9PWUmJih0aGlzLl9hbHBoYU1vZGU9ZSx0aGlzLm1hcmtBc0RpcnR5KGkuVGV4dHVyZURpcnR5RmxhZykpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwibmVlZERlcHRoUHJlUGFzcyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9uZWVkRGVwdGhQcmVQYXNzfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fbmVlZERlcHRoUHJlUGFzcyE9PWUmJih0aGlzLl9uZWVkRGVwdGhQcmVQYXNzPWUsdGhpcy5fbmVlZERlcHRoUHJlUGFzcyYmKHRoaXMuY2hlY2tSZWFkeU9uRXZlcnlDYWxsPSEwKSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJpc1ByZVBhc3NDYXBhYmxlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuITF9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJmb2dFbmFibGVkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ZvZ0VuYWJsZWR9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9mb2dFbmFibGVkIT09ZSYmKHRoaXMuX2ZvZ0VuYWJsZWQ9ZSx0aGlzLm1hcmtBc0RpcnR5KGkuTWlzY0RpcnR5RmxhZykpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwid2lyZWZyYW1lIix7Z2V0OmZ1bmN0aW9uKCl7c3dpdGNoKHRoaXMuX2ZpbGxNb2RlKXtjYXNlIGkuV2lyZUZyYW1lRmlsbE1vZGU6Y2FzZSBpLkxpbmVMaXN0RHJhd01vZGU6Y2FzZSBpLkxpbmVMb29wRHJhd01vZGU6Y2FzZSBpLkxpbmVTdHJpcERyYXdNb2RlOnJldHVybiEwfXJldHVybiB0aGlzLl9zY2VuZS5mb3JjZVdpcmVmcmFtZX0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuZmlsbE1vZGU9ZT9pLldpcmVGcmFtZUZpbGxNb2RlOmkuVHJpYW5nbGVGaWxsTW9kZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsInBvaW50c0Nsb3VkIix7Z2V0OmZ1bmN0aW9uKCl7c3dpdGNoKHRoaXMuX2ZpbGxNb2RlKXtjYXNlIGkuUG9pbnRGaWxsTW9kZTpjYXNlIGkuUG9pbnRMaXN0RHJhd01vZGU6cmV0dXJuITB9cmV0dXJuIHRoaXMuX3NjZW5lLmZvcmNlUG9pbnRzQ2xvdWR9LHNldDpmdW5jdGlvbihlKXt0aGlzLmZpbGxNb2RlPWU/aS5Qb2ludEZpbGxNb2RlOmkuVHJpYW5nbGVGaWxsTW9kZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImZpbGxNb2RlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ZpbGxNb2RlfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fZmlsbE1vZGUhPT1lJiYodGhpcy5fZmlsbE1vZGU9ZSx0aGlzLm1hcmtBc0RpcnR5KGkuTWlzY0RpcnR5RmxhZykpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkucHJvdG90eXBlLl9nZXREcmF3V3JhcHBlcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9kcmF3V3JhcHBlcn0saS5wcm90b3R5cGUuX3NldERyYXdXcmFwcGVyPWZ1bmN0aW9uKGUpe3RoaXMuX2RyYXdXcmFwcGVyPWV9LGkucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKGUpe3ZhciB0PSJOYW1lOiAiK3RoaXMubmFtZTtyZXR1cm4gdH0saS5wcm90b3R5cGUuZ2V0Q2xhc3NOYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIk1hdGVyaWFsIn0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJpc0Zyb3plbiIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNoZWNrUmVhZHlPbmx5T25jZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLnByb3RvdHlwZS5mcmVlemU9ZnVuY3Rpb24oKXt0aGlzLm1hcmtEaXJ0eSgpLHRoaXMuY2hlY2tSZWFkeU9ubHlPbmNlPSEwfSxpLnByb3RvdHlwZS51bmZyZWV6ZT1mdW5jdGlvbigpe3RoaXMubWFya0RpcnR5KCksdGhpcy5jaGVja1JlYWR5T25seU9uY2U9ITF9LGkucHJvdG90eXBlLmlzUmVhZHk9ZnVuY3Rpb24oZSx0KXtyZXR1cm4hMH0saS5wcm90b3R5cGUuaXNSZWFkeUZvclN1Yk1lc2g9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXQubWF0ZXJpYWxEZWZpbmVzO3JldHVybiBuPyh0aGlzLl9ldmVudEluZm8uaXNSZWFkeUZvclN1Yk1lc2g9ITAsdGhpcy5fZXZlbnRJbmZvLmRlZmluZXM9bix0aGlzLl9jYWxsYmFja1BsdWdpbkV2ZW50SXNSZWFkeUZvclN1Yk1lc2godGhpcy5fZXZlbnRJbmZvKSx0aGlzLl9ldmVudEluZm8uaXNSZWFkeUZvclN1Yk1lc2gpOiExfSxpLnByb3RvdHlwZS5nZXRFZmZlY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZHJhd1dyYXBwZXIuZWZmZWN0fSxpLnByb3RvdHlwZS5nZXRTY2VuZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zY2VuZX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJ0cmFuc3BhcmVuY3lNb2RlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RyYW5zcGFyZW5jeU1vZGV9LHNldDpmdW5jdGlvbihlKXt0aGlzLl90cmFuc3BhcmVuY3lNb2RlIT09ZSYmKHRoaXMuX3RyYW5zcGFyZW5jeU1vZGU9ZSx0aGlzLl9mb3JjZUFscGhhVGVzdD1lPT09aS5NQVRFUklBTF9BTFBIQVRFU1RBTkRCTEVORCx0aGlzLl9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0FuZE1pc2NEaXJ0eSgpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsIl9kaXNhYmxlQWxwaGFCbGVuZGluZyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl90cmFuc3BhcmVuY3lNb2RlPT09aS5NQVRFUklBTF9PUEFRVUV8fHRoaXMuX3RyYW5zcGFyZW5jeU1vZGU9PT1pLk1BVEVSSUFMX0FMUEhBVEVTVH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLnByb3RvdHlwZS5uZWVkQWxwaGFCbGVuZGluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9kaXNhYmxlQWxwaGFCbGVuZGluZz8hMTp0aGlzLmFscGhhPDF9LGkucHJvdG90eXBlLm5lZWRBbHBoYUJsZW5kaW5nRm9yTWVzaD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fZGlzYWJsZUFscGhhQmxlbmRpbmcmJmUudmlzaWJpbGl0eT49MT8hMTp0aGlzLm5lZWRBbHBoYUJsZW5kaW5nKCl8fGUudmlzaWJpbGl0eTwxfHxlLmhhc1ZlcnRleEFscGhhfSxpLnByb3RvdHlwZS5uZWVkQWxwaGFUZXN0aW5nPWZ1bmN0aW9uKCl7cmV0dXJuISF0aGlzLl9mb3JjZUFscGhhVGVzdH0saS5wcm90b3R5cGUuX3Nob3VsZFR1cm5BbHBoYVRlc3RPbj1mdW5jdGlvbihlKXtyZXR1cm4hdGhpcy5uZWVkQWxwaGFCbGVuZGluZ0Zvck1lc2goZSkmJnRoaXMubmVlZEFscGhhVGVzdGluZygpfSxpLnByb3RvdHlwZS5nZXRBbHBoYVRlc3RUZXh0dXJlPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9LGkucHJvdG90eXBlLm1hcmtEaXJ0eT1mdW5jdGlvbigpe2Zvcih2YXIgZT10aGlzLmdldFNjZW5lKCkubWVzaGVzLHQ9MCxyPWU7dDxyLmxlbmd0aDt0Kyspe3ZhciBuPXJbdF07aWYoISFuLnN1Yk1lc2hlcylmb3IodmFyIGE9MCxzPW4uc3ViTWVzaGVzO2E8cy5sZW5ndGg7YSsrKXt2YXIgbz1zW2FdO28uZ2V0TWF0ZXJpYWwoKT09PXRoaXMmJighby5lZmZlY3R8fChvLmVmZmVjdC5fd2FzUHJldmlvdXNseVJlYWR5PSExKSl9fX0saS5wcm90b3R5cGUuX3ByZUJpbmQ9ZnVuY3Rpb24oZSx0KXt0PT09dm9pZCAwJiYodD1udWxsKTt2YXIgcj10aGlzLl9zY2VuZS5nZXRFbmdpbmUoKSxuPXQ9PW51bGw/dGhpcy5zaWRlT3JpZW50YXRpb246dCxhPW49PT1pLkNsb2NrV2lzZVNpZGVPcmllbnRhdGlvbjtyZXR1cm4gci5lbmFibGVFZmZlY3QoZXx8dGhpcy5fZ2V0RHJhd1dyYXBwZXIoKSksci5zZXRTdGF0ZSh0aGlzLmJhY2tGYWNlQ3VsbGluZyx0aGlzLnpPZmZzZXQsITEsYSx0aGlzLmN1bGxCYWNrRmFjZXMsdGhpcy5zdGVuY2lsLHRoaXMuek9mZnNldFVuaXRzKSxhfSxpLnByb3RvdHlwZS5iaW5kPWZ1bmN0aW9uKGUsdCl7fSxpLnByb3RvdHlwZS5idWlsZFVuaWZvcm1MYXlvdXQ9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLl91bmlmb3JtQnVmZmVyO3RoaXMuX2V2ZW50SW5mby51Ym89ZSx0aGlzLl9jYWxsYmFja1BsdWdpbkV2ZW50R2VuZXJpYyhEZS5QcmVwYXJlVW5pZm9ybUJ1ZmZlcix0aGlzLl9ldmVudEluZm8pLGUuY3JlYXRlKCksdGhpcy5fdW5pZm9ybUJ1ZmZlckxheW91dEJ1aWx0PSEwfSxpLnByb3RvdHlwZS5iaW5kRm9yU3ViTWVzaD1mdW5jdGlvbihlLHQscil7dmFyIG49ci5lZmZlY3Q7IW58fCh0aGlzLl9ldmVudEluZm8uc3ViTWVzaD1yLHRoaXMuX2NhbGxiYWNrUGx1Z2luRXZlbnRCaW5kRm9yU3ViTWVzaCh0aGlzLl9ldmVudEluZm8pKX0saS5wcm90b3R5cGUuYmluZE9ubHlXb3JsZE1hdHJpeD1mdW5jdGlvbihlKXt9LGkucHJvdG90eXBlLmJpbmRWaWV3PWZ1bmN0aW9uKGUpe3RoaXMuX3VzZVVCTz90aGlzLl9uZWVkVG9CaW5kU2NlbmVVYm89ITA6ZS5zZXRNYXRyaXgoInZpZXciLHRoaXMuZ2V0U2NlbmUoKS5nZXRWaWV3TWF0cml4KCkpfSxpLnByb3RvdHlwZS5iaW5kVmlld1Byb2plY3Rpb249ZnVuY3Rpb24oZSl7dGhpcy5fdXNlVUJPP3RoaXMuX25lZWRUb0JpbmRTY2VuZVVibz0hMDooZS5zZXRNYXRyaXgoInZpZXdQcm9qZWN0aW9uIix0aGlzLmdldFNjZW5lKCkuZ2V0VHJhbnNmb3JtTWF0cml4KCkpLGUuc2V0TWF0cml4KCJwcm9qZWN0aW9uIix0aGlzLmdldFNjZW5lKCkuZ2V0UHJvamVjdGlvbk1hdHJpeCgpKSl9LGkucHJvdG90eXBlLmJpbmRFeWVQb3NpdGlvbj1mdW5jdGlvbihlLHQpe3RoaXMuX3VzZVVCTz90aGlzLl9uZWVkVG9CaW5kU2NlbmVVYm89ITA6dGhpcy5fc2NlbmUuYmluZEV5ZVBvc2l0aW9uKGUsdCl9LGkucHJvdG90eXBlLl9hZnRlckJpbmQ9ZnVuY3Rpb24oZSx0KXtpZih0PT09dm9pZCAwJiYodD1udWxsKSx0aGlzLl9zY2VuZS5fY2FjaGVkTWF0ZXJpYWw9dGhpcyx0aGlzLl9uZWVkVG9CaW5kU2NlbmVVYm8mJnQmJih0aGlzLl9uZWVkVG9CaW5kU2NlbmVVYm89ITEsWS5CaW5kU2NlbmVVbmlmb3JtQnVmZmVyKHQsdGhpcy5nZXRTY2VuZSgpLmdldFNjZW5lVW5pZm9ybUJ1ZmZlcigpKSx0aGlzLl9zY2VuZS5maW5hbGl6ZVNjZW5lVWJvKCkpLGU/dGhpcy5fc2NlbmUuX2NhY2hlZFZpc2liaWxpdHk9ZS52aXNpYmlsaXR5OnRoaXMuX3NjZW5lLl9jYWNoZWRWaXNpYmlsaXR5PTEsdGhpcy5fb25CaW5kT2JzZXJ2YWJsZSYmZSYmdGhpcy5fb25CaW5kT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoZSksdGhpcy5kaXNhYmxlRGVwdGhXcml0ZSl7dmFyIHI9dGhpcy5fc2NlbmUuZ2V0RW5naW5lKCk7dGhpcy5fY2FjaGVkRGVwdGhXcml0ZVN0YXRlPXIuZ2V0RGVwdGhXcml0ZSgpLHIuc2V0RGVwdGhXcml0ZSghMSl9aWYodGhpcy5kaXNhYmxlQ29sb3JXcml0ZSl7dmFyIHI9dGhpcy5fc2NlbmUuZ2V0RW5naW5lKCk7dGhpcy5fY2FjaGVkQ29sb3JXcml0ZVN0YXRlPXIuZ2V0Q29sb3JXcml0ZSgpLHIuc2V0Q29sb3JXcml0ZSghMSl9aWYodGhpcy5kZXB0aEZ1bmN0aW9uIT09MCl7dmFyIHI9dGhpcy5fc2NlbmUuZ2V0RW5naW5lKCk7dGhpcy5fY2FjaGVkRGVwdGhGdW5jdGlvblN0YXRlPXIuZ2V0RGVwdGhGdW5jdGlvbigpfHwwLHIuc2V0RGVwdGhGdW5jdGlvbih0aGlzLmRlcHRoRnVuY3Rpb24pfX0saS5wcm90b3R5cGUudW5iaW5kPWZ1bmN0aW9uKCl7aWYodGhpcy5fb25VbkJpbmRPYnNlcnZhYmxlJiZ0aGlzLl9vblVuQmluZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpLHRoaXMuZGVwdGhGdW5jdGlvbiE9PTApe3ZhciBlPXRoaXMuX3NjZW5lLmdldEVuZ2luZSgpO2Uuc2V0RGVwdGhGdW5jdGlvbih0aGlzLl9jYWNoZWREZXB0aEZ1bmN0aW9uU3RhdGUpfWlmKHRoaXMuZGlzYWJsZURlcHRoV3JpdGUpe3ZhciBlPXRoaXMuX3NjZW5lLmdldEVuZ2luZSgpO2Uuc2V0RGVwdGhXcml0ZSh0aGlzLl9jYWNoZWREZXB0aFdyaXRlU3RhdGUpfWlmKHRoaXMuZGlzYWJsZUNvbG9yV3JpdGUpe3ZhciBlPXRoaXMuX3NjZW5lLmdldEVuZ2luZSgpO2Uuc2V0Q29sb3JXcml0ZSh0aGlzLl9jYWNoZWRDb2xvcldyaXRlU3RhdGUpfX0saS5wcm90b3R5cGUuZ2V0QW5pbWF0YWJsZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZXZlbnRJbmZvLmFuaW1hdGFibGVzPVtdLHRoaXMuX2NhbGxiYWNrUGx1Z2luRXZlbnRHZW5lcmljKERlLkdldEFuaW1hdGFibGVzLHRoaXMuX2V2ZW50SW5mbyksdGhpcy5fZXZlbnRJbmZvLmFuaW1hdGFibGVzfSxpLnByb3RvdHlwZS5nZXRBY3RpdmVUZXh0dXJlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9ldmVudEluZm8uYWN0aXZlVGV4dHVyZXM9W10sdGhpcy5fY2FsbGJhY2tQbHVnaW5FdmVudEdlbmVyaWMoRGUuR2V0QWN0aXZlVGV4dHVyZXMsdGhpcy5fZXZlbnRJbmZvKSx0aGlzLl9ldmVudEluZm8uYWN0aXZlVGV4dHVyZXN9LGkucHJvdG90eXBlLmhhc1RleHR1cmU9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX2V2ZW50SW5mby5oYXNUZXh0dXJlPSExLHRoaXMuX2V2ZW50SW5mby50ZXh0dXJlPWUsdGhpcy5fY2FsbGJhY2tQbHVnaW5FdmVudEdlbmVyaWMoRGUuSGFzVGV4dHVyZSx0aGlzLl9ldmVudEluZm8pLHRoaXMuX2V2ZW50SW5mby5oYXNUZXh0dXJlfSxpLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbihlKXtyZXR1cm4gbnVsbH0saS5wcm90b3R5cGUuZ2V0QmluZGVkTWVzaGVzPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcztpZih0aGlzLm1lc2hNYXApe3ZhciB0PW5ldyBBcnJheTtmb3IodmFyIHIgaW4gdGhpcy5tZXNoTWFwKXt2YXIgbj10aGlzLm1lc2hNYXBbcl07biYmdC5wdXNoKG4pfXJldHVybiB0fWVsc2V7dmFyIGE9dGhpcy5fc2NlbmUubWVzaGVzO3JldHVybiBhLmZpbHRlcihmdW5jdGlvbihzKXtyZXR1cm4gcy5tYXRlcmlhbD09PWV9KX19LGkucHJvdG90eXBlLmZvcmNlQ29tcGlsYXRpb249ZnVuY3Rpb24oZSx0LHIsbil7dmFyIGE9dGhpcyxzPUV0KHtjbGlwUGxhbmU6ITEsdXNlSW5zdGFuY2VzOiExfSxyKSxvPXRoaXMuZ2V0U2NlbmUoKSx1PXRoaXMuYWxsb3dTaGFkZXJIb3RTd2FwcGluZzt0aGlzLmFsbG93U2hhZGVySG90U3dhcHBpbmc9ITE7dmFyIGY9ZnVuY3Rpb24oKXtpZighKCFhLl9zY2VuZXx8IWEuX3NjZW5lLmdldEVuZ2luZSgpKSl7dmFyIGw9by5jbGlwUGxhbmU7aWYocy5jbGlwUGxhbmUmJihvLmNsaXBQbGFuZT1uZXcgJHIoMCwwLDAsMSkpLGEuX3N0b3JlRWZmZWN0T25TdWJNZXNoZXMpe3ZhciBoPSEwLGM9bnVsbDtpZihlLnN1Yk1lc2hlcyl7dmFyIGQ9bmV3IE10KDAsMCwwLDAsMCxlLHZvaWQgMCwhMSwhMSk7ZC5tYXRlcmlhbERlZmluZXMmJihkLm1hdGVyaWFsRGVmaW5lcy5fcmVuZGVySWQ9LTEpLGEuaXNSZWFkeUZvclN1Yk1lc2goZSxkLHMudXNlSW5zdGFuY2VzKXx8KGQuZWZmZWN0JiZkLmVmZmVjdC5nZXRDb21waWxhdGlvbkVycm9yKCkmJmQuZWZmZWN0LmFsbEZhbGxiYWNrc1Byb2Nlc3NlZCgpP2M9ZC5lZmZlY3QuZ2V0Q29tcGlsYXRpb25FcnJvcigpOihoPSExLHNldFRpbWVvdXQoZiwxNikpKX1oJiYoYS5hbGxvd1NoYWRlckhvdFN3YXBwaW5nPXUsYyYmbiYmbihjKSx0JiZ0KGEpKX1lbHNlIGEuaXNSZWFkeSgpPyhhLmFsbG93U2hhZGVySG90U3dhcHBpbmc9dSx0JiZ0KGEpKTpzZXRUaW1lb3V0KGYsMTYpO3MuY2xpcFBsYW5lJiYoby5jbGlwUGxhbmU9bCl9fTtmKCl9LGkucHJvdG90eXBlLmZvcmNlQ29tcGlsYXRpb25Bc3luYz1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKG4sYSl7ci5mb3JjZUNvbXBpbGF0aW9uKGUsZnVuY3Rpb24oKXtuKCl9LHQsZnVuY3Rpb24ocyl7YShzKX0pfSl9LGkucHJvdG90eXBlLm1hcmtBc0RpcnR5PWZ1bmN0aW9uKGUpe3RoaXMuZ2V0U2NlbmUoKS5ibG9ja01hdGVyaWFsRGlydHlNZWNoYW5pc218fChpLl9EaXJ0eUNhbGxiYWNrQXJyYXkubGVuZ3RoPTAsZSZpLlRleHR1cmVEaXJ0eUZsYWcmJmkuX0RpcnR5Q2FsbGJhY2tBcnJheS5wdXNoKGkuX1RleHR1cmVEaXJ0eUNhbGxCYWNrKSxlJmkuTGlnaHREaXJ0eUZsYWcmJmkuX0RpcnR5Q2FsbGJhY2tBcnJheS5wdXNoKGkuX0xpZ2h0c0RpcnR5Q2FsbEJhY2spLGUmaS5GcmVzbmVsRGlydHlGbGFnJiZpLl9EaXJ0eUNhbGxiYWNrQXJyYXkucHVzaChpLl9GcmVzbmVsRGlydHlDYWxsQmFjayksZSZpLkF0dHJpYnV0ZXNEaXJ0eUZsYWcmJmkuX0RpcnR5Q2FsbGJhY2tBcnJheS5wdXNoKGkuX0F0dHJpYnV0ZURpcnR5Q2FsbEJhY2spLGUmaS5NaXNjRGlydHlGbGFnJiZpLl9EaXJ0eUNhbGxiYWNrQXJyYXkucHVzaChpLl9NaXNjRGlydHlDYWxsQmFjayksZSZpLlByZVBhc3NEaXJ0eUZsYWcmJmkuX0RpcnR5Q2FsbGJhY2tBcnJheS5wdXNoKGkuX1ByZVBhc3NEaXJ0eUNhbGxCYWNrKSxpLl9EaXJ0eUNhbGxiYWNrQXJyYXkubGVuZ3RoJiZ0aGlzLl9tYXJrQWxsU3ViTWVzaGVzQXNEaXJ0eShpLl9SdW5EaXJ0eUNhbGxCYWNrcyksdGhpcy5nZXRTY2VuZSgpLnJlc2V0Q2FjaGVkTWF0ZXJpYWwoKSl9LGkucHJvdG90eXBlLnJlc2V0RHJhd0NhY2hlPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPXRoaXMuZ2V0U2NlbmUoKS5tZXNoZXMsdD0wLHI9ZTt0PHIubGVuZ3RoO3QrKyl7dmFyIG49clt0XTtpZighIW4uc3ViTWVzaGVzKWZvcih2YXIgYT0wLHM9bi5zdWJNZXNoZXM7YTxzLmxlbmd0aDthKyspe3ZhciBvPXNbYV07by5nZXRNYXRlcmlhbCgpPT09dGhpcyYmby5yZXNldERyYXdDYWNoZSgpfX19LGkucHJvdG90eXBlLl9tYXJrQWxsU3ViTWVzaGVzQXNEaXJ0eT1mdW5jdGlvbihlKXtpZighdGhpcy5nZXRTY2VuZSgpLmJsb2NrTWF0ZXJpYWxEaXJ0eU1lY2hhbmlzbSlmb3IodmFyIHQ9dGhpcy5nZXRTY2VuZSgpLm1lc2hlcyxyPTAsbj10O3I8bi5sZW5ndGg7cisrKXt2YXIgYT1uW3JdO2lmKCEhYS5zdWJNZXNoZXMpZm9yKHZhciBzPTAsbz1hLnN1Yk1lc2hlcztzPG8ubGVuZ3RoO3MrKyl7dmFyIHU9b1tzXTtpZighKGEuX3JlbmRlcklkPT09MHx8dS5nZXRNYXRlcmlhbCgpIT09dGhpcykpZm9yKHZhciBmPTAsbD11Ll9kcmF3V3JhcHBlcnM7ZjxsLmxlbmd0aDtmKyspe3ZhciBoPWxbZl07IWh8fCFoLmRlZmluZXN8fCFoLmRlZmluZXMubWFya0FsbEFzRGlydHl8fHRoaXMuX21hdGVyaWFsQ29udGV4dD09PWgubWF0ZXJpYWxDb250ZXh0JiZlKGguZGVmaW5lcyl9fX19LGkucHJvdG90eXBlLl9tYXJrU2NlbmVQcmVQYXNzRGlydHk9ZnVuY3Rpb24oKXtpZighdGhpcy5nZXRTY2VuZSgpLmJsb2NrTWF0ZXJpYWxEaXJ0eU1lY2hhbmlzbSl7dmFyIGU9dGhpcy5nZXRTY2VuZSgpLmVuYWJsZVByZVBhc3NSZW5kZXJlcigpO2UmJmUubWFya0FzRGlydHkoKX19LGkucHJvdG90eXBlLl9tYXJrQWxsU3ViTWVzaGVzQXNBbGxEaXJ0eT1mdW5jdGlvbigpe3RoaXMuX21hcmtBbGxTdWJNZXNoZXNBc0RpcnR5KGkuX0FsbERpcnR5Q2FsbEJhY2spfSxpLnByb3RvdHlwZS5fbWFya0FsbFN1Yk1lc2hlc0FzSW1hZ2VQcm9jZXNzaW5nRGlydHk9ZnVuY3Rpb24oKXt0aGlzLl9tYXJrQWxsU3ViTWVzaGVzQXNEaXJ0eShpLl9JbWFnZVByb2Nlc3NpbmdEaXJ0eUNhbGxCYWNrKX0saS5wcm90b3R5cGUuX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHk9ZnVuY3Rpb24oKXt0aGlzLl9tYXJrQWxsU3ViTWVzaGVzQXNEaXJ0eShpLl9UZXh0dXJlRGlydHlDYWxsQmFjayl9LGkucHJvdG90eXBlLl9tYXJrQWxsU3ViTWVzaGVzQXNGcmVzbmVsRGlydHk9ZnVuY3Rpb24oKXt0aGlzLl9tYXJrQWxsU3ViTWVzaGVzQXNEaXJ0eShpLl9GcmVzbmVsRGlydHlDYWxsQmFjayl9LGkucHJvdG90eXBlLl9tYXJrQWxsU3ViTWVzaGVzQXNGcmVzbmVsQW5kTWlzY0RpcnR5PWZ1bmN0aW9uKCl7dGhpcy5fbWFya0FsbFN1Yk1lc2hlc0FzRGlydHkoaS5fRnJlc25lbEFuZE1pc2NEaXJ0eUNhbGxCYWNrKX0saS5wcm90b3R5cGUuX21hcmtBbGxTdWJNZXNoZXNBc0xpZ2h0c0RpcnR5PWZ1bmN0aW9uKCl7dGhpcy5fbWFya0FsbFN1Yk1lc2hlc0FzRGlydHkoaS5fTGlnaHRzRGlydHlDYWxsQmFjayl9LGkucHJvdG90eXBlLl9tYXJrQWxsU3ViTWVzaGVzQXNBdHRyaWJ1dGVzRGlydHk9ZnVuY3Rpb24oKXt0aGlzLl9tYXJrQWxsU3ViTWVzaGVzQXNEaXJ0eShpLl9BdHRyaWJ1dGVEaXJ0eUNhbGxCYWNrKX0saS5wcm90b3R5cGUuX21hcmtBbGxTdWJNZXNoZXNBc01pc2NEaXJ0eT1mdW5jdGlvbigpe3RoaXMuX21hcmtBbGxTdWJNZXNoZXNBc0RpcnR5KGkuX01pc2NEaXJ0eUNhbGxCYWNrKX0saS5wcm90b3R5cGUuX21hcmtBbGxTdWJNZXNoZXNBc1ByZVBhc3NEaXJ0eT1mdW5jdGlvbigpe3RoaXMuX21hcmtBbGxTdWJNZXNoZXNBc0RpcnR5KGkuX01pc2NEaXJ0eUNhbGxCYWNrKX0saS5wcm90b3R5cGUuX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzQW5kTWlzY0RpcnR5PWZ1bmN0aW9uKCl7dGhpcy5fbWFya0FsbFN1Yk1lc2hlc0FzRGlydHkoaS5fVGV4dHVyZUFuZE1pc2NEaXJ0eUNhbGxCYWNrKX0saS5wcm90b3R5cGUuc2V0UHJlUGFzc1JlbmRlcmVyPWZ1bmN0aW9uKGUpe3JldHVybiExfSxpLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj10aGlzLmdldFNjZW5lKCk7aWYobi5zdG9wQW5pbWF0aW9uKHRoaXMpLG4uZnJlZVByb2Nlc3NlZE1hdGVyaWFscygpLG4ucmVtb3ZlTWF0ZXJpYWwodGhpcyksdGhpcy5fZXZlbnRJbmZvLmZvcmNlRGlzcG9zZVRleHR1cmVzPXQsdGhpcy5fY2FsbGJhY2tQbHVnaW5FdmVudEdlbmVyaWMoRGUuRGlzcG9zZWQsdGhpcy5fZXZlbnRJbmZvKSx0aGlzLl9wYXJlbnRDb250YWluZXIpe3ZhciBhPXRoaXMuX3BhcmVudENvbnRhaW5lci5tYXRlcmlhbHMuaW5kZXhPZih0aGlzKTthPi0xJiZ0aGlzLl9wYXJlbnRDb250YWluZXIubWF0ZXJpYWxzLnNwbGljZShhLDEpLHRoaXMuX3BhcmVudENvbnRhaW5lcj1udWxsfWlmKHIhPT0hMClpZih0aGlzLm1lc2hNYXApZm9yKHZhciBzIGluIHRoaXMubWVzaE1hcCl7dmFyIG89dGhpcy5tZXNoTWFwW3NdO28mJihvLm1hdGVyaWFsPW51bGwsdGhpcy5yZWxlYXNlVmVydGV4QXJyYXlPYmplY3QobyxlKSl9ZWxzZSBmb3IodmFyIHU9bi5tZXNoZXMsZj0wLGw9dTtmPGwubGVuZ3RoO2YrKyl7dmFyIG89bFtmXTtvLm1hdGVyaWFsPT09dGhpcyYmIW8uc291cmNlTWVzaCYmKG8ubWF0ZXJpYWw9bnVsbCx0aGlzLnJlbGVhc2VWZXJ0ZXhBcnJheU9iamVjdChvLGUpKX10aGlzLl91bmlmb3JtQnVmZmVyLmRpc3Bvc2UoKSxlJiZ0aGlzLl9kcmF3V3JhcHBlci5lZmZlY3QmJih0aGlzLl9zdG9yZUVmZmVjdE9uU3ViTWVzaGVzfHx0aGlzLl9kcmF3V3JhcHBlci5lZmZlY3QuZGlzcG9zZSgpLHRoaXMuX2RyYXdXcmFwcGVyLmVmZmVjdD1udWxsKSx0aGlzLm1ldGFkYXRhPW51bGwsdGhpcy5vbkRpc3Bvc2VPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKSx0aGlzLm9uRGlzcG9zZU9ic2VydmFibGUuY2xlYXIoKSx0aGlzLl9vbkJpbmRPYnNlcnZhYmxlJiZ0aGlzLl9vbkJpbmRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5fb25VbkJpbmRPYnNlcnZhYmxlJiZ0aGlzLl9vblVuQmluZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLl9vbkVmZmVjdENyZWF0ZWRPYnNlcnZhYmxlJiZ0aGlzLl9vbkVmZmVjdENyZWF0ZWRPYnNlcnZhYmxlLmNsZWFyKCl9LGkucHJvdG90eXBlLnJlbGVhc2VWZXJ0ZXhBcnJheU9iamVjdD1mdW5jdGlvbihlLHQpe2lmKGUuZ2VvbWV0cnkpe3ZhciByPWUuZ2VvbWV0cnk7aWYodGhpcy5fc3RvcmVFZmZlY3RPblN1Yk1lc2hlcylmb3IodmFyIG49MCxhPWUuc3ViTWVzaGVzO248YS5sZW5ndGg7bisrKXt2YXIgcz1hW25dO3IuX3JlbGVhc2VWZXJ0ZXhBcnJheU9iamVjdChzLmVmZmVjdCksdCYmcy5lZmZlY3QmJnMuZWZmZWN0LmRpc3Bvc2UoKX1lbHNlIHIuX3JlbGVhc2VWZXJ0ZXhBcnJheU9iamVjdCh0aGlzLl9kcmF3V3JhcHBlci5lZmZlY3QpfX0saS5wcm90b3R5cGUuc2VyaWFsaXplPWZ1bmN0aW9uKCl7dmFyIGU9dGUuU2VyaWFsaXplKHRoaXMpO3JldHVybiBlLnN0ZW5jaWw9dGhpcy5zdGVuY2lsLnNlcmlhbGl6ZSgpLGUudW5pcXVlSWQ9dGhpcy51bmlxdWVJZCxlfSxpLlBhcnNlPWZ1bmN0aW9uKGUsdCxyKXtpZighZS5jdXN0b21UeXBlKWUuY3VzdG9tVHlwZT0iQkFCWUxPTi5TdGFuZGFyZE1hdGVyaWFsIjtlbHNlIGlmKGUuY3VzdG9tVHlwZT09PSJCQUJZTE9OLlBCUk1hdGVyaWFsIiYmZS5vdmVybG9hZGVkQWxiZWRvJiYoZS5jdXN0b21UeXBlPSJCQUJZTE9OLkxlZ2FjeVBCUk1hdGVyaWFsIiwhQkFCWUxPTi5MZWdhY3lQQlJNYXRlcmlhbCkpcmV0dXJuIFcuRXJyb3IoIllvdXIgc2NlbmUgaXMgdHJ5aW5nIHRvIGxvYWQgYSBsZWdhY3kgdmVyc2lvbiBvZiB0aGUgUEJSTWF0ZXJpYWwsIHBsZWFzZSwgaW5jbHVkZSBpdCBmcm9tIHRoZSBtYXRlcmlhbHMgbGlicmFyeS4iKSxudWxsO3ZhciBuPV9lLkluc3RhbnRpYXRlKGUuY3VzdG9tVHlwZSksYT1uLlBhcnNlKGUsdCxyKTtyZXR1cm4gYS5fbG9hZGVkVW5pcXVlSWQ9ZS51bmlxdWVJZCxhfSxpLlRyaWFuZ2xlRmlsbE1vZGU9MCxpLldpcmVGcmFtZUZpbGxNb2RlPTEsaS5Qb2ludEZpbGxNb2RlPTIsaS5Qb2ludExpc3REcmF3TW9kZT0zLGkuTGluZUxpc3REcmF3TW9kZT00LGkuTGluZUxvb3BEcmF3TW9kZT01LGkuTGluZVN0cmlwRHJhd01vZGU9NixpLlRyaWFuZ2xlU3RyaXBEcmF3TW9kZT03LGkuVHJpYW5nbGVGYW5EcmF3TW9kZT04LGkuQ2xvY2tXaXNlU2lkZU9yaWVudGF0aW9uPTAsaS5Db3VudGVyQ2xvY2tXaXNlU2lkZU9yaWVudGF0aW9uPTEsaS5UZXh0dXJlRGlydHlGbGFnPTEsaS5MaWdodERpcnR5RmxhZz0yLGkuRnJlc25lbERpcnR5RmxhZz00LGkuQXR0cmlidXRlc0RpcnR5RmxhZz04LGkuTWlzY0RpcnR5RmxhZz0xNixpLlByZVBhc3NEaXJ0eUZsYWc9MzIsaS5BbGxEaXJ0eUZsYWc9NjMsaS5NQVRFUklBTF9PUEFRVUU9MCxpLk1BVEVSSUFMX0FMUEhBVEVTVD0xLGkuTUFURVJJQUxfQUxQSEFCTEVORD0yLGkuTUFURVJJQUxfQUxQSEFURVNUQU5EQkxFTkQ9MyxpLk1BVEVSSUFMX05PUk1BTEJMRU5ETUVUSE9EX1dISVRFT1VUPTAsaS5NQVRFUklBTF9OT1JNQUxCTEVORE1FVEhPRF9STk09MSxpLk9uRXZlbnRPYnNlcnZhYmxlPW5ldyBPLGkuX0FsbERpcnR5Q2FsbEJhY2s9ZnVuY3Rpb24oZSl7cmV0dXJuIGUubWFya0FsbEFzRGlydHkoKX0saS5fSW1hZ2VQcm9jZXNzaW5nRGlydHlDYWxsQmFjaz1mdW5jdGlvbihlKXtyZXR1cm4gZS5tYXJrQXNJbWFnZVByb2Nlc3NpbmdEaXJ0eSgpfSxpLl9UZXh0dXJlRGlydHlDYWxsQmFjaz1mdW5jdGlvbihlKXtyZXR1cm4gZS5tYXJrQXNUZXh0dXJlc0RpcnR5KCl9LGkuX0ZyZXNuZWxEaXJ0eUNhbGxCYWNrPWZ1bmN0aW9uKGUpe3JldHVybiBlLm1hcmtBc0ZyZXNuZWxEaXJ0eSgpfSxpLl9NaXNjRGlydHlDYWxsQmFjaz1mdW5jdGlvbihlKXtyZXR1cm4gZS5tYXJrQXNNaXNjRGlydHkoKX0saS5fUHJlUGFzc0RpcnR5Q2FsbEJhY2s9ZnVuY3Rpb24oZSl7cmV0dXJuIGUubWFya0FzUHJlUGFzc0RpcnR5KCl9LGkuX0xpZ2h0c0RpcnR5Q2FsbEJhY2s9ZnVuY3Rpb24oZSl7cmV0dXJuIGUubWFya0FzTGlnaHREaXJ0eSgpfSxpLl9BdHRyaWJ1dGVEaXJ0eUNhbGxCYWNrPWZ1bmN0aW9uKGUpe3JldHVybiBlLm1hcmtBc0F0dHJpYnV0ZXNEaXJ0eSgpfSxpLl9GcmVzbmVsQW5kTWlzY0RpcnR5Q2FsbEJhY2s9ZnVuY3Rpb24oZSl7aS5fRnJlc25lbERpcnR5Q2FsbEJhY2soZSksaS5fTWlzY0RpcnR5Q2FsbEJhY2soZSl9LGkuX1RleHR1cmVBbmRNaXNjRGlydHlDYWxsQmFjaz1mdW5jdGlvbihlKXtpLl9UZXh0dXJlRGlydHlDYWxsQmFjayhlKSxpLl9NaXNjRGlydHlDYWxsQmFjayhlKX0saS5fRGlydHlDYWxsYmFja0FycmF5PVtdLGkuX1J1bkRpcnR5Q2FsbEJhY2tzPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wLHI9aS5fRGlydHlDYWxsYmFja0FycmF5O3Q8ci5sZW5ndGg7dCsrKXt2YXIgbj1yW3RdO24oZSl9fSxUKFtQKCldLGkucHJvdG90eXBlLCJpZCIsdm9pZCAwKSxUKFtQKCldLGkucHJvdG90eXBlLCJ1bmlxdWVJZCIsdm9pZCAwKSxUKFtQKCldLGkucHJvdG90eXBlLCJuYW1lIix2b2lkIDApLFQoW1AoKV0saS5wcm90b3R5cGUsIm1ldGFkYXRhIix2b2lkIDApLFQoW1AoKV0saS5wcm90b3R5cGUsImNoZWNrUmVhZHlPbkV2ZXJ5Q2FsbCIsdm9pZCAwKSxUKFtQKCldLGkucHJvdG90eXBlLCJjaGVja1JlYWR5T25seU9uY2UiLHZvaWQgMCksVChbUCgpXSxpLnByb3RvdHlwZSwic3RhdGUiLHZvaWQgMCksVChbUCgiYWxwaGEiKV0saS5wcm90b3R5cGUsIl9hbHBoYSIsdm9pZCAwKSxUKFtQKCJiYWNrRmFjZUN1bGxpbmciKV0saS5wcm90b3R5cGUsIl9iYWNrRmFjZUN1bGxpbmciLHZvaWQgMCksVChbUCgiY3VsbEJhY2tGYWNlcyIpXSxpLnByb3RvdHlwZSwiX2N1bGxCYWNrRmFjZXMiLHZvaWQgMCksVChbUCgpXSxpLnByb3RvdHlwZSwic2lkZU9yaWVudGF0aW9uIix2b2lkIDApLFQoW1AoImFscGhhTW9kZSIpXSxpLnByb3RvdHlwZSwiX2FscGhhTW9kZSIsdm9pZCAwKSxUKFtQKCldLGkucHJvdG90eXBlLCJfbmVlZERlcHRoUHJlUGFzcyIsdm9pZCAwKSxUKFtQKCldLGkucHJvdG90eXBlLCJkaXNhYmxlRGVwdGhXcml0ZSIsdm9pZCAwKSxUKFtQKCldLGkucHJvdG90eXBlLCJkaXNhYmxlQ29sb3JXcml0ZSIsdm9pZCAwKSxUKFtQKCldLGkucHJvdG90eXBlLCJmb3JjZURlcHRoV3JpdGUiLHZvaWQgMCksVChbUCgpXSxpLnByb3RvdHlwZSwiZGVwdGhGdW5jdGlvbiIsdm9pZCAwKSxUKFtQKCldLGkucHJvdG90eXBlLCJzZXBhcmF0ZUN1bGxpbmdQYXNzIix2b2lkIDApLFQoW1AoImZvZ0VuYWJsZWQiKV0saS5wcm90b3R5cGUsIl9mb2dFbmFibGVkIix2b2lkIDApLFQoW1AoKV0saS5wcm90b3R5cGUsInBvaW50U2l6ZSIsdm9pZCAwKSxUKFtQKCldLGkucHJvdG90eXBlLCJ6T2Zmc2V0Iix2b2lkIDApLFQoW1AoKV0saS5wcm90b3R5cGUsInpPZmZzZXRVbml0cyIsdm9pZCAwKSxUKFtQKCldLGkucHJvdG90eXBlLCJwb2ludHNDbG91ZCIsbnVsbCksVChbUCgpXSxpLnByb3RvdHlwZSwiZmlsbE1vZGUiLG51bGwpLFQoW1AoKV0saS5wcm90b3R5cGUsInRyYW5zcGFyZW5jeU1vZGUiLG51bGwpLGl9KCksYWk9ZnVuY3Rpb24oaSl7SyhlLGkpO2Z1bmN0aW9uIGUodCxyKXt2YXIgbj1pLmNhbGwodGhpcyx0LHIsITApfHx0aGlzO3JldHVybiBuLl93YWl0aW5nU3ViTWF0ZXJpYWxzVW5pcXVlSWRzPVtdLG4uZ2V0U2NlbmUoKS5tdWx0aU1hdGVyaWFscy5wdXNoKG4pLG4uc3ViTWF0ZXJpYWxzPW5ldyBBcnJheSxuLl9zdG9yZUVmZmVjdE9uU3ViTWVzaGVzPSEwLG59cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwic3ViTWF0ZXJpYWxzIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N1Yk1hdGVyaWFsc30sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3N1Yk1hdGVyaWFscz10LHRoaXMuX2hvb2tBcnJheSh0KX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5nZXRDaGlsZHJlbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnN1Yk1hdGVyaWFsc30sZS5wcm90b3R5cGUuX2hvb2tBcnJheT1mdW5jdGlvbih0KXt2YXIgcj10aGlzLG49dC5wdXNoO3QucHVzaD1mdW5jdGlvbigpe2Zvcih2YXIgcz1bXSxvPTA7bzxhcmd1bWVudHMubGVuZ3RoO28rKylzW29dPWFyZ3VtZW50c1tvXTt2YXIgdT1uLmFwcGx5KHQscyk7cmV0dXJuIHIuX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHkoKSx1fTt2YXIgYT10LnNwbGljZTt0LnNwbGljZT1mdW5jdGlvbihzLG8pe3ZhciB1PWEuYXBwbHkodCxbcyxvXSk7cmV0dXJuIHIuX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHkoKSx1fX0sZS5wcm90b3R5cGUuZ2V0U3ViTWF0ZXJpYWw9ZnVuY3Rpb24odCl7cmV0dXJuIHQ8MHx8dD49dGhpcy5zdWJNYXRlcmlhbHMubGVuZ3RoP3RoaXMuZ2V0U2NlbmUoKS5kZWZhdWx0TWF0ZXJpYWw6dGhpcy5zdWJNYXRlcmlhbHNbdF19LGUucHJvdG90eXBlLmdldEFjdGl2ZVRleHR1cmVzPWZ1bmN0aW9uKCl7dmFyIHQ7cmV0dXJuKHQ9aS5wcm90b3R5cGUuZ2V0QWN0aXZlVGV4dHVyZXMuY2FsbCh0aGlzKSkuY29uY2F0LmFwcGx5KHQsdGhpcy5zdWJNYXRlcmlhbHMubWFwKGZ1bmN0aW9uKHIpe3JldHVybiByP3IuZ2V0QWN0aXZlVGV4dHVyZXMoKTpbXX0pKX0sZS5wcm90b3R5cGUuaGFzVGV4dHVyZT1mdW5jdGlvbih0KXt2YXIgcjtpZihpLnByb3RvdHlwZS5oYXNUZXh0dXJlLmNhbGwodGhpcyx0KSlyZXR1cm4hMDtmb3IodmFyIG49MDtuPHRoaXMuc3ViTWF0ZXJpYWxzLmxlbmd0aDtuKyspaWYoISgocj10aGlzLnN1Yk1hdGVyaWFsc1tuXSk9PT1udWxsfHxyPT09dm9pZCAwKSYmci5oYXNUZXh0dXJlKHQpKXJldHVybiEwO3JldHVybiExfSxlLnByb3RvdHlwZS5nZXRDbGFzc05hbWU9ZnVuY3Rpb24oKXtyZXR1cm4iTXVsdGlNYXRlcmlhbCJ9LGUucHJvdG90eXBlLmlzUmVhZHlGb3JTdWJNZXNoPWZ1bmN0aW9uKHQscixuKXtmb3IodmFyIGE9MDthPHRoaXMuc3ViTWF0ZXJpYWxzLmxlbmd0aDthKyspe3ZhciBzPXRoaXMuc3ViTWF0ZXJpYWxzW2FdO2lmKHMpe2lmKHMuX3N0b3JlRWZmZWN0T25TdWJNZXNoZXMpe2lmKCFzLmlzUmVhZHlGb3JTdWJNZXNoKHQscixuKSlyZXR1cm4hMTtjb250aW51ZX1pZighcy5pc1JlYWR5KHQpKXJldHVybiExfX1yZXR1cm4hMH0sZS5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24odCxyKXtmb3IodmFyIG49bmV3IGUodCx0aGlzLmdldFNjZW5lKCkpLGE9MDthPHRoaXMuc3ViTWF0ZXJpYWxzLmxlbmd0aDthKyspe3ZhciBzPW51bGwsbz10aGlzLnN1Yk1hdGVyaWFsc1thXTtyJiZvP3M9by5jbG9uZSh0KyItIitvLm5hbWUpOnM9dGhpcy5zdWJNYXRlcmlhbHNbYV0sbi5zdWJNYXRlcmlhbHMucHVzaChzKX1yZXR1cm4gbn0sZS5wcm90b3R5cGUuc2VyaWFsaXplPWZ1bmN0aW9uKCl7dmFyIHQ9e307dC5uYW1lPXRoaXMubmFtZSx0LmlkPXRoaXMuaWQsdC51bmlxdWVJZD10aGlzLnVuaXF1ZUlkLGRlJiYodC50YWdzPWRlLkdldFRhZ3ModGhpcykpLHQubWF0ZXJpYWxzVW5pcXVlSWRzPVtdLHQubWF0ZXJpYWxzPVtdO2Zvcih2YXIgcj0wO3I8dGhpcy5zdWJNYXRlcmlhbHMubGVuZ3RoO3IrKyl7dmFyIG49dGhpcy5zdWJNYXRlcmlhbHNbcl07bj8odC5tYXRlcmlhbHNVbmlxdWVJZHMucHVzaChuLnVuaXF1ZUlkKSx0Lm1hdGVyaWFscy5wdXNoKG4uaWQpKToodC5tYXRlcmlhbHNVbmlxdWVJZHMucHVzaChudWxsKSx0Lm1hdGVyaWFscy5wdXNoKG51bGwpKX1yZXR1cm4gdH0sZS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbih0LHIsbil7dmFyIGE9dGhpcy5nZXRTY2VuZSgpO2lmKCEhYSl7aWYobilmb3IodmFyIHM9MDtzPHRoaXMuc3ViTWF0ZXJpYWxzLmxlbmd0aDtzKyspe3ZhciBvPXRoaXMuc3ViTWF0ZXJpYWxzW3NdO28mJm8uZGlzcG9zZSh0LHIpfXZhciB1PWEubXVsdGlNYXRlcmlhbHMuaW5kZXhPZih0aGlzKTt1Pj0wJiZhLm11bHRpTWF0ZXJpYWxzLnNwbGljZSh1LDEpLGkucHJvdG90eXBlLmRpc3Bvc2UuY2FsbCh0aGlzLHQscil9fSxlLlBhcnNlTXVsdGlNYXRlcmlhbD1mdW5jdGlvbih0LHIpe3ZhciBuPW5ldyBlKHQubmFtZSxyKTtyZXR1cm4gbi5pZD10LmlkLG4uX2xvYWRlZFVuaXF1ZUlkPXQudW5pcXVlSWQsZGUmJmRlLkFkZFRhZ3NUbyhuLHQudGFncyksdC5tYXRlcmlhbHNVbmlxdWVJZHM/bi5fd2FpdGluZ1N1Yk1hdGVyaWFsc1VuaXF1ZUlkcz10Lm1hdGVyaWFsc1VuaXF1ZUlkczp0Lm1hdGVyaWFscy5mb3JFYWNoKGZ1bmN0aW9uKGEpe3JldHVybiBuLnN1Yk1hdGVyaWFscy5wdXNoKHIuZ2V0TGFzdE1hdGVyaWFsQnlJZChhKSl9KSxufSxlfShGZSk7d2UoIkJBQllMT04uTXVsdGlNYXRlcmlhbCIsYWkpO3ZhciBPYT1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoZSx0KXt0aGlzLmRpc3RhbmNlT3JTY3JlZW5Db3ZlcmFnZT1lLHRoaXMubWVzaD10fXJldHVybiBpfSgpLEZhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaSgpe3RoaXMudmlzaWJsZUluc3RhbmNlcz17fSx0aGlzLmJhdGNoQ2FjaGU9bmV3IGxuLHRoaXMuYmF0Y2hDYWNoZVJlcGxhY2VtZW50TW9kZUluRnJvemVuTW9kZT1uZXcgbG4sdGhpcy5pbnN0YW5jZXNCdWZmZXJTaXplPTMyKjE2KjR9cmV0dXJuIGl9KCksbG49ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKCl7dGhpcy5tdXN0UmV0dXJuPSExLHRoaXMudmlzaWJsZUluc3RhbmNlcz1uZXcgQXJyYXksdGhpcy5yZW5kZXJTZWxmPW5ldyBBcnJheSx0aGlzLmhhcmR3YXJlSW5zdGFuY2VkUmVuZGVyaW5nPW5ldyBBcnJheX1yZXR1cm4gaX0oKSx3YT1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoKXt0aGlzLmluc3RhbmNlc0NvdW50PTAsdGhpcy5tYXRyaXhCdWZmZXI9bnVsbCx0aGlzLnByZXZpb3VzTWF0cml4QnVmZmVyPW51bGwsdGhpcy5tYXRyaXhCdWZmZXJTaXplPTMyKjE2LHRoaXMubWF0cml4RGF0YT1udWxsLHRoaXMuYm91bmRpbmdWZWN0b3JzPVtdLHRoaXMud29ybGRNYXRyaWNlcz1udWxsfXJldHVybiBpfSgpLExhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaSgpe3RoaXMuX2FyZU5vcm1hbHNGcm96ZW49ITEsdGhpcy5fc291cmNlPW51bGwsdGhpcy5tZXNoTWFwPW51bGwsdGhpcy5fcHJlQWN0aXZhdGVJZD0tMSx0aGlzLl9MT0RMZXZlbHM9bmV3IEFycmF5LHRoaXMuX3VzZUxPRFNjcmVlbkNvdmVyYWdlPSExLHRoaXMuX2VmZmVjdGl2ZU1hdGVyaWFsPW51bGwsdGhpcy5fZm9yY2VkSW5zdGFuY2VDb3VudD0wfXJldHVybiBpfSgpLFE9ZnVuY3Rpb24oaSl7SyhlLGkpO2Z1bmN0aW9uIGUodCxyLG4sYSxzLG8pe3I9PT12b2lkIDAmJihyPW51bGwpLG49PT12b2lkIDAmJihuPW51bGwpLGE9PT12b2lkIDAmJihhPW51bGwpLG89PT12b2lkIDAmJihvPSEwKTt2YXIgdT1pLmNhbGwodGhpcyx0LHIpfHx0aGlzO2lmKHUuX2ludGVybmFsTWVzaERhdGFJbmZvPW5ldyBMYSx1LmRlbGF5TG9hZFN0YXRlPTAsdS5pbnN0YW5jZXM9bmV3IEFycmF5LHUuX2NyZWF0aW9uRGF0YVN0b3JhZ2U9bnVsbCx1Ll9nZW9tZXRyeT1udWxsLHUuX2luc3RhbmNlRGF0YVN0b3JhZ2U9bmV3IEZhLHUuX3RoaW5JbnN0YW5jZURhdGFTdG9yYWdlPW5ldyB3YSx1Ll9zaG91bGRHZW5lcmF0ZUZsYXRTaGFkaW5nPSExLHUuX29yaWdpbmFsQnVpbGRlclNpZGVPcmllbnRhdGlvbj1lLkRFRkFVTFRTSURFLHUub3ZlcnJpZGVNYXRlcmlhbFNpZGVPcmllbnRhdGlvbj1udWxsLHUuaWdub3JlQ2FtZXJhTWF4Wj0hMSxyPXUuZ2V0U2NlbmUoKSx1Ll9vbkJlZm9yZURyYXc9ZnVuY3Rpb24odix5LEUpe3YmJkUmJih1Ll91bmlmb3JtQnVmZmVyP3UudHJhbnNmZXJUb0VmZmVjdCh5KTpFLmJpbmRPbmx5V29ybGRNYXRyaXgoeSkpfSxhKXtpZihhLl9nZW9tZXRyeSYmYS5fZ2VvbWV0cnkuYXBwbHlUb01lc2godSksSHIuRGVlcENvcHkoYSx1LFsibmFtZSIsIm1hdGVyaWFsIiwic2tlbGV0b24iLCJpbnN0YW5jZXMiLCJwYXJlbnQiLCJ1bmlxdWVJZCIsInNvdXJjZSIsIm1ldGFkYXRhIiwibW9ycGhUYXJnZXRNYW5hZ2VyIiwiaGFzSW5zdGFuY2VzIiwid29ybGRNYXRyaXhJbnN0YW5jZWRCdWZmZXIiLCJwcmV2aW91c1dvcmxkTWF0cml4SW5zdGFuY2VkQnVmZmVyIiwiaGFzTE9ETGV2ZWxzIiwiZ2VvbWV0cnkiLCJpc0Jsb2NrZWQiLCJhcmVOb3JtYWxzRnJvemVuIiwiZmFjZXROYiIsImlzRmFjZXREYXRhRW5hYmxlZCIsImxpZ2h0U291cmNlcyIsInVzZUJvbmVzIiwiaXNBbkluc3RhbmNlIiwiY29sbGlkZXIiLCJlZGdlc1JlbmRlcmVyIiwiZm9yd2FyZCIsInVwIiwicmlnaHQiLCJhYnNvbHV0ZVBvc2l0aW9uIiwiYWJzb2x1dGVTY2FsaW5nIiwiYWJzb2x1dGVSb3RhdGlvblF1YXRlcm5pb24iLCJpc1dvcmxkTWF0cml4RnJvemVuIiwibm9uVW5pZm9ybVNjYWxpbmciLCJiZWhhdmlvcnMiLCJ3b3JsZE1hdHJpeEZyb21DYWNoZSIsImhhc1RoaW5JbnN0YW5jZXMiLCJjbG9uZU1lc2hNYXAiLCJoYXNCb3VuZGluZ0luZm8iXSxbIl9wb3NlTWF0cml4Il0pLHUuX2ludGVybmFsTWVzaERhdGFJbmZvLl9zb3VyY2U9YSxyLnVzZUNsb25lZE1lc2hNYXAmJihhLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5tZXNoTWFwfHwoYS5faW50ZXJuYWxNZXNoRGF0YUluZm8ubWVzaE1hcD17fSksYS5faW50ZXJuYWxNZXNoRGF0YUluZm8ubWVzaE1hcFt1LnVuaXF1ZUlkXT11KSx1Ll9vcmlnaW5hbEJ1aWxkZXJTaWRlT3JpZW50YXRpb249YS5fb3JpZ2luYWxCdWlsZGVyU2lkZU9yaWVudGF0aW9uLHUuX2NyZWF0aW9uRGF0YVN0b3JhZ2U9YS5fY3JlYXRpb25EYXRhU3RvcmFnZSxhLl9yYW5nZXMpe3ZhciBmPWEuX3Jhbmdlcztmb3IodmFyIGwgaW4gZikhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGYsbCl8fCFmW2xdfHx1LmNyZWF0ZUFuaW1hdGlvblJhbmdlKGwsZltsXS5mcm9tLGZbbF0udG8pfWlmKGEubWV0YWRhdGEmJmEubWV0YWRhdGEuY2xvbmU/dS5tZXRhZGF0YT1hLm1ldGFkYXRhLmNsb25lKCk6dS5tZXRhZGF0YT1hLm1ldGFkYXRhLGRlJiZkZS5IYXNUYWdzKGEpJiZkZS5BZGRUYWdzVG8odSxkZS5HZXRUYWdzKGEsITApKSx1LnNldEVuYWJsZWQoYS5pc0VuYWJsZWQoKSksdS5wYXJlbnQ9YS5wYXJlbnQsdS5zZXRQaXZvdE1hdHJpeChhLmdldFBpdm90TWF0cml4KCkpLHUuaWQ9dCsiLiIrYS5pZCx1Lm1hdGVyaWFsPWEubWF0ZXJpYWwsIXMpZm9yKHZhciBoPWEuZ2V0RGVzY2VuZGFudHMoITApLGM9MDtjPGgubGVuZ3RoO2MrKyl7dmFyIGQ9aFtjXTtkLmNsb25lJiZkLmNsb25lKHQrIi4iK2QubmFtZSx1KX1pZihhLm1vcnBoVGFyZ2V0TWFuYWdlciYmKHUubW9ycGhUYXJnZXRNYW5hZ2VyPWEubW9ycGhUYXJnZXRNYW5hZ2VyKSxyLmdldFBoeXNpY3NFbmdpbmUpe3ZhciBwPXIuZ2V0UGh5c2ljc0VuZ2luZSgpO2lmKG8mJnApe3ZhciBnPXAuZ2V0SW1wb3N0b3JGb3JQaHlzaWNzT2JqZWN0KGEpO2cmJih1LnBoeXNpY3NJbXBvc3Rvcj1nLmNsb25lKHUpKX19Zm9yKHZhciBjPTA7YzxyLnBhcnRpY2xlU3lzdGVtcy5sZW5ndGg7YysrKXt2YXIgXz1yLnBhcnRpY2xlU3lzdGVtc1tjXTtfLmVtaXR0ZXI9PT1hJiZfLmNsb25lKF8ubmFtZSx1KX11LnNrZWxldG9uPWEuc2tlbGV0b24sdS5yZWZyZXNoQm91bmRpbmdJbmZvKCEwLCEwKSx1LmNvbXB1dGVXb3JsZE1hdHJpeCghMCl9cmV0dXJuIG4hPT1udWxsJiYodS5wYXJlbnQ9biksdS5faW5zdGFuY2VEYXRhU3RvcmFnZS5oYXJkd2FyZUluc3RhbmNlZFJlbmRlcmluZz11LmdldEVuZ2luZSgpLmdldENhcHMoKS5pbnN0YW5jZWRBcnJheXMsdS5faW50ZXJuYWxNZXNoRGF0YUluZm8uX29uTWVzaFJlYWR5T2JzZXJ2ZXJBZGRlZD1mdW5jdGlvbih2KXt2LnVucmVnaXN0ZXJPbk5leHRDYWxsPSEwLHUuaXNSZWFkeSghMCk/dS5vbk1lc2hSZWFkeU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHUpOnUuX2ludGVybmFsTWVzaERhdGFJbmZvLl9jaGVja1JlYWRpbmVzc09ic2VydmVyfHwodS5faW50ZXJuYWxNZXNoRGF0YUluZm8uX2NoZWNrUmVhZGluZXNzT2JzZXJ2ZXI9dS5fc2NlbmUub25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlLmFkZChmdW5jdGlvbigpe3UuaXNSZWFkeSghMCkmJih1Ll9zY2VuZS5vbkJlZm9yZVJlbmRlck9ic2VydmFibGUucmVtb3ZlKHUuX2ludGVybmFsTWVzaERhdGFJbmZvLl9jaGVja1JlYWRpbmVzc09ic2VydmVyKSx1Ll9pbnRlcm5hbE1lc2hEYXRhSW5mby5fY2hlY2tSZWFkaW5lc3NPYnNlcnZlcj1udWxsLHUub25NZXNoUmVhZHlPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh1KSl9KSl9LHUub25NZXNoUmVhZHlPYnNlcnZhYmxlPW5ldyBPKHUuX2ludGVybmFsTWVzaERhdGFJbmZvLl9vbk1lc2hSZWFkeU9ic2VydmVyQWRkZWQpLGEmJmEub25DbG9uZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh1KSx1fXJldHVybiBlLl9HZXREZWZhdWx0U2lkZU9yaWVudGF0aW9uPWZ1bmN0aW9uKHQpe3JldHVybiB0fHxlLkZST05UU0lERX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJ1c2VMT0RTY3JlZW5Db3ZlcmFnZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fdXNlTE9EU2NyZWVuQ292ZXJhZ2V9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fdXNlTE9EU2NyZWVuQ292ZXJhZ2U9dH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImNvbXB1dGVCb25lc1VzaW5nU2hhZGVycyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9jb21wdXRlQm9uZXNVc2luZ1NoYWRlcnN9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9jb21wdXRlQm9uZXNVc2luZ1NoYWRlcnMhPT10JiYodCYmdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX3NvdXJjZVBvc2l0aW9ucyYmKHRoaXMuc2V0VmVydGljZXNEYXRhKG0uUG9zaXRpb25LaW5kLHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9zb3VyY2VQb3NpdGlvbnMsITApLHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9zb3VyY2VOb3JtYWxzJiZ0aGlzLnNldFZlcnRpY2VzRGF0YShtLk5vcm1hbEtpbmQsdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX3NvdXJjZU5vcm1hbHMsITApLHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9zb3VyY2VQb3NpdGlvbnM9bnVsbCx0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fc291cmNlTm9ybWFscz1udWxsKSx0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9jb21wdXRlQm9uZXNVc2luZ1NoYWRlcnM9dCx0aGlzLl9tYXJrU3ViTWVzaGVzQXNBdHRyaWJ1dGVzRGlydHkoKSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJvbkJlZm9yZVJlbmRlck9ic2VydmFibGUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX29uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZXx8KHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9vbkJlZm9yZVJlbmRlck9ic2VydmFibGU9bmV3IE8pLHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9vbkJlZm9yZVJlbmRlck9ic2VydmFibGV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJvbkJlZm9yZUJpbmRPYnNlcnZhYmxlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9vbkJlZm9yZUJpbmRPYnNlcnZhYmxlfHwodGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX29uQmVmb3JlQmluZE9ic2VydmFibGU9bmV3IE8pLHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9vbkJlZm9yZUJpbmRPYnNlcnZhYmxlfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwib25BZnRlclJlbmRlck9ic2VydmFibGUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX29uQWZ0ZXJSZW5kZXJPYnNlcnZhYmxlfHwodGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX29uQWZ0ZXJSZW5kZXJPYnNlcnZhYmxlPW5ldyBPKSx0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fb25BZnRlclJlbmRlck9ic2VydmFibGV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJvbkJldHdlZW5QYXNzT2JzZXJ2YWJsZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fb25CZXR3ZWVuUGFzc09ic2VydmFibGV8fCh0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fb25CZXR3ZWVuUGFzc09ic2VydmFibGU9bmV3IE8pLHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9vbkJldHdlZW5QYXNzT2JzZXJ2YWJsZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsIm9uQmVmb3JlRHJhd09ic2VydmFibGUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX29uQmVmb3JlRHJhd09ic2VydmFibGV8fCh0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fb25CZWZvcmVEcmF3T2JzZXJ2YWJsZT1uZXcgTyksdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX29uQmVmb3JlRHJhd09ic2VydmFibGV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJvbkJlZm9yZURyYXciLHtzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fb25CZWZvcmVEcmF3T2JzZXJ2ZXImJnRoaXMub25CZWZvcmVEcmF3T2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5fb25CZWZvcmVEcmF3T2JzZXJ2ZXIpLHRoaXMuX29uQmVmb3JlRHJhd09ic2VydmVyPXRoaXMub25CZWZvcmVEcmF3T2JzZXJ2YWJsZS5hZGQodCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJoYXNJbnN0YW5jZXMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbnN0YW5jZXMubGVuZ3RoPjB9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJoYXNUaGluSW5zdGFuY2VzIix7Z2V0OmZ1bmN0aW9uKCl7dmFyIHQ7cmV0dXJuKCh0PXRoaXMuX3RoaW5JbnN0YW5jZURhdGFTdG9yYWdlLmluc3RhbmNlc0NvdW50KSE9PW51bGwmJnQhPT12b2lkIDA/dDowKT4wfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiZm9yY2VkSW5zdGFuY2VDb3VudCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fZm9yY2VkSW5zdGFuY2VDb3VudH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9mb3JjZWRJbnN0YW5jZUNvdW50PXR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJzb3VyY2UiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX3NvdXJjZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImNsb25lTWVzaE1hcCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5tZXNoTWFwfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiaXNVbkluZGV4ZWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdW5JbmRleGVkfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fdW5JbmRleGVkIT09dCYmKHRoaXMuX3VuSW5kZXhlZD10LHRoaXMuX21hcmtTdWJNZXNoZXNBc0F0dHJpYnV0ZXNEaXJ0eSgpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsIndvcmxkTWF0cml4SW5zdGFuY2VkQnVmZmVyIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UuaW5zdGFuY2VzRGF0YX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInByZXZpb3VzV29ybGRNYXRyaXhJbnN0YW5jZWRCdWZmZXIiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5pbnN0YW5jZXNQcmV2aW91c0RhdGF9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJtYW51YWxVcGRhdGVPZldvcmxkTWF0cml4SW5zdGFuY2VkQnVmZmVyIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UubWFudWFsVXBkYXRlfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5tYW51YWxVcGRhdGU9dH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsIm1hbnVhbFVwZGF0ZU9mUHJldmlvdXNXb3JsZE1hdHJpeEluc3RhbmNlZEJ1ZmZlciIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLnByZXZpb3VzTWFudWFsVXBkYXRlfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5wcmV2aW91c01hbnVhbFVwZGF0ZT10fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLmluc3RhbnRpYXRlSGllcmFyY2h5PWZ1bmN0aW9uKHQscixuKXt0PT09dm9pZCAwJiYodD1udWxsKTt2YXIgYT10aGlzLmdldFRvdGFsVmVydGljZXMoKT4wJiYoIXJ8fCFyLmRvTm90SW5zdGFudGlhdGUpP3RoaXMuY3JlYXRlSW5zdGFuY2UoImluc3RhbmNlIG9mICIrKHRoaXMubmFtZXx8dGhpcy5pZCkpOnRoaXMuY2xvbmUoIkNsb25lIG9mICIrKHRoaXMubmFtZXx8dGhpcy5pZCksdHx8dGhpcy5wYXJlbnQsITApO2EucGFyZW50PXR8fHRoaXMucGFyZW50LGEucG9zaXRpb249dGhpcy5wb3NpdGlvbi5jbG9uZSgpLGEuc2NhbGluZz10aGlzLnNjYWxpbmcuY2xvbmUoKSx0aGlzLnJvdGF0aW9uUXVhdGVybmlvbj9hLnJvdGF0aW9uUXVhdGVybmlvbj10aGlzLnJvdGF0aW9uUXVhdGVybmlvbi5jbG9uZSgpOmEucm90YXRpb249dGhpcy5yb3RhdGlvbi5jbG9uZSgpLG4mJm4odGhpcyxhKTtmb3IodmFyIHM9MCxvPXRoaXMuZ2V0Q2hpbGRUcmFuc2Zvcm1Ob2RlcyghMCk7czxvLmxlbmd0aDtzKyspe3ZhciB1PW9bc107dS5pbnN0YW50aWF0ZUhpZXJhcmNoeShhLHIsbil9cmV0dXJuIGF9LGUucHJvdG90eXBlLmdldENsYXNzTmFtZT1mdW5jdGlvbigpe3JldHVybiJNZXNoIn0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJfaXNNZXNoIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuITB9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24odCl7dmFyIHI9aS5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0aGlzLHQpO2lmKHIrPSIsIG4gdmVydGljZXM6ICIrdGhpcy5nZXRUb3RhbFZlcnRpY2VzKCkscis9IiwgcGFyZW50OiAiKyh0aGlzLl93YWl0aW5nUGFyZW50SWQ/dGhpcy5fd2FpdGluZ1BhcmVudElkOnRoaXMucGFyZW50P3RoaXMucGFyZW50Lm5hbWU6Ik5PTkUiKSx0aGlzLmFuaW1hdGlvbnMpZm9yKHZhciBuPTA7bjx0aGlzLmFuaW1hdGlvbnMubGVuZ3RoO24rKylyKz0iLCBhbmltYXRpb25bMF06ICIrdGhpcy5hbmltYXRpb25zW25dLnRvU3RyaW5nKHQpO2lmKHQpaWYodGhpcy5fZ2VvbWV0cnkpe3ZhciBhPXRoaXMuZ2V0SW5kaWNlcygpLHM9dGhpcy5nZXRWZXJ0aWNlc0RhdGEobS5Qb3NpdGlvbktpbmQpO3MmJmEmJihyKz0iLCBmbGF0IHNoYWRpbmc6ICIrKHMubGVuZ3RoLzM9PT1hLmxlbmd0aD8iWUVTIjoiTk8iKSl9ZWxzZSByKz0iLCBmbGF0IHNoYWRpbmc6IFVOS05PV04iO3JldHVybiByfSxlLnByb3RvdHlwZS5fdW5CaW5kRWZmZWN0PWZ1bmN0aW9uKCl7aS5wcm90b3R5cGUuX3VuQmluZEVmZmVjdC5jYWxsKHRoaXMpO2Zvcih2YXIgdD0wLHI9dGhpcy5pbnN0YW5jZXM7dDxyLmxlbmd0aDt0Kyspe3ZhciBuPXJbdF07bi5fdW5CaW5kRWZmZWN0KCl9fSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImhhc0xPRExldmVscyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fTE9ETGV2ZWxzLmxlbmd0aD4wfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLmdldExPRExldmVscz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fTE9ETGV2ZWxzfSxlLnByb3RvdHlwZS5fc29ydExPRExldmVscz1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl91c2VMT0RTY3JlZW5Db3ZlcmFnZT8tMToxO3RoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9MT0RMZXZlbHMuc29ydChmdW5jdGlvbihyLG4pe3JldHVybiByLmRpc3RhbmNlT3JTY3JlZW5Db3ZlcmFnZTxuLmRpc3RhbmNlT3JTY3JlZW5Db3ZlcmFnZT90OnIuZGlzdGFuY2VPclNjcmVlbkNvdmVyYWdlPm4uZGlzdGFuY2VPclNjcmVlbkNvdmVyYWdlPy10OjB9KX0sZS5wcm90b3R5cGUuYWRkTE9ETGV2ZWw9ZnVuY3Rpb24odCxyKXtpZihyJiZyLl9tYXN0ZXJNZXNoKXJldHVybiBXLldhcm4oIllvdSBjYW5ub3QgdXNlIGEgbWVzaCBhcyBMT0QgbGV2ZWwgdHdpY2UiKSx0aGlzO3ZhciBuPW5ldyBPYSh0LHIpO3JldHVybiB0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fTE9ETGV2ZWxzLnB1c2gobiksciYmKHIuX21hc3Rlck1lc2g9dGhpcyksdGhpcy5fc29ydExPRExldmVscygpLHRoaXN9LGUucHJvdG90eXBlLmdldExPRExldmVsQXREaXN0YW5jZT1mdW5jdGlvbih0KXtmb3IodmFyIHI9dGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8sbj0wO248ci5fTE9ETGV2ZWxzLmxlbmd0aDtuKyspe3ZhciBhPXIuX0xPRExldmVsc1tuXTtpZihhLmRpc3RhbmNlT3JTY3JlZW5Db3ZlcmFnZT09PXQpcmV0dXJuIGEubWVzaH1yZXR1cm4gbnVsbH0sZS5wcm90b3R5cGUucmVtb3ZlTE9ETGV2ZWw9ZnVuY3Rpb24odCl7Zm9yKHZhciByPXRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLG49MDtuPHIuX0xPRExldmVscy5sZW5ndGg7bisrKXIuX0xPRExldmVsc1tuXS5tZXNoPT09dCYmKHIuX0xPRExldmVscy5zcGxpY2UobiwxKSx0JiYodC5fbWFzdGVyTWVzaD1udWxsKSk7cmV0dXJuIHRoaXMuX3NvcnRMT0RMZXZlbHMoKSx0aGlzfSxlLnByb3RvdHlwZS5nZXRMT0Q9ZnVuY3Rpb24odCxyKXt2YXIgbj10aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mbztpZighbi5fTE9ETGV2ZWxzfHxuLl9MT0RMZXZlbHMubGVuZ3RoPT09MClyZXR1cm4gdGhpczt2YXIgYTtpZihyKWE9cjtlbHNle3ZhciBzPXRoaXMuZ2V0Qm91bmRpbmdJbmZvKCk7YT1zLmJvdW5kaW5nU3BoZXJlfXZhciBvPWEuY2VudGVyV29ybGQuc3VidHJhY3QodC5nbG9iYWxQb3NpdGlvbikubGVuZ3RoKCksdT1uLl91c2VMT0RTY3JlZW5Db3ZlcmFnZSxmPW8sbD0xO2lmKHUpe3ZhciBoPXQuc2NyZWVuQXJlYSxjPWEucmFkaXVzV29ybGQqdC5taW5aL287Yz1jKmMqTWF0aC5QSSxmPWMvaCxsPS0xfWlmKGwqbi5fTE9ETGV2ZWxzW24uX0xPRExldmVscy5sZW5ndGgtMV0uZGlzdGFuY2VPclNjcmVlbkNvdmVyYWdlPmwqZilyZXR1cm4gdGhpcy5vbkxPRExldmVsU2VsZWN0aW9uJiZ0aGlzLm9uTE9ETGV2ZWxTZWxlY3Rpb24oZix0aGlzLHRoaXMpLHRoaXM7Zm9yKHZhciBkPTA7ZDxuLl9MT0RMZXZlbHMubGVuZ3RoO2QrKyl7dmFyIHA9bi5fTE9ETGV2ZWxzW2RdO2lmKGwqcC5kaXN0YW5jZU9yU2NyZWVuQ292ZXJhZ2U8bCpmKXtpZihwLm1lc2gpe2lmKHAubWVzaC5kZWxheUxvYWRTdGF0ZT09PTQpcmV0dXJuIHAubWVzaC5fY2hlY2tEZWxheVN0YXRlKCksdGhpcztpZihwLm1lc2guZGVsYXlMb2FkU3RhdGU9PT0yKXJldHVybiB0aGlzO3AubWVzaC5fcHJlQWN0aXZhdGUoKSxwLm1lc2guX3VwZGF0ZVN1Yk1lc2hlc0JvdW5kaW5nSW5mbyh0aGlzLndvcmxkTWF0cml4RnJvbUNhY2hlKX1yZXR1cm4gdGhpcy5vbkxPRExldmVsU2VsZWN0aW9uJiZ0aGlzLm9uTE9ETGV2ZWxTZWxlY3Rpb24oZix0aGlzLHAubWVzaCkscC5tZXNofX1yZXR1cm4gdGhpcy5vbkxPRExldmVsU2VsZWN0aW9uJiZ0aGlzLm9uTE9ETGV2ZWxTZWxlY3Rpb24oZix0aGlzLHRoaXMpLHRoaXN9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiZ2VvbWV0cnkiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2VvbWV0cnl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuZ2V0VG90YWxWZXJ0aWNlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZW9tZXRyeT09PW51bGx8fHRoaXMuX2dlb21ldHJ5PT09dm9pZCAwPzA6dGhpcy5fZ2VvbWV0cnkuZ2V0VG90YWxWZXJ0aWNlcygpfSxlLnByb3RvdHlwZS5nZXRWZXJ0aWNlc0RhdGE9ZnVuY3Rpb24odCxyLG4pe3ZhciBhLHM7aWYoIXRoaXMuX2dlb21ldHJ5KXJldHVybiBudWxsO3ZhciBvPShzPShhPXRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZSk9PT1udWxsfHxhPT09dm9pZCAwP3ZvaWQgMDphLnZlcnRleEJ1ZmZlcnNbdF0pPT09bnVsbHx8cz09PXZvaWQgMD92b2lkIDA6cy5nZXRGbG9hdERhdGEodGhpcy5fZ2VvbWV0cnkuZ2V0VG90YWxWZXJ0aWNlcygpLG58fHImJnRoaXMuX2dlb21ldHJ5Lm1lc2hlcy5sZW5ndGghPT0xKTtyZXR1cm4gb3x8KG89dGhpcy5fZ2VvbWV0cnkuZ2V0VmVydGljZXNEYXRhKHQscixuKSksb30sZS5wcm90b3R5cGUuZ2V0VmVydGV4QnVmZmVyPWZ1bmN0aW9uKHQpe3ZhciByLG47cmV0dXJuIHRoaXMuX2dlb21ldHJ5PyhuPShyPXRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZSk9PT1udWxsfHxyPT09dm9pZCAwP3ZvaWQgMDpyLnZlcnRleEJ1ZmZlcnNbdF0pIT09bnVsbCYmbiE9PXZvaWQgMD9uOnRoaXMuX2dlb21ldHJ5LmdldFZlcnRleEJ1ZmZlcih0KTpudWxsfSxlLnByb3RvdHlwZS5pc1ZlcnRpY2VzRGF0YVByZXNlbnQ9ZnVuY3Rpb24odCl7dmFyIHI7cmV0dXJuIHRoaXMuX2dlb21ldHJ5Pygocj10aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UpPT09bnVsbHx8cj09PXZvaWQgMD92b2lkIDA6ci52ZXJ0ZXhCdWZmZXJzW3RdKSE9PXZvaWQgMHx8dGhpcy5fZ2VvbWV0cnkuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KHQpOnRoaXMuX2RlbGF5SW5mbz90aGlzLl9kZWxheUluZm8uaW5kZXhPZih0KSE9PS0xOiExfSxlLnByb3RvdHlwZS5pc1ZlcnRleEJ1ZmZlclVwZGF0YWJsZT1mdW5jdGlvbih0KXt2YXIgcixuO3JldHVybiB0aGlzLl9nZW9tZXRyeT8oKG49KHI9dGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlKT09PW51bGx8fHI9PT12b2lkIDA/dm9pZCAwOnIudmVydGV4QnVmZmVyc1t0XSk9PT1udWxsfHxuPT09dm9pZCAwP3ZvaWQgMDpuLmlzVXBkYXRhYmxlKCkpfHx0aGlzLl9nZW9tZXRyeS5pc1ZlcnRleEJ1ZmZlclVwZGF0YWJsZSh0KTp0aGlzLl9kZWxheUluZm8/dGhpcy5fZGVsYXlJbmZvLmluZGV4T2YodCkhPT0tMTohMX0sZS5wcm90b3R5cGUuZ2V0VmVydGljZXNEYXRhS2luZHM9ZnVuY3Rpb24oKXtpZighdGhpcy5fZ2VvbWV0cnkpe3ZhciB0PW5ldyBBcnJheTtyZXR1cm4gdGhpcy5fZGVsYXlJbmZvJiZ0aGlzLl9kZWxheUluZm8uZm9yRWFjaChmdW5jdGlvbihhKXt0LnB1c2goYSl9KSx0fXZhciByPXRoaXMuX2dlb21ldHJ5LmdldFZlcnRpY2VzRGF0YUtpbmRzKCk7aWYodGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlKWZvcih2YXIgbiBpbiB0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UudmVydGV4QnVmZmVycylyLnB1c2gobik7cmV0dXJuIHJ9LGUucHJvdG90eXBlLmdldFRvdGFsSW5kaWNlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9nZW9tZXRyeT90aGlzLl9nZW9tZXRyeS5nZXRUb3RhbEluZGljZXMoKTowfSxlLnByb3RvdHlwZS5nZXRJbmRpY2VzPWZ1bmN0aW9uKHQscil7cmV0dXJuIHRoaXMuX2dlb21ldHJ5P3RoaXMuX2dlb21ldHJ5LmdldEluZGljZXModCxyKTpbXX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJpc0Jsb2NrZWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbWFzdGVyTWVzaCE9PW51bGwmJnRoaXMuX21hc3Rlck1lc2ghPT12b2lkIDB9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuaXNSZWFkeT1mdW5jdGlvbih0LHIpe3ZhciBuLGEscyxvLHUsZjtpZih0PT09dm9pZCAwJiYodD0hMSkscj09PXZvaWQgMCYmKHI9ITEpLHRoaXMuZGVsYXlMb2FkU3RhdGU9PT0yfHwhaS5wcm90b3R5cGUuaXNSZWFkeS5jYWxsKHRoaXMsdCkpcmV0dXJuITE7aWYoIXRoaXMuc3ViTWVzaGVzfHx0aGlzLnN1Yk1lc2hlcy5sZW5ndGg9PT0wfHwhdClyZXR1cm4hMDt2YXIgbD10aGlzLmdldEVuZ2luZSgpLGg9dGhpcy5nZXRTY2VuZSgpLGM9cnx8bC5nZXRDYXBzKCkuaW5zdGFuY2VkQXJyYXlzJiYodGhpcy5pbnN0YW5jZXMubGVuZ3RoPjB8fHRoaXMuaGFzVGhpbkluc3RhbmNlcyk7dGhpcy5jb21wdXRlV29ybGRNYXRyaXgoKTt2YXIgZD10aGlzLm1hdGVyaWFsfHxoLmRlZmF1bHRNYXRlcmlhbDtpZihkKXtpZihkLl9zdG9yZUVmZmVjdE9uU3ViTWVzaGVzKWZvcih2YXIgcD0wLGc9dGhpcy5zdWJNZXNoZXM7cDxnLmxlbmd0aDtwKyspe3ZhciBfPWdbcF0sdj1fLmdldE1hdGVyaWFsKCk7aWYodil7aWYodi5fc3RvcmVFZmZlY3RPblN1Yk1lc2hlcyl7aWYoIXYuaXNSZWFkeUZvclN1Yk1lc2godGhpcyxfLGMpKXJldHVybiExfWVsc2UgaWYoIXYuaXNSZWFkeSh0aGlzLGMpKXJldHVybiExfX1lbHNlIGlmKCFkLmlzUmVhZHkodGhpcyxjKSlyZXR1cm4hMX1mb3IodmFyIHk9bC5jdXJyZW50UmVuZGVyUGFzc0lkLEU9MCxSPXRoaXMubGlnaHRTb3VyY2VzO0U8Ui5sZW5ndGg7RSsrKXt2YXIgTT1SW0VdLEM9TS5nZXRTaGFkb3dHZW5lcmF0b3IoKTtpZihDJiYoISghKChuPUMuZ2V0U2hhZG93TWFwKCkpPT09bnVsbHx8bj09PXZvaWQgMCkmJm4ucmVuZGVyTGlzdCl8fCgoYT1DLmdldFNoYWRvd01hcCgpKT09PW51bGx8fGE9PT12b2lkIDA/dm9pZCAwOmEucmVuZGVyTGlzdCkmJigobz0ocz1DLmdldFNoYWRvd01hcCgpKT09PW51bGx8fHM9PT12b2lkIDA/dm9pZCAwOnMucmVuZGVyTGlzdCk9PT1udWxsfHxvPT09dm9pZCAwP3ZvaWQgMDpvLmluZGV4T2YodGhpcykpIT09LTEpKXtDLmdldFNoYWRvd01hcCgpJiYobC5jdXJyZW50UmVuZGVyUGFzc0lkPUMuZ2V0U2hhZG93TWFwKCkucmVuZGVyUGFzc0lkKTtmb3IodmFyIEE9MCxTPXRoaXMuc3ViTWVzaGVzO0E8Uy5sZW5ndGg7QSsrKXt2YXIgXz1TW0FdO2lmKCFDLmlzUmVhZHkoXyxjLChmPSh1PV8uZ2V0TWF0ZXJpYWwoKSk9PT1udWxsfHx1PT09dm9pZCAwP3ZvaWQgMDp1Lm5lZWRBbHBoYUJsZW5kaW5nRm9yTWVzaCh0aGlzKSkhPT1udWxsJiZmIT09dm9pZCAwP2Y6ITEpKXJldHVybiBsLmN1cnJlbnRSZW5kZXJQYXNzSWQ9eSwhMX1sLmN1cnJlbnRSZW5kZXJQYXNzSWQ9eX19Zm9yKHZhciB3PTAsRj10aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fTE9ETGV2ZWxzO3c8Ri5sZW5ndGg7dysrKXt2YXIgeD1GW3ddO2lmKHgubWVzaCYmIXgubWVzaC5pc1JlYWR5KGMpKXJldHVybiExfXJldHVybiEwfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImFyZU5vcm1hbHNGcm96ZW4iLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX2FyZU5vcm1hbHNGcm96ZW59LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuZnJlZXplTm9ybWFscz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fYXJlTm9ybWFsc0Zyb3plbj0hMCx0aGlzfSxlLnByb3RvdHlwZS51bmZyZWV6ZU5vcm1hbHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX2FyZU5vcm1hbHNGcm96ZW49ITEsdGhpc30sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJvdmVycmlkZW5JbnN0YW5jZUNvdW50Iix7c2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2Uub3ZlcnJpZGVuSW5zdGFuY2VDb3VudD10fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLl9wcmVBY3RpdmF0ZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLHI9dGhpcy5nZXRTY2VuZSgpLmdldFJlbmRlcklkKCk7cmV0dXJuIHQuX3ByZUFjdGl2YXRlSWQ9PT1yP3RoaXM6KHQuX3ByZUFjdGl2YXRlSWQ9cix0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLnZpc2libGVJbnN0YW5jZXM9bnVsbCx0aGlzKX0sZS5wcm90b3R5cGUuX3ByZUFjdGl2YXRlRm9ySW50ZXJtZWRpYXRlUmVuZGVyaW5nPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLnZpc2libGVJbnN0YW5jZXMmJih0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLnZpc2libGVJbnN0YW5jZXMuaW50ZXJtZWRpYXRlRGVmYXVsdFJlbmRlcklkPXQpLHRoaXN9LGUucHJvdG90eXBlLl9yZWdpc3Rlckluc3RhbmNlRm9yUmVuZGVySWQ9ZnVuY3Rpb24odCxyKXtyZXR1cm4gdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS52aXNpYmxlSW5zdGFuY2VzfHwodGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS52aXNpYmxlSW5zdGFuY2VzPXtkZWZhdWx0UmVuZGVySWQ6cixzZWxmRGVmYXVsdFJlbmRlcklkOnRoaXMuX3JlbmRlcklkfSksdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS52aXNpYmxlSW5zdGFuY2VzW3JdfHwodGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5wcmV2aW91c1JlbmRlcklkIT09dm9pZCAwJiZ0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLmlzRnJvemVuJiYodGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS52aXNpYmxlSW5zdGFuY2VzW3RoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UucHJldmlvdXNSZW5kZXJJZF09bnVsbCksdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5wcmV2aW91c1JlbmRlcklkPXIsdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS52aXNpYmxlSW5zdGFuY2VzW3JdPW5ldyBBcnJheSksdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS52aXNpYmxlSW5zdGFuY2VzW3JdLnB1c2godCksdGhpc30sZS5wcm90b3R5cGUuX2FmdGVyQ29tcHV0ZVdvcmxkTWF0cml4PWZ1bmN0aW9uKCl7aS5wcm90b3R5cGUuX2FmdGVyQ29tcHV0ZVdvcmxkTWF0cml4LmNhbGwodGhpcyksdGhpcy5oYXNUaGluSW5zdGFuY2VzJiYodGhpcy5kb05vdFN5bmNCb3VuZGluZ0luZm98fHRoaXMudGhpbkluc3RhbmNlUmVmcmVzaEJvdW5kaW5nSW5mbyghMSkpfSxlLnByb3RvdHlwZS5fcG9zdEFjdGl2YXRlPWZ1bmN0aW9uKCl7dGhpcy5lZGdlc1NoYXJlV2l0aEluc3RhbmNlcyYmdGhpcy5lZGdlc1JlbmRlcmVyJiZ0aGlzLmVkZ2VzUmVuZGVyZXIuaXNFbmFibGVkJiZ0aGlzLl9yZW5kZXJpbmdHcm91cCYmKHRoaXMuX3JlbmRlcmluZ0dyb3VwLl9lZGdlc1JlbmRlcmVycy5wdXNoTm9EdXBsaWNhdGUodGhpcy5lZGdlc1JlbmRlcmVyKSx0aGlzLmVkZ2VzUmVuZGVyZXIuY3VzdG9tSW5zdGFuY2VzLnB1c2godGhpcy5nZXRXb3JsZE1hdHJpeCgpKSl9LGUucHJvdG90eXBlLnJlZnJlc2hCb3VuZGluZ0luZm89ZnVuY3Rpb24odCxyKXtpZih0PT09dm9pZCAwJiYodD0hMSkscj09PXZvaWQgMCYmKHI9ITEpLHRoaXMuaGFzQm91bmRpbmdJbmZvJiZ0aGlzLmdldEJvdW5kaW5nSW5mbygpLmlzTG9ja2VkKXJldHVybiB0aGlzO3ZhciBuPXRoaXMuZ2VvbWV0cnk/dGhpcy5nZW9tZXRyeS5ib3VuZGluZ0JpYXM6bnVsbDtyZXR1cm4gdGhpcy5fcmVmcmVzaEJvdW5kaW5nSW5mbyh0aGlzLl9nZXRQb3NpdGlvbkRhdGEodCxyKSxuKSx0aGlzfSxlLnByb3RvdHlwZS5fY3JlYXRlR2xvYmFsU3ViTWVzaD1mdW5jdGlvbih0KXt2YXIgcj10aGlzLmdldFRvdGFsVmVydGljZXMoKTtpZighcnx8IXRoaXMuZ2V0SW5kaWNlcygpKXJldHVybiBudWxsO2lmKHRoaXMuc3ViTWVzaGVzJiZ0aGlzLnN1Yk1lc2hlcy5sZW5ndGg+MCl7dmFyIG49dGhpcy5nZXRJbmRpY2VzKCk7aWYoIW4pcmV0dXJuIG51bGw7dmFyIGE9bi5sZW5ndGgscz0hMTtpZih0KXM9ITA7ZWxzZSBmb3IodmFyIG89MCx1PXRoaXMuc3ViTWVzaGVzO288dS5sZW5ndGg7bysrKXt2YXIgZj11W29dO2lmKGYuaW5kZXhTdGFydCtmLmluZGV4Q291bnQ+YSl7cz0hMDticmVha31pZihmLnZlcnRpY2VzU3RhcnQrZi52ZXJ0aWNlc0NvdW50PnIpe3M9ITA7YnJlYWt9fWlmKCFzKXJldHVybiB0aGlzLnN1Yk1lc2hlc1swXX1yZXR1cm4gdGhpcy5yZWxlYXNlU3ViTWVzaGVzKCksbmV3IE10KDAsMCxyLDAsdGhpcy5nZXRUb3RhbEluZGljZXMoKSx0aGlzKX0sZS5wcm90b3R5cGUuc3ViZGl2aWRlPWZ1bmN0aW9uKHQpe2lmKCEodDwxKSl7Zm9yKHZhciByPXRoaXMuZ2V0VG90YWxJbmRpY2VzKCksbj1yL3R8MCxhPTA7biUzIT09MDspbisrO3RoaXMucmVsZWFzZVN1Yk1lc2hlcygpO2Zvcih2YXIgcz0wO3M8dCYmIShhPj1yKTtzKyspTXQuQ3JlYXRlRnJvbUluZGljZXMoMCxhLHM9PT10LTE/ci1hOm4sdGhpcyksYSs9bjt0aGlzLnN5bmNocm9uaXplSW5zdGFuY2VzKCl9fSxlLnByb3RvdHlwZS5zZXRWZXJ0aWNlc0RhdGE9ZnVuY3Rpb24odCxyLG4sYSl7aWYobj09PXZvaWQgMCYmKG49ITEpLHRoaXMuX2dlb21ldHJ5KXRoaXMuX2dlb21ldHJ5LnNldFZlcnRpY2VzRGF0YSh0LHIsbixhKTtlbHNle3ZhciBzPW5ldyBnZTtzLnNldChyLHQpO3ZhciBvPXRoaXMuZ2V0U2NlbmUoKTtuZXcgQXQoQXQuUmFuZG9tSWQoKSxvLHMsbix0aGlzKX1yZXR1cm4gdGhpc30sZS5wcm90b3R5cGUucmVtb3ZlVmVydGljZXNEYXRhPWZ1bmN0aW9uKHQpeyF0aGlzLl9nZW9tZXRyeXx8dGhpcy5fZ2VvbWV0cnkucmVtb3ZlVmVydGljZXNEYXRhKHQpfSxlLnByb3RvdHlwZS5tYXJrVmVydGljZXNEYXRhQXNVcGRhdGFibGU9ZnVuY3Rpb24odCxyKXtyPT09dm9pZCAwJiYocj0hMCk7dmFyIG49dGhpcy5nZXRWZXJ0ZXhCdWZmZXIodCk7IW58fG4uaXNVcGRhdGFibGUoKT09PXJ8fHRoaXMuc2V0VmVydGljZXNEYXRhKHQsdGhpcy5nZXRWZXJ0aWNlc0RhdGEodCkscil9LGUucHJvdG90eXBlLnNldFZlcnRpY2VzQnVmZmVyPWZ1bmN0aW9uKHQscil7cmV0dXJuIHI9PT12b2lkIDAmJihyPSEwKSx0aGlzLl9nZW9tZXRyeXx8KHRoaXMuX2dlb21ldHJ5PUF0LkNyZWF0ZUdlb21ldHJ5Rm9yTWVzaCh0aGlzKSksdGhpcy5fZ2VvbWV0cnkuc2V0VmVydGljZXNCdWZmZXIodCxudWxsLHIpLHRoaXN9LGUucHJvdG90eXBlLnVwZGF0ZVZlcnRpY2VzRGF0YT1mdW5jdGlvbih0LHIsbixhKXtyZXR1cm4gdGhpcy5fZ2VvbWV0cnk/KGE/KHRoaXMubWFrZUdlb21ldHJ5VW5pcXVlKCksdGhpcy51cGRhdGVWZXJ0aWNlc0RhdGEodCxyLG4sITEpKTp0aGlzLl9nZW9tZXRyeS51cGRhdGVWZXJ0aWNlc0RhdGEodCxyLG4pLHRoaXMpOnRoaXN9LGUucHJvdG90eXBlLnVwZGF0ZU1lc2hQb3NpdGlvbnM9ZnVuY3Rpb24odCxyKXtyPT09dm9pZCAwJiYocj0hMCk7dmFyIG49dGhpcy5nZXRWZXJ0aWNlc0RhdGEobS5Qb3NpdGlvbktpbmQpO2lmKCFuKXJldHVybiB0aGlzO2lmKHQobiksdGhpcy51cGRhdGVWZXJ0aWNlc0RhdGEobS5Qb3NpdGlvbktpbmQsbiwhMSwhMSkscil7dmFyIGE9dGhpcy5nZXRJbmRpY2VzKCkscz10aGlzLmdldFZlcnRpY2VzRGF0YShtLk5vcm1hbEtpbmQpO2lmKCFzKXJldHVybiB0aGlzO2dlLkNvbXB1dGVOb3JtYWxzKG4sYSxzKSx0aGlzLnVwZGF0ZVZlcnRpY2VzRGF0YShtLk5vcm1hbEtpbmQscywhMSwhMSl9cmV0dXJuIHRoaXN9LGUucHJvdG90eXBlLm1ha2VHZW9tZXRyeVVuaXF1ZT1mdW5jdGlvbigpe2lmKCF0aGlzLl9nZW9tZXRyeSlyZXR1cm4gdGhpcztpZih0aGlzLl9nZW9tZXRyeS5tZXNoZXMubGVuZ3RoPT09MSlyZXR1cm4gdGhpczt2YXIgdD10aGlzLl9nZW9tZXRyeSxyPXRoaXMuX2dlb21ldHJ5LmNvcHkoQXQuUmFuZG9tSWQoKSk7cmV0dXJuIHQucmVsZWFzZUZvck1lc2godGhpcywhMCksci5hcHBseVRvTWVzaCh0aGlzKSx0aGlzfSxlLnByb3RvdHlwZS5zZXRJbmRpY2VzPWZ1bmN0aW9uKHQscixuKXtpZihyPT09dm9pZCAwJiYocj1udWxsKSxuPT09dm9pZCAwJiYobj0hMSksdGhpcy5fZ2VvbWV0cnkpdGhpcy5fZ2VvbWV0cnkuc2V0SW5kaWNlcyh0LHIsbik7ZWxzZXt2YXIgYT1uZXcgZ2U7YS5pbmRpY2VzPXQ7dmFyIHM9dGhpcy5nZXRTY2VuZSgpO25ldyBBdChBdC5SYW5kb21JZCgpLHMsYSxuLHRoaXMpfXJldHVybiB0aGlzfSxlLnByb3RvdHlwZS51cGRhdGVJbmRpY2VzPWZ1bmN0aW9uKHQscixuKXtyZXR1cm4gbj09PXZvaWQgMCYmKG49ITEpLHRoaXMuX2dlb21ldHJ5Pyh0aGlzLl9nZW9tZXRyeS51cGRhdGVJbmRpY2VzKHQscixuKSx0aGlzKTp0aGlzfSxlLnByb3RvdHlwZS50b0xlZnRIYW5kZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2VvbWV0cnk/KHRoaXMuX2dlb21ldHJ5LnRvTGVmdEhhbmRlZCgpLHRoaXMpOnRoaXN9LGUucHJvdG90eXBlLl9iaW5kPWZ1bmN0aW9uKHQscixuKXtpZighdGhpcy5fZ2VvbWV0cnkpcmV0dXJuIHRoaXM7dmFyIGE9dGhpcy5nZXRTY2VuZSgpLmdldEVuZ2luZSgpO3RoaXMubW9ycGhUYXJnZXRNYW5hZ2VyJiZ0aGlzLm1vcnBoVGFyZ2V0TWFuYWdlci5pc1VzaW5nVGV4dHVyZUZvclRhcmdldHMmJnRoaXMubW9ycGhUYXJnZXRNYW5hZ2VyLl9iaW5kKHIpO3ZhciBzO2lmKHRoaXMuX3VuSW5kZXhlZClzPW51bGw7ZWxzZSBzd2l0Y2gobil7Y2FzZSBGZS5Qb2ludEZpbGxNb2RlOnM9bnVsbDticmVhaztjYXNlIEZlLldpcmVGcmFtZUZpbGxNb2RlOnM9dC5fZ2V0TGluZXNJbmRleEJ1ZmZlcih0aGlzLmdldEluZGljZXMoKSxhKTticmVhaztkZWZhdWx0OmNhc2UgRmUuVHJpYW5nbGVGaWxsTW9kZTpzPXRoaXMuX2dlb21ldHJ5LmdldEluZGV4QnVmZmVyKCk7YnJlYWt9cmV0dXJuIXRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZXx8dGhpcy5oYXNUaGluSW5zdGFuY2VzP3RoaXMuX2dlb21ldHJ5Ll9iaW5kKHIscyk6dGhpcy5fZ2VvbWV0cnkuX2JpbmQocixzLHRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS52ZXJ0ZXhCdWZmZXJzLHRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS52ZXJ0ZXhBcnJheU9iamVjdHMpLHRoaXN9LGUucHJvdG90eXBlLl9kcmF3PWZ1bmN0aW9uKHQscixuKXtpZighdGhpcy5fZ2VvbWV0cnl8fCF0aGlzLl9nZW9tZXRyeS5nZXRWZXJ0ZXhCdWZmZXJzKCl8fCF0aGlzLl91bkluZGV4ZWQmJiF0aGlzLl9nZW9tZXRyeS5nZXRJbmRleEJ1ZmZlcigpKXJldHVybiB0aGlzO3RoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9vbkJlZm9yZURyYXdPYnNlcnZhYmxlJiZ0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fb25CZWZvcmVEcmF3T2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyk7dmFyIGE9dGhpcy5nZXRTY2VuZSgpLHM9YS5nZXRFbmdpbmUoKTtyZXR1cm4gdGhpcy5fdW5JbmRleGVkfHxyPT1GZS5Qb2ludEZpbGxNb2RlP3MuZHJhd0FycmF5c1R5cGUocix0LnZlcnRpY2VzU3RhcnQsdC52ZXJ0aWNlc0NvdW50LHRoaXMuZm9yY2VkSW5zdGFuY2VDb3VudHx8bik6cj09RmUuV2lyZUZyYW1lRmlsbE1vZGU/cy5kcmF3RWxlbWVudHNUeXBlKHIsMCx0Ll9saW5lc0luZGV4Q291bnQsdGhpcy5mb3JjZWRJbnN0YW5jZUNvdW50fHxuKTpzLmRyYXdFbGVtZW50c1R5cGUocix0LmluZGV4U3RhcnQsdC5pbmRleENvdW50LHRoaXMuZm9yY2VkSW5zdGFuY2VDb3VudHx8biksdGhpc30sZS5wcm90b3R5cGUucmVnaXN0ZXJCZWZvcmVSZW5kZXI9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMub25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlLmFkZCh0KSx0aGlzfSxlLnByb3RvdHlwZS51bnJlZ2lzdGVyQmVmb3JlUmVuZGVyPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5yZW1vdmVDYWxsYmFjayh0KSx0aGlzfSxlLnByb3RvdHlwZS5yZWdpc3RlckFmdGVyUmVuZGVyPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLm9uQWZ0ZXJSZW5kZXJPYnNlcnZhYmxlLmFkZCh0KSx0aGlzfSxlLnByb3RvdHlwZS51bnJlZ2lzdGVyQWZ0ZXJSZW5kZXI9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMub25BZnRlclJlbmRlck9ic2VydmFibGUucmVtb3ZlQ2FsbGJhY2sodCksdGhpc30sZS5wcm90b3R5cGUuX2dldEluc3RhbmNlc1JlbmRlckxpc3Q9ZnVuY3Rpb24odCxyKXtpZihyPT09dm9pZCAwJiYocj0hMSksdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5pc0Zyb3plbil7aWYocilyZXR1cm4gdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5iYXRjaENhY2hlUmVwbGFjZW1lbnRNb2RlSW5Gcm96ZW5Nb2RlLmhhcmR3YXJlSW5zdGFuY2VkUmVuZGVyaW5nW3RdPSExLHRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UuYmF0Y2hDYWNoZVJlcGxhY2VtZW50TW9kZUluRnJvemVuTW9kZS5yZW5kZXJTZWxmW3RdPSEwLHRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UuYmF0Y2hDYWNoZVJlcGxhY2VtZW50TW9kZUluRnJvemVuTW9kZTtpZih0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLnByZXZpb3VzQmF0Y2gpcmV0dXJuIHRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UucHJldmlvdXNCYXRjaH12YXIgbj10aGlzLmdldFNjZW5lKCksYT1uLl9pc0luSW50ZXJtZWRpYXRlUmVuZGVyaW5nKCkscz1hP3RoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX29ubHlGb3JJbnN0YW5jZXNJbnRlcm1lZGlhdGU6dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fb25seUZvckluc3RhbmNlcyxvPXRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UuYmF0Y2hDYWNoZTtpZihvLm11c3RSZXR1cm49ITEsby5yZW5kZXJTZWxmW3RdPXJ8fCFzJiZ0aGlzLmlzRW5hYmxlZCgpJiZ0aGlzLmlzVmlzaWJsZSxvLnZpc2libGVJbnN0YW5jZXNbdF09bnVsbCx0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLnZpc2libGVJbnN0YW5jZXMmJiFyKXt2YXIgdT10aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLnZpc2libGVJbnN0YW5jZXMsZj1uLmdldFJlbmRlcklkKCksbD1hP3UuaW50ZXJtZWRpYXRlRGVmYXVsdFJlbmRlcklkOnUuZGVmYXVsdFJlbmRlcklkO28udmlzaWJsZUluc3RhbmNlc1t0XT11W2ZdLCFvLnZpc2libGVJbnN0YW5jZXNbdF0mJmwmJihvLnZpc2libGVJbnN0YW5jZXNbdF09dVtsXSl9cmV0dXJuIG8uaGFyZHdhcmVJbnN0YW5jZWRSZW5kZXJpbmdbdF09IXImJnRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UuaGFyZHdhcmVJbnN0YW5jZWRSZW5kZXJpbmcmJm8udmlzaWJsZUluc3RhbmNlc1t0XSE9PW51bGwmJm8udmlzaWJsZUluc3RhbmNlc1t0XSE9PXZvaWQgMCx0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLnByZXZpb3VzQmF0Y2g9byxvfSxlLnByb3RvdHlwZS5fcmVuZGVyV2l0aEluc3RhbmNlcz1mdW5jdGlvbih0LHIsbixhLHMpe3ZhciBvLHU9bi52aXNpYmxlSW5zdGFuY2VzW3QuX2lkXTtpZighdSlyZXR1cm4gdGhpcztmb3IodmFyIGY9dGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZSxsPWYuaW5zdGFuY2VzQnVmZmVyU2l6ZSxoPWYuaW5zdGFuY2VzQnVmZmVyLGM9Zi5pbnN0YW5jZXNQcmV2aW91c0J1ZmZlcixkPXUubGVuZ3RoKzEscD1kKjE2KjQ7Zi5pbnN0YW5jZXNCdWZmZXJTaXplPHA7KWYuaW5zdGFuY2VzQnVmZmVyU2l6ZSo9MjsoIWYuaW5zdGFuY2VzRGF0YXx8bCE9Zi5pbnN0YW5jZXNCdWZmZXJTaXplKSYmKGYuaW5zdGFuY2VzRGF0YT1uZXcgRmxvYXQzMkFycmF5KGYuaW5zdGFuY2VzQnVmZmVyU2l6ZS80KSksKHRoaXMuX3NjZW5lLm5lZWRzUHJldmlvdXNXb3JsZE1hdHJpY2VzJiYhZi5pbnN0YW5jZXNQcmV2aW91c0RhdGF8fGwhPWYuaW5zdGFuY2VzQnVmZmVyU2l6ZSkmJihmLmluc3RhbmNlc1ByZXZpb3VzRGF0YT1uZXcgRmxvYXQzMkFycmF5KGYuaW5zdGFuY2VzQnVmZmVyU2l6ZS80KSk7dmFyIGc9MCxfPTAsdj1uLnJlbmRlclNlbGZbdC5faWRdLHk9IWh8fGwhPT1mLmluc3RhbmNlc0J1ZmZlclNpemV8fHRoaXMuX3NjZW5lLm5lZWRzUHJldmlvdXNXb3JsZE1hdHJpY2VzJiYhZi5pbnN0YW5jZXNQcmV2aW91c0J1ZmZlcjtpZighdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5tYW51YWxVcGRhdGUmJighZi5pc0Zyb3plbnx8eSkpe3ZhciBFPXRoaXMuZ2V0V29ybGRNYXRyaXgoKTtpZih2JiYodGhpcy5fc2NlbmUubmVlZHNQcmV2aW91c1dvcmxkTWF0cmljZXMmJihmLm1hc3Rlck1lc2hQcmV2aW91c1dvcmxkTWF0cml4PyhmLm1hc3Rlck1lc2hQcmV2aW91c1dvcmxkTWF0cml4LmNvcHlUb0FycmF5KGYuaW5zdGFuY2VzUHJldmlvdXNEYXRhLGcpLGYubWFzdGVyTWVzaFByZXZpb3VzV29ybGRNYXRyaXguY29weUZyb20oRSkpOihmLm1hc3Rlck1lc2hQcmV2aW91c1dvcmxkTWF0cml4PUUuY2xvbmUoKSxmLm1hc3Rlck1lc2hQcmV2aW91c1dvcmxkTWF0cml4LmNvcHlUb0FycmF5KGYuaW5zdGFuY2VzUHJldmlvdXNEYXRhLGcpKSksRS5jb3B5VG9BcnJheShmLmluc3RhbmNlc0RhdGEsZyksZys9MTYsXysrKSx1KXtpZihlLklOU1RBTkNFRE1FU0hfU09SVF9UUkFOU1BBUkVOVCYmdGhpcy5fc2NlbmUuYWN0aXZlQ2FtZXJhJiYoKG89dC5nZXRNYXRlcmlhbCgpKT09PW51bGx8fG89PT12b2lkIDA/dm9pZCAwOm8ubmVlZEFscGhhQmxlbmRpbmdGb3JNZXNoKHQuZ2V0UmVuZGVyaW5nTWVzaCgpKSkpe2Zvcih2YXIgUj10aGlzLl9zY2VuZS5hY3RpdmVDYW1lcmEuZ2xvYmFsUG9zaXRpb24sTT0wO008dS5sZW5ndGg7TSsrKXt2YXIgQz11W01dO0MuX2Rpc3RhbmNlVG9DYW1lcmE9Yi5EaXN0YW5jZShDLmdldEJvdW5kaW5nSW5mbygpLmJvdW5kaW5nU3BoZXJlLmNlbnRlcldvcmxkLFIpfXUuc29ydChmdW5jdGlvbih3LEYpe3JldHVybiB3Ll9kaXN0YW5jZVRvQ2FtZXJhPkYuX2Rpc3RhbmNlVG9DYW1lcmE/LTE6dy5fZGlzdGFuY2VUb0NhbWVyYTxGLl9kaXN0YW5jZVRvQ2FtZXJhPzE6MH0pfWZvcih2YXIgTT0wO008dS5sZW5ndGg7TSsrKXt2YXIgQT11W01dLFM9QS5nZXRXb3JsZE1hdHJpeCgpO1MuY29weVRvQXJyYXkoZi5pbnN0YW5jZXNEYXRhLGcpLHRoaXMuX3NjZW5lLm5lZWRzUHJldmlvdXNXb3JsZE1hdHJpY2VzJiYoQS5fcHJldmlvdXNXb3JsZE1hdHJpeD8oQS5fcHJldmlvdXNXb3JsZE1hdHJpeC5jb3B5VG9BcnJheShmLmluc3RhbmNlc1ByZXZpb3VzRGF0YSxnKSxBLl9wcmV2aW91c1dvcmxkTWF0cml4LmNvcHlGcm9tKFMpKTooQS5fcHJldmlvdXNXb3JsZE1hdHJpeD1TLmNsb25lKCksQS5fcHJldmlvdXNXb3JsZE1hdHJpeC5jb3B5VG9BcnJheShmLmluc3RhbmNlc1ByZXZpb3VzRGF0YSxnKSkpLGcrPTE2LF8rK319fWVsc2UgXz0odj8xOjApK3UubGVuZ3RoO3JldHVybiB5PyhoJiZoLmRpc3Bvc2UoKSxjJiZjLmRpc3Bvc2UoKSxoPW5ldyBTcihzLGYuaW5zdGFuY2VzRGF0YSwhMCwxNiwhMSwhMCksZi5pbnN0YW5jZXNCdWZmZXI9aCx0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2V8fCh0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2U9e2RhdGE6e30sdmVydGV4QnVmZmVyczp7fSxzdHJpZGVzOnt9LHNpemVzOnt9LHZlcnRleEFycmF5T2JqZWN0czp0aGlzLmdldEVuZ2luZSgpLmdldENhcHMoKS52ZXJ0ZXhBcnJheU9iamVjdD97fTp2b2lkIDB9KSx0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UudmVydGV4QnVmZmVycy53b3JsZDA9aC5jcmVhdGVWZXJ0ZXhCdWZmZXIoIndvcmxkMCIsMCw0KSx0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UudmVydGV4QnVmZmVycy53b3JsZDE9aC5jcmVhdGVWZXJ0ZXhCdWZmZXIoIndvcmxkMSIsNCw0KSx0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UudmVydGV4QnVmZmVycy53b3JsZDI9aC5jcmVhdGVWZXJ0ZXhCdWZmZXIoIndvcmxkMiIsOCw0KSx0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UudmVydGV4QnVmZmVycy53b3JsZDM9aC5jcmVhdGVWZXJ0ZXhCdWZmZXIoIndvcmxkMyIsMTIsNCksdGhpcy5fc2NlbmUubmVlZHNQcmV2aW91c1dvcmxkTWF0cmljZXMmJihjPW5ldyBTcihzLGYuaW5zdGFuY2VzUHJldmlvdXNEYXRhLCEwLDE2LCExLCEwKSxmLmluc3RhbmNlc1ByZXZpb3VzQnVmZmVyPWMsdGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnZlcnRleEJ1ZmZlcnMucHJldmlvdXNXb3JsZDA9Yy5jcmVhdGVWZXJ0ZXhCdWZmZXIoInByZXZpb3VzV29ybGQwIiwwLDQpLHRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS52ZXJ0ZXhCdWZmZXJzLnByZXZpb3VzV29ybGQxPWMuY3JlYXRlVmVydGV4QnVmZmVyKCJwcmV2aW91c1dvcmxkMSIsNCw0KSx0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UudmVydGV4QnVmZmVycy5wcmV2aW91c1dvcmxkMj1jLmNyZWF0ZVZlcnRleEJ1ZmZlcigicHJldmlvdXNXb3JsZDIiLDgsNCksdGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnZlcnRleEJ1ZmZlcnMucHJldmlvdXNXb3JsZDM9Yy5jcmVhdGVWZXJ0ZXhCdWZmZXIoInByZXZpb3VzV29ybGQzIiwxMiw0KSksdGhpcy5faW52YWxpZGF0ZUluc3RhbmNlVmVydGV4QXJyYXlPYmplY3QoKSk6dGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5pc0Zyb3plbnx8KGgudXBkYXRlRGlyZWN0bHkoZi5pbnN0YW5jZXNEYXRhLDAsXyksdGhpcy5fc2NlbmUubmVlZHNQcmV2aW91c1dvcmxkTWF0cmljZXMmJighdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5tYW51YWxVcGRhdGV8fHRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UucHJldmlvdXNNYW51YWxVcGRhdGUpJiZjLnVwZGF0ZURpcmVjdGx5KGYuaW5zdGFuY2VzUHJldmlvdXNEYXRhLDAsXykpLHRoaXMuX3Byb2Nlc3NJbnN0YW5jZWRCdWZmZXJzKHUsdiksdGhpcy5nZXRTY2VuZSgpLl9hY3RpdmVJbmRpY2VzLmFkZENvdW50KHQuaW5kZXhDb3VudCpfLCExKSxzLl9jdXJyZW50RHJhd0NvbnRleHQmJihzLl9jdXJyZW50RHJhd0NvbnRleHQudXNlSW5zdGFuY2luZz0hMCksdGhpcy5fYmluZCh0LGEsciksdGhpcy5fZHJhdyh0LHIsXyksdGhpcy5fc2NlbmUubmVlZHNQcmV2aW91c1dvcmxkTWF0cmljZXMmJiF5JiZ0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLm1hbnVhbFVwZGF0ZSYmIXRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UuaXNGcm96ZW4mJiF0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLnByZXZpb3VzTWFudWFsVXBkYXRlJiZjLnVwZGF0ZURpcmVjdGx5KGYuaW5zdGFuY2VzRGF0YSwwLF8pLHMudW5iaW5kSW5zdGFuY2VBdHRyaWJ1dGVzKCksdGhpc30sZS5wcm90b3R5cGUuX3JlbmRlcldpdGhUaGluSW5zdGFuY2VzPWZ1bmN0aW9uKHQscixuLGEpe3ZhciBzLG8sdT0obz0ocz10aGlzLl90aGluSW5zdGFuY2VEYXRhU3RvcmFnZSk9PT1udWxsfHxzPT09dm9pZCAwP3ZvaWQgMDpzLmluc3RhbmNlc0NvdW50KSE9PW51bGwmJm8hPT12b2lkIDA/bzowO3RoaXMuZ2V0U2NlbmUoKS5fYWN0aXZlSW5kaWNlcy5hZGRDb3VudCh0LmluZGV4Q291bnQqdSwhMSksYS5fY3VycmVudERyYXdDb250ZXh0JiYoYS5fY3VycmVudERyYXdDb250ZXh0LnVzZUluc3RhbmNpbmc9ITApLHRoaXMuX2JpbmQodCxuLHIpLHRoaXMuX2RyYXcodCxyLHUpLHRoaXMuX3NjZW5lLm5lZWRzUHJldmlvdXNXb3JsZE1hdHJpY2VzJiYhdGhpcy5fdGhpbkluc3RhbmNlRGF0YVN0b3JhZ2UucHJldmlvdXNNYXRyaXhEYXRhJiZ0aGlzLl90aGluSW5zdGFuY2VEYXRhU3RvcmFnZS5tYXRyaXhEYXRhJiYodGhpcy5fdGhpbkluc3RhbmNlRGF0YVN0b3JhZ2UucHJldmlvdXNNYXRyaXhCdWZmZXI/dGhpcy5fdGhpbkluc3RhbmNlRGF0YVN0b3JhZ2UucHJldmlvdXNNYXRyaXhCdWZmZXIudXBkYXRlRGlyZWN0bHkodGhpcy5fdGhpbkluc3RhbmNlRGF0YVN0b3JhZ2UubWF0cml4RGF0YSwwLHUpOnRoaXMuX3RoaW5JbnN0YW5jZURhdGFTdG9yYWdlLnByZXZpb3VzTWF0cml4QnVmZmVyPXRoaXMuX3RoaW5JbnN0YW5jZUNyZWF0ZU1hdHJpeEJ1ZmZlcigicHJldmlvdXNXb3JsZCIsdGhpcy5fdGhpbkluc3RhbmNlRGF0YVN0b3JhZ2UubWF0cml4RGF0YSwhMSkpLGEudW5iaW5kSW5zdGFuY2VBdHRyaWJ1dGVzKCl9LGUucHJvdG90eXBlLl9wcm9jZXNzSW5zdGFuY2VkQnVmZmVycz1mdW5jdGlvbih0LHIpe30sZS5wcm90b3R5cGUuX3Byb2Nlc3NSZW5kZXJpbmc9ZnVuY3Rpb24odCxyLG4sYSxzLG8sdSxmKXt2YXIgbD10aGlzLmdldFNjZW5lKCksaD1sLmdldEVuZ2luZSgpO2lmKG8mJnIuZ2V0UmVuZGVyaW5nTWVzaCgpLmhhc1RoaW5JbnN0YW5jZXMpcmV0dXJuIHRoaXMuX3JlbmRlcldpdGhUaGluSW5zdGFuY2VzKHIsYSxuLGgpLHRoaXM7aWYobyl0aGlzLl9yZW5kZXJXaXRoSW5zdGFuY2VzKHIsYSxzLG4saCk7ZWxzZXtoLl9jdXJyZW50RHJhd0NvbnRleHQmJihoLl9jdXJyZW50RHJhd0NvbnRleHQudXNlSW5zdGFuY2luZz0hMSk7dmFyIGM9MDtzLnJlbmRlclNlbGZbci5faWRdJiYodSYmdSghMSx0LmdldFdvcmxkTWF0cml4KCksZiksYysrLHRoaXMuX2RyYXcocixhLHRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2Uub3ZlcnJpZGVuSW5zdGFuY2VDb3VudCkpO3ZhciBkPXMudmlzaWJsZUluc3RhbmNlc1tyLl9pZF07aWYoZCl7dmFyIHA9ZC5sZW5ndGg7Yys9cDtmb3IodmFyIGc9MDtnPHA7ZysrKXt2YXIgXz1kW2ddLHY9Xy5nZXRXb3JsZE1hdHJpeCgpO3UmJnUoITAsdixmKSx0aGlzLl9kcmF3KHIsYSl9fWwuX2FjdGl2ZUluZGljZXMuYWRkQ291bnQoci5pbmRleENvdW50KmMsITEpfXJldHVybiB0aGlzfSxlLnByb3RvdHlwZS5fcmVidWlsZD1mdW5jdGlvbih0KXtpZih0PT09dm9pZCAwJiYodD0hMSksdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5pbnN0YW5jZXNCdWZmZXImJih0JiZ0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLmluc3RhbmNlc0J1ZmZlci5kaXNwb3NlKCksdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5pbnN0YW5jZXNCdWZmZXI9bnVsbCksdGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlKXtmb3IodmFyIHIgaW4gdGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnZlcnRleEJ1ZmZlcnMpe3ZhciBuPXRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS52ZXJ0ZXhCdWZmZXJzW3JdO24mJih0JiZuLmRpc3Bvc2UoKSx0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UudmVydGV4QnVmZmVyc1tyXT1udWxsKX10aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UudmVydGV4QXJyYXlPYmplY3RzJiYodGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnZlcnRleEFycmF5T2JqZWN0cz17fSl9dGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX2VmZmVjdGl2ZU1hdGVyaWFsPW51bGwsaS5wcm90b3R5cGUuX3JlYnVpbGQuY2FsbCh0aGlzLHQpfSxlLnByb3RvdHlwZS5fZnJlZXplPWZ1bmN0aW9uKCl7aWYoISF0aGlzLnN1Yk1lc2hlcyl7Zm9yKHZhciB0PTA7dDx0aGlzLnN1Yk1lc2hlcy5sZW5ndGg7dCsrKXRoaXMuX2dldEluc3RhbmNlc1JlbmRlckxpc3QodCk7dGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX2VmZmVjdGl2ZU1hdGVyaWFsPW51bGwsdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5pc0Zyb3plbj0hMH19LGUucHJvdG90eXBlLl91bkZyZWV6ZT1mdW5jdGlvbigpe3RoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UuaXNGcm96ZW49ITEsdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5wcmV2aW91c0JhdGNoPW51bGx9LGUucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbih0LHIsbil7dmFyIGEscyxvLHU9dGhpcy5nZXRTY2VuZSgpO2lmKHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2lzQWN0aXZlSW50ZXJtZWRpYXRlP3RoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2lzQWN0aXZlSW50ZXJtZWRpYXRlPSExOnRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2lzQWN0aXZlPSExLHRoaXMuX2NoZWNrT2NjbHVzaW9uUXVlcnkoKSYmIXRoaXMuX29jY2x1c2lvbkRhdGFTdG9yYWdlLmZvcmNlUmVuZGVyaW5nV2hlbk9jY2x1ZGVkKXJldHVybiB0aGlzO3ZhciBmPXRoaXMuX2dldEluc3RhbmNlc1JlbmRlckxpc3QodC5faWQsISFuKTtpZihmLm11c3RSZXR1cm4pcmV0dXJuIHRoaXM7aWYoIXRoaXMuX2dlb21ldHJ5fHwhdGhpcy5fZ2VvbWV0cnkuZ2V0VmVydGV4QnVmZmVycygpfHwhdGhpcy5fdW5JbmRleGVkJiYhdGhpcy5fZ2VvbWV0cnkuZ2V0SW5kZXhCdWZmZXIoKSlyZXR1cm4gdGhpczt2YXIgbD11LmdldEVuZ2luZSgpLGg9MCxjPW51bGw7dGhpcy5pZ25vcmVDYW1lcmFNYXhaJiZ1LmFjdGl2ZUNhbWVyYSYmIXUuX2lzSW5JbnRlcm1lZGlhdGVSZW5kZXJpbmcoKSYmKGg9dS5hY3RpdmVDYW1lcmEubWF4WixjPXUuYWN0aXZlQ2FtZXJhLHUuYWN0aXZlQ2FtZXJhLm1heFo9MCx1LnVwZGF0ZVRyYW5zZm9ybU1hdHJpeCghMCkpLHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9vbkJlZm9yZVJlbmRlck9ic2VydmFibGUmJnRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9vbkJlZm9yZVJlbmRlck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpO3ZhciBkPWYuaGFyZHdhcmVJbnN0YW5jZWRSZW5kZXJpbmdbdC5faWRdfHx0LmdldFJlbmRlcmluZ01lc2goKS5oYXNUaGluSW5zdGFuY2VzLHA9dGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZSxnPXQuZ2V0TWF0ZXJpYWwoKTtpZighZylyZXR1cm4gYyYmKGMubWF4Wj1oLHUudXBkYXRlVHJhbnNmb3JtTWF0cml4KCEwKSksdGhpcztpZighcC5pc0Zyb3plbnx8IXRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9lZmZlY3RpdmVNYXRlcmlhbHx8dGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX2VmZmVjdGl2ZU1hdGVyaWFsIT09Zyl7aWYoZy5fc3RvcmVFZmZlY3RPblN1Yk1lc2hlcyl7aWYoIWcuaXNSZWFkeUZvclN1Yk1lc2godGhpcyx0LGQpKXJldHVybiBjJiYoYy5tYXhaPWgsdS51cGRhdGVUcmFuc2Zvcm1NYXRyaXgoITApKSx0aGlzfWVsc2UgaWYoIWcuaXNSZWFkeSh0aGlzLGQpKXJldHVybiBjJiYoYy5tYXhaPWgsdS51cGRhdGVUcmFuc2Zvcm1NYXRyaXgoITApKSx0aGlzO3RoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9lZmZlY3RpdmVNYXRlcmlhbD1nfWVsc2UgaWYoZy5fc3RvcmVFZmZlY3RPblN1Yk1lc2hlcyYmISghKChhPXQuZWZmZWN0KT09PW51bGx8fGE9PT12b2lkIDApJiZhLl93YXNQcmV2aW91c2x5UmVhZHkpfHwhZy5fc3RvcmVFZmZlY3RPblN1Yk1lc2hlcyYmISghKChzPWcuZ2V0RWZmZWN0KCkpPT09bnVsbHx8cz09PXZvaWQgMCkmJnMuX3dhc1ByZXZpb3VzbHlSZWFkeSkpcmV0dXJuIGMmJihjLm1heFo9aCx1LnVwZGF0ZVRyYW5zZm9ybU1hdHJpeCghMCkpLHRoaXM7ciYmbC5zZXRBbHBoYU1vZGUodGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX2VmZmVjdGl2ZU1hdGVyaWFsLmFscGhhTW9kZSk7dmFyIF87dGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX2VmZmVjdGl2ZU1hdGVyaWFsLl9zdG9yZUVmZmVjdE9uU3ViTWVzaGVzP189dC5fZHJhd1dyYXBwZXI6Xz10aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fZWZmZWN0aXZlTWF0ZXJpYWwuX2dldERyYXdXcmFwcGVyKCk7Zm9yKHZhciB2PShvPV89PW51bGw/dm9pZCAwOl8uZWZmZWN0KSE9PW51bGwmJm8hPT12b2lkIDA/bzpudWxsLHk9MCxFPXUuX2JlZm9yZVJlbmRlcmluZ01lc2hTdGFnZTt5PEUubGVuZ3RoO3krKyl7dmFyIFI9RVt5XTtSLmFjdGlvbih0aGlzLHQsZix2KX1pZighX3x8IXYpcmV0dXJuIGMmJihjLm1heFo9aCx1LnVwZGF0ZVRyYW5zZm9ybU1hdHJpeCghMCkpLHRoaXM7dmFyIE09bnx8dGhpcyxDO2lmKCFwLmlzRnJvemVuJiYodGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX2VmZmVjdGl2ZU1hdGVyaWFsLmJhY2tGYWNlQ3VsbGluZ3x8dGhpcy5vdmVycmlkZU1hdGVyaWFsU2lkZU9yaWVudGF0aW9uIT09bnVsbCkpe3ZhciBBPU0uX2dldFdvcmxkTWF0cml4RGV0ZXJtaW5hbnQoKTtDPXRoaXMub3ZlcnJpZGVNYXRlcmlhbFNpZGVPcmllbnRhdGlvbixDPT1udWxsJiYoQz10aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fZWZmZWN0aXZlTWF0ZXJpYWwuc2lkZU9yaWVudGF0aW9uKSxBPDAmJihDPUM9PT1GZS5DbG9ja1dpc2VTaWRlT3JpZW50YXRpb24/RmUuQ291bnRlckNsb2NrV2lzZVNpZGVPcmllbnRhdGlvbjpGZS5DbG9ja1dpc2VTaWRlT3JpZW50YXRpb24pLHAuc2lkZU9yaWVudGF0aW9uPUN9ZWxzZSBDPXAuc2lkZU9yaWVudGF0aW9uO3ZhciBTPXRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9lZmZlY3RpdmVNYXRlcmlhbC5fcHJlQmluZChfLEMpO3RoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9lZmZlY3RpdmVNYXRlcmlhbC5mb3JjZURlcHRoV3JpdGUmJmwuc2V0RGVwdGhXcml0ZSghMCk7dmFyIHc9dS5mb3JjZVBvaW50c0Nsb3VkP0ZlLlBvaW50RmlsbE1vZGU6dS5mb3JjZVdpcmVmcmFtZT9GZS5XaXJlRnJhbWVGaWxsTW9kZTp0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fZWZmZWN0aXZlTWF0ZXJpYWwuZmlsbE1vZGU7dGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX29uQmVmb3JlQmluZE9ic2VydmFibGUmJnRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9vbkJlZm9yZUJpbmRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKSxkfHx0aGlzLl9iaW5kKHQsdix3KTt2YXIgRj10aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fZWZmZWN0aXZlTWF0ZXJpYWwseD1NLmdldFdvcmxkTWF0cml4KCk7Ri5fc3RvcmVFZmZlY3RPblN1Yk1lc2hlcz9GLmJpbmRGb3JTdWJNZXNoKHgsdGhpcyx0KTpGLmJpbmQoeCx0aGlzKSwhRi5iYWNrRmFjZUN1bGxpbmcmJkYuc2VwYXJhdGVDdWxsaW5nUGFzcyYmKGwuc2V0U3RhdGUoITAsRi56T2Zmc2V0LCExLCFTLEYuY3VsbEJhY2tGYWNlcyxGLnN0ZW5jaWwsRi56T2Zmc2V0VW5pdHMpLHRoaXMuX3Byb2Nlc3NSZW5kZXJpbmcodGhpcyx0LHYsdyxmLGQsdGhpcy5fb25CZWZvcmVEcmF3LHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9lZmZlY3RpdmVNYXRlcmlhbCksbC5zZXRTdGF0ZSghMCxGLnpPZmZzZXQsITEsUyxGLmN1bGxCYWNrRmFjZXMsRi5zdGVuY2lsLEYuek9mZnNldFVuaXRzKSx0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fb25CZXR3ZWVuUGFzc09ic2VydmFibGUmJnRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9vbkJldHdlZW5QYXNzT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModCkpLHRoaXMuX3Byb2Nlc3NSZW5kZXJpbmcodGhpcyx0LHYsdyxmLGQsdGhpcy5fb25CZWZvcmVEcmF3LHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9lZmZlY3RpdmVNYXRlcmlhbCksdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX2VmZmVjdGl2ZU1hdGVyaWFsLnVuYmluZCgpO2Zvcih2YXIgRz0wLHo9dS5fYWZ0ZXJSZW5kZXJpbmdNZXNoU3RhZ2U7Rzx6Lmxlbmd0aDtHKyspe3ZhciBSPXpbR107Ui5hY3Rpb24odGhpcyx0LGYsdil9cmV0dXJuIHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9vbkFmdGVyUmVuZGVyT2JzZXJ2YWJsZSYmdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX29uQWZ0ZXJSZW5kZXJPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKSxjJiYoYy5tYXhaPWgsdS51cGRhdGVUcmFuc2Zvcm1NYXRyaXgoITApKSx0aGlzfSxlLnByb3RvdHlwZS5jbGVhbk1hdHJpeFdlaWdodHM9ZnVuY3Rpb24oKXt0aGlzLmlzVmVydGljZXNEYXRhUHJlc2VudChtLk1hdHJpY2VzV2VpZ2h0c0tpbmQpJiYodGhpcy5pc1ZlcnRpY2VzRGF0YVByZXNlbnQobS5NYXRyaWNlc1dlaWdodHNFeHRyYUtpbmQpP3RoaXMuX25vcm1hbGl6ZVNraW5XZWlnaHRzQW5kRXh0cmEoKTp0aGlzLl9ub3JtYWxpemVTa2luRm91cldlaWdodHMoKSl9LGUucHJvdG90eXBlLl9ub3JtYWxpemVTa2luRm91cldlaWdodHM9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5nZXRWZXJ0aWNlc0RhdGEobS5NYXRyaWNlc1dlaWdodHNLaW5kKSxyPXQubGVuZ3RoLG49MDtuPHI7bis9NCl7dmFyIGE9dFtuXSt0W24rMV0rdFtuKzJdK3RbbiszXTtpZihhPT09MCl0W25dPTE7ZWxzZXt2YXIgcz0xL2E7dFtuXSo9cyx0W24rMV0qPXMsdFtuKzJdKj1zLHRbbiszXSo9c319dGhpcy5zZXRWZXJ0aWNlc0RhdGEobS5NYXRyaWNlc1dlaWdodHNLaW5kLHQpfSxlLnByb3RvdHlwZS5fbm9ybWFsaXplU2tpbldlaWdodHNBbmRFeHRyYT1mdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLmdldFZlcnRpY2VzRGF0YShtLk1hdHJpY2VzV2VpZ2h0c0V4dHJhS2luZCkscj10aGlzLmdldFZlcnRpY2VzRGF0YShtLk1hdHJpY2VzV2VpZ2h0c0tpbmQpLG49ci5sZW5ndGgsYT0wO2E8bjthKz00KXt2YXIgcz1yW2FdK3JbYSsxXStyW2ErMl0rclthKzNdO2lmKHMrPXRbYV0rdFthKzFdK3RbYSsyXSt0W2ErM10scz09PTApclthXT0xO2Vsc2V7dmFyIG89MS9zO3JbYV0qPW8sclthKzFdKj1vLHJbYSsyXSo9byxyW2ErM10qPW8sdFthXSo9byx0W2ErMV0qPW8sdFthKzJdKj1vLHRbYSszXSo9b319dGhpcy5zZXRWZXJ0aWNlc0RhdGEobS5NYXRyaWNlc1dlaWdodHNLaW5kLHIpLHRoaXMuc2V0VmVydGljZXNEYXRhKG0uTWF0cmljZXNXZWlnaHRzS2luZCx0KX0sZS5wcm90b3R5cGUudmFsaWRhdGVTa2lubmluZz1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2V0VmVydGljZXNEYXRhKG0uTWF0cmljZXNXZWlnaHRzRXh0cmFLaW5kKSxyPXRoaXMuZ2V0VmVydGljZXNEYXRhKG0uTWF0cmljZXNXZWlnaHRzS2luZCk7aWYocj09PW51bGx8fHRoaXMuc2tlbGV0b249PW51bGwpcmV0dXJue3NraW5uZWQ6ITEsdmFsaWQ6ITAscmVwb3J0OiJub3Qgc2tpbm5lZCJ9O2Zvcih2YXIgbj1yLmxlbmd0aCxhPTAscz0wLG89MCx1PTAsZj10PT09bnVsbD80OjgsbD1uZXcgQXJyYXksaD0wO2g8PWY7aCsrKWxbaF09MDtmb3IodmFyIGM9LjAwMSxoPTA7aDxuO2grPTQpe2Zvcih2YXIgZD1yW2hdLHA9ZCxnPXA9PT0wPzA6MSxfPTE7XzxmO18rKyl7dmFyIHY9Xzw0P3JbaCtfXTp0W2grXy00XTt2PmQmJmErKyx2IT09MCYmZysrLHArPXYsZD12fWlmKGxbZ10rKyxnPm8mJihvPWcpLHA9PT0wKXMrKztlbHNle2Zvcih2YXIgeT0xL3AsRT0wLF89MDtfPGY7XysrKV88ND9FKz1NYXRoLmFicyhyW2grX10tcltoK19dKnkpOkUrPU1hdGguYWJzKHRbaCtfLTRdLXRbaCtfLTRdKnkpO0U+YyYmdSsrfX1mb3IodmFyIFI9dGhpcy5za2VsZXRvbi5ib25lcy5sZW5ndGgsTT10aGlzLmdldFZlcnRpY2VzRGF0YShtLk1hdHJpY2VzSW5kaWNlc0tpbmQpLEM9dGhpcy5nZXRWZXJ0aWNlc0RhdGEobS5NYXRyaWNlc0luZGljZXNFeHRyYUtpbmQpLEE9MCxoPTA7aDxuO2grPTQpZm9yKHZhciBfPTA7XzxmO18rKyl7dmFyIFM9Xzw0P01baCtfXTpDW2grXy00XTsoUz49Unx8UzwwKSYmQSsrfXZhciB3PSJOdW1iZXIgb2YgV2VpZ2h0cyA9ICIrbi80K2AKTWF4aW11bSBpbmZsdWVuY2VzID0gYCtvK2AKTWlzc2luZyBXZWlnaHRzID0gYCtzK2AKTm90IFNvcnRlZCA9IGArYStgCk5vdCBOb3JtYWxpemVkID0gYCt1K2AKV2VpZ2h0Q291bnRzID0gW2ArbCtgXQpOdW1iZXIgb2YgYm9uZXMgPSBgK1IrYApCYWQgQm9uZSBJbmRpY2VzID0gYCtBO3JldHVybntza2lubmVkOiEwLHZhbGlkOnM9PT0wJiZ1PT09MCYmQT09PTAscmVwb3J0Ond9fSxlLnByb3RvdHlwZS5fY2hlY2tEZWxheVN0YXRlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nZXRTY2VuZSgpO3JldHVybiB0aGlzLl9nZW9tZXRyeT90aGlzLl9nZW9tZXRyeS5sb2FkKHQpOnRoaXMuZGVsYXlMb2FkU3RhdGU9PT00JiYodGhpcy5kZWxheUxvYWRTdGF0ZT0yLHRoaXMuX3F1ZXVlTG9hZCh0KSksdGhpc30sZS5wcm90b3R5cGUuX3F1ZXVlTG9hZD1mdW5jdGlvbih0KXt2YXIgcj10aGlzO3QuX2FkZFBlbmRpbmdEYXRhKHRoaXMpO3ZhciBuPXRoaXMuZGVsYXlMb2FkaW5nRmlsZS5pbmRleE9mKCIuYmFieWxvbmJpbmFyeW1lc2hkYXRhIikhPT0tMTtyZXR1cm4gX2UuTG9hZEZpbGUodGhpcy5kZWxheUxvYWRpbmdGaWxlLGZ1bmN0aW9uKGEpe2EgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcj9yLl9kZWxheUxvYWRpbmdGdW5jdGlvbihhLHIpOnIuX2RlbGF5TG9hZGluZ0Z1bmN0aW9uKEpTT04ucGFyc2UoYSksciksci5pbnN0YW5jZXMuZm9yRWFjaChmdW5jdGlvbihzKXtzLnJlZnJlc2hCb3VuZGluZ0luZm8oKSxzLl9zeW5jU3ViTWVzaGVzKCl9KSxyLmRlbGF5TG9hZFN0YXRlPTEsdC5fcmVtb3ZlUGVuZGluZ0RhdGEocil9LGZ1bmN0aW9uKCl7fSx0Lm9mZmxpbmVQcm92aWRlcixuKSx0aGlzfSxlLnByb3RvdHlwZS5pc0luRnJ1c3R1bT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5kZWxheUxvYWRTdGF0ZT09PTJ8fCFpLnByb3RvdHlwZS5pc0luRnJ1c3R1bS5jYWxsKHRoaXMsdCk/ITE6KHRoaXMuX2NoZWNrRGVsYXlTdGF0ZSgpLCEwKX0sZS5wcm90b3R5cGUuc2V0TWF0ZXJpYWxCeUlkPWZ1bmN0aW9uKHQpe3ZhciByPXRoaXMuZ2V0U2NlbmUoKS5tYXRlcmlhbHMsbjtmb3Iobj1yLmxlbmd0aC0xO24+LTE7bi0tKWlmKHJbbl0uaWQ9PT10KXJldHVybiB0aGlzLm1hdGVyaWFsPXJbbl0sdGhpczt2YXIgYT10aGlzLmdldFNjZW5lKCkubXVsdGlNYXRlcmlhbHM7Zm9yKG49YS5sZW5ndGgtMTtuPi0xO24tLSlpZihhW25dLmlkPT09dClyZXR1cm4gdGhpcy5tYXRlcmlhbD1hW25dLHRoaXM7cmV0dXJuIHRoaXN9LGUucHJvdG90eXBlLmdldEFuaW1hdGFibGVzPWZ1bmN0aW9uKCl7dmFyIHQ9bmV3IEFycmF5O3JldHVybiB0aGlzLm1hdGVyaWFsJiZ0LnB1c2godGhpcy5tYXRlcmlhbCksdGhpcy5za2VsZXRvbiYmdC5wdXNoKHRoaXMuc2tlbGV0b24pLHR9LGUucHJvdG90eXBlLmJha2VUcmFuc2Zvcm1JbnRvVmVydGljZXM9ZnVuY3Rpb24odCl7aWYoIXRoaXMuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KG0uUG9zaXRpb25LaW5kKSlyZXR1cm4gdGhpczt2YXIgcj10aGlzLnN1Yk1lc2hlcy5zcGxpY2UoMCk7dGhpcy5fcmVzZXRQb2ludHNBcnJheUNhY2hlKCk7dmFyIG49dGhpcy5nZXRWZXJ0aWNlc0RhdGEobS5Qb3NpdGlvbktpbmQpLGE9bmV3IEFycmF5LHM7Zm9yKHM9MDtzPG4ubGVuZ3RoO3MrPTMpYi5UcmFuc2Zvcm1Db29yZGluYXRlcyhiLkZyb21BcnJheShuLHMpLHQpLnRvQXJyYXkoYSxzKTtpZih0aGlzLnNldFZlcnRpY2VzRGF0YShtLlBvc2l0aW9uS2luZCxhLHRoaXMuZ2V0VmVydGV4QnVmZmVyKG0uUG9zaXRpb25LaW5kKS5pc1VwZGF0YWJsZSgpKSx0aGlzLmlzVmVydGljZXNEYXRhUHJlc2VudChtLk5vcm1hbEtpbmQpKXtmb3Iobj10aGlzLmdldFZlcnRpY2VzRGF0YShtLk5vcm1hbEtpbmQpLGE9W10scz0wO3M8bi5sZW5ndGg7cys9MyliLlRyYW5zZm9ybU5vcm1hbChiLkZyb21BcnJheShuLHMpLHQpLm5vcm1hbGl6ZSgpLnRvQXJyYXkoYSxzKTt0aGlzLnNldFZlcnRpY2VzRGF0YShtLk5vcm1hbEtpbmQsYSx0aGlzLmdldFZlcnRleEJ1ZmZlcihtLk5vcm1hbEtpbmQpLmlzVXBkYXRhYmxlKCkpfXJldHVybiB0LmRldGVybWluYW50KCk8MCYmdGhpcy5mbGlwRmFjZXMoKSx0aGlzLnJlbGVhc2VTdWJNZXNoZXMoKSx0aGlzLnN1Yk1lc2hlcz1yLHRoaXN9LGUucHJvdG90eXBlLmJha2VDdXJyZW50VHJhbnNmb3JtSW50b1ZlcnRpY2VzPWZ1bmN0aW9uKHQpe3JldHVybiB0PT09dm9pZCAwJiYodD0hMCksdGhpcy5iYWtlVHJhbnNmb3JtSW50b1ZlcnRpY2VzKHRoaXMuY29tcHV0ZVdvcmxkTWF0cml4KCEwKSksdGhpcy5yZXNldExvY2FsTWF0cml4KHQpLHRoaXN9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiX3Bvc2l0aW9ucyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9wb3NpdGlvbnM/dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fcG9zaXRpb25zOnRoaXMuX2dlb21ldHJ5P3RoaXMuX2dlb21ldHJ5Ll9wb3NpdGlvbnM6bnVsbH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5fcmVzZXRQb2ludHNBcnJheUNhY2hlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dlb21ldHJ5JiZ0aGlzLl9nZW9tZXRyeS5fcmVzZXRQb2ludHNBcnJheUNhY2hlKCksdGhpc30sZS5wcm90b3R5cGUuX2dlbmVyYXRlUG9pbnRzQXJyYXk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZ2VvbWV0cnk/dGhpcy5fZ2VvbWV0cnkuX2dlbmVyYXRlUG9pbnRzQXJyYXkoKTohMX0sZS5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24odCxyLG4sYSl7cmV0dXJuIHQ9PT12b2lkIDAmJih0PSIiKSxyPT09dm9pZCAwJiYocj1udWxsKSxhPT09dm9pZCAwJiYoYT0hMCksbmV3IGUodCx0aGlzLmdldFNjZW5lKCkscix0aGlzLG4sYSl9LGUucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24odCxyKXtyPT09dm9pZCAwJiYocj0hMSksdGhpcy5tb3JwaFRhcmdldE1hbmFnZXI9bnVsbCx0aGlzLl9nZW9tZXRyeSYmdGhpcy5fZ2VvbWV0cnkucmVsZWFzZUZvck1lc2godGhpcywhMCk7dmFyIG49dGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm87aWYobi5fb25CZWZvcmVEcmF3T2JzZXJ2YWJsZSYmbi5fb25CZWZvcmVEcmF3T2JzZXJ2YWJsZS5jbGVhcigpLG4uX29uQmVmb3JlQmluZE9ic2VydmFibGUmJm4uX29uQmVmb3JlQmluZE9ic2VydmFibGUuY2xlYXIoKSxuLl9vbkJlZm9yZVJlbmRlck9ic2VydmFibGUmJm4uX29uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5jbGVhcigpLG4uX29uQWZ0ZXJSZW5kZXJPYnNlcnZhYmxlJiZuLl9vbkFmdGVyUmVuZGVyT2JzZXJ2YWJsZS5jbGVhcigpLG4uX29uQmV0d2VlblBhc3NPYnNlcnZhYmxlJiZuLl9vbkJldHdlZW5QYXNzT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMuX3NjZW5lLnVzZUNsb25lZE1lc2hNYXApe2lmKG4ubWVzaE1hcClmb3IodmFyIGEgaW4gbi5tZXNoTWFwKXt2YXIgcz1uLm1lc2hNYXBbYV07cyYmKHMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9zb3VyY2U9bnVsbCxuLm1lc2hNYXBbYV09dm9pZCAwKX1uLl9zb3VyY2UmJm4uX3NvdXJjZS5faW50ZXJuYWxNZXNoRGF0YUluZm8ubWVzaE1hcCYmKG4uX3NvdXJjZS5faW50ZXJuYWxNZXNoRGF0YUluZm8ubWVzaE1hcFt0aGlzLnVuaXF1ZUlkXT12b2lkIDApfWVsc2UgZm9yKHZhciBvPXRoaXMuZ2V0U2NlbmUoKS5tZXNoZXMsdT0wLGY9bzt1PGYubGVuZ3RoO3UrKyl7dmFyIGw9Zlt1XSxzPWw7cy5faW50ZXJuYWxNZXNoRGF0YUluZm8mJnMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9zb3VyY2UmJnMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9zb3VyY2U9PT10aGlzJiYocy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX3NvdXJjZT1udWxsKX1uLl9zb3VyY2U9bnVsbCx0aGlzLl9kaXNwb3NlSW5zdGFuY2VTcGVjaWZpY0RhdGEoKSx0aGlzLl9kaXNwb3NlVGhpbkluc3RhbmNlU3BlY2lmaWNEYXRhKCksdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX2NoZWNrUmVhZGluZXNzT2JzZXJ2ZXImJnRoaXMuX3NjZW5lLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX2NoZWNrUmVhZGluZXNzT2JzZXJ2ZXIpLGkucHJvdG90eXBlLmRpc3Bvc2UuY2FsbCh0aGlzLHQscil9LGUucHJvdG90eXBlLl9kaXNwb3NlSW5zdGFuY2VTcGVjaWZpY0RhdGE9ZnVuY3Rpb24oKXt9LGUucHJvdG90eXBlLl9kaXNwb3NlVGhpbkluc3RhbmNlU3BlY2lmaWNEYXRhPWZ1bmN0aW9uKCl7fSxlLnByb3RvdHlwZS5faW52YWxpZGF0ZUluc3RhbmNlVmVydGV4QXJyYXlPYmplY3Q9ZnVuY3Rpb24oKXt9LGUucHJvdG90eXBlLmFwcGx5RGlzcGxhY2VtZW50TWFwPWZ1bmN0aW9uKHQscixuLGEscyxvLHUpe3ZhciBmPXRoaXM7dT09PXZvaWQgMCYmKHU9ITEpO3ZhciBsPXRoaXMuZ2V0U2NlbmUoKSxoPWZ1bmN0aW9uKGMpe3ZhciBkPWMud2lkdGgscD1jLmhlaWdodCxnPWYuZ2V0RW5naW5lKCkuY3JlYXRlQ2FudmFzKGQscCksXz1nLmdldENvbnRleHQoIjJkIik7Xy5kcmF3SW1hZ2UoYywwLDApO3ZhciB2PV8uZ2V0SW1hZ2VEYXRhKDAsMCxkLHApLmRhdGE7Zi5hcHBseURpc3BsYWNlbWVudE1hcEZyb21CdWZmZXIodixkLHAscixuLHMsbyx1KSxhJiZhKGYpfTtyZXR1cm4gX2UuTG9hZEltYWdlKHQsaCxmdW5jdGlvbigpe30sbC5vZmZsaW5lUHJvdmlkZXIpLHRoaXN9LGUucHJvdG90eXBlLmFwcGx5RGlzcGxhY2VtZW50TWFwRnJvbUJ1ZmZlcj1mdW5jdGlvbih0LHIsbixhLHMsbyx1LGYpe2lmKGY9PT12b2lkIDAmJihmPSExKSwhdGhpcy5pc1ZlcnRpY2VzRGF0YVByZXNlbnQobS5Qb3NpdGlvbktpbmQpfHwhdGhpcy5pc1ZlcnRpY2VzRGF0YVByZXNlbnQobS5Ob3JtYWxLaW5kKXx8IXRoaXMuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KG0uVVZLaW5kKSlyZXR1cm4gVy5XYXJuKCJDYW5ub3QgY2FsbCBhcHBseURpc3BsYWNlbWVudE1hcDogR2l2ZW4gbWVzaCBpcyBub3QgY29tcGxldGUuIFBvc2l0aW9uLCBOb3JtYWwgb3IgVVYgYXJlIG1pc3NpbmciKSx0aGlzO3ZhciBsPXRoaXMuZ2V0VmVydGljZXNEYXRhKG0uUG9zaXRpb25LaW5kLCEwLCEwKSxoPXRoaXMuZ2V0VmVydGljZXNEYXRhKG0uTm9ybWFsS2luZCksYz10aGlzLmdldFZlcnRpY2VzRGF0YShtLlVWS2luZCksZD1iLlplcm8oKSxwPWIuWmVybygpLGc9U2UuWmVybygpO289b3x8U2UuWmVybygpLHU9dXx8bmV3IFNlKDEsMSk7Zm9yKHZhciBfPTA7XzxsLmxlbmd0aDtfKz0zKXtiLkZyb21BcnJheVRvUmVmKGwsXyxkKSxiLkZyb21BcnJheVRvUmVmKGgsXyxwKSxTZS5Gcm9tQXJyYXlUb1JlZihjLF8vMyoyLGcpO3ZhciB2PU1hdGguYWJzKGcueCp1Lngrby54JTEpKihyLTEpJXJ8MCx5PU1hdGguYWJzKGcueSp1Lnkrby55JTEpKihuLTEpJW58MCxFPSh2K3kqcikqNCxSPXRbRV0vMjU1LE09dFtFKzFdLzI1NSxDPXRbRSsyXS8yNTUsQT1SKi4zK00qLjU5K0MqLjExO3Aubm9ybWFsaXplKCkscC5zY2FsZUluUGxhY2UoYSsocy1hKSpBKSxkPWQuYWRkKHApLGQudG9BcnJheShsLF8pfXJldHVybiBnZS5Db21wdXRlTm9ybWFscyhsLHRoaXMuZ2V0SW5kaWNlcygpLGgpLGY/KHRoaXMuc2V0VmVydGljZXNEYXRhKG0uUG9zaXRpb25LaW5kLGwpLHRoaXMuc2V0VmVydGljZXNEYXRhKG0uTm9ybWFsS2luZCxoKSx0aGlzLnNldFZlcnRpY2VzRGF0YShtLlVWS2luZCxjKSk6KHRoaXMudXBkYXRlVmVydGljZXNEYXRhKG0uUG9zaXRpb25LaW5kLGwpLHRoaXMudXBkYXRlVmVydGljZXNEYXRhKG0uTm9ybWFsS2luZCxoKSksdGhpc30sZS5wcm90b3R5cGUuY29udmVydFRvRmxhdFNoYWRlZE1lc2g9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldFZlcnRpY2VzRGF0YUtpbmRzKCkscj17fSxuPXt9LGE9e30scz0hMSxvLHU7Zm9yKG89MDtvPHQubGVuZ3RoO28rKyl7dT10W29dO3ZhciBmPXRoaXMuZ2V0VmVydGV4QnVmZmVyKHUpLGw9Zi5nZXREYXRhKCk7aWYoISgobCBpbnN0YW5jZW9mIEFycmF5fHxsIGluc3RhbmNlb2YgRmxvYXQzMkFycmF5KSYmbC5sZW5ndGg9PT0wKSl7aWYodT09PW0uTm9ybWFsS2luZCl7cz1mLmlzVXBkYXRhYmxlKCksdC5zcGxpY2UobywxKSxvLS07Y29udGludWV9clt1XT1mLG5bdV09dGhpcy5nZXRWZXJ0aWNlc0RhdGEodSksYVt1XT1bXX19dmFyIGg9dGhpcy5zdWJNZXNoZXMuc2xpY2UoMCksYz10aGlzLmdldEluZGljZXMoKSxkPXRoaXMuZ2V0VG90YWxJbmRpY2VzKCkscDtmb3IocD0wO3A8ZDtwKyspe3ZhciBnPWNbcF07Zm9yKG89MDtvPHQubGVuZ3RoO28rKylpZih1PXRbb10sISFyW3VdKWZvcih2YXIgXz1yW3VdLmdldFN0cmlkZVNpemUoKSx2PTA7djxfO3YrKylhW3VdLnB1c2goblt1XVtnKl8rdl0pfXZhciB5PVtdLEU9YVttLlBvc2l0aW9uS2luZF0sUj10aGlzLmdldFNjZW5lKCkudXNlUmlnaHRIYW5kZWRTeXN0ZW0sTTtmb3IoUj9NPXRoaXMub3ZlcnJpZGVNYXRlcmlhbFNpZGVPcmllbnRhdGlvbj09PTE6TT10aGlzLm92ZXJyaWRlTWF0ZXJpYWxTaWRlT3JpZW50YXRpb249PT0wLHA9MDtwPGQ7cCs9Myl7Y1twXT1wLGNbcCsxXT1wKzEsY1twKzJdPXArMjt2YXIgQz1iLkZyb21BcnJheShFLHAqMyksQT1iLkZyb21BcnJheShFLChwKzEpKjMpLFM9Yi5Gcm9tQXJyYXkoRSwocCsyKSozKSx3PUMuc3VidHJhY3QoQSksRj1TLnN1YnRyYWN0KEEpLHg9Yi5Ob3JtYWxpemUoYi5Dcm9zcyh3LEYpKTtNJiZ4LnNjYWxlSW5QbGFjZSgtMSk7Zm9yKHZhciBHPTA7RzwzO0crKyl5LnB1c2goeC54KSx5LnB1c2goeC55KSx5LnB1c2goeC56KX1mb3IodGhpcy5zZXRJbmRpY2VzKGMpLHRoaXMuc2V0VmVydGljZXNEYXRhKG0uTm9ybWFsS2luZCx5LHMpLG89MDtvPHQubGVuZ3RoO28rKyl1PXRbb10sYVt1XSYmdGhpcy5zZXRWZXJ0aWNlc0RhdGEodSxhW3VdLHJbdV0uaXNVcGRhdGFibGUoKSk7dGhpcy5yZWxlYXNlU3ViTWVzaGVzKCk7Zm9yKHZhciB6PTA7ejxoLmxlbmd0aDt6Kyspe3ZhciBOPWhbel07TXQuQWRkVG9NZXNoKE4ubWF0ZXJpYWxJbmRleCxOLmluZGV4U3RhcnQsTi5pbmRleENvdW50LE4uaW5kZXhTdGFydCxOLmluZGV4Q291bnQsdGhpcyl9cmV0dXJuIHRoaXMuc3luY2hyb25pemVJbnN0YW5jZXMoKSx0aGlzfSxlLnByb3RvdHlwZS5jb252ZXJ0VG9VbkluZGV4ZWRNZXNoPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nZXRWZXJ0aWNlc0RhdGFLaW5kcygpLHI9e30sbj17fSxhPXt9LHMsbztmb3Iocz0wO3M8dC5sZW5ndGg7cysrKXtvPXRbc107dmFyIHU9dGhpcy5nZXRWZXJ0ZXhCdWZmZXIobyk7cltvXT11LG5bb109cltvXS5nZXREYXRhKCksYVtvXT1bXX12YXIgZj10aGlzLnN1Yk1lc2hlcy5zbGljZSgwKSxsPXRoaXMuZ2V0SW5kaWNlcygpLGg9dGhpcy5nZXRUb3RhbEluZGljZXMoKSxjO2ZvcihjPTA7YzxoO2MrKyl7dmFyIGQ9bFtjXTtmb3Iocz0wO3M8dC5sZW5ndGg7cysrKXtvPXRbc107Zm9yKHZhciBwPXJbb10uZ2V0U3RyaWRlU2l6ZSgpLGc9MDtnPHA7ZysrKWFbb10ucHVzaChuW29dW2QqcCtnXSl9fWZvcihjPTA7YzxoO2MrPTMpbFtjXT1jLGxbYysxXT1jKzEsbFtjKzJdPWMrMjtmb3IodGhpcy5zZXRJbmRpY2VzKGwpLHM9MDtzPHQubGVuZ3RoO3MrKylvPXRbc10sdGhpcy5zZXRWZXJ0aWNlc0RhdGEobyxhW29dLHJbb10uaXNVcGRhdGFibGUoKSk7dGhpcy5yZWxlYXNlU3ViTWVzaGVzKCk7Zm9yKHZhciBfPTA7XzxmLmxlbmd0aDtfKyspe3ZhciB2PWZbX107TXQuQWRkVG9NZXNoKHYubWF0ZXJpYWxJbmRleCx2LmluZGV4U3RhcnQsdi5pbmRleENvdW50LHYuaW5kZXhTdGFydCx2LmluZGV4Q291bnQsdGhpcyl9cmV0dXJuIHRoaXMuX3VuSW5kZXhlZD0hMCx0aGlzLnN5bmNocm9uaXplSW5zdGFuY2VzKCksdGhpc30sZS5wcm90b3R5cGUuZmxpcEZhY2VzPWZ1bmN0aW9uKHQpe3Q9PT12b2lkIDAmJih0PSExKTt2YXIgcj1nZS5FeHRyYWN0RnJvbU1lc2godGhpcyksbjtpZih0JiZ0aGlzLmlzVmVydGljZXNEYXRhUHJlc2VudChtLk5vcm1hbEtpbmQpJiZyLm5vcm1hbHMpZm9yKG49MDtuPHIubm9ybWFscy5sZW5ndGg7bisrKXIubm9ybWFsc1tuXSo9LTE7aWYoci5pbmRpY2VzKXt2YXIgYT12b2lkIDA7Zm9yKG49MDtuPHIuaW5kaWNlcy5sZW5ndGg7bis9MylhPXIuaW5kaWNlc1tuKzFdLHIuaW5kaWNlc1tuKzFdPXIuaW5kaWNlc1tuKzJdLHIuaW5kaWNlc1tuKzJdPWF9cmV0dXJuIHIuYXBwbHlUb01lc2godGhpcyx0aGlzLmlzVmVydGV4QnVmZmVyVXBkYXRhYmxlKG0uUG9zaXRpb25LaW5kKSksdGhpc30sZS5wcm90b3R5cGUuaW5jcmVhc2VWZXJ0aWNlcz1mdW5jdGlvbih0KXt0PT09dm9pZCAwJiYodD0xKTt2YXIgcj1nZS5FeHRyYWN0RnJvbU1lc2godGhpcyksbj1yLmluZGljZXMmJiFBcnJheS5pc0FycmF5KHIuaW5kaWNlcykmJkFycmF5LmZyb20/QXJyYXkuZnJvbShyLmluZGljZXMpOnIuaW5kaWNlcyxhPXIucG9zaXRpb25zJiYhQXJyYXkuaXNBcnJheShyLnBvc2l0aW9ucykmJkFycmF5LmZyb20/QXJyYXkuZnJvbShyLnBvc2l0aW9ucyk6ci5wb3NpdGlvbnMscz1yLnV2cyYmIUFycmF5LmlzQXJyYXkoci51dnMpJiZBcnJheS5mcm9tP0FycmF5LmZyb20oci51dnMpOnIudXZzLG89ci5ub3JtYWxzJiYhQXJyYXkuaXNBcnJheShyLm5vcm1hbHMpJiZBcnJheS5mcm9tP0FycmF5LmZyb20oci5ub3JtYWxzKTpyLm5vcm1hbHM7aWYoIW58fCFhKVcuV2FybigiQ291bGRuJ3QgaW5jcmVhc2UgbnVtYmVyIG9mIHZlcnRpY2VzIDogVmVydGV4RGF0YSBtdXN0IGNvbnRhaW4gYXQgbGVhc3QgaW5kaWNlcyBhbmQgcG9zaXRpb25zIik7ZWxzZXtyLmluZGljZXM9bixyLnBvc2l0aW9ucz1hLHMmJihyLnV2cz1zKSxvJiYoci5ub3JtYWxzPW8pO2Zvcih2YXIgdT10KzEsZj1uZXcgQXJyYXksbD0wO2w8dSsxO2wrKylmW2xdPW5ldyBBcnJheTt2YXIgaD12b2lkIDAsYz12b2lkIDAsZD1uZXcgYigwLDAsMCkscD1uZXcgYigwLDAsMCksZz1uZXcgU2UoMCwwKSxfPW5ldyBBcnJheSx2PW5ldyBBcnJheSx5PW5ldyBBcnJheSxFPXZvaWQgMCxSPWEubGVuZ3RoLE09dm9pZCAwO3MmJihNPXMubGVuZ3RoKTt2YXIgQz12b2lkIDA7byYmKEM9by5sZW5ndGgpO2Zvcih2YXIgbD0wO2w8bi5sZW5ndGg7bCs9Myl7dlswXT1uW2xdLHZbMV09bltsKzFdLHZbMl09bltsKzJdO2Zvcih2YXIgQT0wO0E8MztBKyspaWYoaD12W0FdLGM9dlsoQSsxKSUzXSx5W2hdPT09dm9pZCAwJiZ5W2NdPT09dm9pZCAwPyh5W2hdPW5ldyBBcnJheSx5W2NdPW5ldyBBcnJheSk6KHlbaF09PT12b2lkIDAmJih5W2hdPW5ldyBBcnJheSkseVtjXT09PXZvaWQgMCYmKHlbY109bmV3IEFycmF5KSkseVtoXVtjXT09PXZvaWQgMCYmeVtjXVtoXT09PXZvaWQgMCl7eVtoXVtjXT1bXSxkLng9KGFbMypjXS1hWzMqaF0pL3UsZC55PShhWzMqYysxXS1hWzMqaCsxXSkvdSxkLno9KGFbMypjKzJdLWFbMypoKzJdKS91LG8mJihwLng9KG9bMypjXS1vWzMqaF0pL3UscC55PShvWzMqYysxXS1vWzMqaCsxXSkvdSxwLno9KG9bMypjKzJdLW9bMypoKzJdKS91KSxzJiYoZy54PShzWzIqY10tc1syKmhdKS91LGcueT0oc1syKmMrMV0tc1syKmgrMV0pL3UpLHlbaF1bY10ucHVzaChoKTtmb3IodmFyIFM9MTtTPHU7UysrKXlbaF1bY10ucHVzaChhLmxlbmd0aC8zKSxhW1IrK109YVszKmhdK1MqZC54LGFbUisrXT1hWzMqaCsxXStTKmQueSxhW1IrK109YVszKmgrMl0rUypkLnosbyYmKG9bQysrXT1vWzMqaF0rUypwLngsb1tDKytdPW9bMypoKzFdK1MqcC55LG9bQysrXT1vWzMqaCsyXStTKnAueikscyYmKHNbTSsrXT1zWzIqaF0rUypnLngsc1tNKytdPXNbMipoKzFdK1MqZy55KTt5W2hdW2NdLnB1c2goYykseVtjXVtoXT1uZXcgQXJyYXksRT15W2hdW2NdLmxlbmd0aDtmb3IodmFyIHc9MDt3PEU7dysrKXlbY11baF1bd109eVtoXVtjXVtFLTEtd119ZlswXVswXT1uW2xdLGZbMV1bMF09eVtuW2xdXVtuW2wrMV1dWzFdLGZbMV1bMV09eVtuW2xdXVtuW2wrMl1dWzFdO2Zvcih2YXIgUz0yO1M8dTtTKyspe2ZbU11bMF09eVtuW2xdXVtuW2wrMV1dW1NdLGZbU11bU109eVtuW2xdXVtuW2wrMl1dW1NdLGQueD0oYVszKmZbU11bU11dLWFbMypmW1NdWzBdXSkvUyxkLnk9KGFbMypmW1NdW1NdKzFdLWFbMypmW1NdWzBdKzFdKS9TLGQuej0oYVszKmZbU11bU10rMl0tYVszKmZbU11bMF0rMl0pL1MsbyYmKHAueD0ob1szKmZbU11bU11dLW9bMypmW1NdWzBdXSkvUyxwLnk9KG9bMypmW1NdW1NdKzFdLW9bMypmW1NdWzBdKzFdKS9TLHAuej0ob1szKmZbU11bU10rMl0tb1szKmZbU11bMF0rMl0pL1MpLHMmJihnLng9KHNbMipmW1NdW1NdXS1zWzIqZltTXVswXV0pL1MsZy55PShzWzIqZltTXVtTXSsxXS1zWzIqZltTXVswXSsxXSkvUyk7Zm9yKHZhciBBPTE7QTxTO0ErKylmW1NdW0FdPWEubGVuZ3RoLzMsYVtSKytdPWFbMypmW1NdWzBdXStBKmQueCxhW1IrK109YVszKmZbU11bMF0rMV0rQSpkLnksYVtSKytdPWFbMypmW1NdWzBdKzJdK0EqZC56LG8mJihvW0MrK109b1szKmZbU11bMF1dK0EqcC54LG9bQysrXT1vWzMqZltTXVswXSsxXStBKnAueSxvW0MrK109b1szKmZbU11bMF0rMl0rQSpwLnopLHMmJihzW00rK109c1syKmZbU11bMF1dK0EqZy54LHNbTSsrXT1zWzIqZltTXVswXSsxXStBKmcueSl9Zlt1XT15W25bbCsxXV1bbltsKzJdXSxfLnB1c2goZlswXVswXSxmWzFdWzBdLGZbMV1bMV0pO2Zvcih2YXIgUz0xO1M8dTtTKyspe3ZhciBBPXZvaWQgMDtmb3IoQT0wO0E8UztBKyspXy5wdXNoKGZbU11bQV0sZltTKzFdW0FdLGZbUysxXVtBKzFdKSxfLnB1c2goZltTXVtBXSxmW1MrMV1bQSsxXSxmW1NdW0ErMV0pO18ucHVzaChmW1NdW0FdLGZbUysxXVtBXSxmW1MrMV1bQSsxXSl9fXIuaW5kaWNlcz1fLHIuYXBwbHlUb01lc2godGhpcyx0aGlzLmlzVmVydGV4QnVmZmVyVXBkYXRhYmxlKG0uUG9zaXRpb25LaW5kKSl9fSxlLnByb3RvdHlwZS5mb3JjZVNoYXJlZFZlcnRpY2VzPWZ1bmN0aW9uKCl7dmFyIHQ9Z2UuRXh0cmFjdEZyb21NZXNoKHRoaXMpLHI9dC51dnMsbj10LmluZGljZXMsYT10LnBvc2l0aW9ucyxzPXQuY29sb3JzO2lmKG49PT12b2lkIDB8fGE9PT12b2lkIDB8fG49PT1udWxsfHxhPT09bnVsbClXLldhcm4oIlZlcnRleERhdGEgY29udGFpbnMgZW1wdHkgZW50cmllcyIpO2Vsc2V7Zm9yKHZhciBvPW5ldyBBcnJheSx1PW5ldyBBcnJheSxmPW5ldyBBcnJheSxsPW5ldyBBcnJheSxoPW5ldyBBcnJheSxjPTAsZD17fSxwPXZvaWQgMCxnPXZvaWQgMCxfPTA7XzxuLmxlbmd0aDtfKz0zKXtnPVtuW19dLG5bXysxXSxuW18rMl1dLGg9bmV3IEFycmF5O2Zvcih2YXIgdj0wO3Y8Mzt2Kyspe2hbdl09IiI7Zm9yKHZhciB5PTA7eTwzO3krKylNYXRoLmFicyhhWzMqZ1t2XSt5XSk8MWUtOCYmKGFbMypnW3ZdK3ldPTApLGhbdl0rPWFbMypnW3ZdK3ldKyJ8In1pZighKGhbMF09PWhbMV18fGhbMF09PWhbMl18fGhbMV09PWhbMl0pKWZvcih2YXIgdj0wO3Y8Mzt2Kyspe2lmKHA9ZFtoW3ZdXSxwPT09dm9pZCAwKXtkW2hbdl1dPWMscD1jKys7Zm9yKHZhciB5PTA7eTwzO3krKylvLnB1c2goYVszKmdbdl0reV0pO2lmKHMhPW51bGwpZm9yKHZhciB5PTA7eTw0O3krKylsLnB1c2goc1s0Kmdbdl0reV0pO2lmKHIhPW51bGwpZm9yKHZhciB5PTA7eTwyO3krKylmLnB1c2goclsyKmdbdl0reV0pfXUucHVzaChwKX19dmFyIEU9bmV3IEFycmF5O2dlLkNvbXB1dGVOb3JtYWxzKG8sdSxFKSx0LnBvc2l0aW9ucz1vLHQuaW5kaWNlcz11LHQubm9ybWFscz1FLHIhPW51bGwmJih0LnV2cz1mKSxzIT1udWxsJiYodC5jb2xvcnM9bCksdC5hcHBseVRvTWVzaCh0aGlzLHRoaXMuaXNWZXJ0ZXhCdWZmZXJVcGRhdGFibGUobS5Qb3NpdGlvbktpbmQpKX19LGUuX2luc3RhbmNlZE1lc2hGYWN0b3J5PWZ1bmN0aW9uKHQscil7dGhyb3cgWCgiSW5zdGFuY2VkTWVzaCIpfSxlLl9QaHlzaWNzSW1wb3N0b3JQYXJzZXI9ZnVuY3Rpb24odCxyLG4pe3Rocm93IFgoIlBoeXNpY3NJbXBvc3RvciIpfSxlLnByb3RvdHlwZS5jcmVhdGVJbnN0YW5jZT1mdW5jdGlvbih0KXtyZXR1cm4gZS5faW5zdGFuY2VkTWVzaEZhY3RvcnkodCx0aGlzKX0sZS5wcm90b3R5cGUuc3luY2hyb25pemVJbnN0YW5jZXM9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9MDt0PHRoaXMuaW5zdGFuY2VzLmxlbmd0aDt0Kyspe3ZhciByPXRoaXMuaW5zdGFuY2VzW3RdO3IuX3N5bmNTdWJNZXNoZXMoKX1yZXR1cm4gdGhpc30sZS5wcm90b3R5cGUub3B0aW1pemVJbmRpY2VzPWZ1bmN0aW9uKHQpe3ZhciByPXRoaXMsbj10aGlzLmdldEluZGljZXMoKSxhPXRoaXMuZ2V0VmVydGljZXNEYXRhKG0uUG9zaXRpb25LaW5kKTtpZighYXx8IW4pcmV0dXJuIHRoaXM7Zm9yKHZhciBzPW5ldyBBcnJheSxvPTA7bzxhLmxlbmd0aDtvPW8rMylzLnB1c2goYi5Gcm9tQXJyYXkoYSxvKSk7dmFyIHU9bmV3IEFycmF5O3JldHVybiBuYS5TeW5jQXN5bmNGb3JMb29wKHMubGVuZ3RoLDQwLGZ1bmN0aW9uKGYpe2Zvcih2YXIgbD1zLmxlbmd0aC0xLWYsaD1zW2xdLGM9MDtjPGw7KytjKXt2YXIgZD1zW2NdO2lmKGguZXF1YWxzKGQpKXt1W2xdPWM7YnJlYWt9fX0sZnVuY3Rpb24oKXtmb3IodmFyIGY9MDtmPG4ubGVuZ3RoOysrZiluW2ZdPXVbbltmXV18fG5bZl07dmFyIGw9ci5zdWJNZXNoZXMuc2xpY2UoMCk7ci5zZXRJbmRpY2VzKG4pLHIuc3ViTWVzaGVzPWwsdCYmdChyKX0pLHRoaXN9LGUucHJvdG90eXBlLnNlcmlhbGl6ZT1mdW5jdGlvbih0KXt0Lm5hbWU9dGhpcy5uYW1lLHQuaWQ9dGhpcy5pZCx0LnVuaXF1ZUlkPXRoaXMudW5pcXVlSWQsdC50eXBlPXRoaXMuZ2V0Q2xhc3NOYW1lKCksZGUmJmRlLkhhc1RhZ3ModGhpcykmJih0LnRhZ3M9ZGUuR2V0VGFncyh0aGlzKSksdC5wb3NpdGlvbj10aGlzLnBvc2l0aW9uLmFzQXJyYXkoKSx0aGlzLnJvdGF0aW9uUXVhdGVybmlvbj90LnJvdGF0aW9uUXVhdGVybmlvbj10aGlzLnJvdGF0aW9uUXVhdGVybmlvbi5hc0FycmF5KCk6dGhpcy5yb3RhdGlvbiYmKHQucm90YXRpb249dGhpcy5yb3RhdGlvbi5hc0FycmF5KCkpLHQuc2NhbGluZz10aGlzLnNjYWxpbmcuYXNBcnJheSgpLHRoaXMuX3Bvc3RNdWx0aXBseVBpdm90TWF0cml4P3QucGl2b3RNYXRyaXg9dGhpcy5nZXRQaXZvdE1hdHJpeCgpLmFzQXJyYXkoKTp0LmxvY2FsTWF0cml4PXRoaXMuZ2V0UGl2b3RNYXRyaXgoKS5hc0FycmF5KCksdC5pc0VuYWJsZWQ9dGhpcy5pc0VuYWJsZWQoITEpLHQuaXNWaXNpYmxlPXRoaXMuaXNWaXNpYmxlLHQuaW5maW5pdGVEaXN0YW5jZT10aGlzLmluZmluaXRlRGlzdGFuY2UsdC5waWNrYWJsZT10aGlzLmlzUGlja2FibGUsdC5yZWNlaXZlU2hhZG93cz10aGlzLnJlY2VpdmVTaGFkb3dzLHQuYmlsbGJvYXJkTW9kZT10aGlzLmJpbGxib2FyZE1vZGUsdC52aXNpYmlsaXR5PXRoaXMudmlzaWJpbGl0eSx0LmNoZWNrQ29sbGlzaW9ucz10aGlzLmNoZWNrQ29sbGlzaW9ucyx0LmlzQmxvY2tlcj10aGlzLmlzQmxvY2tlcix0Lm92ZXJyaWRlTWF0ZXJpYWxTaWRlT3JpZW50YXRpb249dGhpcy5vdmVycmlkZU1hdGVyaWFsU2lkZU9yaWVudGF0aW9uLHRoaXMucGFyZW50JiYodC5wYXJlbnRJZD10aGlzLnBhcmVudC51bmlxdWVJZCksdC5pc1VuSW5kZXhlZD10aGlzLmlzVW5JbmRleGVkO3ZhciByPXRoaXMuX2dlb21ldHJ5O2lmKHImJnRoaXMuc3ViTWVzaGVzKXt0Lmdlb21ldHJ5VW5pcXVlSWQ9ci51bmlxdWVJZCx0Lmdlb21ldHJ5SWQ9ci5pZCx0LnN1Yk1lc2hlcz1bXTtmb3IodmFyIG49MDtuPHRoaXMuc3ViTWVzaGVzLmxlbmd0aDtuKyspe3ZhciBhPXRoaXMuc3ViTWVzaGVzW25dO3Quc3ViTWVzaGVzLnB1c2goe21hdGVyaWFsSW5kZXg6YS5tYXRlcmlhbEluZGV4LHZlcnRpY2VzU3RhcnQ6YS52ZXJ0aWNlc1N0YXJ0LHZlcnRpY2VzQ291bnQ6YS52ZXJ0aWNlc0NvdW50LGluZGV4U3RhcnQ6YS5pbmRleFN0YXJ0LGluZGV4Q291bnQ6YS5pbmRleENvdW50fSl9fWlmKHRoaXMubWF0ZXJpYWw/dGhpcy5tYXRlcmlhbC5kb05vdFNlcmlhbGl6ZXx8KHQubWF0ZXJpYWxVbmlxdWVJZD10aGlzLm1hdGVyaWFsLnVuaXF1ZUlkLHQubWF0ZXJpYWxJZD10aGlzLm1hdGVyaWFsLmlkKToodGhpcy5tYXRlcmlhbD1udWxsLHQubWF0ZXJpYWxVbmlxdWVJZD10aGlzLl9zY2VuZS5kZWZhdWx0TWF0ZXJpYWwudW5pcXVlSWQsdC5tYXRlcmlhbElkPXRoaXMuX3NjZW5lLmRlZmF1bHRNYXRlcmlhbC5pZCksdGhpcy5tb3JwaFRhcmdldE1hbmFnZXImJih0Lm1vcnBoVGFyZ2V0TWFuYWdlcklkPXRoaXMubW9ycGhUYXJnZXRNYW5hZ2VyLnVuaXF1ZUlkKSx0aGlzLnNrZWxldG9uJiYodC5za2VsZXRvbklkPXRoaXMuc2tlbGV0b24uaWQsdC5udW1Cb25lSW5mbHVlbmNlcnM9dGhpcy5udW1Cb25lSW5mbHVlbmNlcnMpLHRoaXMuZ2V0U2NlbmUoKS5fZ2V0Q29tcG9uZW50KFV0Lk5BTUVfUEhZU0lDU0VOR0lORSkpe3ZhciBzPXRoaXMuZ2V0UGh5c2ljc0ltcG9zdG9yKCk7cyYmKHQucGh5c2ljc01hc3M9cy5nZXRQYXJhbSgibWFzcyIpLHQucGh5c2ljc0ZyaWN0aW9uPXMuZ2V0UGFyYW0oImZyaWN0aW9uIiksdC5waHlzaWNzUmVzdGl0dXRpb249cy5nZXRQYXJhbSgibWFzcyIpLHQucGh5c2ljc0ltcG9zdG9yPXMudHlwZSl9dGhpcy5tZXRhZGF0YSYmKHQubWV0YWRhdGE9dGhpcy5tZXRhZGF0YSksdC5pbnN0YW5jZXM9W107Zm9yKHZhciBvPTA7bzx0aGlzLmluc3RhbmNlcy5sZW5ndGg7bysrKXt2YXIgdT10aGlzLmluc3RhbmNlc1tvXTtpZighdS5kb05vdFNlcmlhbGl6ZSl7dmFyIGY9e25hbWU6dS5uYW1lLGlkOnUuaWQsaXNFbmFibGVkOnUuaXNFbmFibGVkKCExKSxpc1Zpc2libGU6dS5pc1Zpc2libGUsaXNQaWNrYWJsZTp1LmlzUGlja2FibGUsY2hlY2tDb2xsaXNpb25zOnUuY2hlY2tDb2xsaXNpb25zLHBvc2l0aW9uOnUucG9zaXRpb24uYXNBcnJheSgpLHNjYWxpbmc6dS5zY2FsaW5nLmFzQXJyYXkoKX07aWYodS5wYXJlbnQmJihmLnBhcmVudElkPXUucGFyZW50LnVuaXF1ZUlkKSx1LnJvdGF0aW9uUXVhdGVybmlvbj9mLnJvdGF0aW9uUXVhdGVybmlvbj11LnJvdGF0aW9uUXVhdGVybmlvbi5hc0FycmF5KCk6dS5yb3RhdGlvbiYmKGYucm90YXRpb249dS5yb3RhdGlvbi5hc0FycmF5KCkpLHRoaXMuZ2V0U2NlbmUoKS5fZ2V0Q29tcG9uZW50KFV0Lk5BTUVfUEhZU0lDU0VOR0lORSkpe3ZhciBzPXUuZ2V0UGh5c2ljc0ltcG9zdG9yKCk7cyYmKGYucGh5c2ljc01hc3M9cy5nZXRQYXJhbSgibWFzcyIpLGYucGh5c2ljc0ZyaWN0aW9uPXMuZ2V0UGFyYW0oImZyaWN0aW9uIiksZi5waHlzaWNzUmVzdGl0dXRpb249cy5nZXRQYXJhbSgibWFzcyIpLGYucGh5c2ljc0ltcG9zdG9yPXMudHlwZSl9dS5tZXRhZGF0YSYmKGYubWV0YWRhdGE9dS5tZXRhZGF0YSksdC5pbnN0YW5jZXMucHVzaChmKSx0ZS5BcHBlbmRTZXJpYWxpemVkQW5pbWF0aW9ucyh1LGYpLGYucmFuZ2VzPXUuc2VyaWFsaXplQW5pbWF0aW9uUmFuZ2VzKCl9fWlmKHRoaXMuX3RoaW5JbnN0YW5jZURhdGFTdG9yYWdlLmluc3RhbmNlc0NvdW50JiZ0aGlzLl90aGluSW5zdGFuY2VEYXRhU3RvcmFnZS5tYXRyaXhEYXRhJiYodC50aGluSW5zdGFuY2VzPXtpbnN0YW5jZXNDb3VudDp0aGlzLl90aGluSW5zdGFuY2VEYXRhU3RvcmFnZS5pbnN0YW5jZXNDb3VudCxtYXRyaXhEYXRhOkFycmF5LmZyb20odGhpcy5fdGhpbkluc3RhbmNlRGF0YVN0b3JhZ2UubWF0cml4RGF0YSksbWF0cml4QnVmZmVyU2l6ZTp0aGlzLl90aGluSW5zdGFuY2VEYXRhU3RvcmFnZS5tYXRyaXhCdWZmZXJTaXplLGVuYWJsZVBpY2tpbmc6dGhpcy50aGluSW5zdGFuY2VFbmFibGVQaWNraW5nfSx0aGlzLl91c2VyVGhpbkluc3RhbmNlQnVmZmVyc1N0b3JhZ2UpKXt2YXIgbD17ZGF0YTp7fSxzaXplczp7fSxzdHJpZGVzOnt9fTtmb3IodmFyIGggaW4gdGhpcy5fdXNlclRoaW5JbnN0YW5jZUJ1ZmZlcnNTdG9yYWdlLmRhdGEpbC5kYXRhW2hdPUFycmF5LmZyb20odGhpcy5fdXNlclRoaW5JbnN0YW5jZUJ1ZmZlcnNTdG9yYWdlLmRhdGFbaF0pLGwuc2l6ZXNbaF09dGhpcy5fdXNlclRoaW5JbnN0YW5jZUJ1ZmZlcnNTdG9yYWdlLnNpemVzW2hdLGwuc3RyaWRlc1toXT10aGlzLl91c2VyVGhpbkluc3RhbmNlQnVmZmVyc1N0b3JhZ2Uuc3RyaWRlc1toXTt0LnRoaW5JbnN0YW5jZXMudXNlclRoaW5JbnN0YW5jZT1sfXRlLkFwcGVuZFNlcmlhbGl6ZWRBbmltYXRpb25zKHRoaXMsdCksdC5yYW5nZXM9dGhpcy5zZXJpYWxpemVBbmltYXRpb25SYW5nZXMoKSx0LmxheWVyTWFzaz10aGlzLmxheWVyTWFzayx0LmFscGhhSW5kZXg9dGhpcy5hbHBoYUluZGV4LHQuaGFzVmVydGV4QWxwaGE9dGhpcy5oYXNWZXJ0ZXhBbHBoYSx0Lm92ZXJsYXlBbHBoYT10aGlzLm92ZXJsYXlBbHBoYSx0Lm92ZXJsYXlDb2xvcj10aGlzLm92ZXJsYXlDb2xvci5hc0FycmF5KCksdC5yZW5kZXJPdmVybGF5PXRoaXMucmVuZGVyT3ZlcmxheSx0LmFwcGx5Rm9nPXRoaXMuYXBwbHlGb2csdGhpcy5hY3Rpb25NYW5hZ2VyJiYodC5hY3Rpb25zPXRoaXMuYWN0aW9uTWFuYWdlci5zZXJpYWxpemUodGhpcy5uYW1lKSl9LGUucHJvdG90eXBlLl9zeW5jR2VvbWV0cnlXaXRoTW9ycGhUYXJnZXRNYW5hZ2VyPWZ1bmN0aW9uKCl7aWYoISF0aGlzLmdlb21ldHJ5KXt0aGlzLl9tYXJrU3ViTWVzaGVzQXNBdHRyaWJ1dGVzRGlydHkoKTt2YXIgdD10aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tb3JwaFRhcmdldE1hbmFnZXI7aWYodCYmdC52ZXJ0ZXhDb3VudCl7aWYodC52ZXJ0ZXhDb3VudCE9PXRoaXMuZ2V0VG90YWxWZXJ0aWNlcygpKXtXLkVycm9yKCJNZXNoIGlzIGluY29tcGF0aWJsZSB3aXRoIG1vcnBoIHRhcmdldHMuIFRhcmdldHMgYW5kIG1lc2ggbXVzdCBhbGwgaGF2ZSB0aGUgc2FtZSB2ZXJ0aWNlcyBjb3VudC4iKSx0aGlzLm1vcnBoVGFyZ2V0TWFuYWdlcj1udWxsO3JldHVybn1pZih0LmlzVXNpbmdUZXh0dXJlRm9yVGFyZ2V0cylyZXR1cm47Zm9yKHZhciByPTA7cjx0Lm51bUluZmx1ZW5jZXJzO3IrKyl7dmFyIG49dC5nZXRBY3RpdmVUYXJnZXQociksYT1uLmdldFBvc2l0aW9ucygpO2lmKCFhKXtXLkVycm9yKCJJbnZhbGlkIG1vcnBoIHRhcmdldC4gVGFyZ2V0IG11c3QgaGF2ZSBwb3NpdGlvbnMuIik7cmV0dXJufXRoaXMuZ2VvbWV0cnkuc2V0VmVydGljZXNEYXRhKG0uUG9zaXRpb25LaW5kK3IsYSwhMSwzKTt2YXIgcz1uLmdldE5vcm1hbHMoKTtzJiZ0aGlzLmdlb21ldHJ5LnNldFZlcnRpY2VzRGF0YShtLk5vcm1hbEtpbmQrcixzLCExLDMpO3ZhciBvPW4uZ2V0VGFuZ2VudHMoKTtvJiZ0aGlzLmdlb21ldHJ5LnNldFZlcnRpY2VzRGF0YShtLlRhbmdlbnRLaW5kK3IsbywhMSwzKTt2YXIgdT1uLmdldFVWcygpO3UmJnRoaXMuZ2VvbWV0cnkuc2V0VmVydGljZXNEYXRhKG0uVVZLaW5kKyJfIityLHUsITEsMil9fWVsc2UgZm9yKHZhciByPTA7dGhpcy5nZW9tZXRyeS5pc1ZlcnRpY2VzRGF0YVByZXNlbnQobS5Qb3NpdGlvbktpbmQrcik7KXRoaXMuZ2VvbWV0cnkucmVtb3ZlVmVydGljZXNEYXRhKG0uUG9zaXRpb25LaW5kK3IpLHRoaXMuZ2VvbWV0cnkuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KG0uTm9ybWFsS2luZCtyKSYmdGhpcy5nZW9tZXRyeS5yZW1vdmVWZXJ0aWNlc0RhdGEobS5Ob3JtYWxLaW5kK3IpLHRoaXMuZ2VvbWV0cnkuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KG0uVGFuZ2VudEtpbmQrcikmJnRoaXMuZ2VvbWV0cnkucmVtb3ZlVmVydGljZXNEYXRhKG0uVGFuZ2VudEtpbmQrciksdGhpcy5nZW9tZXRyeS5pc1ZlcnRpY2VzRGF0YVByZXNlbnQobS5VVktpbmQrcikmJnRoaXMuZ2VvbWV0cnkucmVtb3ZlVmVydGljZXNEYXRhKG0uVVZLaW5kKyJfIityKSxyKyt9fSxlLlBhcnNlPWZ1bmN0aW9uKHQscixuKXt2YXIgYTtpZih0LnR5cGUmJnQudHlwZT09PSJMaW5lc01lc2giP2E9ZS5fTGluZXNNZXNoUGFyc2VyKHQscik6dC50eXBlJiZ0LnR5cGU9PT0iR3JvdW5kTWVzaCI/YT1lLl9Hcm91bmRNZXNoUGFyc2VyKHQscik6dC50eXBlJiZ0LnR5cGU9PT0iR29sZGJlcmdNZXNoIj9hPWUuX0dvbGRiZXJnTWVzaFBhcnNlcih0LHIpOmE9bmV3IGUodC5uYW1lLHIpLGEuaWQ9dC5pZCxkZSYmZGUuQWRkVGFnc1RvKGEsdC50YWdzKSxhLnBvc2l0aW9uPWIuRnJvbUFycmF5KHQucG9zaXRpb24pLHQubWV0YWRhdGEhPT12b2lkIDAmJihhLm1ldGFkYXRhPXQubWV0YWRhdGEpLHQucm90YXRpb25RdWF0ZXJuaW9uP2Eucm90YXRpb25RdWF0ZXJuaW9uPXNlLkZyb21BcnJheSh0LnJvdGF0aW9uUXVhdGVybmlvbik6dC5yb3RhdGlvbiYmKGEucm90YXRpb249Yi5Gcm9tQXJyYXkodC5yb3RhdGlvbikpLGEuc2NhbGluZz1iLkZyb21BcnJheSh0LnNjYWxpbmcpLHQubG9jYWxNYXRyaXg/YS5zZXRQcmVUcmFuc2Zvcm1NYXRyaXgoSS5Gcm9tQXJyYXkodC5sb2NhbE1hdHJpeCkpOnQucGl2b3RNYXRyaXgmJmEuc2V0UGl2b3RNYXRyaXgoSS5Gcm9tQXJyYXkodC5waXZvdE1hdHJpeCkpLGEuc2V0RW5hYmxlZCh0LmlzRW5hYmxlZCksYS5pc1Zpc2libGU9dC5pc1Zpc2libGUsYS5pbmZpbml0ZURpc3RhbmNlPXQuaW5maW5pdGVEaXN0YW5jZSxhLnNob3dCb3VuZGluZ0JveD10LnNob3dCb3VuZGluZ0JveCxhLnNob3dTdWJNZXNoZXNCb3VuZGluZ0JveD10LnNob3dTdWJNZXNoZXNCb3VuZGluZ0JveCx0LmFwcGx5Rm9nIT09dm9pZCAwJiYoYS5hcHBseUZvZz10LmFwcGx5Rm9nKSx0LnBpY2thYmxlIT09dm9pZCAwJiYoYS5pc1BpY2thYmxlPXQucGlja2FibGUpLHQuYWxwaGFJbmRleCE9PXZvaWQgMCYmKGEuYWxwaGFJbmRleD10LmFscGhhSW5kZXgpLGEucmVjZWl2ZVNoYWRvd3M9dC5yZWNlaXZlU2hhZG93cyxhLmJpbGxib2FyZE1vZGU9dC5iaWxsYm9hcmRNb2RlLHQudmlzaWJpbGl0eSE9PXZvaWQgMCYmKGEudmlzaWJpbGl0eT10LnZpc2liaWxpdHkpLGEuY2hlY2tDb2xsaXNpb25zPXQuY2hlY2tDb2xsaXNpb25zLGEub3ZlcnJpZGVNYXRlcmlhbFNpZGVPcmllbnRhdGlvbj10Lm92ZXJyaWRlTWF0ZXJpYWxTaWRlT3JpZW50YXRpb24sdC5pc0Jsb2NrZXIhPT12b2lkIDAmJihhLmlzQmxvY2tlcj10LmlzQmxvY2tlciksYS5fc2hvdWxkR2VuZXJhdGVGbGF0U2hhZGluZz10LnVzZUZsYXRTaGFkaW5nLHQuZnJlZXplV29ybGRNYXRyaXgmJihhLl93YWl0aW5nRGF0YS5mcmVlemVXb3JsZE1hdHJpeD10LmZyZWV6ZVdvcmxkTWF0cml4KSx0LnBhcmVudElkIT09dm9pZCAwJiYoYS5fd2FpdGluZ1BhcmVudElkPXQucGFyZW50SWQpLHQuYWN0aW9ucyE9PXZvaWQgMCYmKGEuX3dhaXRpbmdEYXRhLmFjdGlvbnM9dC5hY3Rpb25zKSx0Lm92ZXJsYXlBbHBoYSE9PXZvaWQgMCYmKGEub3ZlcmxheUFscGhhPXQub3ZlcmxheUFscGhhKSx0Lm92ZXJsYXlDb2xvciE9PXZvaWQgMCYmKGEub3ZlcmxheUNvbG9yPWJlLkZyb21BcnJheSh0Lm92ZXJsYXlDb2xvcikpLHQucmVuZGVyT3ZlcmxheSE9PXZvaWQgMCYmKGEucmVuZGVyT3ZlcmxheT10LnJlbmRlck92ZXJsYXkpLGEuaXNVbkluZGV4ZWQ9ISF0LmlzVW5JbmRleGVkLGEuaGFzVmVydGV4QWxwaGE9dC5oYXNWZXJ0ZXhBbHBoYSx0LmRlbGF5TG9hZGluZ0ZpbGU/KGEuZGVsYXlMb2FkU3RhdGU9NCxhLmRlbGF5TG9hZGluZ0ZpbGU9bit0LmRlbGF5TG9hZGluZ0ZpbGUsYS5idWlsZEJvdW5kaW5nSW5mbyhiLkZyb21BcnJheSh0LmJvdW5kaW5nQm94TWluaW11bSksYi5Gcm9tQXJyYXkodC5ib3VuZGluZ0JveE1heGltdW0pKSx0Ll9iaW5hcnlJbmZvJiYoYS5fYmluYXJ5SW5mbz10Ll9iaW5hcnlJbmZvKSxhLl9kZWxheUluZm89W10sdC5oYXNVVnMmJmEuX2RlbGF5SW5mby5wdXNoKG0uVVZLaW5kKSx0Lmhhc1VWczImJmEuX2RlbGF5SW5mby5wdXNoKG0uVVYyS2luZCksdC5oYXNVVnMzJiZhLl9kZWxheUluZm8ucHVzaChtLlVWM0tpbmQpLHQuaGFzVVZzNCYmYS5fZGVsYXlJbmZvLnB1c2gobS5VVjRLaW5kKSx0Lmhhc1VWczUmJmEuX2RlbGF5SW5mby5wdXNoKG0uVVY1S2luZCksdC5oYXNVVnM2JiZhLl9kZWxheUluZm8ucHVzaChtLlVWNktpbmQpLHQuaGFzQ29sb3JzJiZhLl9kZWxheUluZm8ucHVzaChtLkNvbG9yS2luZCksdC5oYXNNYXRyaWNlc0luZGljZXMmJmEuX2RlbGF5SW5mby5wdXNoKG0uTWF0cmljZXNJbmRpY2VzS2luZCksdC5oYXNNYXRyaWNlc1dlaWdodHMmJmEuX2RlbGF5SW5mby5wdXNoKG0uTWF0cmljZXNXZWlnaHRzS2luZCksYS5fZGVsYXlMb2FkaW5nRnVuY3Rpb249QXQuX0ltcG9ydEdlb21ldHJ5LG50LkZvcmNlRnVsbFNjZW5lTG9hZGluZ0ZvckluY3JlbWVudGFsJiZhLl9jaGVja0RlbGF5U3RhdGUoKSk6QXQuX0ltcG9ydEdlb21ldHJ5KHQsYSksdC5tYXRlcmlhbFVuaXF1ZUlkP2EuX3dhaXRpbmdNYXRlcmlhbElkPXQubWF0ZXJpYWxVbmlxdWVJZDp0Lm1hdGVyaWFsSWQmJihhLl93YWl0aW5nTWF0ZXJpYWxJZD10Lm1hdGVyaWFsSWQpLHQubW9ycGhUYXJnZXRNYW5hZ2VySWQ+LTEmJihhLm1vcnBoVGFyZ2V0TWFuYWdlcj1yLmdldE1vcnBoVGFyZ2V0TWFuYWdlckJ5SWQodC5tb3JwaFRhcmdldE1hbmFnZXJJZCkpLHQuc2tlbGV0b25JZCE9PXZvaWQgMCYmdC5za2VsZXRvbklkIT09bnVsbCYmKGEuc2tlbGV0b249ci5nZXRMYXN0U2tlbGV0b25CeUlkKHQuc2tlbGV0b25JZCksdC5udW1Cb25lSW5mbHVlbmNlcnMmJihhLm51bUJvbmVJbmZsdWVuY2Vycz10Lm51bUJvbmVJbmZsdWVuY2VycykpLHQuYW5pbWF0aW9ucyl7Zm9yKHZhciBzPTA7czx0LmFuaW1hdGlvbnMubGVuZ3RoO3MrKyl7dmFyIG89dC5hbmltYXRpb25zW3NdLHU9UHQoIkJBQllMT04uQW5pbWF0aW9uIik7dSYmYS5hbmltYXRpb25zLnB1c2godS5QYXJzZShvKSl9JGUuUGFyc2VBbmltYXRpb25SYW5nZXMoYSx0LHIpfWlmKHQuYXV0b0FuaW1hdGUmJnIuYmVnaW5BbmltYXRpb24oYSx0LmF1dG9BbmltYXRlRnJvbSx0LmF1dG9BbmltYXRlVG8sdC5hdXRvQW5pbWF0ZUxvb3AsdC5hdXRvQW5pbWF0ZVNwZWVkfHwxKSx0LmxheWVyTWFzayYmIWlzTmFOKHQubGF5ZXJNYXNrKT9hLmxheWVyTWFzaz1NYXRoLmFicyhwYXJzZUludCh0LmxheWVyTWFzaykpOmEubGF5ZXJNYXNrPTI2ODQzNTQ1NSx0LnBoeXNpY3NJbXBvc3RvciYmZS5fUGh5c2ljc0ltcG9zdG9yUGFyc2VyKHIsYSx0KSx0LmxvZE1lc2hJZHMmJihhLl93YWl0aW5nRGF0YS5sb2RzPXtpZHM6dC5sb2RNZXNoSWRzLGRpc3RhbmNlczp0LmxvZERpc3RhbmNlcz90LmxvZERpc3RhbmNlczpudWxsLGNvdmVyYWdlczp0LmxvZENvdmVyYWdlcz90LmxvZENvdmVyYWdlczpudWxsfSksdC5pbnN0YW5jZXMpZm9yKHZhciBmPTA7Zjx0Lmluc3RhbmNlcy5sZW5ndGg7ZisrKXt2YXIgbD10Lmluc3RhbmNlc1tmXSxoPWEuY3JlYXRlSW5zdGFuY2UobC5uYW1lKTtpZihsLmlkJiYoaC5pZD1sLmlkKSxkZSYmKGwudGFncz9kZS5BZGRUYWdzVG8oaCxsLnRhZ3MpOmRlLkFkZFRhZ3NUbyhoLHQudGFncykpLGgucG9zaXRpb249Yi5Gcm9tQXJyYXkobC5wb3NpdGlvbiksbC5tZXRhZGF0YSE9PXZvaWQgMCYmKGgubWV0YWRhdGE9bC5tZXRhZGF0YSksbC5wYXJlbnRJZCE9PXZvaWQgMCYmKGguX3dhaXRpbmdQYXJlbnRJZD1sLnBhcmVudElkKSxsLmlzRW5hYmxlZCE9PXZvaWQgMCYmbC5pc0VuYWJsZWQhPT1udWxsJiZoLnNldEVuYWJsZWQobC5pc0VuYWJsZWQpLGwuaXNWaXNpYmxlIT09dm9pZCAwJiZsLmlzVmlzaWJsZSE9PW51bGwmJihoLmlzVmlzaWJsZT1sLmlzVmlzaWJsZSksbC5pc1BpY2thYmxlIT09dm9pZCAwJiZsLmlzUGlja2FibGUhPT1udWxsJiYoaC5pc1BpY2thYmxlPWwuaXNQaWNrYWJsZSksbC5yb3RhdGlvblF1YXRlcm5pb24/aC5yb3RhdGlvblF1YXRlcm5pb249c2UuRnJvbUFycmF5KGwucm90YXRpb25RdWF0ZXJuaW9uKTpsLnJvdGF0aW9uJiYoaC5yb3RhdGlvbj1iLkZyb21BcnJheShsLnJvdGF0aW9uKSksaC5zY2FsaW5nPWIuRnJvbUFycmF5KGwuc2NhbGluZyksbC5jaGVja0NvbGxpc2lvbnMhPW51bGwmJmwuY2hlY2tDb2xsaXNpb25zIT1udWxsJiYoaC5jaGVja0NvbGxpc2lvbnM9bC5jaGVja0NvbGxpc2lvbnMpLGwucGlja2FibGUhPW51bGwmJmwucGlja2FibGUhPW51bGwmJihoLmlzUGlja2FibGU9bC5waWNrYWJsZSksbC5zaG93Qm91bmRpbmdCb3ghPW51bGwmJmwuc2hvd0JvdW5kaW5nQm94IT1udWxsJiYoaC5zaG93Qm91bmRpbmdCb3g9bC5zaG93Qm91bmRpbmdCb3gpLGwuc2hvd1N1Yk1lc2hlc0JvdW5kaW5nQm94IT1udWxsJiZsLnNob3dTdWJNZXNoZXNCb3VuZGluZ0JveCE9bnVsbCYmKGguc2hvd1N1Yk1lc2hlc0JvdW5kaW5nQm94PWwuc2hvd1N1Yk1lc2hlc0JvdW5kaW5nQm94KSxsLmFscGhhSW5kZXghPW51bGwmJmwuc2hvd1N1Yk1lc2hlc0JvdW5kaW5nQm94IT1udWxsJiYoaC5hbHBoYUluZGV4PWwuYWxwaGFJbmRleCksbC5waHlzaWNzSW1wb3N0b3ImJmUuX1BoeXNpY3NJbXBvc3RvclBhcnNlcihyLGgsbCksbC5hbmltYXRpb25zKXtmb3IodmFyIHM9MDtzPGwuYW5pbWF0aW9ucy5sZW5ndGg7cysrKXt2YXIgbz1sLmFuaW1hdGlvbnNbc10sdT1QdCgiQkFCWUxPTi5BbmltYXRpb24iKTt1JiZoLmFuaW1hdGlvbnMucHVzaCh1LlBhcnNlKG8pKX0kZS5QYXJzZUFuaW1hdGlvblJhbmdlcyhoLGwsciksbC5hdXRvQW5pbWF0ZSYmci5iZWdpbkFuaW1hdGlvbihoLGwuYXV0b0FuaW1hdGVGcm9tLGwuYXV0b0FuaW1hdGVUbyxsLmF1dG9BbmltYXRlTG9vcCxsLmF1dG9BbmltYXRlU3BlZWR8fDEpfX1pZih0LnRoaW5JbnN0YW5jZXMpe3ZhciBjPXQudGhpbkluc3RhbmNlcztpZihhLnRoaW5JbnN0YW5jZUVuYWJsZVBpY2tpbmc9ISFjLmVuYWJsZVBpY2tpbmcsYy5tYXRyaXhEYXRhPyhhLnRoaW5JbnN0YW5jZVNldEJ1ZmZlcigibWF0cml4IixuZXcgRmxvYXQzMkFycmF5KGMubWF0cml4RGF0YSksMTYsITEpLGEuX3RoaW5JbnN0YW5jZURhdGFTdG9yYWdlLm1hdHJpeEJ1ZmZlclNpemU9Yy5tYXRyaXhCdWZmZXJTaXplLGEuX3RoaW5JbnN0YW5jZURhdGFTdG9yYWdlLmluc3RhbmNlc0NvdW50PWMuaW5zdGFuY2VzQ291bnQpOmEuX3RoaW5JbnN0YW5jZURhdGFTdG9yYWdlLm1hdHJpeEJ1ZmZlclNpemU9Yy5tYXRyaXhCdWZmZXJTaXplLHQudGhpbkluc3RhbmNlcy51c2VyVGhpbkluc3RhbmNlKXt2YXIgZD10LnRoaW5JbnN0YW5jZXMudXNlclRoaW5JbnN0YW5jZTtmb3IodmFyIHAgaW4gZC5kYXRhKWEudGhpbkluc3RhbmNlU2V0QnVmZmVyKHAsbmV3IEZsb2F0MzJBcnJheShkLmRhdGFbcF0pLGQuc3RyaWRlc1twXSwhMSksYS5fdXNlclRoaW5JbnN0YW5jZUJ1ZmZlcnNTdG9yYWdlLnNpemVzW3BdPWQuc2l6ZXNbcF19fXJldHVybiBhfSxlLnByb3RvdHlwZS5zZXRQb3NpdGlvbnNGb3JDUFVTa2lubmluZz1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvO2lmKCF0Ll9zb3VyY2VQb3NpdGlvbnMpe3ZhciByPXRoaXMuZ2V0VmVydGljZXNEYXRhKG0uUG9zaXRpb25LaW5kKTtpZighcilyZXR1cm4gdC5fc291cmNlUG9zaXRpb25zO3QuX3NvdXJjZVBvc2l0aW9ucz1uZXcgRmxvYXQzMkFycmF5KHIpLHRoaXMuaXNWZXJ0ZXhCdWZmZXJVcGRhdGFibGUobS5Qb3NpdGlvbktpbmQpfHx0aGlzLnNldFZlcnRpY2VzRGF0YShtLlBvc2l0aW9uS2luZCxyLCEwKX1yZXR1cm4gdC5fc291cmNlUG9zaXRpb25zfSxlLnByb3RvdHlwZS5zZXROb3JtYWxzRm9yQ1BVU2tpbm5pbmc9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mbztpZighdC5fc291cmNlTm9ybWFscyl7dmFyIHI9dGhpcy5nZXRWZXJ0aWNlc0RhdGEobS5Ob3JtYWxLaW5kKTtpZighcilyZXR1cm4gdC5fc291cmNlTm9ybWFsczt0Ll9zb3VyY2VOb3JtYWxzPW5ldyBGbG9hdDMyQXJyYXkociksdGhpcy5pc1ZlcnRleEJ1ZmZlclVwZGF0YWJsZShtLk5vcm1hbEtpbmQpfHx0aGlzLnNldFZlcnRpY2VzRGF0YShtLk5vcm1hbEtpbmQsciwhMCl9cmV0dXJuIHQuX3NvdXJjZU5vcm1hbHN9LGUucHJvdG90eXBlLmFwcGx5U2tlbGV0b249ZnVuY3Rpb24odCl7aWYoIXRoaXMuZ2VvbWV0cnkpcmV0dXJuIHRoaXM7aWYodGhpcy5nZW9tZXRyeS5fc29mdHdhcmVTa2lubmluZ0ZyYW1lSWQ9PXRoaXMuZ2V0U2NlbmUoKS5nZXRGcmFtZUlkKCkpcmV0dXJuIHRoaXM7aWYodGhpcy5nZW9tZXRyeS5fc29mdHdhcmVTa2lubmluZ0ZyYW1lSWQ9dGhpcy5nZXRTY2VuZSgpLmdldEZyYW1lSWQoKSwhdGhpcy5pc1ZlcnRpY2VzRGF0YVByZXNlbnQobS5Qb3NpdGlvbktpbmQpKXJldHVybiB0aGlzO2lmKCF0aGlzLmlzVmVydGljZXNEYXRhUHJlc2VudChtLk1hdHJpY2VzSW5kaWNlc0tpbmQpKXJldHVybiB0aGlzO2lmKCF0aGlzLmlzVmVydGljZXNEYXRhUHJlc2VudChtLk1hdHJpY2VzV2VpZ2h0c0tpbmQpKXJldHVybiB0aGlzO3ZhciByPXRoaXMuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KG0uTm9ybWFsS2luZCksbj10aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mbztpZighbi5fc291cmNlUG9zaXRpb25zKXt2YXIgYT10aGlzLnN1Yk1lc2hlcy5zbGljZSgpO3RoaXMuc2V0UG9zaXRpb25zRm9yQ1BVU2tpbm5pbmcoKSx0aGlzLnN1Yk1lc2hlcz1hfXImJiFuLl9zb3VyY2VOb3JtYWxzJiZ0aGlzLnNldE5vcm1hbHNGb3JDUFVTa2lubmluZygpO3ZhciBzPXRoaXMuZ2V0VmVydGljZXNEYXRhKG0uUG9zaXRpb25LaW5kKTtpZighcylyZXR1cm4gdGhpcztzIGluc3RhbmNlb2YgRmxvYXQzMkFycmF5fHwocz1uZXcgRmxvYXQzMkFycmF5KHMpKTt2YXIgbz10aGlzLmdldFZlcnRpY2VzRGF0YShtLk5vcm1hbEtpbmQpO2lmKHIpe2lmKCFvKXJldHVybiB0aGlzO28gaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXl8fChvPW5ldyBGbG9hdDMyQXJyYXkobykpfXZhciB1PXRoaXMuZ2V0VmVydGljZXNEYXRhKG0uTWF0cmljZXNJbmRpY2VzS2luZCksZj10aGlzLmdldFZlcnRpY2VzRGF0YShtLk1hdHJpY2VzV2VpZ2h0c0tpbmQpO2lmKCFmfHwhdSlyZXR1cm4gdGhpcztmb3IodmFyIGw9dGhpcy5udW1Cb25lSW5mbHVlbmNlcnM+NCxoPWw/dGhpcy5nZXRWZXJ0aWNlc0RhdGEobS5NYXRyaWNlc0luZGljZXNFeHRyYUtpbmQpOm51bGwsYz1sP3RoaXMuZ2V0VmVydGljZXNEYXRhKG0uTWF0cmljZXNXZWlnaHRzRXh0cmFLaW5kKTpudWxsLGQ9dC5nZXRUcmFuc2Zvcm1NYXRyaWNlcyh0aGlzKSxwPWIuWmVybygpLGc9bmV3IEksXz1uZXcgSSx2PTAseSxFPTA7RTxzLmxlbmd0aDtFKz0zLHYrPTQpe3ZhciBSPXZvaWQgMDtmb3IoeT0wO3k8NDt5KyspUj1mW3YreV0sUj4wJiYoSS5Gcm9tRmxvYXQzMkFycmF5VG9SZWZTY2FsZWQoZCxNYXRoLmZsb29yKHVbdit5XSoxNiksUixfKSxnLmFkZFRvU2VsZihfKSk7aWYobClmb3IoeT0wO3k8NDt5KyspUj1jW3YreV0sUj4wJiYoSS5Gcm9tRmxvYXQzMkFycmF5VG9SZWZTY2FsZWQoZCxNYXRoLmZsb29yKGhbdit5XSoxNiksUixfKSxnLmFkZFRvU2VsZihfKSk7Yi5UcmFuc2Zvcm1Db29yZGluYXRlc0Zyb21GbG9hdHNUb1JlZihuLl9zb3VyY2VQb3NpdGlvbnNbRV0sbi5fc291cmNlUG9zaXRpb25zW0UrMV0sbi5fc291cmNlUG9zaXRpb25zW0UrMl0sZyxwKSxwLnRvQXJyYXkocyxFKSxyJiYoYi5UcmFuc2Zvcm1Ob3JtYWxGcm9tRmxvYXRzVG9SZWYobi5fc291cmNlTm9ybWFsc1tFXSxuLl9zb3VyY2VOb3JtYWxzW0UrMV0sbi5fc291cmNlTm9ybWFsc1tFKzJdLGcscCkscC50b0FycmF5KG8sRSkpLGcucmVzZXQoKX1yZXR1cm4gdGhpcy51cGRhdGVWZXJ0aWNlc0RhdGEobS5Qb3NpdGlvbktpbmQscyksciYmdGhpcy51cGRhdGVWZXJ0aWNlc0RhdGEobS5Ob3JtYWxLaW5kLG8pLHRoaXN9LGUuTWluTWF4PWZ1bmN0aW9uKHQpe3ZhciByPW51bGwsbj1udWxsO3JldHVybiB0LmZvckVhY2goZnVuY3Rpb24oYSl7dmFyIHM9YS5nZXRCb3VuZGluZ0luZm8oKSxvPXMuYm91bmRpbmdCb3g7IXJ8fCFuPyhyPW8ubWluaW11bVdvcmxkLG49by5tYXhpbXVtV29ybGQpOihyLm1pbmltaXplSW5QbGFjZShvLm1pbmltdW1Xb3JsZCksbi5tYXhpbWl6ZUluUGxhY2Uoby5tYXhpbXVtV29ybGQpKX0pLCFyfHwhbj97bWluOmIuWmVybygpLG1heDpiLlplcm8oKX06e21pbjpyLG1heDpufX0sZS5DZW50ZXI9ZnVuY3Rpb24odCl7dmFyIHI9dCBpbnN0YW5jZW9mIEFycmF5P2UuTWluTWF4KHQpOnQ7cmV0dXJuIGIuQ2VudGVyKHIubWluLHIubWF4KX0sZS5NZXJnZU1lc2hlcz1mdW5jdGlvbih0LHIsbixhLHMsbyl7cmV0dXJuIHI9PT12b2lkIDAmJihyPSEwKSxlaShlLl9NZXJnZU1lc2hlc0Nvcm91dGluZSh0LHIsbixhLHMsbywhMSkpfSxlLk1lcmdlTWVzaGVzQXN5bmM9ZnVuY3Rpb24odCxyLG4sYSxzLG8pe3JldHVybiByPT09dm9pZCAwJiYocj0hMCksVGEoZS5fTWVyZ2VNZXNoZXNDb3JvdXRpbmUodCxyLG4sYSxzLG8sITApLEVhKCkpfSxlLl9NZXJnZU1lc2hlc0Nvcm91dGluZT1mdW5jdGlvbih0LHIsbixhLHMsbyx1KXt2YXIgZixsLGgsYyxkLHAsZyxfLHYsaixqLGoseSxFLFIsTSxDLEEsUyx3LEYseCxHLHosTixxLCQsdWUsWixqO3JldHVybiByPT09dm9pZCAwJiYocj0hMCksd3QodGhpcyxmdW5jdGlvbihmZSl7c3dpdGNoKGZlLmxhYmVsKXtjYXNlIDA6aWYodD10LmZpbHRlcihCb29sZWFuKSx0Lmxlbmd0aD09PTApcmV0dXJuWzIsbnVsbF07aWYoIW4pe2ZvcihsPTAsZj0wO2Y8dC5sZW5ndGg7ZisrKWlmKGwrPXRbZl0uZ2V0VG90YWxWZXJ0aWNlcygpLGw+PTY1NTM2KXJldHVybiBXLldhcm4oIkNhbm5vdCBtZXJnZSBtZXNoZXMgYmVjYXVzZSByZXN1bHRpbmcgbWVzaCB3aWxsIGhhdmUgbW9yZSB0aGFuIDY1NTM2IHZlcnRpY2VzLiBQbGVhc2UgdXNlIGFsbG93MzJCaXRzSW5kaWNlcyA9IHRydWUgdG8gdXNlIDMyIGJpdHMgaW5kaWNlcyIpLFsyLG51bGxdfWZvcihvJiYocz0hMSksaD1uZXcgQXJyYXksYz1uZXcgQXJyYXksZD1uZXcgQXJyYXkscD10WzBdLm92ZXJyaWRlTWF0ZXJpYWxTaWRlT3JpZW50YXRpb24sZj0wO2Y8dC5sZW5ndGg7ZisrKXtpZihnPXRbZl0sZy5pc0FuSW5zdGFuY2UpcmV0dXJuIFcuV2FybigiQ2Fubm90IG1lcmdlIGluc3RhbmNlIG1lc2hlcy4iKSxbMixudWxsXTtpZihwIT09Zy5vdmVycmlkZU1hdGVyaWFsU2lkZU9yaWVudGF0aW9uKXJldHVybiBXLldhcm4oIkNhbm5vdCBtZXJnZSBtZXNoZXMgd2l0aCBkaWZmZXJlbnQgb3ZlcnJpZGVNYXRlcmlhbFNpZGVPcmllbnRhdGlvbiB2YWx1ZXMuIiksWzIsbnVsbF07aWYocyYmZC5wdXNoKGcuZ2V0VG90YWxJbmRpY2VzKCkpLG8paWYoZy5tYXRlcmlhbClpZihfPWcubWF0ZXJpYWwsXyBpbnN0YW5jZW9mIGFpKXtmb3Iodj0wO3Y8Xy5zdWJNYXRlcmlhbHMubGVuZ3RoO3YrKyloLmluZGV4T2YoXy5zdWJNYXRlcmlhbHNbdl0pPDAmJmgucHVzaChfLnN1Yk1hdGVyaWFsc1t2XSk7Zm9yKGo9MDtqPGcuc3ViTWVzaGVzLmxlbmd0aDtqKyspYy5wdXNoKGguaW5kZXhPZihfLnN1Yk1hdGVyaWFsc1tnLnN1Yk1lc2hlc1tqXS5tYXRlcmlhbEluZGV4XSkpLGQucHVzaChnLnN1Yk1lc2hlc1tqXS5pbmRleENvdW50KX1lbHNlIGZvcihoLmluZGV4T2YoXyk8MCYmaC5wdXNoKF8pLGo9MDtqPGcuc3ViTWVzaGVzLmxlbmd0aDtqKyspYy5wdXNoKGguaW5kZXhPZihfKSksZC5wdXNoKGcuc3ViTWVzaGVzW2pdLmluZGV4Q291bnQpO2Vsc2UgZm9yKGo9MDtqPGcuc3ViTWVzaGVzLmxlbmd0aDtqKyspYy5wdXNoKDApLGQucHVzaChnLnN1Yk1lc2hlc1tqXS5pbmRleENvdW50KX1yZXR1cm4geT10WzBdLEU9ZnVuY3Rpb24oUGUpe3ZhciBXZT1QZS5jb21wdXRlV29ybGRNYXRyaXgoITApLFplPWdlLkV4dHJhY3RGcm9tTWVzaChQZSwhMSwhMSk7cmV0dXJuW1plLFdlXX0sUj1FKHkpLE09UlswXSxDPVJbMV0sdT9bNF06WzMsMl07Y2FzZSAxOmZlLnNlbnQoKSxmZS5sYWJlbD0yO2Nhc2UgMjpBPW5ldyBBcnJheSh0Lmxlbmd0aC0xKSxTPTEsZmUubGFiZWw9MztjYXNlIDM6cmV0dXJuIFM8dC5sZW5ndGg/KEFbUy0xXT1FKHRbU10pLHU/WzRdOlszLDVdKTpbMyw2XTtjYXNlIDQ6ZmUuc2VudCgpLGZlLmxhYmVsPTU7Y2FzZSA1OnJldHVybiBTKyssWzMsM107Y2FzZSA2Onc9TS5fbWVyZ2VDb3JvdXRpbmUoQyxBLG4sdSwhciksRj13Lm5leHQoKSxmZS5sYWJlbD03O2Nhc2UgNzpyZXR1cm4gRi5kb25lP1szLDEwXTp1P1s0XTpbMyw5XTtjYXNlIDg6ZmUuc2VudCgpLGZlLmxhYmVsPTk7Y2FzZSA5OnJldHVybiBGPXcubmV4dCgpLFszLDddO2Nhc2UgMTA6eD1GLnZhbHVlLGF8fChhPW5ldyBlKHkubmFtZSsiX21lcmdlZCIseS5nZXRTY2VuZSgpKSksRz14Ll9hcHBseVRvQ29yb3V0aW5lKGEsdm9pZCAwLHUpLHo9Ry5uZXh0KCksZmUubGFiZWw9MTE7Y2FzZSAxMTpyZXR1cm4gei5kb25lP1szLDE0XTp1P1s0XTpbMywxM107Y2FzZSAxMjpmZS5zZW50KCksZmUubGFiZWw9MTM7Y2FzZSAxMzpyZXR1cm4gej1HLm5leHQoKSxbMywxMV07Y2FzZSAxNDppZihhLmNoZWNrQ29sbGlzaW9ucz15LmNoZWNrQ29sbGlzaW9ucyxhLm92ZXJyaWRlTWF0ZXJpYWxTaWRlT3JpZW50YXRpb249eS5vdmVycmlkZU1hdGVyaWFsU2lkZU9yaWVudGF0aW9uLHIpZm9yKGY9MDtmPHQubGVuZ3RoO2YrKyl0W2ZdLmRpc3Bvc2UoKTtpZihzfHxvKXtmb3IoYS5yZWxlYXNlU3ViTWVzaGVzKCksZj0wLE49MDtmPGQubGVuZ3RoOylNdC5DcmVhdGVGcm9tSW5kaWNlcygwLE4sZFtmXSxhLHZvaWQgMCwhMSksTis9ZFtmXSxmKys7Zm9yKHE9MCwkPWEuc3ViTWVzaGVzO3E8JC5sZW5ndGg7cSsrKXVlPSRbcV0sdWUucmVmcmVzaEJvdW5kaW5nSW5mbygpO2EuY29tcHV0ZVdvcmxkTWF0cml4KCEwKX1pZihvKXtmb3IoWj1uZXcgYWkoeS5uYW1lKyJfbWVyZ2VkIix5LmdldFNjZW5lKCkpLFouc3ViTWF0ZXJpYWxzPWgsaj0wO2o8YS5zdWJNZXNoZXMubGVuZ3RoO2orKylhLnN1Yk1lc2hlc1tqXS5tYXRlcmlhbEluZGV4PWNbal07YS5tYXRlcmlhbD1afWVsc2UgYS5tYXRlcmlhbD15Lm1hdGVyaWFsO3JldHVyblsyLGFdfX0pfSxlLnByb3RvdHlwZS5hZGRJbnN0YW5jZT1mdW5jdGlvbih0KXt0Ll9pbmRleEluU291cmNlTWVzaEluc3RhbmNlQXJyYXk9dGhpcy5pbnN0YW5jZXMubGVuZ3RoLHRoaXMuaW5zdGFuY2VzLnB1c2godCl9LGUucHJvdG90eXBlLnJlbW92ZUluc3RhbmNlPWZ1bmN0aW9uKHQpe3ZhciByPXQuX2luZGV4SW5Tb3VyY2VNZXNoSW5zdGFuY2VBcnJheTtpZihyIT0tMSl7aWYociE9PXRoaXMuaW5zdGFuY2VzLmxlbmd0aC0xKXt2YXIgbj10aGlzLmluc3RhbmNlc1t0aGlzLmluc3RhbmNlcy5sZW5ndGgtMV07dGhpcy5pbnN0YW5jZXNbcl09bixuLl9pbmRleEluU291cmNlTWVzaEluc3RhbmNlQXJyYXk9cn10Ll9pbmRleEluU291cmNlTWVzaEluc3RhbmNlQXJyYXk9LTEsdGhpcy5pbnN0YW5jZXMucG9wKCl9fSxlLnByb3RvdHlwZS5fc2hvdWxkQ29udmVydFJIUz1mdW5jdGlvbigpe3JldHVybiB0aGlzLm92ZXJyaWRlTWF0ZXJpYWxTaWRlT3JpZW50YXRpb249PT1GZS5Db3VudGVyQ2xvY2tXaXNlU2lkZU9yaWVudGF0aW9ufSxlLkZST05UU0lERT1nZS5GUk9OVFNJREUsZS5CQUNLU0lERT1nZS5CQUNLU0lERSxlLkRPVUJMRVNJREU9Z2UuRE9VQkxFU0lERSxlLkRFRkFVTFRTSURFPWdlLkRFRkFVTFRTSURFLGUuTk9fQ0FQPTAsZS5DQVBfU1RBUlQ9MSxlLkNBUF9FTkQ9MixlLkNBUF9BTEw9MyxlLk5PX0ZMSVA9MCxlLkZMSVBfVElMRT0xLGUuUk9UQVRFX1RJTEU9MixlLkZMSVBfUk9XPTMsZS5ST1RBVEVfUk9XPTQsZS5GTElQX05fUk9UQVRFX1RJTEU9NSxlLkZMSVBfTl9ST1RBVEVfUk9XPTYsZS5DRU5URVI9MCxlLkxFRlQ9MSxlLlJJR0hUPTIsZS5UT1A9MyxlLkJPVFRPTT00LGUuSU5TVEFOQ0VETUVTSF9TT1JUX1RSQU5TUEFSRU5UPSExLGUuX0dyb3VuZE1lc2hQYXJzZXI9ZnVuY3Rpb24odCxyKXt0aHJvdyBYKCJHcm91bmRNZXNoIil9LGUuX0dvbGRiZXJnTWVzaFBhcnNlcj1mdW5jdGlvbih0LHIpe3Rocm93IFgoIkdvbGRiZXJnTWVzaCIpfSxlLl9MaW5lc01lc2hQYXJzZXI9ZnVuY3Rpb24odCxyKXt0aHJvdyBYKCJMaW5lc01lc2giKX0sZX0obmkpO3dlKCJCQUJZTE9OLk1lc2giLFEpLFEucHJvdG90eXBlLnNldE1hdGVyaWFsQnlJRD1mdW5jdGlvbihpKXtyZXR1cm4gdGhpcy5zZXRNYXRlcmlhbEJ5SWQoaSl9LFEuQ3JlYXRlRGlzYz1RLkNyZWF0ZURpc2N8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKCJJbXBvcnQgTWVzaEJ1aWxkZXIgdG8gcG9wdWxhdGUgdGhpcyBmdW5jdGlvbiIpfSxRLkNyZWF0ZUJveD1RLkNyZWF0ZUJveHx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgRXJyb3IoIkltcG9ydCBNZXNoQnVpbGRlciB0byBwb3B1bGF0ZSB0aGlzIGZ1bmN0aW9uIil9LFEuQ3JlYXRlU3BoZXJlPVEuQ3JlYXRlU3BoZXJlfHxmdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcigiSW1wb3J0IE1lc2hCdWlsZGVyIHRvIHBvcHVsYXRlIHRoaXMgZnVuY3Rpb24iKX0sUS5DcmVhdGVDeWxpbmRlcj1RLkNyZWF0ZUN5bGluZGVyfHxmdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcigiSW1wb3J0IE1lc2hCdWlsZGVyIHRvIHBvcHVsYXRlIHRoaXMgZnVuY3Rpb24iKX0sUS5DcmVhdGVUb3J1c0tub3Q9US5DcmVhdGVUb3J1c0tub3R8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKCJJbXBvcnQgTWVzaEJ1aWxkZXIgdG8gcG9wdWxhdGUgdGhpcyBmdW5jdGlvbiIpfSxRLkNyZWF0ZVRvcnVzPVEuQ3JlYXRlVG9ydXN8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKCJJbXBvcnQgTWVzaEJ1aWxkZXIgdG8gcG9wdWxhdGUgdGhpcyBmdW5jdGlvbiIpfSxRLkNyZWF0ZVBsYW5lPVEuQ3JlYXRlUGxhbmV8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKCJJbXBvcnQgTWVzaEJ1aWxkZXIgdG8gcG9wdWxhdGUgdGhpcyBmdW5jdGlvbiIpfSxRLkNyZWF0ZUdyb3VuZD1RLkNyZWF0ZUdyb3VuZHx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgRXJyb3IoIkltcG9ydCBNZXNoQnVpbGRlciB0byBwb3B1bGF0ZSB0aGlzIGZ1bmN0aW9uIil9LFEuQ3JlYXRlVGlsZWRHcm91bmQ9US5DcmVhdGVUaWxlZEdyb3VuZHx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgRXJyb3IoIkltcG9ydCBNZXNoQnVpbGRlciB0byBwb3B1bGF0ZSB0aGlzIGZ1bmN0aW9uIil9LFEuQ3JlYXRlR3JvdW5kRnJvbUhlaWdodE1hcD1RLkNyZWF0ZUdyb3VuZEZyb21IZWlnaHRNYXB8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKCJJbXBvcnQgTWVzaEJ1aWxkZXIgdG8gcG9wdWxhdGUgdGhpcyBmdW5jdGlvbiIpfSxRLkNyZWF0ZVR1YmU9US5DcmVhdGVUdWJlfHxmdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcigiSW1wb3J0IE1lc2hCdWlsZGVyIHRvIHBvcHVsYXRlIHRoaXMgZnVuY3Rpb24iKX0sUS5DcmVhdGVQb2x5aGVkcm9uPVEuQ3JlYXRlUG9seWhlZHJvbnx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgRXJyb3IoIkltcG9ydCBNZXNoQnVpbGRlciB0byBwb3B1bGF0ZSB0aGlzIGZ1bmN0aW9uIil9LFEuQ3JlYXRlSWNvU3BoZXJlPVEuQ3JlYXRlSWNvU3BoZXJlfHxmdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcigiSW1wb3J0IE1lc2hCdWlsZGVyIHRvIHBvcHVsYXRlIHRoaXMgZnVuY3Rpb24iKX0sUS5DcmVhdGVEZWNhbD1RLkNyZWF0ZURlY2FsfHxmdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcigiSW1wb3J0IE1lc2hCdWlsZGVyIHRvIHBvcHVsYXRlIHRoaXMgZnVuY3Rpb24iKX0sUS5DcmVhdGVDYXBzdWxlPVEuQ3JlYXRlQ2Fwc3VsZXx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgRXJyb3IoIkltcG9ydCBNZXNoQnVpbGRlciB0byBwb3B1bGF0ZSB0aGlzIGZ1bmN0aW9uIil9LFEuRXh0ZW5kVG9Hb2xkYmVyZz1RLkV4dGVuZFRvR29sZGJlcmd8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKCJJbXBvcnQgTWVzaEJ1aWxkZXIgdG8gcG9wdWxhdGUgdGhpcyBmdW5jdGlvbiIpfTt2YXIgZHQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKGUpe2U9PT12b2lkIDAmJihlPTApLHRoaXMucHJpb3JpdHk9ZX1yZXR1cm4gaS5wcm90b3R5cGUuZ2V0RGVzY3JpcHRpb249ZnVuY3Rpb24oKXtyZXR1cm4iIn0saS5wcm90b3R5cGUuYXBwbHk9ZnVuY3Rpb24oZSx0KXtyZXR1cm4hMH0saX0oKSxzaT1mdW5jdGlvbihpKXtLKGUsaSk7ZnVuY3Rpb24gZSh0LHIsbil7dD09PXZvaWQgMCYmKHQ9MCkscj09PXZvaWQgMCYmKHI9MTAyNCksbj09PXZvaWQgMCYmKG49LjUpO3ZhciBhPWkuY2FsbCh0aGlzLHQpfHx0aGlzO3JldHVybiBhLnByaW9yaXR5PXQsYS5tYXhpbXVtU2l6ZT1yLGEuc3RlcD1uLGF9cmV0dXJuIGUucHJvdG90eXBlLmdldERlc2NyaXB0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIlJlZHVjaW5nIHJlbmRlciB0YXJnZXQgdGV4dHVyZSBzaXplIHRvICIrdGhpcy5tYXhpbXVtU2l6ZX0sZS5wcm90b3R5cGUuYXBwbHk9ZnVuY3Rpb24odCxyKXtmb3IodmFyIG49ITAsYT0wO2E8dC50ZXh0dXJlcy5sZW5ndGg7YSsrKXt2YXIgcz10LnRleHR1cmVzW2FdO2lmKCEoIXMuY2FuUmVzY2FsZXx8cy5nZXRDb250ZXh0KSl7dmFyIG89cy5nZXRTaXplKCksdT1NYXRoLm1heChvLndpZHRoLG8uaGVpZ2h0KTt1PnRoaXMubWF4aW11bVNpemUmJihzLnNjYWxlKHRoaXMuc3RlcCksbj0hMSl9fXJldHVybiBufSxlfShkdCksaG49ZnVuY3Rpb24oaSl7SyhlLGkpO2Z1bmN0aW9uIGUodCxyLG4pe3Q9PT12b2lkIDAmJih0PTApLHI9PT12b2lkIDAmJihyPTIpLG49PT12b2lkIDAmJihuPS4yNSk7dmFyIGE9aS5jYWxsKHRoaXMsdCl8fHRoaXM7cmV0dXJuIGEucHJpb3JpdHk9dCxhLm1heGltdW1TY2FsZT1yLGEuc3RlcD1uLGEuX2N1cnJlbnRTY2FsZT0tMSxhLl9kaXJlY3Rpb25PZmZzZXQ9MSxhfXJldHVybiBlLnByb3RvdHlwZS5nZXREZXNjcmlwdGlvbj1mdW5jdGlvbigpe3JldHVybiJTZXR0aW5nIGhhcmR3YXJlIHNjYWxpbmcgbGV2ZWwgdG8gIit0aGlzLl9jdXJyZW50U2NhbGV9LGUucHJvdG90eXBlLmFwcGx5PWZ1bmN0aW9uKHQscil7cmV0dXJuIHRoaXMuX2N1cnJlbnRTY2FsZT09PS0xJiYodGhpcy5fY3VycmVudFNjYWxlPXQuZ2V0RW5naW5lKCkuZ2V0SGFyZHdhcmVTY2FsaW5nTGV2ZWwoKSx0aGlzLl9jdXJyZW50U2NhbGU+dGhpcy5tYXhpbXVtU2NhbGUmJih0aGlzLl9kaXJlY3Rpb25PZmZzZXQ9LTEpKSx0aGlzLl9jdXJyZW50U2NhbGUrPXRoaXMuX2RpcmVjdGlvbk9mZnNldCp0aGlzLnN0ZXAsdC5nZXRFbmdpbmUoKS5zZXRIYXJkd2FyZVNjYWxpbmdMZXZlbCh0aGlzLl9jdXJyZW50U2NhbGUpLHRoaXMuX2RpcmVjdGlvbk9mZnNldD09PTE/dGhpcy5fY3VycmVudFNjYWxlPj10aGlzLm1heGltdW1TY2FsZTp0aGlzLl9jdXJyZW50U2NhbGU8PXRoaXMubWF4aW11bVNjYWxlfSxlfShkdCksb2k9ZnVuY3Rpb24oaSl7SyhlLGkpO2Z1bmN0aW9uIGUoKXtyZXR1cm4gaSE9PW51bGwmJmkuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXJldHVybiBlLnByb3RvdHlwZS5nZXREZXNjcmlwdGlvbj1mdW5jdGlvbigpe3JldHVybiJUdXJuaW5nIHNoYWRvd3Mgb24vb2ZmIn0sZS5wcm90b3R5cGUuYXBwbHk9ZnVuY3Rpb24odCxyKXtyZXR1cm4gdC5zaGFkb3dzRW5hYmxlZD1yLmlzSW5JbXByb3ZlbWVudE1vZGUsITB9LGV9KGR0KSx1aT1mdW5jdGlvbihpKXtLKGUsaSk7ZnVuY3Rpb24gZSgpe3JldHVybiBpIT09bnVsbCYmaS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIGUucHJvdG90eXBlLmdldERlc2NyaXB0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIlR1cm5pbmcgcG9zdC1wcm9jZXNzZXMgb24vb2ZmIn0sZS5wcm90b3R5cGUuYXBwbHk9ZnVuY3Rpb24odCxyKXtyZXR1cm4gdC5wb3N0UHJvY2Vzc2VzRW5hYmxlZD1yLmlzSW5JbXByb3ZlbWVudE1vZGUsITB9LGV9KGR0KSxmaT1mdW5jdGlvbihpKXtLKGUsaSk7ZnVuY3Rpb24gZSgpe3JldHVybiBpIT09bnVsbCYmaS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIGUucHJvdG90eXBlLmdldERlc2NyaXB0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIlR1cm5pbmcgbGVucyBmbGFyZXMgb24vb2ZmIn0sZS5wcm90b3R5cGUuYXBwbHk9ZnVuY3Rpb24odCxyKXtyZXR1cm4gdC5sZW5zRmxhcmVzRW5hYmxlZD1yLmlzSW5JbXByb3ZlbWVudE1vZGUsITB9LGV9KGR0KSxOYT1mdW5jdGlvbihpKXtLKGUsaSk7ZnVuY3Rpb24gZSgpe3JldHVybiBpIT09bnVsbCYmaS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIGUucHJvdG90eXBlLmdldERlc2NyaXB0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub25HZXREZXNjcmlwdGlvbj90aGlzLm9uR2V0RGVzY3JpcHRpb24oKToiUnVubmluZyB1c2VyIGRlZmluZWQgY2FsbGJhY2sifSxlLnByb3RvdHlwZS5hcHBseT1mdW5jdGlvbih0LHIpe3JldHVybiB0aGlzLm9uQXBwbHk/dGhpcy5vbkFwcGx5KHQscik6ITB9LGV9KGR0KSxsaT1mdW5jdGlvbihpKXtLKGUsaSk7ZnVuY3Rpb24gZSgpe3JldHVybiBpIT09bnVsbCYmaS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIGUucHJvdG90eXBlLmdldERlc2NyaXB0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIlR1cm5pbmcgcGFydGljbGVzIG9uL29mZiJ9LGUucHJvdG90eXBlLmFwcGx5PWZ1bmN0aW9uKHQscil7cmV0dXJuIHQucGFydGljbGVzRW5hYmxlZD1yLmlzSW5JbXByb3ZlbWVudE1vZGUsITB9LGV9KGR0KSxjbj1mdW5jdGlvbihpKXtLKGUsaSk7ZnVuY3Rpb24gZSgpe3JldHVybiBpIT09bnVsbCYmaS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIGUucHJvdG90eXBlLmdldERlc2NyaXB0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIlR1cm5pbmcgcmVuZGVyIHRhcmdldHMgb2ZmIn0sZS5wcm90b3R5cGUuYXBwbHk9ZnVuY3Rpb24odCxyKXtyZXR1cm4gdC5yZW5kZXJUYXJnZXRzRW5hYmxlZD1yLmlzSW5JbXByb3ZlbWVudE1vZGUsITB9LGV9KGR0KSxoaT1mdW5jdGlvbihpKXtLKGUsaSk7ZnVuY3Rpb24gZSgpe3ZhciB0PWkhPT1udWxsJiZpLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gdC5fY2FuQmVNZXJnZWQ9ZnVuY3Rpb24ocil7aWYoIShyIGluc3RhbmNlb2YgUSkpcmV0dXJuITE7dmFyIG49cjtyZXR1cm4hKG4uaXNEaXNwb3NlZCgpfHwhbi5pc1Zpc2libGV8fCFuLmlzRW5hYmxlZCgpfHxuLmluc3RhbmNlcy5sZW5ndGg+MHx8bi5za2VsZXRvbnx8bi5oYXNMT0RMZXZlbHMpfSx0fXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiVXBkYXRlU2VsZWN0aW9uVHJlZSIse2dldDpmdW5jdGlvbigpe3JldHVybiBlLl9VcGRhdGVTZWxlY3Rpb25UcmVlfSxzZXQ6ZnVuY3Rpb24odCl7ZS5fVXBkYXRlU2VsZWN0aW9uVHJlZT10fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLmdldERlc2NyaXB0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIk1lcmdpbmcgc2ltaWxhciBtZXNoZXMgdG9nZXRoZXIifSxlLnByb3RvdHlwZS5hcHBseT1mdW5jdGlvbih0LHIsbil7Zm9yKHZhciBhPXQubWVzaGVzLnNsaWNlKDApLHM9YS5sZW5ndGgsbz0wO288cztvKyspe3ZhciB1PW5ldyBBcnJheSxmPWFbb107aWYoISF0aGlzLl9jYW5CZU1lcmdlZChmKSl7dS5wdXNoKGYpO2Zvcih2YXIgbD1vKzE7bDxzO2wrKyl7dmFyIGg9YVtsXTshdGhpcy5fY2FuQmVNZXJnZWQoaCl8fGgubWF0ZXJpYWw9PT1mLm1hdGVyaWFsJiZoLmNoZWNrQ29sbGlzaW9ucz09PWYuY2hlY2tDb2xsaXNpb25zJiYodS5wdXNoKGgpLHMtLSxhLnNwbGljZShsLDEpLGwtLSl9dS5sZW5ndGg8Mnx8US5NZXJnZU1lc2hlcyh1LHZvaWQgMCwhMCl9fXZhciBjPXQ7cmV0dXJuIGMuY3JlYXRlT3JVcGRhdGVTZWxlY3Rpb25PY3RyZWUmJihuIT1udWxsP24mJmMuY3JlYXRlT3JVcGRhdGVTZWxlY3Rpb25PY3RyZWUoKTplLlVwZGF0ZVNlbGVjdGlvblRyZWUmJmMuY3JlYXRlT3JVcGRhdGVTZWxlY3Rpb25PY3RyZWUoKSksITB9LGUuX1VwZGF0ZVNlbGVjdGlvblRyZWU9ITEsZX0oZHQpLGNpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaShlLHQpe2U9PT12b2lkIDAmJihlPTYwKSx0PT09dm9pZCAwJiYodD0yZTMpLHRoaXMudGFyZ2V0RnJhbWVSYXRlPWUsdGhpcy50cmFja2VyRHVyYXRpb249dCx0aGlzLm9wdGltaXphdGlvbnM9bmV3IEFycmF5fXJldHVybiBpLnByb3RvdHlwZS5hZGRPcHRpbWl6YXRpb249ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMub3B0aW1pemF0aW9ucy5wdXNoKGUpLHRoaXN9LGkucHJvdG90eXBlLmFkZEN1c3RvbU9wdGltaXphdGlvbj1mdW5jdGlvbihlLHQscil7cj09PXZvaWQgMCYmKHI9MCk7dmFyIG49bmV3IE5hKHIpO3JldHVybiBuLm9uQXBwbHk9ZSxuLm9uR2V0RGVzY3JpcHRpb249dCx0aGlzLm9wdGltaXphdGlvbnMucHVzaChuKSx0aGlzfSxpLkxvd0RlZ3JhZGF0aW9uQWxsb3dlZD1mdW5jdGlvbihlKXt2YXIgdD1uZXcgaShlKSxyPTA7cmV0dXJuIHQuYWRkT3B0aW1pemF0aW9uKG5ldyBoaShyKSksdC5hZGRPcHRpbWl6YXRpb24obmV3IG9pKHIpKSx0LmFkZE9wdGltaXphdGlvbihuZXcgZmkocikpLHIrKyx0LmFkZE9wdGltaXphdGlvbihuZXcgdWkocikpLHQuYWRkT3B0aW1pemF0aW9uKG5ldyBsaShyKSkscisrLHQuYWRkT3B0aW1pemF0aW9uKG5ldyBzaShyLDEwMjQpKSx0fSxpLk1vZGVyYXRlRGVncmFkYXRpb25BbGxvd2VkPWZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBpKGUpLHI9MDtyZXR1cm4gdC5hZGRPcHRpbWl6YXRpb24obmV3IGhpKHIpKSx0LmFkZE9wdGltaXphdGlvbihuZXcgb2kocikpLHQuYWRkT3B0aW1pemF0aW9uKG5ldyBmaShyKSkscisrLHQuYWRkT3B0aW1pemF0aW9uKG5ldyB1aShyKSksdC5hZGRPcHRpbWl6YXRpb24obmV3IGxpKHIpKSxyKyssdC5hZGRPcHRpbWl6YXRpb24obmV3IHNpKHIsNTEyKSkscisrLHQuYWRkT3B0aW1pemF0aW9uKG5ldyBjbihyKSkscisrLHQuYWRkT3B0aW1pemF0aW9uKG5ldyBobihyLDIpKSx0fSxpLkhpZ2hEZWdyYWRhdGlvbkFsbG93ZWQ9ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IGkoZSkscj0wO3JldHVybiB0LmFkZE9wdGltaXphdGlvbihuZXcgaGkocikpLHQuYWRkT3B0aW1pemF0aW9uKG5ldyBvaShyKSksdC5hZGRPcHRpbWl6YXRpb24obmV3IGZpKHIpKSxyKyssdC5hZGRPcHRpbWl6YXRpb24obmV3IHVpKHIpKSx0LmFkZE9wdGltaXphdGlvbihuZXcgbGkocikpLHIrKyx0LmFkZE9wdGltaXphdGlvbihuZXcgc2kociwyNTYpKSxyKyssdC5hZGRPcHRpbWl6YXRpb24obmV3IGNuKHIpKSxyKyssdC5hZGRPcHRpbWl6YXRpb24obmV3IGhuKHIsNCkpLHR9LGl9KCksQmE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKGUsdCxyLG4pe3I9PT12b2lkIDAmJihyPSEwKSxuPT09dm9pZCAwJiYobj0hMSk7dmFyIGE9dGhpcztpZih0aGlzLl9pc1J1bm5pbmc9ITEsdGhpcy5fY3VycmVudFByaW9yaXR5TGV2ZWw9MCx0aGlzLl90YXJnZXRGcmFtZVJhdGU9NjAsdGhpcy5fdHJhY2tlckR1cmF0aW9uPTJlMyx0aGlzLl9jdXJyZW50RnJhbWVSYXRlPTAsdGhpcy5faW1wcm92ZW1lbnRNb2RlPSExLHRoaXMub25TdWNjZXNzT2JzZXJ2YWJsZT1uZXcgTyx0aGlzLm9uTmV3T3B0aW1pemF0aW9uQXBwbGllZE9ic2VydmFibGU9bmV3IE8sdGhpcy5vbkZhaWx1cmVPYnNlcnZhYmxlPW5ldyBPLHQ/dGhpcy5fb3B0aW9ucz10OnRoaXMuX29wdGlvbnM9bmV3IGNpLHRoaXMuX29wdGlvbnMudGFyZ2V0RnJhbWVSYXRlJiYodGhpcy5fdGFyZ2V0RnJhbWVSYXRlPXRoaXMuX29wdGlvbnMudGFyZ2V0RnJhbWVSYXRlKSx0aGlzLl9vcHRpb25zLnRyYWNrZXJEdXJhdGlvbiYmKHRoaXMuX3RyYWNrZXJEdXJhdGlvbj10aGlzLl9vcHRpb25zLnRyYWNrZXJEdXJhdGlvbikscilmb3IodmFyIHM9MCxvPTAsdT10aGlzLl9vcHRpb25zLm9wdGltaXphdGlvbnM7bzx1Lmxlbmd0aDtvKyspe3ZhciBmPXVbb107Zi5wcmlvcml0eT1zKyt9dGhpcy5faW1wcm92ZW1lbnRNb2RlPW4sdGhpcy5fc2NlbmU9ZXx8YWUuTGFzdENyZWF0ZWRTY2VuZSx0aGlzLl9zY2VuZURpc3Bvc2VPYnNlcnZlcj10aGlzLl9zY2VuZS5vbkRpc3Bvc2VPYnNlcnZhYmxlLmFkZChmdW5jdGlvbigpe2EuX3NjZW5lRGlzcG9zZU9ic2VydmVyPW51bGwsYS5kaXNwb3NlKCl9KX1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJpc0luSW1wcm92ZW1lbnRNb2RlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ltcHJvdmVtZW50TW9kZX0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX2ltcHJvdmVtZW50TW9kZT1lfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiY3VycmVudFByaW9yaXR5TGV2ZWwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY3VycmVudFByaW9yaXR5TGV2ZWx9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJjdXJyZW50RnJhbWVSYXRlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2N1cnJlbnRGcmFtZVJhdGV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJ0YXJnZXRGcmFtZVJhdGUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdGFyZ2V0RnJhbWVSYXRlfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fdGFyZ2V0RnJhbWVSYXRlPWV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJ0cmFja2VyRHVyYXRpb24iLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdHJhY2tlckR1cmF0aW9ufSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fdHJhY2tlckR1cmF0aW9uPWV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJvcHRpbWl6YXRpb25zIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29wdGlvbnMub3B0aW1pemF0aW9uc30sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLnByb3RvdHlwZS5zdG9wPWZ1bmN0aW9uKCl7dGhpcy5faXNSdW5uaW5nPSExfSxpLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3RoaXMuX2N1cnJlbnRQcmlvcml0eUxldmVsPTB9LGkucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLl9pc1J1bm5pbmd8fCh0aGlzLl9pc1J1bm5pbmc9ITAsdGhpcy5fc2NlbmUuZXhlY3V0ZVdoZW5SZWFkeShmdW5jdGlvbigpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXtlLl9jaGVja0N1cnJlbnRTdGF0ZSgpfSxlLl90cmFja2VyRHVyYXRpb24pfSkpfSxpLnByb3RvdHlwZS5fY2hlY2tDdXJyZW50U3RhdGU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2lmKCEhdGhpcy5faXNSdW5uaW5nKXt2YXIgdD10aGlzLl9zY2VuZSxyPXRoaXMuX29wdGlvbnM7aWYodGhpcy5fY3VycmVudEZyYW1lUmF0ZT1NYXRoLnJvdW5kKHQuZ2V0RW5naW5lKCkuZ2V0RnBzKCkpLHRoaXMuX2ltcHJvdmVtZW50TW9kZSYmdGhpcy5fY3VycmVudEZyYW1lUmF0ZTw9dGhpcy5fdGFyZ2V0RnJhbWVSYXRlfHwhdGhpcy5faW1wcm92ZW1lbnRNb2RlJiZ0aGlzLl9jdXJyZW50RnJhbWVSYXRlPj10aGlzLl90YXJnZXRGcmFtZVJhdGUpe3RoaXMuX2lzUnVubmluZz0hMSx0aGlzLm9uU3VjY2Vzc09ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpO3JldHVybn1mb3IodmFyIG49ITAsYT0hMCxzPTA7czxyLm9wdGltaXphdGlvbnMubGVuZ3RoO3MrKyl7dmFyIG89ci5vcHRpbWl6YXRpb25zW3NdO28ucHJpb3JpdHk9PT10aGlzLl9jdXJyZW50UHJpb3JpdHlMZXZlbCYmKGE9ITEsbj1uJiZvLmFwcGx5KHQsdGhpcyksdGhpcy5vbk5ld09wdGltaXphdGlvbkFwcGxpZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhvKSl9aWYoYSl7dGhpcy5faXNSdW5uaW5nPSExLHRoaXMub25GYWlsdXJlT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyk7cmV0dXJufW4mJnRoaXMuX2N1cnJlbnRQcmlvcml0eUxldmVsKyssdC5leGVjdXRlV2hlblJlYWR5KGZ1bmN0aW9uKCl7c2V0VGltZW91dChmdW5jdGlvbigpe2UuX2NoZWNrQ3VycmVudFN0YXRlKCl9LGUuX3RyYWNrZXJEdXJhdGlvbil9KX19LGkucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt0aGlzLnN0b3AoKSx0aGlzLm9uU3VjY2Vzc09ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uRmFpbHVyZU9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uTmV3T3B0aW1pemF0aW9uQXBwbGllZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLl9zY2VuZURpc3Bvc2VPYnNlcnZlciYmdGhpcy5fc2NlbmUub25EaXNwb3NlT2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5fc2NlbmVEaXNwb3NlT2JzZXJ2ZXIpfSxpLk9wdGltaXplQXN5bmM9ZnVuY3Rpb24oZSx0LHIsbil7dmFyIGE9bmV3IGkoZSx0fHxjaS5Nb2RlcmF0ZURlZ3JhZGF0aW9uQWxsb3dlZCgpLCExKTtyZXR1cm4gciYmYS5vblN1Y2Nlc3NPYnNlcnZhYmxlLmFkZChmdW5jdGlvbigpe3IoKX0pLG4mJmEub25GYWlsdXJlT2JzZXJ2YWJsZS5hZGQoZnVuY3Rpb24oKXtuKCl9KSxhLnN0YXJ0KCksYX0saX0oKTtmdW5jdGlvbiBVYShpKXtjb25zdHtlbmdpbmU6ZX09aSx0PW5ldyByZShlKTt0LmNsZWFyQ29sb3I9bmV3IEVlKDAsMCwwLDApLHQucG9pbnRlck1vdmVQcmVkaWNhdGU9KCk9PiExLHQucG9pbnRlckRvd25QcmVkaWNhdGU9KCk9PiExLHQucG9pbnRlclVwUHJlZGljYXRlPSgpPT4hMSx0LmNsZWFyQ2FjaGVkVmVydGV4RGF0YSgpLHQudGhlbWVEYXRhPXt9O2NvbnN0IHI9Y2kuTG93RGVncmFkYXRpb25BbGxvd2VkKCk7cmV0dXJuIHIub3B0aW1pemF0aW9ucz1yLm9wdGltaXphdGlvbnMuc3BsaWNlKDEpLHIudGFyZ2V0RnJhbWVSYXRlPTYwLEJhLk9wdGltaXplQXN5bmModCxyKSx0fXZhciBWYT1mdW5jdGlvbihpKXtLKGUsaSk7ZnVuY3Rpb24gZSh0LHIsbixhKXthPT09dm9pZCAwJiYoYT0hMCk7dmFyIHM9aS5jYWxsKHRoaXMsdCxyLG4sYSl8fHRoaXM7cmV0dXJuIHMuX3RtcFVwVmVjdG9yPWIuWmVybygpLHMuX3RtcFRhcmdldFZlY3Rvcj1iLlplcm8oKSxzLmNhbWVyYURpcmVjdGlvbj1uZXcgYigwLDAsMCkscy5jYW1lcmFSb3RhdGlvbj1uZXcgU2UoMCwwKSxzLmlnbm9yZVBhcmVudFNjYWxpbmc9ITEscy51cGRhdGVVcFZlY3RvckZyb21Sb3RhdGlvbj0hMSxzLl90bXBRdWF0ZXJuaW9uPW5ldyBzZSxzLnJvdGF0aW9uPW5ldyBiKDAsMCwwKSxzLnNwZWVkPTIscy5ub1JvdGF0aW9uQ29uc3RyYWludD0hMSxzLmludmVydFJvdGF0aW9uPSExLHMuaW52ZXJzZVJvdGF0aW9uU3BlZWQ9LjIscy5sb2NrZWRUYXJnZXQ9bnVsbCxzLl9jdXJyZW50VGFyZ2V0PWIuWmVybygpLHMuX2luaXRpYWxGb2NhbERpc3RhbmNlPTEscy5fdmlld01hdHJpeD1JLlplcm8oKSxzLl9jYW1NYXRyaXg9SS5aZXJvKCkscy5fY2FtZXJhVHJhbnNmb3JtTWF0cml4PUkuWmVybygpLHMuX2NhbWVyYVJvdGF0aW9uTWF0cml4PUkuWmVybygpLHMuX3JlZmVyZW5jZVBvaW50PW5ldyBiKDAsMCwxKSxzLl90cmFuc2Zvcm1lZFJlZmVyZW5jZVBvaW50PWIuWmVybygpLHMuX2RlZmF1bHRVcD1iLlVwKCkscy5fY2FjaGVkUm90YXRpb25aPTAscy5fY2FjaGVkUXVhdGVybmlvblJvdGF0aW9uWj0wLHN9cmV0dXJuIGUucHJvdG90eXBlLmdldEZyb250UG9zaXRpb249ZnVuY3Rpb24odCl7dGhpcy5nZXRXb3JsZE1hdHJpeCgpO3ZhciByPXRoaXMuZ2V0VGFyZ2V0KCkuc3VidHJhY3QodGhpcy5wb3NpdGlvbik7cmV0dXJuIHIubm9ybWFsaXplKCksci5zY2FsZUluUGxhY2UodCksdGhpcy5nbG9iYWxQb3NpdGlvbi5hZGQocil9LGUucHJvdG90eXBlLl9nZXRMb2NrZWRUYXJnZXRQb3NpdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmxvY2tlZFRhcmdldD8odGhpcy5sb2NrZWRUYXJnZXQuYWJzb2x1dGVQb3NpdGlvbiYmdGhpcy5sb2NrZWRUYXJnZXQuY29tcHV0ZVdvcmxkTWF0cml4KCksdGhpcy5sb2NrZWRUYXJnZXQuYWJzb2x1dGVQb3NpdGlvbnx8dGhpcy5sb2NrZWRUYXJnZXQpOm51bGx9LGUucHJvdG90eXBlLnN0b3JlU3RhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RvcmVkUG9zaXRpb249dGhpcy5wb3NpdGlvbi5jbG9uZSgpLHRoaXMuX3N0b3JlZFJvdGF0aW9uPXRoaXMucm90YXRpb24uY2xvbmUoKSx0aGlzLnJvdGF0aW9uUXVhdGVybmlvbiYmKHRoaXMuX3N0b3JlZFJvdGF0aW9uUXVhdGVybmlvbj10aGlzLnJvdGF0aW9uUXVhdGVybmlvbi5jbG9uZSgpKSxpLnByb3RvdHlwZS5zdG9yZVN0YXRlLmNhbGwodGhpcyl9LGUucHJvdG90eXBlLl9yZXN0b3JlU3RhdGVWYWx1ZXM9ZnVuY3Rpb24oKXtyZXR1cm4gaS5wcm90b3R5cGUuX3Jlc3RvcmVTdGF0ZVZhbHVlcy5jYWxsKHRoaXMpPyh0aGlzLnBvc2l0aW9uPXRoaXMuX3N0b3JlZFBvc2l0aW9uLmNsb25lKCksdGhpcy5yb3RhdGlvbj10aGlzLl9zdG9yZWRSb3RhdGlvbi5jbG9uZSgpLHRoaXMucm90YXRpb25RdWF0ZXJuaW9uJiYodGhpcy5yb3RhdGlvblF1YXRlcm5pb249dGhpcy5fc3RvcmVkUm90YXRpb25RdWF0ZXJuaW9uLmNsb25lKCkpLHRoaXMuY2FtZXJhRGlyZWN0aW9uLmNvcHlGcm9tRmxvYXRzKDAsMCwwKSx0aGlzLmNhbWVyYVJvdGF0aW9uLmNvcHlGcm9tRmxvYXRzKDAsMCksITApOiExfSxlLnByb3RvdHlwZS5faW5pdENhY2hlPWZ1bmN0aW9uKCl7aS5wcm90b3R5cGUuX2luaXRDYWNoZS5jYWxsKHRoaXMpLHRoaXMuX2NhY2hlLmxvY2tlZFRhcmdldD1uZXcgYihOdW1iZXIuTUFYX1ZBTFVFLE51bWJlci5NQVhfVkFMVUUsTnVtYmVyLk1BWF9WQUxVRSksdGhpcy5fY2FjaGUucm90YXRpb249bmV3IGIoTnVtYmVyLk1BWF9WQUxVRSxOdW1iZXIuTUFYX1ZBTFVFLE51bWJlci5NQVhfVkFMVUUpLHRoaXMuX2NhY2hlLnJvdGF0aW9uUXVhdGVybmlvbj1uZXcgc2UoTnVtYmVyLk1BWF9WQUxVRSxOdW1iZXIuTUFYX1ZBTFVFLE51bWJlci5NQVhfVkFMVUUsTnVtYmVyLk1BWF9WQUxVRSl9LGUucHJvdG90eXBlLl91cGRhdGVDYWNoZT1mdW5jdGlvbih0KXt0fHxpLnByb3RvdHlwZS5fdXBkYXRlQ2FjaGUuY2FsbCh0aGlzKTt2YXIgcj10aGlzLl9nZXRMb2NrZWRUYXJnZXRQb3NpdGlvbigpO3I/dGhpcy5fY2FjaGUubG9ja2VkVGFyZ2V0P3RoaXMuX2NhY2hlLmxvY2tlZFRhcmdldC5jb3B5RnJvbShyKTp0aGlzLl9jYWNoZS5sb2NrZWRUYXJnZXQ9ci5jbG9uZSgpOnRoaXMuX2NhY2hlLmxvY2tlZFRhcmdldD1udWxsLHRoaXMuX2NhY2hlLnJvdGF0aW9uLmNvcHlGcm9tKHRoaXMucm90YXRpb24pLHRoaXMucm90YXRpb25RdWF0ZXJuaW9uJiZ0aGlzLl9jYWNoZS5yb3RhdGlvblF1YXRlcm5pb24uY29weUZyb20odGhpcy5yb3RhdGlvblF1YXRlcm5pb24pfSxlLnByb3RvdHlwZS5faXNTeW5jaHJvbml6ZWRWaWV3TWF0cml4PWZ1bmN0aW9uKCl7aWYoIWkucHJvdG90eXBlLl9pc1N5bmNocm9uaXplZFZpZXdNYXRyaXguY2FsbCh0aGlzKSlyZXR1cm4hMTt2YXIgdD10aGlzLl9nZXRMb2NrZWRUYXJnZXRQb3NpdGlvbigpO3JldHVybih0aGlzLl9jYWNoZS5sb2NrZWRUYXJnZXQ/dGhpcy5fY2FjaGUubG9ja2VkVGFyZ2V0LmVxdWFscyh0KTohdCkmJih0aGlzLnJvdGF0aW9uUXVhdGVybmlvbj90aGlzLnJvdGF0aW9uUXVhdGVybmlvbi5lcXVhbHModGhpcy5fY2FjaGUucm90YXRpb25RdWF0ZXJuaW9uKTp0aGlzLl9jYWNoZS5yb3RhdGlvbi5lcXVhbHModGhpcy5yb3RhdGlvbikpfSxlLnByb3RvdHlwZS5fY29tcHV0ZUxvY2FsQ2FtZXJhU3BlZWQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldEVuZ2luZSgpO3JldHVybiB0aGlzLnNwZWVkKk1hdGguc3FydCh0LmdldERlbHRhVGltZSgpLyh0LmdldEZwcygpKjEwMCkpfSxlLnByb3RvdHlwZS5zZXRUYXJnZXQ9ZnVuY3Rpb24odCl7dGhpcy51cFZlY3Rvci5ub3JtYWxpemUoKSx0aGlzLl9pbml0aWFsRm9jYWxEaXN0YW5jZT10LnN1YnRyYWN0KHRoaXMucG9zaXRpb24pLmxlbmd0aCgpLHRoaXMucG9zaXRpb24uej09PXQueiYmKHRoaXMucG9zaXRpb24ueis9ZWUpLHRoaXMuX3JlZmVyZW5jZVBvaW50Lm5vcm1hbGl6ZSgpLnNjYWxlSW5QbGFjZSh0aGlzLl9pbml0aWFsRm9jYWxEaXN0YW5jZSksSS5Mb29rQXRMSFRvUmVmKHRoaXMucG9zaXRpb24sdCx0aGlzLl9kZWZhdWx0VXAsdGhpcy5fY2FtTWF0cml4KSx0aGlzLl9jYW1NYXRyaXguaW52ZXJ0KCksdGhpcy5yb3RhdGlvbi54PU1hdGguYXRhbih0aGlzLl9jYW1NYXRyaXgubVs2XS90aGlzLl9jYW1NYXRyaXgubVsxMF0pO3ZhciByPXQuc3VidHJhY3QodGhpcy5wb3NpdGlvbik7ci54Pj0wP3RoaXMucm90YXRpb24ueT0tTWF0aC5hdGFuKHIuei9yLngpK01hdGguUEkvMjp0aGlzLnJvdGF0aW9uLnk9LU1hdGguYXRhbihyLnovci54KS1NYXRoLlBJLzIsdGhpcy5yb3RhdGlvbi56PTAsaXNOYU4odGhpcy5yb3RhdGlvbi54KSYmKHRoaXMucm90YXRpb24ueD0wKSxpc05hTih0aGlzLnJvdGF0aW9uLnkpJiYodGhpcy5yb3RhdGlvbi55PTApLGlzTmFOKHRoaXMucm90YXRpb24ueikmJih0aGlzLnJvdGF0aW9uLno9MCksdGhpcy5yb3RhdGlvblF1YXRlcm5pb24mJnNlLlJvdGF0aW9uWWF3UGl0Y2hSb2xsVG9SZWYodGhpcy5yb3RhdGlvbi55LHRoaXMucm90YXRpb24ueCx0aGlzLnJvdGF0aW9uLnosdGhpcy5yb3RhdGlvblF1YXRlcm5pb24pfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInRhcmdldCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFRhcmdldCgpfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5zZXRUYXJnZXQodCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuZ2V0VGFyZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2N1cnJlbnRUYXJnZXR9LGUucHJvdG90eXBlLl9kZWNpZGVJZk5lZWRzVG9Nb3ZlPWZ1bmN0aW9uKCl7cmV0dXJuIE1hdGguYWJzKHRoaXMuY2FtZXJhRGlyZWN0aW9uLngpPjB8fE1hdGguYWJzKHRoaXMuY2FtZXJhRGlyZWN0aW9uLnkpPjB8fE1hdGguYWJzKHRoaXMuY2FtZXJhRGlyZWN0aW9uLnopPjB9LGUucHJvdG90eXBlLl91cGRhdGVQb3NpdGlvbj1mdW5jdGlvbigpe2lmKHRoaXMucGFyZW50KXt0aGlzLnBhcmVudC5nZXRXb3JsZE1hdHJpeCgpLmludmVydFRvUmVmKEQuTWF0cml4WzBdKSxiLlRyYW5zZm9ybU5vcm1hbFRvUmVmKHRoaXMuY2FtZXJhRGlyZWN0aW9uLEQuTWF0cml4WzBdLEQuVmVjdG9yM1swXSksdGhpcy5wb3NpdGlvbi5hZGRJblBsYWNlKEQuVmVjdG9yM1swXSk7cmV0dXJufXRoaXMucG9zaXRpb24uYWRkSW5QbGFjZSh0aGlzLmNhbWVyYURpcmVjdGlvbil9LGUucHJvdG90eXBlLl9jaGVja0lucHV0cz1mdW5jdGlvbigpe3ZhciB0PXRoaXMuaW52ZXJ0Um90YXRpb24/LXRoaXMuaW52ZXJzZVJvdGF0aW9uU3BlZWQ6MSxyPXRoaXMuX2RlY2lkZUlmTmVlZHNUb01vdmUoKSxuPU1hdGguYWJzKHRoaXMuY2FtZXJhUm90YXRpb24ueCk+MHx8TWF0aC5hYnModGhpcy5jYW1lcmFSb3RhdGlvbi55KT4wO2lmKHImJnRoaXMuX3VwZGF0ZVBvc2l0aW9uKCksbil7aWYodGhpcy5yb3RhdGlvblF1YXRlcm5pb24mJnRoaXMucm90YXRpb25RdWF0ZXJuaW9uLnRvRXVsZXJBbmdsZXNUb1JlZih0aGlzLnJvdGF0aW9uKSx0aGlzLnJvdGF0aW9uLngrPXRoaXMuY2FtZXJhUm90YXRpb24ueCp0LHRoaXMucm90YXRpb24ueSs9dGhpcy5jYW1lcmFSb3RhdGlvbi55KnQsIXRoaXMubm9Sb3RhdGlvbkNvbnN0cmFpbnQpe3ZhciBhPTEuNTcwNzk2O3RoaXMucm90YXRpb24ueD5hJiYodGhpcy5yb3RhdGlvbi54PWEpLHRoaXMucm90YXRpb24ueDwtYSYmKHRoaXMucm90YXRpb24ueD0tYSl9aWYodGhpcy5yb3RhdGlvblF1YXRlcm5pb24pe3ZhciBzPXRoaXMucm90YXRpb24ubGVuZ3RoU3F1YXJlZCgpO3MmJnNlLlJvdGF0aW9uWWF3UGl0Y2hSb2xsVG9SZWYodGhpcy5yb3RhdGlvbi55LHRoaXMucm90YXRpb24ueCx0aGlzLnJvdGF0aW9uLnosdGhpcy5yb3RhdGlvblF1YXRlcm5pb24pfX1yJiYoTWF0aC5hYnModGhpcy5jYW1lcmFEaXJlY3Rpb24ueCk8dGhpcy5zcGVlZCplZSYmKHRoaXMuY2FtZXJhRGlyZWN0aW9uLng9MCksTWF0aC5hYnModGhpcy5jYW1lcmFEaXJlY3Rpb24ueSk8dGhpcy5zcGVlZCplZSYmKHRoaXMuY2FtZXJhRGlyZWN0aW9uLnk9MCksTWF0aC5hYnModGhpcy5jYW1lcmFEaXJlY3Rpb24ueik8dGhpcy5zcGVlZCplZSYmKHRoaXMuY2FtZXJhRGlyZWN0aW9uLno9MCksdGhpcy5jYW1lcmFEaXJlY3Rpb24uc2NhbGVJblBsYWNlKHRoaXMuaW5lcnRpYSkpLG4mJihNYXRoLmFicyh0aGlzLmNhbWVyYVJvdGF0aW9uLngpPHRoaXMuc3BlZWQqZWUmJih0aGlzLmNhbWVyYVJvdGF0aW9uLng9MCksTWF0aC5hYnModGhpcy5jYW1lcmFSb3RhdGlvbi55KTx0aGlzLnNwZWVkKmVlJiYodGhpcy5jYW1lcmFSb3RhdGlvbi55PTApLHRoaXMuY2FtZXJhUm90YXRpb24uc2NhbGVJblBsYWNlKHRoaXMuaW5lcnRpYSkpLGkucHJvdG90eXBlLl9jaGVja0lucHV0cy5jYWxsKHRoaXMpfSxlLnByb3RvdHlwZS5fdXBkYXRlQ2FtZXJhUm90YXRpb25NYXRyaXg9ZnVuY3Rpb24oKXt0aGlzLnJvdGF0aW9uUXVhdGVybmlvbj90aGlzLnJvdGF0aW9uUXVhdGVybmlvbi50b1JvdGF0aW9uTWF0cml4KHRoaXMuX2NhbWVyYVJvdGF0aW9uTWF0cml4KTpJLlJvdGF0aW9uWWF3UGl0Y2hSb2xsVG9SZWYodGhpcy5yb3RhdGlvbi55LHRoaXMucm90YXRpb24ueCx0aGlzLnJvdGF0aW9uLnosdGhpcy5fY2FtZXJhUm90YXRpb25NYXRyaXgpfSxlLnByb3RvdHlwZS5fcm90YXRlVXBWZWN0b3JXaXRoQ2FtZXJhUm90YXRpb25NYXRyaXg9ZnVuY3Rpb24oKXtyZXR1cm4gYi5UcmFuc2Zvcm1Ob3JtYWxUb1JlZih0aGlzLl9kZWZhdWx0VXAsdGhpcy5fY2FtZXJhUm90YXRpb25NYXRyaXgsdGhpcy51cFZlY3RvciksdGhpc30sZS5wcm90b3R5cGUuX2dldFZpZXdNYXRyaXg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sb2NrZWRUYXJnZXQmJnRoaXMuc2V0VGFyZ2V0KHRoaXMuX2dldExvY2tlZFRhcmdldFBvc2l0aW9uKCkpLHRoaXMuX3VwZGF0ZUNhbWVyYVJvdGF0aW9uTWF0cml4KCksdGhpcy5yb3RhdGlvblF1YXRlcm5pb24mJnRoaXMuX2NhY2hlZFF1YXRlcm5pb25Sb3RhdGlvblohPXRoaXMucm90YXRpb25RdWF0ZXJuaW9uLno/KHRoaXMuX3JvdGF0ZVVwVmVjdG9yV2l0aENhbWVyYVJvdGF0aW9uTWF0cml4KCksdGhpcy5fY2FjaGVkUXVhdGVybmlvblJvdGF0aW9uWj10aGlzLnJvdGF0aW9uUXVhdGVybmlvbi56KTp0aGlzLl9jYWNoZWRSb3RhdGlvblohPT10aGlzLnJvdGF0aW9uLnomJih0aGlzLl9yb3RhdGVVcFZlY3RvcldpdGhDYW1lcmFSb3RhdGlvbk1hdHJpeCgpLHRoaXMuX2NhY2hlZFJvdGF0aW9uWj10aGlzLnJvdGF0aW9uLnopLGIuVHJhbnNmb3JtQ29vcmRpbmF0ZXNUb1JlZih0aGlzLl9yZWZlcmVuY2VQb2ludCx0aGlzLl9jYW1lcmFSb3RhdGlvbk1hdHJpeCx0aGlzLl90cmFuc2Zvcm1lZFJlZmVyZW5jZVBvaW50KSx0aGlzLnBvc2l0aW9uLmFkZFRvUmVmKHRoaXMuX3RyYW5zZm9ybWVkUmVmZXJlbmNlUG9pbnQsdGhpcy5fY3VycmVudFRhcmdldCksdGhpcy51cGRhdGVVcFZlY3RvckZyb21Sb3RhdGlvbiYmKHRoaXMucm90YXRpb25RdWF0ZXJuaW9uP0NyLlkucm90YXRlQnlRdWF0ZXJuaW9uVG9SZWYodGhpcy5yb3RhdGlvblF1YXRlcm5pb24sdGhpcy51cFZlY3Rvcik6KHNlLkZyb21FdWxlclZlY3RvclRvUmVmKHRoaXMucm90YXRpb24sdGhpcy5fdG1wUXVhdGVybmlvbiksQ3IuWS5yb3RhdGVCeVF1YXRlcm5pb25Ub1JlZih0aGlzLl90bXBRdWF0ZXJuaW9uLHRoaXMudXBWZWN0b3IpKSksdGhpcy5fY29tcHV0ZVZpZXdNYXRyaXgodGhpcy5wb3NpdGlvbix0aGlzLl9jdXJyZW50VGFyZ2V0LHRoaXMudXBWZWN0b3IpLHRoaXMuX3ZpZXdNYXRyaXh9LGUucHJvdG90eXBlLl9jb21wdXRlVmlld01hdHJpeD1mdW5jdGlvbih0LHIsbil7aWYodGhpcy5pZ25vcmVQYXJlbnRTY2FsaW5nKXtpZih0aGlzLnBhcmVudCl7dmFyIGE9dGhpcy5wYXJlbnQuZ2V0V29ybGRNYXRyaXgoKTtiLlRyYW5zZm9ybUNvb3JkaW5hdGVzVG9SZWYodCxhLHRoaXMuX2dsb2JhbFBvc2l0aW9uKSxiLlRyYW5zZm9ybUNvb3JkaW5hdGVzVG9SZWYocixhLHRoaXMuX3RtcFRhcmdldFZlY3RvciksYi5UcmFuc2Zvcm1Ob3JtYWxUb1JlZihuLGEsdGhpcy5fdG1wVXBWZWN0b3IpLHRoaXMuX21hcmtTeW5jZWRXaXRoUGFyZW50KCl9ZWxzZSB0aGlzLl9nbG9iYWxQb3NpdGlvbi5jb3B5RnJvbSh0KSx0aGlzLl90bXBUYXJnZXRWZWN0b3IuY29weUZyb20ociksdGhpcy5fdG1wVXBWZWN0b3IuY29weUZyb20obik7dGhpcy5nZXRTY2VuZSgpLnVzZVJpZ2h0SGFuZGVkU3lzdGVtP0kuTG9va0F0UkhUb1JlZih0aGlzLl9nbG9iYWxQb3NpdGlvbix0aGlzLl90bXBUYXJnZXRWZWN0b3IsdGhpcy5fdG1wVXBWZWN0b3IsdGhpcy5fdmlld01hdHJpeCk6SS5Mb29rQXRMSFRvUmVmKHRoaXMuX2dsb2JhbFBvc2l0aW9uLHRoaXMuX3RtcFRhcmdldFZlY3Rvcix0aGlzLl90bXBVcFZlY3Rvcix0aGlzLl92aWV3TWF0cml4KTtyZXR1cm59aWYodGhpcy5nZXRTY2VuZSgpLnVzZVJpZ2h0SGFuZGVkU3lzdGVtP0kuTG9va0F0UkhUb1JlZih0LHIsbix0aGlzLl92aWV3TWF0cml4KTpJLkxvb2tBdExIVG9SZWYodCxyLG4sdGhpcy5fdmlld01hdHJpeCksdGhpcy5wYXJlbnQpe3ZhciBhPXRoaXMucGFyZW50LmdldFdvcmxkTWF0cml4KCk7dGhpcy5fdmlld01hdHJpeC5pbnZlcnQoKSx0aGlzLl92aWV3TWF0cml4Lm11bHRpcGx5VG9SZWYoYSx0aGlzLl92aWV3TWF0cml4KSx0aGlzLl92aWV3TWF0cml4LmdldFRyYW5zbGF0aW9uVG9SZWYodGhpcy5fZ2xvYmFsUG9zaXRpb24pLHRoaXMuX3ZpZXdNYXRyaXguaW52ZXJ0KCksdGhpcy5fbWFya1N5bmNlZFdpdGhQYXJlbnQoKX1lbHNlIHRoaXMuX2dsb2JhbFBvc2l0aW9uLmNvcHlGcm9tKHQpfSxlLnByb3RvdHlwZS5jcmVhdGVSaWdDYW1lcmE9ZnVuY3Rpb24odCxyKXtpZih0aGlzLmNhbWVyYVJpZ01vZGUhPT1PZS5SSUdfTU9ERV9OT05FKXt2YXIgbj1uZXcgZSh0LHRoaXMucG9zaXRpb24uY2xvbmUoKSx0aGlzLmdldFNjZW5lKCkpO3JldHVybiBuLmlzUmlnQ2FtZXJhPSEwLG4ucmlnUGFyZW50PXRoaXMsKHRoaXMuY2FtZXJhUmlnTW9kZT09PU9lLlJJR19NT0RFX1ZSfHx0aGlzLmNhbWVyYVJpZ01vZGU9PT1PZS5SSUdfTU9ERV9XRUJWUikmJih0aGlzLnJvdGF0aW9uUXVhdGVybmlvbnx8KHRoaXMucm90YXRpb25RdWF0ZXJuaW9uPW5ldyBzZSksbi5fY2FtZXJhUmlnUGFyYW1zPXt9LG4ucm90YXRpb25RdWF0ZXJuaW9uPW5ldyBzZSksbn1yZXR1cm4gbnVsbH0sZS5wcm90b3R5cGUuX3VwZGF0ZVJpZ0NhbWVyYXM9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9yaWdDYW1lcmFzWzBdLHI9dGhpcy5fcmlnQ2FtZXJhc1sxXTtzd2l0Y2godGhpcy5jb21wdXRlV29ybGRNYXRyaXgoKSx0aGlzLmNhbWVyYVJpZ01vZGUpe2Nhc2UgT2UuUklHX01PREVfU1RFUkVPU0NPUElDX0FOQUdMWVBIOmNhc2UgT2UuUklHX01PREVfU1RFUkVPU0NPUElDX1NJREVCWVNJREVfUEFSQUxMRUw6Y2FzZSBPZS5SSUdfTU9ERV9TVEVSRU9TQ09QSUNfU0lERUJZU0lERV9DUk9TU0VZRUQ6Y2FzZSBPZS5SSUdfTU9ERV9TVEVSRU9TQ09QSUNfT1ZFUlVOREVSOmNhc2UgT2UuUklHX01PREVfU1RFUkVPU0NPUElDX0lOVEVSTEFDRUQ6e3ZhciBuPXRoaXMuY2FtZXJhUmlnTW9kZT09PU9lLlJJR19NT0RFX1NURVJFT1NDT1BJQ19TSURFQllTSURFX0NST1NTRVlFRD8xOi0xLGE9dGhpcy5jYW1lcmFSaWdNb2RlPT09T2UuUklHX01PREVfU1RFUkVPU0NPUElDX1NJREVCWVNJREVfQ1JPU1NFWUVEPy0xOjE7dGhpcy5fZ2V0UmlnQ2FtUG9zaXRpb25BbmRUYXJnZXQodGhpcy5fY2FtZXJhUmlnUGFyYW1zLnN0ZXJlb0hhbGZBbmdsZSpuLHQpLHRoaXMuX2dldFJpZ0NhbVBvc2l0aW9uQW5kVGFyZ2V0KHRoaXMuX2NhbWVyYVJpZ1BhcmFtcy5zdGVyZW9IYWxmQW5nbGUqYSxyKTticmVha31jYXNlIE9lLlJJR19NT0RFX1ZSOnQucm90YXRpb25RdWF0ZXJuaW9uPyh0LnJvdGF0aW9uUXVhdGVybmlvbi5jb3B5RnJvbSh0aGlzLnJvdGF0aW9uUXVhdGVybmlvbiksci5yb3RhdGlvblF1YXRlcm5pb24uY29weUZyb20odGhpcy5yb3RhdGlvblF1YXRlcm5pb24pKToodC5yb3RhdGlvbi5jb3B5RnJvbSh0aGlzLnJvdGF0aW9uKSxyLnJvdGF0aW9uLmNvcHlGcm9tKHRoaXMucm90YXRpb24pKSx0LnBvc2l0aW9uLmNvcHlGcm9tKHRoaXMucG9zaXRpb24pLHIucG9zaXRpb24uY29weUZyb20odGhpcy5wb3NpdGlvbik7YnJlYWt9aS5wcm90b3R5cGUuX3VwZGF0ZVJpZ0NhbWVyYXMuY2FsbCh0aGlzKX0sZS5wcm90b3R5cGUuX2dldFJpZ0NhbVBvc2l0aW9uQW5kVGFyZ2V0PWZ1bmN0aW9uKHQscil7dmFyIG49dGhpcy5nZXRUYXJnZXQoKTtuLnN1YnRyYWN0VG9SZWYodGhpcy5wb3NpdGlvbixlLl9UYXJnZXRGb2NhbFBvaW50KSxlLl9UYXJnZXRGb2NhbFBvaW50Lm5vcm1hbGl6ZSgpLnNjYWxlSW5QbGFjZSh0aGlzLl9pbml0aWFsRm9jYWxEaXN0YW5jZSk7dmFyIGE9ZS5fVGFyZ2V0Rm9jYWxQb2ludC5hZGRJblBsYWNlKHRoaXMucG9zaXRpb24pO0kuVHJhbnNsYXRpb25Ub1JlZigtYS54LC1hLnksLWEueixlLl9UYXJnZXRUcmFuc2Zvcm1NYXRyaXgpLGUuX1RhcmdldFRyYW5zZm9ybU1hdHJpeC5tdWx0aXBseVRvUmVmKEkuUm90YXRpb25BeGlzKHIudXBWZWN0b3IsdCksZS5fUmlnQ2FtVHJhbnNmb3JtTWF0cml4KSxJLlRyYW5zbGF0aW9uVG9SZWYoYS54LGEueSxhLnosZS5fVGFyZ2V0VHJhbnNmb3JtTWF0cml4KSxlLl9SaWdDYW1UcmFuc2Zvcm1NYXRyaXgubXVsdGlwbHlUb1JlZihlLl9UYXJnZXRUcmFuc2Zvcm1NYXRyaXgsZS5fUmlnQ2FtVHJhbnNmb3JtTWF0cml4KSxiLlRyYW5zZm9ybUNvb3JkaW5hdGVzVG9SZWYodGhpcy5wb3NpdGlvbixlLl9SaWdDYW1UcmFuc2Zvcm1NYXRyaXgsci5wb3NpdGlvbiksci5zZXRUYXJnZXQoYSl9LGUucHJvdG90eXBlLmdldENsYXNzTmFtZT1mdW5jdGlvbigpe3JldHVybiJUYXJnZXRDYW1lcmEifSxlLl9SaWdDYW1UcmFuc2Zvcm1NYXRyaXg9bmV3IEksZS5fVGFyZ2V0VHJhbnNmb3JtTWF0cml4PW5ldyBJLGUuX1RhcmdldEZvY2FsUG9pbnQ9bmV3IGIsVChbbHQoKV0sZS5wcm90b3R5cGUsInJvdGF0aW9uIix2b2lkIDApLFQoW1AoKV0sZS5wcm90b3R5cGUsInNwZWVkIix2b2lkIDApLFQoW2ZhKCJsb2NrZWRUYXJnZXRJZCIpXSxlLnByb3RvdHlwZSwibG9ja2VkVGFyZ2V0Iix2b2lkIDApLGV9KE9lKTtmdW5jdGlvbiBrYShpKXtjb25zdHtzY2VuZTplfT1pO2xldCB0O2NvbnN0IHI9MzYuNTtyZXR1cm4gdD1uZXcgVmEoIlRhcmdldENhbWVyYTEiLG5ldyBiKDAsciwwKSxlKSx0LmZvdj0uMjUsdC5taW5aPTUsdC5tYXhaPXIrMSx0LnNldFRhcmdldChiLlplcm8oKSksdH12YXIgV2E9ZnVuY3Rpb24oaSl7SyhlLGkpO2Z1bmN0aW9uIGUoKXt2YXIgdD1pIT09bnVsbCYmaS5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIHQuX25lZWRQcm9qZWN0aW9uTWF0cml4Q29tcHV0ZT0hMCx0fXJldHVybiBlLnByb3RvdHlwZS5fc2V0UG9zaXRpb249ZnVuY3Rpb24odCl7dGhpcy5fcG9zaXRpb249dH0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJwb3NpdGlvbiIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9wb3NpdGlvbn0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3NldFBvc2l0aW9uKHQpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLl9zZXREaXJlY3Rpb249ZnVuY3Rpb24odCl7dGhpcy5fZGlyZWN0aW9uPXR9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiZGlyZWN0aW9uIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RpcmVjdGlvbn0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3NldERpcmVjdGlvbih0KX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInNoYWRvd01pbloiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2hhZG93TWluWn0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3NoYWRvd01pblo9dCx0aGlzLmZvcmNlUHJvamVjdGlvbk1hdHJpeENvbXB1dGUoKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInNoYWRvd01heFoiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2hhZG93TWF4Wn0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3NoYWRvd01heFo9dCx0aGlzLmZvcmNlUHJvamVjdGlvbk1hdHJpeENvbXB1dGUoKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5jb21wdXRlVHJhbnNmb3JtZWRJbmZvcm1hdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnBhcmVudCYmdGhpcy5wYXJlbnQuZ2V0V29ybGRNYXRyaXg/KHRoaXMudHJhbnNmb3JtZWRQb3NpdGlvbnx8KHRoaXMudHJhbnNmb3JtZWRQb3NpdGlvbj1iLlplcm8oKSksYi5UcmFuc2Zvcm1Db29yZGluYXRlc1RvUmVmKHRoaXMucG9zaXRpb24sdGhpcy5wYXJlbnQuZ2V0V29ybGRNYXRyaXgoKSx0aGlzLnRyYW5zZm9ybWVkUG9zaXRpb24pLHRoaXMuZGlyZWN0aW9uJiYodGhpcy50cmFuc2Zvcm1lZERpcmVjdGlvbnx8KHRoaXMudHJhbnNmb3JtZWREaXJlY3Rpb249Yi5aZXJvKCkpLGIuVHJhbnNmb3JtTm9ybWFsVG9SZWYodGhpcy5kaXJlY3Rpb24sdGhpcy5wYXJlbnQuZ2V0V29ybGRNYXRyaXgoKSx0aGlzLnRyYW5zZm9ybWVkRGlyZWN0aW9uKSksITApOiExfSxlLnByb3RvdHlwZS5nZXREZXB0aFNjYWxlPWZ1bmN0aW9uKCl7cmV0dXJuIDUwfSxlLnByb3RvdHlwZS5nZXRTaGFkb3dEaXJlY3Rpb249ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMudHJhbnNmb3JtZWREaXJlY3Rpb24/dGhpcy50cmFuc2Zvcm1lZERpcmVjdGlvbjp0aGlzLmRpcmVjdGlvbn0sZS5wcm90b3R5cGUuZ2V0QWJzb2x1dGVQb3NpdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRyYW5zZm9ybWVkUG9zaXRpb24/dGhpcy50cmFuc2Zvcm1lZFBvc2l0aW9uOnRoaXMucG9zaXRpb259LGUucHJvdG90eXBlLnNldERpcmVjdGlvblRvVGFyZ2V0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmRpcmVjdGlvbj1iLk5vcm1hbGl6ZSh0LnN1YnRyYWN0KHRoaXMucG9zaXRpb24pKSx0aGlzLmRpcmVjdGlvbn0sZS5wcm90b3R5cGUuZ2V0Um90YXRpb249ZnVuY3Rpb24oKXt0aGlzLmRpcmVjdGlvbi5ub3JtYWxpemUoKTt2YXIgdD1iLkNyb3NzKHRoaXMuZGlyZWN0aW9uLENyLlkpLHI9Yi5Dcm9zcyh0LHRoaXMuZGlyZWN0aW9uKTtyZXR1cm4gYi5Sb3RhdGlvbkZyb21BeGlzKHQscix0aGlzLmRpcmVjdGlvbil9LGUucHJvdG90eXBlLm5lZWRDdWJlPWZ1bmN0aW9uKCl7cmV0dXJuITF9LGUucHJvdG90eXBlLm5lZWRQcm9qZWN0aW9uTWF0cml4Q29tcHV0ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9uZWVkUHJvamVjdGlvbk1hdHJpeENvbXB1dGV9LGUucHJvdG90eXBlLmZvcmNlUHJvamVjdGlvbk1hdHJpeENvbXB1dGU9ZnVuY3Rpb24oKXt0aGlzLl9uZWVkUHJvamVjdGlvbk1hdHJpeENvbXB1dGU9ITB9LGUucHJvdG90eXBlLl9pbml0Q2FjaGU9ZnVuY3Rpb24oKXtpLnByb3RvdHlwZS5faW5pdENhY2hlLmNhbGwodGhpcyksdGhpcy5fY2FjaGUucG9zaXRpb249Yi5aZXJvKCl9LGUucHJvdG90eXBlLl9pc1N5bmNocm9uaXplZD1mdW5jdGlvbigpe3JldHVybiEhdGhpcy5fY2FjaGUucG9zaXRpb24uZXF1YWxzKHRoaXMucG9zaXRpb24pfSxlLnByb3RvdHlwZS5jb21wdXRlV29ybGRNYXRyaXg9ZnVuY3Rpb24odCl7cmV0dXJuIXQmJnRoaXMuaXNTeW5jaHJvbml6ZWQoKT8odGhpcy5fY3VycmVudFJlbmRlcklkPXRoaXMuZ2V0U2NlbmUoKS5nZXRSZW5kZXJJZCgpLHRoaXMuX3dvcmxkTWF0cml4KToodGhpcy5fdXBkYXRlQ2FjaGUoKSx0aGlzLl9jYWNoZS5wb3NpdGlvbi5jb3B5RnJvbSh0aGlzLnBvc2l0aW9uKSx0aGlzLl93b3JsZE1hdHJpeHx8KHRoaXMuX3dvcmxkTWF0cml4PUkuSWRlbnRpdHkoKSksSS5UcmFuc2xhdGlvblRvUmVmKHRoaXMucG9zaXRpb24ueCx0aGlzLnBvc2l0aW9uLnksdGhpcy5wb3NpdGlvbi56LHRoaXMuX3dvcmxkTWF0cml4KSx0aGlzLnBhcmVudCYmdGhpcy5wYXJlbnQuZ2V0V29ybGRNYXRyaXgmJih0aGlzLl93b3JsZE1hdHJpeC5tdWx0aXBseVRvUmVmKHRoaXMucGFyZW50LmdldFdvcmxkTWF0cml4KCksdGhpcy5fd29ybGRNYXRyaXgpLHRoaXMuX21hcmtTeW5jZWRXaXRoUGFyZW50KCkpLHRoaXMuX3dvcmxkTWF0cml4RGV0ZXJtaW5hbnRJc0RpcnR5PSEwLHRoaXMuX3dvcmxkTWF0cml4KX0sZS5wcm90b3R5cGUuZ2V0RGVwdGhNaW5aPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnNoYWRvd01pblohPT12b2lkIDA/dGhpcy5zaGFkb3dNaW5aOnQubWluWn0sZS5wcm90b3R5cGUuZ2V0RGVwdGhNYXhaPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnNoYWRvd01heFohPT12b2lkIDA/dGhpcy5zaGFkb3dNYXhaOnQubWF4Wn0sZS5wcm90b3R5cGUuc2V0U2hhZG93UHJvamVjdGlvbk1hdHJpeD1mdW5jdGlvbih0LHIsbil7cmV0dXJuIHRoaXMuY3VzdG9tUHJvamVjdGlvbk1hdHJpeEJ1aWxkZXI/dGhpcy5jdXN0b21Qcm9qZWN0aW9uTWF0cml4QnVpbGRlcihyLG4sdCk6dGhpcy5fc2V0RGVmYXVsdFNoYWRvd1Byb2plY3Rpb25NYXRyaXgodCxyLG4pLHRoaXN9LGUucHJvdG90eXBlLl9zeW5jUGFyZW50RW5hYmxlZFN0YXRlPWZ1bmN0aW9uKCl7aS5wcm90b3R5cGUuX3N5bmNQYXJlbnRFbmFibGVkU3RhdGUuY2FsbCh0aGlzKSwoIXRoaXMucGFyZW50fHwhdGhpcy5wYXJlbnQuZ2V0V29ybGRNYXRyaXgpJiYodGhpcy50cmFuc2Zvcm1lZFBvc2l0aW9uPW51bGwsdGhpcy50cmFuc2Zvcm1lZERpcmVjdGlvbj1udWxsKX0sVChbbHQoKV0sZS5wcm90b3R5cGUsInBvc2l0aW9uIixudWxsKSxUKFtsdCgpXSxlLnByb3RvdHlwZSwiZGlyZWN0aW9uIixudWxsKSxUKFtQKCldLGUucHJvdG90eXBlLCJzaGFkb3dNaW5aIixudWxsKSxUKFtQKCldLGUucHJvdG90eXBlLCJzaGFkb3dNYXhaIixudWxsKSxlfShldCk7JGUuQWRkTm9kZUNvbnN0cnVjdG9yKCJMaWdodF9UeXBlXzEiLGZ1bmN0aW9uKGksZSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBkbihpLGIuWmVybygpLGUpfX0pO3ZhciBkbj1mdW5jdGlvbihpKXtLKGUsaSk7ZnVuY3Rpb24gZSh0LHIsbil7dmFyIGE9aS5jYWxsKHRoaXMsdCxuKXx8dGhpcztyZXR1cm4gYS5fc2hhZG93RnJ1c3R1bVNpemU9MCxhLl9zaGFkb3dPcnRob1NjYWxlPS4xLGEuYXV0b1VwZGF0ZUV4dGVuZHM9ITAsYS5hdXRvQ2FsY1NoYWRvd1pCb3VuZHM9ITEsYS5fb3J0aG9MZWZ0PU51bWJlci5NQVhfVkFMVUUsYS5fb3J0aG9SaWdodD1OdW1iZXIuTUlOX1ZBTFVFLGEuX29ydGhvVG9wPU51bWJlci5NSU5fVkFMVUUsYS5fb3J0aG9Cb3R0b209TnVtYmVyLk1BWF9WQUxVRSxhLnBvc2l0aW9uPXIuc2NhbGUoLTEpLGEuZGlyZWN0aW9uPXIsYX1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJzaGFkb3dGcnVzdHVtU2l6ZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zaGFkb3dGcnVzdHVtU2l6ZX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3NoYWRvd0ZydXN0dW1TaXplPXQsdGhpcy5mb3JjZVByb2plY3Rpb25NYXRyaXhDb21wdXRlKCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJzaGFkb3dPcnRob1NjYWxlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NoYWRvd09ydGhvU2NhbGV9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9zaGFkb3dPcnRob1NjYWxlPXQsdGhpcy5mb3JjZVByb2plY3Rpb25NYXRyaXhDb21wdXRlKCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJvcnRob0xlZnQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb3J0aG9MZWZ0fSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fb3J0aG9MZWZ0PXR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJvcnRob1JpZ2h0Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29ydGhvUmlnaHR9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9vcnRob1JpZ2h0PXR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJvcnRob1RvcCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vcnRob1RvcH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX29ydGhvVG9wPXR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJvcnRob0JvdHRvbSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vcnRob0JvdHRvbX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX29ydGhvQm90dG9tPXR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuZ2V0Q2xhc3NOYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIkRpcmVjdGlvbmFsTGlnaHQifSxlLnByb3RvdHlwZS5nZXRUeXBlSUQ9ZnVuY3Rpb24oKXtyZXR1cm4gZXQuTElHSFRUWVBFSURfRElSRUNUSU9OQUxMSUdIVH0sZS5wcm90b3R5cGUuX3NldERlZmF1bHRTaGFkb3dQcm9qZWN0aW9uTWF0cml4PWZ1bmN0aW9uKHQscixuKXt0aGlzLnNoYWRvd0ZydXN0dW1TaXplPjA/dGhpcy5fc2V0RGVmYXVsdEZpeGVkRnJ1c3R1bVNoYWRvd1Byb2plY3Rpb25NYXRyaXgodCk6dGhpcy5fc2V0RGVmYXVsdEF1dG9FeHRlbmRTaGFkb3dQcm9qZWN0aW9uTWF0cml4KHQscixuKX0sZS5wcm90b3R5cGUuX3NldERlZmF1bHRGaXhlZEZydXN0dW1TaGFkb3dQcm9qZWN0aW9uTWF0cml4PWZ1bmN0aW9uKHQpe3ZhciByPXRoaXMuZ2V0U2NlbmUoKS5hY3RpdmVDYW1lcmE7IXJ8fEkuT3J0aG9MSFRvUmVmKHRoaXMuc2hhZG93RnJ1c3R1bVNpemUsdGhpcy5zaGFkb3dGcnVzdHVtU2l6ZSx0aGlzLnNoYWRvd01pblohPT12b2lkIDA/dGhpcy5zaGFkb3dNaW5aOnIubWluWix0aGlzLnNoYWRvd01heFohPT12b2lkIDA/dGhpcy5zaGFkb3dNYXhaOnIubWF4Wix0LHRoaXMuZ2V0U2NlbmUoKS5nZXRFbmdpbmUoKS5pc05EQ0hhbGZaUmFuZ2UpfSxlLnByb3RvdHlwZS5fc2V0RGVmYXVsdEF1dG9FeHRlbmRTaGFkb3dQcm9qZWN0aW9uTWF0cml4PWZ1bmN0aW9uKHQscixuKXt2YXIgYT10aGlzLmdldFNjZW5lKCkuYWN0aXZlQ2FtZXJhO2lmKCEhYSl7aWYodGhpcy5hdXRvVXBkYXRlRXh0ZW5kc3x8dGhpcy5fb3J0aG9MZWZ0PT09TnVtYmVyLk1BWF9WQUxVRSl7dmFyIHM9Yi5aZXJvKCk7dGhpcy5fb3J0aG9MZWZ0PU51bWJlci5NQVhfVkFMVUUsdGhpcy5fb3J0aG9SaWdodD1OdW1iZXIuTUlOX1ZBTFVFLHRoaXMuX29ydGhvVG9wPU51bWJlci5NSU5fVkFMVUUsdGhpcy5fb3J0aG9Cb3R0b209TnVtYmVyLk1BWF9WQUxVRTtmb3IodmFyIG89TnVtYmVyLk1BWF9WQUxVRSx1PU51bWJlci5NSU5fVkFMVUUsZj0wO2Y8bi5sZW5ndGg7ZisrKXt2YXIgbD1uW2ZdO2lmKCEhbClmb3IodmFyIGg9bC5nZXRCb3VuZGluZ0luZm8oKSxjPWguYm91bmRpbmdCb3gsZD0wO2Q8Yy52ZWN0b3JzV29ybGQubGVuZ3RoO2QrKyliLlRyYW5zZm9ybUNvb3JkaW5hdGVzVG9SZWYoYy52ZWN0b3JzV29ybGRbZF0scixzKSxzLng8dGhpcy5fb3J0aG9MZWZ0JiYodGhpcy5fb3J0aG9MZWZ0PXMueCkscy55PHRoaXMuX29ydGhvQm90dG9tJiYodGhpcy5fb3J0aG9Cb3R0b209cy55KSxzLng+dGhpcy5fb3J0aG9SaWdodCYmKHRoaXMuX29ydGhvUmlnaHQ9cy54KSxzLnk+dGhpcy5fb3J0aG9Ub3AmJih0aGlzLl9vcnRob1RvcD1zLnkpLHRoaXMuYXV0b0NhbGNTaGFkb3daQm91bmRzJiYocy56PG8mJihvPXMueikscy56PnUmJih1PXMueikpfXRoaXMuYXV0b0NhbGNTaGFkb3daQm91bmRzJiYodGhpcy5fc2hhZG93TWluWj1vLHRoaXMuX3NoYWRvd01heFo9dSl9dmFyIHA9dGhpcy5fb3J0aG9SaWdodC10aGlzLl9vcnRob0xlZnQsZz10aGlzLl9vcnRob1RvcC10aGlzLl9vcnRob0JvdHRvbSxfPXRoaXMuc2hhZG93TWluWiE9PXZvaWQgMD90aGlzLnNoYWRvd01pblo6YS5taW5aLHY9dGhpcy5zaGFkb3dNYXhaIT09dm9pZCAwP3RoaXMuc2hhZG93TWF4WjphLm1heFoseT10aGlzLmdldFNjZW5lKCkuZ2V0RW5naW5lKCkudXNlUmV2ZXJzZURlcHRoQnVmZmVyO0kuT3J0aG9PZmZDZW50ZXJMSFRvUmVmKHRoaXMuX29ydGhvTGVmdC1wKnRoaXMuc2hhZG93T3J0aG9TY2FsZSx0aGlzLl9vcnRob1JpZ2h0K3AqdGhpcy5zaGFkb3dPcnRob1NjYWxlLHRoaXMuX29ydGhvQm90dG9tLWcqdGhpcy5zaGFkb3dPcnRob1NjYWxlLHRoaXMuX29ydGhvVG9wK2cqdGhpcy5zaGFkb3dPcnRob1NjYWxlLHk/djpfLHk/Xzp2LHQsdGhpcy5nZXRTY2VuZSgpLmdldEVuZ2luZSgpLmlzTkRDSGFsZlpSYW5nZSl9fSxlLnByb3RvdHlwZS5fYnVpbGRVbmlmb3JtTGF5b3V0PWZ1bmN0aW9uKCl7dGhpcy5fdW5pZm9ybUJ1ZmZlci5hZGRVbmlmb3JtKCJ2TGlnaHREYXRhIiw0KSx0aGlzLl91bmlmb3JtQnVmZmVyLmFkZFVuaWZvcm0oInZMaWdodERpZmZ1c2UiLDQpLHRoaXMuX3VuaWZvcm1CdWZmZXIuYWRkVW5pZm9ybSgidkxpZ2h0U3BlY3VsYXIiLDQpLHRoaXMuX3VuaWZvcm1CdWZmZXIuYWRkVW5pZm9ybSgic2hhZG93c0luZm8iLDMpLHRoaXMuX3VuaWZvcm1CdWZmZXIuYWRkVW5pZm9ybSgiZGVwdGhWYWx1ZXMiLDIpLHRoaXMuX3VuaWZvcm1CdWZmZXIuY3JlYXRlKCl9LGUucHJvdG90eXBlLnRyYW5zZmVyVG9FZmZlY3Q9ZnVuY3Rpb24odCxyKXtyZXR1cm4gdGhpcy5jb21wdXRlVHJhbnNmb3JtZWRJbmZvcm1hdGlvbigpPyh0aGlzLl91bmlmb3JtQnVmZmVyLnVwZGF0ZUZsb2F0NCgidkxpZ2h0RGF0YSIsdGhpcy50cmFuc2Zvcm1lZERpcmVjdGlvbi54LHRoaXMudHJhbnNmb3JtZWREaXJlY3Rpb24ueSx0aGlzLnRyYW5zZm9ybWVkRGlyZWN0aW9uLnosMSxyKSx0aGlzKToodGhpcy5fdW5pZm9ybUJ1ZmZlci51cGRhdGVGbG9hdDQoInZMaWdodERhdGEiLHRoaXMuZGlyZWN0aW9uLngsdGhpcy5kaXJlY3Rpb24ueSx0aGlzLmRpcmVjdGlvbi56LDEsciksdGhpcyl9LGUucHJvdG90eXBlLnRyYW5zZmVyVG9Ob2RlTWF0ZXJpYWxFZmZlY3Q9ZnVuY3Rpb24odCxyKXtyZXR1cm4gdGhpcy5jb21wdXRlVHJhbnNmb3JtZWRJbmZvcm1hdGlvbigpPyh0LnNldEZsb2F0MyhyLHRoaXMudHJhbnNmb3JtZWREaXJlY3Rpb24ueCx0aGlzLnRyYW5zZm9ybWVkRGlyZWN0aW9uLnksdGhpcy50cmFuc2Zvcm1lZERpcmVjdGlvbi56KSx0aGlzKToodC5zZXRGbG9hdDMocix0aGlzLmRpcmVjdGlvbi54LHRoaXMuZGlyZWN0aW9uLnksdGhpcy5kaXJlY3Rpb24ueiksdGhpcyl9LGUucHJvdG90eXBlLmdldERlcHRoTWluWj1mdW5jdGlvbih0KXt2YXIgcj10aGlzLl9zY2VuZS5nZXRFbmdpbmUoKTtyZXR1cm4hci51c2VSZXZlcnNlRGVwdGhCdWZmZXImJnIuaXNORENIYWxmWlJhbmdlPzA6MX0sZS5wcm90b3R5cGUuZ2V0RGVwdGhNYXhaPWZ1bmN0aW9uKHQpe3ZhciByPXRoaXMuX3NjZW5lLmdldEVuZ2luZSgpO3JldHVybiByLnVzZVJldmVyc2VEZXB0aEJ1ZmZlciYmci5pc05EQ0hhbGZaUmFuZ2U/MDoxfSxlLnByb3RvdHlwZS5wcmVwYXJlTGlnaHRTcGVjaWZpY0RlZmluZXM9ZnVuY3Rpb24odCxyKXt0WyJESVJMSUdIVCIrcl09ITB9LFQoW1AoKV0sZS5wcm90b3R5cGUsInNoYWRvd0ZydXN0dW1TaXplIixudWxsKSxUKFtQKCldLGUucHJvdG90eXBlLCJzaGFkb3dPcnRob1NjYWxlIixudWxsKSxUKFtQKCldLGUucHJvdG90eXBlLCJhdXRvVXBkYXRlRXh0ZW5kcyIsdm9pZCAwKSxUKFtQKCldLGUucHJvdG90eXBlLCJhdXRvQ2FsY1NoYWRvd1pCb3VuZHMiLHZvaWQgMCksVChbUCgib3J0aG9MZWZ0IildLGUucHJvdG90eXBlLCJfb3J0aG9MZWZ0Iix2b2lkIDApLFQoW1AoIm9ydGhvUmlnaHQiKV0sZS5wcm90b3R5cGUsIl9vcnRob1JpZ2h0Iix2b2lkIDApLFQoW1AoIm9ydGhvVG9wIildLGUucHJvdG90eXBlLCJfb3J0aG9Ub3AiLHZvaWQgMCksVChbUCgib3J0aG9Cb3R0b20iKV0sZS5wcm90b3R5cGUsIl9vcnRob0JvdHRvbSIsdm9pZCAwKSxlfShXYSk7JGUuQWRkTm9kZUNvbnN0cnVjdG9yKCJMaWdodF9UeXBlXzMiLGZ1bmN0aW9uKGksZSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBwbihpLGIuWmVybygpLGUpfX0pO3ZhciBwbj1mdW5jdGlvbihpKXtLKGUsaSk7ZnVuY3Rpb24gZSh0LHIsbil7dmFyIGE9aS5jYWxsKHRoaXMsdCxuKXx8dGhpcztyZXR1cm4gYS5ncm91bmRDb2xvcj1uZXcgYmUoMCwwLDApLGEuZGlyZWN0aW9uPXJ8fGIuVXAoKSxhfXJldHVybiBlLnByb3RvdHlwZS5fYnVpbGRVbmlmb3JtTGF5b3V0PWZ1bmN0aW9uKCl7dGhpcy5fdW5pZm9ybUJ1ZmZlci5hZGRVbmlmb3JtKCJ2TGlnaHREYXRhIiw0KSx0aGlzLl91bmlmb3JtQnVmZmVyLmFkZFVuaWZvcm0oInZMaWdodERpZmZ1c2UiLDQpLHRoaXMuX3VuaWZvcm1CdWZmZXIuYWRkVW5pZm9ybSgidkxpZ2h0U3BlY3VsYXIiLDQpLHRoaXMuX3VuaWZvcm1CdWZmZXIuYWRkVW5pZm9ybSgidkxpZ2h0R3JvdW5kIiwzKSx0aGlzLl91bmlmb3JtQnVmZmVyLmFkZFVuaWZvcm0oInNoYWRvd3NJbmZvIiwzKSx0aGlzLl91bmlmb3JtQnVmZmVyLmFkZFVuaWZvcm0oImRlcHRoVmFsdWVzIiwyKSx0aGlzLl91bmlmb3JtQnVmZmVyLmNyZWF0ZSgpfSxlLnByb3RvdHlwZS5nZXRDbGFzc05hbWU9ZnVuY3Rpb24oKXtyZXR1cm4iSGVtaXNwaGVyaWNMaWdodCJ9LGUucHJvdG90eXBlLnNldERpcmVjdGlvblRvVGFyZ2V0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmRpcmVjdGlvbj1iLk5vcm1hbGl6ZSh0LnN1YnRyYWN0KGIuWmVybygpKSksdGhpcy5kaXJlY3Rpb259LGUucHJvdG90eXBlLmdldFNoYWRvd0dlbmVyYXRvcj1mdW5jdGlvbigpe3JldHVybiBudWxsfSxlLnByb3RvdHlwZS50cmFuc2ZlclRvRWZmZWN0PWZ1bmN0aW9uKHQscil7dmFyIG49Yi5Ob3JtYWxpemUodGhpcy5kaXJlY3Rpb24pO3JldHVybiB0aGlzLl91bmlmb3JtQnVmZmVyLnVwZGF0ZUZsb2F0NCgidkxpZ2h0RGF0YSIsbi54LG4ueSxuLnosMCxyKSx0aGlzLl91bmlmb3JtQnVmZmVyLnVwZGF0ZUNvbG9yMygidkxpZ2h0R3JvdW5kIix0aGlzLmdyb3VuZENvbG9yLnNjYWxlKHRoaXMuaW50ZW5zaXR5KSxyKSx0aGlzfSxlLnByb3RvdHlwZS50cmFuc2ZlclRvTm9kZU1hdGVyaWFsRWZmZWN0PWZ1bmN0aW9uKHQscil7dmFyIG49Yi5Ob3JtYWxpemUodGhpcy5kaXJlY3Rpb24pO3JldHVybiB0LnNldEZsb2F0MyhyLG4ueCxuLnksbi56KSx0aGlzfSxlLnByb3RvdHlwZS5jb21wdXRlV29ybGRNYXRyaXg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fd29ybGRNYXRyaXh8fCh0aGlzLl93b3JsZE1hdHJpeD1JLklkZW50aXR5KCkpLHRoaXMuX3dvcmxkTWF0cml4fSxlLnByb3RvdHlwZS5nZXRUeXBlSUQ9ZnVuY3Rpb24oKXtyZXR1cm4gZXQuTElHSFRUWVBFSURfSEVNSVNQSEVSSUNMSUdIVH0sZS5wcm90b3R5cGUucHJlcGFyZUxpZ2h0U3BlY2lmaWNEZWZpbmVzPWZ1bmN0aW9uKHQscil7dFsiSEVNSUxJR0hUIityXT0hMH0sVChbRnQoKV0sZS5wcm90b3R5cGUsImdyb3VuZENvbG9yIix2b2lkIDApLFQoW2x0KCldLGUucHJvdG90eXBlLCJkaXJlY3Rpb24iLHZvaWQgMCksZX0oZXQpLF9uPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaShlLHQpe3RoaXMud2lkdGg9ZSx0aGlzLmhlaWdodD10fXJldHVybiBpLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiJ7VzogIi5jb25jYXQodGhpcy53aWR0aCwiLCBIOiAiKS5jb25jYXQodGhpcy5oZWlnaHQsIn0iKX0saS5wcm90b3R5cGUuZ2V0Q2xhc3NOYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIlNpemUifSxpLnByb3RvdHlwZS5nZXRIYXNoQ29kZT1mdW5jdGlvbigpe3ZhciBlPXRoaXMud2lkdGh8MDtyZXR1cm4gZT1lKjM5N14odGhpcy5oZWlnaHR8MCksZX0saS5wcm90b3R5cGUuY29weUZyb209ZnVuY3Rpb24oZSl7dGhpcy53aWR0aD1lLndpZHRoLHRoaXMuaGVpZ2h0PWUuaGVpZ2h0fSxpLnByb3RvdHlwZS5jb3B5RnJvbUZsb2F0cz1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLndpZHRoPWUsdGhpcy5oZWlnaHQ9dCx0aGlzfSxpLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5jb3B5RnJvbUZsb2F0cyhlLHQpfSxpLnByb3RvdHlwZS5tdWx0aXBseUJ5RmxvYXRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG5ldyBpKHRoaXMud2lkdGgqZSx0aGlzLmhlaWdodCp0KX0saS5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGkodGhpcy53aWR0aCx0aGlzLmhlaWdodCl9LGkucHJvdG90eXBlLmVxdWFscz1mdW5jdGlvbihlKXtyZXR1cm4gZT90aGlzLndpZHRoPT09ZS53aWR0aCYmdGhpcy5oZWlnaHQ9PT1lLmhlaWdodDohMX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJzdXJmYWNlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMud2lkdGgqdGhpcy5oZWlnaHR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksaS5aZXJvPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBpKDAsMCl9LGkucHJvdG90eXBlLmFkZD1mdW5jdGlvbihlKXt2YXIgdD1uZXcgaSh0aGlzLndpZHRoK2Uud2lkdGgsdGhpcy5oZWlnaHQrZS5oZWlnaHQpO3JldHVybiB0fSxpLnByb3RvdHlwZS5zdWJ0cmFjdD1mdW5jdGlvbihlKXt2YXIgdD1uZXcgaSh0aGlzLndpZHRoLWUud2lkdGgsdGhpcy5oZWlnaHQtZS5oZWlnaHQpO3JldHVybiB0fSxpLkxlcnA9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUud2lkdGgrKHQud2lkdGgtZS53aWR0aCkqcixhPWUuaGVpZ2h0Kyh0LmhlaWdodC1lLmhlaWdodCkqcjtyZXR1cm4gbmV3IGkobixhKX0saX0oKSx6YT1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoZSl7dGhpcy5fd3JhcFU9MSx0aGlzLl93cmFwVj0xLHRoaXMud3JhcFI9MSx0aGlzLmFuaXNvdHJvcGljRmlsdGVyaW5nTGV2ZWw9NCx0aGlzLmRlbGF5TG9hZFN0YXRlPTAsdGhpcy5fdGV4dHVyZT1udWxsLHRoaXMuX2VuZ2luZT1udWxsLHRoaXMuX2NhY2hlZFNpemU9X24uWmVybygpLHRoaXMuX2NhY2hlZEJhc2VTaXplPV9uLlplcm8oKSx0aGlzLl9pbml0aWFsU2FtcGxpbmdNb2RlPTIsdGhpcy5fdGV4dHVyZT1lLHRoaXMuX3RleHR1cmUmJih0aGlzLl9lbmdpbmU9dGhpcy5fdGV4dHVyZS5nZXRFbmdpbmUoKSl9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwid3JhcFUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fd3JhcFV9LHNldDpmdW5jdGlvbihlKXt0aGlzLl93cmFwVT1lfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwid3JhcFYiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fd3JhcFZ9LHNldDpmdW5jdGlvbihlKXt0aGlzLl93cmFwVj1lfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiY29vcmRpbmF0ZXNNb2RlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDB9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJpc0N1YmUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdGV4dHVyZT90aGlzLl90ZXh0dXJlLmlzQ3ViZTohMX0sc2V0OmZ1bmN0aW9uKGUpeyF0aGlzLl90ZXh0dXJlfHwodGhpcy5fdGV4dHVyZS5pc0N1YmU9ZSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJpczNEIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RleHR1cmU/dGhpcy5fdGV4dHVyZS5pczNEOiExfSxzZXQ6ZnVuY3Rpb24oZSl7IXRoaXMuX3RleHR1cmV8fCh0aGlzLl90ZXh0dXJlLmlzM0Q9ZSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJpczJEQXJyYXkiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdGV4dHVyZT90aGlzLl90ZXh0dXJlLmlzMkRBcnJheTohMX0sc2V0OmZ1bmN0aW9uKGUpeyF0aGlzLl90ZXh0dXJlfHwodGhpcy5fdGV4dHVyZS5pczJEQXJyYXk9ZSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksaS5wcm90b3R5cGUuZ2V0Q2xhc3NOYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIlRoaW5UZXh0dXJlIn0saS5wcm90b3R5cGUuaXNSZWFkeT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmRlbGF5TG9hZFN0YXRlPT09ND8odGhpcy5kZWxheUxvYWQoKSwhMSk6dGhpcy5fdGV4dHVyZT90aGlzLl90ZXh0dXJlLmlzUmVhZHk6ITF9LGkucHJvdG90eXBlLmRlbGF5TG9hZD1mdW5jdGlvbigpe30saS5wcm90b3R5cGUuZ2V0SW50ZXJuYWxUZXh0dXJlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RleHR1cmV9LGkucHJvdG90eXBlLmdldFNpemU9ZnVuY3Rpb24oKXtpZih0aGlzLl90ZXh0dXJlKXtpZih0aGlzLl90ZXh0dXJlLndpZHRoKXJldHVybiB0aGlzLl9jYWNoZWRTaXplLndpZHRoPXRoaXMuX3RleHR1cmUud2lkdGgsdGhpcy5fY2FjaGVkU2l6ZS5oZWlnaHQ9dGhpcy5fdGV4dHVyZS5oZWlnaHQsdGhpcy5fY2FjaGVkU2l6ZTtpZih0aGlzLl90ZXh0dXJlLl9zaXplKXJldHVybiB0aGlzLl9jYWNoZWRTaXplLndpZHRoPXRoaXMuX3RleHR1cmUuX3NpemUsdGhpcy5fY2FjaGVkU2l6ZS5oZWlnaHQ9dGhpcy5fdGV4dHVyZS5fc2l6ZSx0aGlzLl9jYWNoZWRTaXplfXJldHVybiB0aGlzLl9jYWNoZWRTaXplfSxpLnByb3RvdHlwZS5nZXRCYXNlU2l6ZT1mdW5jdGlvbigpe3JldHVybiF0aGlzLmlzUmVhZHkoKXx8IXRoaXMuX3RleHR1cmU/KHRoaXMuX2NhY2hlZEJhc2VTaXplLndpZHRoPTAsdGhpcy5fY2FjaGVkQmFzZVNpemUuaGVpZ2h0PTAsdGhpcy5fY2FjaGVkQmFzZVNpemUpOnRoaXMuX3RleHR1cmUuX3NpemU/KHRoaXMuX2NhY2hlZEJhc2VTaXplLndpZHRoPXRoaXMuX3RleHR1cmUuX3NpemUsdGhpcy5fY2FjaGVkQmFzZVNpemUuaGVpZ2h0PXRoaXMuX3RleHR1cmUuX3NpemUsdGhpcy5fY2FjaGVkQmFzZVNpemUpOih0aGlzLl9jYWNoZWRCYXNlU2l6ZS53aWR0aD10aGlzLl90ZXh0dXJlLmJhc2VXaWR0aCx0aGlzLl9jYWNoZWRCYXNlU2l6ZS5oZWlnaHQ9dGhpcy5fdGV4dHVyZS5iYXNlSGVpZ2h0LHRoaXMuX2NhY2hlZEJhc2VTaXplKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJzYW1wbGluZ01vZGUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdGV4dHVyZT90aGlzLl90ZXh0dXJlLnNhbXBsaW5nTW9kZTp0aGlzLl9pbml0aWFsU2FtcGxpbmdNb2RlfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkucHJvdG90eXBlLnVwZGF0ZVNhbXBsaW5nTW9kZT1mdW5jdGlvbihlKXt0aGlzLl90ZXh0dXJlJiZ0aGlzLl9lbmdpbmUmJnRoaXMuX2VuZ2luZS51cGRhdGVUZXh0dXJlU2FtcGxpbmdNb2RlKGUsdGhpcy5fdGV4dHVyZSl9LGkucHJvdG90eXBlLnJlbGVhc2VJbnRlcm5hbFRleHR1cmU9ZnVuY3Rpb24oKXt0aGlzLl90ZXh0dXJlJiYodGhpcy5fdGV4dHVyZS5kaXNwb3NlKCksdGhpcy5fdGV4dHVyZT1udWxsKX0saS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3RoaXMuX3RleHR1cmUmJih0aGlzLnJlbGVhc2VJbnRlcm5hbFRleHR1cmUoKSx0aGlzLl9lbmdpbmU9bnVsbCl9LGl9KCksR2E9ZnVuY3Rpb24oaSl7SyhlLGkpO2Z1bmN0aW9uIGUodCl7dmFyIHI9aS5jYWxsKHRoaXMsbnVsbCl8fHRoaXM7cmV0dXJuIHIubWV0YWRhdGE9bnVsbCxyLnJlc2VydmVkRGF0YVN0b3JlPW51bGwsci5faGFzQWxwaGE9ITEsci5fZ2V0QWxwaGFGcm9tUkdCPSExLHIubGV2ZWw9MSxyLl9jb29yZGluYXRlc0luZGV4PTAsci5fY29vcmRpbmF0ZXNNb2RlPTAsci53cmFwUj0xLHIuYW5pc290cm9waWNGaWx0ZXJpbmdMZXZlbD1lLkRFRkFVTFRfQU5JU09UUk9QSUNfRklMVEVSSU5HX0xFVkVMLHIuX2lzQ3ViZT0hMSxyLl9nYW1tYVNwYWNlPSEwLHIuaW52ZXJ0Wj0hMSxyLmxvZExldmVsSW5BbHBoYT0hMSxyLmlzUmVuZGVyVGFyZ2V0PSExLHIuX3ByZWZpbHRlcmVkPSExLHIuX2ZvcmNlU2VyaWFsaXplPSExLHIuYW5pbWF0aW9ucz1uZXcgQXJyYXksci5vbkRpc3Bvc2VPYnNlcnZhYmxlPW5ldyBPLHIuX29uRGlzcG9zZU9ic2VydmVyPW51bGwsci5fc2NlbmU9bnVsbCxyLl91aWQ9bnVsbCxyLl9wYXJlbnRDb250YWluZXI9bnVsbCxyLl9sb2FkaW5nRXJyb3I9ITEsdD9lLl9Jc1NjZW5lKHQpP3IuX3NjZW5lPXQ6ci5fZW5naW5lPXQ6ci5fc2NlbmU9YWUuTGFzdENyZWF0ZWRTY2VuZSxyLl9zY2VuZSYmKHIudW5pcXVlSWQ9ci5fc2NlbmUuZ2V0VW5pcXVlSWQoKSxyLl9zY2VuZS5hZGRUZXh0dXJlKHIpLHIuX2VuZ2luZT1yLl9zY2VuZS5nZXRFbmdpbmUoKSksci5fdWlkPW51bGwscn1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJoYXNBbHBoYSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9oYXNBbHBoYX0sc2V0OmZ1bmN0aW9uKHQpe3ZhciByPXRoaXM7dGhpcy5faGFzQWxwaGEhPT10JiYodGhpcy5faGFzQWxwaGE9dCx0aGlzLl9zY2VuZSYmdGhpcy5fc2NlbmUubWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMSxmdW5jdGlvbihuKXtyZXR1cm4gbi5oYXNUZXh0dXJlKHIpfSkpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiZ2V0QWxwaGFGcm9tUkdCIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2dldEFscGhhRnJvbVJHQn0sc2V0OmZ1bmN0aW9uKHQpe3ZhciByPXRoaXM7dGhpcy5fZ2V0QWxwaGFGcm9tUkdCIT09dCYmKHRoaXMuX2dldEFscGhhRnJvbVJHQj10LHRoaXMuX3NjZW5lJiZ0aGlzLl9zY2VuZS5tYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxLGZ1bmN0aW9uKG4pe3JldHVybiBuLmhhc1RleHR1cmUocil9KSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJjb29yZGluYXRlc0luZGV4Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Nvb3JkaW5hdGVzSW5kZXh9LHNldDpmdW5jdGlvbih0KXt2YXIgcj10aGlzO3RoaXMuX2Nvb3JkaW5hdGVzSW5kZXghPT10JiYodGhpcy5fY29vcmRpbmF0ZXNJbmRleD10LHRoaXMuX3NjZW5lJiZ0aGlzLl9zY2VuZS5tYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxLGZ1bmN0aW9uKG4pe3JldHVybiBuLmhhc1RleHR1cmUocil9KSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJjb29yZGluYXRlc01vZGUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY29vcmRpbmF0ZXNNb2RlfSxzZXQ6ZnVuY3Rpb24odCl7dmFyIHI9dGhpczt0aGlzLl9jb29yZGluYXRlc01vZGUhPT10JiYodGhpcy5fY29vcmRpbmF0ZXNNb2RlPXQsdGhpcy5fc2NlbmUmJnRoaXMuX3NjZW5lLm1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDEsZnVuY3Rpb24obil7cmV0dXJuIG4uaGFzVGV4dHVyZShyKX0pKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsIndyYXBVIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3dyYXBVfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fd3JhcFU9dH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsIndyYXBWIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3dyYXBWfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fd3JhcFY9dH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImlzQ3ViZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl90ZXh0dXJlP3RoaXMuX3RleHR1cmUuaXNDdWJlOnRoaXMuX2lzQ3ViZX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3RleHR1cmU/dGhpcy5fdGV4dHVyZS5pc0N1YmU9dDp0aGlzLl9pc0N1YmU9dH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImlzM0QiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdGV4dHVyZT90aGlzLl90ZXh0dXJlLmlzM0Q6ITF9LHNldDpmdW5jdGlvbih0KXshdGhpcy5fdGV4dHVyZXx8KHRoaXMuX3RleHR1cmUuaXMzRD10KX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImlzMkRBcnJheSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl90ZXh0dXJlP3RoaXMuX3RleHR1cmUuaXMyREFycmF5OiExfSxzZXQ6ZnVuY3Rpb24odCl7IXRoaXMuX3RleHR1cmV8fCh0aGlzLl90ZXh0dXJlLmlzMkRBcnJheT10KX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImdhbW1hU3BhY2UiLHtnZXQ6ZnVuY3Rpb24oKXtpZih0aGlzLl90ZXh0dXJlKXRoaXMuX3RleHR1cmUuX2dhbW1hU3BhY2U9PT1udWxsJiYodGhpcy5fdGV4dHVyZS5fZ2FtbWFTcGFjZT10aGlzLl9nYW1tYVNwYWNlKTtlbHNlIHJldHVybiB0aGlzLl9nYW1tYVNwYWNlO3JldHVybiB0aGlzLl90ZXh0dXJlLl9nYW1tYVNwYWNlJiYhdGhpcy5fdGV4dHVyZS5fdXNlU1JHQkJ1ZmZlcn0sc2V0OmZ1bmN0aW9uKHQpe2lmKHRoaXMuX3RleHR1cmUpe2lmKHRoaXMuX3RleHR1cmUuX2dhbW1hU3BhY2U9PT10KXJldHVybjt0aGlzLl90ZXh0dXJlLl9nYW1tYVNwYWNlPXR9ZWxzZXtpZih0aGlzLl9nYW1tYVNwYWNlPT09dClyZXR1cm47dGhpcy5fZ2FtbWFTcGFjZT10fXRoaXMuX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHkoKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImlzUkdCRCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl90ZXh0dXJlIT1udWxsJiZ0aGlzLl90ZXh0dXJlLl9pc1JHQkR9LHNldDpmdW5jdGlvbih0KXt0aGlzLl90ZXh0dXJlJiYodGhpcy5fdGV4dHVyZS5faXNSR0JEPXQpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwibm9NaXBtYXAiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4hMX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImxvZEdlbmVyYXRpb25PZmZzZXQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdGV4dHVyZT90aGlzLl90ZXh0dXJlLl9sb2RHZW5lcmF0aW9uT2Zmc2V0OjB9LHNldDpmdW5jdGlvbih0KXt0aGlzLl90ZXh0dXJlJiYodGhpcy5fdGV4dHVyZS5fbG9kR2VuZXJhdGlvbk9mZnNldD10KX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImxvZEdlbmVyYXRpb25TY2FsZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl90ZXh0dXJlP3RoaXMuX3RleHR1cmUuX2xvZEdlbmVyYXRpb25TY2FsZTowfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fdGV4dHVyZSYmKHRoaXMuX3RleHR1cmUuX2xvZEdlbmVyYXRpb25TY2FsZT10KX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImxpbmVhclNwZWN1bGFyTE9EIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RleHR1cmU/dGhpcy5fdGV4dHVyZS5fbGluZWFyU3BlY3VsYXJMT0Q6ITF9LHNldDpmdW5jdGlvbih0KXt0aGlzLl90ZXh0dXJlJiYodGhpcy5fdGV4dHVyZS5fbGluZWFyU3BlY3VsYXJMT0Q9dCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJpcnJhZGlhbmNlVGV4dHVyZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl90ZXh0dXJlP3RoaXMuX3RleHR1cmUuX2lycmFkaWFuY2VUZXh0dXJlOm51bGx9LHNldDpmdW5jdGlvbih0KXt0aGlzLl90ZXh0dXJlJiYodGhpcy5fdGV4dHVyZS5faXJyYWRpYW5jZVRleHR1cmU9dCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJ1aWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdWlkfHwodGhpcy5fdWlkPVVpKCkpLHRoaXMuX3VpZH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLm5hbWV9LGUucHJvdG90eXBlLmdldENsYXNzTmFtZT1mdW5jdGlvbigpe3JldHVybiJCYXNlVGV4dHVyZSJ9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwib25EaXNwb3NlIix7c2V0OmZ1bmN0aW9uKHQpe3RoaXMuX29uRGlzcG9zZU9ic2VydmVyJiZ0aGlzLm9uRGlzcG9zZU9ic2VydmFibGUucmVtb3ZlKHRoaXMuX29uRGlzcG9zZU9ic2VydmVyKSx0aGlzLl9vbkRpc3Bvc2VPYnNlcnZlcj10aGlzLm9uRGlzcG9zZU9ic2VydmFibGUuYWRkKHQpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiaXNCbG9ja2luZyIse2dldDpmdW5jdGlvbigpe3JldHVybiEwfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwibG9hZGluZ0Vycm9yIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xvYWRpbmdFcnJvcn0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImVycm9yT2JqZWN0Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Vycm9yT2JqZWN0fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLmdldFNjZW5lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NjZW5lfSxlLnByb3RvdHlwZS5fZ2V0RW5naW5lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2VuZ2luZX0sZS5wcm90b3R5cGUuY2hlY2tUcmFuc2Zvcm1zQXJlSWRlbnRpY2FsPWZ1bmN0aW9uKHQpe3JldHVybiB0IT09bnVsbH0sZS5wcm90b3R5cGUuZ2V0VGV4dHVyZU1hdHJpeD1mdW5jdGlvbigpe3JldHVybiBJLklkZW50aXR5UmVhZE9ubHl9LGUucHJvdG90eXBlLmdldFJlZmxlY3Rpb25UZXh0dXJlTWF0cml4PWZ1bmN0aW9uKCl7cmV0dXJuIEkuSWRlbnRpdHlSZWFkT25seX0sZS5wcm90b3R5cGUuaXNSZWFkeU9yTm90QmxvY2tpbmc9ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5pc0Jsb2NraW5nfHx0aGlzLmlzUmVhZHkoKXx8dGhpcy5sb2FkaW5nRXJyb3J9LGUucHJvdG90eXBlLnNjYWxlPWZ1bmN0aW9uKHQpe30sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJjYW5SZXNjYWxlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuITF9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuX2dldEZyb21DYWNoZT1mdW5jdGlvbih0LHIsbixhLHMpe3ZhciBvPXRoaXMuX2dldEVuZ2luZSgpO2lmKCFvKXJldHVybiBudWxsO2Zvcih2YXIgdT1vLl9nZXRVc2VTUkdCQnVmZmVyKCEhcyxyKSxmPW8uZ2V0TG9hZGVkVGV4dHVyZXNDYWNoZSgpLGw9MDtsPGYubGVuZ3RoO2wrKyl7dmFyIGg9ZltsXTtpZigocz09PXZvaWQgMHx8dT09PWguX3VzZVNSR0JCdWZmZXIpJiYoYT09PXZvaWQgMHx8YT09PWguaW52ZXJ0WSkmJmgudXJsPT09dCYmaC5nZW5lcmF0ZU1pcE1hcHM9PT0hciYmKCFufHxuPT09aC5zYW1wbGluZ01vZGUpKXJldHVybiBoLmluY3JlbWVudFJlZmVyZW5jZXMoKSxofXJldHVybiBudWxsfSxlLnByb3RvdHlwZS5fcmVidWlsZD1mdW5jdGlvbigpe30sZS5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJ0ZXh0dXJlVHlwZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl90ZXh0dXJlJiZ0aGlzLl90ZXh0dXJlLnR5cGUhPT12b2lkIDA/dGhpcy5fdGV4dHVyZS50eXBlOjB9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJ0ZXh0dXJlRm9ybWF0Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RleHR1cmUmJnRoaXMuX3RleHR1cmUuZm9ybWF0IT09dm9pZCAwP3RoaXMuX3RleHR1cmUuZm9ybWF0OjV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHk9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldFNjZW5lKCk7IXR8fHQubWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMSl9LGUucHJvdG90eXBlLnJlYWRQaXhlbHM9ZnVuY3Rpb24odCxyLG4sYSxzLG8sdSxmLGwpe2lmKHQ9PT12b2lkIDAmJih0PTApLHI9PT12b2lkIDAmJihyPTApLG49PT12b2lkIDAmJihuPW51bGwpLGE9PT12b2lkIDAmJihhPSEwKSxzPT09dm9pZCAwJiYocz0hMSksbz09PXZvaWQgMCYmKG89MCksdT09PXZvaWQgMCYmKHU9MCksZj09PXZvaWQgMCYmKGY9TnVtYmVyLk1BWF9WQUxVRSksbD09PXZvaWQgMCYmKGw9TnVtYmVyLk1BWF9WQUxVRSksIXRoaXMuX3RleHR1cmUpcmV0dXJuIG51bGw7dmFyIGg9dGhpcy5fZ2V0RW5naW5lKCk7aWYoIWgpcmV0dXJuIG51bGw7dmFyIGM9dGhpcy5nZXRTaXplKCksZD1jLndpZHRoLHA9Yy5oZWlnaHQ7ciE9PTAmJihkPWQvTWF0aC5wb3coMixyKSxwPXAvTWF0aC5wb3coMixyKSxkPU1hdGgucm91bmQoZCkscD1NYXRoLnJvdW5kKHApKSxmPU1hdGgubWluKGQsZiksbD1NYXRoLm1pbihwLGwpO3RyeXtyZXR1cm4gdGhpcy5fdGV4dHVyZS5pc0N1YmU/aC5fcmVhZFRleHR1cmVQaXhlbHModGhpcy5fdGV4dHVyZSxmLGwsdCxyLG4sYSxzLG8sdSk6aC5fcmVhZFRleHR1cmVQaXhlbHModGhpcy5fdGV4dHVyZSxmLGwsLTEscixuLGEscyxvLHUpfWNhdGNoe3JldHVybiBudWxsfX0sZS5wcm90b3R5cGUuX3JlYWRQaXhlbHNTeW5jPWZ1bmN0aW9uKHQscixuLGEscyl7aWYodD09PXZvaWQgMCYmKHQ9MCkscj09PXZvaWQgMCYmKHI9MCksbj09PXZvaWQgMCYmKG49bnVsbCksYT09PXZvaWQgMCYmKGE9ITApLHM9PT12b2lkIDAmJihzPSExKSwhdGhpcy5fdGV4dHVyZSlyZXR1cm4gbnVsbDt2YXIgbz10aGlzLmdldFNpemUoKSx1PW8ud2lkdGgsZj1vLmhlaWdodCxsPXRoaXMuX2dldEVuZ2luZSgpO2lmKCFsKXJldHVybiBudWxsO3IhPTAmJih1PXUvTWF0aC5wb3coMixyKSxmPWYvTWF0aC5wb3coMixyKSx1PU1hdGgucm91bmQodSksZj1NYXRoLnJvdW5kKGYpKTt0cnl7cmV0dXJuIHRoaXMuX3RleHR1cmUuaXNDdWJlP2wuX3JlYWRUZXh0dXJlUGl4ZWxzU3luYyh0aGlzLl90ZXh0dXJlLHUsZix0LHIsbixhLHMpOmwuX3JlYWRUZXh0dXJlUGl4ZWxzU3luYyh0aGlzLl90ZXh0dXJlLHUsZiwtMSxyLG4sYSxzKX1jYXRjaHtyZXR1cm4gbnVsbH19LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiX2xvZFRleHR1cmVIaWdoIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RleHR1cmU/dGhpcy5fdGV4dHVyZS5fbG9kVGV4dHVyZUhpZ2g6bnVsbH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsIl9sb2RUZXh0dXJlTWlkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3RleHR1cmU/dGhpcy5fdGV4dHVyZS5fbG9kVGV4dHVyZU1pZDpudWxsfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiX2xvZFRleHR1cmVMb3ciLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdGV4dHVyZT90aGlzLl90ZXh0dXJlLl9sb2RUZXh0dXJlTG93Om51bGx9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe2lmKHRoaXMuX3NjZW5lKXt0aGlzLl9zY2VuZS5zdG9wQW5pbWF0aW9uJiZ0aGlzLl9zY2VuZS5zdG9wQW5pbWF0aW9uKHRoaXMpLHRoaXMuX3NjZW5lLl9yZW1vdmVQZW5kaW5nRGF0YSh0aGlzKTt2YXIgdD10aGlzLl9zY2VuZS50ZXh0dXJlcy5pbmRleE9mKHRoaXMpO2lmKHQ+PTAmJnRoaXMuX3NjZW5lLnRleHR1cmVzLnNwbGljZSh0LDEpLHRoaXMuX3NjZW5lLm9uVGV4dHVyZVJlbW92ZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKSx0aGlzLl9zY2VuZT1udWxsLHRoaXMuX3BhcmVudENvbnRhaW5lcil7dmFyIHI9dGhpcy5fcGFyZW50Q29udGFpbmVyLnRleHR1cmVzLmluZGV4T2YodGhpcyk7cj4tMSYmdGhpcy5fcGFyZW50Q29udGFpbmVyLnRleHR1cmVzLnNwbGljZShyLDEpLHRoaXMuX3BhcmVudENvbnRhaW5lcj1udWxsfX10aGlzLm9uRGlzcG9zZU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpLHRoaXMub25EaXNwb3NlT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMubWV0YWRhdGE9bnVsbCxpLnByb3RvdHlwZS5kaXNwb3NlLmNhbGwodGhpcyl9LGUucHJvdG90eXBlLnNlcmlhbGl6ZT1mdW5jdGlvbigpe2lmKCF0aGlzLm5hbWUpcmV0dXJuIG51bGw7dmFyIHQ9dGUuU2VyaWFsaXplKHRoaXMpO3JldHVybiB0ZS5BcHBlbmRTZXJpYWxpemVkQW5pbWF0aW9ucyh0aGlzLHQpLHR9LGUuV2hlbkFsbFJlYWR5PWZ1bmN0aW9uKHQscil7dmFyIG49dC5sZW5ndGg7aWYobj09PTApe3IoKTtyZXR1cm59Zm9yKHZhciBhPTA7YTx0Lmxlbmd0aDthKyspe3ZhciBzPXRbYV07aWYocy5pc1JlYWR5KCkpLS1uPT09MCYmcigpO2Vsc2V7dmFyIG89cy5vbkxvYWRPYnNlcnZhYmxlO28/by5hZGRPbmNlKGZ1bmN0aW9uKCl7LS1uPT09MCYmcigpfSk6LS1uPT09MCYmcigpfX19LGUuX0lzU2NlbmU9ZnVuY3Rpb24odCl7cmV0dXJuIHQuZ2V0Q2xhc3NOYW1lKCk9PT0iU2NlbmUifSxlLkRFRkFVTFRfQU5JU09UUk9QSUNfRklMVEVSSU5HX0xFVkVMPTQsVChbUCgpXSxlLnByb3RvdHlwZSwidW5pcXVlSWQiLHZvaWQgMCksVChbUCgpXSxlLnByb3RvdHlwZSwibmFtZSIsdm9pZCAwKSxUKFtQKCldLGUucHJvdG90eXBlLCJtZXRhZGF0YSIsdm9pZCAwKSxUKFtQKCJoYXNBbHBoYSIpXSxlLnByb3RvdHlwZSwiX2hhc0FscGhhIix2b2lkIDApLFQoW1AoImdldEFscGhhRnJvbVJHQiIpXSxlLnByb3RvdHlwZSwiX2dldEFscGhhRnJvbVJHQiIsdm9pZCAwKSxUKFtQKCldLGUucHJvdG90eXBlLCJsZXZlbCIsdm9pZCAwKSxUKFtQKCJjb29yZGluYXRlc0luZGV4IildLGUucHJvdG90eXBlLCJfY29vcmRpbmF0ZXNJbmRleCIsdm9pZCAwKSxUKFtQKCJjb29yZGluYXRlc01vZGUiKV0sZS5wcm90b3R5cGUsIl9jb29yZGluYXRlc01vZGUiLHZvaWQgMCksVChbUCgpXSxlLnByb3RvdHlwZSwid3JhcFUiLG51bGwpLFQoW1AoKV0sZS5wcm90b3R5cGUsIndyYXBWIixudWxsKSxUKFtQKCldLGUucHJvdG90eXBlLCJ3cmFwUiIsdm9pZCAwKSxUKFtQKCldLGUucHJvdG90eXBlLCJhbmlzb3Ryb3BpY0ZpbHRlcmluZ0xldmVsIix2b2lkIDApLFQoW1AoKV0sZS5wcm90b3R5cGUsImlzQ3ViZSIsbnVsbCksVChbUCgpXSxlLnByb3RvdHlwZSwiaXMzRCIsbnVsbCksVChbUCgpXSxlLnByb3RvdHlwZSwiaXMyREFycmF5IixudWxsKSxUKFtQKCldLGUucHJvdG90eXBlLCJnYW1tYVNwYWNlIixudWxsKSxUKFtQKCldLGUucHJvdG90eXBlLCJpbnZlcnRaIix2b2lkIDApLFQoW1AoKV0sZS5wcm90b3R5cGUsImxvZExldmVsSW5BbHBoYSIsdm9pZCAwKSxUKFtQKCldLGUucHJvdG90eXBlLCJsb2RHZW5lcmF0aW9uT2Zmc2V0IixudWxsKSxUKFtQKCldLGUucHJvdG90eXBlLCJsb2RHZW5lcmF0aW9uU2NhbGUiLG51bGwpLFQoW1AoKV0sZS5wcm90b3R5cGUsImxpbmVhclNwZWN1bGFyTE9EIixudWxsKSxUKFtIZSgpXSxlLnByb3RvdHlwZSwiaXJyYWRpYW5jZVRleHR1cmUiLG51bGwpLFQoW1AoKV0sZS5wcm90b3R5cGUsImlzUmVuZGVyVGFyZ2V0Iix2b2lkIDApLGV9KHphKTtmdW5jdGlvbiBnbihpLGUsdCl7dD09PXZvaWQgMCYmKHQ9ITEpO3ZhciByPWUud2lkdGgsbj1lLmhlaWdodDtpZihpIGluc3RhbmNlb2YgRmxvYXQzMkFycmF5KXtmb3IodmFyIGE9aS5ieXRlTGVuZ3RoL2kuQllURVNfUEVSX0VMRU1FTlQscz1uZXcgVWludDhBcnJheShhKTstLWE+PTA7KXt2YXIgbz1pW2FdO288MD9vPTA6bz4xJiYobz0xKSxzW2FdPW8qMjU1fWk9c312YXIgdT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJjYW52YXMiKTt1LndpZHRoPXIsdS5oZWlnaHQ9bjt2YXIgZj11LmdldENvbnRleHQoIjJkIik7aWYoIWYpcmV0dXJuIG51bGw7dmFyIGw9Zi5jcmVhdGVJbWFnZURhdGEocixuKSxoPWwuZGF0YTtpZihoLnNldChpKSxmLnB1dEltYWdlRGF0YShsLDAsMCksdCl7dmFyIGM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiY2FudmFzIik7Yy53aWR0aD1yLGMuaGVpZ2h0PW47dmFyIGQ9Yy5nZXRDb250ZXh0KCIyZCIpO3JldHVybiBkPyhkLnRyYW5zbGF0ZSgwLG4pLGQuc2NhbGUoMSwtMSksZC5kcmF3SW1hZ2UodSwwLDApLGMudG9EYXRhVVJMKCJpbWFnZS9wbmciKSk6bnVsbH1yZXR1cm4gdS50b0RhdGFVUkwoImltYWdlL3BuZyIpfWZ1bmN0aW9uIFhhKGksZSx0KXtlPT09dm9pZCAwJiYoZT0wKSx0PT09dm9pZCAwJiYodD0wKTt2YXIgcj1pLmdldEludGVybmFsVGV4dHVyZSgpO2lmKCFyKXJldHVybiBudWxsO3ZhciBuPWkuX3JlYWRQaXhlbHNTeW5jKGUsdCk7cmV0dXJuIG4/Z24obixpLmdldFNpemUoKSxyLmludmVydFkpOm51bGx9ZnVuY3Rpb24gSGEoaSxlLHQpe3JldHVybiBlPT09dm9pZCAwJiYoZT0wKSx0PT09dm9pZCAwJiYodD0wKSxrcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgcixuO3JldHVybiB3dCh0aGlzLGZ1bmN0aW9uKGEpe3N3aXRjaChhLmxhYmVsKXtjYXNlIDA6cmV0dXJuIHI9aS5nZXRJbnRlcm5hbFRleHR1cmUoKSxyP1s0LGkucmVhZFBpeGVscyhlLHQpXTpbMixudWxsXTtjYXNlIDE6cmV0dXJuIG49YS5zZW50KCksbj9bMixnbihuLGkuZ2V0U2l6ZSgpLHIuaW52ZXJ0WSldOlsyLG51bGxdfX0pfSl9dmFyIGllPWZ1bmN0aW9uKGkpe0soZSxpKTtmdW5jdGlvbiBlKHQscixuLGEscyxvLHUsZixsLGgsYyxkLHAsZyl7cz09PXZvaWQgMCYmKHM9ZS5UUklMSU5FQVJfU0FNUExJTkdNT0RFKSxvPT09dm9pZCAwJiYobz1udWxsKSx1PT09dm9pZCAwJiYodT1udWxsKSxmPT09dm9pZCAwJiYoZj1udWxsKSxsPT09dm9pZCAwJiYobD0hMSk7dmFyIF89dGhpcyx2LHksRSxSLE0sQyxBLFMsdztfPWkuY2FsbCh0aGlzLHIpfHx0aGlzLF8udXJsPW51bGwsXy51T2Zmc2V0PTAsXy52T2Zmc2V0PTAsXy51U2NhbGU9MSxfLnZTY2FsZT0xLF8udUFuZz0wLF8udkFuZz0wLF8ud0FuZz0wLF8udVJvdGF0aW9uQ2VudGVyPS41LF8udlJvdGF0aW9uQ2VudGVyPS41LF8ud1JvdGF0aW9uQ2VudGVyPS41LF8uaG9tb2dlbmVvdXNSb3RhdGlvbkluVVZUcmFuc2Zvcm09ITEsXy5pbnNwZWN0YWJsZUN1c3RvbVByb3BlcnRpZXM9bnVsbCxfLl9ub01pcG1hcD0hMSxfLl9pbnZlcnRZPSExLF8uX3Jvd0dlbmVyYXRpb25NYXRyaXg9bnVsbCxfLl9jYWNoZWRUZXh0dXJlTWF0cml4PW51bGwsXy5fcHJvamVjdGlvbk1vZGVNYXRyaXg9bnVsbCxfLl90MD1udWxsLF8uX3QxPW51bGwsXy5fdDI9bnVsbCxfLl9jYWNoZWRVT2Zmc2V0PS0xLF8uX2NhY2hlZFZPZmZzZXQ9LTEsXy5fY2FjaGVkVVNjYWxlPTAsXy5fY2FjaGVkVlNjYWxlPTAsXy5fY2FjaGVkVUFuZz0tMSxfLl9jYWNoZWRWQW5nPS0xLF8uX2NhY2hlZFdBbmc9LTEsXy5fY2FjaGVkUHJvamVjdGlvbk1hdHJpeElkPS0xLF8uX2NhY2hlZFVSb3RhdGlvbkNlbnRlcj0tMSxfLl9jYWNoZWRWUm90YXRpb25DZW50ZXI9LTEsXy5fY2FjaGVkV1JvdGF0aW9uQ2VudGVyPS0xLF8uX2NhY2hlZEhvbW9nZW5lb3VzUm90YXRpb25JblVWVHJhbnNmb3JtPSExLF8uX2NhY2hlZENvb3JkaW5hdGVzTW9kZT0tMSxfLl9idWZmZXI9bnVsbCxfLl9kZWxldGVCdWZmZXI9ITEsXy5fZm9ybWF0PW51bGwsXy5fZGVsYXllZE9uTG9hZD1udWxsLF8uX2RlbGF5ZWRPbkVycm9yPW51bGwsXy5vbkxvYWRPYnNlcnZhYmxlPW5ldyBPLF8uX2lzQmxvY2tpbmc9ITAsXy5uYW1lPXR8fCIiLF8udXJsPXQ7dmFyIEYseD0hMSxHPW51bGw7dHlwZW9mIG49PSJvYmplY3QiJiZuIT09bnVsbD8oRj0odj1uLm5vTWlwbWFwKSE9PW51bGwmJnYhPT12b2lkIDA/djohMSxhPSh5PW4uaW52ZXJ0WSkhPT1udWxsJiZ5IT09dm9pZCAwP3k6IWplLlVzZU9wZW5HTE9yaWVudGF0aW9uRm9yVVYscz0oRT1uLnNhbXBsaW5nTW9kZSkhPT1udWxsJiZFIT09dm9pZCAwP0U6ZS5UUklMSU5FQVJfU0FNUExJTkdNT0RFLG89KFI9bi5vbkxvYWQpIT09bnVsbCYmUiE9PXZvaWQgMD9SOm51bGwsdT0oTT1uLm9uRXJyb3IpIT09bnVsbCYmTSE9PXZvaWQgMD9NOm51bGwsZj0oQz1uLmJ1ZmZlcikhPT1udWxsJiZDIT09dm9pZCAwP0M6bnVsbCxsPShBPW4uZGVsZXRlQnVmZmVyKSE9PW51bGwmJkEhPT12b2lkIDA/QTohMSxoPW4uZm9ybWF0LGM9bi5taW1lVHlwZSxkPW4ubG9hZGVyT3B0aW9ucyxwPW4uY3JlYXRpb25GbGFncyx4PShTPW4udXNlU1JHQkJ1ZmZlcikhPT1udWxsJiZTIT09dm9pZCAwP1M6ITEsRz0odz1uLmludGVybmFsVGV4dHVyZSkhPT1udWxsJiZ3IT09dm9pZCAwP3c6bnVsbCk6Rj0hIW4sXy5fbm9NaXBtYXA9RixfLl9pbnZlcnRZPWE9PT12b2lkIDA/IWplLlVzZU9wZW5HTE9yaWVudGF0aW9uRm9yVVY6YSxfLl9pbml0aWFsU2FtcGxpbmdNb2RlPXMsXy5fYnVmZmVyPWYsXy5fZGVsZXRlQnVmZmVyPWwsXy5fbWltZVR5cGU9YyxfLl9sb2FkZXJPcHRpb25zPWQsXy5fY3JlYXRpb25GbGFncz1wLF8uX3VzZVNSR0JCdWZmZXI9eCxfLl9mb3JjZWRFeHRlbnNpb249ZyxoJiYoXy5fZm9ybWF0PWgpO3ZhciB6PV8uZ2V0U2NlbmUoKSxOPV8uX2dldEVuZ2luZSgpO2lmKCFOKXJldHVybiBfO04ub25CZWZvcmVUZXh0dXJlSW5pdE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKF8pO3ZhciBxPWZ1bmN0aW9uKCl7Xy5fdGV4dHVyZSYmKF8uX3RleHR1cmUuX2ludmVydFZTY2FsZSYmKF8udlNjYWxlKj0tMSxfLnZPZmZzZXQrPTEpLF8uX3RleHR1cmUuX2NhY2hlZFdyYXBVIT09bnVsbCYmKF8ud3JhcFU9Xy5fdGV4dHVyZS5fY2FjaGVkV3JhcFUsXy5fdGV4dHVyZS5fY2FjaGVkV3JhcFU9bnVsbCksXy5fdGV4dHVyZS5fY2FjaGVkV3JhcFYhPT1udWxsJiYoXy53cmFwVj1fLl90ZXh0dXJlLl9jYWNoZWRXcmFwVixfLl90ZXh0dXJlLl9jYWNoZWRXcmFwVj1udWxsKSxfLl90ZXh0dXJlLl9jYWNoZWRXcmFwUiE9PW51bGwmJihfLndyYXBSPV8uX3RleHR1cmUuX2NhY2hlZFdyYXBSLF8uX3RleHR1cmUuX2NhY2hlZFdyYXBSPW51bGwpKSxfLm9uTG9hZE9ic2VydmFibGUuaGFzT2JzZXJ2ZXJzKCkmJl8ub25Mb2FkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoXyksbyYmbygpLCFfLmlzQmxvY2tpbmcmJnomJnoucmVzZXRDYWNoZWRNYXRlcmlhbCgpfSwkPWZ1bmN0aW9uKFosail7Xy5fbG9hZGluZ0Vycm9yPSEwLF8uX2Vycm9yT2JqZWN0PXttZXNzYWdlOlosZXhjZXB0aW9uOmp9LHUmJnUoWixqKSxlLk9uVGV4dHVyZUxvYWRFcnJvck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKF8pfTtpZighXy51cmwpcmV0dXJuIF8uX2RlbGF5ZWRPbkxvYWQ9cSxfLl9kZWxheWVkT25FcnJvcj0kLF87aWYoXy5fdGV4dHVyZT1HIT1udWxsP0c6Xy5fZ2V0RnJvbUNhY2hlKF8udXJsLEYscyxfLl9pbnZlcnRZLHgpLF8uX3RleHR1cmUpaWYoXy5fdGV4dHVyZS5pc1JlYWR5KV9yLlNldEltbWVkaWF0ZShmdW5jdGlvbigpe3JldHVybiBxKCl9KTtlbHNle3ZhciB1ZT1fLl90ZXh0dXJlLm9uTG9hZGVkT2JzZXJ2YWJsZS5hZGQocSk7Xy5fdGV4dHVyZS5vbkVycm9yT2JzZXJ2YWJsZS5hZGQoZnVuY3Rpb24oWil7dmFyIGo7JChaLm1lc3NhZ2UsWi5leGNlcHRpb24pLChqPV8uX3RleHR1cmUpPT09bnVsbHx8aj09PXZvaWQgMHx8ai5vbkxvYWRlZE9ic2VydmFibGUucmVtb3ZlKHVlKX0pfWVsc2UgaWYoIXp8fCF6LnVzZURlbGF5ZWRUZXh0dXJlTG9hZGluZyl7dHJ5e18uX3RleHR1cmU9Ti5jcmVhdGVUZXh0dXJlKF8udXJsLEYsXy5faW52ZXJ0WSx6LHMscSwkLF8uX2J1ZmZlcix2b2lkIDAsXy5fZm9ybWF0LF8uX2ZvcmNlZEV4dGVuc2lvbixjLGQscCx4KX1jYXRjaChaKXt0aHJvdyAkKCJlcnJvciBsb2FkaW5nIixaKSxafWwmJihfLl9idWZmZXI9bnVsbCl9ZWxzZSBfLmRlbGF5TG9hZFN0YXRlPTQsXy5fZGVsYXllZE9uTG9hZD1xLF8uX2RlbGF5ZWRPbkVycm9yPSQ7cmV0dXJuIF99cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwibm9NaXBtYXAiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbm9NaXBtYXB9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJtaW1lVHlwZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9taW1lVHlwZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImlzQmxvY2tpbmciLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXNCbG9ja2luZ30sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2lzQmxvY2tpbmc9dH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImludmVydFkiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW52ZXJ0WX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS51cGRhdGVVUkw9ZnVuY3Rpb24odCxyLG4sYSl7cj09PXZvaWQgMCYmKHI9bnVsbCksdGhpcy51cmwmJih0aGlzLnJlbGVhc2VJbnRlcm5hbFRleHR1cmUoKSx0aGlzLmdldFNjZW5lKCkubWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMSkpLCghdGhpcy5uYW1lfHx0aGlzLm5hbWUuc3RhcnRzV2l0aCgiZGF0YToiKSkmJih0aGlzLm5hbWU9dCksdGhpcy51cmw9dCx0aGlzLl9idWZmZXI9cix0aGlzLl9mb3JjZWRFeHRlbnNpb249YSx0aGlzLmRlbGF5TG9hZFN0YXRlPTQsbiYmKHRoaXMuX2RlbGF5ZWRPbkxvYWQ9biksdGhpcy5kZWxheUxvYWQoKX0sZS5wcm90b3R5cGUuZGVsYXlMb2FkPWZ1bmN0aW9uKCl7aWYodGhpcy5kZWxheUxvYWRTdGF0ZT09PTQpe3ZhciB0PXRoaXMuZ2V0U2NlbmUoKTshdHx8KHRoaXMuZGVsYXlMb2FkU3RhdGU9MSx0aGlzLl90ZXh0dXJlPXRoaXMuX2dldEZyb21DYWNoZSh0aGlzLnVybCx0aGlzLl9ub01pcG1hcCx0aGlzLnNhbXBsaW5nTW9kZSx0aGlzLl9pbnZlcnRZLHRoaXMuX3VzZVNSR0JCdWZmZXIpLHRoaXMuX3RleHR1cmU/dGhpcy5fZGVsYXllZE9uTG9hZCYmKHRoaXMuX3RleHR1cmUuaXNSZWFkeT9fci5TZXRJbW1lZGlhdGUodGhpcy5fZGVsYXllZE9uTG9hZCk6dGhpcy5fdGV4dHVyZS5vbkxvYWRlZE9ic2VydmFibGUuYWRkKHRoaXMuX2RlbGF5ZWRPbkxvYWQpKToodGhpcy5fdGV4dHVyZT10LmdldEVuZ2luZSgpLmNyZWF0ZVRleHR1cmUodGhpcy51cmwsdGhpcy5fbm9NaXBtYXAsdGhpcy5faW52ZXJ0WSx0LHRoaXMuc2FtcGxpbmdNb2RlLHRoaXMuX2RlbGF5ZWRPbkxvYWQsdGhpcy5fZGVsYXllZE9uRXJyb3IsdGhpcy5fYnVmZmVyLG51bGwsdGhpcy5fZm9ybWF0LHRoaXMuX2ZvcmNlZEV4dGVuc2lvbix0aGlzLl9taW1lVHlwZSx0aGlzLl9sb2FkZXJPcHRpb25zLHRoaXMuX2NyZWF0aW9uRmxhZ3MsdGhpcy5fdXNlU1JHQkJ1ZmZlciksdGhpcy5fZGVsZXRlQnVmZmVyJiYodGhpcy5fYnVmZmVyPW51bGwpKSx0aGlzLl9kZWxheWVkT25Mb2FkPW51bGwsdGhpcy5fZGVsYXllZE9uRXJyb3I9bnVsbCl9fSxlLnByb3RvdHlwZS5fcHJlcGFyZVJvd0ZvclRleHR1cmVHZW5lcmF0aW9uPWZ1bmN0aW9uKHQscixuLGEpe3QqPXRoaXMuX2NhY2hlZFVTY2FsZSxyKj10aGlzLl9jYWNoZWRWU2NhbGUsdC09dGhpcy51Um90YXRpb25DZW50ZXIqdGhpcy5fY2FjaGVkVVNjYWxlLHItPXRoaXMudlJvdGF0aW9uQ2VudGVyKnRoaXMuX2NhY2hlZFZTY2FsZSxuLT10aGlzLndSb3RhdGlvbkNlbnRlcixiLlRyYW5zZm9ybUNvb3JkaW5hdGVzRnJvbUZsb2F0c1RvUmVmKHQscixuLHRoaXMuX3Jvd0dlbmVyYXRpb25NYXRyaXgsYSksYS54Kz10aGlzLnVSb3RhdGlvbkNlbnRlcip0aGlzLl9jYWNoZWRVU2NhbGUrdGhpcy5fY2FjaGVkVU9mZnNldCxhLnkrPXRoaXMudlJvdGF0aW9uQ2VudGVyKnRoaXMuX2NhY2hlZFZTY2FsZSt0aGlzLl9jYWNoZWRWT2Zmc2V0LGEueis9dGhpcy53Um90YXRpb25DZW50ZXJ9LGUucHJvdG90eXBlLmNoZWNrVHJhbnNmb3Jtc0FyZUlkZW50aWNhbD1mdW5jdGlvbih0KXtyZXR1cm4gdCE9PW51bGwmJnRoaXMudU9mZnNldD09PXQudU9mZnNldCYmdGhpcy52T2Zmc2V0PT09dC52T2Zmc2V0JiZ0aGlzLnVTY2FsZT09PXQudVNjYWxlJiZ0aGlzLnZTY2FsZT09PXQudlNjYWxlJiZ0aGlzLnVBbmc9PT10LnVBbmcmJnRoaXMudkFuZz09PXQudkFuZyYmdGhpcy53QW5nPT09dC53QW5nfSxlLnByb3RvdHlwZS5nZXRUZXh0dXJlTWF0cml4PWZ1bmN0aW9uKHQpe3ZhciByPXRoaXM7aWYodD09PXZvaWQgMCYmKHQ9MSksdGhpcy51T2Zmc2V0PT09dGhpcy5fY2FjaGVkVU9mZnNldCYmdGhpcy52T2Zmc2V0PT09dGhpcy5fY2FjaGVkVk9mZnNldCYmdGhpcy51U2NhbGUqdD09PXRoaXMuX2NhY2hlZFVTY2FsZSYmdGhpcy52U2NhbGU9PT10aGlzLl9jYWNoZWRWU2NhbGUmJnRoaXMudUFuZz09PXRoaXMuX2NhY2hlZFVBbmcmJnRoaXMudkFuZz09PXRoaXMuX2NhY2hlZFZBbmcmJnRoaXMud0FuZz09PXRoaXMuX2NhY2hlZFdBbmcmJnRoaXMudVJvdGF0aW9uQ2VudGVyPT09dGhpcy5fY2FjaGVkVVJvdGF0aW9uQ2VudGVyJiZ0aGlzLnZSb3RhdGlvbkNlbnRlcj09PXRoaXMuX2NhY2hlZFZSb3RhdGlvbkNlbnRlciYmdGhpcy53Um90YXRpb25DZW50ZXI9PT10aGlzLl9jYWNoZWRXUm90YXRpb25DZW50ZXImJnRoaXMuaG9tb2dlbmVvdXNSb3RhdGlvbkluVVZUcmFuc2Zvcm09PT10aGlzLl9jYWNoZWRIb21vZ2VuZW91c1JvdGF0aW9uSW5VVlRyYW5zZm9ybSlyZXR1cm4gdGhpcy5fY2FjaGVkVGV4dHVyZU1hdHJpeDt0aGlzLl9jYWNoZWRVT2Zmc2V0PXRoaXMudU9mZnNldCx0aGlzLl9jYWNoZWRWT2Zmc2V0PXRoaXMudk9mZnNldCx0aGlzLl9jYWNoZWRVU2NhbGU9dGhpcy51U2NhbGUqdCx0aGlzLl9jYWNoZWRWU2NhbGU9dGhpcy52U2NhbGUsdGhpcy5fY2FjaGVkVUFuZz10aGlzLnVBbmcsdGhpcy5fY2FjaGVkVkFuZz10aGlzLnZBbmcsdGhpcy5fY2FjaGVkV0FuZz10aGlzLndBbmcsdGhpcy5fY2FjaGVkVVJvdGF0aW9uQ2VudGVyPXRoaXMudVJvdGF0aW9uQ2VudGVyLHRoaXMuX2NhY2hlZFZSb3RhdGlvbkNlbnRlcj10aGlzLnZSb3RhdGlvbkNlbnRlcix0aGlzLl9jYWNoZWRXUm90YXRpb25DZW50ZXI9dGhpcy53Um90YXRpb25DZW50ZXIsdGhpcy5fY2FjaGVkSG9tb2dlbmVvdXNSb3RhdGlvbkluVVZUcmFuc2Zvcm09dGhpcy5ob21vZ2VuZW91c1JvdGF0aW9uSW5VVlRyYW5zZm9ybSwoIXRoaXMuX2NhY2hlZFRleHR1cmVNYXRyaXh8fCF0aGlzLl9yb3dHZW5lcmF0aW9uTWF0cml4KSYmKHRoaXMuX2NhY2hlZFRleHR1cmVNYXRyaXg9SS5aZXJvKCksdGhpcy5fcm93R2VuZXJhdGlvbk1hdHJpeD1uZXcgSSx0aGlzLl90MD1iLlplcm8oKSx0aGlzLl90MT1iLlplcm8oKSx0aGlzLl90Mj1iLlplcm8oKSksSS5Sb3RhdGlvbllhd1BpdGNoUm9sbFRvUmVmKHRoaXMudkFuZyx0aGlzLnVBbmcsdGhpcy53QW5nLHRoaXMuX3Jvd0dlbmVyYXRpb25NYXRyaXgpLHRoaXMuaG9tb2dlbmVvdXNSb3RhdGlvbkluVVZUcmFuc2Zvcm0/KEkuVHJhbnNsYXRpb25Ub1JlZigtdGhpcy5fY2FjaGVkVVJvdGF0aW9uQ2VudGVyLC10aGlzLl9jYWNoZWRWUm90YXRpb25DZW50ZXIsLXRoaXMuX2NhY2hlZFdSb3RhdGlvbkNlbnRlcixELk1hdHJpeFswXSksSS5UcmFuc2xhdGlvblRvUmVmKHRoaXMuX2NhY2hlZFVSb3RhdGlvbkNlbnRlcix0aGlzLl9jYWNoZWRWUm90YXRpb25DZW50ZXIsdGhpcy5fY2FjaGVkV1JvdGF0aW9uQ2VudGVyLEQuTWF0cml4WzFdKSxJLlNjYWxpbmdUb1JlZih0aGlzLl9jYWNoZWRVU2NhbGUsdGhpcy5fY2FjaGVkVlNjYWxlLDAsRC5NYXRyaXhbMl0pLEkuVHJhbnNsYXRpb25Ub1JlZih0aGlzLl9jYWNoZWRVT2Zmc2V0LHRoaXMuX2NhY2hlZFZPZmZzZXQsMCxELk1hdHJpeFszXSksRC5NYXRyaXhbMF0ubXVsdGlwbHlUb1JlZih0aGlzLl9yb3dHZW5lcmF0aW9uTWF0cml4LHRoaXMuX2NhY2hlZFRleHR1cmVNYXRyaXgpLHRoaXMuX2NhY2hlZFRleHR1cmVNYXRyaXgubXVsdGlwbHlUb1JlZihELk1hdHJpeFsxXSx0aGlzLl9jYWNoZWRUZXh0dXJlTWF0cml4KSx0aGlzLl9jYWNoZWRUZXh0dXJlTWF0cml4Lm11bHRpcGx5VG9SZWYoRC5NYXRyaXhbMl0sdGhpcy5fY2FjaGVkVGV4dHVyZU1hdHJpeCksdGhpcy5fY2FjaGVkVGV4dHVyZU1hdHJpeC5tdWx0aXBseVRvUmVmKEQuTWF0cml4WzNdLHRoaXMuX2NhY2hlZFRleHR1cmVNYXRyaXgpLHRoaXMuX2NhY2hlZFRleHR1cmVNYXRyaXguc2V0Um93RnJvbUZsb2F0cygyLHRoaXMuX2NhY2hlZFRleHR1cmVNYXRyaXgubVsxMl0sdGhpcy5fY2FjaGVkVGV4dHVyZU1hdHJpeC5tWzEzXSx0aGlzLl9jYWNoZWRUZXh0dXJlTWF0cml4Lm1bMTRdLDEpKToodGhpcy5fcHJlcGFyZVJvd0ZvclRleHR1cmVHZW5lcmF0aW9uKDAsMCwwLHRoaXMuX3QwKSx0aGlzLl9wcmVwYXJlUm93Rm9yVGV4dHVyZUdlbmVyYXRpb24oMSwwLDAsdGhpcy5fdDEpLHRoaXMuX3ByZXBhcmVSb3dGb3JUZXh0dXJlR2VuZXJhdGlvbigwLDEsMCx0aGlzLl90MiksdGhpcy5fdDEuc3VidHJhY3RJblBsYWNlKHRoaXMuX3QwKSx0aGlzLl90Mi5zdWJ0cmFjdEluUGxhY2UodGhpcy5fdDApLEkuRnJvbVZhbHVlc1RvUmVmKHRoaXMuX3QxLngsdGhpcy5fdDEueSx0aGlzLl90MS56LDAsdGhpcy5fdDIueCx0aGlzLl90Mi55LHRoaXMuX3QyLnosMCx0aGlzLl90MC54LHRoaXMuX3QwLnksdGhpcy5fdDAueiwwLDAsMCwwLDEsdGhpcy5fY2FjaGVkVGV4dHVyZU1hdHJpeCkpO3ZhciBuPXRoaXMuZ2V0U2NlbmUoKTtyZXR1cm4gbj8obi5tYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxLGZ1bmN0aW9uKGEpe3JldHVybiBhLmhhc1RleHR1cmUocil9KSx0aGlzLl9jYWNoZWRUZXh0dXJlTWF0cml4KTp0aGlzLl9jYWNoZWRUZXh0dXJlTWF0cml4fSxlLnByb3RvdHlwZS5nZXRSZWZsZWN0aW9uVGV4dHVyZU1hdHJpeD1mdW5jdGlvbigpe3ZhciB0PXRoaXMscj10aGlzLmdldFNjZW5lKCk7aWYoIXIpcmV0dXJuIHRoaXMuX2NhY2hlZFRleHR1cmVNYXRyaXg7aWYodGhpcy51T2Zmc2V0PT09dGhpcy5fY2FjaGVkVU9mZnNldCYmdGhpcy52T2Zmc2V0PT09dGhpcy5fY2FjaGVkVk9mZnNldCYmdGhpcy51U2NhbGU9PT10aGlzLl9jYWNoZWRVU2NhbGUmJnRoaXMudlNjYWxlPT09dGhpcy5fY2FjaGVkVlNjYWxlJiZ0aGlzLmNvb3JkaW5hdGVzTW9kZT09PXRoaXMuX2NhY2hlZENvb3JkaW5hdGVzTW9kZSlpZih0aGlzLmNvb3JkaW5hdGVzTW9kZT09PWUuUFJPSkVDVElPTl9NT0RFKXtpZih0aGlzLl9jYWNoZWRQcm9qZWN0aW9uTWF0cml4SWQ9PT1yLmdldFByb2plY3Rpb25NYXRyaXgoKS51cGRhdGVGbGFnKXJldHVybiB0aGlzLl9jYWNoZWRUZXh0dXJlTWF0cml4fWVsc2UgcmV0dXJuIHRoaXMuX2NhY2hlZFRleHR1cmVNYXRyaXg7dGhpcy5fY2FjaGVkVGV4dHVyZU1hdHJpeHx8KHRoaXMuX2NhY2hlZFRleHR1cmVNYXRyaXg9SS5aZXJvKCkpLHRoaXMuX3Byb2plY3Rpb25Nb2RlTWF0cml4fHwodGhpcy5fcHJvamVjdGlvbk1vZGVNYXRyaXg9SS5aZXJvKCkpO3ZhciBuPXRoaXMuX2NhY2hlZENvb3JkaW5hdGVzTW9kZSE9PXRoaXMuY29vcmRpbmF0ZXNNb2RlO3N3aXRjaCh0aGlzLl9jYWNoZWRVT2Zmc2V0PXRoaXMudU9mZnNldCx0aGlzLl9jYWNoZWRWT2Zmc2V0PXRoaXMudk9mZnNldCx0aGlzLl9jYWNoZWRVU2NhbGU9dGhpcy51U2NhbGUsdGhpcy5fY2FjaGVkVlNjYWxlPXRoaXMudlNjYWxlLHRoaXMuX2NhY2hlZENvb3JkaW5hdGVzTW9kZT10aGlzLmNvb3JkaW5hdGVzTW9kZSx0aGlzLmNvb3JkaW5hdGVzTW9kZSl7Y2FzZSBlLlBMQU5BUl9NT0RFOntJLklkZW50aXR5VG9SZWYodGhpcy5fY2FjaGVkVGV4dHVyZU1hdHJpeCksdGhpcy5fY2FjaGVkVGV4dHVyZU1hdHJpeFswXT10aGlzLnVTY2FsZSx0aGlzLl9jYWNoZWRUZXh0dXJlTWF0cml4WzVdPXRoaXMudlNjYWxlLHRoaXMuX2NhY2hlZFRleHR1cmVNYXRyaXhbMTJdPXRoaXMudU9mZnNldCx0aGlzLl9jYWNoZWRUZXh0dXJlTWF0cml4WzEzXT10aGlzLnZPZmZzZXQ7YnJlYWt9Y2FzZSBlLlBST0pFQ1RJT05fTU9ERTp7SS5Gcm9tVmFsdWVzVG9SZWYoLjUsMCwwLDAsMCwtLjUsMCwwLDAsMCwwLDAsLjUsLjUsMSwxLHRoaXMuX3Byb2plY3Rpb25Nb2RlTWF0cml4KTt2YXIgYT1yLmdldFByb2plY3Rpb25NYXRyaXgoKTt0aGlzLl9jYWNoZWRQcm9qZWN0aW9uTWF0cml4SWQ9YS51cGRhdGVGbGFnLGEubXVsdGlwbHlUb1JlZih0aGlzLl9wcm9qZWN0aW9uTW9kZU1hdHJpeCx0aGlzLl9jYWNoZWRUZXh0dXJlTWF0cml4KTticmVha31kZWZhdWx0OkkuSWRlbnRpdHlUb1JlZih0aGlzLl9jYWNoZWRUZXh0dXJlTWF0cml4KTticmVha31yZXR1cm4gbiYmci5tYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxLGZ1bmN0aW9uKHMpe3JldHVybiBzLmdldEFjdGl2ZVRleHR1cmVzKCkuaW5kZXhPZih0KSE9PS0xfSksdGhpcy5fY2FjaGVkVGV4dHVyZU1hdHJpeH0sZS5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLHI9e25vTWlwbWFwOnRoaXMuX25vTWlwbWFwLGludmVydFk6dGhpcy5faW52ZXJ0WSxzYW1wbGluZ01vZGU6dGhpcy5zYW1wbGluZ01vZGUsb25Mb2FkOnZvaWQgMCxvbkVycm9yOnZvaWQgMCxidWZmZXI6dGhpcy5fdGV4dHVyZT90aGlzLl90ZXh0dXJlLl9idWZmZXI6dm9pZCAwLGRlbGV0ZUJ1ZmZlcjp0aGlzLl9kZWxldGVCdWZmZXIsZm9ybWF0OnRoaXMudGV4dHVyZUZvcm1hdCxtaW1lVHlwZTp0aGlzLm1pbWVUeXBlLGxvYWRlck9wdGlvbnM6dGhpcy5fbG9hZGVyT3B0aW9ucyxjcmVhdGlvbkZsYWdzOnRoaXMuX2NyZWF0aW9uRmxhZ3MsdXNlU1JHQkJ1ZmZlcjp0aGlzLl91c2VTUkdCQnVmZmVyfTtyZXR1cm4gdGUuQ2xvbmUoZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGUodC5fdGV4dHVyZT90Ll90ZXh0dXJlLnVybDpudWxsLHQuZ2V0U2NlbmUoKSxyKX0sdGhpcyl9LGUucHJvdG90eXBlLnNlcmlhbGl6ZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMubmFtZTtlLlNlcmlhbGl6ZUJ1ZmZlcnN8fHRoaXMubmFtZS5zdGFydHNXaXRoKCJkYXRhOiIpJiYodGhpcy5uYW1lPSIiKSx0aGlzLm5hbWUuc3RhcnRzV2l0aCgiZGF0YToiKSYmdGhpcy51cmw9PT10aGlzLm5hbWUmJih0aGlzLnVybD0iIik7dmFyIHI9aS5wcm90b3R5cGUuc2VyaWFsaXplLmNhbGwodGhpcyk7cmV0dXJuIHI/KChlLlNlcmlhbGl6ZUJ1ZmZlcnN8fGUuRm9yY2VTZXJpYWxpemVCdWZmZXJzKSYmKHR5cGVvZiB0aGlzLl9idWZmZXI9PSJzdHJpbmciJiZ0aGlzLl9idWZmZXIuc3Vic3RyKDAsNSk9PT0iZGF0YToiPyhyLmJhc2U2NFN0cmluZz10aGlzLl9idWZmZXIsci5uYW1lPXIubmFtZS5yZXBsYWNlKCJkYXRhOiIsIiIpKTp0aGlzLnVybCYmdGhpcy51cmwuc3RhcnRzV2l0aCgiZGF0YToiKSYmdGhpcy5fYnVmZmVyIGluc3RhbmNlb2YgVWludDhBcnJheT9yLmJhc2U2NFN0cmluZz0iZGF0YTppbWFnZS9wbmc7YmFzZTY0LCIrSWkodGhpcy5fYnVmZmVyKTooZS5Gb3JjZVNlcmlhbGl6ZUJ1ZmZlcnN8fHRoaXMudXJsJiZ0aGlzLnVybC5zdGFydHNXaXRoKCJibG9iOiIpfHx0aGlzLl9mb3JjZVNlcmlhbGl6ZSkmJihyLmJhc2U2NFN0cmluZz0hdGhpcy5fZW5naW5lfHx0aGlzLl9lbmdpbmUuX2ZlYXR1cmVzLnN1cHBvcnRTeW5jVGV4dHVyZVJlYWQ/WGEodGhpcyk6SGEodGhpcykpKSxyLmludmVydFk9dGhpcy5faW52ZXJ0WSxyLnNhbXBsaW5nTW9kZT10aGlzLnNhbXBsaW5nTW9kZSxyLl9jcmVhdGlvbkZsYWdzPXRoaXMuX2NyZWF0aW9uRmxhZ3Msci5fdXNlU1JHQkJ1ZmZlcj10aGlzLl91c2VTUkdCQnVmZmVyLHRoaXMubmFtZT10LHIpOm51bGx9LGUucHJvdG90eXBlLmdldENsYXNzTmFtZT1mdW5jdGlvbigpe3JldHVybiJUZXh0dXJlIn0sZS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe2kucHJvdG90eXBlLmRpc3Bvc2UuY2FsbCh0aGlzKSx0aGlzLm9uTG9hZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLl9kZWxheWVkT25Mb2FkPW51bGwsdGhpcy5fZGVsYXllZE9uRXJyb3I9bnVsbH0sZS5QYXJzZT1mdW5jdGlvbih0LHIsbil7aWYodC5jdXN0b21UeXBlKXt2YXIgYT12ci5JbnN0YW50aWF0ZSh0LmN1c3RvbVR5cGUpLHM9YS5QYXJzZSh0LHIsbik7cmV0dXJuIHQuc2FtcGxpbmdNb2RlJiZzLnVwZGF0ZVNhbXBsaW5nTW9kZSYmcy5fc2FtcGxpbmdNb2RlJiZzLl9zYW1wbGluZ01vZGUhPT10LnNhbXBsaW5nTW9kZSYmcy51cGRhdGVTYW1wbGluZ01vZGUodC5zYW1wbGluZ01vZGUpLHN9aWYodC5pc0N1YmUmJiF0LmlzUmVuZGVyVGFyZ2V0KXJldHVybiBlLl9DdWJlVGV4dHVyZVBhcnNlcih0LHIsbik7aWYoIXQubmFtZSYmIXQuaXNSZW5kZXJUYXJnZXQpcmV0dXJuIG51bGw7dmFyIG89ZnVuY3Rpb24oKXtpZih1JiZ1Ll90ZXh0dXJlJiYodS5fdGV4dHVyZS5fY2FjaGVkV3JhcFU9bnVsbCx1Ll90ZXh0dXJlLl9jYWNoZWRXcmFwVj1udWxsLHUuX3RleHR1cmUuX2NhY2hlZFdyYXBSPW51bGwpLHQuc2FtcGxpbmdNb2RlKXt2YXIgZj10LnNhbXBsaW5nTW9kZTt1JiZ1LnNhbXBsaW5nTW9kZSE9PWYmJnUudXBkYXRlU2FtcGxpbmdNb2RlKGYpfWlmKHUmJnQuYW5pbWF0aW9ucylmb3IodmFyIGw9MDtsPHQuYW5pbWF0aW9ucy5sZW5ndGg7bCsrKXt2YXIgaD10LmFuaW1hdGlvbnNbbF0sYz1QdCgiQkFCWUxPTi5BbmltYXRpb24iKTtjJiZ1LmFuaW1hdGlvbnMucHVzaChjLlBhcnNlKGgpKX19LHU9dGUuUGFyc2UoZnVuY3Rpb24oKXt2YXIgZixsLGgsYz0hMDtpZih0Lm5vTWlwbWFwJiYoYz0hMSksdC5taXJyb3JQbGFuZSl7dmFyIGQ9ZS5fQ3JlYXRlTWlycm9yKHQubmFtZSx0LnJlbmRlclRhcmdldFNpemUscixjKTtyZXR1cm4gZC5fd2FpdGluZ1JlbmRlckxpc3Q9dC5yZW5kZXJMaXN0LGQubWlycm9yUGxhbmU9JHIuRnJvbUFycmF5KHQubWlycm9yUGxhbmUpLG8oKSxkfWVsc2UgaWYodC5pc1JlbmRlclRhcmdldCl7dmFyIHA9bnVsbDtpZih0LmlzQ3ViZSl7aWYoci5yZWZsZWN0aW9uUHJvYmVzKWZvcih2YXIgZz0wO2c8ci5yZWZsZWN0aW9uUHJvYmVzLmxlbmd0aDtnKyspe3ZhciBfPXIucmVmbGVjdGlvblByb2Jlc1tnXTtpZihfLm5hbWU9PT10Lm5hbWUpcmV0dXJuIF8uY3ViZVRleHR1cmV9fWVsc2UgcD1lLl9DcmVhdGVSZW5kZXJUYXJnZXRUZXh0dXJlKHQubmFtZSx0LnJlbmRlclRhcmdldFNpemUscixjLChmPXQuX2NyZWF0aW9uRmxhZ3MpIT09bnVsbCYmZiE9PXZvaWQgMD9mOjApLHAuX3dhaXRpbmdSZW5kZXJMaXN0PXQucmVuZGVyTGlzdDtyZXR1cm4gbygpLHB9ZWxzZXt2YXIgdjtpZih0LmJhc2U2NFN0cmluZyl2PWUuQ3JlYXRlRnJvbUJhc2U2NFN0cmluZyh0LmJhc2U2NFN0cmluZyx0Lm5hbWUsciwhYyx0LmludmVydFksdC5zYW1wbGluZ01vZGUsbywobD10Ll9jcmVhdGlvbkZsYWdzKSE9PW51bGwmJmwhPT12b2lkIDA/bDowLChoPXQuX3VzZVNSR0JCdWZmZXIpIT09bnVsbCYmaCE9PXZvaWQgMD9oOiExKTtlbHNle3ZhciB5PXZvaWQgMDt0Lm5hbWUmJnQubmFtZS5pbmRleE9mKCI6Ly8iKT4wP3k9dC5uYW1lOnk9bit0Lm5hbWUsdC51cmwmJih0LnVybC5zdGFydHNXaXRoKCJkYXRhOiIpfHxlLlVzZVNlcmlhbGl6ZWRVcmxJZkFueSkmJih5PXQudXJsKSx2PW5ldyBlKHksciwhYyx0LmludmVydFksdC5zYW1wbGluZ01vZGUsbyl9cmV0dXJuIHZ9fSx0LHIpO3JldHVybiB1fSxlLkNyZWF0ZUZyb21CYXNlNjRTdHJpbmc9ZnVuY3Rpb24odCxyLG4sYSxzLG8sdSxmLGwsaCl7cmV0dXJuIG89PT12b2lkIDAmJihvPWUuVFJJTElORUFSX1NBTVBMSU5HTU9ERSksdT09PXZvaWQgMCYmKHU9bnVsbCksZj09PXZvaWQgMCYmKGY9bnVsbCksbD09PXZvaWQgMCYmKGw9NSksbmV3IGUoImRhdGE6IityLG4sYSxzLG8sdSxmLHQsITEsbCx2b2lkIDAsdm9pZCAwLGgpfSxlLkxvYWRGcm9tRGF0YVN0cmluZz1mdW5jdGlvbih0LHIsbixhLHMsbyx1LGYsbCxoLGMpe3JldHVybiBhPT09dm9pZCAwJiYoYT0hMSksbz09PXZvaWQgMCYmKG89ITApLHU9PT12b2lkIDAmJih1PWUuVFJJTElORUFSX1NBTVBMSU5HTU9ERSksZj09PXZvaWQgMCYmKGY9bnVsbCksbD09PXZvaWQgMCYmKGw9bnVsbCksaD09PXZvaWQgMCYmKGg9NSksdC5zdWJzdHIoMCw1KSE9PSJkYXRhOiImJih0PSJkYXRhOiIrdCksbmV3IGUodCxuLHMsbyx1LGYsbCxyLGEsaCx2b2lkIDAsdm9pZCAwLGMpfSxlLlNlcmlhbGl6ZUJ1ZmZlcnM9ITAsZS5Gb3JjZVNlcmlhbGl6ZUJ1ZmZlcnM9ITEsZS5PblRleHR1cmVMb2FkRXJyb3JPYnNlcnZhYmxlPW5ldyBPLGUuX0N1YmVUZXh0dXJlUGFyc2VyPWZ1bmN0aW9uKHQscixuKXt0aHJvdyBYKCJDdWJlVGV4dHVyZSIpfSxlLl9DcmVhdGVNaXJyb3I9ZnVuY3Rpb24odCxyLG4sYSl7dGhyb3cgWCgiTWlycm9yVGV4dHVyZSIpfSxlLl9DcmVhdGVSZW5kZXJUYXJnZXRUZXh0dXJlPWZ1bmN0aW9uKHQscixuLGEscyl7dGhyb3cgWCgiUmVuZGVyVGFyZ2V0VGV4dHVyZSIpfSxlLk5FQVJFU1RfU0FNUExJTkdNT0RFPTEsZS5ORUFSRVNUX05FQVJFU1RfTUlQTElORUFSPTgsZS5CSUxJTkVBUl9TQU1QTElOR01PREU9MixlLkxJTkVBUl9MSU5FQVJfTUlQTkVBUkVTVD0xMSxlLlRSSUxJTkVBUl9TQU1QTElOR01PREU9MyxlLkxJTkVBUl9MSU5FQVJfTUlQTElORUFSPTMsZS5ORUFSRVNUX05FQVJFU1RfTUlQTkVBUkVTVD00LGUuTkVBUkVTVF9MSU5FQVJfTUlQTkVBUkVTVD01LGUuTkVBUkVTVF9MSU5FQVJfTUlQTElORUFSPTYsZS5ORUFSRVNUX0xJTkVBUj03LGUuTkVBUkVTVF9ORUFSRVNUPTEsZS5MSU5FQVJfTkVBUkVTVF9NSVBORUFSRVNUPTksZS5MSU5FQVJfTkVBUkVTVF9NSVBMSU5FQVI9MTAsZS5MSU5FQVJfTElORUFSPTIsZS5MSU5FQVJfTkVBUkVTVD0xMixlLkVYUExJQ0lUX01PREU9MCxlLlNQSEVSSUNBTF9NT0RFPTEsZS5QTEFOQVJfTU9ERT0yLGUuQ1VCSUNfTU9ERT0zLGUuUFJPSkVDVElPTl9NT0RFPTQsZS5TS1lCT1hfTU9ERT01LGUuSU5WQ1VCSUNfTU9ERT02LGUuRVFVSVJFQ1RBTkdVTEFSX01PREU9NyxlLkZJWEVEX0VRVUlSRUNUQU5HVUxBUl9NT0RFPTgsZS5GSVhFRF9FUVVJUkVDVEFOR1VMQVJfTUlSUk9SRURfTU9ERT05LGUuQ0xBTVBfQUREUkVTU01PREU9MCxlLldSQVBfQUREUkVTU01PREU9MSxlLk1JUlJPUl9BRERSRVNTTU9ERT0yLGUuVXNlU2VyaWFsaXplZFVybElmQW55PSExLFQoW1AoKV0sZS5wcm90b3R5cGUsInVybCIsdm9pZCAwKSxUKFtQKCldLGUucHJvdG90eXBlLCJ1T2Zmc2V0Iix2b2lkIDApLFQoW1AoKV0sZS5wcm90b3R5cGUsInZPZmZzZXQiLHZvaWQgMCksVChbUCgpXSxlLnByb3RvdHlwZSwidVNjYWxlIix2b2lkIDApLFQoW1AoKV0sZS5wcm90b3R5cGUsInZTY2FsZSIsdm9pZCAwKSxUKFtQKCldLGUucHJvdG90eXBlLCJ1QW5nIix2b2lkIDApLFQoW1AoKV0sZS5wcm90b3R5cGUsInZBbmciLHZvaWQgMCksVChbUCgpXSxlLnByb3RvdHlwZSwid0FuZyIsdm9pZCAwKSxUKFtQKCldLGUucHJvdG90eXBlLCJ1Um90YXRpb25DZW50ZXIiLHZvaWQgMCksVChbUCgpXSxlLnByb3RvdHlwZSwidlJvdGF0aW9uQ2VudGVyIix2b2lkIDApLFQoW1AoKV0sZS5wcm90b3R5cGUsIndSb3RhdGlvbkNlbnRlciIsdm9pZCAwKSxUKFtQKCldLGUucHJvdG90eXBlLCJob21vZ2VuZW91c1JvdGF0aW9uSW5VVlRyYW5zZm9ybSIsdm9pZCAwKSxUKFtQKCldLGUucHJvdG90eXBlLCJpc0Jsb2NraW5nIixudWxsKSxlfShHYSk7d2UoIkJBQllMT04uVGV4dHVyZSIsaWUpLHRlLl9UZXh0dXJlUGFyc2VyPWllLlBhcnNlO3ZhciBqYT1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoZSx0LHIsbil7dGhpcy5fdGV4dHVyZXM9bnVsbCx0aGlzLl9hdHRhY2htZW50cz1udWxsLHRoaXMuX2dlbmVyYXRlU3RlbmNpbEJ1ZmZlcj0hMSx0aGlzLl9nZW5lcmF0ZURlcHRoQnVmZmVyPSExLHRoaXMuX2RlcHRoU3RlbmNpbFRleHR1cmVXaXRoU3RlbmNpbD0hMSx0aGlzLl9pc011bHRpPWUsdGhpcy5faXNDdWJlPXQsdGhpcy5fc2l6ZT1yLHRoaXMuX2VuZ2luZT1uLHRoaXMuX2RlcHRoU3RlbmNpbFRleHR1cmU9bnVsbH1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJkZXB0aFN0ZW5jaWxUZXh0dXJlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RlcHRoU3RlbmNpbFRleHR1cmV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJkZXB0aFN0ZW5jaWxUZXh0dXJlV2l0aFN0ZW5jaWwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGVwdGhTdGVuY2lsVGV4dHVyZVdpdGhTdGVuY2lsfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiaXNDdWJlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lzQ3ViZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImlzTXVsdGkiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXNNdWx0aX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImlzMkRBcnJheSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmxheWVycz4wfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwic2l6ZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLndpZHRofSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwid2lkdGgiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2l6ZS53aWR0aHx8dGhpcy5fc2l6ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImhlaWdodCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zaXplLmhlaWdodHx8dGhpcy5fc2l6ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImxheWVycyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zaXplLmxheWVyc3x8MH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsInRleHR1cmUiLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgZSx0O3JldHVybih0PShlPXRoaXMuX3RleHR1cmVzKT09PW51bGx8fGU9PT12b2lkIDA/dm9pZCAwOmVbMF0pIT09bnVsbCYmdCE9PXZvaWQgMD90Om51bGx9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJ0ZXh0dXJlcyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl90ZXh0dXJlc30sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsInNhbXBsZXMiLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgZSx0O3JldHVybih0PShlPXRoaXMudGV4dHVyZSk9PT1udWxsfHxlPT09dm9pZCAwP3ZvaWQgMDplLnNhbXBsZXMpIT09bnVsbCYmdCE9PXZvaWQgMD90OjF9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksaS5wcm90b3R5cGUuc2V0U2FtcGxlcz1mdW5jdGlvbihlLHQscil7cmV0dXJuIHQ9PT12b2lkIDAmJih0PSEwKSxyPT09dm9pZCAwJiYocj0hMSksdGhpcy5zYW1wbGVzPT09ZSYmIXI/ZTp0aGlzLl9pc011bHRpP3RoaXMuX2VuZ2luZS51cGRhdGVNdWx0aXBsZVJlbmRlclRhcmdldFRleHR1cmVTYW1wbGVDb3VudCh0aGlzLGUsdCk6dGhpcy5fZW5naW5lLnVwZGF0ZVJlbmRlclRhcmdldFRleHR1cmVTYW1wbGVDb3VudCh0aGlzLGUpfSxpLnByb3RvdHlwZS5zZXRUZXh0dXJlcz1mdW5jdGlvbihlKXtBcnJheS5pc0FycmF5KGUpP3RoaXMuX3RleHR1cmVzPWU6ZT90aGlzLl90ZXh0dXJlcz1bZV06dGhpcy5fdGV4dHVyZXM9bnVsbH0saS5wcm90b3R5cGUuc2V0VGV4dHVyZT1mdW5jdGlvbihlLHQscil7dD09PXZvaWQgMCYmKHQ9MCkscj09PXZvaWQgMCYmKHI9ITApLHRoaXMuX3RleHR1cmVzfHwodGhpcy5fdGV4dHVyZXM9W10pLHRoaXMuX3RleHR1cmVzW3RdJiZyJiZ0aGlzLl90ZXh0dXJlc1t0XS5kaXNwb3NlKCksdGhpcy5fdGV4dHVyZXNbdF09ZX0saS5wcm90b3R5cGUuY3JlYXRlRGVwdGhTdGVuY2lsVGV4dHVyZT1mdW5jdGlvbihlLHQscixuLGEpe3ZhciBzO3JldHVybiBlPT09dm9pZCAwJiYoZT0wKSx0PT09dm9pZCAwJiYodD0hMCkscj09PXZvaWQgMCYmKHI9ITEpLG49PT12b2lkIDAmJihuPTEpLGE9PT12b2lkIDAmJihhPTE0KSwocz10aGlzLl9kZXB0aFN0ZW5jaWxUZXh0dXJlKT09PW51bGx8fHM9PT12b2lkIDB8fHMuZGlzcG9zZSgpLHRoaXMuX2RlcHRoU3RlbmNpbFRleHR1cmVXaXRoU3RlbmNpbD1yLHRoaXMuX2RlcHRoU3RlbmNpbFRleHR1cmU9dGhpcy5fZW5naW5lLmNyZWF0ZURlcHRoU3RlbmNpbFRleHR1cmUodGhpcy5fc2l6ZSx7YmlsaW5lYXJGaWx0ZXJpbmc6dCxjb21wYXJpc29uRnVuY3Rpb246ZSxnZW5lcmF0ZVN0ZW5jaWw6cixpc0N1YmU6dGhpcy5faXNDdWJlLHNhbXBsZXM6bixkZXB0aFRleHR1cmVGb3JtYXQ6YX0sdGhpcyksdGhpcy5fZGVwdGhTdGVuY2lsVGV4dHVyZX0saS5wcm90b3R5cGUuX3NoYXJlRGVwdGg9ZnVuY3Rpb24oZSl7dGhpcy5fZGVwdGhTdGVuY2lsVGV4dHVyZSYmKGUuX2RlcHRoU3RlbmNpbFRleHR1cmUmJmUuX2RlcHRoU3RlbmNpbFRleHR1cmUuZGlzcG9zZSgpLGUuX2RlcHRoU3RlbmNpbFRleHR1cmU9dGhpcy5fZGVwdGhTdGVuY2lsVGV4dHVyZSx0aGlzLl9kZXB0aFN0ZW5jaWxUZXh0dXJlLmluY3JlbWVudFJlZmVyZW5jZXMoKSl9LGkucHJvdG90eXBlLl9zd2FwQW5kRGllPWZ1bmN0aW9uKGUpe3RoaXMudGV4dHVyZSYmdGhpcy50ZXh0dXJlLl9zd2FwQW5kRGllKGUpLHRoaXMuX3RleHR1cmVzPW51bGwsdGhpcy5kaXNwb3NlKCEwKX0saS5wcm90b3R5cGUuX2Nsb25lUmVuZGVyVGFyZ2V0V3JhcHBlcj1mdW5jdGlvbigpe3ZhciBlLHQscixuLGEscyxvPW51bGw7aWYodGhpcy5faXNNdWx0aSl7dmFyIHU9dGhpcy50ZXh0dXJlcztpZih1JiZ1Lmxlbmd0aD4wKXt2YXIgZj0hMSxsPXUubGVuZ3RoLGg9dVt1Lmxlbmd0aC0xXS5fc291cmNlOyhoPT09bWUuRGVwdGh8fGg9PT1tZS5EZXB0aFN0ZW5jaWwpJiYoZj0hMCxsLS0pO2Zvcih2YXIgYz1bXSxkPVtdLHA9MDtwPGw7KytwKXt2YXIgZz11W3BdO2MucHVzaChnLnNhbXBsaW5nTW9kZSksZC5wdXNoKGcudHlwZSl9dmFyIF89e3NhbXBsaW5nTW9kZXM6YyxnZW5lcmF0ZU1pcE1hcHM6dVswXS5nZW5lcmF0ZU1pcE1hcHMsZ2VuZXJhdGVEZXB0aEJ1ZmZlcjp0aGlzLl9nZW5lcmF0ZURlcHRoQnVmZmVyLGdlbmVyYXRlU3RlbmNpbEJ1ZmZlcjp0aGlzLl9nZW5lcmF0ZVN0ZW5jaWxCdWZmZXIsZ2VuZXJhdGVEZXB0aFRleHR1cmU6Zix0eXBlczpkLHRleHR1cmVDb3VudDpsfSx2PXt3aWR0aDp0aGlzLndpZHRoLGhlaWdodDp0aGlzLmhlaWdodH07bz10aGlzLl9lbmdpbmUuY3JlYXRlTXVsdGlwbGVSZW5kZXJUYXJnZXQodixfKX19ZWxzZXt2YXIgeT17fTtpZih5LmdlbmVyYXRlRGVwdGhCdWZmZXI9dGhpcy5fZ2VuZXJhdGVEZXB0aEJ1ZmZlcix5LmdlbmVyYXRlTWlwTWFwcz0odD0oZT10aGlzLnRleHR1cmUpPT09bnVsbHx8ZT09PXZvaWQgMD92b2lkIDA6ZS5nZW5lcmF0ZU1pcE1hcHMpIT09bnVsbCYmdCE9PXZvaWQgMD90OiExLHkuZ2VuZXJhdGVTdGVuY2lsQnVmZmVyPXRoaXMuX2dlbmVyYXRlU3RlbmNpbEJ1ZmZlcix5LnNhbXBsaW5nTW9kZT0ocj10aGlzLnRleHR1cmUpPT09bnVsbHx8cj09PXZvaWQgMD92b2lkIDA6ci5zYW1wbGluZ01vZGUseS50eXBlPShuPXRoaXMudGV4dHVyZSk9PT1udWxsfHxuPT09dm9pZCAwP3ZvaWQgMDpuLnR5cGUseS5mb3JtYXQ9KGE9dGhpcy50ZXh0dXJlKT09PW51bGx8fGE9PT12b2lkIDA/dm9pZCAwOmEuZm9ybWF0LHRoaXMuaXNDdWJlKW89dGhpcy5fZW5naW5lLmNyZWF0ZVJlbmRlclRhcmdldEN1YmVUZXh0dXJlKHRoaXMud2lkdGgseSk7ZWxzZXt2YXIgdj17d2lkdGg6dGhpcy53aWR0aCxoZWlnaHQ6dGhpcy5oZWlnaHQsbGF5ZXJzOnRoaXMuaXMyREFycmF5PyhzPXRoaXMudGV4dHVyZSk9PT1udWxsfHxzPT09dm9pZCAwP3ZvaWQgMDpzLmRlcHRoOnZvaWQgMH07bz10aGlzLl9lbmdpbmUuY3JlYXRlUmVuZGVyVGFyZ2V0VGV4dHVyZSh2LHkpfW8udGV4dHVyZS5pc1JlYWR5PSEwfXJldHVybiBvfSxpLnByb3RvdHlwZS5fc3dhcFJlbmRlclRhcmdldFdyYXBwZXI9ZnVuY3Rpb24oZSl7aWYodGhpcy5fdGV4dHVyZXMmJmUuX3RleHR1cmVzKWZvcih2YXIgdD0wO3Q8dGhpcy5fdGV4dHVyZXMubGVuZ3RoOysrdCl0aGlzLl90ZXh0dXJlc1t0XS5fc3dhcEFuZERpZShlLl90ZXh0dXJlc1t0XSwhMSksZS5fdGV4dHVyZXNbdF0uaXNSZWFkeT0hMDt0aGlzLl9kZXB0aFN0ZW5jaWxUZXh0dXJlJiZlLl9kZXB0aFN0ZW5jaWxUZXh0dXJlJiYodGhpcy5fZGVwdGhTdGVuY2lsVGV4dHVyZS5fc3dhcEFuZERpZShlLl9kZXB0aFN0ZW5jaWxUZXh0dXJlKSxlLl9kZXB0aFN0ZW5jaWxUZXh0dXJlLmlzUmVhZHk9ITApLHRoaXMuX3RleHR1cmVzPW51bGwsdGhpcy5fZGVwdGhTdGVuY2lsVGV4dHVyZT1udWxsfSxpLnByb3RvdHlwZS5fcmVidWlsZD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuX2Nsb25lUmVuZGVyVGFyZ2V0V3JhcHBlcigpO2lmKCEhZSl7aWYodGhpcy5fZGVwdGhTdGVuY2lsVGV4dHVyZSl7dmFyIHQ9dGhpcy5fZGVwdGhTdGVuY2lsVGV4dHVyZS5zYW1wbGluZ01vZGUscj10PT09Mnx8dD09PTN8fHQ9PT0xMTtlLmNyZWF0ZURlcHRoU3RlbmNpbFRleHR1cmUodGhpcy5fZGVwdGhTdGVuY2lsVGV4dHVyZS5fY29tcGFyaXNvbkZ1bmN0aW9uLHIsdGhpcy5fZGVwdGhTdGVuY2lsVGV4dHVyZVdpdGhTdGVuY2lsLHRoaXMuX2RlcHRoU3RlbmNpbFRleHR1cmUuc2FtcGxlcyl9dGhpcy5zYW1wbGVzPjEmJmUuc2V0U2FtcGxlcyh0aGlzLnNhbXBsZXMpLGUuX3N3YXBSZW5kZXJUYXJnZXRXcmFwcGVyKHRoaXMpLGUuZGlzcG9zZSgpfX0saS5wcm90b3R5cGUucmVsZWFzZVRleHR1cmVzPWZ1bmN0aW9uKCl7dmFyIGUsdDtpZih0aGlzLl90ZXh0dXJlcylmb3IodmFyIHI9MDsodD1yPCgoZT10aGlzLl90ZXh0dXJlcyk9PT1udWxsfHxlPT09dm9pZCAwP3ZvaWQgMDplLmxlbmd0aCkpIT09bnVsbCYmdCE9PXZvaWQgMCYmdDsrK3IpdGhpcy5fdGV4dHVyZXNbcl0uZGlzcG9zZSgpO3RoaXMuX3RleHR1cmVzPW51bGx9LGkucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oZSl7dmFyIHQ7ZT09PXZvaWQgMCYmKGU9ITEpLGV8fCgodD10aGlzLl9kZXB0aFN0ZW5jaWxUZXh0dXJlKT09PW51bGx8fHQ9PT12b2lkIDB8fHQuZGlzcG9zZSgpLHRoaXMuX2RlcHRoU3RlbmNpbFRleHR1cmU9bnVsbCx0aGlzLnJlbGVhc2VUZXh0dXJlcygpKSx0aGlzLl9lbmdpbmUuX3JlbGVhc2VSZW5kZXJUYXJnZXRXcmFwcGVyKHRoaXMpfSxpfSgpLEthPWZ1bmN0aW9uKGkpe0soZSxpKTtmdW5jdGlvbiBlKHQscixuLGEscyl7dmFyIG89aS5jYWxsKHRoaXMsdCxyLG4sYSl8fHRoaXM7cmV0dXJuIG8uX2ZyYW1lYnVmZmVyPW51bGwsby5fZGVwdGhTdGVuY2lsQnVmZmVyPW51bGwsby5fTVNBQUZyYW1lYnVmZmVyPW51bGwsby5fY29sb3JUZXh0dXJlQXJyYXk9bnVsbCxvLl9kZXB0aFN0ZW5jaWxUZXh0dXJlQXJyYXk9bnVsbCxvLl9jb250ZXh0PXMsb31yZXR1cm4gZS5wcm90b3R5cGUuX2Nsb25lUmVuZGVyVGFyZ2V0V3JhcHBlcj1mdW5jdGlvbigpe3ZhciB0PW51bGw7cmV0dXJuIHRoaXMuX2NvbG9yVGV4dHVyZUFycmF5JiZ0aGlzLl9kZXB0aFN0ZW5jaWxUZXh0dXJlQXJyYXk/KHQ9dGhpcy5fZW5naW5lLmNyZWF0ZU11bHRpdmlld1JlbmRlclRhcmdldFRleHR1cmUodGhpcy53aWR0aCx0aGlzLmhlaWdodCksdC50ZXh0dXJlLmlzUmVhZHk9ITApOnQ9aS5wcm90b3R5cGUuX2Nsb25lUmVuZGVyVGFyZ2V0V3JhcHBlci5jYWxsKHRoaXMpLHR9LGUucHJvdG90eXBlLl9zd2FwUmVuZGVyVGFyZ2V0V3JhcHBlcj1mdW5jdGlvbih0KXtpLnByb3RvdHlwZS5fc3dhcFJlbmRlclRhcmdldFdyYXBwZXIuY2FsbCh0aGlzLHQpLHQuX2ZyYW1lYnVmZmVyPXRoaXMuX2ZyYW1lYnVmZmVyLHQuX2RlcHRoU3RlbmNpbEJ1ZmZlcj10aGlzLl9kZXB0aFN0ZW5jaWxCdWZmZXIsdC5fTVNBQUZyYW1lYnVmZmVyPXRoaXMuX01TQUFGcmFtZWJ1ZmZlcix0Ll9jb2xvclRleHR1cmVBcnJheT10aGlzLl9jb2xvclRleHR1cmVBcnJheSx0Ll9kZXB0aFN0ZW5jaWxUZXh0dXJlQXJyYXk9dGhpcy5fZGVwdGhTdGVuY2lsVGV4dHVyZUFycmF5LHRoaXMuX2ZyYW1lYnVmZmVyPXRoaXMuX2RlcHRoU3RlbmNpbEJ1ZmZlcj10aGlzLl9NU0FBRnJhbWVidWZmZXI9dGhpcy5fY29sb3JUZXh0dXJlQXJyYXk9dGhpcy5fZGVwdGhTdGVuY2lsVGV4dHVyZUFycmF5PW51bGx9LGUucHJvdG90eXBlLl9zaGFyZURlcHRoPWZ1bmN0aW9uKHQpe2kucHJvdG90eXBlLl9zaGFyZURlcHRoLmNhbGwodGhpcyx0KTt2YXIgcj10aGlzLl9jb250ZXh0LG49dGhpcy5fZGVwdGhTdGVuY2lsQnVmZmVyLGE9dC5fZnJhbWVidWZmZXI7dC5fZGVwdGhTdGVuY2lsQnVmZmVyJiZyLmRlbGV0ZVJlbmRlcmJ1ZmZlcih0Ll9kZXB0aFN0ZW5jaWxCdWZmZXIpLHQuX2RlcHRoU3RlbmNpbEJ1ZmZlcj10aGlzLl9kZXB0aFN0ZW5jaWxCdWZmZXIsdGhpcy5fZW5naW5lLl9iaW5kVW5ib3VuZEZyYW1lYnVmZmVyKGEpLHIuZnJhbWVidWZmZXJSZW5kZXJidWZmZXIoci5GUkFNRUJVRkZFUixyLkRFUFRIX0FUVEFDSE1FTlQsci5SRU5ERVJCVUZGRVIsbiksdGhpcy5fZW5naW5lLl9iaW5kVW5ib3VuZEZyYW1lYnVmZmVyKG51bGwpfSxlLnByb3RvdHlwZS5fYmluZFRleHR1cmVSZW5kZXJUYXJnZXQ9ZnVuY3Rpb24odCxyLG4sYSl7aWYocj09PXZvaWQgMCYmKHI9MCksbj09PXZvaWQgMCYmKG49LTEpLGE9PT12b2lkIDAmJihhPTApLCEhdC5faGFyZHdhcmVUZXh0dXJlKXt2YXIgcz10aGlzLl9jb250ZXh0LG89dGhpcy5fZnJhbWVidWZmZXIsdT10aGlzLl9lbmdpbmUuX2N1cnJlbnRGcmFtZWJ1ZmZlcjt0aGlzLl9lbmdpbmUuX2JpbmRVbmJvdW5kRnJhbWVidWZmZXIobyk7dmFyIGY9c1t0aGlzLl9lbmdpbmUud2ViR0xWZXJzaW9uPjE/IkNPTE9SX0FUVEFDSE1FTlQiK3I6IkNPTE9SX0FUVEFDSE1FTlQiK3IrIl9XRUJHTCJdLGw9biE9PS0xP3MuVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9YK246cy5URVhUVVJFXzJEO3MuZnJhbWVidWZmZXJUZXh0dXJlMkQocy5GUkFNRUJVRkZFUixmLGwsdC5faGFyZHdhcmVUZXh0dXJlLnVuZGVybHlpbmdSZXNvdXJjZSxhKSx0aGlzLl9lbmdpbmUuX2JpbmRVbmJvdW5kRnJhbWVidWZmZXIodSl9fSxlLnByb3RvdHlwZS5zZXRUZXh0dXJlPWZ1bmN0aW9uKHQscixuKXtyPT09dm9pZCAwJiYocj0wKSxuPT09dm9pZCAwJiYobj0hMCksaS5wcm90b3R5cGUuc2V0VGV4dHVyZS5jYWxsKHRoaXMsdCxyLG4pLHRoaXMuX2JpbmRUZXh0dXJlUmVuZGVyVGFyZ2V0KHQscil9LGUucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24odCl7dD09PXZvaWQgMCYmKHQ9ITEpO3ZhciByPXRoaXMuX2NvbnRleHQ7dHx8KHRoaXMuX2NvbG9yVGV4dHVyZUFycmF5JiYodGhpcy5fY29udGV4dC5kZWxldGVUZXh0dXJlKHRoaXMuX2NvbG9yVGV4dHVyZUFycmF5KSx0aGlzLl9jb2xvclRleHR1cmVBcnJheT1udWxsKSx0aGlzLl9kZXB0aFN0ZW5jaWxUZXh0dXJlQXJyYXkmJih0aGlzLl9jb250ZXh0LmRlbGV0ZVRleHR1cmUodGhpcy5fZGVwdGhTdGVuY2lsVGV4dHVyZUFycmF5KSx0aGlzLl9kZXB0aFN0ZW5jaWxUZXh0dXJlQXJyYXk9bnVsbCkpLHRoaXMuX2ZyYW1lYnVmZmVyJiYoci5kZWxldGVGcmFtZWJ1ZmZlcih0aGlzLl9mcmFtZWJ1ZmZlciksdGhpcy5fZnJhbWVidWZmZXI9bnVsbCksdGhpcy5fZGVwdGhTdGVuY2lsQnVmZmVyJiYoci5kZWxldGVSZW5kZXJidWZmZXIodGhpcy5fZGVwdGhTdGVuY2lsQnVmZmVyKSx0aGlzLl9kZXB0aFN0ZW5jaWxCdWZmZXI9bnVsbCksdGhpcy5fTVNBQUZyYW1lYnVmZmVyJiYoci5kZWxldGVGcmFtZWJ1ZmZlcih0aGlzLl9NU0FBRnJhbWVidWZmZXIpLHRoaXMuX01TQUFGcmFtZWJ1ZmZlcj1udWxsKSxpLnByb3RvdHlwZS5kaXNwb3NlLmNhbGwodGhpcyx0KX0sZX0oamEpO2xlLnByb3RvdHlwZS5fY3JlYXRlSGFyZHdhcmVSZW5kZXJUYXJnZXRXcmFwcGVyPWZ1bmN0aW9uKGksZSx0KXt2YXIgcj1uZXcgS2EoaSxlLHQsdGhpcyx0aGlzLl9nbCk7cmV0dXJuIHRoaXMuX3JlbmRlclRhcmdldFdyYXBwZXJDYWNoZS5wdXNoKHIpLHJ9LGxlLnByb3RvdHlwZS5jcmVhdGVSZW5kZXJUYXJnZXRUZXh0dXJlPWZ1bmN0aW9uKGksZSl7dmFyIHQ9dGhpcy5fY3JlYXRlSGFyZHdhcmVSZW5kZXJUYXJnZXRXcmFwcGVyKCExLCExLGkpLHI9e307ZSE9PXZvaWQgMCYmdHlwZW9mIGU9PSJvYmplY3QiPyhyLmdlbmVyYXRlRGVwdGhCdWZmZXI9ISFlLmdlbmVyYXRlRGVwdGhCdWZmZXIsci5nZW5lcmF0ZVN0ZW5jaWxCdWZmZXI9ISFlLmdlbmVyYXRlU3RlbmNpbEJ1ZmZlcixyLm5vQ29sb3JUYXJnZXQ9ISFlLm5vQ29sb3JUYXJnZXQpOihyLmdlbmVyYXRlRGVwdGhCdWZmZXI9ITAsci5nZW5lcmF0ZVN0ZW5jaWxCdWZmZXI9ITEsci5ub0NvbG9yVGFyZ2V0PSExKTt2YXIgbj1yLm5vQ29sb3JUYXJnZXQ/bnVsbDp0aGlzLl9jcmVhdGVJbnRlcm5hbFRleHR1cmUoaSxlLCEwLG1lLlJlbmRlclRhcmdldCksYT1pLndpZHRofHxpLHM9aS5oZWlnaHR8fGksbz10aGlzLl9jdXJyZW50RnJhbWVidWZmZXIsdT10aGlzLl9nbCxmPXUuY3JlYXRlRnJhbWVidWZmZXIoKTtyZXR1cm4gdGhpcy5fYmluZFVuYm91bmRGcmFtZWJ1ZmZlcihmKSx0Ll9kZXB0aFN0ZW5jaWxCdWZmZXI9dGhpcy5fc2V0dXBGcmFtZWJ1ZmZlckRlcHRoQXR0YWNobWVudHMoISFyLmdlbmVyYXRlU3RlbmNpbEJ1ZmZlcixyLmdlbmVyYXRlRGVwdGhCdWZmZXIsYSxzKSxuJiYhbi5pczJEQXJyYXkmJnUuZnJhbWVidWZmZXJUZXh0dXJlMkQodS5GUkFNRUJVRkZFUix1LkNPTE9SX0FUVEFDSE1FTlQwLHUuVEVYVFVSRV8yRCxuLl9oYXJkd2FyZVRleHR1cmUudW5kZXJseWluZ1Jlc291cmNlLDApLHRoaXMuX2JpbmRVbmJvdW5kRnJhbWVidWZmZXIobyksdC5fZnJhbWVidWZmZXI9Zix0Ll9nZW5lcmF0ZURlcHRoQnVmZmVyPXIuZ2VuZXJhdGVEZXB0aEJ1ZmZlcix0Ll9nZW5lcmF0ZVN0ZW5jaWxCdWZmZXI9ISFyLmdlbmVyYXRlU3RlbmNpbEJ1ZmZlcix0LnNldFRleHR1cmVzKG4pLHR9LGxlLnByb3RvdHlwZS5jcmVhdGVEZXB0aFN0ZW5jaWxUZXh0dXJlPWZ1bmN0aW9uKGksZSx0KXtpZihlLmlzQ3ViZSl7dmFyIHI9aS53aWR0aHx8aTtyZXR1cm4gdGhpcy5fY3JlYXRlRGVwdGhTdGVuY2lsQ3ViZVRleHR1cmUocixlLHQpfWVsc2UgcmV0dXJuIHRoaXMuX2NyZWF0ZURlcHRoU3RlbmNpbFRleHR1cmUoaSxlLHQpfSxsZS5wcm90b3R5cGUuX2NyZWF0ZURlcHRoU3RlbmNpbFRleHR1cmU9ZnVuY3Rpb24oaSxlLHQpe3ZhciByPXRoaXMuX2dsLG49aS5sYXllcnN8fDAsYT1uIT09MD9yLlRFWFRVUkVfMkRfQVJSQVk6ci5URVhUVVJFXzJELHM9bmV3IEx0KHRoaXMsbWUuRGVwdGhTdGVuY2lsKTtpZighdGhpcy5fY2Fwcy5kZXB0aFRleHR1cmVFeHRlbnNpb24pcmV0dXJuIFcuRXJyb3IoIkRlcHRoIHRleHR1cmUgaXMgbm90IHN1cHBvcnRlZCBieSB5b3VyIGJyb3dzZXIgb3IgaGFyZHdhcmUuIiksczt2YXIgbz1FdCh7YmlsaW5lYXJGaWx0ZXJpbmc6ITEsY29tcGFyaXNvbkZ1bmN0aW9uOjAsZ2VuZXJhdGVTdGVuY2lsOiExfSxlKTt0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KGEscywhMCksdGhpcy5fc2V0dXBEZXB0aFN0ZW5jaWxUZXh0dXJlKHMsaSxvLmdlbmVyYXRlU3RlbmNpbCxvLmNvbXBhcmlzb25GdW5jdGlvbj09PTA/ITE6by5iaWxpbmVhckZpbHRlcmluZyxvLmNvbXBhcmlzb25GdW5jdGlvbikscy5mb3JtYXQ9by5nZW5lcmF0ZVN0ZW5jaWw/MTM6MTYsdC5fZGVwdGhTdGVuY2lsVGV4dHVyZT1zLHQuX2RlcHRoU3RlbmNpbFRleHR1cmVXaXRoU3RlbmNpbD1vLmdlbmVyYXRlU3RlbmNpbDt2YXIgdT1vLmdlbmVyYXRlU3RlbmNpbD9yLlVOU0lHTkVEX0lOVF8yNF84OnIuVU5TSUdORURfSU5ULGY9by5nZW5lcmF0ZVN0ZW5jaWw/ci5ERVBUSF9TVEVOQ0lMOnIuREVQVEhfQ09NUE9ORU5ULGw9ZjtyZXR1cm4gdGhpcy53ZWJHTFZlcnNpb24+MSYmKGw9by5nZW5lcmF0ZVN0ZW5jaWw/ci5ERVBUSDI0X1NURU5DSUw4OnIuREVQVEhfQ09NUE9ORU5UMjQpLHMuaXMyREFycmF5P3IudGV4SW1hZ2UzRChhLDAsbCxzLndpZHRoLHMuaGVpZ2h0LG4sMCxmLHUsbnVsbCk6ci50ZXhJbWFnZTJEKGEsMCxsLHMud2lkdGgscy5oZWlnaHQsMCxmLHUsbnVsbCksdGhpcy5fYmluZFRleHR1cmVEaXJlY3RseShhLG51bGwpLHRoaXMuX2ludGVybmFsVGV4dHVyZXNDYWNoZS5wdXNoKHMpLHN9LGxlLnByb3RvdHlwZS51cGRhdGVSZW5kZXJUYXJnZXRUZXh0dXJlU2FtcGxlQ291bnQ9ZnVuY3Rpb24oaSxlKXtpZih0aGlzLndlYkdMVmVyc2lvbjwyfHwhaXx8IWkudGV4dHVyZSlyZXR1cm4gMTtpZihpLnNhbXBsZXM9PT1lKXJldHVybiBlO3ZhciB0PXRoaXMuX2dsO2U9TWF0aC5taW4oZSx0aGlzLmdldENhcHMoKS5tYXhNU0FBU2FtcGxlcyksaS5fZGVwdGhTdGVuY2lsQnVmZmVyJiYodC5kZWxldGVSZW5kZXJidWZmZXIoaS5fZGVwdGhTdGVuY2lsQnVmZmVyKSxpLl9kZXB0aFN0ZW5jaWxCdWZmZXI9bnVsbCksaS5fTVNBQUZyYW1lYnVmZmVyJiYodC5kZWxldGVGcmFtZWJ1ZmZlcihpLl9NU0FBRnJhbWVidWZmZXIpLGkuX01TQUFGcmFtZWJ1ZmZlcj1udWxsKTt2YXIgcj1pLnRleHR1cmUuX2hhcmR3YXJlVGV4dHVyZTtpZihyLl9NU0FBUmVuZGVyQnVmZmVyJiYodC5kZWxldGVSZW5kZXJidWZmZXIoci5fTVNBQVJlbmRlckJ1ZmZlciksci5fTVNBQVJlbmRlckJ1ZmZlcj1udWxsKSxlPjEmJnQucmVuZGVyYnVmZmVyU3RvcmFnZU11bHRpc2FtcGxlKXt2YXIgbj10LmNyZWF0ZUZyYW1lYnVmZmVyKCk7aWYoIW4pdGhyb3cgbmV3IEVycm9yKCJVbmFibGUgdG8gY3JlYXRlIG11bHRpIHNhbXBsZWQgZnJhbWVidWZmZXIiKTtpLl9NU0FBRnJhbWVidWZmZXI9bix0aGlzLl9iaW5kVW5ib3VuZEZyYW1lYnVmZmVyKGkuX01TQUFGcmFtZWJ1ZmZlcik7dmFyIGE9dGhpcy5fY3JlYXRlUmVuZGVyQnVmZmVyKGkudGV4dHVyZS53aWR0aCxpLnRleHR1cmUuaGVpZ2h0LGUsLTEsdGhpcy5fZ2V0UkdCQU11bHRpU2FtcGxlQnVmZmVyRm9ybWF0KGkudGV4dHVyZS50eXBlKSx0LkNPTE9SX0FUVEFDSE1FTlQwLCExKTtpZighYSl0aHJvdyBuZXcgRXJyb3IoIlVuYWJsZSB0byBjcmVhdGUgbXVsdGkgc2FtcGxlZCBmcmFtZWJ1ZmZlciIpO3IuX01TQUFSZW5kZXJCdWZmZXI9YX1lbHNlIHRoaXMuX2JpbmRVbmJvdW5kRnJhbWVidWZmZXIoaS5fZnJhbWVidWZmZXIpO3JldHVybiBpLnRleHR1cmUuc2FtcGxlcz1lLGkuX2RlcHRoU3RlbmNpbEJ1ZmZlcj10aGlzLl9zZXR1cEZyYW1lYnVmZmVyRGVwdGhBdHRhY2htZW50cyhpLl9nZW5lcmF0ZVN0ZW5jaWxCdWZmZXIsaS5fZ2VuZXJhdGVEZXB0aEJ1ZmZlcixpLnRleHR1cmUud2lkdGgsaS50ZXh0dXJlLmhlaWdodCxlKSx0aGlzLl9iaW5kVW5ib3VuZEZyYW1lYnVmZmVyKG51bGwpLGV9LGxlLnByb3RvdHlwZS5jcmVhdGVSZW5kZXJUYXJnZXRDdWJlVGV4dHVyZT1mdW5jdGlvbihpLGUpe3ZhciB0PXRoaXMuX2NyZWF0ZUhhcmR3YXJlUmVuZGVyVGFyZ2V0V3JhcHBlcighMSwhMCxpKSxyPUV0KHtnZW5lcmF0ZU1pcE1hcHM6ITAsZ2VuZXJhdGVEZXB0aEJ1ZmZlcjohMCxnZW5lcmF0ZVN0ZW5jaWxCdWZmZXI6ITEsdHlwZTowLHNhbXBsaW5nTW9kZTozLGZvcm1hdDo1fSxlKTtyLmdlbmVyYXRlU3RlbmNpbEJ1ZmZlcj1yLmdlbmVyYXRlRGVwdGhCdWZmZXImJnIuZ2VuZXJhdGVTdGVuY2lsQnVmZmVyLChyLnR5cGU9PT0xJiYhdGhpcy5fY2Fwcy50ZXh0dXJlRmxvYXRMaW5lYXJGaWx0ZXJpbmd8fHIudHlwZT09PTImJiF0aGlzLl9jYXBzLnRleHR1cmVIYWxmRmxvYXRMaW5lYXJGaWx0ZXJpbmcpJiYoci5zYW1wbGluZ01vZGU9MSk7dmFyIG49dGhpcy5fZ2wsYT1uZXcgTHQodGhpcyxtZS5SZW5kZXJUYXJnZXQpO3RoaXMuX2JpbmRUZXh0dXJlRGlyZWN0bHkobi5URVhUVVJFX0NVQkVfTUFQLGEsITApO3ZhciBzPXRoaXMuX2dldFNhbXBsaW5nUGFyYW1ldGVycyhyLnNhbXBsaW5nTW9kZSxyLmdlbmVyYXRlTWlwTWFwcyk7ci50eXBlPT09MSYmIXRoaXMuX2NhcHMudGV4dHVyZUZsb2F0JiYoci50eXBlPTAsVy5XYXJuKCJGbG9hdCB0ZXh0dXJlcyBhcmUgbm90IHN1cHBvcnRlZC4gQ3ViZSByZW5kZXIgdGFyZ2V0IGZvcmNlZCB0byBURVhUVVJFVFlQRV9VTkVTSUdORURfQllURSB0eXBlIikpLG4udGV4UGFyYW1ldGVyaShuLlRFWFRVUkVfQ1VCRV9NQVAsbi5URVhUVVJFX01BR19GSUxURVIscy5tYWcpLG4udGV4UGFyYW1ldGVyaShuLlRFWFRVUkVfQ1VCRV9NQVAsbi5URVhUVVJFX01JTl9GSUxURVIscy5taW4pLG4udGV4UGFyYW1ldGVyaShuLlRFWFRVUkVfQ1VCRV9NQVAsbi5URVhUVVJFX1dSQVBfUyxuLkNMQU1QX1RPX0VER0UpLG4udGV4UGFyYW1ldGVyaShuLlRFWFRVUkVfQ1VCRV9NQVAsbi5URVhUVVJFX1dSQVBfVCxuLkNMQU1QX1RPX0VER0UpO2Zvcih2YXIgbz0wO288NjtvKyspbi50ZXhJbWFnZTJEKG4uVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9YK28sMCx0aGlzLl9nZXRSR0JBQnVmZmVySW50ZXJuYWxTaXplZEZvcm1hdChyLnR5cGUsci5mb3JtYXQpLGksaSwwLHRoaXMuX2dldEludGVybmFsRm9ybWF0KHIuZm9ybWF0KSx0aGlzLl9nZXRXZWJHTFRleHR1cmVUeXBlKHIudHlwZSksbnVsbCk7dmFyIHU9bi5jcmVhdGVGcmFtZWJ1ZmZlcigpO3JldHVybiB0aGlzLl9iaW5kVW5ib3VuZEZyYW1lYnVmZmVyKHUpLHQuX2RlcHRoU3RlbmNpbEJ1ZmZlcj10aGlzLl9zZXR1cEZyYW1lYnVmZmVyRGVwdGhBdHRhY2htZW50cyhyLmdlbmVyYXRlU3RlbmNpbEJ1ZmZlcixyLmdlbmVyYXRlRGVwdGhCdWZmZXIsaSxpKSxyLmdlbmVyYXRlTWlwTWFwcyYmbi5nZW5lcmF0ZU1pcG1hcChuLlRFWFRVUkVfQ1VCRV9NQVApLHRoaXMuX2JpbmRUZXh0dXJlRGlyZWN0bHkobi5URVhUVVJFX0NVQkVfTUFQLG51bGwpLHRoaXMuX2JpbmRVbmJvdW5kRnJhbWVidWZmZXIobnVsbCksdC5fZnJhbWVidWZmZXI9dSx0Ll9nZW5lcmF0ZURlcHRoQnVmZmVyPXIuZ2VuZXJhdGVEZXB0aEJ1ZmZlcix0Ll9nZW5lcmF0ZVN0ZW5jaWxCdWZmZXI9ci5nZW5lcmF0ZVN0ZW5jaWxCdWZmZXIsYS53aWR0aD1pLGEuaGVpZ2h0PWksYS5pc1JlYWR5PSEwLGEuaXNDdWJlPSEwLGEuc2FtcGxlcz0xLGEuZ2VuZXJhdGVNaXBNYXBzPXIuZ2VuZXJhdGVNaXBNYXBzLGEuc2FtcGxpbmdNb2RlPXIuc2FtcGxpbmdNb2RlLGEudHlwZT1yLnR5cGUsYS5mb3JtYXQ9ci5mb3JtYXQsdGhpcy5faW50ZXJuYWxUZXh0dXJlc0NhY2hlLnB1c2goYSksdC5zZXRUZXh0dXJlcyhhKSx0fTt2YXIga3Q9ZnVuY3Rpb24oaSl7SyhlLGkpO2Z1bmN0aW9uIGUodCxyLG4sYSxzLG8sdSxmLGwsaCxjLGQscCxnLF8sdix5KXtzPT09dm9pZCAwJiYocz0hMCksbz09PXZvaWQgMCYmKG89MCksdT09PXZvaWQgMCYmKHU9ITEpLGY9PT12b2lkIDAmJihmPWllLlRSSUxJTkVBUl9TQU1QTElOR01PREUpLGw9PT12b2lkIDAmJihsPSEwKSxoPT09dm9pZCAwJiYoaD0hMSksYz09PXZvaWQgMCYmKGM9ITEpLGQ9PT12b2lkIDAmJihkPTUpLHA9PT12b2lkIDAmJihwPSExKSx2PT09dm9pZCAwJiYodj0hMSkseT09PXZvaWQgMCYmKHk9ITEpO3ZhciBFPXRoaXMsUjtpZihFPWkuY2FsbCh0aGlzLG51bGwsbiwhYSx2b2lkIDAsZix2b2lkIDAsdm9pZCAwLHZvaWQgMCx2b2lkIDAsZCl8fHRoaXMsRS5yZW5kZXJQYXJ0aWNsZXM9ITAsRS5yZW5kZXJTcHJpdGVzPSExLEUuaWdub3JlQ2FtZXJhVmlld3BvcnQ9ITEsRS5vbkJlZm9yZUJpbmRPYnNlcnZhYmxlPW5ldyBPLEUub25BZnRlclVuYmluZE9ic2VydmFibGU9bmV3IE8sRS5vbkJlZm9yZVJlbmRlck9ic2VydmFibGU9bmV3IE8sRS5vbkFmdGVyUmVuZGVyT2JzZXJ2YWJsZT1uZXcgTyxFLm9uQ2xlYXJPYnNlcnZhYmxlPW5ldyBPLEUub25SZXNpemVPYnNlcnZhYmxlPW5ldyBPLEUuX2NsZWFyZWQ9ITEsRS5za2lwSW5pdGlhbENsZWFyPSExLEUuX2N1cnJlbnRSZWZyZXNoSWQ9LTEsRS5fcmVmcmVzaFJhdGU9MSxFLl9zYW1wbGVzPTEsRS5fY2FuUmVzY2FsZT0hMCxFLl9yZW5kZXJUYXJnZXQ9bnVsbCxFLmJvdW5kaW5nQm94UG9zaXRpb249Yi5aZXJvKCksbj1FLmdldFNjZW5lKCksIW4pcmV0dXJuIEU7dmFyIE09RS5nZXRTY2VuZSgpLmdldEVuZ2luZSgpO3JldHVybiBFLl9jb29yZGluYXRlc01vZGU9aWUuUFJPSkVDVElPTl9NT0RFLEUucmVuZGVyTGlzdD1uZXcgQXJyYXksRS5uYW1lPXQsRS5pc1JlbmRlclRhcmdldD0hMCxFLl9pbml0aWFsU2l6ZVBhcmFtZXRlcj1yLEUuX3JlbmRlclBhc3NJZHM9W10sRS5faXNDdWJlRGF0YT11LEUuX3Byb2Nlc3NTaXplUGFyYW1ldGVyKHIpLEUucmVuZGVyUGFzc0lkPUUuX3JlbmRlclBhc3NJZHNbMF0sRS5fcmVzaXplT2JzZXJ2ZXI9TS5vblJlc2l6ZU9ic2VydmFibGUuYWRkKGZ1bmN0aW9uKCl7fSksRS5fZ2VuZXJhdGVNaXBNYXBzPSEhYSxFLl9kb05vdENoYW5nZUFzcGVjdFJhdGlvPXMsRS5fcmVuZGVyaW5nTWFuYWdlcj1uZXcgQXIobiksRS5fcmVuZGVyaW5nTWFuYWdlci5fdXNlU2NlbmVBdXRvQ2xlYXJTZXR1cD0hMCxjfHwoRS5fcmVuZGVyVGFyZ2V0T3B0aW9ucz17Z2VuZXJhdGVNaXBNYXBzOmEsdHlwZTpvLGZvcm1hdDooUj1FLl9mb3JtYXQpIT09bnVsbCYmUiE9PXZvaWQgMD9SOnZvaWQgMCxzYW1wbGluZ01vZGU6RS5zYW1wbGluZ01vZGUsZ2VuZXJhdGVEZXB0aEJ1ZmZlcjpsLGdlbmVyYXRlU3RlbmNpbEJ1ZmZlcjpoLHNhbXBsZXM6ZyxjcmVhdGlvbkZsYWdzOl8sbm9Db2xvclRhcmdldDp2LHVzZVNSR0JCdWZmZXI6eX0sRS5zYW1wbGluZ01vZGU9PT1pZS5ORUFSRVNUX1NBTVBMSU5HTU9ERSYmKEUud3JhcFU9aWUuQ0xBTVBfQUREUkVTU01PREUsRS53cmFwVj1pZS5DTEFNUF9BRERSRVNTTU9ERSkscHx8KHU/KEUuX3JlbmRlclRhcmdldD1uLmdldEVuZ2luZSgpLmNyZWF0ZVJlbmRlclRhcmdldEN1YmVUZXh0dXJlKEUuZ2V0UmVuZGVyU2l6ZSgpLEUuX3JlbmRlclRhcmdldE9wdGlvbnMpLEUuY29vcmRpbmF0ZXNNb2RlPWllLklOVkNVQklDX01PREUsRS5fdGV4dHVyZU1hdHJpeD1JLklkZW50aXR5KCkpOkUuX3JlbmRlclRhcmdldD1uLmdldEVuZ2luZSgpLmNyZWF0ZVJlbmRlclRhcmdldFRleHR1cmUoRS5fc2l6ZSxFLl9yZW5kZXJUYXJnZXRPcHRpb25zKSxFLl90ZXh0dXJlPUUuX3JlbmRlclRhcmdldC50ZXh0dXJlLGchPT12b2lkIDAmJihFLnNhbXBsZXM9ZykpKSxFfXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInJlbmRlckxpc3QiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmVuZGVyTGlzdH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3JlbmRlckxpc3Q9dCx0aGlzLl9yZW5kZXJMaXN0JiZ0aGlzLl9ob29rQXJyYXkodGhpcy5fcmVuZGVyTGlzdCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuX2hvb2tBcnJheT1mdW5jdGlvbih0KXt2YXIgcj10aGlzLG49dC5wdXNoO3QucHVzaD1mdW5jdGlvbigpe2Zvcih2YXIgcyxvPVtdLHU9MDt1PGFyZ3VtZW50cy5sZW5ndGg7dSsrKW9bdV09YXJndW1lbnRzW3VdO3ZhciBmPXQubGVuZ3RoPT09MCxsPW4uYXBwbHkodCxvKTtyZXR1cm4gZiYmKChzPXIuZ2V0U2NlbmUoKSk9PT1udWxsfHxzPT09dm9pZCAwfHxzLm1lc2hlcy5mb3JFYWNoKGZ1bmN0aW9uKGgpe2guX21hcmtTdWJNZXNoZXNBc0xpZ2h0RGlydHkoKX0pKSxsfTt2YXIgYT10LnNwbGljZTt0LnNwbGljZT1mdW5jdGlvbihzLG8pe3ZhciB1LGY9YS5hcHBseSh0LFtzLG9dKTtyZXR1cm4gdC5sZW5ndGg9PT0wJiYoKHU9ci5nZXRTY2VuZSgpKT09PW51bGx8fHU9PT12b2lkIDB8fHUubWVzaGVzLmZvckVhY2goZnVuY3Rpb24obCl7bC5fbWFya1N1Yk1lc2hlc0FzTGlnaHREaXJ0eSgpfSkpLGZ9fSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInBvc3RQcm9jZXNzZXMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcG9zdFByb2Nlc3Nlc30sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsIl9wcmVQYXNzRW5hYmxlZCIse2dldDpmdW5jdGlvbigpe3JldHVybiEhdGhpcy5fcHJlUGFzc1JlbmRlclRhcmdldCYmdGhpcy5fcHJlUGFzc1JlbmRlclRhcmdldC5lbmFibGVkfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwib25BZnRlclVuYmluZCIse3NldDpmdW5jdGlvbih0KXt0aGlzLl9vbkFmdGVyVW5iaW5kT2JzZXJ2ZXImJnRoaXMub25BZnRlclVuYmluZE9ic2VydmFibGUucmVtb3ZlKHRoaXMuX29uQWZ0ZXJVbmJpbmRPYnNlcnZlciksdGhpcy5fb25BZnRlclVuYmluZE9ic2VydmVyPXRoaXMub25BZnRlclVuYmluZE9ic2VydmFibGUuYWRkKHQpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwib25CZWZvcmVSZW5kZXIiLHtzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fb25CZWZvcmVSZW5kZXJPYnNlcnZlciYmdGhpcy5vbkJlZm9yZVJlbmRlck9ic2VydmFibGUucmVtb3ZlKHRoaXMuX29uQmVmb3JlUmVuZGVyT2JzZXJ2ZXIpLHRoaXMuX29uQmVmb3JlUmVuZGVyT2JzZXJ2ZXI9dGhpcy5vbkJlZm9yZVJlbmRlck9ic2VydmFibGUuYWRkKHQpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwib25BZnRlclJlbmRlciIse3NldDpmdW5jdGlvbih0KXt0aGlzLl9vbkFmdGVyUmVuZGVyT2JzZXJ2ZXImJnRoaXMub25BZnRlclJlbmRlck9ic2VydmFibGUucmVtb3ZlKHRoaXMuX29uQWZ0ZXJSZW5kZXJPYnNlcnZlciksdGhpcy5fb25BZnRlclJlbmRlck9ic2VydmVyPXRoaXMub25BZnRlclJlbmRlck9ic2VydmFibGUuYWRkKHQpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwib25DbGVhciIse3NldDpmdW5jdGlvbih0KXt0aGlzLl9vbkNsZWFyT2JzZXJ2ZXImJnRoaXMub25DbGVhck9ic2VydmFibGUucmVtb3ZlKHRoaXMuX29uQ2xlYXJPYnNlcnZlciksdGhpcy5fb25DbGVhck9ic2VydmVyPXRoaXMub25DbGVhck9ic2VydmFibGUuYWRkKHQpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwicmVuZGVyUGFzc0lkcyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9yZW5kZXJQYXNzSWRzfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiY3VycmVudFJlZnJlc2hJZCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jdXJyZW50UmVmcmVzaElkfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLnNldE1hdGVyaWFsRm9yUmVuZGVyaW5nPWZ1bmN0aW9uKHQscil7dmFyIG47QXJyYXkuaXNBcnJheSh0KT9uPXQ6bj1bdF07Zm9yKHZhciBhPTA7YTxuLmxlbmd0aDsrK2EpZm9yKHZhciBzPTA7czx0aGlzLl9yZW5kZXJQYXNzSWRzLmxlbmd0aDsrK3MpblthXS5zZXRNYXRlcmlhbEZvclJlbmRlclBhc3ModGhpcy5fcmVuZGVyUGFzc0lkc1tzXSxyIT09dm9pZCAwP0FycmF5LmlzQXJyYXkocik/cltzXTpyOnZvaWQgMCl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwicmVuZGVyVGFyZ2V0T3B0aW9ucyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9yZW5kZXJUYXJnZXRPcHRpb25zfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwicmVuZGVyVGFyZ2V0Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JlbmRlclRhcmdldH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5fb25SYXRpb1Jlc2NhbGU9ZnVuY3Rpb24oKXt0aGlzLl9zaXplUmF0aW8mJnRoaXMucmVzaXplKHRoaXMuX2luaXRpYWxTaXplUGFyYW1ldGVyKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJib3VuZGluZ0JveFNpemUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYm91bmRpbmdCb3hTaXplfSxzZXQ6ZnVuY3Rpb24odCl7aWYoISh0aGlzLl9ib3VuZGluZ0JveFNpemUmJnRoaXMuX2JvdW5kaW5nQm94U2l6ZS5lcXVhbHModCkpKXt0aGlzLl9ib3VuZGluZ0JveFNpemU9dDt2YXIgcj10aGlzLmdldFNjZW5lKCk7ciYmci5tYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxKX19LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJkZXB0aFN0ZW5jaWxUZXh0dXJlIix7Z2V0OmZ1bmN0aW9uKCl7dmFyIHQscjtyZXR1cm4ocj0odD10aGlzLl9yZW5kZXJUYXJnZXQpPT09bnVsbHx8dD09PXZvaWQgMD92b2lkIDA6dC5fZGVwdGhTdGVuY2lsVGV4dHVyZSkhPT1udWxsJiZyIT09dm9pZCAwP3I6bnVsbH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5jcmVhdGVEZXB0aFN0ZW5jaWxUZXh0dXJlPWZ1bmN0aW9uKHQscixuLGEscyl7dmFyIG87dD09PXZvaWQgMCYmKHQ9MCkscj09PXZvaWQgMCYmKHI9ITApLG49PT12b2lkIDAmJihuPSExKSxhPT09dm9pZCAwJiYoYT0xKSxzPT09dm9pZCAwJiYocz0xNCksKG89dGhpcy5fcmVuZGVyVGFyZ2V0KT09PW51bGx8fG89PT12b2lkIDB8fG8uY3JlYXRlRGVwdGhTdGVuY2lsVGV4dHVyZSh0LHIsbixhLHMpfSxlLnByb3RvdHlwZS5fcmVsZWFzZVJlbmRlclBhc3NJZD1mdW5jdGlvbigpe2lmKHRoaXMuX3NjZW5lKWZvcih2YXIgdD10aGlzLl9zY2VuZS5nZXRFbmdpbmUoKSxyPTA7cjx0aGlzLl9yZW5kZXJQYXNzSWRzLmxlbmd0aDsrK3IpdC5yZWxlYXNlUmVuZGVyUGFzc0lkKHRoaXMuX3JlbmRlclBhc3NJZHNbcl0pO3RoaXMuX3JlbmRlclBhc3NJZHM9W119LGUucHJvdG90eXBlLl9jcmVhdGVSZW5kZXJQYXNzSWQ9ZnVuY3Rpb24oKXt0aGlzLl9yZWxlYXNlUmVuZGVyUGFzc0lkKCk7Zm9yKHZhciB0PXRoaXMuX3NjZW5lLmdldEVuZ2luZSgpLHI9dGhpcy5faXNDdWJlRGF0YT82OnRoaXMuZ2V0UmVuZGVyTGF5ZXJzKCl8fDEsbj0wO248cjsrK24pdGhpcy5fcmVuZGVyUGFzc0lkc1tuXT10LmNyZWF0ZVJlbmRlclBhc3NJZCgiUmVuZGVyVGFyZ2V0VGV4dHVyZSAtICIuY29uY2F0KHRoaXMubmFtZSwiIyIpLmNvbmNhdChuKSl9LGUucHJvdG90eXBlLl9wcm9jZXNzU2l6ZVBhcmFtZXRlcj1mdW5jdGlvbih0KXtpZih0LnJhdGlvKXt0aGlzLl9zaXplUmF0aW89dC5yYXRpbzt2YXIgcj10aGlzLl9nZXRFbmdpbmUoKTt0aGlzLl9zaXplPXt3aWR0aDp0aGlzLl9iZXN0UmVmbGVjdGlvblJlbmRlclRhcmdldERpbWVuc2lvbihyLmdldFJlbmRlcldpZHRoKCksdGhpcy5fc2l6ZVJhdGlvKSxoZWlnaHQ6dGhpcy5fYmVzdFJlZmxlY3Rpb25SZW5kZXJUYXJnZXREaW1lbnNpb24oci5nZXRSZW5kZXJIZWlnaHQoKSx0aGlzLl9zaXplUmF0aW8pfX1lbHNlIHRoaXMuX3NpemU9dDt0aGlzLl9jcmVhdGVSZW5kZXJQYXNzSWQoKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJzYW1wbGVzIix7Z2V0OmZ1bmN0aW9uKCl7dmFyIHQscjtyZXR1cm4ocj0odD10aGlzLl9yZW5kZXJUYXJnZXQpPT09bnVsbHx8dD09PXZvaWQgMD92b2lkIDA6dC5zYW1wbGVzKSE9PW51bGwmJnIhPT12b2lkIDA/cjp0aGlzLl9zYW1wbGVzfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fcmVuZGVyVGFyZ2V0JiYodGhpcy5fc2FtcGxlcz10aGlzLl9yZW5kZXJUYXJnZXQuc2V0U2FtcGxlcyh0KSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUucmVzZXRSZWZyZXNoQ291bnRlcj1mdW5jdGlvbigpe3RoaXMuX2N1cnJlbnRSZWZyZXNoSWQ9LTF9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwicmVmcmVzaFJhdGUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmVmcmVzaFJhdGV9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9yZWZyZXNoUmF0ZT10LHRoaXMucmVzZXRSZWZyZXNoQ291bnRlcigpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLmFkZFBvc3RQcm9jZXNzPWZ1bmN0aW9uKHQpe2lmKCF0aGlzLl9wb3N0UHJvY2Vzc01hbmFnZXIpe3ZhciByPXRoaXMuZ2V0U2NlbmUoKTtpZighcilyZXR1cm47dGhpcy5fcG9zdFByb2Nlc3NNYW5hZ2VyPW5ldyBNcihyKSx0aGlzLl9wb3N0UHJvY2Vzc2VzPW5ldyBBcnJheX10aGlzLl9wb3N0UHJvY2Vzc2VzLnB1c2godCksdGhpcy5fcG9zdFByb2Nlc3Nlc1swXS5hdXRvQ2xlYXI9ITF9LGUucHJvdG90eXBlLmNsZWFyUG9zdFByb2Nlc3Nlcz1mdW5jdGlvbih0KXtpZih0PT09dm9pZCAwJiYodD0hMSksISF0aGlzLl9wb3N0UHJvY2Vzc2VzKXtpZih0KWZvcih2YXIgcj0wLG49dGhpcy5fcG9zdFByb2Nlc3NlcztyPG4ubGVuZ3RoO3IrKyl7dmFyIGE9bltyXTthLmRpc3Bvc2UoKX10aGlzLl9wb3N0UHJvY2Vzc2VzPVtdfX0sZS5wcm90b3R5cGUucmVtb3ZlUG9zdFByb2Nlc3M9ZnVuY3Rpb24odCl7aWYoISF0aGlzLl9wb3N0UHJvY2Vzc2VzKXt2YXIgcj10aGlzLl9wb3N0UHJvY2Vzc2VzLmluZGV4T2YodCk7ciE9PS0xJiYodGhpcy5fcG9zdFByb2Nlc3Nlcy5zcGxpY2UociwxKSx0aGlzLl9wb3N0UHJvY2Vzc2VzLmxlbmd0aD4wJiYodGhpcy5fcG9zdFByb2Nlc3Nlc1swXS5hdXRvQ2xlYXI9ITEpKX19LGUucHJvdG90eXBlLl9zaG91bGRSZW5kZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY3VycmVudFJlZnJlc2hJZD09PS0xPyh0aGlzLl9jdXJyZW50UmVmcmVzaElkPTEsITApOnRoaXMucmVmcmVzaFJhdGU9PT10aGlzLl9jdXJyZW50UmVmcmVzaElkPyh0aGlzLl9jdXJyZW50UmVmcmVzaElkPTEsITApOih0aGlzLl9jdXJyZW50UmVmcmVzaElkKyssITEpfSxlLnByb3RvdHlwZS5nZXRSZW5kZXJTaXplPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0UmVuZGVyV2lkdGgoKX0sZS5wcm90b3R5cGUuZ2V0UmVuZGVyV2lkdGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2l6ZS53aWR0aD90aGlzLl9zaXplLndpZHRoOnRoaXMuX3NpemV9LGUucHJvdG90eXBlLmdldFJlbmRlckhlaWdodD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zaXplLndpZHRoP3RoaXMuX3NpemUuaGVpZ2h0OnRoaXMuX3NpemV9LGUucHJvdG90eXBlLmdldFJlbmRlckxheWVycz1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX3NpemUubGF5ZXJzO3JldHVybiB0fHwwfSxlLnByb3RvdHlwZS5kaXNhYmxlUmVzY2FsaW5nPWZ1bmN0aW9uKCl7dGhpcy5fY2FuUmVzY2FsZT0hMX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJjYW5SZXNjYWxlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NhblJlc2NhbGV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuc2NhbGU9ZnVuY3Rpb24odCl7dmFyIHI9TWF0aC5tYXgoMSx0aGlzLmdldFJlbmRlclNpemUoKSp0KTt0aGlzLnJlc2l6ZShyKX0sZS5wcm90b3R5cGUuZ2V0UmVmbGVjdGlvblRleHR1cmVNYXRyaXg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc0N1YmU/dGhpcy5fdGV4dHVyZU1hdHJpeDppLnByb3RvdHlwZS5nZXRSZWZsZWN0aW9uVGV4dHVyZU1hdHJpeC5jYWxsKHRoaXMpfSxlLnByb3RvdHlwZS5yZXNpemU9ZnVuY3Rpb24odCl7dmFyIHIsbj10aGlzLmlzQ3ViZTsocj10aGlzLl9yZW5kZXJUYXJnZXQpPT09bnVsbHx8cj09PXZvaWQgMHx8ci5kaXNwb3NlKCksdGhpcy5fcmVuZGVyVGFyZ2V0PW51bGw7dmFyIGE9dGhpcy5nZXRTY2VuZSgpOyFhfHwodGhpcy5fcHJvY2Vzc1NpemVQYXJhbWV0ZXIodCksbj90aGlzLl9yZW5kZXJUYXJnZXQ9YS5nZXRFbmdpbmUoKS5jcmVhdGVSZW5kZXJUYXJnZXRDdWJlVGV4dHVyZSh0aGlzLmdldFJlbmRlclNpemUoKSx0aGlzLl9yZW5kZXJUYXJnZXRPcHRpb25zKTp0aGlzLl9yZW5kZXJUYXJnZXQ9YS5nZXRFbmdpbmUoKS5jcmVhdGVSZW5kZXJUYXJnZXRUZXh0dXJlKHRoaXMuX3NpemUsdGhpcy5fcmVuZGVyVGFyZ2V0T3B0aW9ucyksdGhpcy5fdGV4dHVyZT10aGlzLl9yZW5kZXJUYXJnZXQudGV4dHVyZSx0aGlzLl9yZW5kZXJUYXJnZXRPcHRpb25zLnNhbXBsZXMhPT12b2lkIDAmJih0aGlzLnNhbXBsZXM9dGhpcy5fcmVuZGVyVGFyZ2V0T3B0aW9ucy5zYW1wbGVzKSx0aGlzLm9uUmVzaXplT2JzZXJ2YWJsZS5oYXNPYnNlcnZlcnMoKSYmdGhpcy5vblJlc2l6ZU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpKX0sZS5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKHQscil7dD09PXZvaWQgMCYmKHQ9ITEpLHI9PT12b2lkIDAmJihyPSExKSx0aGlzLl9yZW5kZXIodCxyKX0sZS5wcm90b3R5cGUuaXNSZWFkeUZvclJlbmRlcmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9yZW5kZXIoITEsITEsITApfSxlLnByb3RvdHlwZS5fcmVuZGVyPWZ1bmN0aW9uKHQscixuKXt2YXIgYTt0PT09dm9pZCAwJiYodD0hMSkscj09PXZvaWQgMCYmKHI9ITEpLG49PT12b2lkIDAmJihuPSExKTt2YXIgcz10aGlzLmdldFNjZW5lKCk7aWYoIXMpcmV0dXJuIG47dmFyIG89cy5nZXRFbmdpbmUoKTtpZih0aGlzLnVzZUNhbWVyYVBvc3RQcm9jZXNzZXMhPT12b2lkIDAmJih0PXRoaXMudXNlQ2FtZXJhUG9zdFByb2Nlc3NlcyksdGhpcy5fd2FpdGluZ1JlbmRlckxpc3Qpe3RoaXMucmVuZGVyTGlzdD1bXTtmb3IodmFyIHU9MDt1PHRoaXMuX3dhaXRpbmdSZW5kZXJMaXN0Lmxlbmd0aDt1Kyspe3ZhciBmPXRoaXMuX3dhaXRpbmdSZW5kZXJMaXN0W3VdLGw9cy5nZXRNZXNoQnlJZChmKTtsJiZ0aGlzLnJlbmRlckxpc3QucHVzaChsKX10aGlzLl93YWl0aW5nUmVuZGVyTGlzdD12b2lkIDB9aWYodGhpcy5yZW5kZXJMaXN0UHJlZGljYXRlKXt0aGlzLnJlbmRlckxpc3Q/dGhpcy5yZW5kZXJMaXN0Lmxlbmd0aD0wOnRoaXMucmVuZGVyTGlzdD1bXTt2YXIgaD10aGlzLmdldFNjZW5lKCk7aWYoIWgpcmV0dXJuIG47Zm9yKHZhciBjPWgubWVzaGVzLHU9MDt1PGMubGVuZ3RoO3UrKyl7dmFyIGw9Y1t1XTt0aGlzLnJlbmRlckxpc3RQcmVkaWNhdGUobCkmJnRoaXMucmVuZGVyTGlzdC5wdXNoKGwpfX12YXIgZD1vLmN1cnJlbnRSZW5kZXJQYXNzSWQ7dGhpcy5vbkJlZm9yZUJpbmRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKTt2YXIgcD0oYT10aGlzLmFjdGl2ZUNhbWVyYSkhPT1udWxsJiZhIT09dm9pZCAwP2E6cy5hY3RpdmVDYW1lcmE7cCYmKHAhPT1zLmFjdGl2ZUNhbWVyYSYmcy5zZXRUcmFuc2Zvcm1NYXRyaXgocC5nZXRWaWV3TWF0cml4KCkscC5nZXRQcm9qZWN0aW9uTWF0cml4KCEwKSksby5zZXRWaWV3cG9ydChwLnZpZXdwb3J0LHRoaXMuZ2V0UmVuZGVyV2lkdGgoKSx0aGlzLmdldFJlbmRlckhlaWdodCgpKSksdGhpcy5fZGVmYXVsdFJlbmRlckxpc3RQcmVwYXJlZD0hMTt2YXIgZz1uO2lmKG4pe3MuZ2V0Vmlld01hdHJpeCgpfHxzLnVwZGF0ZVRyYW5zZm9ybU1hdHJpeCgpO2Zvcih2YXIgeT10aGlzLmlzMkRBcnJheT90aGlzLmdldFJlbmRlckxheWVycygpOnRoaXMuaXNDdWJlPzY6MSxfPTA7Xzx5JiZnO18rKyl7dmFyIEU9bnVsbCxSPXRoaXMucmVuZGVyTGlzdD90aGlzLnJlbmRlckxpc3Q6cy5nZXRBY3RpdmVNZXNoZXMoKS5kYXRhLE09dGhpcy5yZW5kZXJMaXN0P3RoaXMucmVuZGVyTGlzdC5sZW5ndGg6cy5nZXRBY3RpdmVNZXNoZXMoKS5sZW5ndGg7by5jdXJyZW50UmVuZGVyUGFzc0lkPXRoaXMuX3JlbmRlclBhc3NJZHNbX10sdGhpcy5vbkJlZm9yZVJlbmRlck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKF8pLHRoaXMuZ2V0Q3VzdG9tUmVuZGVyTGlzdCYmKEU9dGhpcy5nZXRDdXN0b21SZW5kZXJMaXN0KF8sUixNKSksRXx8KEU9UiksdGhpcy5fZG9Ob3RDaGFuZ2VBc3BlY3RSYXRpb3x8cy51cGRhdGVUcmFuc2Zvcm1NYXRyaXgoITApO2Zvcih2YXIgQz0wO0M8RS5sZW5ndGgmJmc7KytDKXt2YXIgbD1FW0NdO2lmKCEoIWwuaXNFbmFibGVkKCl8fGwuaXNCbG9ja2VkfHwhbC5pc1Zpc2libGV8fCFsLnN1Yk1lc2hlcykpe2lmKHRoaXMuY3VzdG9tSXNSZWFkeUZ1bmN0aW9uKXtpZighdGhpcy5jdXN0b21Jc1JlYWR5RnVuY3Rpb24obCx0aGlzLnJlZnJlc2hSYXRlKSl7Zz0hMTticmVha319ZWxzZSBpZighbC5pc1JlYWR5KCEwKSl7Zz0hMTticmVha319fXRoaXMub25BZnRlclJlbmRlck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKF8pfX1lbHNlIGlmKHRoaXMuaXMyREFycmF5KWZvcih2YXIgXz0wO188dGhpcy5nZXRSZW5kZXJMYXllcnMoKTtfKyspdGhpcy5fcmVuZGVyVG9UYXJnZXQoMCx0LHIsXyxwKSxzLmluY3JlbWVudFJlbmRlcklkKCkscy5yZXNldENhY2hlZE1hdGVyaWFsKCk7ZWxzZSBpZih0aGlzLmlzQ3ViZSlmb3IodmFyIHY9MDt2PDY7disrKXRoaXMuX3JlbmRlclRvVGFyZ2V0KHYsdCxyLHZvaWQgMCxwKSxzLmluY3JlbWVudFJlbmRlcklkKCkscy5yZXNldENhY2hlZE1hdGVyaWFsKCk7ZWxzZSB0aGlzLl9yZW5kZXJUb1RhcmdldCgwLHQscix2b2lkIDAscCk7cmV0dXJuIHRoaXMub25BZnRlclVuYmluZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpLG8uY3VycmVudFJlbmRlclBhc3NJZD1kLHMuYWN0aXZlQ2FtZXJhJiYoKHMuZ2V0RW5naW5lKCkuc2NlbmVzLmxlbmd0aD4xfHx0aGlzLmFjdGl2ZUNhbWVyYSYmdGhpcy5hY3RpdmVDYW1lcmEhPT1zLmFjdGl2ZUNhbWVyYSkmJnMuc2V0VHJhbnNmb3JtTWF0cml4KHMuYWN0aXZlQ2FtZXJhLmdldFZpZXdNYXRyaXgoKSxzLmFjdGl2ZUNhbWVyYS5nZXRQcm9qZWN0aW9uTWF0cml4KCEwKSksby5zZXRWaWV3cG9ydChzLmFjdGl2ZUNhbWVyYS52aWV3cG9ydCkpLHMucmVzZXRDYWNoZWRNYXRlcmlhbCgpLGd9LGUucHJvdG90eXBlLl9iZXN0UmVmbGVjdGlvblJlbmRlclRhcmdldERpbWVuc2lvbj1mdW5jdGlvbih0LHIpe3ZhciBuPTEyOCxhPXQqcixzPWNlLk5lYXJlc3RQT1QoYStuKm4vKG4rYSkpO3JldHVybiBNYXRoLm1pbihjZS5GbG9vclBPVCh0KSxzKX0sZS5wcm90b3R5cGUuX3ByZXBhcmVSZW5kZXJpbmdNYW5hZ2VyPWZ1bmN0aW9uKHQscixuLGEpe3ZhciBzPXRoaXMuZ2V0U2NlbmUoKTtpZighIXMpe3RoaXMuX3JlbmRlcmluZ01hbmFnZXIucmVzZXQoKTtmb3IodmFyIG89cy5nZXRSZW5kZXJJZCgpLHU9MDt1PHI7dSsrKXt2YXIgZj10W3VdO2lmKGYmJiFmLmlzQmxvY2tlZCl7aWYodGhpcy5jdXN0b21Jc1JlYWR5RnVuY3Rpb24pe2lmKCF0aGlzLmN1c3RvbUlzUmVhZHlGdW5jdGlvbihmLHRoaXMucmVmcmVzaFJhdGUpKXt0aGlzLnJlc2V0UmVmcmVzaENvdW50ZXIoKTtjb250aW51ZX19ZWxzZSBpZighZi5pc1JlYWR5KHRoaXMucmVmcmVzaFJhdGU9PT0wKSl7dGhpcy5yZXNldFJlZnJlc2hDb3VudGVyKCk7Y29udGludWV9aWYoIWYuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2N1cnJlbnRMT0RJc1VwVG9EYXRlJiZzLmFjdGl2ZUNhbWVyYSYmKGYuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2N1cnJlbnRMT0Q9cy5jdXN0b21MT0RTZWxlY3Rvcj9zLmN1c3RvbUxPRFNlbGVjdG9yKGYsdGhpcy5hY3RpdmVDYW1lcmF8fHMuYWN0aXZlQ2FtZXJhKTpmLmdldExPRCh0aGlzLmFjdGl2ZUNhbWVyYXx8cy5hY3RpdmVDYW1lcmEpLGYuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2N1cnJlbnRMT0RJc1VwVG9EYXRlPSEwKSwhZi5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fY3VycmVudExPRCljb250aW51ZTt2YXIgbD1mLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9jdXJyZW50TE9EO2wuX3ByZUFjdGl2YXRlRm9ySW50ZXJtZWRpYXRlUmVuZGVyaW5nKG8pO3ZhciBoPXZvaWQgMDtpZihhJiZuP2g9KGYubGF5ZXJNYXNrJm4ubGF5ZXJNYXNrKT09PTA6aD0hMSxmLmlzRW5hYmxlZCgpJiZmLmlzVmlzaWJsZSYmZi5zdWJNZXNoZXMmJiFoJiYobCE9PWYmJmwuX2FjdGl2YXRlKG8sITApLGYuX2FjdGl2YXRlKG8sITApJiZmLnN1Yk1lc2hlcy5sZW5ndGgpKXtmLmlzQW5JbnN0YW5jZT9mLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9hY3RBc1JlZ3VsYXJNZXNoJiYobD1mKTpsLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9vbmx5Rm9ySW5zdGFuY2VzSW50ZXJtZWRpYXRlPSExLGwuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2lzQWN0aXZlSW50ZXJtZWRpYXRlPSEwO2Zvcih2YXIgYz0wO2M8bC5zdWJNZXNoZXMubGVuZ3RoO2MrKyl7dmFyIGQ9bC5zdWJNZXNoZXNbY107dGhpcy5fcmVuZGVyaW5nTWFuYWdlci5kaXNwYXRjaChkLGwpfX19fWZvcih2YXIgcD0wO3A8cy5wYXJ0aWNsZVN5c3RlbXMubGVuZ3RoO3ArKyl7dmFyIGc9cy5wYXJ0aWNsZVN5c3RlbXNbcF0sXz1nLmVtaXR0ZXI7IWcuaXNTdGFydGVkKCl8fCFffHwhXy5wb3NpdGlvbnx8IV8uaXNFbmFibGVkKCl8fHQuaW5kZXhPZihfKT49MCYmdGhpcy5fcmVuZGVyaW5nTWFuYWdlci5kaXNwYXRjaFBhcnRpY2xlcyhnKX19fSxlLnByb3RvdHlwZS5fYmluZEZyYW1lQnVmZmVyPWZ1bmN0aW9uKHQscil7dD09PXZvaWQgMCYmKHQ9MCkscj09PXZvaWQgMCYmKHI9MCk7dmFyIG49dGhpcy5nZXRTY2VuZSgpO2lmKCEhbil7dmFyIGE9bi5nZXRFbmdpbmUoKTt0aGlzLl9yZW5kZXJUYXJnZXQmJmEuYmluZEZyYW1lYnVmZmVyKHRoaXMuX3JlbmRlclRhcmdldCx0aGlzLmlzQ3ViZT90OnZvaWQgMCx2b2lkIDAsdm9pZCAwLHRoaXMuaWdub3JlQ2FtZXJhVmlld3BvcnQsMCxyKX19LGUucHJvdG90eXBlLl91bmJpbmRGcmFtZUJ1ZmZlcj1mdW5jdGlvbih0LHIpe3ZhciBuPXRoaXM7IXRoaXMuX3JlbmRlclRhcmdldHx8dC51bkJpbmRGcmFtZWJ1ZmZlcih0aGlzLl9yZW5kZXJUYXJnZXQsdGhpcy5pc0N1YmUsZnVuY3Rpb24oKXtuLm9uQWZ0ZXJSZW5kZXJPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhyKX0pfSxlLnByb3RvdHlwZS5fcHJlcGFyZUZyYW1lPWZ1bmN0aW9uKHQscixuLGEpe3RoaXMuX3Bvc3RQcm9jZXNzTWFuYWdlcj90aGlzLl9wcmVQYXNzRW5hYmxlZHx8dGhpcy5fcG9zdFByb2Nlc3NNYW5hZ2VyLl9wcmVwYXJlRnJhbWUodGhpcy5fdGV4dHVyZSx0aGlzLl9wb3N0UHJvY2Vzc2VzKTooIWF8fCF0LnBvc3RQcm9jZXNzTWFuYWdlci5fcHJlcGFyZUZyYW1lKHRoaXMuX3RleHR1cmUpKSYmdGhpcy5fYmluZEZyYW1lQnVmZmVyKHIsbil9LGUucHJvdG90eXBlLl9yZW5kZXJUb1RhcmdldD1mdW5jdGlvbih0LHIsbixhLHMpe3ZhciBvLHUsZixsLGgsYzthPT09dm9pZCAwJiYoYT0wKSxzPT09dm9pZCAwJiYocz1udWxsKTt2YXIgZD10aGlzLmdldFNjZW5lKCk7aWYoISFkKXt2YXIgcD1kLmdldEVuZ2luZSgpOyhvPXAuX2RlYnVnUHVzaEdyb3VwKT09PW51bGx8fG89PT12b2lkIDB8fG8uY2FsbChwLCJyZW5kZXIgdG8gZmFjZSAjIi5jb25jYXQodCwiIGxheWVyICMiKS5jb25jYXQoYSksMSksdGhpcy5fcHJlcGFyZUZyYW1lKGQsdCxhLHIpLHRoaXMuaXMyREFycmF5PyhwLmN1cnJlbnRSZW5kZXJQYXNzSWQ9dGhpcy5fcmVuZGVyUGFzc0lkc1thXSx0aGlzLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoYSkpOihwLmN1cnJlbnRSZW5kZXJQYXNzSWQ9dGhpcy5fcmVuZGVyUGFzc0lkc1t0XSx0aGlzLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModCkpO3ZhciBnPXAuc25hcHNob3RSZW5kZXJpbmcmJnAuc25hcHNob3RSZW5kZXJpbmdNb2RlPT09MTtpZihnKXRoaXMub25DbGVhck9ic2VydmFibGUuaGFzT2JzZXJ2ZXJzKCk/dGhpcy5vbkNsZWFyT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMocCk6dGhpcy5za2lwSW5pdGlhbENsZWFyfHxwLmNsZWFyKHRoaXMuY2xlYXJDb2xvcnx8ZC5jbGVhckNvbG9yLCEwLCEwLCEwKTtlbHNle3ZhciBfPW51bGwsdj10aGlzLnJlbmRlckxpc3Q/dGhpcy5yZW5kZXJMaXN0OmQuZ2V0QWN0aXZlTWVzaGVzKCkuZGF0YSx5PXRoaXMucmVuZGVyTGlzdD90aGlzLnJlbmRlckxpc3QubGVuZ3RoOmQuZ2V0QWN0aXZlTWVzaGVzKCkubGVuZ3RoO3RoaXMuZ2V0Q3VzdG9tUmVuZGVyTGlzdCYmKF89dGhpcy5nZXRDdXN0b21SZW5kZXJMaXN0KHRoaXMuaXMyREFycmF5P2E6dCx2LHkpKSxfP3RoaXMuX3ByZXBhcmVSZW5kZXJpbmdNYW5hZ2VyKF8sXy5sZW5ndGgscywhMSk6KHRoaXMuX2RlZmF1bHRSZW5kZXJMaXN0UHJlcGFyZWR8fCh0aGlzLl9wcmVwYXJlUmVuZGVyaW5nTWFuYWdlcih2LHkscywhdGhpcy5yZW5kZXJMaXN0KSx0aGlzLl9kZWZhdWx0UmVuZGVyTGlzdFByZXBhcmVkPSEwKSxfPXYpO2Zvcih2YXIgRT0wLFI9ZC5fYmVmb3JlUmVuZGVyVGFyZ2V0Q2xlYXJTdGFnZTtFPFIubGVuZ3RoO0UrKyl7dmFyIE09UltFXTtNLmFjdGlvbih0aGlzLHQsYSl9dGhpcy5vbkNsZWFyT2JzZXJ2YWJsZS5oYXNPYnNlcnZlcnMoKT90aGlzLm9uQ2xlYXJPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhwKTp0aGlzLnNraXBJbml0aWFsQ2xlYXJ8fHAuY2xlYXIodGhpcy5jbGVhckNvbG9yfHxkLmNsZWFyQ29sb3IsITAsITAsITApLHRoaXMuX2RvTm90Q2hhbmdlQXNwZWN0UmF0aW98fGQudXBkYXRlVHJhbnNmb3JtTWF0cml4KCEwKTtmb3IodmFyIEM9MCxBPWQuX2JlZm9yZVJlbmRlclRhcmdldERyYXdTdGFnZTtDPEEubGVuZ3RoO0MrKyl7dmFyIE09QVtDXTtNLmFjdGlvbih0aGlzLHQsYSl9dGhpcy5fcmVuZGVyaW5nTWFuYWdlci5yZW5kZXIodGhpcy5jdXN0b21SZW5kZXJGdW5jdGlvbixfLHRoaXMucmVuZGVyUGFydGljbGVzLHRoaXMucmVuZGVyU3ByaXRlcyk7Zm9yKHZhciBTPTAsdz1kLl9hZnRlclJlbmRlclRhcmdldERyYXdTdGFnZTtTPHcubGVuZ3RoO1MrKyl7dmFyIE09d1tTXTtNLmFjdGlvbih0aGlzLHQsYSl9dmFyIEY9KGY9KHU9dGhpcy5fdGV4dHVyZSk9PT1udWxsfHx1PT09dm9pZCAwP3ZvaWQgMDp1LmdlbmVyYXRlTWlwTWFwcykhPT1udWxsJiZmIT09dm9pZCAwP2Y6ITE7dGhpcy5fdGV4dHVyZSYmKHRoaXMuX3RleHR1cmUuZ2VuZXJhdGVNaXBNYXBzPSExKSx0aGlzLl9wb3N0UHJvY2Vzc01hbmFnZXI/dGhpcy5fcG9zdFByb2Nlc3NNYW5hZ2VyLl9maW5hbGl6ZUZyYW1lKCExLChsPXRoaXMuX3JlbmRlclRhcmdldCkhPT1udWxsJiZsIT09dm9pZCAwP2w6dm9pZCAwLHQsdGhpcy5fcG9zdFByb2Nlc3Nlcyx0aGlzLmlnbm9yZUNhbWVyYVZpZXdwb3J0KTpyJiZkLnBvc3RQcm9jZXNzTWFuYWdlci5fZmluYWxpemVGcmFtZSghMSwoaD10aGlzLl9yZW5kZXJUYXJnZXQpIT09bnVsbCYmaCE9PXZvaWQgMD9oOnZvaWQgMCx0KSx0aGlzLl90ZXh0dXJlJiYodGhpcy5fdGV4dHVyZS5nZW5lcmF0ZU1pcE1hcHM9RiksdGhpcy5fZG9Ob3RDaGFuZ2VBc3BlY3RSYXRpb3x8ZC51cGRhdGVUcmFuc2Zvcm1NYXRyaXgoITApLG4mJl9lLkR1bXBGcmFtZWJ1ZmZlcih0aGlzLmdldFJlbmRlcldpZHRoKCksdGhpcy5nZXRSZW5kZXJIZWlnaHQoKSxwKX10aGlzLl91bmJpbmRGcmFtZUJ1ZmZlcihwLHQpLHRoaXMuX3RleHR1cmUmJnRoaXMuaXNDdWJlJiZ0PT09NSYmcC5nZW5lcmF0ZU1pcE1hcHNGb3JDdWJlbWFwKHRoaXMuX3RleHR1cmUpLChjPXAuX2RlYnVnUG9wR3JvdXApPT09bnVsbHx8Yz09PXZvaWQgMHx8Yy5jYWxsKHAsMSl9fSxlLnByb3RvdHlwZS5zZXRSZW5kZXJpbmdPcmRlcj1mdW5jdGlvbih0LHIsbixhKXtyPT09dm9pZCAwJiYocj1udWxsKSxuPT09dm9pZCAwJiYobj1udWxsKSxhPT09dm9pZCAwJiYoYT1udWxsKSx0aGlzLl9yZW5kZXJpbmdNYW5hZ2VyLnNldFJlbmRlcmluZ09yZGVyKHQscixuLGEpfSxlLnByb3RvdHlwZS5zZXRSZW5kZXJpbmdBdXRvQ2xlYXJEZXB0aFN0ZW5jaWw9ZnVuY3Rpb24odCxyKXt0aGlzLl9yZW5kZXJpbmdNYW5hZ2VyLnNldFJlbmRlcmluZ0F1dG9DbGVhckRlcHRoU3RlbmNpbCh0LHIpLHRoaXMuX3JlbmRlcmluZ01hbmFnZXIuX3VzZVNjZW5lQXV0b0NsZWFyU2V0dXA9ITF9LGUucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nZXRTaXplKCkscj1uZXcgZSh0aGlzLm5hbWUsdCx0aGlzLmdldFNjZW5lKCksdGhpcy5fcmVuZGVyVGFyZ2V0T3B0aW9ucy5nZW5lcmF0ZU1pcE1hcHMsdGhpcy5fZG9Ob3RDaGFuZ2VBc3BlY3RSYXRpbyx0aGlzLl9yZW5kZXJUYXJnZXRPcHRpb25zLnR5cGUsdGhpcy5pc0N1YmUsdGhpcy5fcmVuZGVyVGFyZ2V0T3B0aW9ucy5zYW1wbGluZ01vZGUsdGhpcy5fcmVuZGVyVGFyZ2V0T3B0aW9ucy5nZW5lcmF0ZURlcHRoQnVmZmVyLHRoaXMuX3JlbmRlclRhcmdldE9wdGlvbnMuZ2VuZXJhdGVTdGVuY2lsQnVmZmVyLHZvaWQgMCx0aGlzLl9yZW5kZXJUYXJnZXRPcHRpb25zLmZvcm1hdCx2b2lkIDAsdGhpcy5fcmVuZGVyVGFyZ2V0T3B0aW9ucy5zYW1wbGVzKTtyZXR1cm4gci5oYXNBbHBoYT10aGlzLmhhc0FscGhhLHIubGV2ZWw9dGhpcy5sZXZlbCxyLmNvb3JkaW5hdGVzTW9kZT10aGlzLmNvb3JkaW5hdGVzTW9kZSx0aGlzLnJlbmRlckxpc3QmJihyLnJlbmRlckxpc3Q9dGhpcy5yZW5kZXJMaXN0LnNsaWNlKDApKSxyfSxlLnByb3RvdHlwZS5zZXJpYWxpemU9ZnVuY3Rpb24oKXtpZighdGhpcy5uYW1lKXJldHVybiBudWxsO3ZhciB0PWkucHJvdG90eXBlLnNlcmlhbGl6ZS5jYWxsKHRoaXMpO2lmKHQucmVuZGVyVGFyZ2V0U2l6ZT10aGlzLmdldFJlbmRlclNpemUoKSx0LnJlbmRlckxpc3Q9W10sdGhpcy5yZW5kZXJMaXN0KWZvcih2YXIgcj0wO3I8dGhpcy5yZW5kZXJMaXN0Lmxlbmd0aDtyKyspdC5yZW5kZXJMaXN0LnB1c2godGhpcy5yZW5kZXJMaXN0W3JdLmlkKTtyZXR1cm4gdH0sZS5wcm90b3R5cGUuZGlzcG9zZUZyYW1lYnVmZmVyT2JqZWN0cz1mdW5jdGlvbigpe3ZhciB0Oyh0PXRoaXMuX3JlbmRlclRhcmdldCk9PT1udWxsfHx0PT09dm9pZCAwfHx0LmRpc3Bvc2UoITApfSxlLnByb3RvdHlwZS5yZWxlYXNlSW50ZXJuYWxUZXh0dXJlPWZ1bmN0aW9uKCl7dmFyIHQ7KHQ9dGhpcy5fcmVuZGVyVGFyZ2V0KT09PW51bGx8fHQ9PT12b2lkIDB8fHQucmVsZWFzZVRleHR1cmVzKCksdGhpcy5fdGV4dHVyZT1udWxsfSxlLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7dmFyIHQ7dGhpcy5vblJlc2l6ZU9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQ2xlYXJPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkFmdGVyUmVuZGVyT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25BZnRlclVuYmluZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQmVmb3JlQmluZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMuX3Bvc3RQcm9jZXNzTWFuYWdlciYmKHRoaXMuX3Bvc3RQcm9jZXNzTWFuYWdlci5kaXNwb3NlKCksdGhpcy5fcG9zdFByb2Nlc3NNYW5hZ2VyPW51bGwpLHRoaXMuX3ByZVBhc3NSZW5kZXJUYXJnZXQmJnRoaXMuX3ByZVBhc3NSZW5kZXJUYXJnZXQuZGlzcG9zZSgpLHRoaXMuX3JlbGVhc2VSZW5kZXJQYXNzSWQoKSx0aGlzLmNsZWFyUG9zdFByb2Nlc3NlcyghMCksdGhpcy5fcmVzaXplT2JzZXJ2ZXImJih0aGlzLmdldFNjZW5lKCkuZ2V0RW5naW5lKCkub25SZXNpemVPYnNlcnZhYmxlLnJlbW92ZSh0aGlzLl9yZXNpemVPYnNlcnZlciksdGhpcy5fcmVzaXplT2JzZXJ2ZXI9bnVsbCksdGhpcy5yZW5kZXJMaXN0PW51bGw7dmFyIHI9dGhpcy5nZXRTY2VuZSgpO2lmKCEhcil7dmFyIG49ci5jdXN0b21SZW5kZXJUYXJnZXRzLmluZGV4T2YodGhpcyk7bj49MCYmci5jdXN0b21SZW5kZXJUYXJnZXRzLnNwbGljZShuLDEpO2Zvcih2YXIgYT0wLHM9ci5jYW1lcmFzO2E8cy5sZW5ndGg7YSsrKXt2YXIgbz1zW2FdO249by5jdXN0b21SZW5kZXJUYXJnZXRzLmluZGV4T2YodGhpcyksbj49MCYmby5jdXN0b21SZW5kZXJUYXJnZXRzLnNwbGljZShuLDEpfSh0PXRoaXMuX3JlbmRlclRhcmdldCk9PT1udWxsfHx0PT09dm9pZCAwfHx0LmRpc3Bvc2UoKSx0aGlzLl9yZW5kZXJUYXJnZXQ9bnVsbCx0aGlzLl90ZXh0dXJlPW51bGwsaS5wcm90b3R5cGUuZGlzcG9zZS5jYWxsKHRoaXMpfX0sZS5wcm90b3R5cGUuX3JlYnVpbGQ9ZnVuY3Rpb24oKXt0aGlzLnJlZnJlc2hSYXRlPT09ZS5SRUZSRVNIUkFURV9SRU5ERVJfT05DRSYmKHRoaXMucmVmcmVzaFJhdGU9ZS5SRUZSRVNIUkFURV9SRU5ERVJfT05DRSksdGhpcy5fcG9zdFByb2Nlc3NNYW5hZ2VyJiZ0aGlzLl9wb3N0UHJvY2Vzc01hbmFnZXIuX3JlYnVpbGQoKX0sZS5wcm90b3R5cGUuZnJlZVJlbmRlcmluZ0dyb3Vwcz1mdW5jdGlvbigpe3RoaXMuX3JlbmRlcmluZ01hbmFnZXImJnRoaXMuX3JlbmRlcmluZ01hbmFnZXIuZnJlZVJlbmRlcmluZ0dyb3VwcygpfSxlLnByb3RvdHlwZS5nZXRWaWV3Q291bnQ9ZnVuY3Rpb24oKXtyZXR1cm4gMX0sZS5SRUZSRVNIUkFURV9SRU5ERVJfT05DRT0wLGUuUkVGUkVTSFJBVEVfUkVOREVSX09ORVZFUllGUkFNRT0xLGUuUkVGUkVTSFJBVEVfUkVOREVSX09ORVZFUllUV09GUkFNRVM9MixlfShpZSk7aWUuX0NyZWF0ZVJlbmRlclRhcmdldFRleHR1cmU9ZnVuY3Rpb24oaSxlLHQscixuKXtyZXR1cm4gbmV3IGt0KGksZSx0LHIpfTt2YXIgWWE9InBvc3Rwcm9jZXNzVmVydGV4U2hhZGVyIixaYT1gYXR0cmlidXRlIHZlYzIgcG9zaXRpb247CnVuaWZvcm0gdmVjMiBzY2FsZTsKdmFyeWluZyB2ZWMyIHZVVjsKY29uc3QgdmVjMiBtYWRkPXZlYzIoMC41LDAuNSk7CiNkZWZpbmUgQ1VTVE9NX1ZFUlRFWF9ERUZJTklUSU9OUwp2b2lkIG1haW4odm9pZCkgewojZGVmaW5lIENVU1RPTV9WRVJURVhfTUFJTl9CRUdJTgp2VVY9KHBvc2l0aW9uKm1hZGQrbWFkZCkqc2NhbGU7CmdsX1Bvc2l0aW9uPXZlYzQocG9zaXRpb24sMC4wLDEuMCk7CiNkZWZpbmUgQ1VTVE9NX1ZFUlRFWF9NQUlOX0VORAp9YDtMLlNoYWRlcnNTdG9yZVtZYV09WmE7dmFyIGFyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaShlLHQscixuLGEscyxvLHUsZixsLGgsYyxkLHAsZyl7bz09PXZvaWQgMCYmKG89MSksbD09PXZvaWQgMCYmKGw9bnVsbCksaD09PXZvaWQgMCYmKGg9MCksYz09PXZvaWQgMCYmKGM9InBvc3Rwcm9jZXNzIikscD09PXZvaWQgMCYmKHA9ITEpLGc9PT12b2lkIDAmJihnPTUpLHRoaXMuX3BhcmVudENvbnRhaW5lcj1udWxsLHRoaXMud2lkdGg9LTEsdGhpcy5oZWlnaHQ9LTEsdGhpcy5ub2RlTWF0ZXJpYWxTb3VyY2U9bnVsbCx0aGlzLl9vdXRwdXRUZXh0dXJlPW51bGwsdGhpcy5hdXRvQ2xlYXI9ITAsdGhpcy5hbHBoYU1vZGU9MCx0aGlzLmFuaW1hdGlvbnM9bmV3IEFycmF5LHRoaXMuZW5hYmxlUGl4ZWxQZXJmZWN0TW9kZT0hMSx0aGlzLmZvcmNlRnVsbHNjcmVlblZpZXdwb3J0PSEwLHRoaXMuc2NhbGVNb2RlPTEsdGhpcy5hbHdheXNGb3JjZVBPVD0hMSx0aGlzLl9zYW1wbGVzPTEsdGhpcy5hZGFwdFNjYWxlVG9DdXJyZW50Vmlld3BvcnQ9ITEsdGhpcy5fcmV1c2FibGU9ITEsdGhpcy5fcmVuZGVySWQ9MCx0aGlzLmV4dGVybmFsVGV4dHVyZVNhbXBsZXJCaW5kaW5nPSExLHRoaXMuX3RleHR1cmVzPW5ldyBWZSgyKSx0aGlzLl90ZXh0dXJlQ2FjaGU9W10sdGhpcy5fY3VycmVudFJlbmRlclRleHR1cmVJbmQ9MCx0aGlzLl9zY2FsZVJhdGlvPW5ldyBTZSgxLDEpLHRoaXMuX3RleGVsU2l6ZT1TZS5aZXJvKCksdGhpcy5vbkFjdGl2YXRlT2JzZXJ2YWJsZT1uZXcgTyx0aGlzLm9uU2l6ZUNoYW5nZWRPYnNlcnZhYmxlPW5ldyBPLHRoaXMub25BcHBseU9ic2VydmFibGU9bmV3IE8sdGhpcy5vbkJlZm9yZVJlbmRlck9ic2VydmFibGU9bmV3IE8sdGhpcy5vbkFmdGVyUmVuZGVyT2JzZXJ2YWJsZT1uZXcgTyx0aGlzLm5hbWU9ZSxzIT1udWxsPyh0aGlzLl9jYW1lcmE9cyx0aGlzLl9zY2VuZT1zLmdldFNjZW5lKCkscy5hdHRhY2hQb3N0UHJvY2Vzcyh0aGlzKSx0aGlzLl9lbmdpbmU9dGhpcy5fc2NlbmUuZ2V0RW5naW5lKCksdGhpcy5fc2NlbmUucG9zdFByb2Nlc3Nlcy5wdXNoKHRoaXMpLHRoaXMudW5pcXVlSWQ9dGhpcy5fc2NlbmUuZ2V0VW5pcXVlSWQoKSk6dSYmKHRoaXMuX2VuZ2luZT11LHRoaXMuX2VuZ2luZS5wb3N0UHJvY2Vzc2VzLnB1c2godGhpcykpLHRoaXMuX29wdGlvbnM9YSx0aGlzLnJlbmRlclRhcmdldFNhbXBsaW5nTW9kZT1vfHwxLHRoaXMuX3JldXNhYmxlPWZ8fCExLHRoaXMuX3RleHR1cmVUeXBlPWgsdGhpcy5fdGV4dHVyZUZvcm1hdD1nLHRoaXMuX3NhbXBsZXJzPW58fFtdLHRoaXMuX3NhbXBsZXJzLnB1c2goInRleHR1cmVTYW1wbGVyIiksdGhpcy5fZnJhZ21lbnRVcmw9dCx0aGlzLl92ZXJ0ZXhVcmw9Yyx0aGlzLl9wYXJhbWV0ZXJzPXJ8fFtdLHRoaXMuX3BhcmFtZXRlcnMucHVzaCgic2NhbGUiKSx0aGlzLl9pbmRleFBhcmFtZXRlcnM9ZCx0aGlzLl9kcmF3V3JhcHBlcj1uZXcgUXQodGhpcy5fZW5naW5lKSxwfHx0aGlzLnVwZGF0ZUVmZmVjdChsKX1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJzYW1wbGVzIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NhbXBsZXN9LHNldDpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3RoaXMuX3NhbXBsZXM9TWF0aC5taW4oZSx0aGlzLl9lbmdpbmUuZ2V0Q2FwcygpLm1heE1TQUFTYW1wbGVzKSx0aGlzLl90ZXh0dXJlcy5mb3JFYWNoKGZ1bmN0aW9uKHIpe3Iuc2FtcGxlcyE9PXQuX3NhbXBsZXMmJnQuX2VuZ2luZS51cGRhdGVSZW5kZXJUYXJnZXRUZXh0dXJlU2FtcGxlQ291bnQocix0Ll9zYW1wbGVzKX0pfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkucHJvdG90eXBlLmdldEVmZmVjdE5hbWU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZnJhZ21lbnRVcmx9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwib25BY3RpdmF0ZSIse3NldDpmdW5jdGlvbihlKXt0aGlzLl9vbkFjdGl2YXRlT2JzZXJ2ZXImJnRoaXMub25BY3RpdmF0ZU9ic2VydmFibGUucmVtb3ZlKHRoaXMuX29uQWN0aXZhdGVPYnNlcnZlciksZSYmKHRoaXMuX29uQWN0aXZhdGVPYnNlcnZlcj10aGlzLm9uQWN0aXZhdGVPYnNlcnZhYmxlLmFkZChlKSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJvblNpemVDaGFuZ2VkIix7c2V0OmZ1bmN0aW9uKGUpe3RoaXMuX29uU2l6ZUNoYW5nZWRPYnNlcnZlciYmdGhpcy5vblNpemVDaGFuZ2VkT2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5fb25TaXplQ2hhbmdlZE9ic2VydmVyKSx0aGlzLl9vblNpemVDaGFuZ2VkT2JzZXJ2ZXI9dGhpcy5vblNpemVDaGFuZ2VkT2JzZXJ2YWJsZS5hZGQoZSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJvbkFwcGx5Iix7c2V0OmZ1bmN0aW9uKGUpe3RoaXMuX29uQXBwbHlPYnNlcnZlciYmdGhpcy5vbkFwcGx5T2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5fb25BcHBseU9ic2VydmVyKSx0aGlzLl9vbkFwcGx5T2JzZXJ2ZXI9dGhpcy5vbkFwcGx5T2JzZXJ2YWJsZS5hZGQoZSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJvbkJlZm9yZVJlbmRlciIse3NldDpmdW5jdGlvbihlKXt0aGlzLl9vbkJlZm9yZVJlbmRlck9ic2VydmVyJiZ0aGlzLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5fb25CZWZvcmVSZW5kZXJPYnNlcnZlciksdGhpcy5fb25CZWZvcmVSZW5kZXJPYnNlcnZlcj10aGlzLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5hZGQoZSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJvbkFmdGVyUmVuZGVyIix7c2V0OmZ1bmN0aW9uKGUpe3RoaXMuX29uQWZ0ZXJSZW5kZXJPYnNlcnZlciYmdGhpcy5vbkFmdGVyUmVuZGVyT2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5fb25BZnRlclJlbmRlck9ic2VydmVyKSx0aGlzLl9vbkFmdGVyUmVuZGVyT2JzZXJ2ZXI9dGhpcy5vbkFmdGVyUmVuZGVyT2JzZXJ2YWJsZS5hZGQoZSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJpbnB1dFRleHR1cmUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdGV4dHVyZXMuZGF0YVt0aGlzLl9jdXJyZW50UmVuZGVyVGV4dHVyZUluZF19LHNldDpmdW5jdGlvbihlKXt0aGlzLl9mb3JjZWRPdXRwdXRUZXh0dXJlPWV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksaS5wcm90b3R5cGUucmVzdG9yZURlZmF1bHRJbnB1dFRleHR1cmU9ZnVuY3Rpb24oKXt0aGlzLl9mb3JjZWRPdXRwdXRUZXh0dXJlJiYodGhpcy5fZm9yY2VkT3V0cHV0VGV4dHVyZT1udWxsLHRoaXMubWFya1RleHR1cmVEaXJ0eSgpKX0saS5wcm90b3R5cGUuZ2V0Q2FtZXJhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NhbWVyYX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJ0ZXhlbFNpemUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2hhcmVPdXRwdXRXaXRoUG9zdFByb2Nlc3M/dGhpcy5fc2hhcmVPdXRwdXRXaXRoUG9zdFByb2Nlc3MudGV4ZWxTaXplOih0aGlzLl9mb3JjZWRPdXRwdXRUZXh0dXJlJiZ0aGlzLl90ZXhlbFNpemUuY29weUZyb21GbG9hdHMoMS90aGlzLl9mb3JjZWRPdXRwdXRUZXh0dXJlLndpZHRoLDEvdGhpcy5fZm9yY2VkT3V0cHV0VGV4dHVyZS5oZWlnaHQpLHRoaXMuX3RleGVsU2l6ZSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksaS5wcm90b3R5cGUuZ2V0Q2xhc3NOYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIlBvc3RQcm9jZXNzIn0saS5wcm90b3R5cGUuZ2V0RW5naW5lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2VuZ2luZX0saS5wcm90b3R5cGUuZ2V0RWZmZWN0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RyYXdXcmFwcGVyLmVmZmVjdH0saS5wcm90b3R5cGUuc2hhcmVPdXRwdXRXaXRoPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9kaXNwb3NlVGV4dHVyZXMoKSx0aGlzLl9zaGFyZU91dHB1dFdpdGhQb3N0UHJvY2Vzcz1lLHRoaXN9LGkucHJvdG90eXBlLnVzZU93bk91dHB1dD1mdW5jdGlvbigpe3RoaXMuX3RleHR1cmVzLmxlbmd0aD09MCYmKHRoaXMuX3RleHR1cmVzPW5ldyBWZSgyKSksdGhpcy5fc2hhcmVPdXRwdXRXaXRoUG9zdFByb2Nlc3M9bnVsbH0saS5wcm90b3R5cGUudXBkYXRlRWZmZWN0PWZ1bmN0aW9uKGUsdCxyLG4sYSxzLG8sdSl7ZT09PXZvaWQgMCYmKGU9bnVsbCksdD09PXZvaWQgMCYmKHQ9bnVsbCkscj09PXZvaWQgMCYmKHI9bnVsbCksdGhpcy5fcG9zdFByb2Nlc3NEZWZpbmVzPWUsdGhpcy5fZHJhd1dyYXBwZXIuZWZmZWN0PXRoaXMuX2VuZ2luZS5jcmVhdGVFZmZlY3Qoe3ZlcnRleDpvIT1udWxsP286dGhpcy5fdmVydGV4VXJsLGZyYWdtZW50OnUhPW51bGw/dTp0aGlzLl9mcmFnbWVudFVybH0sWyJwb3NpdGlvbiJdLHR8fHRoaXMuX3BhcmFtZXRlcnMscnx8dGhpcy5fc2FtcGxlcnMsZSE9PW51bGw/ZToiIix2b2lkIDAsYSxzLG58fHRoaXMuX2luZGV4UGFyYW1ldGVycyl9LGkucHJvdG90eXBlLmlzUmV1c2FibGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmV1c2FibGV9LGkucHJvdG90eXBlLm1hcmtUZXh0dXJlRGlydHk9ZnVuY3Rpb24oKXt0aGlzLndpZHRoPS0xfSxpLnByb3RvdHlwZS5fY3JlYXRlUmVuZGVyVGFyZ2V0VGV4dHVyZT1mdW5jdGlvbihlLHQscil7cj09PXZvaWQgMCYmKHI9MCk7Zm9yKHZhciBuPTA7bjx0aGlzLl90ZXh0dXJlQ2FjaGUubGVuZ3RoO24rKylpZih0aGlzLl90ZXh0dXJlQ2FjaGVbbl0udGV4dHVyZS53aWR0aD09PWUud2lkdGgmJnRoaXMuX3RleHR1cmVDYWNoZVtuXS50ZXh0dXJlLmhlaWdodD09PWUuaGVpZ2h0JiZ0aGlzLl90ZXh0dXJlQ2FjaGVbbl0ucG9zdFByb2Nlc3NDaGFubmVsPT09ciYmdGhpcy5fdGV4dHVyZUNhY2hlW25dLnRleHR1cmUuX2dlbmVyYXRlRGVwdGhCdWZmZXI9PT10LmdlbmVyYXRlRGVwdGhCdWZmZXIpcmV0dXJuIHRoaXMuX3RleHR1cmVDYWNoZVtuXS50ZXh0dXJlO3ZhciBhPXRoaXMuX2VuZ2luZS5jcmVhdGVSZW5kZXJUYXJnZXRUZXh0dXJlKGUsdCk7cmV0dXJuIHRoaXMuX3RleHR1cmVDYWNoZS5wdXNoKHt0ZXh0dXJlOmEscG9zdFByb2Nlc3NDaGFubmVsOnIsbGFzdFVzZWRSZW5kZXJJZDotMX0pLGF9LGkucHJvdG90eXBlLl9mbHVzaFRleHR1cmVDYWNoZT1mdW5jdGlvbigpe2Zvcih2YXIgZT10aGlzLl9yZW5kZXJJZCx0PXRoaXMuX3RleHR1cmVDYWNoZS5sZW5ndGgtMTt0Pj0wO3QtLSlpZihlLXRoaXMuX3RleHR1cmVDYWNoZVt0XS5sYXN0VXNlZFJlbmRlcklkPjEwMCl7Zm9yKHZhciByPSExLG49MDtuPHRoaXMuX3RleHR1cmVzLmxlbmd0aDtuKyspaWYodGhpcy5fdGV4dHVyZXMuZGF0YVtuXT09PXRoaXMuX3RleHR1cmVDYWNoZVt0XS50ZXh0dXJlKXtyPSEwO2JyZWFrfXJ8fCh0aGlzLl90ZXh0dXJlQ2FjaGVbdF0udGV4dHVyZS5kaXNwb3NlKCksdGhpcy5fdGV4dHVyZUNhY2hlLnNwbGljZSh0LDEpKX19LGkucHJvdG90eXBlLl9yZXNpemU9ZnVuY3Rpb24oZSx0LHIsbixhKXt0aGlzLl90ZXh0dXJlcy5sZW5ndGg+MCYmdGhpcy5fdGV4dHVyZXMucmVzZXQoKSx0aGlzLndpZHRoPWUsdGhpcy5oZWlnaHQ9dDtmb3IodmFyIHM9bnVsbCxvPTA7bzxyLl9wb3N0UHJvY2Vzc2VzLmxlbmd0aDtvKyspaWYoci5fcG9zdFByb2Nlc3Nlc1tvXSE9PW51bGwpe3M9ci5fcG9zdFByb2Nlc3Nlc1tvXTticmVha312YXIgdT17d2lkdGg6dGhpcy53aWR0aCxoZWlnaHQ6dGhpcy5oZWlnaHR9LGY9e2dlbmVyYXRlTWlwTWFwczpuLGdlbmVyYXRlRGVwdGhCdWZmZXI6YXx8cz09PXRoaXMsZ2VuZXJhdGVTdGVuY2lsQnVmZmVyOihhfHxzPT09dGhpcykmJnRoaXMuX2VuZ2luZS5pc1N0ZW5jaWxFbmFibGUsc2FtcGxpbmdNb2RlOnRoaXMucmVuZGVyVGFyZ2V0U2FtcGxpbmdNb2RlLHR5cGU6dGhpcy5fdGV4dHVyZVR5cGUsZm9ybWF0OnRoaXMuX3RleHR1cmVGb3JtYXR9O3RoaXMuX3RleHR1cmVzLnB1c2godGhpcy5fY3JlYXRlUmVuZGVyVGFyZ2V0VGV4dHVyZSh1LGYsMCkpLHRoaXMuX3JldXNhYmxlJiZ0aGlzLl90ZXh0dXJlcy5wdXNoKHRoaXMuX2NyZWF0ZVJlbmRlclRhcmdldFRleHR1cmUodSxmLDEpKSx0aGlzLl90ZXhlbFNpemUuY29weUZyb21GbG9hdHMoMS90aGlzLndpZHRoLDEvdGhpcy5oZWlnaHQpLHRoaXMub25TaXplQ2hhbmdlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpfSxpLnByb3RvdHlwZS5hY3RpdmF0ZT1mdW5jdGlvbihlLHQscil7dmFyIG49dGhpcyxhLHM7dD09PXZvaWQgMCYmKHQ9bnVsbCksZT1lfHx0aGlzLl9jYW1lcmE7dmFyIG89ZS5nZXRTY2VuZSgpLHU9by5nZXRFbmdpbmUoKSxmPXUuZ2V0Q2FwcygpLm1heFRleHR1cmVTaXplLGw9KHQ/dC53aWR0aDp0aGlzLl9lbmdpbmUuZ2V0UmVuZGVyV2lkdGgoITApKSp0aGlzLl9vcHRpb25zfDAsaD0odD90LmhlaWdodDp0aGlzLl9lbmdpbmUuZ2V0UmVuZGVySGVpZ2h0KCEwKSkqdGhpcy5fb3B0aW9uc3wwLGM9ZS5wYXJlbnQ7YyYmKGMubGVmdENhbWVyYT09ZXx8Yy5yaWdodENhbWVyYT09ZSkmJihsLz0yKTt2YXIgZD10aGlzLl9vcHRpb25zLndpZHRofHxsLHA9dGhpcy5fb3B0aW9ucy5oZWlnaHR8fGgsZz10aGlzLnJlbmRlclRhcmdldFNhbXBsaW5nTW9kZSE9PTcmJnRoaXMucmVuZGVyVGFyZ2V0U2FtcGxpbmdNb2RlIT09MSYmdGhpcy5yZW5kZXJUYXJnZXRTYW1wbGluZ01vZGUhPT0yO2lmKCF0aGlzLl9zaGFyZU91dHB1dFdpdGhQb3N0UHJvY2VzcyYmIXRoaXMuX2ZvcmNlZE91dHB1dFRleHR1cmUpe2lmKHRoaXMuYWRhcHRTY2FsZVRvQ3VycmVudFZpZXdwb3J0KXt2YXIgXz11LmN1cnJlbnRWaWV3cG9ydDtfJiYoZCo9Xy53aWR0aCxwKj1fLmhlaWdodCl9KGd8fHRoaXMuYWx3YXlzRm9yY2VQT1QpJiYodGhpcy5fb3B0aW9ucy53aWR0aHx8KGQ9dS5uZWVkUE9UVGV4dHVyZXM/Y2UuR2V0RXhwb25lbnRPZlR3byhkLGYsdGhpcy5zY2FsZU1vZGUpOmQpLHRoaXMuX29wdGlvbnMuaGVpZ2h0fHwocD11Lm5lZWRQT1RUZXh0dXJlcz9jZS5HZXRFeHBvbmVudE9mVHdvKHAsZix0aGlzLnNjYWxlTW9kZSk6cCkpLCh0aGlzLndpZHRoIT09ZHx8dGhpcy5oZWlnaHQhPT1wKSYmdGhpcy5fcmVzaXplKGQscCxlLGcsciksdGhpcy5fdGV4dHVyZXMuZm9yRWFjaChmdW5jdGlvbihSKXtSLnNhbXBsZXMhPT1uLnNhbXBsZXMmJm4uX2VuZ2luZS51cGRhdGVSZW5kZXJUYXJnZXRUZXh0dXJlU2FtcGxlQ291bnQoUixuLnNhbXBsZXMpfSksdGhpcy5fZmx1c2hUZXh0dXJlQ2FjaGUoKSx0aGlzLl9yZW5kZXJJZCsrfXZhciB2O2lmKHRoaXMuX3NoYXJlT3V0cHV0V2l0aFBvc3RQcm9jZXNzKXY9dGhpcy5fc2hhcmVPdXRwdXRXaXRoUG9zdFByb2Nlc3MuaW5wdXRUZXh0dXJlO2Vsc2UgaWYodGhpcy5fZm9yY2VkT3V0cHV0VGV4dHVyZSl2PXRoaXMuX2ZvcmNlZE91dHB1dFRleHR1cmUsdGhpcy53aWR0aD10aGlzLl9mb3JjZWRPdXRwdXRUZXh0dXJlLndpZHRoLHRoaXMuaGVpZ2h0PXRoaXMuX2ZvcmNlZE91dHB1dFRleHR1cmUuaGVpZ2h0O2Vsc2V7dj10aGlzLmlucHV0VGV4dHVyZTtmb3IodmFyIHk9dm9pZCAwLEU9MDtFPHRoaXMuX3RleHR1cmVDYWNoZS5sZW5ndGg7RSsrKWlmKHRoaXMuX3RleHR1cmVDYWNoZVtFXS50ZXh0dXJlPT09dil7eT10aGlzLl90ZXh0dXJlQ2FjaGVbRV07YnJlYWt9eSYmKHkubGFzdFVzZWRSZW5kZXJJZD10aGlzLl9yZW5kZXJJZCl9cmV0dXJuIHRoaXMuZW5hYmxlUGl4ZWxQZXJmZWN0TW9kZT8odGhpcy5fc2NhbGVSYXRpby5jb3B5RnJvbUZsb2F0cyhsL2QsaC9wKSx0aGlzLl9lbmdpbmUuYmluZEZyYW1lYnVmZmVyKHYsMCxsLGgsdGhpcy5mb3JjZUZ1bGxzY3JlZW5WaWV3cG9ydCkpOih0aGlzLl9zY2FsZVJhdGlvLmNvcHlGcm9tRmxvYXRzKDEsMSksdGhpcy5fZW5naW5lLmJpbmRGcmFtZWJ1ZmZlcih2LDAsdm9pZCAwLHZvaWQgMCx0aGlzLmZvcmNlRnVsbHNjcmVlblZpZXdwb3J0KSksKHM9KGE9dGhpcy5fZW5naW5lKS5fZGVidWdJbnNlcnRNYXJrZXIpPT09bnVsbHx8cz09PXZvaWQgMHx8cy5jYWxsKGEsInBvc3QgcHJvY2VzcyAiLmNvbmNhdCh0aGlzLm5hbWUsIiBpbnB1dCIpKSx0aGlzLm9uQWN0aXZhdGVPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhlKSx0aGlzLmF1dG9DbGVhciYmdGhpcy5hbHBoYU1vZGU9PT0wJiZ0aGlzLl9lbmdpbmUuY2xlYXIodGhpcy5jbGVhckNvbG9yP3RoaXMuY2xlYXJDb2xvcjpvLmNsZWFyQ29sb3Isby5fYWxsb3dQb3N0UHJvY2Vzc0NsZWFyQ29sb3IsITAsITApLHRoaXMuX3JldXNhYmxlJiYodGhpcy5fY3VycmVudFJlbmRlclRleHR1cmVJbmQ9KHRoaXMuX2N1cnJlbnRSZW5kZXJUZXh0dXJlSW5kKzEpJTIpLHZ9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiaXNTdXBwb3J0ZWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZHJhd1dyYXBwZXIuZWZmZWN0LmlzU3VwcG9ydGVkfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiYXNwZWN0UmF0aW8iLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2hhcmVPdXRwdXRXaXRoUG9zdFByb2Nlc3M/dGhpcy5fc2hhcmVPdXRwdXRXaXRoUG9zdFByb2Nlc3MuYXNwZWN0UmF0aW86dGhpcy5fZm9yY2VkT3V0cHV0VGV4dHVyZT90aGlzLl9mb3JjZWRPdXRwdXRUZXh0dXJlLndpZHRoL3RoaXMuX2ZvcmNlZE91dHB1dFRleHR1cmUuaGVpZ2h0OnRoaXMud2lkdGgvdGhpcy5oZWlnaHR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksaS5wcm90b3R5cGUuaXNSZWFkeT1mdW5jdGlvbigpe3ZhciBlLHQ7cmV0dXJuKHQ9KGU9dGhpcy5fZHJhd1dyYXBwZXIuZWZmZWN0KT09PW51bGx8fGU9PT12b2lkIDA/dm9pZCAwOmUuaXNSZWFkeSgpKSE9PW51bGwmJnQhPT12b2lkIDA/dDohMX0saS5wcm90b3R5cGUuYXBwbHk9ZnVuY3Rpb24oKXt2YXIgZTtpZighKCEoKGU9dGhpcy5fZHJhd1dyYXBwZXIuZWZmZWN0KT09PW51bGx8fGU9PT12b2lkIDApJiZlLmlzUmVhZHkoKSkpcmV0dXJuIG51bGw7dGhpcy5fZW5naW5lLmVuYWJsZUVmZmVjdCh0aGlzLl9kcmF3V3JhcHBlciksdGhpcy5fZW5naW5lLnNldFN0YXRlKCExKSx0aGlzLl9lbmdpbmUuc2V0RGVwdGhCdWZmZXIoITEpLHRoaXMuX2VuZ2luZS5zZXREZXB0aFdyaXRlKCExKSx0aGlzLl9lbmdpbmUuc2V0QWxwaGFNb2RlKHRoaXMuYWxwaGFNb2RlKSx0aGlzLmFscGhhQ29uc3RhbnRzJiZ0aGlzLmdldEVuZ2luZSgpLnNldEFscGhhQ29uc3RhbnRzKHRoaXMuYWxwaGFDb25zdGFudHMucix0aGlzLmFscGhhQ29uc3RhbnRzLmcsdGhpcy5hbHBoYUNvbnN0YW50cy5iLHRoaXMuYWxwaGFDb25zdGFudHMuYSk7dmFyIHQ7cmV0dXJuIHRoaXMuX3NoYXJlT3V0cHV0V2l0aFBvc3RQcm9jZXNzP3Q9dGhpcy5fc2hhcmVPdXRwdXRXaXRoUG9zdFByb2Nlc3MuaW5wdXRUZXh0dXJlOnRoaXMuX2ZvcmNlZE91dHB1dFRleHR1cmU/dD10aGlzLl9mb3JjZWRPdXRwdXRUZXh0dXJlOnQ9dGhpcy5pbnB1dFRleHR1cmUsdGhpcy5leHRlcm5hbFRleHR1cmVTYW1wbGVyQmluZGluZ3x8dGhpcy5fZHJhd1dyYXBwZXIuZWZmZWN0Ll9iaW5kVGV4dHVyZSgidGV4dHVyZVNhbXBsZXIiLHQ9PW51bGw/dm9pZCAwOnQudGV4dHVyZSksdGhpcy5fZHJhd1dyYXBwZXIuZWZmZWN0LnNldFZlY3RvcjIoInNjYWxlIix0aGlzLl9zY2FsZVJhdGlvKSx0aGlzLm9uQXBwbHlPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzLl9kcmF3V3JhcHBlci5lZmZlY3QpLHRoaXMuX2RyYXdXcmFwcGVyLmVmZmVjdH0saS5wcm90b3R5cGUuX2Rpc3Bvc2VUZXh0dXJlcz1mdW5jdGlvbigpe2lmKHRoaXMuX3NoYXJlT3V0cHV0V2l0aFBvc3RQcm9jZXNzfHx0aGlzLl9mb3JjZWRPdXRwdXRUZXh0dXJlKXt0aGlzLl9kaXNwb3NlVGV4dHVyZUNhY2hlKCk7cmV0dXJufXRoaXMuX2Rpc3Bvc2VUZXh0dXJlQ2FjaGUoKSx0aGlzLl90ZXh0dXJlcy5kaXNwb3NlKCl9LGkucHJvdG90eXBlLl9kaXNwb3NlVGV4dHVyZUNhY2hlPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPXRoaXMuX3RleHR1cmVDYWNoZS5sZW5ndGgtMTtlPj0wO2UtLSl0aGlzLl90ZXh0dXJlQ2FjaGVbZV0udGV4dHVyZS5kaXNwb3NlKCk7dGhpcy5fdGV4dHVyZUNhY2hlLmxlbmd0aD0wfSxpLnByb3RvdHlwZS5zZXRQcmVQYXNzUmVuZGVyZXI9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX3ByZVBhc3NFZmZlY3RDb25maWd1cmF0aW9uPyh0aGlzLl9wcmVQYXNzRWZmZWN0Q29uZmlndXJhdGlvbj1lLmFkZEVmZmVjdENvbmZpZ3VyYXRpb24odGhpcy5fcHJlUGFzc0VmZmVjdENvbmZpZ3VyYXRpb24pLHRoaXMuX3ByZVBhc3NFZmZlY3RDb25maWd1cmF0aW9uLmVuYWJsZWQ9ITAsITApOiExfSxpLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKGUpe2U9ZXx8dGhpcy5fY2FtZXJhLHRoaXMuX2Rpc3Bvc2VUZXh0dXJlcygpO3ZhciB0O2lmKHRoaXMuX3NjZW5lJiYodD10aGlzLl9zY2VuZS5wb3N0UHJvY2Vzc2VzLmluZGV4T2YodGhpcyksdCE9PS0xJiZ0aGlzLl9zY2VuZS5wb3N0UHJvY2Vzc2VzLnNwbGljZSh0LDEpKSx0aGlzLl9wYXJlbnRDb250YWluZXIpe3ZhciByPXRoaXMuX3BhcmVudENvbnRhaW5lci5wb3N0UHJvY2Vzc2VzLmluZGV4T2YodGhpcyk7cj4tMSYmdGhpcy5fcGFyZW50Q29udGFpbmVyLnBvc3RQcm9jZXNzZXMuc3BsaWNlKHIsMSksdGhpcy5fcGFyZW50Q29udGFpbmVyPW51bGx9aWYodD10aGlzLl9lbmdpbmUucG9zdFByb2Nlc3Nlcy5pbmRleE9mKHRoaXMpLHQhPT0tMSYmdGhpcy5fZW5naW5lLnBvc3RQcm9jZXNzZXMuc3BsaWNlKHQsMSksISFlKXtpZihlLmRldGFjaFBvc3RQcm9jZXNzKHRoaXMpLHQ9ZS5fcG9zdFByb2Nlc3Nlcy5pbmRleE9mKHRoaXMpLHQ9PT0wJiZlLl9wb3N0UHJvY2Vzc2VzLmxlbmd0aD4wKXt2YXIgbj10aGlzLl9jYW1lcmEuX2dldEZpcnN0UG9zdFByb2Nlc3MoKTtuJiZuLm1hcmtUZXh0dXJlRGlydHkoKX10aGlzLm9uQWN0aXZhdGVPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkFmdGVyUmVuZGVyT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25BcHBseU9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25TaXplQ2hhbmdlZE9ic2VydmFibGUuY2xlYXIoKX19LGkucHJvdG90eXBlLnNlcmlhbGl6ZT1mdW5jdGlvbigpe3ZhciBlPXRlLlNlcmlhbGl6ZSh0aGlzKSx0PXRoaXMuZ2V0Q2FtZXJhKCl8fHRoaXMuX3NjZW5lJiZ0aGlzLl9zY2VuZS5hY3RpdmVDYW1lcmE7cmV0dXJuIGUuY3VzdG9tVHlwZT0iQkFCWUxPTi4iK3RoaXMuZ2V0Q2xhc3NOYW1lKCksZS5jYW1lcmFJZD10P3QuaWQ6bnVsbCxlLnJldXNhYmxlPXRoaXMuX3JldXNhYmxlLGUudGV4dHVyZVR5cGU9dGhpcy5fdGV4dHVyZVR5cGUsZS5mcmFnbWVudFVybD10aGlzLl9mcmFnbWVudFVybCxlLnBhcmFtZXRlcnM9dGhpcy5fcGFyYW1ldGVycyxlLnNhbXBsZXJzPXRoaXMuX3NhbXBsZXJzLGUub3B0aW9ucz10aGlzLl9vcHRpb25zLGUuZGVmaW5lcz10aGlzLl9wb3N0UHJvY2Vzc0RlZmluZXMsZS50ZXh0dXJlRm9ybWF0PXRoaXMuX3RleHR1cmVGb3JtYXQsZS52ZXJ0ZXhVcmw9dGhpcy5fdmVydGV4VXJsLGUuaW5kZXhQYXJhbWV0ZXJzPXRoaXMuX2luZGV4UGFyYW1ldGVycyxlfSxpLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciBlPXRoaXMuc2VyaWFsaXplKCk7ZS5fZW5naW5lPXRoaXMuX2VuZ2luZSxlLmNhbWVyYUlkPW51bGw7dmFyIHQ9aS5QYXJzZShlLHRoaXMuX3NjZW5lLCIiKTtyZXR1cm4gdD8odC5vbkFjdGl2YXRlT2JzZXJ2YWJsZT10aGlzLm9uQWN0aXZhdGVPYnNlcnZhYmxlLmNsb25lKCksdC5vblNpemVDaGFuZ2VkT2JzZXJ2YWJsZT10aGlzLm9uU2l6ZUNoYW5nZWRPYnNlcnZhYmxlLmNsb25lKCksdC5vbkFwcGx5T2JzZXJ2YWJsZT10aGlzLm9uQXBwbHlPYnNlcnZhYmxlLmNsb25lKCksdC5vbkJlZm9yZVJlbmRlck9ic2VydmFibGU9dGhpcy5vbkJlZm9yZVJlbmRlck9ic2VydmFibGUuY2xvbmUoKSx0Lm9uQWZ0ZXJSZW5kZXJPYnNlcnZhYmxlPXRoaXMub25BZnRlclJlbmRlck9ic2VydmFibGUuY2xvbmUoKSx0Ll9wcmVQYXNzRWZmZWN0Q29uZmlndXJhdGlvbj10aGlzLl9wcmVQYXNzRWZmZWN0Q29uZmlndXJhdGlvbix0KTpudWxsfSxpLlBhcnNlPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1QdChlLmN1c3RvbVR5cGUpO2lmKCFufHwhbi5fUGFyc2UpcmV0dXJuIG51bGw7dmFyIGE9dD90LmdldENhbWVyYUJ5SWQoZS5jYW1lcmFJZCk6bnVsbDtyZXR1cm4gbi5fUGFyc2UoZSxhLHQscil9LGkuX1BhcnNlPWZ1bmN0aW9uKGUsdCxyLG4pe3JldHVybiB0ZS5QYXJzZShmdW5jdGlvbigpe3JldHVybiBuZXcgaShlLm5hbWUsZS5mcmFnbWVudFVybCxlLnBhcmFtZXRlcnMsZS5zYW1wbGVycyxlLm9wdGlvbnMsdCxlLnJlbmRlclRhcmdldFNhbXBsaW5nTW9kZSxlLl9lbmdpbmUsZS5yZXVzYWJsZSxlLmRlZmluZXMsZS50ZXh0dXJlVHlwZSxlLnZlcnRleFVybCxlLmluZGV4UGFyYW1ldGVycywhMSxlLnRleHR1cmVGb3JtYXQpfSxlLHIsbil9LFQoW1AoKV0saS5wcm90b3R5cGUsInVuaXF1ZUlkIix2b2lkIDApLFQoW1AoKV0saS5wcm90b3R5cGUsIm5hbWUiLHZvaWQgMCksVChbUCgpXSxpLnByb3RvdHlwZSwid2lkdGgiLHZvaWQgMCksVChbUCgpXSxpLnByb3RvdHlwZSwiaGVpZ2h0Iix2b2lkIDApLFQoW1AoKV0saS5wcm90b3R5cGUsInJlbmRlclRhcmdldFNhbXBsaW5nTW9kZSIsdm9pZCAwKSxUKFt6aSgpXSxpLnByb3RvdHlwZSwiY2xlYXJDb2xvciIsdm9pZCAwKSxUKFtQKCldLGkucHJvdG90eXBlLCJhdXRvQ2xlYXIiLHZvaWQgMCksVChbUCgpXSxpLnByb3RvdHlwZSwiYWxwaGFNb2RlIix2b2lkIDApLFQoW1AoKV0saS5wcm90b3R5cGUsImFscGhhQ29uc3RhbnRzIix2b2lkIDApLFQoW1AoKV0saS5wcm90b3R5cGUsImVuYWJsZVBpeGVsUGVyZmVjdE1vZGUiLHZvaWQgMCksVChbUCgpXSxpLnByb3RvdHlwZSwiZm9yY2VGdWxsc2NyZWVuVmlld3BvcnQiLHZvaWQgMCksVChbUCgpXSxpLnByb3RvdHlwZSwic2NhbGVNb2RlIix2b2lkIDApLFQoW1AoKV0saS5wcm90b3R5cGUsImFsd2F5c0ZvcmNlUE9UIix2b2lkIDApLFQoW1AoInNhbXBsZXMiKV0saS5wcm90b3R5cGUsIl9zYW1wbGVzIix2b2lkIDApLFQoW1AoKV0saS5wcm90b3R5cGUsImFkYXB0U2NhbGVUb0N1cnJlbnRWaWV3cG9ydCIsdm9pZCAwKSxpfSgpO3dlKCJCQUJZTE9OLlBvc3RQcm9jZXNzIixhcik7dmFyIHFhPSJrZXJuZWxCbHVyVmFyeWluZ0RlY2xhcmF0aW9uIixRYT0idmFyeWluZyB2ZWMyIHNhbXBsZUNvb3Jke1h9OyI7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtxYV09UWE7dmFyICRhPSJwYWNraW5nRnVuY3Rpb25zIixKYT1gdmVjNCBwYWNrKGZsb2F0IGRlcHRoKQp7CmNvbnN0IHZlYzQgYml0X3NoaWZ0PXZlYzQoMjU1LjAqMjU1LjAqMjU1LjAsMjU1LjAqMjU1LjAsMjU1LjAsMS4wKTsKY29uc3QgdmVjNCBiaXRfbWFzaz12ZWM0KDAuMCwxLjAvMjU1LjAsMS4wLzI1NS4wLDEuMC8yNTUuMCk7CnZlYzQgcmVzPWZyYWN0KGRlcHRoKmJpdF9zaGlmdCk7CnJlcy09cmVzLnh4eXoqYml0X21hc2s7CnJldHVybiByZXM7Cn0KZmxvYXQgdW5wYWNrKHZlYzQgY29sb3IpCnsKY29uc3QgdmVjNCBiaXRfc2hpZnQ9dmVjNCgxLjAvKDI1NS4wKjI1NS4wKjI1NS4wKSwxLjAvKDI1NS4wKjI1NS4wKSwxLjAvMjU1LjAsMS4wKTsKcmV0dXJuIGRvdChjb2xvcixiaXRfc2hpZnQpOwp9YDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlWyRhXT1KYTt2YXIgZXM9Imtlcm5lbEJsdXJGcmFnbWVudCIsdHM9YCNpZmRlZiBET0YKZmFjdG9yPXNhbXBsZUNvQyhzYW1wbGVDb29yZHtYfSk7IApjb21wdXRlZFdlaWdodD1LRVJORUxfV0VJR0hUe1h9KmZhY3RvcjsKc3VtT2ZXZWlnaHRzKz1jb21wdXRlZFdlaWdodDsKI2Vsc2UKY29tcHV0ZWRXZWlnaHQ9S0VSTkVMX1dFSUdIVHtYfTsKI2VuZGlmCiNpZmRlZiBQQUNLRURGTE9BVApibGVuZCs9dW5wYWNrKHRleHR1cmUyRCh0ZXh0dXJlU2FtcGxlcixzYW1wbGVDb29yZHtYfSkpKmNvbXB1dGVkV2VpZ2h0OwojZWxzZQpibGVuZCs9dGV4dHVyZTJEKHRleHR1cmVTYW1wbGVyLHNhbXBsZUNvb3Jke1h9KSpjb21wdXRlZFdlaWdodDsKI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtlc109dHM7dmFyIHJzPSJrZXJuZWxCbHVyRnJhZ21lbnQyIixpcz1gI2lmZGVmIERPRgpmYWN0b3I9c2FtcGxlQ29DKHNhbXBsZUNlbnRlcitkZWx0YSpLRVJORUxfREVQX09GRlNFVHtYfSk7CmNvbXB1dGVkV2VpZ2h0PUtFUk5FTF9ERVBfV0VJR0hUe1h9KmZhY3RvcjsKc3VtT2ZXZWlnaHRzKz1jb21wdXRlZFdlaWdodDsKI2Vsc2UKY29tcHV0ZWRXZWlnaHQ9S0VSTkVMX0RFUF9XRUlHSFR7WH07CiNlbmRpZgojaWZkZWYgUEFDS0VERkxPQVQKYmxlbmQrPXVucGFjayh0ZXh0dXJlMkQodGV4dHVyZVNhbXBsZXIsc2FtcGxlQ2VudGVyK2RlbHRhKktFUk5FTF9ERVBfT0ZGU0VUe1h9KSkqY29tcHV0ZWRXZWlnaHQ7CiNlbHNlCmJsZW5kKz10ZXh0dXJlMkQodGV4dHVyZVNhbXBsZXIsc2FtcGxlQ2VudGVyK2RlbHRhKktFUk5FTF9ERVBfT0ZGU0VUe1h9KSpjb21wdXRlZFdlaWdodDsKI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtyc109aXM7dmFyIG5zPSJrZXJuZWxCbHVyUGl4ZWxTaGFkZXIiLGFzPWB1bmlmb3JtIHNhbXBsZXIyRCB0ZXh0dXJlU2FtcGxlcjsKdW5pZm9ybSB2ZWMyIGRlbHRhOwp2YXJ5aW5nIHZlYzIgc2FtcGxlQ2VudGVyOwojaWZkZWYgRE9GCnVuaWZvcm0gc2FtcGxlcjJEIGNpcmNsZU9mQ29uZnVzaW9uU2FtcGxlcjsKdW5pZm9ybSB2ZWMyIGNhbWVyYU1pbk1heFo7CmZsb2F0IHNhbXBsZURpc3RhbmNlKGluIHZlYzIgb2Zmc2V0KSB7CmZsb2F0IGRlcHRoPXRleHR1cmUyRChjaXJjbGVPZkNvbmZ1c2lvblNhbXBsZXIsb2Zmc2V0KS5nOyAKcmV0dXJuIGNhbWVyYU1pbk1heFoueCsoY2FtZXJhTWluTWF4Wi55LWNhbWVyYU1pbk1heFoueCkqZGVwdGg7IAp9CmZsb2F0IHNhbXBsZUNvQyhpbiB2ZWMyIG9mZnNldCkgewpmbG9hdCBjb2M9dGV4dHVyZTJEKGNpcmNsZU9mQ29uZnVzaW9uU2FtcGxlcixvZmZzZXQpLnI7IApyZXR1cm4gY29jOyAKfQojZW5kaWYKI2luY2x1ZGU8a2VybmVsQmx1clZhcnlpbmdEZWNsYXJhdGlvbj5bMC4udmFyeWluZ0NvdW50XQojaWZkZWYgUEFDS0VERkxPQVQKI2luY2x1ZGU8cGFja2luZ0Z1bmN0aW9ucz4KI2VuZGlmCiNkZWZpbmUgQ1VTVE9NX0ZSQUdNRU5UX0RFRklOSVRJT05TCnZvaWQgbWFpbih2b2lkKQp7CmZsb2F0IGNvbXB1dGVkV2VpZ2h0PTAuMDsKI2lmZGVmIFBBQ0tFREZMT0FUIApmbG9hdCBibGVuZD0wLjsKI2Vsc2UKdmVjNCBibGVuZD12ZWM0KDAuKTsKI2VuZGlmCiNpZmRlZiBET0YKZmxvYXQgc3VtT2ZXZWlnaHRzPUNFTlRFUl9XRUlHSFQ7IApmbG9hdCBmYWN0b3I9MC4wOwojaWZkZWYgUEFDS0VERkxPQVQKYmxlbmQrPXVucGFjayh0ZXh0dXJlMkQodGV4dHVyZVNhbXBsZXIsc2FtcGxlQ2VudGVyKSkqQ0VOVEVSX1dFSUdIVDsKI2Vsc2UKYmxlbmQrPXRleHR1cmUyRCh0ZXh0dXJlU2FtcGxlcixzYW1wbGVDZW50ZXIpKkNFTlRFUl9XRUlHSFQ7CiNlbmRpZgojZW5kaWYKI2luY2x1ZGU8a2VybmVsQmx1ckZyYWdtZW50PlswLi52YXJ5aW5nQ291bnRdCiNpbmNsdWRlPGtlcm5lbEJsdXJGcmFnbWVudDI+WzAuLmRlcENvdW50XQojaWZkZWYgUEFDS0VERkxPQVQKZ2xfRnJhZ0NvbG9yPXBhY2soYmxlbmQpOwojZWxzZQpnbF9GcmFnQ29sb3I9YmxlbmQ7CiNlbmRpZgojaWZkZWYgRE9GCmdsX0ZyYWdDb2xvci89c3VtT2ZXZWlnaHRzOwojZW5kaWYKfWA7TC5TaGFkZXJzU3RvcmVbbnNdPWFzO3ZhciBzcz0ia2VybmVsQmx1clZlcnRleCIsb3M9InNhbXBsZUNvb3Jke1h9PXNhbXBsZUNlbnRlcitkZWx0YSpLRVJORUxfT0ZGU0VUe1h9OyI7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtzc109b3M7dmFyIHVzPSJrZXJuZWxCbHVyVmVydGV4U2hhZGVyIixmcz1gYXR0cmlidXRlIHZlYzIgcG9zaXRpb247CnVuaWZvcm0gdmVjMiBkZWx0YTsKdmFyeWluZyB2ZWMyIHNhbXBsZUNlbnRlcjsKI2luY2x1ZGU8a2VybmVsQmx1clZhcnlpbmdEZWNsYXJhdGlvbj5bMC4udmFyeWluZ0NvdW50XQpjb25zdCB2ZWMyIG1hZGQ9dmVjMigwLjUsMC41KTsKI2RlZmluZSBDVVNUT01fVkVSVEVYX0RFRklOSVRJT05TCnZvaWQgbWFpbih2b2lkKSB7CiNkZWZpbmUgQ1VTVE9NX1ZFUlRFWF9NQUlOX0JFR0lOCnNhbXBsZUNlbnRlcj0ocG9zaXRpb24qbWFkZCttYWRkKTsKI2luY2x1ZGU8a2VybmVsQmx1clZlcnRleD5bMC4udmFyeWluZ0NvdW50XQpnbF9Qb3NpdGlvbj12ZWM0KHBvc2l0aW9uLDAuMCwxLjApOwojZGVmaW5lIENVU1RPTV9WRVJURVhfTUFJTl9FTkQKfWA7TC5TaGFkZXJzU3RvcmVbdXNdPWZzO3ZhciBkaT1mdW5jdGlvbihpKXtLKGUsaSk7ZnVuY3Rpb24gZSh0LHIsbixhLHMsbyx1LGYsbCxoLGMpe289PT12b2lkIDAmJihvPWllLkJJTElORUFSX1NBTVBMSU5HTU9ERSksbD09PXZvaWQgMCYmKGw9MCksaD09PXZvaWQgMCYmKGg9IiIpLGM9PT12b2lkIDAmJihjPSExKTt2YXIgZD1pLmNhbGwodGhpcyx0LCJrZXJuZWxCbHVyIixbImRlbHRhIiwiZGlyZWN0aW9uIiwiY2FtZXJhTWluTWF4WiJdLFsiY2lyY2xlT2ZDb25mdXNpb25TYW1wbGVyIl0sYSxzLG8sdSxmLG51bGwsbCwia2VybmVsQmx1ciIse3ZhcnlpbmdDb3VudDowLGRlcENvdW50OjB9LCEwKXx8dGhpcztyZXR1cm4gZC5fYmxvY2tDb21waWxhdGlvbj1jLGQuX3BhY2tlZEZsb2F0PSExLGQuX3N0YXRpY0RlZmluZXM9IiIsZC5fc3RhdGljRGVmaW5lcz1oLGQuZGlyZWN0aW9uPXIsZC5vbkFwcGx5T2JzZXJ2YWJsZS5hZGQoZnVuY3Rpb24ocCl7ZC5fb3V0cHV0VGV4dHVyZT9wLnNldEZsb2F0MigiZGVsdGEiLDEvZC5fb3V0cHV0VGV4dHVyZS53aWR0aCpkLmRpcmVjdGlvbi54LDEvZC5fb3V0cHV0VGV4dHVyZS5oZWlnaHQqZC5kaXJlY3Rpb24ueSk6cC5zZXRGbG9hdDIoImRlbHRhIiwxL2Qud2lkdGgqZC5kaXJlY3Rpb24ueCwxL2QuaGVpZ2h0KmQuZGlyZWN0aW9uLnkpfSksZC5rZXJuZWw9bixkfXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImtlcm5lbCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pZGVhbEtlcm5lbH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2lkZWFsS2VybmVsIT09dCYmKHQ9TWF0aC5tYXgodCwxKSx0aGlzLl9pZGVhbEtlcm5lbD10LHRoaXMuX2tlcm5lbD10aGlzLl9uZWFyZXN0QmVzdEtlcm5lbCh0KSx0aGlzLl9ibG9ja0NvbXBpbGF0aW9ufHx0aGlzLl91cGRhdGVQYXJhbWV0ZXJzKCkpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwicGFja2VkRmxvYXQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcGFja2VkRmxvYXR9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9wYWNrZWRGbG9hdCE9PXQmJih0aGlzLl9wYWNrZWRGbG9hdD10LHRoaXMuX2Jsb2NrQ29tcGlsYXRpb258fHRoaXMuX3VwZGF0ZVBhcmFtZXRlcnMoKSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuZ2V0Q2xhc3NOYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIkJsdXJQb3N0UHJvY2VzcyJ9LGUucHJvdG90eXBlLnVwZGF0ZUVmZmVjdD1mdW5jdGlvbih0LHIsbixhLHMsbyl7dGhpcy5fdXBkYXRlUGFyYW1ldGVycyhzLG8pfSxlLnByb3RvdHlwZS5fdXBkYXRlUGFyYW1ldGVycz1mdW5jdGlvbih0LHIpe2Zvcih2YXIgbj10aGlzLl9rZXJuZWwsYT0obi0xKS8yLHM9W10sbz1bXSx1PTAsZj0wO2Y8bjtmKyspe3ZhciBsPWYvKG4tMSksaD10aGlzLl9nYXVzc2lhbldlaWdodChsKjItMSk7c1tmXT1mLWEsb1tmXT1oLHUrPWh9Zm9yKHZhciBmPTA7ZjxvLmxlbmd0aDtmKyspb1tmXS89dTtmb3IodmFyIGM9W10sZD1bXSxwPVtdLGY9MDtmPD1hO2YrPTIpe3ZhciBnPU1hdGgubWluKGYrMSxNYXRoLmZsb29yKGEpKSxfPWY9PT1nO2lmKF8pcC5wdXNoKHtvOnNbZl0sdzpvW2ZdfSk7ZWxzZXt2YXIgdj1nPT09YSx5PW9bZl0rb1tnXSoodj8uNToxKSxFPXNbZl0rMS8oMStvW2ZdL29bZ10pO0U9PT0wPyhwLnB1c2goe286c1tmXSx3Om9bZl19KSxwLnB1c2goe286c1tmKzFdLHc6b1tmKzFdfSkpOihwLnB1c2goe286RSx3Onl9KSxwLnB1c2goe286LUUsdzp5fSkpfX1mb3IodmFyIGY9MDtmPHAubGVuZ3RoO2YrKylkW2ZdPXBbZl0ubyxjW2ZdPXBbZl0udztzPWQsbz1jO3ZhciBSPXRoaXMuZ2V0RW5naW5lKCkuZ2V0Q2FwcygpLm1heFZhcnlpbmdWZWN0b3JzLE09TWF0aC5tYXgoUiwwKS0xLEM9TWF0aC5taW4ocy5sZW5ndGgsTSksQT0iIjtBKz10aGlzLl9zdGF0aWNEZWZpbmVzLHRoaXMuX3N0YXRpY0RlZmluZXMuaW5kZXhPZigiRE9GIikhPS0xJiYoQSs9IiNkZWZpbmUgQ0VOVEVSX1dFSUdIVCAiLmNvbmNhdCh0aGlzLl9nbHNsRmxvYXQob1tDLTFdKSxgXHIKYCksQy0tKTtmb3IodmFyIGY9MDtmPEM7ZisrKUErPSIjZGVmaW5lIEtFUk5FTF9PRkZTRVQiLmNvbmNhdChmLCIgIikuY29uY2F0KHRoaXMuX2dsc2xGbG9hdChzW2ZdKSxgXHIKYCksQSs9IiNkZWZpbmUgS0VSTkVMX1dFSUdIVCIuY29uY2F0KGYsIiAiKS5jb25jYXQodGhpcy5fZ2xzbEZsb2F0KG9bZl0pLGBccgpgKTtmb3IodmFyIFM9MCxmPU07ZjxzLmxlbmd0aDtmKyspQSs9IiNkZWZpbmUgS0VSTkVMX0RFUF9PRkZTRVQiLmNvbmNhdChTLCIgIikuY29uY2F0KHRoaXMuX2dsc2xGbG9hdChzW2ZdKSxgXHIKYCksQSs9IiNkZWZpbmUgS0VSTkVMX0RFUF9XRUlHSFQiLmNvbmNhdChTLCIgIikuY29uY2F0KHRoaXMuX2dsc2xGbG9hdChvW2ZdKSxgXHIKYCksUysrO3RoaXMucGFja2VkRmxvYXQmJihBKz0iI2RlZmluZSBQQUNLRURGTE9BVCAxIiksdGhpcy5fYmxvY2tDb21waWxhdGlvbj0hMSxpLnByb3RvdHlwZS51cGRhdGVFZmZlY3QuY2FsbCh0aGlzLEEsbnVsbCxudWxsLHt2YXJ5aW5nQ291bnQ6QyxkZXBDb3VudDpTfSx0LHIpfSxlLnByb3RvdHlwZS5fbmVhcmVzdEJlc3RLZXJuZWw9ZnVuY3Rpb24odCl7Zm9yKHZhciByPU1hdGgucm91bmQodCksbj0wLGE9W3Isci0xLHIrMSxyLTIscisyXTtuPGEubGVuZ3RoO24rKyl7dmFyIHM9YVtuXTtpZihzJTIhPT0wJiZNYXRoLmZsb29yKHMvMiklMj09PTAmJnM+MClyZXR1cm4gTWF0aC5tYXgocywzKX1yZXR1cm4gTWF0aC5tYXgociwzKX0sZS5wcm90b3R5cGUuX2dhdXNzaWFuV2VpZ2h0PWZ1bmN0aW9uKHQpe3ZhciByPS4zMzMzMzMzMzMzMzMzMzMzLG49TWF0aC5zcXJ0KDIqTWF0aC5QSSkqcixhPS0odCp0LygyKnIqcikpLHM9MS9uKk1hdGguZXhwKGEpO3JldHVybiBzfSxlLnByb3RvdHlwZS5fZ2xzbEZsb2F0PWZ1bmN0aW9uKHQscil7cmV0dXJuIHI9PT12b2lkIDAmJihyPTgpLHQudG9GaXhlZChyKS5yZXBsYWNlKC8wKyQvLCIiKX0sZS5fUGFyc2U9ZnVuY3Rpb24odCxyLG4sYSl7cmV0dXJuIHRlLlBhcnNlKGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBlKHQubmFtZSx0LmRpcmVjdGlvbix0Lmtlcm5lbCx0Lm9wdGlvbnMscix0LnJlbmRlclRhcmdldFNhbXBsaW5nTW9kZSxuLmdldEVuZ2luZSgpLHQucmV1c2FibGUsdC50ZXh0dXJlVHlwZSx2b2lkIDAsITEpfSx0LG4sYSl9LFQoW1AoImtlcm5lbCIpXSxlLnByb3RvdHlwZSwiX2tlcm5lbCIsdm9pZCAwKSxUKFtQKCJwYWNrZWRGbG9hdCIpXSxlLnByb3RvdHlwZSwiX3BhY2tlZEZsb2F0Iix2b2lkIDApLFQoW3VhKCldLGUucHJvdG90eXBlLCJkaXJlY3Rpb24iLHZvaWQgMCksZX0oYXIpO3dlKCJCQUJZTE9OLkJsdXJQb3N0UHJvY2VzcyIsZGkpO3ZhciBwaT1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoKXt0aGlzLl9kZWZpbmVzPXt9LHRoaXMuX2N1cnJlbnRSYW5rPTMyLHRoaXMuX21heFJhbms9LTEsdGhpcy5fbWVzaD1udWxsfXJldHVybiBpLnByb3RvdHlwZS51bkJpbmRNZXNoPWZ1bmN0aW9uKCl7dGhpcy5fbWVzaD1udWxsfSxpLnByb3RvdHlwZS5hZGRGYWxsYmFjaz1mdW5jdGlvbihlLHQpe3RoaXMuX2RlZmluZXNbZV18fChlPHRoaXMuX2N1cnJlbnRSYW5rJiYodGhpcy5fY3VycmVudFJhbms9ZSksZT50aGlzLl9tYXhSYW5rJiYodGhpcy5fbWF4UmFuaz1lKSx0aGlzLl9kZWZpbmVzW2VdPW5ldyBBcnJheSksdGhpcy5fZGVmaW5lc1tlXS5wdXNoKHQpfSxpLnByb3RvdHlwZS5hZGRDUFVTa2lubmluZ0ZhbGxiYWNrPWZ1bmN0aW9uKGUsdCl7dGhpcy5fbWVzaD10LGU8dGhpcy5fY3VycmVudFJhbmsmJih0aGlzLl9jdXJyZW50UmFuaz1lKSxlPnRoaXMuX21heFJhbmsmJih0aGlzLl9tYXhSYW5rPWUpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImhhc01vcmVGYWxsYmFja3MiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY3VycmVudFJhbms8PXRoaXMuX21heFJhbmt9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksaS5wcm90b3R5cGUucmVkdWNlPWZ1bmN0aW9uKGUsdCl7aWYodGhpcy5fbWVzaCYmdGhpcy5fbWVzaC5jb21wdXRlQm9uZXNVc2luZ1NoYWRlcnMmJnRoaXMuX21lc2gubnVtQm9uZUluZmx1ZW5jZXJzPjApe3RoaXMuX21lc2guY29tcHV0ZUJvbmVzVXNpbmdTaGFkZXJzPSExLGU9ZS5yZXBsYWNlKCIjZGVmaW5lIE5VTV9CT05FX0lORkxVRU5DRVJTICIrdGhpcy5fbWVzaC5udW1Cb25lSW5mbHVlbmNlcnMsIiNkZWZpbmUgTlVNX0JPTkVfSU5GTFVFTkNFUlMgMCIpLHQuX2JvbmVzQ29tcHV0YXRpb25Gb3JjZWRUb0NQVT0hMDtmb3IodmFyIHI9dGhpcy5fbWVzaC5nZXRTY2VuZSgpLG49MDtuPHIubWVzaGVzLmxlbmd0aDtuKyspe3ZhciBhPXIubWVzaGVzW25dO2lmKCFhLm1hdGVyaWFsKXshdGhpcy5fbWVzaC5tYXRlcmlhbCYmYS5jb21wdXRlQm9uZXNVc2luZ1NoYWRlcnMmJmEubnVtQm9uZUluZmx1ZW5jZXJzPjAmJihhLmNvbXB1dGVCb25lc1VzaW5nU2hhZGVycz0hMSk7Y29udGludWV9aWYoISghYS5jb21wdXRlQm9uZXNVc2luZ1NoYWRlcnN8fGEubnVtQm9uZUluZmx1ZW5jZXJzPT09MCkpe2lmKGEubWF0ZXJpYWwuZ2V0RWZmZWN0KCk9PT10KWEuY29tcHV0ZUJvbmVzVXNpbmdTaGFkZXJzPSExO2Vsc2UgaWYoYS5zdWJNZXNoZXMpZm9yKHZhciBzPTAsbz1hLnN1Yk1lc2hlcztzPG8ubGVuZ3RoO3MrKyl7dmFyIHU9b1tzXSxmPXUuZWZmZWN0O2lmKGY9PT10KXthLmNvbXB1dGVCb25lc1VzaW5nU2hhZGVycz0hMTticmVha319fX19ZWxzZXt2YXIgbD10aGlzLl9kZWZpbmVzW3RoaXMuX2N1cnJlbnRSYW5rXTtpZihsKWZvcih2YXIgbj0wO248bC5sZW5ndGg7bisrKWU9ZS5yZXBsYWNlKCIjZGVmaW5lICIrbFtuXSwiIik7dGhpcy5fY3VycmVudFJhbmsrK31yZXR1cm4gZX0saX0oKSxscz0iYmF5ZXJEaXRoZXJGdW5jdGlvbnMiLGhzPWBmbG9hdCBiYXllckRpdGhlcjIodmVjMiBfUCkgewpyZXR1cm4gbW9kKDIuMCpfUC55K19QLngrMS4wLDQuMCk7Cn0KZmxvYXQgYmF5ZXJEaXRoZXI0KHZlYzIgX1ApIHsKdmVjMiBQMT1tb2QoX1AsMi4wKTsgCnZlYzIgUDI9Zmxvb3IoMC41Km1vZChfUCw0LjApKTsgCnJldHVybiA0LjAqYmF5ZXJEaXRoZXIyKFAxKStiYXllckRpdGhlcjIoUDIpOwp9CmZsb2F0IGJheWVyRGl0aGVyOCh2ZWMyIF9QKSB7CnZlYzIgUDE9bW9kKF9QLDIuMCk7IAp2ZWMyIFAyPWZsb29yKDAuNSAqbW9kKF9QLDQuMCkpOyAKdmVjMiBQND1mbG9vcigwLjI1Km1vZChfUCw4LjApKTsgCnJldHVybiA0LjAqKDQuMCpiYXllckRpdGhlcjIoUDEpK2JheWVyRGl0aGVyMihQMikpK2JheWVyRGl0aGVyMihQNCk7Cn0KYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW2xzXT1oczt2YXIgY3M9InNoYWRvd01hcEZyYWdtZW50RXh0cmFEZWNsYXJhdGlvbiIsZHM9YCNpZiBTTV9GTE9BVD09MAojaW5jbHVkZTxwYWNraW5nRnVuY3Rpb25zPgojZW5kaWYKI2lmIFNNX1NPRlRUUkFOU1BBUkVOVFNIQURPVz09MQojaW5jbHVkZTxiYXllckRpdGhlckZ1bmN0aW9ucz4KdW5pZm9ybSBmbG9hdCBzb2Z0VHJhbnNwYXJlbnRTaGFkb3dTTTsKI2VuZGlmCnZhcnlpbmcgZmxvYXQgdkRlcHRoTWV0cmljU007CiNpZiBTTV9VU0VESVNUQU5DRT09MQp1bmlmb3JtIHZlYzMgbGlnaHREYXRhU007CnZhcnlpbmcgdmVjMyB2UG9zaXRpb25XU007CiNlbmRpZgp1bmlmb3JtIHZlYzMgYmlhc0FuZFNjYWxlU007CnVuaWZvcm0gdmVjMiBkZXB0aFZhbHVlc1NNOwojaWYgZGVmaW5lZChTTV9ERVBUSENMQU1QKSAmJiBTTV9ERVBUSENMQU1QPT0xCnZhcnlpbmcgZmxvYXQgelNNOwojZW5kaWYKYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW2NzXT1kczt2YXIgcHM9ImNsaXBQbGFuZUZyYWdtZW50RGVjbGFyYXRpb24iLF9zPWAjaWZkZWYgQ0xJUFBMQU5FCnZhcnlpbmcgZmxvYXQgZkNsaXBEaXN0YW5jZTsKI2VuZGlmCiNpZmRlZiBDTElQUExBTkUyCnZhcnlpbmcgZmxvYXQgZkNsaXBEaXN0YW5jZTI7CiNlbmRpZgojaWZkZWYgQ0xJUFBMQU5FMwp2YXJ5aW5nIGZsb2F0IGZDbGlwRGlzdGFuY2UzOwojZW5kaWYKI2lmZGVmIENMSVBQTEFORTQKdmFyeWluZyBmbG9hdCBmQ2xpcERpc3RhbmNlNDsKI2VuZGlmCiNpZmRlZiBDTElQUExBTkU1CnZhcnlpbmcgZmxvYXQgZkNsaXBEaXN0YW5jZTU7CiNlbmRpZgojaWZkZWYgQ0xJUFBMQU5FNgp2YXJ5aW5nIGZsb2F0IGZDbGlwRGlzdGFuY2U2OwojZW5kaWYKYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW3BzXT1fczt2YXIgZ3M9ImNsaXBQbGFuZUZyYWdtZW50Iix2cz1gI2lmIGRlZmluZWQoQ0xJUFBMQU5FKSB8fCBkZWZpbmVkKENMSVBQTEFORTIpIHx8IGRlZmluZWQoQ0xJUFBMQU5FMykgfHwgZGVmaW5lZChDTElQUExBTkU0KSB8fCBkZWZpbmVkKENMSVBQTEFORTUpIHx8IGRlZmluZWQoQ0xJUFBMQU5FNikKaWYgKGZhbHNlKSB7fQojZW5kaWYKI2lmZGVmIENMSVBQTEFORQplbHNlIGlmIChmQ2xpcERpc3RhbmNlPjAuMCkKewpkaXNjYXJkOwp9CiNlbmRpZgojaWZkZWYgQ0xJUFBMQU5FMgplbHNlIGlmIChmQ2xpcERpc3RhbmNlMj4wLjApCnsKZGlzY2FyZDsKfQojZW5kaWYKI2lmZGVmIENMSVBQTEFORTMKZWxzZSBpZiAoZkNsaXBEaXN0YW5jZTM+MC4wKQp7CmRpc2NhcmQ7Cn0KI2VuZGlmCiNpZmRlZiBDTElQUExBTkU0CmVsc2UgaWYgKGZDbGlwRGlzdGFuY2U0PjAuMCkKewpkaXNjYXJkOwp9CiNlbmRpZgojaWZkZWYgQ0xJUFBMQU5FNQplbHNlIGlmIChmQ2xpcERpc3RhbmNlNT4wLjApCnsKZGlzY2FyZDsKfQojZW5kaWYKI2lmZGVmIENMSVBQTEFORTYKZWxzZSBpZiAoZkNsaXBEaXN0YW5jZTY+MC4wKQp7CmRpc2NhcmQ7Cn0KI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtnc109dnM7dmFyIG1zPSJzaGFkb3dNYXBGcmFnbWVudCIseXM9YGZsb2F0IGRlcHRoU009dkRlcHRoTWV0cmljU007CiNpZiBkZWZpbmVkKFNNX0RFUFRIQ0xBTVApICYmIFNNX0RFUFRIQ0xBTVA9PTEKI2lmIFNNX1VTRURJU1RBTkNFPT0xCmRlcHRoU009KGxlbmd0aCh2UG9zaXRpb25XU00tbGlnaHREYXRhU00pK2RlcHRoVmFsdWVzU00ueCkvZGVwdGhWYWx1ZXNTTS55K2JpYXNBbmRTY2FsZVNNLng7CiNlbHNlCiNpZmRlZiBVU0VfUkVWRVJTRV9ERVBUSEJVRkZFUgpkZXB0aFNNPSgtelNNK2RlcHRoVmFsdWVzU00ueCkvZGVwdGhWYWx1ZXNTTS55K2JpYXNBbmRTY2FsZVNNLng7CiNlbHNlCmRlcHRoU009KHpTTStkZXB0aFZhbHVlc1NNLngpL2RlcHRoVmFsdWVzU00ueStiaWFzQW5kU2NhbGVTTS54OwojZW5kaWYKI2VuZGlmCiNpZmRlZiBVU0VfUkVWRVJTRV9ERVBUSEJVRkZFUgpnbF9GcmFnRGVwdGg9Y2xhbXAoMS4wLWRlcHRoU00sMC4wLDEuMCk7CiNlbHNlCmdsX0ZyYWdEZXB0aD1jbGFtcChkZXB0aFNNLDAuMCwxLjApOyAKI2VuZGlmCiNlbGlmIFNNX1VTRURJU1RBTkNFPT0xCmRlcHRoU009KGxlbmd0aCh2UG9zaXRpb25XU00tbGlnaHREYXRhU00pK2RlcHRoVmFsdWVzU00ueCkvZGVwdGhWYWx1ZXNTTS55K2JpYXNBbmRTY2FsZVNNLng7CiNlbmRpZgojaWYgU01fRVNNPT0xCmRlcHRoU009Y2xhbXAoZXhwKC1taW4oODcuLGJpYXNBbmRTY2FsZVNNLnoqZGVwdGhTTSkpLDAuLDEuKTsKI2VuZGlmCiNpZiBTTV9GTE9BVD09MQpnbF9GcmFnQ29sb3I9dmVjNChkZXB0aFNNLDEuMCwxLjAsMS4wKTsKI2Vsc2UKZ2xfRnJhZ0NvbG9yPXBhY2soZGVwdGhTTSk7CiNlbmRpZgpyZXR1cm47YDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW21zXT15czt2YXIgYnM9InNoYWRvd01hcFBpeGVsU2hhZGVyIixFcz1gI2luY2x1ZGU8c2hhZG93TWFwRnJhZ21lbnRFeHRyYURlY2xhcmF0aW9uPgojaWZkZWYgQUxQSEFURVNUCnZhcnlpbmcgdmVjMiB2VVY7CnVuaWZvcm0gc2FtcGxlcjJEIGRpZmZ1c2VTYW1wbGVyOwojZW5kaWYKI2luY2x1ZGU8Y2xpcFBsYW5lRnJhZ21lbnREZWNsYXJhdGlvbj4KI2RlZmluZSBDVVNUT01fRlJBR01FTlRfREVGSU5JVElPTlMKdm9pZCBtYWluKHZvaWQpCnsKI2luY2x1ZGU8Y2xpcFBsYW5lRnJhZ21lbnQ+CiNpZmRlZiBBTFBIQVRFU1QKZmxvYXQgYWxwaGFGcm9tQWxwaGFUZXh0dXJlPXRleHR1cmUyRChkaWZmdXNlU2FtcGxlcix2VVYpLmE7CmlmIChhbHBoYUZyb21BbHBoYVRleHR1cmU8QUxQSEFURVNUVkFMVUUpCmRpc2NhcmQ7CiNlbmRpZgojaWYgU01fU09GVFRSQU5TUEFSRU5UU0hBRE9XPT0xCiNpZmRlZiBBTFBIQVRFU1QKaWYgKChiYXllckRpdGhlcjgoZmxvb3IobW9kKGdsX0ZyYWdDb29yZC54eSw4LjApKSkpLzY0LjA+PXNvZnRUcmFuc3BhcmVudFNoYWRvd1NNKmFscGhhRnJvbUFscGhhVGV4dHVyZSkgZGlzY2FyZDsKI2Vsc2UKaWYgKChiYXllckRpdGhlcjgoZmxvb3IobW9kKGdsX0ZyYWdDb29yZC54eSw4LjApKSkpLzY0LjA+PXNvZnRUcmFuc3BhcmVudFNoYWRvd1NNKSBkaXNjYXJkOwojZW5kaWYKI2VuZGlmCiNpbmNsdWRlPHNoYWRvd01hcEZyYWdtZW50Pgp9YDtMLlNoYWRlcnNTdG9yZVtic109RXM7dmFyIFRzPSJib25lc0RlY2xhcmF0aW9uIixTcz1gI2lmIE5VTV9CT05FX0lORkxVRU5DRVJTPjAKYXR0cmlidXRlIHZlYzQgbWF0cmljZXNJbmRpY2VzOwphdHRyaWJ1dGUgdmVjNCBtYXRyaWNlc1dlaWdodHM7CiNpZiBOVU1fQk9ORV9JTkZMVUVOQ0VSUz40CmF0dHJpYnV0ZSB2ZWM0IG1hdHJpY2VzSW5kaWNlc0V4dHJhOwphdHRyaWJ1dGUgdmVjNCBtYXRyaWNlc1dlaWdodHNFeHRyYTsKI2VuZGlmCiNpZm5kZWYgQkFLRURfVkVSVEVYX0FOSU1BVElPTl9URVhUVVJFCiNpZmRlZiBCT05FVEVYVFVSRQp1bmlmb3JtIHNhbXBsZXIyRCBib25lU2FtcGxlcjsKdW5pZm9ybSBmbG9hdCBib25lVGV4dHVyZVdpZHRoOwojZWxzZQp1bmlmb3JtIG1hdDQgbUJvbmVzW0JvbmVzUGVyTWVzaF07CiNpZmRlZiBCT05FU19WRUxPQ0lUWV9FTkFCTEVECnVuaWZvcm0gbWF0NCBtUHJldmlvdXNCb25lc1tCb25lc1Blck1lc2hdOwojZW5kaWYKI2VuZGlmCiNpZmRlZiBCT05FVEVYVFVSRQojZGVmaW5lIGlubGluZQptYXQ0IHJlYWRNYXRyaXhGcm9tUmF3U2FtcGxlcihzYW1wbGVyMkQgc21wLGZsb2F0IGluZGV4KQp7CmZsb2F0IG9mZnNldD1pbmRleCAqNC4wOwpmbG9hdCBkeD0xLjAvYm9uZVRleHR1cmVXaWR0aDsKdmVjNCBtMD10ZXh0dXJlMkQoc21wLHZlYzIoZHgqKG9mZnNldCswLjUpLDAuKSk7CnZlYzQgbTE9dGV4dHVyZTJEKHNtcCx2ZWMyKGR4KihvZmZzZXQrMS41KSwwLikpOwp2ZWM0IG0yPXRleHR1cmUyRChzbXAsdmVjMihkeCoob2Zmc2V0KzIuNSksMC4pKTsKdmVjNCBtMz10ZXh0dXJlMkQoc21wLHZlYzIoZHgqKG9mZnNldCszLjUpLDAuKSk7CnJldHVybiBtYXQ0KG0wLG0xLG0yLG0zKTsKfQojZW5kaWYKI2VuZGlmCiNlbmRpZgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbVHNdPVNzO3ZhciBNcz0iYmFrZWRWZXJ0ZXhBbmltYXRpb25EZWNsYXJhdGlvbiIsQXM9YCNpZmRlZiBCQUtFRF9WRVJURVhfQU5JTUFUSU9OX1RFWFRVUkUKdW5pZm9ybSBmbG9hdCBiYWtlZFZlcnRleEFuaW1hdGlvblRpbWU7CnVuaWZvcm0gdmVjMiBiYWtlZFZlcnRleEFuaW1hdGlvblRleHR1cmVTaXplSW52ZXJ0ZWQ7CnVuaWZvcm0gdmVjNCBiYWtlZFZlcnRleEFuaW1hdGlvblNldHRpbmdzOwp1bmlmb3JtIHNhbXBsZXIyRCBiYWtlZFZlcnRleEFuaW1hdGlvblRleHR1cmU7CiNpZmRlZiBJTlNUQU5DRVMKYXR0cmlidXRlIHZlYzQgYmFrZWRWZXJ0ZXhBbmltYXRpb25TZXR0aW5nc0luc3RhbmNlZDsKI2VuZGlmCiNkZWZpbmUgaW5saW5lCm1hdDQgcmVhZE1hdHJpeEZyb21SYXdTYW1wbGVyVkFUKHNhbXBsZXIyRCBzbXAsZmxvYXQgaW5kZXgsZmxvYXQgZnJhbWUpCnsKZmxvYXQgb2Zmc2V0PWluZGV4KjQuMDsKZmxvYXQgZnJhbWVVVj0oZnJhbWUrMC41KSpiYWtlZFZlcnRleEFuaW1hdGlvblRleHR1cmVTaXplSW52ZXJ0ZWQueTsKZmxvYXQgZHg9YmFrZWRWZXJ0ZXhBbmltYXRpb25UZXh0dXJlU2l6ZUludmVydGVkLng7CnZlYzQgbTA9dGV4dHVyZTJEKHNtcCx2ZWMyKGR4KihvZmZzZXQrMC41KSxmcmFtZVVWKSk7CnZlYzQgbTE9dGV4dHVyZTJEKHNtcCx2ZWMyKGR4KihvZmZzZXQrMS41KSxmcmFtZVVWKSk7CnZlYzQgbTI9dGV4dHVyZTJEKHNtcCx2ZWMyKGR4KihvZmZzZXQrMi41KSxmcmFtZVVWKSk7CnZlYzQgbTM9dGV4dHVyZTJEKHNtcCx2ZWMyKGR4KihvZmZzZXQrMy41KSxmcmFtZVVWKSk7CnJldHVybiBtYXQ0KG0wLG0xLG0yLG0zKTsKfQojZW5kaWYKYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW01zXT1Bczt2YXIgUnM9Im1vcnBoVGFyZ2V0c1ZlcnRleEdsb2JhbERlY2xhcmF0aW9uIixQcz1gI2lmZGVmIE1PUlBIVEFSR0VUUwp1bmlmb3JtIGZsb2F0IG1vcnBoVGFyZ2V0SW5mbHVlbmNlc1tOVU1fTU9SUEhfSU5GTFVFTkNFUlNdOwojaWZkZWYgTU9SUEhUQVJHRVRTX1RFWFRVUkUgCnByZWNpc2lvbiBtZWRpdW1wIHNhbXBsZXIyREFycmF5OyAKdW5pZm9ybSBmbG9hdCBtb3JwaFRhcmdldFRleHR1cmVJbmRpY2VzW05VTV9NT1JQSF9JTkZMVUVOQ0VSU107CnVuaWZvcm0gdmVjMyBtb3JwaFRhcmdldFRleHR1cmVJbmZvOwp1bmlmb3JtIHNhbXBsZXIyREFycmF5IG1vcnBoVGFyZ2V0czsKdmVjMyByZWFkVmVjdG9yM0Zyb21SYXdTYW1wbGVyKGludCB0YXJnZXRJbmRleCxmbG9hdCB2ZXJ0ZXhJbmRleCkKeyAKZmxvYXQgeT1mbG9vcih2ZXJ0ZXhJbmRleC9tb3JwaFRhcmdldFRleHR1cmVJbmZvLnkpOwpmbG9hdCB4PXZlcnRleEluZGV4LXkqbW9ycGhUYXJnZXRUZXh0dXJlSW5mby55Owp2ZWMzIHRleHR1cmVVVj12ZWMzKCh4KzAuNSkvbW9ycGhUYXJnZXRUZXh0dXJlSW5mby55LCh5KzAuNSkvbW9ycGhUYXJnZXRUZXh0dXJlSW5mby56LG1vcnBoVGFyZ2V0VGV4dHVyZUluZGljZXNbdGFyZ2V0SW5kZXhdKTsKcmV0dXJuIHRleHR1cmUobW9ycGhUYXJnZXRzLHRleHR1cmVVVikueHl6Owp9CiNlbmRpZgojZW5kaWYKYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW1JzXT1Qczt2YXIgQ3M9Im1vcnBoVGFyZ2V0c1ZlcnRleERlY2xhcmF0aW9uIix4cz1gI2lmZGVmIE1PUlBIVEFSR0VUUwojaWZuZGVmIE1PUlBIVEFSR0VUU19URVhUVVJFCmF0dHJpYnV0ZSB2ZWMzIHBvc2l0aW9ue1h9OwojaWZkZWYgTU9SUEhUQVJHRVRTX05PUk1BTAphdHRyaWJ1dGUgdmVjMyBub3JtYWx7WH07CiNlbmRpZgojaWZkZWYgTU9SUEhUQVJHRVRTX1RBTkdFTlQKYXR0cmlidXRlIHZlYzMgdGFuZ2VudHtYfTsKI2VuZGlmCiNpZmRlZiBNT1JQSFRBUkdFVFNfVVYKYXR0cmlidXRlIHZlYzIgdXZfe1h9OwojZW5kaWYKI2VuZGlmCiNlbmRpZgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbQ3NdPXhzO3ZhciBEcz0iaGVscGVyRnVuY3Rpb25zIixJcz1gY29uc3QgZmxvYXQgUEk9My4xNDE1OTI2NTM1ODk3OTMyMzg0NjI2NDMzODMyNzk1Owpjb25zdCBmbG9hdCBIQUxGX01JTj01Ljk2MDQ2NDQ4ZS0wODsgCmNvbnN0IGZsb2F0IExpbmVhckVuY29kZVBvd2VyQXBwcm94PTIuMjsKY29uc3QgZmxvYXQgR2FtbWFFbmNvZGVQb3dlckFwcHJveD0xLjAvTGluZWFyRW5jb2RlUG93ZXJBcHByb3g7CmNvbnN0IHZlYzMgTHVtaW5hbmNlRW5jb2RlQXBwcm94PXZlYzMoMC4yMTI2LDAuNzE1MiwwLjA3MjIpOwpjb25zdCBmbG9hdCBFcHNpbG9uPTAuMDAwMDAwMTsKI2RlZmluZSBzYXR1cmF0ZSh4KSBjbGFtcCh4LDAuMCwxLjApCiNkZWZpbmUgYWJzRXBzKHgpIGFicyh4KStFcHNpbG9uCiNkZWZpbmUgbWF4RXBzKHgpIG1heCh4LEVwc2lsb24pCiNkZWZpbmUgc2F0dXJhdGVFcHMoeCkgY2xhbXAoeCxFcHNpbG9uLDEuMCkKbWF0MyB0cmFuc3Bvc2VNYXQzKG1hdDMgaW5NYXRyaXgpIHsKdmVjMyBpMD1pbk1hdHJpeFswXTsKdmVjMyBpMT1pbk1hdHJpeFsxXTsKdmVjMyBpMj1pbk1hdHJpeFsyXTsKbWF0MyBvdXRNYXRyaXg9bWF0MygKdmVjMyhpMC54LGkxLngsaTIueCksCnZlYzMoaTAueSxpMS55LGkyLnkpLAp2ZWMzKGkwLnosaTEueixpMi56KQopOwpyZXR1cm4gb3V0TWF0cml4Owp9Cm1hdDMgaW52ZXJzZU1hdDMobWF0MyBpbk1hdHJpeCkgewpmbG9hdCBhMDA9aW5NYXRyaXhbMF1bMF0sYTAxPWluTWF0cml4WzBdWzFdLGEwMj1pbk1hdHJpeFswXVsyXTsKZmxvYXQgYTEwPWluTWF0cml4WzFdWzBdLGExMT1pbk1hdHJpeFsxXVsxXSxhMTI9aW5NYXRyaXhbMV1bMl07CmZsb2F0IGEyMD1pbk1hdHJpeFsyXVswXSxhMjE9aW5NYXRyaXhbMl1bMV0sYTIyPWluTWF0cml4WzJdWzJdOwpmbG9hdCBiMDE9YTIyKmExMS1hMTIqYTIxOwpmbG9hdCBiMTE9LWEyMiphMTArYTEyKmEyMDsKZmxvYXQgYjIxPWEyMSphMTAtYTExKmEyMDsKZmxvYXQgZGV0PWEwMCpiMDErYTAxKmIxMSthMDIqYjIxOwpyZXR1cm4gbWF0MyhiMDEsKC1hMjIqYTAxK2EwMiphMjEpLChhMTIqYTAxLWEwMiphMTEpLApiMTEsKGEyMiphMDAtYTAyKmEyMCksKC1hMTIqYTAwK2EwMiphMTApLApiMjEsKC1hMjEqYTAwK2EwMSphMjApLChhMTEqYTAwLWEwMSphMTApKS9kZXQ7Cn0KZmxvYXQgdG9MaW5lYXJTcGFjZShmbG9hdCBjb2xvcikKewpyZXR1cm4gcG93KGNvbG9yLExpbmVhckVuY29kZVBvd2VyQXBwcm94KTsKfQp2ZWMzIHRvTGluZWFyU3BhY2UodmVjMyBjb2xvcikKewpyZXR1cm4gcG93KGNvbG9yLHZlYzMoTGluZWFyRW5jb2RlUG93ZXJBcHByb3gpKTsKfQp2ZWM0IHRvTGluZWFyU3BhY2UodmVjNCBjb2xvcikKewpyZXR1cm4gdmVjNChwb3coY29sb3IucmdiLHZlYzMoTGluZWFyRW5jb2RlUG93ZXJBcHByb3gpKSxjb2xvci5hKTsKfQp2ZWMzIHRvR2FtbWFTcGFjZSh2ZWMzIGNvbG9yKQp7CnJldHVybiBwb3coY29sb3IsdmVjMyhHYW1tYUVuY29kZVBvd2VyQXBwcm94KSk7Cn0KdmVjNCB0b0dhbW1hU3BhY2UodmVjNCBjb2xvcikKewpyZXR1cm4gdmVjNChwb3coY29sb3IucmdiLHZlYzMoR2FtbWFFbmNvZGVQb3dlckFwcHJveCkpLGNvbG9yLmEpOwp9CmZsb2F0IHRvR2FtbWFTcGFjZShmbG9hdCBjb2xvcikKewpyZXR1cm4gcG93KGNvbG9yLEdhbW1hRW5jb2RlUG93ZXJBcHByb3gpOwp9CmZsb2F0IHNxdWFyZShmbG9hdCB2YWx1ZSkKewpyZXR1cm4gdmFsdWUqdmFsdWU7Cn0KdmVjMyBzcXVhcmUodmVjMyB2YWx1ZSkKewpyZXR1cm4gdmFsdWUqdmFsdWU7Cn0KZmxvYXQgcG93NShmbG9hdCB2YWx1ZSkgewpmbG9hdCBzcT12YWx1ZSp2YWx1ZTsKcmV0dXJuIHNxKnNxKnZhbHVlOwp9CmZsb2F0IGdldEx1bWluYW5jZSh2ZWMzIGNvbG9yKQp7CnJldHVybiBjbGFtcChkb3QoY29sb3IsTHVtaW5hbmNlRW5jb2RlQXBwcm94KSwwLiwxLik7Cn0KZmxvYXQgZ2V0UmFuZCh2ZWMyIHNlZWQpIHsKcmV0dXJuIGZyYWN0KHNpbihkb3Qoc2VlZC54eSAsdmVjMigxMi45ODk4LDc4LjIzMykpKSo0Mzc1OC41NDUzKTsKfQpmbG9hdCBkaXRoZXIodmVjMiBzZWVkLGZsb2F0IHZhcmlhbmNlQW1vdW50KSB7CmZsb2F0IHJhbmQ9Z2V0UmFuZChzZWVkKTsKZmxvYXQgZGl0aGVyPW1peCgtdmFyaWFuY2VBbW91bnQvMjU1LjAsdmFyaWFuY2VBbW91bnQvMjU1LjAscmFuZCk7CnJldHVybiBkaXRoZXI7Cn0KY29uc3QgZmxvYXQgcmdiZE1heFJhbmdlPTI1NS4wOwp2ZWM0IHRvUkdCRCh2ZWMzIGNvbG9yKSB7CmZsb2F0IG1heFJHQj1tYXhFcHMobWF4KGNvbG9yLnIsbWF4KGNvbG9yLmcsY29sb3IuYikpKTsKZmxvYXQgRCA9bWF4KHJnYmRNYXhSYW5nZS9tYXhSR0IsMS4pOwpEID1jbGFtcChmbG9vcihEKS8yNTUuMCwwLiwxLik7CnZlYzMgcmdiPWNvbG9yLnJnYipEOwpyZ2I9dG9HYW1tYVNwYWNlKHJnYik7CnJldHVybiB2ZWM0KGNsYW1wKHJnYiwwLiwxLiksRCk7IAp9CnZlYzMgZnJvbVJHQkQodmVjNCByZ2JkKSB7CnJnYmQucmdiPXRvTGluZWFyU3BhY2UocmdiZC5yZ2IpOwpyZXR1cm4gcmdiZC5yZ2IvcmdiZC5hOwp9CnZlYzMgcGFyYWxsYXhDb3JyZWN0Tm9ybWFsKCB2ZWMzIHZlcnRleFBvcyx2ZWMzIG9yaWdWZWMsdmVjMyBjdWJlU2l6ZSx2ZWMzIGN1YmVQb3MgKSB7CnZlYzMgaW52T3JpZ1ZlYz12ZWMzKDEuMCwxLjAsMS4wKS9vcmlnVmVjOwp2ZWMzIGhhbGZTaXplPWN1YmVTaXplKjAuNTsKdmVjMyBpbnRlcnNlY0F0TWF4UGxhbmU9KGN1YmVQb3MraGFsZlNpemUtdmVydGV4UG9zKSppbnZPcmlnVmVjOwp2ZWMzIGludGVyc2VjQXRNaW5QbGFuZT0oY3ViZVBvcy1oYWxmU2l6ZS12ZXJ0ZXhQb3MpKmludk9yaWdWZWM7CnZlYzMgbGFyZ2VzdEludGVyc2VjPW1heChpbnRlcnNlY0F0TWF4UGxhbmUsaW50ZXJzZWNBdE1pblBsYW5lKTsKZmxvYXQgZGlzdGFuY2U9bWluKG1pbihsYXJnZXN0SW50ZXJzZWMueCxsYXJnZXN0SW50ZXJzZWMueSksbGFyZ2VzdEludGVyc2VjLnopOwp2ZWMzIGludGVyc2VjdFBvc2l0aW9uV1M9dmVydGV4UG9zK29yaWdWZWMqZGlzdGFuY2U7CnJldHVybiBpbnRlcnNlY3RQb3NpdGlvbldTLWN1YmVQb3M7Cn0KYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW0RzXT1Jczt2YXIgT3M9InNjZW5lVmVydGV4RGVjbGFyYXRpb24iLEZzPWB1bmlmb3JtIG1hdDQgdmlld1Byb2plY3Rpb247CiNpZmRlZiBNVUxUSVZJRVcKdW5pZm9ybSBtYXQ0IHZpZXdQcm9qZWN0aW9uUjsKI2VuZGlmCnVuaWZvcm0gbWF0NCB2aWV3Owp1bmlmb3JtIG1hdDQgcHJvamVjdGlvbjsKdW5pZm9ybSB2ZWM0IHZFeWVQb3NpdGlvbjsKYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW09zXT1Gczt2YXIgd3M9Im1lc2hWZXJ0ZXhEZWNsYXJhdGlvbiIsTHM9YHVuaWZvcm0gbWF0NCB3b3JsZDsKdW5pZm9ybSBmbG9hdCB2aXNpYmlsaXR5OwpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbd3NdPUxzO3ZhciBOcz0ic2hhZG93TWFwVmVydGV4RGVjbGFyYXRpb24iLEJzPWAjaW5jbHVkZTxzY2VuZVZlcnRleERlY2xhcmF0aW9uPgojaW5jbHVkZTxtZXNoVmVydGV4RGVjbGFyYXRpb24+CmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtOc109QnM7dmFyIFVzPSJzY2VuZVVib0RlY2xhcmF0aW9uIixWcz1gbGF5b3V0KHN0ZDE0MCxjb2x1bW5fbWFqb3IpIHVuaWZvcm07CnVuaWZvcm0gU2NlbmUgewptYXQ0IHZpZXdQcm9qZWN0aW9uOwojaWZkZWYgTVVMVElWSUVXCm1hdDQgdmlld1Byb2plY3Rpb25SOwojZW5kaWYgCm1hdDQgdmlldzsKbWF0NCBwcm9qZWN0aW9uOwp2ZWM0IHZFeWVQb3NpdGlvbjsKfTsKYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW1VzXT1Wczt2YXIga3M9Im1lc2hVYm9EZWNsYXJhdGlvbiIsV3M9YCNpZmRlZiBXRUJHTDIKdW5pZm9ybSBtYXQ0IHdvcmxkOwp1bmlmb3JtIGZsb2F0IHZpc2liaWxpdHk7CiNlbHNlCmxheW91dChzdGQxNDAsY29sdW1uX21ham9yKSB1bmlmb3JtOwp1bmlmb3JtIE1lc2gKewptYXQ0IHdvcmxkOwpmbG9hdCB2aXNpYmlsaXR5Owp9OwojZW5kaWYKI2RlZmluZSBXT1JMRF9VQk8KYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW2tzXT1Xczt2YXIgenM9InNoYWRvd01hcFVib0RlY2xhcmF0aW9uIixHcz1gbGF5b3V0KHN0ZDE0MCxjb2x1bW5fbWFqb3IpIHVuaWZvcm07CiNpbmNsdWRlPHNjZW5lVWJvRGVjbGFyYXRpb24+CiNpbmNsdWRlPG1lc2hVYm9EZWNsYXJhdGlvbj4KYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW3pzXT1Hczt2YXIgWHM9InNoYWRvd01hcFZlcnRleEV4dHJhRGVjbGFyYXRpb24iLEhzPWAjaWYgU01fTk9STUFMQklBUz09MQp1bmlmb3JtIHZlYzMgbGlnaHREYXRhU007CiNlbmRpZgp1bmlmb3JtIHZlYzMgYmlhc0FuZFNjYWxlU007CnVuaWZvcm0gdmVjMiBkZXB0aFZhbHVlc1NNOwp2YXJ5aW5nIGZsb2F0IHZEZXB0aE1ldHJpY1NNOwojaWYgU01fVVNFRElTVEFOQ0U9PTEKdmFyeWluZyB2ZWMzIHZQb3NpdGlvbldTTTsKI2VuZGlmCiNpZiBkZWZpbmVkKFNNX0RFUFRIQ0xBTVApICYmIFNNX0RFUFRIQ0xBTVA9PTEKdmFyeWluZyBmbG9hdCB6U007CiNlbmRpZgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbWHNdPUhzO3ZhciBqcz0iY2xpcFBsYW5lVmVydGV4RGVjbGFyYXRpb24iLEtzPWAjaWZkZWYgQ0xJUFBMQU5FCnVuaWZvcm0gdmVjNCB2Q2xpcFBsYW5lOwp2YXJ5aW5nIGZsb2F0IGZDbGlwRGlzdGFuY2U7CiNlbmRpZgojaWZkZWYgQ0xJUFBMQU5FMgp1bmlmb3JtIHZlYzQgdkNsaXBQbGFuZTI7CnZhcnlpbmcgZmxvYXQgZkNsaXBEaXN0YW5jZTI7CiNlbmRpZgojaWZkZWYgQ0xJUFBMQU5FMwp1bmlmb3JtIHZlYzQgdkNsaXBQbGFuZTM7CnZhcnlpbmcgZmxvYXQgZkNsaXBEaXN0YW5jZTM7CiNlbmRpZgojaWZkZWYgQ0xJUFBMQU5FNAp1bmlmb3JtIHZlYzQgdkNsaXBQbGFuZTQ7CnZhcnlpbmcgZmxvYXQgZkNsaXBEaXN0YW5jZTQ7CiNlbmRpZgojaWZkZWYgQ0xJUFBMQU5FNQp1bmlmb3JtIHZlYzQgdkNsaXBQbGFuZTU7CnZhcnlpbmcgZmxvYXQgZkNsaXBEaXN0YW5jZTU7CiNlbmRpZgojaWZkZWYgQ0xJUFBMQU5FNgp1bmlmb3JtIHZlYzQgdkNsaXBQbGFuZTY7CnZhcnlpbmcgZmxvYXQgZkNsaXBEaXN0YW5jZTY7CiNlbmRpZgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbanNdPUtzO3ZhciBZcz0ibW9ycGhUYXJnZXRzVmVydGV4R2xvYmFsIixacz1gI2lmZGVmIE1PUlBIVEFSR0VUUwojaWZkZWYgTU9SUEhUQVJHRVRTX1RFWFRVUkUKZmxvYXQgdmVydGV4SUQ7CiNlbmRpZgojZW5kaWYKYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW1lzXT1aczt2YXIgcXM9Im1vcnBoVGFyZ2V0c1ZlcnRleCIsUXM9YCNpZmRlZiBNT1JQSFRBUkdFVFMKI2lmZGVmIE1PUlBIVEFSR0VUU19URVhUVVJFIAp2ZXJ0ZXhJRD1mbG9hdChnbF9WZXJ0ZXhJRCkqbW9ycGhUYXJnZXRUZXh0dXJlSW5mby54Owpwb3NpdGlvblVwZGF0ZWQrPShyZWFkVmVjdG9yM0Zyb21SYXdTYW1wbGVyKHtYfSx2ZXJ0ZXhJRCktcG9zaXRpb24pKm1vcnBoVGFyZ2V0SW5mbHVlbmNlc1t7WH1dOwp2ZXJ0ZXhJRCs9MS4wOwojaWZkZWYgTU9SUEhUQVJHRVRTX05PUk1BTApub3JtYWxVcGRhdGVkKz0ocmVhZFZlY3RvcjNGcm9tUmF3U2FtcGxlcih7WH0sdmVydGV4SUQpIC1ub3JtYWwpKm1vcnBoVGFyZ2V0SW5mbHVlbmNlc1t7WH1dOwp2ZXJ0ZXhJRCs9MS4wOwojZW5kaWYKI2lmZGVmIE1PUlBIVEFSR0VUU19VVgp1dlVwZGF0ZWQrPShyZWFkVmVjdG9yM0Zyb21SYXdTYW1wbGVyKHtYfSx2ZXJ0ZXhJRCkueHktdXYpKm1vcnBoVGFyZ2V0SW5mbHVlbmNlc1t7WH1dOwp2ZXJ0ZXhJRCs9MS4wOwojZW5kaWYKI2lmZGVmIE1PUlBIVEFSR0VUU19UQU5HRU5UCnRhbmdlbnRVcGRhdGVkLnh5eis9KHJlYWRWZWN0b3IzRnJvbVJhd1NhbXBsZXIoe1h9LHZlcnRleElEKSAtdGFuZ2VudC54eXopKm1vcnBoVGFyZ2V0SW5mbHVlbmNlc1t7WH1dOwojZW5kaWYKI2Vsc2UKcG9zaXRpb25VcGRhdGVkKz0ocG9zaXRpb257WH0tcG9zaXRpb24pKm1vcnBoVGFyZ2V0SW5mbHVlbmNlc1t7WH1dOwojaWZkZWYgTU9SUEhUQVJHRVRTX05PUk1BTApub3JtYWxVcGRhdGVkKz0obm9ybWFse1h9LW5vcm1hbCkqbW9ycGhUYXJnZXRJbmZsdWVuY2VzW3tYfV07CiNlbmRpZgojaWZkZWYgTU9SUEhUQVJHRVRTX1RBTkdFTlQKdGFuZ2VudFVwZGF0ZWQueHl6Kz0odGFuZ2VudHtYfS10YW5nZW50Lnh5eikqbW9ycGhUYXJnZXRJbmZsdWVuY2VzW3tYfV07CiNlbmRpZgojaWZkZWYgTU9SUEhUQVJHRVRTX1VWCnV2VXBkYXRlZCs9KHV2X3tYfS11dikqbW9ycGhUYXJnZXRJbmZsdWVuY2VzW3tYfV07CiNlbmRpZgojZW5kaWYKI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtxc109UXM7dmFyICRzPSJpbnN0YW5jZXNWZXJ0ZXgiLEpzPWAjaWZkZWYgSU5TVEFOQ0VTCm1hdDQgZmluYWxXb3JsZD1tYXQ0KHdvcmxkMCx3b3JsZDEsd29ybGQyLHdvcmxkMyk7CiNpZiBkZWZpbmVkKFBSRVBBU1NfVkVMT0NJVFkpIHx8IGRlZmluZWQoVkVMT0NJVFkpCm1hdDQgZmluYWxQcmV2aW91c1dvcmxkPW1hdDQocHJldmlvdXNXb3JsZDAscHJldmlvdXNXb3JsZDEscHJldmlvdXNXb3JsZDIscHJldmlvdXNXb3JsZDMpOwojZW5kaWYKI2lmZGVmIFRISU5fSU5TVEFOQ0VTCmZpbmFsV29ybGQ9d29ybGQqZmluYWxXb3JsZDsKI2lmIGRlZmluZWQoUFJFUEFTU19WRUxPQ0lUWSkgfHwgZGVmaW5lZChWRUxPQ0lUWSkKZmluYWxQcmV2aW91c1dvcmxkPXByZXZpb3VzV29ybGQqZmluYWxQcmV2aW91c1dvcmxkOwojZW5kaWYKI2VuZGlmCiNlbHNlCm1hdDQgZmluYWxXb3JsZD13b3JsZDsKI2lmIGRlZmluZWQoUFJFUEFTU19WRUxPQ0lUWSkgfHwgZGVmaW5lZChWRUxPQ0lUWSkKbWF0NCBmaW5hbFByZXZpb3VzV29ybGQ9cHJldmlvdXNXb3JsZDsKI2VuZGlmCiNlbmRpZgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbJHNdPUpzO3ZhciBlbz0iYm9uZXNWZXJ0ZXgiLHRvPWAjaWZuZGVmIEJBS0VEX1ZFUlRFWF9BTklNQVRJT05fVEVYVFVSRQojaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+MAptYXQ0IGluZmx1ZW5jZTsKI2lmZGVmIEJPTkVURVhUVVJFCmluZmx1ZW5jZT1yZWFkTWF0cml4RnJvbVJhd1NhbXBsZXIoYm9uZVNhbXBsZXIsbWF0cmljZXNJbmRpY2VzWzBdKSptYXRyaWNlc1dlaWdodHNbMF07CiNpZiBOVU1fQk9ORV9JTkZMVUVOQ0VSUz4xCmluZmx1ZW5jZSs9cmVhZE1hdHJpeEZyb21SYXdTYW1wbGVyKGJvbmVTYW1wbGVyLG1hdHJpY2VzSW5kaWNlc1sxXSkqbWF0cmljZXNXZWlnaHRzWzFdOwojZW5kaWYKI2lmIE5VTV9CT05FX0lORkxVRU5DRVJTPjIKaW5mbHVlbmNlKz1yZWFkTWF0cml4RnJvbVJhd1NhbXBsZXIoYm9uZVNhbXBsZXIsbWF0cmljZXNJbmRpY2VzWzJdKSptYXRyaWNlc1dlaWdodHNbMl07CiNlbmRpZgojaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+MwppbmZsdWVuY2UrPXJlYWRNYXRyaXhGcm9tUmF3U2FtcGxlcihib25lU2FtcGxlcixtYXRyaWNlc0luZGljZXNbM10pKm1hdHJpY2VzV2VpZ2h0c1szXTsKI2VuZGlmCiNpZiBOVU1fQk9ORV9JTkZMVUVOQ0VSUz40CmluZmx1ZW5jZSs9cmVhZE1hdHJpeEZyb21SYXdTYW1wbGVyKGJvbmVTYW1wbGVyLG1hdHJpY2VzSW5kaWNlc0V4dHJhWzBdKSptYXRyaWNlc1dlaWdodHNFeHRyYVswXTsKI2VuZGlmCiNpZiBOVU1fQk9ORV9JTkZMVUVOQ0VSUz41CmluZmx1ZW5jZSs9cmVhZE1hdHJpeEZyb21SYXdTYW1wbGVyKGJvbmVTYW1wbGVyLG1hdHJpY2VzSW5kaWNlc0V4dHJhWzFdKSptYXRyaWNlc1dlaWdodHNFeHRyYVsxXTsKI2VuZGlmCiNpZiBOVU1fQk9ORV9JTkZMVUVOQ0VSUz42CmluZmx1ZW5jZSs9cmVhZE1hdHJpeEZyb21SYXdTYW1wbGVyKGJvbmVTYW1wbGVyLG1hdHJpY2VzSW5kaWNlc0V4dHJhWzJdKSptYXRyaWNlc1dlaWdodHNFeHRyYVsyXTsKI2VuZGlmCiNpZiBOVU1fQk9ORV9JTkZMVUVOQ0VSUz43CmluZmx1ZW5jZSs9cmVhZE1hdHJpeEZyb21SYXdTYW1wbGVyKGJvbmVTYW1wbGVyLG1hdHJpY2VzSW5kaWNlc0V4dHJhWzNdKSptYXRyaWNlc1dlaWdodHNFeHRyYVszXTsKI2VuZGlmCiNlbHNlCmluZmx1ZW5jZT1tQm9uZXNbaW50KG1hdHJpY2VzSW5kaWNlc1swXSldKm1hdHJpY2VzV2VpZ2h0c1swXTsKI2lmIE5VTV9CT05FX0lORkxVRU5DRVJTPjEKaW5mbHVlbmNlKz1tQm9uZXNbaW50KG1hdHJpY2VzSW5kaWNlc1sxXSldKm1hdHJpY2VzV2VpZ2h0c1sxXTsKI2VuZGlmCiNpZiBOVU1fQk9ORV9JTkZMVUVOQ0VSUz4yCmluZmx1ZW5jZSs9bUJvbmVzW2ludChtYXRyaWNlc0luZGljZXNbMl0pXSptYXRyaWNlc1dlaWdodHNbMl07CiNlbmRpZgojaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+MwppbmZsdWVuY2UrPW1Cb25lc1tpbnQobWF0cmljZXNJbmRpY2VzWzNdKV0qbWF0cmljZXNXZWlnaHRzWzNdOwojZW5kaWYKI2lmIE5VTV9CT05FX0lORkxVRU5DRVJTPjQKaW5mbHVlbmNlKz1tQm9uZXNbaW50KG1hdHJpY2VzSW5kaWNlc0V4dHJhWzBdKV0qbWF0cmljZXNXZWlnaHRzRXh0cmFbMF07CiNlbmRpZgojaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+NQppbmZsdWVuY2UrPW1Cb25lc1tpbnQobWF0cmljZXNJbmRpY2VzRXh0cmFbMV0pXSptYXRyaWNlc1dlaWdodHNFeHRyYVsxXTsKI2VuZGlmCiNpZiBOVU1fQk9ORV9JTkZMVUVOQ0VSUz42CmluZmx1ZW5jZSs9bUJvbmVzW2ludChtYXRyaWNlc0luZGljZXNFeHRyYVsyXSldKm1hdHJpY2VzV2VpZ2h0c0V4dHJhWzJdOwojZW5kaWYKI2lmIE5VTV9CT05FX0lORkxVRU5DRVJTPjcKaW5mbHVlbmNlKz1tQm9uZXNbaW50KG1hdHJpY2VzSW5kaWNlc0V4dHJhWzNdKV0qbWF0cmljZXNXZWlnaHRzRXh0cmFbM107CiNlbmRpZgojZW5kaWYKZmluYWxXb3JsZD1maW5hbFdvcmxkKmluZmx1ZW5jZTsKI2VuZGlmCiNlbmRpZgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbZW9dPXRvO3ZhciBybz0iYmFrZWRWZXJ0ZXhBbmltYXRpb24iLGlvPWAjaWZkZWYgQkFLRURfVkVSVEVYX0FOSU1BVElPTl9URVhUVVJFCnsKI2lmZGVmIElOU1RBTkNFUwojZGVmaW5lIEJWQVNOQU1FIGJha2VkVmVydGV4QW5pbWF0aW9uU2V0dGluZ3NJbnN0YW5jZWQKI2Vsc2UKI2RlZmluZSBCVkFTTkFNRSBiYWtlZFZlcnRleEFuaW1hdGlvblNldHRpbmdzCiNlbmRpZgpmbG9hdCBWQVRTdGFydEZyYW1lPUJWQVNOQU1FLng7CmZsb2F0IFZBVEVuZEZyYW1lPUJWQVNOQU1FLnk7CmZsb2F0IFZBVE9mZnNldEZyYW1lPUJWQVNOQU1FLno7CmZsb2F0IFZBVFNwZWVkPUJWQVNOQU1FLnc7CmZsb2F0IHRvdGFsRnJhbWVzPVZBVEVuZEZyYW1lLVZBVFN0YXJ0RnJhbWUrMS4wOwpmbG9hdCB0aW1lPWJha2VkVmVydGV4QW5pbWF0aW9uVGltZSpWQVRTcGVlZC90b3RhbEZyYW1lczsKZmxvYXQgZnJhbWVDb3JyZWN0aW9uPXRpbWU8MS4wID8gMC4wIDogMS4wOwpmbG9hdCBudW1PZkZyYW1lcz10b3RhbEZyYW1lcy1mcmFtZUNvcnJlY3Rpb247CmZsb2F0IFZBVEZyYW1lTnVtPWZyYWN0KHRpbWUpKm51bU9mRnJhbWVzOwpWQVRGcmFtZU51bT1tb2QoVkFURnJhbWVOdW0rVkFUT2Zmc2V0RnJhbWUsbnVtT2ZGcmFtZXMpOwpWQVRGcmFtZU51bT1mbG9vcihWQVRGcmFtZU51bSk7ClZBVEZyYW1lTnVtKz1WQVRTdGFydEZyYW1lK2ZyYW1lQ29ycmVjdGlvbjsKbWF0NCBWQVRJbmZsdWVuY2U7ClZBVEluZmx1ZW5jZT1yZWFkTWF0cml4RnJvbVJhd1NhbXBsZXJWQVQoYmFrZWRWZXJ0ZXhBbmltYXRpb25UZXh0dXJlLG1hdHJpY2VzSW5kaWNlc1swXSxWQVRGcmFtZU51bSkqbWF0cmljZXNXZWlnaHRzWzBdOwojaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+MQpWQVRJbmZsdWVuY2UrPXJlYWRNYXRyaXhGcm9tUmF3U2FtcGxlclZBVChiYWtlZFZlcnRleEFuaW1hdGlvblRleHR1cmUsbWF0cmljZXNJbmRpY2VzWzFdLFZBVEZyYW1lTnVtKSptYXRyaWNlc1dlaWdodHNbMV07CiNlbmRpZgojaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+MgpWQVRJbmZsdWVuY2UrPXJlYWRNYXRyaXhGcm9tUmF3U2FtcGxlclZBVChiYWtlZFZlcnRleEFuaW1hdGlvblRleHR1cmUsbWF0cmljZXNJbmRpY2VzWzJdLFZBVEZyYW1lTnVtKSptYXRyaWNlc1dlaWdodHNbMl07CiNlbmRpZgojaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+MwpWQVRJbmZsdWVuY2UrPXJlYWRNYXRyaXhGcm9tUmF3U2FtcGxlclZBVChiYWtlZFZlcnRleEFuaW1hdGlvblRleHR1cmUsbWF0cmljZXNJbmRpY2VzWzNdLFZBVEZyYW1lTnVtKSptYXRyaWNlc1dlaWdodHNbM107CiNlbmRpZgojaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+NApWQVRJbmZsdWVuY2UrPXJlYWRNYXRyaXhGcm9tUmF3U2FtcGxlclZBVChiYWtlZFZlcnRleEFuaW1hdGlvblRleHR1cmUsbWF0cmljZXNJbmRpY2VzRXh0cmFbMF0sVkFURnJhbWVOdW0pKm1hdHJpY2VzV2VpZ2h0c0V4dHJhWzBdOwojZW5kaWYKI2lmIE5VTV9CT05FX0lORkxVRU5DRVJTPjUKVkFUSW5mbHVlbmNlKz1yZWFkTWF0cml4RnJvbVJhd1NhbXBsZXJWQVQoYmFrZWRWZXJ0ZXhBbmltYXRpb25UZXh0dXJlLG1hdHJpY2VzSW5kaWNlc0V4dHJhWzFdLFZBVEZyYW1lTnVtKSptYXRyaWNlc1dlaWdodHNFeHRyYVsxXTsKI2VuZGlmCiNpZiBOVU1fQk9ORV9JTkZMVUVOQ0VSUz42ClZBVEluZmx1ZW5jZSs9cmVhZE1hdHJpeEZyb21SYXdTYW1wbGVyVkFUKGJha2VkVmVydGV4QW5pbWF0aW9uVGV4dHVyZSxtYXRyaWNlc0luZGljZXNFeHRyYVsyXSxWQVRGcmFtZU51bSkqbWF0cmljZXNXZWlnaHRzRXh0cmFbMl07CiNlbmRpZgojaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+NwpWQVRJbmZsdWVuY2UrPXJlYWRNYXRyaXhGcm9tUmF3U2FtcGxlclZBVChiYWtlZFZlcnRleEFuaW1hdGlvblRleHR1cmUsbWF0cmljZXNJbmRpY2VzRXh0cmFbM10sVkFURnJhbWVOdW0pKm1hdHJpY2VzV2VpZ2h0c0V4dHJhWzNdOwojZW5kaWYKZmluYWxXb3JsZD1maW5hbFdvcmxkKlZBVEluZmx1ZW5jZTsKfQojZW5kaWYKYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW3JvXT1pbzt2YXIgbm89InNoYWRvd01hcFZlcnRleE5vcm1hbEJpYXMiLGFvPWAjaWYgU01fTk9STUFMQklBUz09MQojaWYgU01fRElSRUNUSU9OSU5MSUdIVERBVEE9PTEKdmVjMyB3b3JsZExpZ2h0RGlyU009bm9ybWFsaXplKC1saWdodERhdGFTTS54eXopOwojZWxzZQp2ZWMzIGRpcmVjdGlvblRvTGlnaHRTTT1saWdodERhdGFTTS54eXotd29ybGRQb3MueHl6Owp2ZWMzIHdvcmxkTGlnaHREaXJTTT1ub3JtYWxpemUoZGlyZWN0aW9uVG9MaWdodFNNKTsKI2VuZGlmCmZsb2F0IG5kbFNNPWRvdCh2Tm9ybWFsVyx3b3JsZExpZ2h0RGlyU00pOwpmbG9hdCBzaW5OTFNNPXNxcnQoMS4wLW5kbFNNKm5kbFNNKTsKZmxvYXQgbm9ybWFsQmlhc1NNPWJpYXNBbmRTY2FsZVNNLnkqc2luTkxTTTsKd29ybGRQb3MueHl6LT12Tm9ybWFsVypub3JtYWxCaWFzU007CiNlbmRpZgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbbm9dPWFvO3ZhciBzbz0ic2hhZG93TWFwVmVydGV4TWV0cmljIixvbz1gI2lmIFNNX1VTRURJU1RBTkNFPT0xCnZQb3NpdGlvbldTTT13b3JsZFBvcy54eXo7CiNlbmRpZgojaWYgU01fREVQVEhURVhUVVJFPT0xCiNpZmRlZiBJU19ORENfSEFMRl9aUkFOR0UKI2RlZmluZSBCSUFTRkFDVE9SIDAuNQojZWxzZQojZGVmaW5lIEJJQVNGQUNUT1IgMS4wCiNlbmRpZgojaWZkZWYgVVNFX1JFVkVSU0VfREVQVEhCVUZGRVIKZ2xfUG9zaXRpb24uei09Ymlhc0FuZFNjYWxlU00ueCpnbF9Qb3NpdGlvbi53KkJJQVNGQUNUT1I7CiNlbHNlCmdsX1Bvc2l0aW9uLnorPWJpYXNBbmRTY2FsZVNNLngqZ2xfUG9zaXRpb24udypCSUFTRkFDVE9SOwojZW5kaWYKI2VuZGlmCiNpZiBkZWZpbmVkKFNNX0RFUFRIQ0xBTVApICYmIFNNX0RFUFRIQ0xBTVA9PTEKelNNPWdsX1Bvc2l0aW9uLno7CmdsX1Bvc2l0aW9uLno9MC4wOwojZWxpZiBTTV9VU0VESVNUQU5DRT09MAojaWZkZWYgVVNFX1JFVkVSU0VfREVQVEhCVUZGRVIKdkRlcHRoTWV0cmljU009KC1nbF9Qb3NpdGlvbi56K2RlcHRoVmFsdWVzU00ueCkvZGVwdGhWYWx1ZXNTTS55K2JpYXNBbmRTY2FsZVNNLng7CiNlbHNlCnZEZXB0aE1ldHJpY1NNPShnbF9Qb3NpdGlvbi56K2RlcHRoVmFsdWVzU00ueCkvZGVwdGhWYWx1ZXNTTS55K2JpYXNBbmRTY2FsZVNNLng7CiNlbmRpZgojZW5kaWYKYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW3NvXT1vbzt2YXIgdW89ImNsaXBQbGFuZVZlcnRleCIsZm89YCNpZmRlZiBDTElQUExBTkUKZkNsaXBEaXN0YW5jZT1kb3Qod29ybGRQb3MsdkNsaXBQbGFuZSk7CiNlbmRpZgojaWZkZWYgQ0xJUFBMQU5FMgpmQ2xpcERpc3RhbmNlMj1kb3Qod29ybGRQb3MsdkNsaXBQbGFuZTIpOwojZW5kaWYKI2lmZGVmIENMSVBQTEFORTMKZkNsaXBEaXN0YW5jZTM9ZG90KHdvcmxkUG9zLHZDbGlwUGxhbmUzKTsKI2VuZGlmCiNpZmRlZiBDTElQUExBTkU0CmZDbGlwRGlzdGFuY2U0PWRvdCh3b3JsZFBvcyx2Q2xpcFBsYW5lNCk7CiNlbmRpZgojaWZkZWYgQ0xJUFBMQU5FNQpmQ2xpcERpc3RhbmNlNT1kb3Qod29ybGRQb3MsdkNsaXBQbGFuZTUpOwojZW5kaWYKI2lmZGVmIENMSVBQTEFORTYKZkNsaXBEaXN0YW5jZTY9ZG90KHdvcmxkUG9zLHZDbGlwUGxhbmU2KTsKI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVt1b109Zm87dmFyIGxvPSJzaGFkb3dNYXBWZXJ0ZXhTaGFkZXIiLGhvPWBhdHRyaWJ1dGUgdmVjMyBwb3NpdGlvbjsKI2lmZGVmIE5PUk1BTAphdHRyaWJ1dGUgdmVjMyBub3JtYWw7CiNlbmRpZgojaW5jbHVkZTxib25lc0RlY2xhcmF0aW9uPgojaW5jbHVkZTxiYWtlZFZlcnRleEFuaW1hdGlvbkRlY2xhcmF0aW9uPgojaW5jbHVkZTxtb3JwaFRhcmdldHNWZXJ0ZXhHbG9iYWxEZWNsYXJhdGlvbj4KI2luY2x1ZGU8bW9ycGhUYXJnZXRzVmVydGV4RGVjbGFyYXRpb24+WzAuLm1heFNpbXVsdGFuZW91c01vcnBoVGFyZ2V0c10KI2lmZGVmIElOU1RBTkNFUwphdHRyaWJ1dGUgdmVjNCB3b3JsZDA7CmF0dHJpYnV0ZSB2ZWM0IHdvcmxkMTsKYXR0cmlidXRlIHZlYzQgd29ybGQyOwphdHRyaWJ1dGUgdmVjNCB3b3JsZDM7CiNlbmRpZgojaW5jbHVkZTxoZWxwZXJGdW5jdGlvbnM+CiNpbmNsdWRlPF9fZGVjbF9fc2hhZG93TWFwVmVydGV4PgojaWZkZWYgQUxQSEFURVNUCnZhcnlpbmcgdmVjMiB2VVY7CnVuaWZvcm0gbWF0NCBkaWZmdXNlTWF0cml4OwojaWZkZWYgVVYxCmF0dHJpYnV0ZSB2ZWMyIHV2OwojZW5kaWYKI2lmZGVmIFVWMgphdHRyaWJ1dGUgdmVjMiB1djI7CiNlbmRpZgojZW5kaWYKI2luY2x1ZGU8c2hhZG93TWFwVmVydGV4RXh0cmFEZWNsYXJhdGlvbj4KI2luY2x1ZGU8Y2xpcFBsYW5lVmVydGV4RGVjbGFyYXRpb24+CiNkZWZpbmUgQ1VTVE9NX1ZFUlRFWF9ERUZJTklUSU9OUwp2b2lkIG1haW4odm9pZCkKewp2ZWMzIHBvc2l0aW9uVXBkYXRlZD1wb3NpdGlvbjsKI2lmZGVmIFVWMQp2ZWMyIHV2VXBkYXRlZD11djsKI2VuZGlmCiNpZmRlZiBOT1JNQUwKdmVjMyBub3JtYWxVcGRhdGVkPW5vcm1hbDsKI2VuZGlmCiNpbmNsdWRlPG1vcnBoVGFyZ2V0c1ZlcnRleEdsb2JhbD4KI2luY2x1ZGU8bW9ycGhUYXJnZXRzVmVydGV4PlswLi5tYXhTaW11bHRhbmVvdXNNb3JwaFRhcmdldHNdCiNpbmNsdWRlPGluc3RhbmNlc1ZlcnRleD4KI2luY2x1ZGU8Ym9uZXNWZXJ0ZXg+CiNpbmNsdWRlPGJha2VkVmVydGV4QW5pbWF0aW9uPgp2ZWM0IHdvcmxkUG9zPWZpbmFsV29ybGQqdmVjNChwb3NpdGlvblVwZGF0ZWQsMS4wKTsKI2lmZGVmIE5PUk1BTAptYXQzIG5vcm1Xb3JsZFNNPW1hdDMoZmluYWxXb3JsZCk7CiNpZiBkZWZpbmVkKElOU1RBTkNFUykgJiYgZGVmaW5lZChUSElOX0lOU1RBTkNFUykKdmVjMyB2Tm9ybWFsVz1ub3JtYWxVcGRhdGVkL3ZlYzMoZG90KG5vcm1Xb3JsZFNNWzBdLG5vcm1Xb3JsZFNNWzBdKSxkb3Qobm9ybVdvcmxkU01bMV0sbm9ybVdvcmxkU01bMV0pLGRvdChub3JtV29ybGRTTVsyXSxub3JtV29ybGRTTVsyXSkpOwp2Tm9ybWFsVz1ub3JtYWxpemUobm9ybVdvcmxkU00qdk5vcm1hbFcpOwojZWxzZQojaWZkZWYgTk9OVU5JRk9STVNDQUxJTkcKbm9ybVdvcmxkU009dHJhbnNwb3NlTWF0MyhpbnZlcnNlTWF0Myhub3JtV29ybGRTTSkpOwojZW5kaWYKdmVjMyB2Tm9ybWFsVz1ub3JtYWxpemUobm9ybVdvcmxkU00qbm9ybWFsVXBkYXRlZCk7CiNlbmRpZgojZW5kaWYKI2luY2x1ZGU8c2hhZG93TWFwVmVydGV4Tm9ybWFsQmlhcz4KZ2xfUG9zaXRpb249dmlld1Byb2plY3Rpb24qd29ybGRQb3M7CiNpbmNsdWRlPHNoYWRvd01hcFZlcnRleE1ldHJpYz4KI2lmZGVmIEFMUEhBVEVTVAojaWZkZWYgVVYxCnZVVj12ZWMyKGRpZmZ1c2VNYXRyaXgqdmVjNCh1dlVwZGF0ZWQsMS4wLDAuMCkpOwojZW5kaWYKI2lmZGVmIFVWMgp2VVY9dmVjMihkaWZmdXNlTWF0cml4KnZlYzQodXYyLDEuMCwwLjApKTsKI2VuZGlmCiNlbmRpZgojaW5jbHVkZTxjbGlwUGxhbmVWZXJ0ZXg+Cn1gO0wuU2hhZGVyc1N0b3JlW2xvXT1obzt2YXIgY289ImRlcHRoQm94Qmx1clBpeGVsU2hhZGVyIixwbz1gdmFyeWluZyB2ZWMyIHZVVjsKdW5pZm9ybSBzYW1wbGVyMkQgdGV4dHVyZVNhbXBsZXI7CnVuaWZvcm0gdmVjMiBzY3JlZW5TaXplOwojZGVmaW5lIENVU1RPTV9GUkFHTUVOVF9ERUZJTklUSU9OUwp2b2lkIG1haW4odm9pZCkKewp2ZWM0IGNvbG9yRGVwdGg9dmVjNCgwLjApOwpmb3IgKGludCB4PS1PRkZTRVQ7IHg8PU9GRlNFVDsgeCsrKQpmb3IgKGludCB5PS1PRkZTRVQ7IHk8PU9GRlNFVDsgeSsrKQpjb2xvckRlcHRoKz10ZXh0dXJlMkQodGV4dHVyZVNhbXBsZXIsdlVWK3ZlYzIoeCx5KS9zY3JlZW5TaXplKTsKZ2xfRnJhZ0NvbG9yPShjb2xvckRlcHRoL2Zsb2F0KChPRkZTRVQqMisxKSooT0ZGU0VUKjIrMSkpKTsKfWA7TC5TaGFkZXJzU3RvcmVbY29dPXBvO3ZhciBfbz0ic2hhZG93TWFwRnJhZ21lbnRTb2Z0VHJhbnNwYXJlbnRTaGFkb3ciLGdvPWAjaWYgU01fU09GVFRSQU5TUEFSRU5UU0hBRE9XPT0xCmlmICgoYmF5ZXJEaXRoZXI4KGZsb29yKG1vZChnbF9GcmFnQ29vcmQueHksOC4wKSkpKS82NC4wPj1zb2Z0VHJhbnNwYXJlbnRTaGFkb3dTTSphbHBoYSkgZGlzY2FyZDsKI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtfb109Z287dmFyIGtlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaShlLHQscil7dGhpcy5vbkJlZm9yZVNoYWRvd01hcFJlbmRlck9ic2VydmFibGU9bmV3IE8sdGhpcy5vbkFmdGVyU2hhZG93TWFwUmVuZGVyT2JzZXJ2YWJsZT1uZXcgTyx0aGlzLm9uQmVmb3JlU2hhZG93TWFwUmVuZGVyTWVzaE9ic2VydmFibGU9bmV3IE8sdGhpcy5vbkFmdGVyU2hhZG93TWFwUmVuZGVyTWVzaE9ic2VydmFibGU9bmV3IE8sdGhpcy5fYmlhcz01ZS01LHRoaXMuX25vcm1hbEJpYXM9MCx0aGlzLl9ibHVyQm94T2Zmc2V0PTEsdGhpcy5fYmx1clNjYWxlPTIsdGhpcy5fYmx1cktlcm5lbD0xLHRoaXMuX3VzZUtlcm5lbEJsdXI9ITEsdGhpcy5fZmlsdGVyPWkuRklMVEVSX05PTkUsdGhpcy5fZmlsdGVyaW5nUXVhbGl0eT1pLlFVQUxJVFlfSElHSCx0aGlzLl9jb250YWN0SGFyZGVuaW5nTGlnaHRTaXplVVZSYXRpbz0uMSx0aGlzLl9kYXJrbmVzcz0wLHRoaXMuX3RyYW5zcGFyZW5jeVNoYWRvdz0hMSx0aGlzLmVuYWJsZVNvZnRUcmFuc3BhcmVudFNoYWRvdz0hMSx0aGlzLnVzZU9wYWNpdHlUZXh0dXJlRm9yVHJhbnNwYXJlbnRTaGFkb3c9ITEsdGhpcy5mcnVzdHVtRWRnZUZhbGxvZmY9MCx0aGlzLmZvcmNlQmFja0ZhY2VzT25seT0hMSx0aGlzLl9saWdodERpcmVjdGlvbj1iLlplcm8oKSx0aGlzLl92aWV3TWF0cml4PUkuWmVybygpLHRoaXMuX3Byb2plY3Rpb25NYXRyaXg9SS5aZXJvKCksdGhpcy5fdHJhbnNmb3JtTWF0cml4PUkuWmVybygpLHRoaXMuX2NhY2hlZFBvc2l0aW9uPW5ldyBiKE51bWJlci5NQVhfVkFMVUUsTnVtYmVyLk1BWF9WQUxVRSxOdW1iZXIuTUFYX1ZBTFVFKSx0aGlzLl9jYWNoZWREaXJlY3Rpb249bmV3IGIoTnVtYmVyLk1BWF9WQUxVRSxOdW1iZXIuTUFYX1ZBTFVFLE51bWJlci5NQVhfVkFMVUUpLHRoaXMuX2N1cnJlbnRGYWNlSW5kZXg9MCx0aGlzLl9jdXJyZW50RmFjZUluZGV4Q2FjaGU9MCx0aGlzLl9kZWZhdWx0VGV4dHVyZU1hdHJpeD1JLklkZW50aXR5KCksdGhpcy5fbWFwU2l6ZT1lLHRoaXMuX2xpZ2h0PXQsdGhpcy5fc2NlbmU9dC5nZXRTY2VuZSgpLHQuX3NoYWRvd0dlbmVyYXRvcj10aGlzLHRoaXMuaWQ9dC5pZCx0aGlzLl91c2VVQk89dGhpcy5fc2NlbmUuZ2V0RW5naW5lKCkuc3VwcG9ydHNVbmlmb3JtQnVmZmVycyx0aGlzLl91c2VVQk8mJih0aGlzLl9zY2VuZVVCT3M9W10sdGhpcy5fc2NlbmVVQk9zLnB1c2godGhpcy5fc2NlbmUuY3JlYXRlU2NlbmVVbmlmb3JtQnVmZmVyKCdTY2VuZSBmb3IgU2hhZG93IEdlbmVyYXRvciAobGlnaHQgIicuY29uY2F0KHRoaXMuX2xpZ2h0Lm5hbWUsJyIpJykpKSksaS5fU2NlbmVDb21wb25lbnRJbml0aWFsaXphdGlvbih0aGlzLl9zY2VuZSk7dmFyIG49dGhpcy5fc2NlbmUuZ2V0RW5naW5lKCkuZ2V0Q2FwcygpO3I/bi50ZXh0dXJlRmxvYXRSZW5kZXImJm4udGV4dHVyZUZsb2F0TGluZWFyRmlsdGVyaW5nP3RoaXMuX3RleHR1cmVUeXBlPTE6bi50ZXh0dXJlSGFsZkZsb2F0UmVuZGVyJiZuLnRleHR1cmVIYWxmRmxvYXRMaW5lYXJGaWx0ZXJpbmc/dGhpcy5fdGV4dHVyZVR5cGU9Mjp0aGlzLl90ZXh0dXJlVHlwZT0wOm4udGV4dHVyZUhhbGZGbG9hdFJlbmRlciYmbi50ZXh0dXJlSGFsZkZsb2F0TGluZWFyRmlsdGVyaW5nP3RoaXMuX3RleHR1cmVUeXBlPTI6bi50ZXh0dXJlRmxvYXRSZW5kZXImJm4udGV4dHVyZUZsb2F0TGluZWFyRmlsdGVyaW5nP3RoaXMuX3RleHR1cmVUeXBlPTE6dGhpcy5fdGV4dHVyZVR5cGU9MCx0aGlzLl9pbml0aWFsaXplR2VuZXJhdG9yKCksdGhpcy5fYXBwbHlGaWx0ZXJWYWx1ZXMoKX1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJiaWFzIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2JpYXN9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9iaWFzPWV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJub3JtYWxCaWFzIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX25vcm1hbEJpYXN9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9ub3JtYWxCaWFzPWV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJibHVyQm94T2Zmc2V0Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2JsdXJCb3hPZmZzZXR9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9ibHVyQm94T2Zmc2V0IT09ZSYmKHRoaXMuX2JsdXJCb3hPZmZzZXQ9ZSx0aGlzLl9kaXNwb3NlQmx1clBvc3RQcm9jZXNzZXMoKSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJibHVyU2NhbGUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYmx1clNjYWxlfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fYmx1clNjYWxlIT09ZSYmKHRoaXMuX2JsdXJTY2FsZT1lLHRoaXMuX2Rpc3Bvc2VCbHVyUG9zdFByb2Nlc3NlcygpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImJsdXJLZXJuZWwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYmx1cktlcm5lbH0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX2JsdXJLZXJuZWwhPT1lJiYodGhpcy5fYmx1cktlcm5lbD1lLHRoaXMuX2Rpc3Bvc2VCbHVyUG9zdFByb2Nlc3NlcygpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsInVzZUtlcm5lbEJsdXIiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdXNlS2VybmVsQmx1cn0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX3VzZUtlcm5lbEJsdXIhPT1lJiYodGhpcy5fdXNlS2VybmVsQmx1cj1lLHRoaXMuX2Rpc3Bvc2VCbHVyUG9zdFByb2Nlc3NlcygpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImRlcHRoU2NhbGUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGVwdGhTY2FsZSE9PXZvaWQgMD90aGlzLl9kZXB0aFNjYWxlOnRoaXMuX2xpZ2h0LmdldERlcHRoU2NhbGUoKX0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX2RlcHRoU2NhbGU9ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLnByb3RvdHlwZS5fdmFsaWRhdGVGaWx0ZXI9ZnVuY3Rpb24oZSl7cmV0dXJuIGV9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiZmlsdGVyIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ZpbHRlcn0sc2V0OmZ1bmN0aW9uKGUpe2lmKGU9dGhpcy5fdmFsaWRhdGVGaWx0ZXIoZSksdGhpcy5fbGlnaHQubmVlZEN1YmUoKSl7aWYoZT09PWkuRklMVEVSX0JMVVJFWFBPTkVOVElBTFNIQURPV01BUCl7dGhpcy51c2VFeHBvbmVudGlhbFNoYWRvd01hcD0hMDtyZXR1cm59ZWxzZSBpZihlPT09aS5GSUxURVJfQkxVUkNMT1NFRVhQT05FTlRJQUxTSEFET1dNQVApe3RoaXMudXNlQ2xvc2VFeHBvbmVudGlhbFNoYWRvd01hcD0hMDtyZXR1cm59ZWxzZSBpZihlPT09aS5GSUxURVJfUENGfHxlPT09aS5GSUxURVJfUENTUyl7dGhpcy51c2VQb2lzc29uU2FtcGxpbmc9ITA7cmV0dXJufX1pZigoZT09PWkuRklMVEVSX1BDRnx8ZT09PWkuRklMVEVSX1BDU1MpJiYhdGhpcy5fc2NlbmUuZ2V0RW5naW5lKCkuX2ZlYXR1cmVzLnN1cHBvcnRTaGFkb3dTYW1wbGVycyl7dGhpcy51c2VQb2lzc29uU2FtcGxpbmc9ITA7cmV0dXJufXRoaXMuX2ZpbHRlciE9PWUmJih0aGlzLl9maWx0ZXI9ZSx0aGlzLl9kaXNwb3NlQmx1clBvc3RQcm9jZXNzZXMoKSx0aGlzLl9hcHBseUZpbHRlclZhbHVlcygpLHRoaXMuX2xpZ2h0Ll9tYXJrTWVzaGVzQXNMaWdodERpcnR5KCkpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwidXNlUG9pc3NvblNhbXBsaW5nIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZmlsdGVyPT09aS5GSUxURVJfUE9JU1NPTlNBTVBMSU5HfSxzZXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fdmFsaWRhdGVGaWx0ZXIoaS5GSUxURVJfUE9JU1NPTlNBTVBMSU5HKTshZSYmdGhpcy5maWx0ZXIhPT1pLkZJTFRFUl9QT0lTU09OU0FNUExJTkd8fCh0aGlzLmZpbHRlcj1lP3Q6aS5GSUxURVJfTk9ORSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJ1c2VFeHBvbmVudGlhbFNoYWRvd01hcCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmZpbHRlcj09PWkuRklMVEVSX0VYUE9ORU5USUFMU0hBRE9XTUFQfSxzZXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fdmFsaWRhdGVGaWx0ZXIoaS5GSUxURVJfRVhQT05FTlRJQUxTSEFET1dNQVApOyFlJiZ0aGlzLmZpbHRlciE9PWkuRklMVEVSX0VYUE9ORU5USUFMU0hBRE9XTUFQfHwodGhpcy5maWx0ZXI9ZT90OmkuRklMVEVSX05PTkUpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwidXNlQmx1ckV4cG9uZW50aWFsU2hhZG93TWFwIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZmlsdGVyPT09aS5GSUxURVJfQkxVUkVYUE9ORU5USUFMU0hBRE9XTUFQfSxzZXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fdmFsaWRhdGVGaWx0ZXIoaS5GSUxURVJfQkxVUkVYUE9ORU5USUFMU0hBRE9XTUFQKTshZSYmdGhpcy5maWx0ZXIhPT1pLkZJTFRFUl9CTFVSRVhQT05FTlRJQUxTSEFET1dNQVB8fCh0aGlzLmZpbHRlcj1lP3Q6aS5GSUxURVJfTk9ORSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJ1c2VDbG9zZUV4cG9uZW50aWFsU2hhZG93TWFwIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZmlsdGVyPT09aS5GSUxURVJfQ0xPU0VFWFBPTkVOVElBTFNIQURPV01BUH0sc2V0OmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX3ZhbGlkYXRlRmlsdGVyKGkuRklMVEVSX0NMT1NFRVhQT05FTlRJQUxTSEFET1dNQVApOyFlJiZ0aGlzLmZpbHRlciE9PWkuRklMVEVSX0NMT1NFRVhQT05FTlRJQUxTSEFET1dNQVB8fCh0aGlzLmZpbHRlcj1lP3Q6aS5GSUxURVJfTk9ORSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJ1c2VCbHVyQ2xvc2VFeHBvbmVudGlhbFNoYWRvd01hcCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmZpbHRlcj09PWkuRklMVEVSX0JMVVJDTE9TRUVYUE9ORU5USUFMU0hBRE9XTUFQfSxzZXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fdmFsaWRhdGVGaWx0ZXIoaS5GSUxURVJfQkxVUkNMT1NFRVhQT05FTlRJQUxTSEFET1dNQVApOyFlJiZ0aGlzLmZpbHRlciE9PWkuRklMVEVSX0JMVVJDTE9TRUVYUE9ORU5USUFMU0hBRE9XTUFQfHwodGhpcy5maWx0ZXI9ZT90OmkuRklMVEVSX05PTkUpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwidXNlUGVyY2VudGFnZUNsb3NlckZpbHRlcmluZyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmZpbHRlcj09PWkuRklMVEVSX1BDRn0sc2V0OmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX3ZhbGlkYXRlRmlsdGVyKGkuRklMVEVSX1BDRik7IWUmJnRoaXMuZmlsdGVyIT09aS5GSUxURVJfUENGfHwodGhpcy5maWx0ZXI9ZT90OmkuRklMVEVSX05PTkUpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwiZmlsdGVyaW5nUXVhbGl0eSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9maWx0ZXJpbmdRdWFsaXR5fSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fZmlsdGVyaW5nUXVhbGl0eSE9PWUmJih0aGlzLl9maWx0ZXJpbmdRdWFsaXR5PWUsdGhpcy5fZGlzcG9zZUJsdXJQb3N0UHJvY2Vzc2VzKCksdGhpcy5fYXBwbHlGaWx0ZXJWYWx1ZXMoKSx0aGlzLl9saWdodC5fbWFya01lc2hlc0FzTGlnaHREaXJ0eSgpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsInVzZUNvbnRhY3RIYXJkZW5pbmdTaGFkb3ciLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5maWx0ZXI9PT1pLkZJTFRFUl9QQ1NTfSxzZXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fdmFsaWRhdGVGaWx0ZXIoaS5GSUxURVJfUENTUyk7IWUmJnRoaXMuZmlsdGVyIT09aS5GSUxURVJfUENTU3x8KHRoaXMuZmlsdGVyPWU/dDppLkZJTFRFUl9OT05FKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImNvbnRhY3RIYXJkZW5pbmdMaWdodFNpemVVVlJhdGlvIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NvbnRhY3RIYXJkZW5pbmdMaWdodFNpemVVVlJhdGlvfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fY29udGFjdEhhcmRlbmluZ0xpZ2h0U2l6ZVVWUmF0aW89ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsImRhcmtuZXNzIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RhcmtuZXNzfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5zZXREYXJrbmVzcyhlKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLnByb3RvdHlwZS5nZXREYXJrbmVzcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9kYXJrbmVzc30saS5wcm90b3R5cGUuc2V0RGFya25lc3M9ZnVuY3Rpb24oZSl7cmV0dXJuIGU+PTE/dGhpcy5fZGFya25lc3M9MTplPD0wP3RoaXMuX2RhcmtuZXNzPTA6dGhpcy5fZGFya25lc3M9ZSx0aGlzfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaS5wcm90b3R5cGUsInRyYW5zcGFyZW5jeVNoYWRvdyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl90cmFuc3BhcmVuY3lTaGFkb3d9LHNldDpmdW5jdGlvbihlKXt0aGlzLnNldFRyYW5zcGFyZW5jeVNoYWRvdyhlKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLnByb3RvdHlwZS5zZXRUcmFuc3BhcmVuY3lTaGFkb3c9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX3RyYW5zcGFyZW5jeVNoYWRvdz1lLHRoaXN9LGkucHJvdG90eXBlLmdldFNoYWRvd01hcD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zaGFkb3dNYXB9LGkucHJvdG90eXBlLmdldFNoYWRvd01hcEZvclJlbmRlcmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zaGFkb3dNYXAyP3RoaXMuX3NoYWRvd01hcDI6dGhpcy5fc2hhZG93TWFwfSxpLnByb3RvdHlwZS5nZXRDbGFzc05hbWU9ZnVuY3Rpb24oKXtyZXR1cm4gaS5DTEFTU05BTUV9LGkucHJvdG90eXBlLmFkZFNoYWRvd0Nhc3Rlcj1mdW5jdGlvbihlLHQpe2lmKHQ9PT12b2lkIDAmJih0PSEwKSwhdGhpcy5fc2hhZG93TWFwKXJldHVybiB0aGlzO2lmKHRoaXMuX3NoYWRvd01hcC5yZW5kZXJMaXN0fHwodGhpcy5fc2hhZG93TWFwLnJlbmRlckxpc3Q9W10pLHRoaXMuX3NoYWRvd01hcC5yZW5kZXJMaXN0LmluZGV4T2YoZSk9PT0tMSYmdGhpcy5fc2hhZG93TWFwLnJlbmRlckxpc3QucHVzaChlKSx0KWZvcih2YXIgcj0wLG49ZS5nZXRDaGlsZE1lc2hlcygpO3I8bi5sZW5ndGg7cisrKXt2YXIgYT1uW3JdO3RoaXMuX3NoYWRvd01hcC5yZW5kZXJMaXN0LmluZGV4T2YoYSk9PT0tMSYmdGhpcy5fc2hhZG93TWFwLnJlbmRlckxpc3QucHVzaChhKX1yZXR1cm4gdGhpc30saS5wcm90b3R5cGUucmVtb3ZlU2hhZG93Q2FzdGVyPWZ1bmN0aW9uKGUsdCl7aWYodD09PXZvaWQgMCYmKHQ9ITApLCF0aGlzLl9zaGFkb3dNYXB8fCF0aGlzLl9zaGFkb3dNYXAucmVuZGVyTGlzdClyZXR1cm4gdGhpczt2YXIgcj10aGlzLl9zaGFkb3dNYXAucmVuZGVyTGlzdC5pbmRleE9mKGUpO2lmKHIhPT0tMSYmdGhpcy5fc2hhZG93TWFwLnJlbmRlckxpc3Quc3BsaWNlKHIsMSksdClmb3IodmFyIG49MCxhPWUuZ2V0Q2hpbGRyZW4oKTtuPGEubGVuZ3RoO24rKyl7dmFyIHM9YVtuXTt0aGlzLnJlbW92ZVNoYWRvd0Nhc3RlcihzKX1yZXR1cm4gdGhpc30saS5wcm90b3R5cGUuZ2V0TGlnaHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbGlnaHR9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwibWFwU2l6ZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9tYXBTaXplfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fbWFwU2l6ZT1lLHRoaXMuX2xpZ2h0Ll9tYXJrTWVzaGVzQXNMaWdodERpcnR5KCksdGhpcy5yZWNyZWF0ZVNoYWRvd01hcCgpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkucHJvdG90eXBlLl9pbml0aWFsaXplR2VuZXJhdG9yPWZ1bmN0aW9uKCl7dGhpcy5fbGlnaHQuX21hcmtNZXNoZXNBc0xpZ2h0RGlydHkoKSx0aGlzLl9pbml0aWFsaXplU2hhZG93TWFwKCl9LGkucHJvdG90eXBlLl9jcmVhdGVUYXJnZXRSZW5kZXJUZXh0dXJlPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fc2NlbmUuZ2V0RW5naW5lKCk7ZS5fZmVhdHVyZXMuc3VwcG9ydERlcHRoU3RlbmNpbFRleHR1cmU/KHRoaXMuX3NoYWRvd01hcD1uZXcga3QodGhpcy5fbGlnaHQubmFtZSsiX3NoYWRvd01hcCIsdGhpcy5fbWFwU2l6ZSx0aGlzLl9zY2VuZSwhMSwhMCx0aGlzLl90ZXh0dXJlVHlwZSx0aGlzLl9saWdodC5uZWVkQ3ViZSgpLHZvaWQgMCwhMSwhMSksdGhpcy5fc2hhZG93TWFwLmNyZWF0ZURlcHRoU3RlbmNpbFRleHR1cmUoZS51c2VSZXZlcnNlRGVwdGhCdWZmZXI/NTE2OjUxMywhMCkpOnRoaXMuX3NoYWRvd01hcD1uZXcga3QodGhpcy5fbGlnaHQubmFtZSsiX3NoYWRvd01hcCIsdGhpcy5fbWFwU2l6ZSx0aGlzLl9zY2VuZSwhMSwhMCx0aGlzLl90ZXh0dXJlVHlwZSx0aGlzLl9saWdodC5uZWVkQ3ViZSgpKX0saS5wcm90b3R5cGUuX2luaXRpYWxpemVTaGFkb3dNYXA9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2lmKHRoaXMuX2NyZWF0ZVRhcmdldFJlbmRlclRleHR1cmUoKSx0aGlzLl9zaGFkb3dNYXAhPT1udWxsKXt0aGlzLl9zaGFkb3dNYXAud3JhcFU9aWUuQ0xBTVBfQUREUkVTU01PREUsdGhpcy5fc2hhZG93TWFwLndyYXBWPWllLkNMQU1QX0FERFJFU1NNT0RFLHRoaXMuX3NoYWRvd01hcC5hbmlzb3Ryb3BpY0ZpbHRlcmluZ0xldmVsPTEsdGhpcy5fc2hhZG93TWFwLnVwZGF0ZVNhbXBsaW5nTW9kZShpZS5CSUxJTkVBUl9TQU1QTElOR01PREUpLHRoaXMuX3NoYWRvd01hcC5yZW5kZXJQYXJ0aWNsZXM9ITEsdGhpcy5fc2hhZG93TWFwLmlnbm9yZUNhbWVyYVZpZXdwb3J0PSEwLHRoaXMuX3N0b3JlZFVuaXF1ZUlkJiYodGhpcy5fc2hhZG93TWFwLnVuaXF1ZUlkPXRoaXMuX3N0b3JlZFVuaXF1ZUlkKSx0aGlzLl9zaGFkb3dNYXAuY3VzdG9tUmVuZGVyRnVuY3Rpb249dGhpcy5fcmVuZGVyRm9yU2hhZG93TWFwLmJpbmQodGhpcyksdGhpcy5fc2hhZG93TWFwLmN1c3RvbUlzUmVhZHlGdW5jdGlvbj1mdW5jdGlvbigpe3JldHVybiEwfTt2YXIgdD10aGlzLl9zY2VuZS5nZXRFbmdpbmUoKTt0aGlzLl9zaGFkb3dNYXAub25CZWZvcmVCaW5kT2JzZXJ2YWJsZS5hZGQoZnVuY3Rpb24oKXt2YXIgcztlLl9jdXJyZW50U2NlbmVVQk89ZS5fc2NlbmUuZ2V0U2NlbmVVbmlmb3JtQnVmZmVyKCksKHM9dC5fZGVidWdQdXNoR3JvdXApPT09bnVsbHx8cz09PXZvaWQgMHx8cy5jYWxsKHQsInNoYWRvdyBtYXAgZ2VuZXJhdGlvbiBmb3IgcGFzcyBpZCAiLmNvbmNhdCh0LmN1cnJlbnRSZW5kZXJQYXNzSWQpLDEpfSksdGhpcy5fc2hhZG93TWFwLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5hZGQoZnVuY3Rpb24ocyl7ZS5fc2NlbmVVQk9zJiZlLl9zY2VuZS5zZXRTY2VuZVVuaWZvcm1CdWZmZXIoZS5fc2NlbmVVQk9zWzBdKSxlLl9jdXJyZW50RmFjZUluZGV4PXMsZS5fZmlsdGVyPT09aS5GSUxURVJfUENGJiZ0LnNldENvbG9yV3JpdGUoITEpLGUuZ2V0VHJhbnNmb3JtTWF0cml4KCksZS5fc2NlbmUuc2V0VHJhbnNmb3JtTWF0cml4KGUuX3ZpZXdNYXRyaXgsZS5fcHJvamVjdGlvbk1hdHJpeCksZS5fdXNlVUJPJiYoZS5fc2NlbmUuZ2V0U2NlbmVVbmlmb3JtQnVmZmVyKCkudW5iaW5kRWZmZWN0KCksZS5fc2NlbmUuZmluYWxpemVTY2VuZVVibygpKX0pLHRoaXMuX3NoYWRvd01hcC5vbkFmdGVyVW5iaW5kT2JzZXJ2YWJsZS5hZGQoZnVuY3Rpb24oKXt2YXIgcyxvO2lmKGUuX3NjZW5lVUJPcyYmZS5fc2NlbmUuc2V0U2NlbmVVbmlmb3JtQnVmZmVyKGUuX2N1cnJlbnRTY2VuZVVCTyksZS5fc2NlbmUudXBkYXRlVHJhbnNmb3JtTWF0cml4KCksZS5fZmlsdGVyPT09aS5GSUxURVJfUENGJiZ0LnNldENvbG9yV3JpdGUoITApLCFlLnVzZUJsdXJFeHBvbmVudGlhbFNoYWRvd01hcCYmIWUudXNlQmx1ckNsb3NlRXhwb25lbnRpYWxTaGFkb3dNYXApeyhzPXQuX2RlYnVnUG9wR3JvdXApPT09bnVsbHx8cz09PXZvaWQgMHx8cy5jYWxsKHQsMSk7cmV0dXJufXZhciB1PWUuZ2V0U2hhZG93TWFwRm9yUmVuZGVyaW5nKCk7dSYmKGUuX3NjZW5lLnBvc3RQcm9jZXNzTWFuYWdlci5kaXJlY3RSZW5kZXIoZS5fYmx1clBvc3RQcm9jZXNzZXMsdS5yZW5kZXJUYXJnZXQsITApLHQudW5CaW5kRnJhbWVidWZmZXIodS5yZW5kZXJUYXJnZXQsITApLChvPXQuX2RlYnVnUG9wR3JvdXApPT09bnVsbHx8bz09PXZvaWQgMHx8by5jYWxsKHQsMSkpfSk7dmFyIHI9bmV3IEVlKDAsMCwwLDApLG49bmV3IEVlKDEsMSwxLDEpO3RoaXMuX3NoYWRvd01hcC5vbkNsZWFyT2JzZXJ2YWJsZS5hZGQoZnVuY3Rpb24ocyl7ZS5fZmlsdGVyPT09aS5GSUxURVJfUENGP3MuY2xlYXIobiwhMSwhMCwhMSk6ZS51c2VFeHBvbmVudGlhbFNoYWRvd01hcHx8ZS51c2VCbHVyRXhwb25lbnRpYWxTaGFkb3dNYXA/cy5jbGVhcihyLCEwLCEwLCExKTpzLmNsZWFyKG4sITAsITAsITEpfSksdGhpcy5fc2hhZG93TWFwLm9uUmVzaXplT2JzZXJ2YWJsZS5hZGQoZnVuY3Rpb24ocyl7ZS5fc3RvcmVkVW5pcXVlSWQ9ZS5fc2hhZG93TWFwLnVuaXF1ZUlkLGUuX21hcFNpemU9cy5nZXRSZW5kZXJTaXplKCksZS5fbGlnaHQuX21hcmtNZXNoZXNBc0xpZ2h0RGlydHkoKSxlLnJlY3JlYXRlU2hhZG93TWFwKCl9KTtmb3IodmFyIGE9QXIuTUlOX1JFTkRFUklOR0dST1VQUzthPEFyLk1BWF9SRU5ERVJJTkdHUk9VUFM7YSsrKXRoaXMuX3NoYWRvd01hcC5zZXRSZW5kZXJpbmdBdXRvQ2xlYXJEZXB0aFN0ZW5jaWwoYSwhMSl9fSxpLnByb3RvdHlwZS5faW5pdGlhbGl6ZUJsdXJSVFRBbmRQb3N0UHJvY2Vzc2VzPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXRoaXMuX3NjZW5lLmdldEVuZ2luZSgpLHI9dGhpcy5fbWFwU2l6ZS90aGlzLmJsdXJTY2FsZTsoIXRoaXMudXNlS2VybmVsQmx1cnx8dGhpcy5ibHVyU2NhbGUhPT0xKSYmKHRoaXMuX3NoYWRvd01hcDI9bmV3IGt0KHRoaXMuX2xpZ2h0Lm5hbWUrIl9zaGFkb3dNYXAyIixyLHRoaXMuX3NjZW5lLCExLCEwLHRoaXMuX3RleHR1cmVUeXBlLHZvaWQgMCx2b2lkIDAsITEpLHRoaXMuX3NoYWRvd01hcDIud3JhcFU9aWUuQ0xBTVBfQUREUkVTU01PREUsdGhpcy5fc2hhZG93TWFwMi53cmFwVj1pZS5DTEFNUF9BRERSRVNTTU9ERSx0aGlzLl9zaGFkb3dNYXAyLnVwZGF0ZVNhbXBsaW5nTW9kZShpZS5CSUxJTkVBUl9TQU1QTElOR01PREUpKSx0aGlzLnVzZUtlcm5lbEJsdXI/KHRoaXMuX2tlcm5lbEJsdXJYUG9zdHByb2Nlc3M9bmV3IGRpKHRoaXMuX2xpZ2h0Lm5hbWUrIktlcm5lbEJsdXJYIixuZXcgU2UoMSwwKSx0aGlzLmJsdXJLZXJuZWwsMSxudWxsLGllLkJJTElORUFSX1NBTVBMSU5HTU9ERSx0LCExLHRoaXMuX3RleHR1cmVUeXBlKSx0aGlzLl9rZXJuZWxCbHVyWFBvc3Rwcm9jZXNzLndpZHRoPXIsdGhpcy5fa2VybmVsQmx1clhQb3N0cHJvY2Vzcy5oZWlnaHQ9cix0aGlzLl9rZXJuZWxCbHVyWFBvc3Rwcm9jZXNzLmV4dGVybmFsVGV4dHVyZVNhbXBsZXJCaW5kaW5nPSEwLHRoaXMuX2tlcm5lbEJsdXJYUG9zdHByb2Nlc3Mub25BcHBseU9ic2VydmFibGUuYWRkKGZ1bmN0aW9uKG4pe24uc2V0VGV4dHVyZSgidGV4dHVyZVNhbXBsZXIiLGUuX3NoYWRvd01hcCl9KSx0aGlzLl9rZXJuZWxCbHVyWVBvc3Rwcm9jZXNzPW5ldyBkaSh0aGlzLl9saWdodC5uYW1lKyJLZXJuZWxCbHVyWSIsbmV3IFNlKDAsMSksdGhpcy5ibHVyS2VybmVsLDEsbnVsbCxpZS5CSUxJTkVBUl9TQU1QTElOR01PREUsdCwhMSx0aGlzLl90ZXh0dXJlVHlwZSksdGhpcy5fa2VybmVsQmx1clhQb3N0cHJvY2Vzcy5hdXRvQ2xlYXI9ITEsdGhpcy5fa2VybmVsQmx1cllQb3N0cHJvY2Vzcy5hdXRvQ2xlYXI9ITEsdGhpcy5fdGV4dHVyZVR5cGU9PT0wJiYodGhpcy5fa2VybmVsQmx1clhQb3N0cHJvY2Vzcy5wYWNrZWRGbG9hdD0hMCx0aGlzLl9rZXJuZWxCbHVyWVBvc3Rwcm9jZXNzLnBhY2tlZEZsb2F0PSEwKSx0aGlzLl9ibHVyUG9zdFByb2Nlc3Nlcz1bdGhpcy5fa2VybmVsQmx1clhQb3N0cHJvY2Vzcyx0aGlzLl9rZXJuZWxCbHVyWVBvc3Rwcm9jZXNzXSk6KHRoaXMuX2JveEJsdXJQb3N0cHJvY2Vzcz1uZXcgYXIodGhpcy5fbGlnaHQubmFtZSsiRGVwdGhCb3hCbHVyIiwiZGVwdGhCb3hCbHVyIixbInNjcmVlblNpemUiLCJib3hPZmZzZXQiXSxbXSwxLG51bGwsaWUuQklMSU5FQVJfU0FNUExJTkdNT0RFLHQsITEsIiNkZWZpbmUgT0ZGU0VUICIrdGhpcy5fYmx1ckJveE9mZnNldCx0aGlzLl90ZXh0dXJlVHlwZSksdGhpcy5fYm94Qmx1clBvc3Rwcm9jZXNzLmV4dGVybmFsVGV4dHVyZVNhbXBsZXJCaW5kaW5nPSEwLHRoaXMuX2JveEJsdXJQb3N0cHJvY2Vzcy5vbkFwcGx5T2JzZXJ2YWJsZS5hZGQoZnVuY3Rpb24obil7bi5zZXRGbG9hdDIoInNjcmVlblNpemUiLHIsciksbi5zZXRUZXh0dXJlKCJ0ZXh0dXJlU2FtcGxlciIsZS5fc2hhZG93TWFwKX0pLHRoaXMuX2JveEJsdXJQb3N0cHJvY2Vzcy5hdXRvQ2xlYXI9ITEsdGhpcy5fYmx1clBvc3RQcm9jZXNzZXM9W3RoaXMuX2JveEJsdXJQb3N0cHJvY2Vzc10pfSxpLnByb3RvdHlwZS5fcmVuZGVyRm9yU2hhZG93TWFwPWZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBhO2lmKG4ubGVuZ3RoKWZvcihhPTA7YTxuLmxlbmd0aDthKyspdGhpcy5fcmVuZGVyU3ViTWVzaEZvclNoYWRvd01hcChuLmRhdGFbYV0pO2ZvcihhPTA7YTxlLmxlbmd0aDthKyspdGhpcy5fcmVuZGVyU3ViTWVzaEZvclNoYWRvd01hcChlLmRhdGFbYV0pO2ZvcihhPTA7YTx0Lmxlbmd0aDthKyspdGhpcy5fcmVuZGVyU3ViTWVzaEZvclNoYWRvd01hcCh0LmRhdGFbYV0pO2lmKHRoaXMuX3RyYW5zcGFyZW5jeVNoYWRvdylmb3IoYT0wO2E8ci5sZW5ndGg7YSsrKXRoaXMuX3JlbmRlclN1Yk1lc2hGb3JTaGFkb3dNYXAoci5kYXRhW2FdLCEwKTtlbHNlIGZvcihhPTA7YTxyLmxlbmd0aDthKyspci5kYXRhW2FdLmdldEVmZmVjdGl2ZU1lc2goKS5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5faXNBY3RpdmVJbnRlcm1lZGlhdGU9ITF9LGkucHJvdG90eXBlLl9iaW5kQ3VzdG9tRWZmZWN0Rm9yUmVuZGVyU3ViTWVzaEZvclNoYWRvd01hcD1mdW5jdGlvbihlLHQscil7dC5zZXRNYXRyaXgoInZpZXdQcm9qZWN0aW9uIix0aGlzLmdldFRyYW5zZm9ybU1hdHJpeCgpKX0saS5wcm90b3R5cGUuX3JlbmRlclN1Yk1lc2hGb3JTaGFkb3dNYXA9ZnVuY3Rpb24oZSx0KXt2YXIgcixuO3Q9PT12b2lkIDAmJih0PSExKTt2YXIgYT1lLmdldFJlbmRlcmluZ01lc2goKSxzPWUuZ2V0RWZmZWN0aXZlTWVzaCgpLG89dGhpcy5fc2NlbmUsdT1vLmdldEVuZ2luZSgpLGY9ZS5nZXRNYXRlcmlhbCgpO2lmKHMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2lzQWN0aXZlSW50ZXJtZWRpYXRlPSExLCEoIWZ8fGUudmVydGljZXNDb3VudD09PTB8fGUuX3JlbmRlcklkPT09by5nZXRSZW5kZXJJZCgpKSl7dmFyIGw9cy5fZ2V0V29ybGRNYXRyaXhEZXRlcm1pbmFudCgpPDAsaD0ocj1hLm92ZXJyaWRlTWF0ZXJpYWxTaWRlT3JpZW50YXRpb24pIT09bnVsbCYmciE9PXZvaWQgMD9yOmYuc2lkZU9yaWVudGF0aW9uO2wmJihoPWg9PT0wPzE6MCk7dmFyIGM9aD09PTA7dS5zZXRTdGF0ZShmLmJhY2tGYWNlQ3VsbGluZyx2b2lkIDAsdm9pZCAwLGMsZi5jdWxsQmFja0ZhY2VzKTt2YXIgZD1hLl9nZXRJbnN0YW5jZXNSZW5kZXJMaXN0KGUuX2lkLCEhZS5nZXRSZXBsYWNlbWVudE1lc2goKSk7aWYoIWQubXVzdFJldHVybil7dmFyIHA9dS5nZXRDYXBzKCkuaW5zdGFuY2VkQXJyYXlzJiYoZC52aXNpYmxlSW5zdGFuY2VzW2UuX2lkXSE9PW51bGwmJmQudmlzaWJsZUluc3RhbmNlc1tlLl9pZF0hPT12b2lkIDB8fGEuaGFzVGhpbkluc3RhbmNlcyk7aWYoISh0aGlzLmN1c3RvbUFsbG93UmVuZGVyaW5nJiYhdGhpcy5jdXN0b21BbGxvd1JlbmRlcmluZyhlKSkpaWYodGhpcy5pc1JlYWR5KGUscCx0KSl7ZS5fcmVuZGVySWQ9by5nZXRSZW5kZXJJZCgpO3ZhciBnPWYuc2hhZG93RGVwdGhXcmFwcGVyLF89KG49Zz09bnVsbD92b2lkIDA6Zy5nZXRFZmZlY3QoZSx0aGlzLHUuY3VycmVudFJlbmRlclBhc3NJZCkpIT09bnVsbCYmbiE9PXZvaWQgMD9uOmUuX2dldERyYXdXcmFwcGVyKCksdj1RdC5HZXRFZmZlY3QoXyk7aWYodS5lbmFibGVFZmZlY3QoXykscHx8YS5fYmluZChlLHYsZi5maWxsTW9kZSksdGhpcy5nZXRUcmFuc2Zvcm1NYXRyaXgoKSx2LnNldEZsb2F0MygiYmlhc0FuZFNjYWxlU00iLHRoaXMuYmlhcyx0aGlzLm5vcm1hbEJpYXMsdGhpcy5kZXB0aFNjYWxlKSx0aGlzLmdldExpZ2h0KCkuZ2V0VHlwZUlEKCk9PT1ldC5MSUdIVFRZUEVJRF9ESVJFQ1RJT05BTExJR0hUP3Yuc2V0VmVjdG9yMygibGlnaHREYXRhU00iLHRoaXMuX2NhY2hlZERpcmVjdGlvbik6di5zZXRWZWN0b3IzKCJsaWdodERhdGFTTSIsdGhpcy5fY2FjaGVkUG9zaXRpb24pLG8uYWN0aXZlQ2FtZXJhJiZ2LnNldEZsb2F0MigiZGVwdGhWYWx1ZXNTTSIsdGhpcy5nZXRMaWdodCgpLmdldERlcHRoTWluWihvLmFjdGl2ZUNhbWVyYSksdGhpcy5nZXRMaWdodCgpLmdldERlcHRoTWluWihvLmFjdGl2ZUNhbWVyYSkrdGhpcy5nZXRMaWdodCgpLmdldERlcHRoTWF4WihvLmFjdGl2ZUNhbWVyYSkpLHQmJnRoaXMuZW5hYmxlU29mdFRyYW5zcGFyZW50U2hhZG93JiZ2LnNldEZsb2F0KCJzb2Z0VHJhbnNwYXJlbnRTaGFkb3dTTSIscy52aXNpYmlsaXR5KmYuYWxwaGEpLGcpZS5fc2V0TWFpbkRyYXdXcmFwcGVyT3ZlcnJpZGUoXyksZy5zdGFuZGFsb25lP2cuYmFzZU1hdGVyaWFsLmJpbmRGb3JTdWJNZXNoKHMuZ2V0V29ybGRNYXRyaXgoKSxhLGUpOmYuYmluZEZvclN1Yk1lc2gocy5nZXRXb3JsZE1hdHJpeCgpLGEsZSksZS5fc2V0TWFpbkRyYXdXcmFwcGVyT3ZlcnJpZGUobnVsbCk7ZWxzZXtpZihmJiZ0aGlzLnVzZU9wYWNpdHlUZXh0dXJlRm9yVHJhbnNwYXJlbnRTaGFkb3cpe3ZhciB5PWYub3BhY2l0eVRleHR1cmU7eSYmKHYuc2V0VGV4dHVyZSgiZGlmZnVzZVNhbXBsZXIiLHkpLHYuc2V0TWF0cml4KCJkaWZmdXNlTWF0cml4Iix5LmdldFRleHR1cmVNYXRyaXgoKXx8dGhpcy5fZGVmYXVsdFRleHR1cmVNYXRyaXgpKX1lbHNlIGlmKGYmJmYubmVlZEFscGhhVGVzdGluZygpKXt2YXIgRT1mLmdldEFscGhhVGVzdFRleHR1cmUoKTtFJiYodi5zZXRUZXh0dXJlKCJkaWZmdXNlU2FtcGxlciIsRSksdi5zZXRNYXRyaXgoImRpZmZ1c2VNYXRyaXgiLEUuZ2V0VGV4dHVyZU1hdHJpeCgpfHx0aGlzLl9kZWZhdWx0VGV4dHVyZU1hdHJpeCkpfWlmKGEudXNlQm9uZXMmJmEuY29tcHV0ZUJvbmVzVXNpbmdTaGFkZXJzJiZhLnNrZWxldG9uKXt2YXIgUj1hLnNrZWxldG9uO2lmKFIuaXNVc2luZ1RleHR1cmVGb3JNYXRyaWNlcyl7dmFyIE09Ui5nZXRUcmFuc2Zvcm1NYXRyaXhUZXh0dXJlKGEpO2lmKCFNKXJldHVybjt2LnNldFRleHR1cmUoImJvbmVTYW1wbGVyIixNKSx2LnNldEZsb2F0KCJib25lVGV4dHVyZVdpZHRoIiw0KihSLmJvbmVzLmxlbmd0aCsxKSl9ZWxzZSB2LnNldE1hdHJpY2VzKCJtQm9uZXMiLFIuZ2V0VHJhbnNmb3JtTWF0cmljZXMoYSkpfVkuQmluZE1vcnBoVGFyZ2V0UGFyYW1ldGVycyhhLHYpLGEubW9ycGhUYXJnZXRNYW5hZ2VyJiZhLm1vcnBoVGFyZ2V0TWFuYWdlci5pc1VzaW5nVGV4dHVyZUZvclRhcmdldHMmJmEubW9ycGhUYXJnZXRNYW5hZ2VyLl9iaW5kKHYpLFkuQmluZENsaXBQbGFuZSh2LG8pfSF0aGlzLl91c2VVQk8mJiFnJiZ0aGlzLl9iaW5kQ3VzdG9tRWZmZWN0Rm9yUmVuZGVyU3ViTWVzaEZvclNoYWRvd01hcChlLHYscyksWS5CaW5kU2NlbmVVbmlmb3JtQnVmZmVyKHYsdGhpcy5fc2NlbmUuZ2V0U2NlbmVVbmlmb3JtQnVmZmVyKCkpLHRoaXMuX3NjZW5lLmdldFNjZW5lVW5pZm9ybUJ1ZmZlcigpLmJpbmRVbmlmb3JtQnVmZmVyKCk7dmFyIEM9cy5nZXRXb3JsZE1hdHJpeCgpO3AmJihzLmdldE1lc2hVbmlmb3JtQnVmZmVyKCkuYmluZFRvRWZmZWN0KHYsIk1lc2giKSxzLnRyYW5zZmVyVG9FZmZlY3QoQykpLHRoaXMuZm9yY2VCYWNrRmFjZXNPbmx5JiZ1LnNldFN0YXRlKCEwLDAsITEsITAsZi5jdWxsQmFja0ZhY2VzKSx0aGlzLm9uQmVmb3JlU2hhZG93TWFwUmVuZGVyTWVzaE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGEpLHRoaXMub25CZWZvcmVTaGFkb3dNYXBSZW5kZXJPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh2KSxhLl9wcm9jZXNzUmVuZGVyaW5nKHMsZSx2LGYuZmlsbE1vZGUsZCxwLGZ1bmN0aW9uKEEsUyl7cyE9PWEmJiFBPyhhLmdldE1lc2hVbmlmb3JtQnVmZmVyKCkuYmluZFRvRWZmZWN0KHYsIk1lc2giKSxhLnRyYW5zZmVyVG9FZmZlY3QoUykpOihzLmdldE1lc2hVbmlmb3JtQnVmZmVyKCkuYmluZFRvRWZmZWN0KHYsIk1lc2giKSxzLnRyYW5zZmVyVG9FZmZlY3QoQT9TOkMpKX0pLHRoaXMuZm9yY2VCYWNrRmFjZXNPbmx5JiZ1LnNldFN0YXRlKCEwLDAsITEsITEsZi5jdWxsQmFja0ZhY2VzKSx0aGlzLm9uQWZ0ZXJTaGFkb3dNYXBSZW5kZXJPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh2KSx0aGlzLm9uQWZ0ZXJTaGFkb3dNYXBSZW5kZXJNZXNoT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoYSl9ZWxzZSB0aGlzLl9zaGFkb3dNYXAmJnRoaXMuX3NoYWRvd01hcC5yZXNldFJlZnJlc2hDb3VudGVyKCl9fX0saS5wcm90b3R5cGUuX2FwcGx5RmlsdGVyVmFsdWVzPWZ1bmN0aW9uKCl7IXRoaXMuX3NoYWRvd01hcHx8KHRoaXMuZmlsdGVyPT09aS5GSUxURVJfTk9ORXx8dGhpcy5maWx0ZXI9PT1pLkZJTFRFUl9QQ1NTP3RoaXMuX3NoYWRvd01hcC51cGRhdGVTYW1wbGluZ01vZGUoaWUuTkVBUkVTVF9TQU1QTElOR01PREUpOnRoaXMuX3NoYWRvd01hcC51cGRhdGVTYW1wbGluZ01vZGUoaWUuQklMSU5FQVJfU0FNUExJTkdNT0RFKSl9LGkucHJvdG90eXBlLmZvcmNlQ29tcGlsYXRpb249ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLG49RXQoe3VzZUluc3RhbmNlczohMX0sdCksYT10aGlzLmdldFNoYWRvd01hcCgpO2lmKCFhKXtlJiZlKHRoaXMpO3JldHVybn12YXIgcz1hLnJlbmRlckxpc3Q7aWYoIXMpe2UmJmUodGhpcyk7cmV0dXJufWZvcih2YXIgbz1uZXcgQXJyYXksdT0wLGY9czt1PGYubGVuZ3RoO3UrKyl7dmFyIGw9Zlt1XTtvLnB1c2guYXBwbHkobyxsLnN1Yk1lc2hlcyl9aWYoby5sZW5ndGg9PT0wKXtlJiZlKHRoaXMpO3JldHVybn12YXIgaD0wLGM9ZnVuY3Rpb24oKXt2YXIgZCxwO2lmKCEoIXIuX3NjZW5lfHwhci5fc2NlbmUuZ2V0RW5naW5lKCkpKXtmb3IoO3IuaXNSZWFkeShvW2hdLG4udXNlSW5zdGFuY2VzLChwPShkPW9baF0uZ2V0TWF0ZXJpYWwoKSk9PT1udWxsfHxkPT09dm9pZCAwP3ZvaWQgMDpkLm5lZWRBbHBoYUJsZW5kaW5nRm9yTWVzaChvW2hdLmdldE1lc2goKSkpIT09bnVsbCYmcCE9PXZvaWQgMD9wOiExKTspaWYoaCsrLGg+PW8ubGVuZ3RoKXtlJiZlKHIpO3JldHVybn1zZXRUaW1lb3V0KGMsMTYpfX07YygpfSxpLnByb3RvdHlwZS5mb3JjZUNvbXBpbGF0aW9uQXN5bmM9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocil7dC5mb3JjZUNvbXBpbGF0aW9uKGZ1bmN0aW9uKCl7cigpfSxlKX0pfSxpLnByb3RvdHlwZS5faXNSZWFkeUN1c3RvbURlZmluZXM9ZnVuY3Rpb24oZSx0LHIpe30saS5wcm90b3R5cGUuX3ByZXBhcmVTaGFkb3dEZWZpbmVzPWZ1bmN0aW9uKGUsdCxyLG4pe3IucHVzaCgiI2RlZmluZSBTTV9GTE9BVCAiKyh0aGlzLl90ZXh0dXJlVHlwZSE9PTA/IjEiOiIwIikpLHIucHVzaCgiI2RlZmluZSBTTV9FU00gIisodGhpcy51c2VFeHBvbmVudGlhbFNoYWRvd01hcHx8dGhpcy51c2VCbHVyRXhwb25lbnRpYWxTaGFkb3dNYXA/IjEiOiIwIikpLHIucHVzaCgiI2RlZmluZSBTTV9ERVBUSFRFWFRVUkUgIisodGhpcy51c2VQZXJjZW50YWdlQ2xvc2VyRmlsdGVyaW5nfHx0aGlzLnVzZUNvbnRhY3RIYXJkZW5pbmdTaGFkb3c/IjEiOiIwIikpO3ZhciBhPWUuZ2V0TWVzaCgpO3JldHVybiByLnB1c2goIiNkZWZpbmUgU01fTk9STUFMQklBUyAiKyh0aGlzLm5vcm1hbEJpYXMmJmEuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KG0uTm9ybWFsS2luZCk/IjEiOiIwIikpLHIucHVzaCgiI2RlZmluZSBTTV9ESVJFQ1RJT05JTkxJR0hUREFUQSAiKyh0aGlzLmdldExpZ2h0KCkuZ2V0VHlwZUlEKCk9PT1ldC5MSUdIVFRZUEVJRF9ESVJFQ1RJT05BTExJR0hUPyIxIjoiMCIpKSxyLnB1c2goIiNkZWZpbmUgU01fVVNFRElTVEFOQ0UgIisodGhpcy5fbGlnaHQubmVlZEN1YmUoKT8iMSI6IjAiKSksci5wdXNoKCIjZGVmaW5lIFNNX1NPRlRUUkFOU1BBUkVOVFNIQURPVyAiKyh0aGlzLmVuYWJsZVNvZnRUcmFuc3BhcmVudFNoYWRvdyYmbj8iMSI6IjAiKSksdGhpcy5faXNSZWFkeUN1c3RvbURlZmluZXMocixlLHQpLHJ9LGkucHJvdG90eXBlLmlzUmVhZHk9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuLGE9ZS5nZXRNYXRlcmlhbCgpLHM9YT09bnVsbD92b2lkIDA6YS5zaGFkb3dEZXB0aFdyYXBwZXIsbz1bXTtpZih0aGlzLl9wcmVwYXJlU2hhZG93RGVmaW5lcyhlLHQsbyxyKSxzKXtpZighcy5pc1JlYWR5Rm9yU3ViTWVzaChlLG8sdGhpcyx0LHRoaXMuX3NjZW5lLmdldEVuZ2luZSgpLmN1cnJlbnRSZW5kZXJQYXNzSWQpKXJldHVybiExfWVsc2V7dmFyIHU9ZS5fZ2V0RHJhd1dyYXBwZXIodm9pZCAwLCEwKSxmPXUuZWZmZWN0LGw9dS5kZWZpbmVzLGg9W20uUG9zaXRpb25LaW5kXSxjPWUuZ2V0TWVzaCgpO2lmKHRoaXMubm9ybWFsQmlhcyYmYy5pc1ZlcnRpY2VzRGF0YVByZXNlbnQobS5Ob3JtYWxLaW5kKSYmKGgucHVzaChtLk5vcm1hbEtpbmQpLG8ucHVzaCgiI2RlZmluZSBOT1JNQUwiKSxjLm5vblVuaWZvcm1TY2FsaW5nJiZvLnB1c2goIiNkZWZpbmUgTk9OVU5JRk9STVNDQUxJTkciKSksYSYmYS5uZWVkQWxwaGFUZXN0aW5nKCkpe3ZhciBkPW51bGw7aWYodGhpcy51c2VPcGFjaXR5VGV4dHVyZUZvclRyYW5zcGFyZW50U2hhZG93P2Q9YS5vcGFjaXR5VGV4dHVyZTpkPWEuZ2V0QWxwaGFUZXN0VGV4dHVyZSgpLGQpe2lmKCFkLmlzUmVhZHkoKSlyZXR1cm4hMTt2YXIgcD0obj1hLmFscGhhQ3V0T2ZmKSE9PW51bGwmJm4hPT12b2lkIDA/bjppLkRFRkFVTFRfQUxQSEFfQ1VUT0ZGO28ucHVzaCgiI2RlZmluZSBBTFBIQVRFU1QiKSxvLnB1c2goIiNkZWZpbmUgQUxQSEFURVNUVkFMVUUgIi5jb25jYXQocCkuY29uY2F0KHAlMT09PTA/Ii4iOiIiKSksYy5pc1ZlcnRpY2VzRGF0YVByZXNlbnQobS5VVktpbmQpJiYoaC5wdXNoKG0uVVZLaW5kKSxvLnB1c2goIiNkZWZpbmUgVVYxIikpLGMuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KG0uVVYyS2luZCkmJmQuY29vcmRpbmF0ZXNJbmRleD09PTEmJihoLnB1c2gobS5VVjJLaW5kKSxvLnB1c2goIiNkZWZpbmUgVVYyIikpfX12YXIgZz1uZXcgcGk7aWYoYy51c2VCb25lcyYmYy5jb21wdXRlQm9uZXNVc2luZ1NoYWRlcnMmJmMuc2tlbGV0b24pe2gucHVzaChtLk1hdHJpY2VzSW5kaWNlc0tpbmQpLGgucHVzaChtLk1hdHJpY2VzV2VpZ2h0c0tpbmQpLGMubnVtQm9uZUluZmx1ZW5jZXJzPjQmJihoLnB1c2gobS5NYXRyaWNlc0luZGljZXNFeHRyYUtpbmQpLGgucHVzaChtLk1hdHJpY2VzV2VpZ2h0c0V4dHJhS2luZCkpO3ZhciBfPWMuc2tlbGV0b247by5wdXNoKCIjZGVmaW5lIE5VTV9CT05FX0lORkxVRU5DRVJTICIrYy5udW1Cb25lSW5mbHVlbmNlcnMpLGMubnVtQm9uZUluZmx1ZW5jZXJzPjAmJmcuYWRkQ1BVU2tpbm5pbmdGYWxsYmFjaygwLGMpLF8uaXNVc2luZ1RleHR1cmVGb3JNYXRyaWNlcz9vLnB1c2goIiNkZWZpbmUgQk9ORVRFWFRVUkUiKTpvLnB1c2goIiNkZWZpbmUgQm9uZXNQZXJNZXNoICIrKF8uYm9uZXMubGVuZ3RoKzEpKX1lbHNlIG8ucHVzaCgiI2RlZmluZSBOVU1fQk9ORV9JTkZMVUVOQ0VSUyAwIik7dmFyIHY9Yy5tb3JwaFRhcmdldE1hbmFnZXIseT0wO3YmJnYubnVtSW5mbHVlbmNlcnM+MCYmKG8ucHVzaCgiI2RlZmluZSBNT1JQSFRBUkdFVFMiKSx5PXYubnVtSW5mbHVlbmNlcnMsby5wdXNoKCIjZGVmaW5lIE5VTV9NT1JQSF9JTkZMVUVOQ0VSUyAiK3kpLHYuaXNVc2luZ1RleHR1cmVGb3JUYXJnZXRzJiZvLnB1c2goIiNkZWZpbmUgTU9SUEhUQVJHRVRTX1RFWFRVUkUiKSxZLlByZXBhcmVBdHRyaWJ1dGVzRm9yTW9ycGhUYXJnZXRzSW5mbHVlbmNlcnMoaCxjLHkpKTt2YXIgRT10aGlzLl9zY2VuZTtpZihFLmNsaXBQbGFuZSYmby5wdXNoKCIjZGVmaW5lIENMSVBQTEFORSIpLEUuY2xpcFBsYW5lMiYmby5wdXNoKCIjZGVmaW5lIENMSVBQTEFORTIiKSxFLmNsaXBQbGFuZTMmJm8ucHVzaCgiI2RlZmluZSBDTElQUExBTkUzIiksRS5jbGlwUGxhbmU0JiZvLnB1c2goIiNkZWZpbmUgQ0xJUFBMQU5FNCIpLEUuY2xpcFBsYW5lNSYmby5wdXNoKCIjZGVmaW5lIENMSVBQTEFORTUiKSxFLmNsaXBQbGFuZTYmJm8ucHVzaCgiI2RlZmluZSBDTElQUExBTkU2IiksdCYmKG8ucHVzaCgiI2RlZmluZSBJTlNUQU5DRVMiKSxZLlB1c2hBdHRyaWJ1dGVzRm9ySW5zdGFuY2VzKGgpLGUuZ2V0UmVuZGVyaW5nTWVzaCgpLmhhc1RoaW5JbnN0YW5jZXMmJm8ucHVzaCgiI2RlZmluZSBUSElOX0lOU1RBTkNFUyIpKSx0aGlzLmN1c3RvbVNoYWRlck9wdGlvbnMmJnRoaXMuY3VzdG9tU2hhZGVyT3B0aW9ucy5kZWZpbmVzKWZvcih2YXIgUj0wLE09dGhpcy5jdXN0b21TaGFkZXJPcHRpb25zLmRlZmluZXM7UjxNLmxlbmd0aDtSKyspe3ZhciBDPU1bUl07by5pbmRleE9mKEMpPT09LTEmJm8ucHVzaChDKX12YXIgQT1vLmpvaW4oYApgKTtpZihsIT09QSl7bD1BO3ZhciBTPSJzaGFkb3dNYXAiLHc9WyJ3b3JsZCIsIm1Cb25lcyIsInZpZXdQcm9qZWN0aW9uIiwiZGlmZnVzZU1hdHJpeCIsImxpZ2h0RGF0YVNNIiwiZGVwdGhWYWx1ZXNTTSIsImJpYXNBbmRTY2FsZVNNIiwibW9ycGhUYXJnZXRJbmZsdWVuY2VzIiwiYm9uZVRleHR1cmVXaWR0aCIsInZDbGlwUGxhbmUiLCJ2Q2xpcFBsYW5lMiIsInZDbGlwUGxhbmUzIiwidkNsaXBQbGFuZTQiLCJ2Q2xpcFBsYW5lNSIsInZDbGlwUGxhbmU2Iiwic29mdFRyYW5zcGFyZW50U2hhZG93U00iLCJtb3JwaFRhcmdldFRleHR1cmVJbmZvIiwibW9ycGhUYXJnZXRUZXh0dXJlSW5kaWNlcyJdLEY9WyJkaWZmdXNlU2FtcGxlciIsImJvbmVTYW1wbGVyIiwibW9ycGhUYXJnZXRzIl0seD1bIlNjZW5lIiwiTWVzaCJdO2lmKHRoaXMuY3VzdG9tU2hhZGVyT3B0aW9ucyl7aWYoUz10aGlzLmN1c3RvbVNoYWRlck9wdGlvbnMuc2hhZGVyTmFtZSx0aGlzLmN1c3RvbVNoYWRlck9wdGlvbnMuYXR0cmlidXRlcylmb3IodmFyIEc9MCx6PXRoaXMuY3VzdG9tU2hhZGVyT3B0aW9ucy5hdHRyaWJ1dGVzO0c8ei5sZW5ndGg7RysrKXt2YXIgTj16W0ddO2guaW5kZXhPZihOKT09PS0xJiZoLnB1c2goTil9aWYodGhpcy5jdXN0b21TaGFkZXJPcHRpb25zLnVuaWZvcm1zKWZvcih2YXIgcT0wLCQ9dGhpcy5jdXN0b21TaGFkZXJPcHRpb25zLnVuaWZvcm1zO3E8JC5sZW5ndGg7cSsrKXt2YXIgdWU9JFtxXTt3LmluZGV4T2YodWUpPT09LTEmJncucHVzaCh1ZSl9aWYodGhpcy5jdXN0b21TaGFkZXJPcHRpb25zLnNhbXBsZXJzKWZvcih2YXIgWj0wLGo9dGhpcy5jdXN0b21TaGFkZXJPcHRpb25zLnNhbXBsZXJzO1o8ai5sZW5ndGg7WisrKXt2YXIgZmU9altaXTtGLmluZGV4T2YoZmUpPT09LTEmJkYucHVzaChmZSl9fXZhciBQZT10aGlzLl9zY2VuZS5nZXRFbmdpbmUoKTtmPVBlLmNyZWF0ZUVmZmVjdChTLHthdHRyaWJ1dGVzOmgsdW5pZm9ybXNOYW1lczp3LHVuaWZvcm1CdWZmZXJzTmFtZXM6eCxzYW1wbGVyczpGLGRlZmluZXM6QSxmYWxsYmFja3M6ZyxvbkNvbXBpbGVkOm51bGwsb25FcnJvcjpudWxsLGluZGV4UGFyYW1ldGVyczp7bWF4U2ltdWx0YW5lb3VzTW9ycGhUYXJnZXRzOnl9fSxQZSksdS5zZXRFZmZlY3QoZixsKX1pZighZi5pc1JlYWR5KCkpcmV0dXJuITF9cmV0dXJuKHRoaXMudXNlQmx1ckV4cG9uZW50aWFsU2hhZG93TWFwfHx0aGlzLnVzZUJsdXJDbG9zZUV4cG9uZW50aWFsU2hhZG93TWFwKSYmKCF0aGlzLl9ibHVyUG9zdFByb2Nlc3Nlc3x8IXRoaXMuX2JsdXJQb3N0UHJvY2Vzc2VzLmxlbmd0aCkmJnRoaXMuX2luaXRpYWxpemVCbHVyUlRUQW5kUG9zdFByb2Nlc3NlcygpLCEodGhpcy5fa2VybmVsQmx1clhQb3N0cHJvY2VzcyYmIXRoaXMuX2tlcm5lbEJsdXJYUG9zdHByb2Nlc3MuaXNSZWFkeSgpfHx0aGlzLl9rZXJuZWxCbHVyWVBvc3Rwcm9jZXNzJiYhdGhpcy5fa2VybmVsQmx1cllQb3N0cHJvY2Vzcy5pc1JlYWR5KCl8fHRoaXMuX2JveEJsdXJQb3N0cHJvY2VzcyYmIXRoaXMuX2JveEJsdXJQb3N0cHJvY2Vzcy5pc1JlYWR5KCkpfSxpLnByb3RvdHlwZS5wcmVwYXJlRGVmaW5lcz1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXMuX3NjZW5lLG49dGhpcy5fbGlnaHQ7IXIuc2hhZG93c0VuYWJsZWR8fCFuLnNoYWRvd0VuYWJsZWR8fChlWyJTSEFET1ciK3RdPSEwLHRoaXMudXNlQ29udGFjdEhhcmRlbmluZ1NoYWRvdz8oZVsiU0hBRE9XUENTUyIrdF09ITAsdGhpcy5fZmlsdGVyaW5nUXVhbGl0eT09PWkuUVVBTElUWV9MT1c/ZVsiU0hBRE9XTE9XUVVBTElUWSIrdF09ITA6dGhpcy5fZmlsdGVyaW5nUXVhbGl0eT09PWkuUVVBTElUWV9NRURJVU0mJihlWyJTSEFET1dNRURJVU1RVUFMSVRZIit0XT0hMCkpOnRoaXMudXNlUGVyY2VudGFnZUNsb3NlckZpbHRlcmluZz8oZVsiU0hBRE9XUENGIit0XT0hMCx0aGlzLl9maWx0ZXJpbmdRdWFsaXR5PT09aS5RVUFMSVRZX0xPVz9lWyJTSEFET1dMT1dRVUFMSVRZIit0XT0hMDp0aGlzLl9maWx0ZXJpbmdRdWFsaXR5PT09aS5RVUFMSVRZX01FRElVTSYmKGVbIlNIQURPV01FRElVTVFVQUxJVFkiK3RdPSEwKSk6dGhpcy51c2VQb2lzc29uU2FtcGxpbmc/ZVsiU0hBRE9XUE9JU1NPTiIrdF09ITA6dGhpcy51c2VFeHBvbmVudGlhbFNoYWRvd01hcHx8dGhpcy51c2VCbHVyRXhwb25lbnRpYWxTaGFkb3dNYXA/ZVsiU0hBRE9XRVNNIit0XT0hMDoodGhpcy51c2VDbG9zZUV4cG9uZW50aWFsU2hhZG93TWFwfHx0aGlzLnVzZUJsdXJDbG9zZUV4cG9uZW50aWFsU2hhZG93TWFwKSYmKGVbIlNIQURPV0NMT1NFRVNNIit0XT0hMCksbi5uZWVkQ3ViZSgpJiYoZVsiU0hBRE9XQ1VCRSIrdF09ITApKX0saS5wcm90b3R5cGUuYmluZFNoYWRvd0xpZ2h0PWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy5fbGlnaHQsbj10aGlzLl9zY2VuZTtpZighKCFuLnNoYWRvd3NFbmFibGVkfHwhci5zaGFkb3dFbmFibGVkKSl7dmFyIGE9bi5hY3RpdmVDYW1lcmE7aWYoISFhKXt2YXIgcz10aGlzLmdldFNoYWRvd01hcCgpOyFzfHwoci5uZWVkQ3ViZSgpfHx0LnNldE1hdHJpeCgibGlnaHRNYXRyaXgiK2UsdGhpcy5nZXRUcmFuc2Zvcm1NYXRyaXgoKSksdGhpcy5fZmlsdGVyPT09aS5GSUxURVJfUENGPyh0LnNldERlcHRoU3RlbmNpbFRleHR1cmUoInNoYWRvd1NhbXBsZXIiK2UsdGhpcy5nZXRTaGFkb3dNYXBGb3JSZW5kZXJpbmcoKSksci5fdW5pZm9ybUJ1ZmZlci51cGRhdGVGbG9hdDQoInNoYWRvd3NJbmZvIix0aGlzLmdldERhcmtuZXNzKCkscy5nZXRTaXplKCkud2lkdGgsMS9zLmdldFNpemUoKS53aWR0aCx0aGlzLmZydXN0dW1FZGdlRmFsbG9mZixlKSk6dGhpcy5fZmlsdGVyPT09aS5GSUxURVJfUENTUz8odC5zZXREZXB0aFN0ZW5jaWxUZXh0dXJlKCJzaGFkb3dTYW1wbGVyIitlLHRoaXMuZ2V0U2hhZG93TWFwRm9yUmVuZGVyaW5nKCkpLHQuc2V0VGV4dHVyZSgiZGVwdGhTYW1wbGVyIitlLHRoaXMuZ2V0U2hhZG93TWFwRm9yUmVuZGVyaW5nKCkpLHIuX3VuaWZvcm1CdWZmZXIudXBkYXRlRmxvYXQ0KCJzaGFkb3dzSW5mbyIsdGhpcy5nZXREYXJrbmVzcygpLDEvcy5nZXRTaXplKCkud2lkdGgsdGhpcy5fY29udGFjdEhhcmRlbmluZ0xpZ2h0U2l6ZVVWUmF0aW8qcy5nZXRTaXplKCkud2lkdGgsdGhpcy5mcnVzdHVtRWRnZUZhbGxvZmYsZSkpOih0LnNldFRleHR1cmUoInNoYWRvd1NhbXBsZXIiK2UsdGhpcy5nZXRTaGFkb3dNYXBGb3JSZW5kZXJpbmcoKSksci5fdW5pZm9ybUJ1ZmZlci51cGRhdGVGbG9hdDQoInNoYWRvd3NJbmZvIix0aGlzLmdldERhcmtuZXNzKCksdGhpcy5ibHVyU2NhbGUvcy5nZXRTaXplKCkud2lkdGgsdGhpcy5kZXB0aFNjYWxlLHRoaXMuZnJ1c3R1bUVkZ2VGYWxsb2ZmLGUpKSxyLl91bmlmb3JtQnVmZmVyLnVwZGF0ZUZsb2F0MigiZGVwdGhWYWx1ZXMiLHRoaXMuZ2V0TGlnaHQoKS5nZXREZXB0aE1pblooYSksdGhpcy5nZXRMaWdodCgpLmdldERlcHRoTWluWihhKSt0aGlzLmdldExpZ2h0KCkuZ2V0RGVwdGhNYXhaKGEpLGUpKX19fSxpLnByb3RvdHlwZS5nZXRUcmFuc2Zvcm1NYXRyaXg9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLl9zY2VuZTtpZih0aGlzLl9jdXJyZW50UmVuZGVySWQ9PT1lLmdldFJlbmRlcklkKCkmJnRoaXMuX2N1cnJlbnRGYWNlSW5kZXhDYWNoZT09PXRoaXMuX2N1cnJlbnRGYWNlSW5kZXgpcmV0dXJuIHRoaXMuX3RyYW5zZm9ybU1hdHJpeDt0aGlzLl9jdXJyZW50UmVuZGVySWQ9ZS5nZXRSZW5kZXJJZCgpLHRoaXMuX2N1cnJlbnRGYWNlSW5kZXhDYWNoZT10aGlzLl9jdXJyZW50RmFjZUluZGV4O3ZhciB0PXRoaXMuX2xpZ2h0LnBvc2l0aW9uO2lmKHRoaXMuX2xpZ2h0LmNvbXB1dGVUcmFuc2Zvcm1lZEluZm9ybWF0aW9uKCkmJih0PXRoaXMuX2xpZ2h0LnRyYW5zZm9ybWVkUG9zaXRpb24pLGIuTm9ybWFsaXplVG9SZWYodGhpcy5fbGlnaHQuZ2V0U2hhZG93RGlyZWN0aW9uKHRoaXMuX2N1cnJlbnRGYWNlSW5kZXgpLHRoaXMuX2xpZ2h0RGlyZWN0aW9uKSxNYXRoLmFicyhiLkRvdCh0aGlzLl9saWdodERpcmVjdGlvbixiLlVwKCkpKT09PTEmJih0aGlzLl9saWdodERpcmVjdGlvbi56PTFlLTEzKSx0aGlzLl9saWdodC5uZWVkUHJvamVjdGlvbk1hdHJpeENvbXB1dGUoKXx8IXRoaXMuX2NhY2hlZFBvc2l0aW9ufHwhdGhpcy5fY2FjaGVkRGlyZWN0aW9ufHwhdC5lcXVhbHModGhpcy5fY2FjaGVkUG9zaXRpb24pfHwhdGhpcy5fbGlnaHREaXJlY3Rpb24uZXF1YWxzKHRoaXMuX2NhY2hlZERpcmVjdGlvbikpe3RoaXMuX2NhY2hlZFBvc2l0aW9uLmNvcHlGcm9tKHQpLHRoaXMuX2NhY2hlZERpcmVjdGlvbi5jb3B5RnJvbSh0aGlzLl9saWdodERpcmVjdGlvbiksSS5Mb29rQXRMSFRvUmVmKHQsdC5hZGQodGhpcy5fbGlnaHREaXJlY3Rpb24pLGIuVXAoKSx0aGlzLl92aWV3TWF0cml4KTt2YXIgcj10aGlzLmdldFNoYWRvd01hcCgpO2lmKHIpe3ZhciBuPXIucmVuZGVyTGlzdDtuJiZ0aGlzLl9saWdodC5zZXRTaGFkb3dQcm9qZWN0aW9uTWF0cml4KHRoaXMuX3Byb2plY3Rpb25NYXRyaXgsdGhpcy5fdmlld01hdHJpeCxuKX10aGlzLl92aWV3TWF0cml4Lm11bHRpcGx5VG9SZWYodGhpcy5fcHJvamVjdGlvbk1hdHJpeCx0aGlzLl90cmFuc2Zvcm1NYXRyaXgpfXJldHVybiB0aGlzLl90cmFuc2Zvcm1NYXRyaXh9LGkucHJvdG90eXBlLnJlY3JlYXRlU2hhZG93TWFwPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fc2hhZG93TWFwO2lmKCEhZSl7dmFyIHQ9ZS5yZW5kZXJMaXN0O2lmKHRoaXMuX2Rpc3Bvc2VSVFRhbmRQb3N0UHJvY2Vzc2VzKCksdGhpcy5faW5pdGlhbGl6ZUdlbmVyYXRvcigpLHRoaXMuZmlsdGVyPXRoaXMuX2ZpbHRlcix0aGlzLl9hcHBseUZpbHRlclZhbHVlcygpLHQpe3RoaXMuX3NoYWRvd01hcC5yZW5kZXJMaXN0fHwodGhpcy5fc2hhZG93TWFwLnJlbmRlckxpc3Q9W10pO2Zvcih2YXIgcj0wLG49dDtyPG4ubGVuZ3RoO3IrKyl7dmFyIGE9bltyXTt0aGlzLl9zaGFkb3dNYXAucmVuZGVyTGlzdC5wdXNoKGEpfX1lbHNlIHRoaXMuX3NoYWRvd01hcC5yZW5kZXJMaXN0PW51bGx9fSxpLnByb3RvdHlwZS5fZGlzcG9zZUJsdXJQb3N0UHJvY2Vzc2VzPWZ1bmN0aW9uKCl7dGhpcy5fc2hhZG93TWFwMiYmKHRoaXMuX3NoYWRvd01hcDIuZGlzcG9zZSgpLHRoaXMuX3NoYWRvd01hcDI9bnVsbCksdGhpcy5fYm94Qmx1clBvc3Rwcm9jZXNzJiYodGhpcy5fYm94Qmx1clBvc3Rwcm9jZXNzLmRpc3Bvc2UoKSx0aGlzLl9ib3hCbHVyUG9zdHByb2Nlc3M9bnVsbCksdGhpcy5fa2VybmVsQmx1clhQb3N0cHJvY2VzcyYmKHRoaXMuX2tlcm5lbEJsdXJYUG9zdHByb2Nlc3MuZGlzcG9zZSgpLHRoaXMuX2tlcm5lbEJsdXJYUG9zdHByb2Nlc3M9bnVsbCksdGhpcy5fa2VybmVsQmx1cllQb3N0cHJvY2VzcyYmKHRoaXMuX2tlcm5lbEJsdXJZUG9zdHByb2Nlc3MuZGlzcG9zZSgpLHRoaXMuX2tlcm5lbEJsdXJZUG9zdHByb2Nlc3M9bnVsbCksdGhpcy5fYmx1clBvc3RQcm9jZXNzZXM9W119LGkucHJvdG90eXBlLl9kaXNwb3NlUlRUYW5kUG9zdFByb2Nlc3Nlcz1mdW5jdGlvbigpe3RoaXMuX3NoYWRvd01hcCYmKHRoaXMuX3NoYWRvd01hcC5kaXNwb3NlKCksdGhpcy5fc2hhZG93TWFwPW51bGwpLHRoaXMuX2Rpc3Bvc2VCbHVyUG9zdFByb2Nlc3NlcygpfSxpLnByb3RvdHlwZS5fZGlzcG9zZVNjZW5lVUJPcz1mdW5jdGlvbigpe2lmKHRoaXMuX3NjZW5lVUJPcyl7Zm9yKHZhciBlPTAsdD10aGlzLl9zY2VuZVVCT3M7ZTx0Lmxlbmd0aDtlKyspe3ZhciByPXRbZV07ci5kaXNwb3NlKCl9dGhpcy5fc2NlbmVVQk9zPVtdfX0saS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3RoaXMuX2Rpc3Bvc2VSVFRhbmRQb3N0UHJvY2Vzc2VzKCksdGhpcy5fZGlzcG9zZVNjZW5lVUJPcygpLHRoaXMuX2xpZ2h0JiYodGhpcy5fbGlnaHQuX3NoYWRvd0dlbmVyYXRvcj1udWxsLHRoaXMuX2xpZ2h0Ll9tYXJrTWVzaGVzQXNMaWdodERpcnR5KCkpLHRoaXMub25CZWZvcmVTaGFkb3dNYXBSZW5kZXJNZXNoT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25CZWZvcmVTaGFkb3dNYXBSZW5kZXJPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkFmdGVyU2hhZG93TWFwUmVuZGVyTWVzaE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQWZ0ZXJTaGFkb3dNYXBSZW5kZXJPYnNlcnZhYmxlLmNsZWFyKCl9LGkucHJvdG90eXBlLnNlcmlhbGl6ZT1mdW5jdGlvbigpe3ZhciBlPXt9LHQ9dGhpcy5nZXRTaGFkb3dNYXAoKTtpZighdClyZXR1cm4gZTtpZihlLmNsYXNzTmFtZT10aGlzLmdldENsYXNzTmFtZSgpLGUubGlnaHRJZD10aGlzLl9saWdodC5pZCxlLmlkPXRoaXMuaWQsZS5tYXBTaXplPXQuZ2V0UmVuZGVyU2l6ZSgpLGUuZm9yY2VCYWNrRmFjZXNPbmx5PXRoaXMuZm9yY2VCYWNrRmFjZXNPbmx5LGUuZGFya25lc3M9dGhpcy5nZXREYXJrbmVzcygpLGUudHJhbnNwYXJlbmN5U2hhZG93PXRoaXMuX3RyYW5zcGFyZW5jeVNoYWRvdyxlLmZydXN0dW1FZGdlRmFsbG9mZj10aGlzLmZydXN0dW1FZGdlRmFsbG9mZixlLmJpYXM9dGhpcy5iaWFzLGUubm9ybWFsQmlhcz10aGlzLm5vcm1hbEJpYXMsZS51c2VQZXJjZW50YWdlQ2xvc2VyRmlsdGVyaW5nPXRoaXMudXNlUGVyY2VudGFnZUNsb3NlckZpbHRlcmluZyxlLnVzZUNvbnRhY3RIYXJkZW5pbmdTaGFkb3c9dGhpcy51c2VDb250YWN0SGFyZGVuaW5nU2hhZG93LGUuY29udGFjdEhhcmRlbmluZ0xpZ2h0U2l6ZVVWUmF0aW89dGhpcy5jb250YWN0SGFyZGVuaW5nTGlnaHRTaXplVVZSYXRpbyxlLmZpbHRlcmluZ1F1YWxpdHk9dGhpcy5maWx0ZXJpbmdRdWFsaXR5LGUudXNlRXhwb25lbnRpYWxTaGFkb3dNYXA9dGhpcy51c2VFeHBvbmVudGlhbFNoYWRvd01hcCxlLnVzZUJsdXJFeHBvbmVudGlhbFNoYWRvd01hcD10aGlzLnVzZUJsdXJFeHBvbmVudGlhbFNoYWRvd01hcCxlLnVzZUNsb3NlRXhwb25lbnRpYWxTaGFkb3dNYXA9dGhpcy51c2VCbHVyRXhwb25lbnRpYWxTaGFkb3dNYXAsZS51c2VCbHVyQ2xvc2VFeHBvbmVudGlhbFNoYWRvd01hcD10aGlzLnVzZUJsdXJFeHBvbmVudGlhbFNoYWRvd01hcCxlLnVzZVBvaXNzb25TYW1wbGluZz10aGlzLnVzZVBvaXNzb25TYW1wbGluZyxlLmRlcHRoU2NhbGU9dGhpcy5kZXB0aFNjYWxlLGUuYmx1ckJveE9mZnNldD10aGlzLmJsdXJCb3hPZmZzZXQsZS5ibHVyS2VybmVsPXRoaXMuYmx1cktlcm5lbCxlLmJsdXJTY2FsZT10aGlzLmJsdXJTY2FsZSxlLnVzZUtlcm5lbEJsdXI9dGhpcy51c2VLZXJuZWxCbHVyLGUucmVuZGVyTGlzdD1bXSx0LnJlbmRlckxpc3QpZm9yKHZhciByPTA7cjx0LnJlbmRlckxpc3QubGVuZ3RoO3IrKyl7dmFyIG49dC5yZW5kZXJMaXN0W3JdO2UucmVuZGVyTGlzdC5wdXNoKG4uaWQpfXJldHVybiBlfSxpLlBhcnNlPWZ1bmN0aW9uKGUsdCxyKXtmb3IodmFyIG49dC5nZXRMaWdodEJ5SWQoZS5saWdodElkKSxhPXI/cihlLm1hcFNpemUsbik6bmV3IGkoZS5tYXBTaXplLG4pLHM9YS5nZXRTaGFkb3dNYXAoKSxvPTA7bzxlLnJlbmRlckxpc3QubGVuZ3RoO28rKyl7dmFyIHU9dC5nZXRNZXNoZXNCeUlkKGUucmVuZGVyTGlzdFtvXSk7dS5mb3JFYWNoKGZ1bmN0aW9uKGYpeyFzfHwocy5yZW5kZXJMaXN0fHwocy5yZW5kZXJMaXN0PVtdKSxzLnJlbmRlckxpc3QucHVzaChmKSl9KX1yZXR1cm4gZS5pZCE9PXZvaWQgMCYmKGEuaWQ9ZS5pZCksYS5mb3JjZUJhY2tGYWNlc09ubHk9ISFlLmZvcmNlQmFja0ZhY2VzT25seSxlLmRhcmtuZXNzIT09dm9pZCAwJiZhLnNldERhcmtuZXNzKGUuZGFya25lc3MpLGUudHJhbnNwYXJlbmN5U2hhZG93JiZhLnNldFRyYW5zcGFyZW5jeVNoYWRvdyghMCksZS5mcnVzdHVtRWRnZUZhbGxvZmYhPT12b2lkIDAmJihhLmZydXN0dW1FZGdlRmFsbG9mZj1lLmZydXN0dW1FZGdlRmFsbG9mZiksZS5iaWFzIT09dm9pZCAwJiYoYS5iaWFzPWUuYmlhcyksZS5ub3JtYWxCaWFzIT09dm9pZCAwJiYoYS5ub3JtYWxCaWFzPWUubm9ybWFsQmlhcyksZS51c2VQZXJjZW50YWdlQ2xvc2VyRmlsdGVyaW5nP2EudXNlUGVyY2VudGFnZUNsb3NlckZpbHRlcmluZz0hMDplLnVzZUNvbnRhY3RIYXJkZW5pbmdTaGFkb3c/YS51c2VDb250YWN0SGFyZGVuaW5nU2hhZG93PSEwOmUudXNlUG9pc3NvblNhbXBsaW5nP2EudXNlUG9pc3NvblNhbXBsaW5nPSEwOmUudXNlRXhwb25lbnRpYWxTaGFkb3dNYXA/YS51c2VFeHBvbmVudGlhbFNoYWRvd01hcD0hMDplLnVzZUJsdXJFeHBvbmVudGlhbFNoYWRvd01hcD9hLnVzZUJsdXJFeHBvbmVudGlhbFNoYWRvd01hcD0hMDplLnVzZUNsb3NlRXhwb25lbnRpYWxTaGFkb3dNYXA/YS51c2VDbG9zZUV4cG9uZW50aWFsU2hhZG93TWFwPSEwOmUudXNlQmx1ckNsb3NlRXhwb25lbnRpYWxTaGFkb3dNYXA/YS51c2VCbHVyQ2xvc2VFeHBvbmVudGlhbFNoYWRvd01hcD0hMDplLnVzZVZhcmlhbmNlU2hhZG93TWFwP2EudXNlRXhwb25lbnRpYWxTaGFkb3dNYXA9ITA6ZS51c2VCbHVyVmFyaWFuY2VTaGFkb3dNYXAmJihhLnVzZUJsdXJFeHBvbmVudGlhbFNoYWRvd01hcD0hMCksZS5jb250YWN0SGFyZGVuaW5nTGlnaHRTaXplVVZSYXRpbyE9PXZvaWQgMCYmKGEuY29udGFjdEhhcmRlbmluZ0xpZ2h0U2l6ZVVWUmF0aW89ZS5jb250YWN0SGFyZGVuaW5nTGlnaHRTaXplVVZSYXRpbyksZS5maWx0ZXJpbmdRdWFsaXR5IT09dm9pZCAwJiYoYS5maWx0ZXJpbmdRdWFsaXR5PWUuZmlsdGVyaW5nUXVhbGl0eSksZS5kZXB0aFNjYWxlJiYoYS5kZXB0aFNjYWxlPWUuZGVwdGhTY2FsZSksZS5ibHVyU2NhbGUmJihhLmJsdXJTY2FsZT1lLmJsdXJTY2FsZSksZS5ibHVyQm94T2Zmc2V0JiYoYS5ibHVyQm94T2Zmc2V0PWUuYmx1ckJveE9mZnNldCksZS51c2VLZXJuZWxCbHVyJiYoYS51c2VLZXJuZWxCbHVyPWUudXNlS2VybmVsQmx1ciksZS5ibHVyS2VybmVsJiYoYS5ibHVyS2VybmVsPWUuYmx1cktlcm5lbCksYX0saS5DTEFTU05BTUU9IlNoYWRvd0dlbmVyYXRvciIsaS5GSUxURVJfTk9ORT0wLGkuRklMVEVSX0VYUE9ORU5USUFMU0hBRE9XTUFQPTEsaS5GSUxURVJfUE9JU1NPTlNBTVBMSU5HPTIsaS5GSUxURVJfQkxVUkVYUE9ORU5USUFMU0hBRE9XTUFQPTMsaS5GSUxURVJfQ0xPU0VFWFBPTkVOVElBTFNIQURPV01BUD00LGkuRklMVEVSX0JMVVJDTE9TRUVYUE9ORU5USUFMU0hBRE9XTUFQPTUsaS5GSUxURVJfUENGPTYsaS5GSUxURVJfUENTUz03LGkuUVVBTElUWV9ISUdIPTAsaS5RVUFMSVRZX01FRElVTT0xLGkuUVVBTElUWV9MT1c9MixpLkRFRkFVTFRfQUxQSEFfQ1VUT0ZGPS41LGkuX1NjZW5lQ29tcG9uZW50SW5pdGlhbGl6YXRpb249ZnVuY3Rpb24oZSl7dGhyb3cgWCgiU2hhZG93R2VuZXJhdG9yU2NlbmVDb21wb25lbnQiKX0saX0oKSx2bz0iZGVwdGhQaXhlbFNoYWRlciIsbW89YCNpZmRlZiBBTFBIQVRFU1QKdmFyeWluZyB2ZWMyIHZVVjsKdW5pZm9ybSBzYW1wbGVyMkQgZGlmZnVzZVNhbXBsZXI7CiNlbmRpZgp2YXJ5aW5nIGZsb2F0IHZEZXB0aE1ldHJpYzsKI2lmZGVmIFBBQ0tFRAojaW5jbHVkZTxwYWNraW5nRnVuY3Rpb25zPgojZW5kaWYKI2RlZmluZSBDVVNUT01fRlJBR01FTlRfREVGSU5JVElPTlMKdm9pZCBtYWluKHZvaWQpCnsKI2lmZGVmIEFMUEhBVEVTVAppZiAodGV4dHVyZTJEKGRpZmZ1c2VTYW1wbGVyLHZVVikuYTwwLjQpCmRpc2NhcmQ7CiNlbmRpZgojaWZkZWYgTk9OTElORUFSREVQVEgKI2lmZGVmIFBBQ0tFRApnbF9GcmFnQ29sb3I9cGFjayhnbF9GcmFnQ29vcmQueik7CiNlbHNlCmdsX0ZyYWdDb2xvcj12ZWM0KGdsX0ZyYWdDb29yZC56LDAuMCwwLjAsMC4wKTsKI2VuZGlmCiNlbHNlCiNpZmRlZiBQQUNLRUQKZ2xfRnJhZ0NvbG9yPXBhY2sodkRlcHRoTWV0cmljKTsKI2Vsc2UKZ2xfRnJhZ0NvbG9yPXZlYzQodkRlcHRoTWV0cmljLDAuMCwwLjAsMS4wKTsKI2VuZGlmCiNlbmRpZgp9YDtMLlNoYWRlcnNTdG9yZVt2b109bW87dmFyIHlvPSJpbnN0YW5jZXNEZWNsYXJhdGlvbiIsYm89YCNpZmRlZiBJTlNUQU5DRVMKYXR0cmlidXRlIHZlYzQgd29ybGQwOwphdHRyaWJ1dGUgdmVjNCB3b3JsZDE7CmF0dHJpYnV0ZSB2ZWM0IHdvcmxkMjsKYXR0cmlidXRlIHZlYzQgd29ybGQzOwojaWZkZWYgSU5TVEFOQ0VTQ09MT1IKYXR0cmlidXRlIHZlYzQgaW5zdGFuY2VDb2xvcjsKI2VuZGlmCiNpZiBkZWZpbmVkKFRISU5fSU5TVEFOQ0VTKSAmJiAhZGVmaW5lZChXT1JMRF9VQk8pCnVuaWZvcm0gbWF0NCB3b3JsZDsKI2VuZGlmCiNpZiBkZWZpbmVkKFZFTE9DSVRZKSB8fCBkZWZpbmVkKFBSRVBBU1NfVkVMT0NJVFkpCmF0dHJpYnV0ZSB2ZWM0IHByZXZpb3VzV29ybGQwOwphdHRyaWJ1dGUgdmVjNCBwcmV2aW91c1dvcmxkMTsKYXR0cmlidXRlIHZlYzQgcHJldmlvdXNXb3JsZDI7CmF0dHJpYnV0ZSB2ZWM0IHByZXZpb3VzV29ybGQzOwojaWZkZWYgVEhJTl9JTlNUQU5DRVMKdW5pZm9ybSBtYXQ0IHByZXZpb3VzV29ybGQ7CiNlbmRpZgojZW5kaWYKI2Vsc2UKI2lmICFkZWZpbmVkKFdPUkxEX1VCTykKdW5pZm9ybSBtYXQ0IHdvcmxkOwojZW5kaWYKI2lmIGRlZmluZWQoVkVMT0NJVFkpIHx8IGRlZmluZWQoUFJFUEFTU19WRUxPQ0lUWSkKdW5pZm9ybSBtYXQ0IHByZXZpb3VzV29ybGQ7CiNlbmRpZgojZW5kaWYKYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW3lvXT1ibzt2YXIgRW89ImRlcHRoVmVydGV4U2hhZGVyIixUbz1gYXR0cmlidXRlIHZlYzMgcG9zaXRpb247CiNpbmNsdWRlPGJvbmVzRGVjbGFyYXRpb24+CiNpbmNsdWRlPGJha2VkVmVydGV4QW5pbWF0aW9uRGVjbGFyYXRpb24+CiNpbmNsdWRlPG1vcnBoVGFyZ2V0c1ZlcnRleEdsb2JhbERlY2xhcmF0aW9uPgojaW5jbHVkZTxtb3JwaFRhcmdldHNWZXJ0ZXhEZWNsYXJhdGlvbj5bMC4ubWF4U2ltdWx0YW5lb3VzTW9ycGhUYXJnZXRzXQojaW5jbHVkZTxpbnN0YW5jZXNEZWNsYXJhdGlvbj4KdW5pZm9ybSBtYXQ0IHZpZXdQcm9qZWN0aW9uOwp1bmlmb3JtIHZlYzIgZGVwdGhWYWx1ZXM7CiNpZiBkZWZpbmVkKEFMUEhBVEVTVCkgfHwgZGVmaW5lZChORUVEX1VWKQp2YXJ5aW5nIHZlYzIgdlVWOwp1bmlmb3JtIG1hdDQgZGlmZnVzZU1hdHJpeDsKI2lmZGVmIFVWMQphdHRyaWJ1dGUgdmVjMiB1djsKI2VuZGlmCiNpZmRlZiBVVjIKYXR0cmlidXRlIHZlYzIgdXYyOwojZW5kaWYKI2VuZGlmCnZhcnlpbmcgZmxvYXQgdkRlcHRoTWV0cmljOwojZGVmaW5lIENVU1RPTV9WRVJURVhfREVGSU5JVElPTlMKdm9pZCBtYWluKHZvaWQpCnsKdmVjMyBwb3NpdGlvblVwZGF0ZWQ9cG9zaXRpb247CiNpZmRlZiBVVjEKdmVjMiB1dlVwZGF0ZWQ9dXY7CiNlbmRpZgojaW5jbHVkZTxtb3JwaFRhcmdldHNWZXJ0ZXhHbG9iYWw+CiNpbmNsdWRlPG1vcnBoVGFyZ2V0c1ZlcnRleD5bMC4ubWF4U2ltdWx0YW5lb3VzTW9ycGhUYXJnZXRzXQojaW5jbHVkZTxpbnN0YW5jZXNWZXJ0ZXg+CiNpbmNsdWRlPGJvbmVzVmVydGV4PgojaW5jbHVkZTxiYWtlZFZlcnRleEFuaW1hdGlvbj4KZ2xfUG9zaXRpb249dmlld1Byb2plY3Rpb24qZmluYWxXb3JsZCp2ZWM0KHBvc2l0aW9uVXBkYXRlZCwxLjApOwojaWZkZWYgVVNFX1JFVkVSU0VfREVQVEhCVUZGRVIKdkRlcHRoTWV0cmljPSgoLWdsX1Bvc2l0aW9uLnorZGVwdGhWYWx1ZXMueCkvKGRlcHRoVmFsdWVzLnkpKTsKI2Vsc2UKdkRlcHRoTWV0cmljPSgoZ2xfUG9zaXRpb24ueitkZXB0aFZhbHVlcy54KS8oZGVwdGhWYWx1ZXMueSkpOwojZW5kaWYKI2lmIGRlZmluZWQoQUxQSEFURVNUKSB8fCBkZWZpbmVkKEJBU0lDX1JFTkRFUikKI2lmZGVmIFVWMQp2VVY9dmVjMihkaWZmdXNlTWF0cml4KnZlYzQodXZVcGRhdGVkLDEuMCwwLjApKTsKI2VuZGlmCiNpZmRlZiBVVjIKdlVWPXZlYzIoZGlmZnVzZU1hdHJpeCp2ZWM0KHV2MiwxLjAsMC4wKSk7CiNlbmRpZgojZW5kaWYKfQpgO0wuU2hhZGVyc1N0b3JlW0VvXT1Ubzt2YXIgU289ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKGUsdCxyLG4sYSl7dD09PXZvaWQgMCYmKHQ9MSkscj09PXZvaWQgMCYmKHI9bnVsbCksbj09PXZvaWQgMCYmKG49ITEpLGE9PT12b2lkIDAmJihhPWllLlRSSUxJTkVBUl9TQU1QTElOR01PREUpO3ZhciBzPXRoaXM7dGhpcy5lbmFibGVkPSEwLHRoaXMuZm9yY2VEZXB0aFdyaXRlVHJhbnNwYXJlbnRNZXNoZXM9ITEsdGhpcy51c2VPbmx5SW5BY3RpdmVDYW1lcmE9ITEsdGhpcy5fc2NlbmU9ZSx0aGlzLl9zdG9yZU5vbkxpbmVhckRlcHRoPW4sdGhpcy5pc1BhY2tlZD10PT09MCx0aGlzLmlzUGFja2VkP3RoaXMuX2NsZWFyQ29sb3I9bmV3IEVlKDEsMSwxLDEpOnRoaXMuX2NsZWFyQ29sb3I9bmV3IEVlKDEsMCwwLDEpLGkuX1NjZW5lQ29tcG9uZW50SW5pdGlhbGl6YXRpb24odGhpcy5fc2NlbmUpO3ZhciBvPWUuZ2V0RW5naW5lKCk7dGhpcy5fY2FtZXJhPXIsYSE9PWllLk5FQVJFU1RfU0FNUExJTkdNT0RFJiYodD09PTEmJiFvLl9jYXBzLnRleHR1cmVGbG9hdExpbmVhckZpbHRlcmluZyYmKGE9aWUuTkVBUkVTVF9TQU1QTElOR01PREUpLHQ9PT0yJiYhby5fY2Fwcy50ZXh0dXJlSGFsZkZsb2F0TGluZWFyRmlsdGVyaW5nJiYoYT1pZS5ORUFSRVNUX1NBTVBMSU5HTU9ERSkpO3ZhciB1PXRoaXMuaXNQYWNrZWR8fCFvLl9mZWF0dXJlcy5zdXBwb3J0RXh0ZW5kZWRUZXh0dXJlRm9ybWF0cz81OjY7dGhpcy5fZGVwdGhNYXA9bmV3IGt0KCJEZXB0aFJlbmRlcmVyIix7d2lkdGg6by5nZXRSZW5kZXJXaWR0aCgpLGhlaWdodDpvLmdldFJlbmRlckhlaWdodCgpfSx0aGlzLl9zY2VuZSwhMSwhMCx0LCExLGEsdm9pZCAwLHZvaWQgMCx2b2lkIDAsdSksdGhpcy5fZGVwdGhNYXAud3JhcFU9aWUuQ0xBTVBfQUREUkVTU01PREUsdGhpcy5fZGVwdGhNYXAud3JhcFY9aWUuQ0xBTVBfQUREUkVTU01PREUsdGhpcy5fZGVwdGhNYXAucmVmcmVzaFJhdGU9MSx0aGlzLl9kZXB0aE1hcC5yZW5kZXJQYXJ0aWNsZXM9ITEsdGhpcy5fZGVwdGhNYXAucmVuZGVyTGlzdD1udWxsLHRoaXMuX2RlcHRoTWFwLmFjdGl2ZUNhbWVyYT10aGlzLl9jYW1lcmEsdGhpcy5fZGVwdGhNYXAuaWdub3JlQ2FtZXJhVmlld3BvcnQ9ITAsdGhpcy5fZGVwdGhNYXAudXNlQ2FtZXJhUG9zdFByb2Nlc3Nlcz0hMSx0aGlzLl9kZXB0aE1hcC5vbkNsZWFyT2JzZXJ2YWJsZS5hZGQoZnVuY3Rpb24obCl7bC5jbGVhcihzLl9jbGVhckNvbG9yLCEwLCEwLCEwKX0pLHRoaXMuX2RlcHRoTWFwLm9uQmVmb3JlQmluZE9ic2VydmFibGUuYWRkKGZ1bmN0aW9uKCl7dmFyIGw7KGw9by5fZGVidWdQdXNoR3JvdXApPT09bnVsbHx8bD09PXZvaWQgMHx8bC5jYWxsKG8sImRlcHRoIHJlbmRlcmVyIiwxKX0pLHRoaXMuX2RlcHRoTWFwLm9uQWZ0ZXJVbmJpbmRPYnNlcnZhYmxlLmFkZChmdW5jdGlvbigpe3ZhciBsOyhsPW8uX2RlYnVnUG9wR3JvdXApPT09bnVsbHx8bD09PXZvaWQgMHx8bC5jYWxsKG8sMSl9KSx0aGlzLl9kZXB0aE1hcC5jdXN0b21Jc1JlYWR5RnVuY3Rpb249ZnVuY3Rpb24obCxoKXtpZighbC5pc1JlYWR5KCExKSlyZXR1cm4hMTtpZihoPT09MCYmbC5zdWJNZXNoZXMpZm9yKHZhciBjPTA7YzxsLnN1Yk1lc2hlcy5sZW5ndGg7KytjKXt2YXIgZD1sLnN1Yk1lc2hlc1tjXSxwPWQuZ2V0UmVuZGVyaW5nTWVzaCgpLGc9cC5fZ2V0SW5zdGFuY2VzUmVuZGVyTGlzdChkLl9pZCwhIWQuZ2V0UmVwbGFjZW1lbnRNZXNoKCkpLF89by5nZXRDYXBzKCkuaW5zdGFuY2VkQXJyYXlzJiYoZy52aXNpYmxlSW5zdGFuY2VzW2QuX2lkXSE9PW51bGwmJmcudmlzaWJsZUluc3RhbmNlc1tkLl9pZF0hPT12b2lkIDB8fHAuaGFzVGhpbkluc3RhbmNlcyk7aWYoIXMuaXNSZWFkeShkLF8pKXJldHVybiExfXJldHVybiEwfTt2YXIgZj1mdW5jdGlvbihsKXt2YXIgaCxjLGQ9bC5nZXRSZW5kZXJpbmdNZXNoKCkscD1sLmdldEVmZmVjdGl2ZU1lc2goKSxnPXMuX3NjZW5lLF89Zy5nZXRFbmdpbmUoKSx2PWwuZ2V0TWF0ZXJpYWwoKTtpZihwLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9pc0FjdGl2ZUludGVybWVkaWF0ZT0hMSwhKCF2fHxwLmluZmluaXRlRGlzdGFuY2V8fHYuZGlzYWJsZURlcHRoV3JpdGV8fGwudmVydGljZXNDb3VudD09PTB8fGwuX3JlbmRlcklkPT09Zy5nZXRSZW5kZXJJZCgpKSl7dmFyIHk9cC5fZ2V0V29ybGRNYXRyaXhEZXRlcm1pbmFudCgpPDAsRT0oaD1kLm92ZXJyaWRlTWF0ZXJpYWxTaWRlT3JpZW50YXRpb24pIT09bnVsbCYmaCE9PXZvaWQgMD9oOnYuc2lkZU9yaWVudGF0aW9uO3kmJihFPUU9PT0wPzE6MCk7dmFyIFI9RT09PTA7Xy5zZXRTdGF0ZSh2LmJhY2tGYWNlQ3VsbGluZywwLCExLFIsdi5jdWxsQmFja0ZhY2VzKTt2YXIgTT1kLl9nZXRJbnN0YW5jZXNSZW5kZXJMaXN0KGwuX2lkLCEhbC5nZXRSZXBsYWNlbWVudE1lc2goKSk7aWYoIU0ubXVzdFJldHVybil7dmFyIEM9Xy5nZXRDYXBzKCkuaW5zdGFuY2VkQXJyYXlzJiYoTS52aXNpYmxlSW5zdGFuY2VzW2wuX2lkXSE9PW51bGwmJk0udmlzaWJsZUluc3RhbmNlc1tsLl9pZF0hPT12b2lkIDB8fGQuaGFzVGhpbkluc3RhbmNlcyksQT1zLl9jYW1lcmF8fGcuYWN0aXZlQ2FtZXJhO2lmKHMuaXNSZWFkeShsLEMpJiZBKXtsLl9yZW5kZXJJZD1nLmdldFJlbmRlcklkKCk7dmFyIFM9KGM9cC5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWF0ZXJpYWxGb3JSZW5kZXJQYXNzKT09PW51bGx8fGM9PT12b2lkIDA/dm9pZCAwOmNbXy5jdXJyZW50UmVuZGVyUGFzc0lkXSx3PWwuX2dldERyYXdXcmFwcGVyKCk7IXcmJlMmJih3PVMuX2dldERyYXdXcmFwcGVyKCkpO3ZhciBGPUEubW9kZT09PU9lLk9SVEhPR1JBUEhJQ19DQU1FUkE7aWYoIXcpcmV0dXJuO3ZhciB4PXcuZWZmZWN0O18uZW5hYmxlRWZmZWN0KHcpLEN8fGQuX2JpbmQobCx4LHYuZmlsbE1vZGUpLFM/Uy5iaW5kRm9yU3ViTWVzaChwLmdldFdvcmxkTWF0cml4KCkscCxsKTooeC5zZXRNYXRyaXgoInZpZXdQcm9qZWN0aW9uIixnLmdldFRyYW5zZm9ybU1hdHJpeCgpKSx4LnNldE1hdHJpeCgid29ybGQiLHAuZ2V0V29ybGRNYXRyaXgoKSkpO3ZhciBHPXZvaWQgMCx6PXZvaWQgMDtpZihGPyhHPSFfLnVzZVJldmVyc2VEZXB0aEJ1ZmZlciYmXy5pc05EQ0hhbGZaUmFuZ2U/MDoxLHo9Xy51c2VSZXZlcnNlRGVwdGhCdWZmZXImJl8uaXNORENIYWxmWlJhbmdlPzA6MSk6KEc9Xy51c2VSZXZlcnNlRGVwdGhCdWZmZXImJl8uaXNORENIYWxmWlJhbmdlP0EubWluWjpfLmlzTkRDSGFsZlpSYW5nZT8wOkEubWluWix6PV8udXNlUmV2ZXJzZURlcHRoQnVmZmVyJiZfLmlzTkRDSGFsZlpSYW5nZT8wOkEubWF4WikseC5zZXRGbG9hdDIoImRlcHRoVmFsdWVzIixHLEcreiksIVMpe2lmKHYmJnYubmVlZEFscGhhVGVzdGluZygpKXt2YXIgTj12LmdldEFscGhhVGVzdFRleHR1cmUoKTtOJiYoeC5zZXRUZXh0dXJlKCJkaWZmdXNlU2FtcGxlciIsTikseC5zZXRNYXRyaXgoImRpZmZ1c2VNYXRyaXgiLE4uZ2V0VGV4dHVyZU1hdHJpeCgpKSl9aWYoZC51c2VCb25lcyYmZC5jb21wdXRlQm9uZXNVc2luZ1NoYWRlcnMmJmQuc2tlbGV0b24pe3ZhciBxPWQuc2tlbGV0b247aWYocS5pc1VzaW5nVGV4dHVyZUZvck1hdHJpY2VzKXt2YXIgJD1xLmdldFRyYW5zZm9ybU1hdHJpeFRleHR1cmUoZCk7aWYoISQpcmV0dXJuO3guc2V0VGV4dHVyZSgiYm9uZVNhbXBsZXIiLCQpLHguc2V0RmxvYXQoImJvbmVUZXh0dXJlV2lkdGgiLDQqKHEuYm9uZXMubGVuZ3RoKzEpKX1lbHNlIHguc2V0TWF0cmljZXMoIm1Cb25lcyIscS5nZXRUcmFuc2Zvcm1NYXRyaWNlcyhkKSl9WS5CaW5kTW9ycGhUYXJnZXRQYXJhbWV0ZXJzKGQseCksZC5tb3JwaFRhcmdldE1hbmFnZXImJmQubW9ycGhUYXJnZXRNYW5hZ2VyLmlzVXNpbmdUZXh0dXJlRm9yVGFyZ2V0cyYmZC5tb3JwaFRhcmdldE1hbmFnZXIuX2JpbmQoeCl9ZC5fcHJvY2Vzc1JlbmRlcmluZyhwLGwseCx2LmZpbGxNb2RlLE0sQyxmdW5jdGlvbih1ZSxaKXtyZXR1cm4geC5zZXRNYXRyaXgoIndvcmxkIixaKX0pfX19fTt0aGlzLl9kZXB0aE1hcC5jdXN0b21SZW5kZXJGdW5jdGlvbj1mdW5jdGlvbihsLGgsYyxkKXt2YXIgcDtpZihkLmxlbmd0aClmb3IocD0wO3A8ZC5sZW5ndGg7cCsrKWYoZC5kYXRhW3BdKTtmb3IocD0wO3A8bC5sZW5ndGg7cCsrKWYobC5kYXRhW3BdKTtmb3IocD0wO3A8aC5sZW5ndGg7cCsrKWYoaC5kYXRhW3BdKTtpZihzLmZvcmNlRGVwdGhXcml0ZVRyYW5zcGFyZW50TWVzaGVzKWZvcihwPTA7cDxjLmxlbmd0aDtwKyspZihjLmRhdGFbcF0pO2Vsc2UgZm9yKHA9MDtwPGMubGVuZ3RoO3ArKyljLmRhdGFbcF0uZ2V0RWZmZWN0aXZlTWVzaCgpLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9pc0FjdGl2ZUludGVybWVkaWF0ZT0hMX19cmV0dXJuIGkucHJvdG90eXBlLnNldE1hdGVyaWFsRm9yUmVuZGVyaW5nPWZ1bmN0aW9uKGUsdCl7dGhpcy5fZGVwdGhNYXAuc2V0TWF0ZXJpYWxGb3JSZW5kZXJpbmcoZSx0KX0saS5wcm90b3R5cGUuaXNSZWFkeT1mdW5jdGlvbihlLHQpe3ZhciByLG49dGhpcy5fc2NlbmUuZ2V0RW5naW5lKCksYT1lLmdldE1lc2goKSxzPShyPWEuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21hdGVyaWFsRm9yUmVuZGVyUGFzcyk9PT1udWxsfHxyPT09dm9pZCAwP3ZvaWQgMDpyW24uY3VycmVudFJlbmRlclBhc3NJZF07aWYocylyZXR1cm4gcy5pc1JlYWR5Rm9yU3ViTWVzaChhLGUsdCk7dmFyIG89ZS5nZXRNYXRlcmlhbCgpO2lmKCFvfHxvLmRpc2FibGVEZXB0aFdyaXRlKXJldHVybiExO3ZhciB1PVtdLGY9W20uUG9zaXRpb25LaW5kXTtpZihvJiZvLm5lZWRBbHBoYVRlc3RpbmcoKSYmby5nZXRBbHBoYVRlc3RUZXh0dXJlKCkmJih1LnB1c2goIiNkZWZpbmUgQUxQSEFURVNUIiksYS5pc1ZlcnRpY2VzRGF0YVByZXNlbnQobS5VVktpbmQpJiYoZi5wdXNoKG0uVVZLaW5kKSx1LnB1c2goIiNkZWZpbmUgVVYxIikpLGEuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KG0uVVYyS2luZCkmJihmLnB1c2gobS5VVjJLaW5kKSx1LnB1c2goIiNkZWZpbmUgVVYyIikpKSxhLnVzZUJvbmVzJiZhLmNvbXB1dGVCb25lc1VzaW5nU2hhZGVycyl7Zi5wdXNoKG0uTWF0cmljZXNJbmRpY2VzS2luZCksZi5wdXNoKG0uTWF0cmljZXNXZWlnaHRzS2luZCksYS5udW1Cb25lSW5mbHVlbmNlcnM+NCYmKGYucHVzaChtLk1hdHJpY2VzSW5kaWNlc0V4dHJhS2luZCksZi5wdXNoKG0uTWF0cmljZXNXZWlnaHRzRXh0cmFLaW5kKSksdS5wdXNoKCIjZGVmaW5lIE5VTV9CT05FX0lORkxVRU5DRVJTICIrYS5udW1Cb25lSW5mbHVlbmNlcnMpLHUucHVzaCgiI2RlZmluZSBCb25lc1Blck1lc2ggIisoYS5za2VsZXRvbj9hLnNrZWxldG9uLmJvbmVzLmxlbmd0aCsxOjApKTt2YXIgbD1lLmdldFJlbmRlcmluZ01lc2goKS5za2VsZXRvbjtsIT1udWxsJiZsLmlzVXNpbmdUZXh0dXJlRm9yTWF0cmljZXMmJnUucHVzaCgiI2RlZmluZSBCT05FVEVYVFVSRSIpfWVsc2UgdS5wdXNoKCIjZGVmaW5lIE5VTV9CT05FX0lORkxVRU5DRVJTIDAiKTt2YXIgaD1hLm1vcnBoVGFyZ2V0TWFuYWdlcixjPTA7aCYmaC5udW1JbmZsdWVuY2Vycz4wJiYoYz1oLm51bUluZmx1ZW5jZXJzLHUucHVzaCgiI2RlZmluZSBNT1JQSFRBUkdFVFMiKSx1LnB1c2goIiNkZWZpbmUgTlVNX01PUlBIX0lORkxVRU5DRVJTICIrYyksaC5pc1VzaW5nVGV4dHVyZUZvclRhcmdldHMmJnUucHVzaCgiI2RlZmluZSBNT1JQSFRBUkdFVFNfVEVYVFVSRSIpLFkuUHJlcGFyZUF0dHJpYnV0ZXNGb3JNb3JwaFRhcmdldHNJbmZsdWVuY2VycyhmLGEsYykpLHQmJih1LnB1c2goIiNkZWZpbmUgSU5TVEFOQ0VTIiksWS5QdXNoQXR0cmlidXRlc0Zvckluc3RhbmNlcyhmKSxlLmdldFJlbmRlcmluZ01lc2goKS5oYXNUaGluSW5zdGFuY2VzJiZ1LnB1c2goIiNkZWZpbmUgVEhJTl9JTlNUQU5DRVMiKSksdGhpcy5fc3RvcmVOb25MaW5lYXJEZXB0aCYmdS5wdXNoKCIjZGVmaW5lIE5PTkxJTkVBUkRFUFRIIiksdGhpcy5pc1BhY2tlZCYmdS5wdXNoKCIjZGVmaW5lIFBBQ0tFRCIpO3ZhciBkPWUuX2dldERyYXdXcmFwcGVyKHZvaWQgMCwhMCkscD1kLmRlZmluZXMsZz11LmpvaW4oYApgKTtyZXR1cm4gcCE9PWcmJmQuc2V0RWZmZWN0KG4uY3JlYXRlRWZmZWN0KCJkZXB0aCIsZixbIndvcmxkIiwibUJvbmVzIiwiYm9uZVRleHR1cmVXaWR0aCIsInZpZXdQcm9qZWN0aW9uIiwiZGlmZnVzZU1hdHJpeCIsImRlcHRoVmFsdWVzIiwibW9ycGhUYXJnZXRJbmZsdWVuY2VzIiwibW9ycGhUYXJnZXRUZXh0dXJlSW5mbyIsIm1vcnBoVGFyZ2V0VGV4dHVyZUluZGljZXMiXSxbImRpZmZ1c2VTYW1wbGVyIiwibW9ycGhUYXJnZXRzIiwiYm9uZVNhbXBsZXIiXSxnLHZvaWQgMCx2b2lkIDAsdm9pZCAwLHttYXhTaW11bHRhbmVvdXNNb3JwaFRhcmdldHM6Y30pLGcpLGQuZWZmZWN0LmlzUmVhZHkoKX0saS5wcm90b3R5cGUuZ2V0RGVwdGhNYXA9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGVwdGhNYXB9LGkucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt2YXIgZT1bXTtmb3IodmFyIHQgaW4gdGhpcy5fc2NlbmUuX2RlcHRoUmVuZGVyZXIpe3ZhciByPXRoaXMuX3NjZW5lLl9kZXB0aFJlbmRlcmVyW3RdO3I9PT10aGlzJiZlLnB1c2godCl9aWYoZS5sZW5ndGg+MCl7dGhpcy5fZGVwdGhNYXAuZGlzcG9zZSgpO2Zvcih2YXIgbj0wLGE9ZTtuPGEubGVuZ3RoO24rKyl7dmFyIHQ9YVtuXTtkZWxldGUgdGhpcy5fc2NlbmUuX2RlcHRoUmVuZGVyZXJbdF19fX0saS5fU2NlbmVDb21wb25lbnRJbml0aWFsaXphdGlvbj1mdW5jdGlvbihlKXt0aHJvdyBYKCJEZXB0aFJlbmRlcmVyU2NlbmVDb21wb25lbnQiKX0saX0oKSxNbz0ibWlubWF4UmVkdXhQaXhlbFNoYWRlciIsQW89YHZhcnlpbmcgdmVjMiB2VVY7CnVuaWZvcm0gc2FtcGxlcjJEIHRleHR1cmVTYW1wbGVyOwojaWYgZGVmaW5lZChJTklUSUFMKQp1bmlmb3JtIHNhbXBsZXIyRCBzb3VyY2VUZXh0dXJlOwp1bmlmb3JtIHZlYzIgdGV4U2l6ZTsKdm9pZCBtYWluKHZvaWQpCnsKaXZlYzIgY29vcmQ9aXZlYzIodlVWKih0ZXhTaXplLTEuMCkpOwpmbG9hdCBmMT10ZXhlbEZldGNoKHNvdXJjZVRleHR1cmUsY29vcmQsMCkucjsKZmxvYXQgZjI9dGV4ZWxGZXRjaChzb3VyY2VUZXh0dXJlLGNvb3JkK2l2ZWMyKDEsMCksMCkucjsKZmxvYXQgZjM9dGV4ZWxGZXRjaChzb3VyY2VUZXh0dXJlLGNvb3JkK2l2ZWMyKDEsMSksMCkucjsKZmxvYXQgZjQ9dGV4ZWxGZXRjaChzb3VyY2VUZXh0dXJlLGNvb3JkK2l2ZWMyKDAsMSksMCkucjsKZmxvYXQgbWluej1taW4obWluKG1pbihmMSxmMiksZjMpLGY0KTsKI2lmZGVmIERFUFRIX1JFRFVYCmZsb2F0IG1heHo9bWF4KG1heChtYXgoc2lnbigxLjAtZjEpKmYxLHNpZ24oMS4wLWYyKSpmMiksc2lnbigxLjAtZjMpKmYzKSxzaWduKDEuMC1mNCkqZjQpOwojZWxzZQpmbG9hdCBtYXh6PW1heChtYXgobWF4KGYxLGYyKSxmMyksZjQpOwojZW5kaWYKZ2xGcmFnQ29sb3I9dmVjNChtaW56LG1heHosMC4sMC4pOwp9CiNlbGlmIGRlZmluZWQoTUFJTikKdW5pZm9ybSB2ZWMyIHRleFNpemU7CnZvaWQgbWFpbih2b2lkKQp7Cml2ZWMyIGNvb3JkPWl2ZWMyKHZVVioodGV4U2l6ZS0xLjApKTsKdmVjMiBmMT10ZXhlbEZldGNoKHRleHR1cmVTYW1wbGVyLGNvb3JkLDApLnJnOwp2ZWMyIGYyPXRleGVsRmV0Y2godGV4dHVyZVNhbXBsZXIsY29vcmQraXZlYzIoMSwwKSwwKS5yZzsKdmVjMiBmMz10ZXhlbEZldGNoKHRleHR1cmVTYW1wbGVyLGNvb3JkK2l2ZWMyKDEsMSksMCkucmc7CnZlYzIgZjQ9dGV4ZWxGZXRjaCh0ZXh0dXJlU2FtcGxlcixjb29yZCtpdmVjMigwLDEpLDApLnJnOwpmbG9hdCBtaW56PW1pbihtaW4obWluKGYxLngsZjIueCksZjMueCksZjQueCk7CmZsb2F0IG1heHo9bWF4KG1heChtYXgoZjEueSxmMi55KSxmMy55KSxmNC55KTsKZ2xGcmFnQ29sb3I9dmVjNChtaW56LG1heHosMC4sMC4pOwp9CiNlbGlmIGRlZmluZWQoT05FQkVGT1JFTEFTVCkKdW5pZm9ybSBpdmVjMiB0ZXhTaXplOwp2b2lkIG1haW4odm9pZCkKewppdmVjMiBjb29yZD1pdmVjMih2VVYqdmVjMih0ZXhTaXplLTEpKTsKdmVjMiBmMT10ZXhlbEZldGNoKHRleHR1cmVTYW1wbGVyLGNvb3JkICUgdGV4U2l6ZSwwKS5yZzsKdmVjMiBmMj10ZXhlbEZldGNoKHRleHR1cmVTYW1wbGVyLChjb29yZCtpdmVjMigxLDApKSAlIHRleFNpemUsMCkucmc7CnZlYzIgZjM9dGV4ZWxGZXRjaCh0ZXh0dXJlU2FtcGxlciwoY29vcmQraXZlYzIoMSwxKSkgJSB0ZXhTaXplLDApLnJnOwp2ZWMyIGY0PXRleGVsRmV0Y2godGV4dHVyZVNhbXBsZXIsKGNvb3JkK2l2ZWMyKDAsMSkpICUgdGV4U2l6ZSwwKS5yZzsKZmxvYXQgbWluej1taW4oZjEueCxmMi54KTsKZmxvYXQgbWF4ej1tYXgoZjEueSxmMi55KTsKZ2xGcmFnQ29sb3I9dmVjNChtaW56LG1heHosMC4sMC4pOwp9CiNlbGlmIGRlZmluZWQoTEFTVCkKdm9pZCBtYWluKHZvaWQpCnsKZ2xGcmFnQ29sb3I9dmVjNCgwLik7CmlmICh0cnVlKSB7IApkaXNjYXJkOwp9Cn0KI2VuZGlmCmA7TC5TaGFkZXJzU3RvcmVbTW9dPUFvO3ZhciBSbz1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoZSl7dmFyIHQ9dGhpczt0aGlzLm9uQWZ0ZXJSZWR1Y3Rpb25QZXJmb3JtZWQ9bmV3IE8sdGhpcy5fZm9yY2VGdWxsc2NyZWVuVmlld3BvcnQ9ITAsdGhpcy5fYWN0aXZhdGVkPSExLHRoaXMuX2NhbWVyYT1lLHRoaXMuX3Bvc3RQcm9jZXNzTWFuYWdlcj1uZXcgTXIoZS5nZXRTY2VuZSgpKSx0aGlzLl9vbkNvbnRleHRSZXN0b3JlZE9ic2VydmVyPWUuZ2V0RW5naW5lKCkub25Db250ZXh0UmVzdG9yZWRPYnNlcnZhYmxlLmFkZChmdW5jdGlvbigpe3QuX3Bvc3RQcm9jZXNzTWFuYWdlci5fcmVidWlsZCgpfSl9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwic291cmNlVGV4dHVyZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zb3VyY2VUZXh0dXJlfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkucHJvdG90eXBlLnNldFNvdXJjZVRleHR1cmU9ZnVuY3Rpb24oZSx0LHIsbil7dmFyIGE9dGhpcztpZihyPT09dm9pZCAwJiYocj0yKSxuPT09dm9pZCAwJiYobj0hMCksZSE9PXRoaXMuX3NvdXJjZVRleHR1cmUpe3RoaXMuZGlzcG9zZSghMSksdGhpcy5fc291cmNlVGV4dHVyZT1lLHRoaXMuX3JlZHVjdGlvblN0ZXBzPVtdLHRoaXMuX2ZvcmNlRnVsbHNjcmVlblZpZXdwb3J0PW47dmFyIHM9dGhpcy5fY2FtZXJhLmdldFNjZW5lKCksbz1uZXcgYXIoIkluaXRpYWwgcmVkdWN0aW9uIHBoYXNlIiwibWlubWF4UmVkdXgiLFsidGV4U2l6ZSJdLFsic291cmNlVGV4dHVyZSJdLDEsbnVsbCwxLHMuZ2V0RW5naW5lKCksITEsIiNkZWZpbmUgSU5JVElBTCIrKHQ/YAojZGVmaW5lIERFUFRIX1JFRFVYYDoiIikscix2b2lkIDAsdm9pZCAwLHZvaWQgMCw3KTtvLmF1dG9DbGVhcj0hMSxvLmZvcmNlRnVsbHNjcmVlblZpZXdwb3J0PW47dmFyIHU9dGhpcy5fc291cmNlVGV4dHVyZS5nZXRSZW5kZXJXaWR0aCgpLGY9dGhpcy5fc291cmNlVGV4dHVyZS5nZXRSZW5kZXJIZWlnaHQoKTtvLm9uQXBwbHk9ZnVuY3Rpb24oZCxwKXtyZXR1cm4gZnVuY3Rpb24oZyl7Zy5zZXRUZXh0dXJlKCJzb3VyY2VUZXh0dXJlIixhLl9zb3VyY2VUZXh0dXJlKSxnLnNldEZsb2F0MigidGV4U2l6ZSIsZCxwKX19KHUsZiksdGhpcy5fcmVkdWN0aW9uU3RlcHMucHVzaChvKTtmb3IodmFyIGw9MTt1PjF8fGY+MTspe3U9TWF0aC5tYXgoTWF0aC5yb3VuZCh1LzIpLDEpLGY9TWF0aC5tYXgoTWF0aC5yb3VuZChmLzIpLDEpO3ZhciBoPW5ldyBhcigiUmVkdWN0aW9uIHBoYXNlICIrbCwibWlubWF4UmVkdXgiLFsidGV4U2l6ZSJdLG51bGwse3dpZHRoOnUsaGVpZ2h0OmZ9LG51bGwsMSxzLmdldEVuZ2luZSgpLCExLCIjZGVmaW5lICIrKHU9PTEmJmY9PTE/IkxBU1QiOnU9PTF8fGY9PTE/Ik9ORUJFRk9SRUxBU1QiOiJNQUlOIikscix2b2lkIDAsdm9pZCAwLHZvaWQgMCw3KTtpZihoLmF1dG9DbGVhcj0hMSxoLmZvcmNlRnVsbHNjcmVlblZpZXdwb3J0PW4saC5vbkFwcGx5PWZ1bmN0aW9uKGQscCl7cmV0dXJuIGZ1bmN0aW9uKGcpe2Q9PTF8fHA9PTE/Zy5zZXRJbnQyKCJ0ZXhTaXplIixkLHApOmcuc2V0RmxvYXQyKCJ0ZXhTaXplIixkLHApfX0odSxmKSx0aGlzLl9yZWR1Y3Rpb25TdGVwcy5wdXNoKGgpLGwrKyx1PT0xJiZmPT0xKXt2YXIgYz1mdW5jdGlvbihkLHAsZyl7dmFyIF89bmV3IEZsb2F0MzJBcnJheSg0KmQqcCksdj17bWluOjAsbWF4OjB9O3JldHVybiBmdW5jdGlvbigpe3MuZ2V0RW5naW5lKCkuX3JlYWRUZXh0dXJlUGl4ZWxzKGcuaW5wdXRUZXh0dXJlLnRleHR1cmUsZCxwLC0xLDAsXywhMSksdi5taW49X1swXSx2Lm1heD1fWzFdLGEub25BZnRlclJlZHVjdGlvblBlcmZvcm1lZC5ub3RpZnlPYnNlcnZlcnModil9fTtoLm9uQWZ0ZXJSZW5kZXJPYnNlcnZhYmxlLmFkZChjKHUsZixoKSl9fX19LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwicmVmcmVzaFJhdGUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc291cmNlVGV4dHVyZT90aGlzLl9zb3VyY2VUZXh0dXJlLnJlZnJlc2hSYXRlOi0xfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fc291cmNlVGV4dHVyZSYmKHRoaXMuX3NvdXJjZVRleHR1cmUucmVmcmVzaFJhdGU9ZSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCJhY3RpdmF0ZWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYWN0aXZhdGVkfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkucHJvdG90eXBlLmFjdGl2YXRlPWZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLl9vbkFmdGVyVW5iaW5kT2JzZXJ2ZXJ8fCF0aGlzLl9zb3VyY2VUZXh0dXJlfHwodGhpcy5fb25BZnRlclVuYmluZE9ic2VydmVyPXRoaXMuX3NvdXJjZVRleHR1cmUub25BZnRlclVuYmluZE9ic2VydmFibGUuYWRkKGZ1bmN0aW9uKCl7dmFyIHQscixuPWUuX2NhbWVyYS5nZXRTY2VuZSgpLmdldEVuZ2luZSgpOyh0PW4uX2RlYnVnUHVzaEdyb3VwKT09PW51bGx8fHQ9PT12b2lkIDB8fHQuY2FsbChuLCJtaW4gbWF4IHJlZHVjdGlvbiIsMSksZS5fcmVkdWN0aW9uU3RlcHNbMF0uYWN0aXZhdGUoZS5fY2FtZXJhKSxlLl9wb3N0UHJvY2Vzc01hbmFnZXIuZGlyZWN0UmVuZGVyKGUuX3JlZHVjdGlvblN0ZXBzLGUuX3JlZHVjdGlvblN0ZXBzWzBdLmlucHV0VGV4dHVyZSxlLl9mb3JjZUZ1bGxzY3JlZW5WaWV3cG9ydCksbi51bkJpbmRGcmFtZWJ1ZmZlcihlLl9yZWR1Y3Rpb25TdGVwc1swXS5pbnB1dFRleHR1cmUsITEpLChyPW4uX2RlYnVnUG9wR3JvdXApPT09bnVsbHx8cj09PXZvaWQgMHx8ci5jYWxsKG4sMSl9KSx0aGlzLl9hY3RpdmF0ZWQ9ITApfSxpLnByb3RvdHlwZS5kZWFjdGl2YXRlPWZ1bmN0aW9uKCl7IXRoaXMuX29uQWZ0ZXJVbmJpbmRPYnNlcnZlcnx8IXRoaXMuX3NvdXJjZVRleHR1cmV8fCh0aGlzLl9zb3VyY2VUZXh0dXJlLm9uQWZ0ZXJVbmJpbmRPYnNlcnZhYmxlLnJlbW92ZSh0aGlzLl9vbkFmdGVyVW5iaW5kT2JzZXJ2ZXIpLHRoaXMuX29uQWZ0ZXJVbmJpbmRPYnNlcnZlcj1udWxsLHRoaXMuX2FjdGl2YXRlZD0hMSl9LGkucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oZSl7aWYoZT09PXZvaWQgMCYmKGU9ITApLGUmJih0aGlzLm9uQWZ0ZXJSZWR1Y3Rpb25QZXJmb3JtZWQuY2xlYXIoKSx0aGlzLl9vbkNvbnRleHRSZXN0b3JlZE9ic2VydmVyJiYodGhpcy5fY2FtZXJhLmdldEVuZ2luZSgpLm9uQ29udGV4dFJlc3RvcmVkT2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5fb25Db250ZXh0UmVzdG9yZWRPYnNlcnZlciksdGhpcy5fb25Db250ZXh0UmVzdG9yZWRPYnNlcnZlcj1udWxsKSksdGhpcy5kZWFjdGl2YXRlKCksdGhpcy5fcmVkdWN0aW9uU3RlcHMpe2Zvcih2YXIgdD0wO3Q8dGhpcy5fcmVkdWN0aW9uU3RlcHMubGVuZ3RoOysrdCl0aGlzLl9yZWR1Y3Rpb25TdGVwc1t0XS5kaXNwb3NlKCk7dGhpcy5fcmVkdWN0aW9uU3RlcHM9bnVsbH10aGlzLl9wb3N0UHJvY2Vzc01hbmFnZXImJmUmJnRoaXMuX3Bvc3RQcm9jZXNzTWFuYWdlci5kaXNwb3NlKCksdGhpcy5fc291cmNlVGV4dHVyZT1udWxsfSxpfSgpLFBvPWZ1bmN0aW9uKGkpe0soZSxpKTtmdW5jdGlvbiBlKHQpe3JldHVybiBpLmNhbGwodGhpcyx0KXx8dGhpc31yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJkZXB0aFJlbmRlcmVyIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RlcHRoUmVuZGVyZXJ9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuc2V0RGVwdGhSZW5kZXJlcj1mdW5jdGlvbih0LHIsbil7dD09PXZvaWQgMCYmKHQ9bnVsbCkscj09PXZvaWQgMCYmKHI9Miksbj09PXZvaWQgMCYmKG49ITApO3ZhciBhPXRoaXMuX2NhbWVyYS5nZXRTY2VuZSgpO3RoaXMuX2RlcHRoUmVuZGVyZXImJihkZWxldGUgYS5fZGVwdGhSZW5kZXJlclt0aGlzLl9kZXB0aFJlbmRlcmVySWRdLHRoaXMuX2RlcHRoUmVuZGVyZXIuZGlzcG9zZSgpLHRoaXMuX2RlcHRoUmVuZGVyZXI9bnVsbCksdD09PW51bGwmJihhLl9kZXB0aFJlbmRlcmVyfHwoYS5fZGVwdGhSZW5kZXJlcj17fSksdD10aGlzLl9kZXB0aFJlbmRlcmVyPW5ldyBTbyhhLHIsdGhpcy5fY2FtZXJhLCExLDEpLHQuZW5hYmxlZD0hMSx0aGlzLl9kZXB0aFJlbmRlcmVySWQ9Im1pbm1heCIrdGhpcy5fY2FtZXJhLmlkLGEuX2RlcHRoUmVuZGVyZXJbdGhpcy5fZGVwdGhSZW5kZXJlcklkXT10KSxpLnByb3RvdHlwZS5zZXRTb3VyY2VUZXh0dXJlLmNhbGwodGhpcyx0LmdldERlcHRoTWFwKCksITAscixuKX0sZS5wcm90b3R5cGUuc2V0U291cmNlVGV4dHVyZT1mdW5jdGlvbih0LHIsbixhKXtuPT09dm9pZCAwJiYobj0yKSxhPT09dm9pZCAwJiYoYT0hMCksaS5wcm90b3R5cGUuc2V0U291cmNlVGV4dHVyZS5jYWxsKHRoaXMsdCxyLG4sYSl9LGUucHJvdG90eXBlLmFjdGl2YXRlPWZ1bmN0aW9uKCl7dGhpcy5fZGVwdGhSZW5kZXJlciYmKHRoaXMuX2RlcHRoUmVuZGVyZXIuZW5hYmxlZD0hMCksaS5wcm90b3R5cGUuYWN0aXZhdGUuY2FsbCh0aGlzKX0sZS5wcm90b3R5cGUuZGVhY3RpdmF0ZT1mdW5jdGlvbigpe2kucHJvdG90eXBlLmRlYWN0aXZhdGUuY2FsbCh0aGlzKSx0aGlzLl9kZXB0aFJlbmRlcmVyJiYodGhpcy5fZGVwdGhSZW5kZXJlci5lbmFibGVkPSExKX0sZS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbih0KXtpZih0PT09dm9pZCAwJiYodD0hMCksaS5wcm90b3R5cGUuZGlzcG9zZS5jYWxsKHRoaXMsdCksdGhpcy5fZGVwdGhSZW5kZXJlciYmdCl7dmFyIHI9dGhpcy5fZGVwdGhSZW5kZXJlci5nZXREZXB0aE1hcCgpLmdldFNjZW5lKCk7ciYmZGVsZXRlIHIuX2RlcHRoUmVuZGVyZXJbdGhpcy5fZGVwdGhSZW5kZXJlcklkXSx0aGlzLl9kZXB0aFJlbmRlcmVyLmRpc3Bvc2UoKSx0aGlzLl9kZXB0aFJlbmRlcmVyPW51bGx9fSxlfShSbyksdm49Yi5VcCgpLENvPWIuWmVybygpLHZlPW5ldyBiLFd0PW5ldyBiLHhyPW5ldyBJLG1uPWZ1bmN0aW9uKGkpe0soZSxpKTtmdW5jdGlvbiBlKHQscixuKXt2YXIgYT10aGlzO3JldHVybiBlLklzU3VwcG9ydGVkPyhhPWkuY2FsbCh0aGlzLHQscixuKXx8dGhpcyxhLnVzZVBlcmNlbnRhZ2VDbG9zZXJGaWx0ZXJpbmc9ITAsYSk6KFcuRXJyb3IoIkNhc2NhZGVkU2hhZG93TWFwIGlzIG5vdCBzdXBwb3J0ZWQgYnkgdGhlIGN1cnJlbnQgZW5naW5lLiIpLGEpfXJldHVybiBlLnByb3RvdHlwZS5fdmFsaWRhdGVGaWx0ZXI9ZnVuY3Rpb24odCl7cmV0dXJuIHQ9PT1rZS5GSUxURVJfTk9ORXx8dD09PWtlLkZJTFRFUl9QQ0Z8fHQ9PT1rZS5GSUxURVJfUENTUz90Oihjb25zb2xlLmVycm9yKCdVbnN1cHBvcnRlZCBmaWx0ZXIgIicrdCsnIiEnKSxrZS5GSUxURVJfTk9ORSl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwibnVtQ2FzY2FkZXMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbnVtQ2FzY2FkZXN9LHNldDpmdW5jdGlvbih0KXt0PU1hdGgubWluKE1hdGgubWF4KHQsZS5NSU5fQ0FTQ0FERVNfQ09VTlQpLGUuTUFYX0NBU0NBREVTX0NPVU5UKSx0IT09dGhpcy5fbnVtQ2FzY2FkZXMmJih0aGlzLl9udW1DYXNjYWRlcz10LHRoaXMucmVjcmVhdGVTaGFkb3dNYXAoKSx0aGlzLl9yZWNyZWF0ZVNjZW5lVUJPcygpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImZyZWV6ZVNoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm8iLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZnJlZXplU2hhZG93Q2FzdGVyc0JvdW5kaW5nSW5mb30sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2ZyZWV6ZVNoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm9PYnNlcnZhYmxlJiZ0JiYodGhpcy5fc2NlbmUub25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlLnJlbW92ZSh0aGlzLl9mcmVlemVTaGFkb3dDYXN0ZXJzQm91bmRpbmdJbmZvT2JzZXJ2YWJsZSksdGhpcy5fZnJlZXplU2hhZG93Q2FzdGVyc0JvdW5kaW5nSW5mb09ic2VydmFibGU9bnVsbCksIXRoaXMuX2ZyZWV6ZVNoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm9PYnNlcnZhYmxlJiYhdCYmKHRoaXMuX2ZyZWV6ZVNoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm9PYnNlcnZhYmxlPXRoaXMuX3NjZW5lLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5hZGQodGhpcy5fY29tcHV0ZVNoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm8uYmluZCh0aGlzKSkpLHRoaXMuX2ZyZWV6ZVNoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm89dCx0JiZ0aGlzLl9jb21wdXRlU2hhZG93Q2FzdGVyc0JvdW5kaW5nSW5mbygpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLl9jb21wdXRlU2hhZG93Q2FzdGVyc0JvdW5kaW5nSW5mbz1mdW5jdGlvbigpe2lmKHRoaXMuX3NjYmlNaW4uY29weUZyb21GbG9hdHMoTnVtYmVyLk1BWF9WQUxVRSxOdW1iZXIuTUFYX1ZBTFVFLE51bWJlci5NQVhfVkFMVUUpLHRoaXMuX3NjYmlNYXguY29weUZyb21GbG9hdHMoTnVtYmVyLk1JTl9WQUxVRSxOdW1iZXIuTUlOX1ZBTFVFLE51bWJlci5NSU5fVkFMVUUpLHRoaXMuX3NoYWRvd01hcCYmdGhpcy5fc2hhZG93TWFwLnJlbmRlckxpc3Qpe2Zvcih2YXIgdD10aGlzLl9zaGFkb3dNYXAucmVuZGVyTGlzdCxyPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBuPXRbcl07aWYoISFuKXt2YXIgYT1uLmdldEJvdW5kaW5nSW5mbygpLHM9YS5ib3VuZGluZ0JveDt0aGlzLl9zY2JpTWluLm1pbmltaXplSW5QbGFjZShzLm1pbmltdW1Xb3JsZCksdGhpcy5fc2NiaU1heC5tYXhpbWl6ZUluUGxhY2Uocy5tYXhpbXVtV29ybGQpfX1mb3IodmFyIG89dGhpcy5fc2NlbmUubWVzaGVzLHI9MDtyPG8ubGVuZ3RoO3IrKyl7dmFyIG49b1tyXTtpZighKCFufHwhbi5pc1Zpc2libGV8fCFuLmlzRW5hYmxlZHx8IW4ucmVjZWl2ZVNoYWRvd3MpKXt2YXIgYT1uLmdldEJvdW5kaW5nSW5mbygpLHM9YS5ib3VuZGluZ0JveDt0aGlzLl9zY2JpTWluLm1pbmltaXplSW5QbGFjZShzLm1pbmltdW1Xb3JsZCksdGhpcy5fc2NiaU1heC5tYXhpbWl6ZUluUGxhY2Uocy5tYXhpbXVtV29ybGQpfX19dGhpcy5fc2hhZG93Q2FzdGVyc0JvdW5kaW5nSW5mby5yZUNvbnN0cnVjdCh0aGlzLl9zY2JpTWluLHRoaXMuX3NjYmlNYXgpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInNoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm8iLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2hhZG93Q2FzdGVyc0JvdW5kaW5nSW5mb30sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3NoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm89dH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5zZXRNaW5NYXhEaXN0YW5jZT1mdW5jdGlvbih0LHIpe3RoaXMuX21pbkRpc3RhbmNlPT09dCYmdGhpcy5fbWF4RGlzdGFuY2U9PT1yfHwodD5yJiYodD0wLHI9MSksdDwwJiYodD0wKSxyPjEmJihyPTEpLHRoaXMuX21pbkRpc3RhbmNlPXQsdGhpcy5fbWF4RGlzdGFuY2U9cix0aGlzLl9icmVha3NBcmVEaXJ0eT0hMCl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwibWluRGlzdGFuY2UiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbWluRGlzdGFuY2V9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJtYXhEaXN0YW5jZSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9tYXhEaXN0YW5jZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5nZXRDbGFzc05hbWU9ZnVuY3Rpb24oKXtyZXR1cm4gZS5DTEFTU05BTUV9LGUucHJvdG90eXBlLmdldENhc2NhZGVNaW5FeHRlbnRzPWZ1bmN0aW9uKHQpe3JldHVybiB0Pj0wJiZ0PHRoaXMuX251bUNhc2NhZGVzP3RoaXMuX2Nhc2NhZGVNaW5FeHRlbnRzW3RdOm51bGx9LGUucHJvdG90eXBlLmdldENhc2NhZGVNYXhFeHRlbnRzPWZ1bmN0aW9uKHQpe3JldHVybiB0Pj0wJiZ0PHRoaXMuX251bUNhc2NhZGVzP3RoaXMuX2Nhc2NhZGVNYXhFeHRlbnRzW3RdOm51bGx9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwic2hhZG93TWF4WiIse2dldDpmdW5jdGlvbigpe3JldHVybiF0aGlzLl9zY2VuZXx8IXRoaXMuX3NjZW5lLmFjdGl2ZUNhbWVyYT8wOnRoaXMuX3NoYWRvd01heFp9LHNldDpmdW5jdGlvbih0KXtpZighdGhpcy5fc2NlbmV8fCF0aGlzLl9zY2VuZS5hY3RpdmVDYW1lcmEpe3RoaXMuX3NoYWRvd01heFo9dDtyZXR1cm59dGhpcy5fc2hhZG93TWF4Wj09PXR8fHQ8dGhpcy5fc2NlbmUuYWN0aXZlQ2FtZXJhLm1pblp8fHQ+dGhpcy5fc2NlbmUuYWN0aXZlQ2FtZXJhLm1heFp8fCh0aGlzLl9zaGFkb3dNYXhaPXQsdGhpcy5fbGlnaHQuX21hcmtNZXNoZXNBc0xpZ2h0RGlydHkoKSx0aGlzLl9icmVha3NBcmVEaXJ0eT0hMCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJkZWJ1ZyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kZWJ1Z30sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2RlYnVnPXQsdGhpcy5fbGlnaHQuX21hcmtNZXNoZXNBc0xpZ2h0RGlydHkoKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImRlcHRoQ2xhbXAiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGVwdGhDbGFtcH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2RlcHRoQ2xhbXA9dH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImNhc2NhZGVCbGVuZFBlcmNlbnRhZ2UiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2FzY2FkZUJsZW5kUGVyY2VudGFnZX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2Nhc2NhZGVCbGVuZFBlcmNlbnRhZ2U9dCx0aGlzLl9saWdodC5fbWFya01lc2hlc0FzTGlnaHREaXJ0eSgpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwibGFtYmRhIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2xhbWJkYX0sc2V0OmZ1bmN0aW9uKHQpe3ZhciByPU1hdGgubWluKE1hdGgubWF4KHQsMCksMSk7dGhpcy5fbGFtYmRhIT1yJiYodGhpcy5fbGFtYmRhPXIsdGhpcy5fYnJlYWtzQXJlRGlydHk9ITApfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLmdldENhc2NhZGVWaWV3TWF0cml4PWZ1bmN0aW9uKHQpe3JldHVybiB0Pj0wJiZ0PHRoaXMuX251bUNhc2NhZGVzP3RoaXMuX3ZpZXdNYXRyaWNlc1t0XTpudWxsfSxlLnByb3RvdHlwZS5nZXRDYXNjYWRlUHJvamVjdGlvbk1hdHJpeD1mdW5jdGlvbih0KXtyZXR1cm4gdD49MCYmdDx0aGlzLl9udW1DYXNjYWRlcz90aGlzLl9wcm9qZWN0aW9uTWF0cmljZXNbdF06bnVsbH0sZS5wcm90b3R5cGUuZ2V0Q2FzY2FkZVRyYW5zZm9ybU1hdHJpeD1mdW5jdGlvbih0KXtyZXR1cm4gdD49MCYmdDx0aGlzLl9udW1DYXNjYWRlcz90aGlzLl90cmFuc2Zvcm1NYXRyaWNlc1t0XTpudWxsfSxlLnByb3RvdHlwZS5zZXREZXB0aFJlbmRlcmVyPWZ1bmN0aW9uKHQpe3RoaXMuX2RlcHRoUmVuZGVyZXI9dCx0aGlzLl9kZXB0aFJlZHVjZXImJnRoaXMuX2RlcHRoUmVkdWNlci5zZXREZXB0aFJlbmRlcmVyKHRoaXMuX2RlcHRoUmVuZGVyZXIpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImF1dG9DYWxjRGVwdGhCb3VuZHMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYXV0b0NhbGNEZXB0aEJvdW5kc30sc2V0OmZ1bmN0aW9uKHQpe3ZhciByPXRoaXMsbj10aGlzLl9zY2VuZS5hY3RpdmVDYW1lcmE7aWYoISFuKXtpZih0aGlzLl9hdXRvQ2FsY0RlcHRoQm91bmRzPXQsIXQpe3RoaXMuX2RlcHRoUmVkdWNlciYmdGhpcy5fZGVwdGhSZWR1Y2VyLmRlYWN0aXZhdGUoKSx0aGlzLnNldE1pbk1heERpc3RhbmNlKDAsMSk7cmV0dXJufXRoaXMuX2RlcHRoUmVkdWNlcnx8KHRoaXMuX2RlcHRoUmVkdWNlcj1uZXcgUG8obiksdGhpcy5fZGVwdGhSZWR1Y2VyLm9uQWZ0ZXJSZWR1Y3Rpb25QZXJmb3JtZWQuYWRkKGZ1bmN0aW9uKGEpe3ZhciBzPWEubWluLG89YS5tYXg7cz49byYmKHM9MCxvPTEpLChzIT1yLl9taW5EaXN0YW5jZXx8byE9ci5fbWF4RGlzdGFuY2UpJiZyLnNldE1pbk1heERpc3RhbmNlKHMsbyl9KSx0aGlzLl9kZXB0aFJlZHVjZXIuc2V0RGVwdGhSZW5kZXJlcih0aGlzLl9kZXB0aFJlbmRlcmVyKSksdGhpcy5fZGVwdGhSZWR1Y2VyLmFjdGl2YXRlKCl9fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiYXV0b0NhbGNEZXB0aEJvdW5kc1JlZnJlc2hSYXRlIix7Z2V0OmZ1bmN0aW9uKCl7dmFyIHQscixuO3JldHVybihuPShyPSh0PXRoaXMuX2RlcHRoUmVkdWNlcik9PT1udWxsfHx0PT09dm9pZCAwP3ZvaWQgMDp0LmRlcHRoUmVuZGVyZXIpPT09bnVsbHx8cj09PXZvaWQgMD92b2lkIDA6ci5nZXREZXB0aE1hcCgpLnJlZnJlc2hSYXRlKSE9PW51bGwmJm4hPT12b2lkIDA/bjotMX0sc2V0OmZ1bmN0aW9uKHQpe3ZhciByOyEoKHI9dGhpcy5fZGVwdGhSZWR1Y2VyKT09PW51bGx8fHI9PT12b2lkIDApJiZyLmRlcHRoUmVuZGVyZXImJih0aGlzLl9kZXB0aFJlZHVjZXIuZGVwdGhSZW5kZXJlci5nZXREZXB0aE1hcCgpLnJlZnJlc2hSYXRlPXQpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLnNwbGl0RnJ1c3R1bT1mdW5jdGlvbigpe3RoaXMuX2JyZWFrc0FyZURpcnR5PSEwfSxlLnByb3RvdHlwZS5fc3BsaXRGcnVzdHVtPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fc2NlbmUuYWN0aXZlQ2FtZXJhO2lmKCEhdCl7Zm9yKHZhciByPXQubWluWixuPXQubWF4WixhPW4tcixzPXRoaXMuX21pbkRpc3RhbmNlLG89dGhpcy5fc2hhZG93TWF4WjxuJiZ0aGlzLl9zaGFkb3dNYXhaPj1yP01hdGgubWluKCh0aGlzLl9zaGFkb3dNYXhaLXIpLyhuLXIpLHRoaXMuX21heERpc3RhbmNlKTp0aGlzLl9tYXhEaXN0YW5jZSx1PXIrcyphLGY9citvKmEsbD1mLXUsaD1mL3UsYz0wO2M8dGhpcy5fY2FzY2FkZXMubGVuZ3RoOysrYyl7dmFyIGQ9KGMrMSkvdGhpcy5fbnVtQ2FzY2FkZXMscD11Kk1hdGgucG93KGgsZCksZz11K2wqZCxfPXRoaXMuX2xhbWJkYSoocC1nKStnO3RoaXMuX2Nhc2NhZGVzW2NdLnByZXZCcmVha0Rpc3RhbmNlPWM9PT0wP3M6dGhpcy5fY2FzY2FkZXNbYy0xXS5icmVha0Rpc3RhbmNlLHRoaXMuX2Nhc2NhZGVzW2NdLmJyZWFrRGlzdGFuY2U9KF8tcikvYSx0aGlzLl92aWV3U3BhY2VGcnVzdHVtc1pbY109Xyx0aGlzLl9mcnVzdHVtTGVuZ3Roc1tjXT0odGhpcy5fY2FzY2FkZXNbY10uYnJlYWtEaXN0YW5jZS10aGlzLl9jYXNjYWRlc1tjXS5wcmV2QnJlYWtEaXN0YW5jZSkqYX10aGlzLl9icmVha3NBcmVEaXJ0eT0hMX19LGUucHJvdG90eXBlLl9jb21wdXRlTWF0cmljZXM9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9zY2VuZSxyPXQuYWN0aXZlQ2FtZXJhO2lmKCEhcil7Yi5Ob3JtYWxpemVUb1JlZih0aGlzLl9saWdodC5nZXRTaGFkb3dEaXJlY3Rpb24oMCksdGhpcy5fbGlnaHREaXJlY3Rpb24pLE1hdGguYWJzKGIuRG90KHRoaXMuX2xpZ2h0RGlyZWN0aW9uLGIuVXAoKSkpPT09MSYmKHRoaXMuX2xpZ2h0RGlyZWN0aW9uLno9MWUtMTMpLHRoaXMuX2NhY2hlZERpcmVjdGlvbi5jb3B5RnJvbSh0aGlzLl9saWdodERpcmVjdGlvbik7Zm9yKHZhciBuPXQuZ2V0RW5naW5lKCkudXNlUmV2ZXJzZURlcHRoQnVmZmVyLGE9MDthPHRoaXMuX251bUNhc2NhZGVzOysrYSl7dGhpcy5fY29tcHV0ZUZydXN0dW1JbldvcmxkU3BhY2UoYSksdGhpcy5fY29tcHV0ZUNhc2NhZGVGcnVzdHVtKGEpLHRoaXMuX2Nhc2NhZGVNYXhFeHRlbnRzW2FdLnN1YnRyYWN0VG9SZWYodGhpcy5fY2FzY2FkZU1pbkV4dGVudHNbYV0sdmUpLHRoaXMuX2ZydXN0dW1DZW50ZXJbYV0uYWRkVG9SZWYodGhpcy5fbGlnaHREaXJlY3Rpb24uc2NhbGUodGhpcy5fY2FzY2FkZU1pbkV4dGVudHNbYV0ueiksdGhpcy5fc2hhZG93Q2FtZXJhUG9zW2FdKSxJLkxvb2tBdExIVG9SZWYodGhpcy5fc2hhZG93Q2FtZXJhUG9zW2FdLHRoaXMuX2ZydXN0dW1DZW50ZXJbYV0sdm4sdGhpcy5fdmlld01hdHJpY2VzW2FdKTt2YXIgcz0wLG89dmUueix1PXRoaXMuX3NoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm87dS51cGRhdGUodGhpcy5fdmlld01hdHJpY2VzW2FdKSxvPU1hdGgubWluKG8sdS5ib3VuZGluZ0JveC5tYXhpbXVtV29ybGQueiksIXRoaXMuX2RlcHRoQ2xhbXB8fHRoaXMuZmlsdGVyPT09a2UuRklMVEVSX1BDU1M/cz1NYXRoLm1pbihzLHUuYm91bmRpbmdCb3gubWluaW11bVdvcmxkLnopOnM9TWF0aC5tYXgocyx1LmJvdW5kaW5nQm94Lm1pbmltdW1Xb3JsZC56KSxJLk9ydGhvT2ZmQ2VudGVyTEhUb1JlZih0aGlzLl9jYXNjYWRlTWluRXh0ZW50c1thXS54LHRoaXMuX2Nhc2NhZGVNYXhFeHRlbnRzW2FdLngsdGhpcy5fY2FzY2FkZU1pbkV4dGVudHNbYV0ueSx0aGlzLl9jYXNjYWRlTWF4RXh0ZW50c1thXS55LG4/bzpzLG4/czpvLHRoaXMuX3Byb2plY3Rpb25NYXRyaWNlc1thXSx0LmdldEVuZ2luZSgpLmlzTkRDSGFsZlpSYW5nZSksdGhpcy5fY2FzY2FkZU1pbkV4dGVudHNbYV0uej1zLHRoaXMuX2Nhc2NhZGVNYXhFeHRlbnRzW2FdLno9byx0aGlzLl92aWV3TWF0cmljZXNbYV0ubXVsdGlwbHlUb1JlZih0aGlzLl9wcm9qZWN0aW9uTWF0cmljZXNbYV0sdGhpcy5fdHJhbnNmb3JtTWF0cmljZXNbYV0pLGIuVHJhbnNmb3JtQ29vcmRpbmF0ZXNUb1JlZihDbyx0aGlzLl90cmFuc2Zvcm1NYXRyaWNlc1thXSx2ZSksdmUuc2NhbGVJblBsYWNlKHRoaXMuX21hcFNpemUvMiksV3QuY29weUZyb21GbG9hdHMoTWF0aC5yb3VuZCh2ZS54KSxNYXRoLnJvdW5kKHZlLnkpLE1hdGgucm91bmQodmUueikpLFd0LnN1YnRyYWN0SW5QbGFjZSh2ZSkuc2NhbGVJblBsYWNlKDIvdGhpcy5fbWFwU2l6ZSksSS5UcmFuc2xhdGlvblRvUmVmKFd0LngsV3QueSwwLHhyKSx0aGlzLl9wcm9qZWN0aW9uTWF0cmljZXNbYV0ubXVsdGlwbHlUb1JlZih4cix0aGlzLl9wcm9qZWN0aW9uTWF0cmljZXNbYV0pLHRoaXMuX3ZpZXdNYXRyaWNlc1thXS5tdWx0aXBseVRvUmVmKHRoaXMuX3Byb2plY3Rpb25NYXRyaWNlc1thXSx0aGlzLl90cmFuc2Zvcm1NYXRyaWNlc1thXSksdGhpcy5fdHJhbnNmb3JtTWF0cmljZXNbYV0uY29weVRvQXJyYXkodGhpcy5fdHJhbnNmb3JtTWF0cmljZXNBc0FycmF5LGEqMTYpfX19LGUucHJvdG90eXBlLl9jb21wdXRlRnJ1c3R1bUluV29ybGRTcGFjZT1mdW5jdGlvbih0KXtpZighIXRoaXMuX3NjZW5lLmFjdGl2ZUNhbWVyYSl7dmFyIHI9dGhpcy5fY2FzY2FkZXNbdF0ucHJldkJyZWFrRGlzdGFuY2Usbj10aGlzLl9jYXNjYWRlc1t0XS5icmVha0Rpc3RhbmNlLGE9dGhpcy5fc2NlbmUuZ2V0RW5naW5lKCkuaXNORENIYWxmWlJhbmdlO3RoaXMuX3NjZW5lLmFjdGl2ZUNhbWVyYS5nZXRWaWV3TWF0cml4KCk7Zm9yKHZhciBzPUkuSW52ZXJ0KHRoaXMuX3NjZW5lLmFjdGl2ZUNhbWVyYS5nZXRUcmFuc2Zvcm1hdGlvbk1hdHJpeCgpKSxvPXRoaXMuX3NjZW5lLmdldEVuZ2luZSgpLnVzZVJldmVyc2VEZXB0aEJ1ZmZlcj80OjAsdT0wO3U8ZS5fRnJ1c3R1bUNvcm5lcnNORENTcGFjZS5sZW5ndGg7Kyt1KXZlLmNvcHlGcm9tKGUuX0ZydXN0dW1Db3JuZXJzTkRDU3BhY2VbKHUrbyklZS5fRnJ1c3R1bUNvcm5lcnNORENTcGFjZS5sZW5ndGhdKSxhJiZ2ZS56PT09LTEmJih2ZS56PTApLGIuVHJhbnNmb3JtQ29vcmRpbmF0ZXNUb1JlZih2ZSxzLHRoaXMuX2ZydXN0dW1Db3JuZXJzV29ybGRTcGFjZVt0XVt1XSk7Zm9yKHZhciB1PTA7dTxlLl9GcnVzdHVtQ29ybmVyc05EQ1NwYWNlLmxlbmd0aC8yOysrdSl2ZS5jb3B5RnJvbSh0aGlzLl9mcnVzdHVtQ29ybmVyc1dvcmxkU3BhY2VbdF1bdSs0XSkuc3VidHJhY3RJblBsYWNlKHRoaXMuX2ZydXN0dW1Db3JuZXJzV29ybGRTcGFjZVt0XVt1XSksV3QuY29weUZyb20odmUpLnNjYWxlSW5QbGFjZShyKSx2ZS5zY2FsZUluUGxhY2UobiksdmUuYWRkSW5QbGFjZSh0aGlzLl9mcnVzdHVtQ29ybmVyc1dvcmxkU3BhY2VbdF1bdV0pLHRoaXMuX2ZydXN0dW1Db3JuZXJzV29ybGRTcGFjZVt0XVt1KzRdLmNvcHlGcm9tKHZlKSx0aGlzLl9mcnVzdHVtQ29ybmVyc1dvcmxkU3BhY2VbdF1bdV0uYWRkSW5QbGFjZShXdCl9fSxlLnByb3RvdHlwZS5fY29tcHV0ZUNhc2NhZGVGcnVzdHVtPWZ1bmN0aW9uKHQpe3RoaXMuX2Nhc2NhZGVNaW5FeHRlbnRzW3RdLmNvcHlGcm9tRmxvYXRzKE51bWJlci5NQVhfVkFMVUUsTnVtYmVyLk1BWF9WQUxVRSxOdW1iZXIuTUFYX1ZBTFVFKSx0aGlzLl9jYXNjYWRlTWF4RXh0ZW50c1t0XS5jb3B5RnJvbUZsb2F0cyhOdW1iZXIuTUlOX1ZBTFVFLE51bWJlci5NSU5fVkFMVUUsTnVtYmVyLk1JTl9WQUxVRSksdGhpcy5fZnJ1c3R1bUNlbnRlclt0XS5jb3B5RnJvbUZsb2F0cygwLDAsMCk7dmFyIHI9dGhpcy5fc2NlbmUuYWN0aXZlQ2FtZXJhO2lmKCEhcil7Zm9yKHZhciBuPTA7bjx0aGlzLl9mcnVzdHVtQ29ybmVyc1dvcmxkU3BhY2VbdF0ubGVuZ3RoOysrbil0aGlzLl9mcnVzdHVtQ2VudGVyW3RdLmFkZEluUGxhY2UodGhpcy5fZnJ1c3R1bUNvcm5lcnNXb3JsZFNwYWNlW3RdW25dKTtpZih0aGlzLl9mcnVzdHVtQ2VudGVyW3RdLnNjYWxlSW5QbGFjZSgxL3RoaXMuX2ZydXN0dW1Db3JuZXJzV29ybGRTcGFjZVt0XS5sZW5ndGgpLHRoaXMuc3RhYmlsaXplQ2FzY2FkZXMpe2Zvcih2YXIgYT0wLG49MDtuPHRoaXMuX2ZydXN0dW1Db3JuZXJzV29ybGRTcGFjZVt0XS5sZW5ndGg7KytuKXt2YXIgcz10aGlzLl9mcnVzdHVtQ29ybmVyc1dvcmxkU3BhY2VbdF1bbl0uc3VidHJhY3RUb1JlZih0aGlzLl9mcnVzdHVtQ2VudGVyW3RdLHZlKS5sZW5ndGgoKTthPU1hdGgubWF4KGEscyl9YT1NYXRoLmNlaWwoYSoxNikvMTYsdGhpcy5fY2FzY2FkZU1heEV4dGVudHNbdF0uY29weUZyb21GbG9hdHMoYSxhLGEpLHRoaXMuX2Nhc2NhZGVNaW5FeHRlbnRzW3RdLmNvcHlGcm9tRmxvYXRzKC1hLC1hLC1hKX1lbHNle3ZhciBvPXRoaXMuX2ZydXN0dW1DZW50ZXJbdF07dGhpcy5fZnJ1c3R1bUNlbnRlclt0XS5hZGRUb1JlZih0aGlzLl9saWdodERpcmVjdGlvbix2ZSksSS5Mb29rQXRMSFRvUmVmKG8sdmUsdm4seHIpO2Zvcih2YXIgbj0wO248dGhpcy5fZnJ1c3R1bUNvcm5lcnNXb3JsZFNwYWNlW3RdLmxlbmd0aDsrK24pYi5UcmFuc2Zvcm1Db29yZGluYXRlc1RvUmVmKHRoaXMuX2ZydXN0dW1Db3JuZXJzV29ybGRTcGFjZVt0XVtuXSx4cix2ZSksdGhpcy5fY2FzY2FkZU1pbkV4dGVudHNbdF0ubWluaW1pemVJblBsYWNlKHZlKSx0aGlzLl9jYXNjYWRlTWF4RXh0ZW50c1t0XS5tYXhpbWl6ZUluUGxhY2UodmUpfX19LGUucHJvdG90eXBlLl9yZWNyZWF0ZVNjZW5lVUJPcz1mdW5jdGlvbigpe2lmKHRoaXMuX2Rpc3Bvc2VTY2VuZVVCT3MoKSx0aGlzLl9zY2VuZVVCT3MpZm9yKHZhciB0PTA7dDx0aGlzLl9udW1DYXNjYWRlczsrK3QpdGhpcy5fc2NlbmVVQk9zLnB1c2godGhpcy5fc2NlbmUuY3JlYXRlU2NlbmVVbmlmb3JtQnVmZmVyKCdTY2VuZSBmb3IgQ1NNIFNoYWRvdyBHZW5lcmF0b3IgKGxpZ2h0ICInLmNvbmNhdCh0aGlzLl9saWdodC5uYW1lLCciIGNhc2NhZGUgIycpLmNvbmNhdCh0LCIpIikpKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIklzU3VwcG9ydGVkIix7Z2V0OmZ1bmN0aW9uKCl7dmFyIHQ9YWUuTGFzdENyZWF0ZWRFbmdpbmU7cmV0dXJuIHQ/dC5fZmVhdHVyZXMuc3VwcG9ydENTTTohMX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5faW5pdGlhbGl6ZUdlbmVyYXRvcj1mdW5jdGlvbigpe3ZhciB0LHIsbixhLHMsbyx1LGYsbCxoLGMsZCxwLGcsXyx2LHksRSxSLE07dGhpcy5wZW51bWJyYURhcmtuZXNzPSh0PXRoaXMucGVudW1icmFEYXJrbmVzcykhPT1udWxsJiZ0IT09dm9pZCAwP3Q6MSx0aGlzLl9udW1DYXNjYWRlcz0ocj10aGlzLl9udW1DYXNjYWRlcykhPT1udWxsJiZyIT09dm9pZCAwP3I6ZS5ERUZBVUxUX0NBU0NBREVTX0NPVU5ULHRoaXMuc3RhYmlsaXplQ2FzY2FkZXM9KG49dGhpcy5zdGFiaWxpemVDYXNjYWRlcykhPT1udWxsJiZuIT09dm9pZCAwP246ITEsdGhpcy5fZnJlZXplU2hhZG93Q2FzdGVyc0JvdW5kaW5nSW5mb09ic2VydmFibGU9KGE9dGhpcy5fZnJlZXplU2hhZG93Q2FzdGVyc0JvdW5kaW5nSW5mb09ic2VydmFibGUpIT09bnVsbCYmYSE9PXZvaWQgMD9hOm51bGwsdGhpcy5mcmVlemVTaGFkb3dDYXN0ZXJzQm91bmRpbmdJbmZvPShzPXRoaXMuZnJlZXplU2hhZG93Q2FzdGVyc0JvdW5kaW5nSW5mbykhPT1udWxsJiZzIT09dm9pZCAwP3M6ITEsdGhpcy5fc2NiaU1pbj0obz10aGlzLl9zY2JpTWluKSE9PW51bGwmJm8hPT12b2lkIDA/bzpuZXcgYigwLDAsMCksdGhpcy5fc2NiaU1heD0odT10aGlzLl9zY2JpTWF4KSE9PW51bGwmJnUhPT12b2lkIDA/dTpuZXcgYigwLDAsMCksdGhpcy5fc2hhZG93Q2FzdGVyc0JvdW5kaW5nSW5mbz0oZj10aGlzLl9zaGFkb3dDYXN0ZXJzQm91bmRpbmdJbmZvKSE9PW51bGwmJmYhPT12b2lkIDA/ZjpuZXcgU3QobmV3IGIoMCwwLDApLG5ldyBiKDAsMCwwKSksdGhpcy5fYnJlYWtzQXJlRGlydHk9KGw9dGhpcy5fYnJlYWtzQXJlRGlydHkpIT09bnVsbCYmbCE9PXZvaWQgMD9sOiEwLHRoaXMuX21pbkRpc3RhbmNlPShoPXRoaXMuX21pbkRpc3RhbmNlKSE9PW51bGwmJmghPT12b2lkIDA/aDowLHRoaXMuX21heERpc3RhbmNlPShjPXRoaXMuX21heERpc3RhbmNlKSE9PW51bGwmJmMhPT12b2lkIDA/YzoxLHRoaXMuX2N1cnJlbnRMYXllcj0oZD10aGlzLl9jdXJyZW50TGF5ZXIpIT09bnVsbCYmZCE9PXZvaWQgMD9kOjAsdGhpcy5fc2hhZG93TWF4Wj0oXz0ocD10aGlzLl9zaGFkb3dNYXhaKSE9PW51bGwmJnAhPT12b2lkIDA/cDooZz10aGlzLl9zY2VuZS5hY3RpdmVDYW1lcmEpPT09bnVsbHx8Zz09PXZvaWQgMD92b2lkIDA6Zy5tYXhaKSE9PW51bGwmJl8hPT12b2lkIDA/XzoxZTQsdGhpcy5fZGVidWc9KHY9dGhpcy5fZGVidWcpIT09bnVsbCYmdiE9PXZvaWQgMD92OiExLHRoaXMuX2RlcHRoQ2xhbXA9KHk9dGhpcy5fZGVwdGhDbGFtcCkhPT1udWxsJiZ5IT09dm9pZCAwP3k6ITAsdGhpcy5fY2FzY2FkZUJsZW5kUGVyY2VudGFnZT0oRT10aGlzLl9jYXNjYWRlQmxlbmRQZXJjZW50YWdlKSE9PW51bGwmJkUhPT12b2lkIDA/RTouMSx0aGlzLl9sYW1iZGE9KFI9dGhpcy5fbGFtYmRhKSE9PW51bGwmJlIhPT12b2lkIDA/UjouNSx0aGlzLl9hdXRvQ2FsY0RlcHRoQm91bmRzPShNPXRoaXMuX2F1dG9DYWxjRGVwdGhCb3VuZHMpIT09bnVsbCYmTSE9PXZvaWQgMD9NOiExLHRoaXMuX3JlY3JlYXRlU2NlbmVVQk9zKCksaS5wcm90b3R5cGUuX2luaXRpYWxpemVHZW5lcmF0b3IuY2FsbCh0aGlzKX0sZS5wcm90b3R5cGUuX2NyZWF0ZVRhcmdldFJlbmRlclRleHR1cmU9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9zY2VuZS5nZXRFbmdpbmUoKSxyPXt3aWR0aDp0aGlzLl9tYXBTaXplLGhlaWdodDp0aGlzLl9tYXBTaXplLGxheWVyczp0aGlzLm51bUNhc2NhZGVzfTt0aGlzLl9zaGFkb3dNYXA9bmV3IGt0KHRoaXMuX2xpZ2h0Lm5hbWUrIl9DU01TaGFkb3dNYXAiLHIsdGhpcy5fc2NlbmUsITEsITAsdGhpcy5fdGV4dHVyZVR5cGUsITEsdm9pZCAwLCExLCExLHZvaWQgMCksdGhpcy5fc2hhZG93TWFwLmNyZWF0ZURlcHRoU3RlbmNpbFRleHR1cmUodC51c2VSZXZlcnNlRGVwdGhCdWZmZXI/NTE2OjUxMywhMCl9LGUucHJvdG90eXBlLl9pbml0aWFsaXplU2hhZG93TWFwPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztpZihpLnByb3RvdHlwZS5faW5pdGlhbGl6ZVNoYWRvd01hcC5jYWxsKHRoaXMpLHRoaXMuX3NoYWRvd01hcCE9PW51bGwpe3RoaXMuX3RyYW5zZm9ybU1hdHJpY2VzQXNBcnJheT1uZXcgRmxvYXQzMkFycmF5KHRoaXMuX251bUNhc2NhZGVzKjE2KSx0aGlzLl92aWV3U3BhY2VGcnVzdHVtc1o9bmV3IEFycmF5KHRoaXMuX251bUNhc2NhZGVzKSx0aGlzLl9mcnVzdHVtTGVuZ3Rocz1uZXcgQXJyYXkodGhpcy5fbnVtQ2FzY2FkZXMpLHRoaXMuX2xpZ2h0U2l6ZVVWQ29ycmVjdGlvbj1uZXcgQXJyYXkodGhpcy5fbnVtQ2FzY2FkZXMqMiksdGhpcy5fZGVwdGhDb3JyZWN0aW9uPW5ldyBBcnJheSh0aGlzLl9udW1DYXNjYWRlcyksdGhpcy5fY2FzY2FkZXM9W10sdGhpcy5fdmlld01hdHJpY2VzPVtdLHRoaXMuX3Byb2plY3Rpb25NYXRyaWNlcz1bXSx0aGlzLl90cmFuc2Zvcm1NYXRyaWNlcz1bXSx0aGlzLl9jYXNjYWRlTWluRXh0ZW50cz1bXSx0aGlzLl9jYXNjYWRlTWF4RXh0ZW50cz1bXSx0aGlzLl9mcnVzdHVtQ2VudGVyPVtdLHRoaXMuX3NoYWRvd0NhbWVyYVBvcz1bXSx0aGlzLl9mcnVzdHVtQ29ybmVyc1dvcmxkU3BhY2U9W107Zm9yKHZhciByPTA7cjx0aGlzLl9udW1DYXNjYWRlczsrK3Ipe3RoaXMuX2Nhc2NhZGVzW3JdPXtwcmV2QnJlYWtEaXN0YW5jZTowLGJyZWFrRGlzdGFuY2U6MH0sdGhpcy5fdmlld01hdHJpY2VzW3JdPUkuWmVybygpLHRoaXMuX3Byb2plY3Rpb25NYXRyaWNlc1tyXT1JLlplcm8oKSx0aGlzLl90cmFuc2Zvcm1NYXRyaWNlc1tyXT1JLlplcm8oKSx0aGlzLl9jYXNjYWRlTWluRXh0ZW50c1tyXT1uZXcgYix0aGlzLl9jYXNjYWRlTWF4RXh0ZW50c1tyXT1uZXcgYix0aGlzLl9mcnVzdHVtQ2VudGVyW3JdPW5ldyBiLHRoaXMuX3NoYWRvd0NhbWVyYVBvc1tyXT1uZXcgYix0aGlzLl9mcnVzdHVtQ29ybmVyc1dvcmxkU3BhY2Vbcl09bmV3IEFycmF5KGUuX0ZydXN0dW1Db3JuZXJzTkRDU3BhY2UubGVuZ3RoKTtmb3IodmFyIG49MDtuPGUuX0ZydXN0dW1Db3JuZXJzTkRDU3BhY2UubGVuZ3RoOysrbil0aGlzLl9mcnVzdHVtQ29ybmVyc1dvcmxkU3BhY2Vbcl1bbl09bmV3IGJ9dmFyIGE9dGhpcy5fc2NlbmUuZ2V0RW5naW5lKCk7dGhpcy5fc2hhZG93TWFwLm9uQmVmb3JlQmluZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLl9zaGFkb3dNYXAub25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5fc2hhZG93TWFwLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5hZGQoZnVuY3Rpb24ocyl7dC5fc2NlbmVVQk9zJiZ0Ll9zY2VuZS5zZXRTY2VuZVVuaWZvcm1CdWZmZXIodC5fc2NlbmVVQk9zW3NdKSx0Ll9jdXJyZW50TGF5ZXI9cyx0Ll9maWx0ZXI9PT1rZS5GSUxURVJfUENGJiZhLnNldENvbG9yV3JpdGUoITEpLHQuX3NjZW5lLnNldFRyYW5zZm9ybU1hdHJpeCh0LmdldENhc2NhZGVWaWV3TWF0cml4KHMpLHQuZ2V0Q2FzY2FkZVByb2plY3Rpb25NYXRyaXgocykpLHQuX3VzZVVCTyYmKHQuX3NjZW5lLmdldFNjZW5lVW5pZm9ybUJ1ZmZlcigpLnVuYmluZEVmZmVjdCgpLHQuX3NjZW5lLmZpbmFsaXplU2NlbmVVYm8oKSl9KSx0aGlzLl9zaGFkb3dNYXAub25CZWZvcmVCaW5kT2JzZXJ2YWJsZS5hZGQoZnVuY3Rpb24oKXt2YXIgczt0Ll9jdXJyZW50U2NlbmVVQk89dC5fc2NlbmUuZ2V0U2NlbmVVbmlmb3JtQnVmZmVyKCksKHM9YS5fZGVidWdQdXNoR3JvdXApPT09bnVsbHx8cz09PXZvaWQgMHx8cy5jYWxsKGEsImNhc2NhZGVkIHNoYWRvdyBtYXAgZ2VuZXJhdGlvbiBmb3IgcGFzcyBpZCAiLmNvbmNhdChhLmN1cnJlbnRSZW5kZXJQYXNzSWQpLDEpLHQuX2JyZWFrc0FyZURpcnR5JiZ0Ll9zcGxpdEZydXN0dW0oKSx0Ll9jb21wdXRlTWF0cmljZXMoKX0pLHRoaXMuX3NwbGl0RnJ1c3R1bSgpfX0sZS5wcm90b3R5cGUuX2JpbmRDdXN0b21FZmZlY3RGb3JSZW5kZXJTdWJNZXNoRm9yU2hhZG93TWFwPWZ1bmN0aW9uKHQscil7ci5zZXRNYXRyaXgoInZpZXdQcm9qZWN0aW9uIix0aGlzLmdldENhc2NhZGVUcmFuc2Zvcm1NYXRyaXgodGhpcy5fY3VycmVudExheWVyKSl9LGUucHJvdG90eXBlLl9pc1JlYWR5Q3VzdG9tRGVmaW5lcz1mdW5jdGlvbih0KXt0LnB1c2goIiNkZWZpbmUgU01fREVQVEhDTEFNUCAiKyh0aGlzLl9kZXB0aENsYW1wJiZ0aGlzLl9maWx0ZXIhPT1rZS5GSUxURVJfUENTUz8iMSI6IjAiKSl9LGUucHJvdG90eXBlLnByZXBhcmVEZWZpbmVzPWZ1bmN0aW9uKHQscil7aS5wcm90b3R5cGUucHJlcGFyZURlZmluZXMuY2FsbCh0aGlzLHQscik7dmFyIG49dGhpcy5fc2NlbmUsYT10aGlzLl9saWdodDtpZighKCFuLnNoYWRvd3NFbmFibGVkfHwhYS5zaGFkb3dFbmFibGVkKSl7dFsiU0hBRE9XQ1NNIityXT0hMCx0WyJTSEFET1dDU01ERUJVRyIrcl09dGhpcy5kZWJ1Zyx0WyJTSEFET1dDU01OVU1fQ0FTQ0FERVMiK3JdPXRoaXMubnVtQ2FzY2FkZXMsdFsiU0hBRE9XQ1NNX1JJR0hUSEFOREVEIityXT1uLnVzZVJpZ2h0SGFuZGVkU3lzdGVtO3ZhciBzPW4uYWN0aXZlQ2FtZXJhO3MmJnRoaXMuX3NoYWRvd01heFo8cy5tYXhaJiYodFsiU0hBRE9XQ1NNVVNFU0hBRE9XTUFYWiIrcl09ITApLHRoaXMuY2FzY2FkZUJsZW5kUGVyY2VudGFnZT09PTAmJih0WyJTSEFET1dDU01OT0JMRU5EIityXT0hMCl9fSxlLnByb3RvdHlwZS5iaW5kU2hhZG93TGlnaHQ9ZnVuY3Rpb24odCxyKXt2YXIgbj10aGlzLl9saWdodCxhPXRoaXMuX3NjZW5lO2lmKCEoIWEuc2hhZG93c0VuYWJsZWR8fCFuLnNoYWRvd0VuYWJsZWQpKXt2YXIgcz1hLmFjdGl2ZUNhbWVyYTtpZighIXMpe3ZhciBvPXRoaXMuZ2V0U2hhZG93TWFwKCk7aWYoISFvKXt2YXIgdT1vLmdldFNpemUoKS53aWR0aDtpZihyLnNldE1hdHJpY2VzKCJsaWdodE1hdHJpeCIrdCx0aGlzLl90cmFuc2Zvcm1NYXRyaWNlc0FzQXJyYXkpLHIuc2V0QXJyYXkoInZpZXdGcnVzdHVtWiIrdCx0aGlzLl92aWV3U3BhY2VGcnVzdHVtc1opLHIuc2V0RmxvYXQoImNhc2NhZGVCbGVuZEZhY3RvciIrdCx0aGlzLmNhc2NhZGVCbGVuZFBlcmNlbnRhZ2U9PT0wPzFlNDoxL3RoaXMuY2FzY2FkZUJsZW5kUGVyY2VudGFnZSksci5zZXRBcnJheSgiZnJ1c3R1bUxlbmd0aHMiK3QsdGhpcy5fZnJ1c3R1bUxlbmd0aHMpLHRoaXMuX2ZpbHRlcj09PWtlLkZJTFRFUl9QQ0Ypci5zZXREZXB0aFN0ZW5jaWxUZXh0dXJlKCJzaGFkb3dTYW1wbGVyIit0LG8pLG4uX3VuaWZvcm1CdWZmZXIudXBkYXRlRmxvYXQ0KCJzaGFkb3dzSW5mbyIsdGhpcy5nZXREYXJrbmVzcygpLHUsMS91LHRoaXMuZnJ1c3R1bUVkZ2VGYWxsb2ZmLHQpO2Vsc2UgaWYodGhpcy5fZmlsdGVyPT09a2UuRklMVEVSX1BDU1Mpe2Zvcih2YXIgZj0wO2Y8dGhpcy5fbnVtQ2FzY2FkZXM7KytmKXRoaXMuX2xpZ2h0U2l6ZVVWQ29ycmVjdGlvbltmKjIrMF09Zj09PTA/MToodGhpcy5fY2FzY2FkZU1heEV4dGVudHNbMF0ueC10aGlzLl9jYXNjYWRlTWluRXh0ZW50c1swXS54KS8odGhpcy5fY2FzY2FkZU1heEV4dGVudHNbZl0ueC10aGlzLl9jYXNjYWRlTWluRXh0ZW50c1tmXS54KSx0aGlzLl9saWdodFNpemVVVkNvcnJlY3Rpb25bZioyKzFdPWY9PT0wPzE6KHRoaXMuX2Nhc2NhZGVNYXhFeHRlbnRzWzBdLnktdGhpcy5fY2FzY2FkZU1pbkV4dGVudHNbMF0ueSkvKHRoaXMuX2Nhc2NhZGVNYXhFeHRlbnRzW2ZdLnktdGhpcy5fY2FzY2FkZU1pbkV4dGVudHNbZl0ueSksdGhpcy5fZGVwdGhDb3JyZWN0aW9uW2ZdPWY9PT0wPzE6KHRoaXMuX2Nhc2NhZGVNYXhFeHRlbnRzW2ZdLnotdGhpcy5fY2FzY2FkZU1pbkV4dGVudHNbZl0ueikvKHRoaXMuX2Nhc2NhZGVNYXhFeHRlbnRzWzBdLnotdGhpcy5fY2FzY2FkZU1pbkV4dGVudHNbMF0ueik7ci5zZXREZXB0aFN0ZW5jaWxUZXh0dXJlKCJzaGFkb3dTYW1wbGVyIit0LG8pLHIuc2V0VGV4dHVyZSgiZGVwdGhTYW1wbGVyIit0LG8pLHIuc2V0QXJyYXkyKCJsaWdodFNpemVVVkNvcnJlY3Rpb24iK3QsdGhpcy5fbGlnaHRTaXplVVZDb3JyZWN0aW9uKSxyLnNldEFycmF5KCJkZXB0aENvcnJlY3Rpb24iK3QsdGhpcy5fZGVwdGhDb3JyZWN0aW9uKSxyLnNldEZsb2F0KCJwZW51bWJyYURhcmtuZXNzIit0LHRoaXMucGVudW1icmFEYXJrbmVzcyksbi5fdW5pZm9ybUJ1ZmZlci51cGRhdGVGbG9hdDQoInNoYWRvd3NJbmZvIix0aGlzLmdldERhcmtuZXNzKCksMS91LHRoaXMuX2NvbnRhY3RIYXJkZW5pbmdMaWdodFNpemVVVlJhdGlvKnUsdGhpcy5mcnVzdHVtRWRnZUZhbGxvZmYsdCl9ZWxzZSByLnNldFRleHR1cmUoInNoYWRvd1NhbXBsZXIiK3Qsbyksbi5fdW5pZm9ybUJ1ZmZlci51cGRhdGVGbG9hdDQoInNoYWRvd3NJbmZvIix0aGlzLmdldERhcmtuZXNzKCksdSwxL3UsdGhpcy5mcnVzdHVtRWRnZUZhbGxvZmYsdCk7bi5fdW5pZm9ybUJ1ZmZlci51cGRhdGVGbG9hdDIoImRlcHRoVmFsdWVzIix0aGlzLmdldExpZ2h0KCkuZ2V0RGVwdGhNaW5aKHMpLHRoaXMuZ2V0TGlnaHQoKS5nZXREZXB0aE1pbloocykrdGhpcy5nZXRMaWdodCgpLmdldERlcHRoTWF4WihzKSx0KX19fX0sZS5wcm90b3R5cGUuZ2V0VHJhbnNmb3JtTWF0cml4PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0Q2FzY2FkZVRyYW5zZm9ybU1hdHJpeCgwKX0sZS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe2kucHJvdG90eXBlLmRpc3Bvc2UuY2FsbCh0aGlzKSx0aGlzLl9mcmVlemVTaGFkb3dDYXN0ZXJzQm91bmRpbmdJbmZvT2JzZXJ2YWJsZSYmKHRoaXMuX3NjZW5lLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5fZnJlZXplU2hhZG93Q2FzdGVyc0JvdW5kaW5nSW5mb09ic2VydmFibGUpLHRoaXMuX2ZyZWV6ZVNoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm9PYnNlcnZhYmxlPW51bGwpLHRoaXMuX2RlcHRoUmVkdWNlciYmKHRoaXMuX2RlcHRoUmVkdWNlci5kaXNwb3NlKCksdGhpcy5fZGVwdGhSZWR1Y2VyPW51bGwpfSxlLnByb3RvdHlwZS5zZXJpYWxpemU9ZnVuY3Rpb24oKXt2YXIgdD1pLnByb3RvdHlwZS5zZXJpYWxpemUuY2FsbCh0aGlzKSxyPXRoaXMuZ2V0U2hhZG93TWFwKCk7aWYoIXIpcmV0dXJuIHQ7aWYodC5udW1DYXNjYWRlcz10aGlzLl9udW1DYXNjYWRlcyx0LmRlYnVnPXRoaXMuX2RlYnVnLHQuc3RhYmlsaXplQ2FzY2FkZXM9dGhpcy5zdGFiaWxpemVDYXNjYWRlcyx0LmxhbWJkYT10aGlzLl9sYW1iZGEsdC5jYXNjYWRlQmxlbmRQZXJjZW50YWdlPXRoaXMuY2FzY2FkZUJsZW5kUGVyY2VudGFnZSx0LmRlcHRoQ2xhbXA9dGhpcy5fZGVwdGhDbGFtcCx0LmF1dG9DYWxjRGVwdGhCb3VuZHM9dGhpcy5hdXRvQ2FsY0RlcHRoQm91bmRzLHQuc2hhZG93TWF4Wj10aGlzLl9zaGFkb3dNYXhaLHQucGVudW1icmFEYXJrbmVzcz10aGlzLnBlbnVtYnJhRGFya25lc3MsdC5mcmVlemVTaGFkb3dDYXN0ZXJzQm91bmRpbmdJbmZvPXRoaXMuX2ZyZWV6ZVNoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm8sdC5taW5EaXN0YW5jZT10aGlzLm1pbkRpc3RhbmNlLHQubWF4RGlzdGFuY2U9dGhpcy5tYXhEaXN0YW5jZSx0LnJlbmRlckxpc3Q9W10sci5yZW5kZXJMaXN0KWZvcih2YXIgbj0wO248ci5yZW5kZXJMaXN0Lmxlbmd0aDtuKyspe3ZhciBhPXIucmVuZGVyTGlzdFtuXTt0LnJlbmRlckxpc3QucHVzaChhLmlkKX1yZXR1cm4gdH0sZS5QYXJzZT1mdW5jdGlvbih0LHIpe3ZhciBuPWtlLlBhcnNlKHQscixmdW5jdGlvbihhLHMpe3JldHVybiBuZXcgZShhLHMpfSk7cmV0dXJuIHQubnVtQ2FzY2FkZXMhPT12b2lkIDAmJihuLm51bUNhc2NhZGVzPXQubnVtQ2FzY2FkZXMpLHQuZGVidWchPT12b2lkIDAmJihuLmRlYnVnPXQuZGVidWcpLHQuc3RhYmlsaXplQ2FzY2FkZXMhPT12b2lkIDAmJihuLnN0YWJpbGl6ZUNhc2NhZGVzPXQuc3RhYmlsaXplQ2FzY2FkZXMpLHQubGFtYmRhIT09dm9pZCAwJiYobi5sYW1iZGE9dC5sYW1iZGEpLHQuY2FzY2FkZUJsZW5kUGVyY2VudGFnZSE9PXZvaWQgMCYmKG4uY2FzY2FkZUJsZW5kUGVyY2VudGFnZT10LmNhc2NhZGVCbGVuZFBlcmNlbnRhZ2UpLHQuZGVwdGhDbGFtcCE9PXZvaWQgMCYmKG4uZGVwdGhDbGFtcD10LmRlcHRoQ2xhbXApLHQuYXV0b0NhbGNEZXB0aEJvdW5kcyE9PXZvaWQgMCYmKG4uYXV0b0NhbGNEZXB0aEJvdW5kcz10LmF1dG9DYWxjRGVwdGhCb3VuZHMpLHQuc2hhZG93TWF4WiE9PXZvaWQgMCYmKG4uc2hhZG93TWF4Wj10LnNoYWRvd01heFopLHQucGVudW1icmFEYXJrbmVzcyE9PXZvaWQgMCYmKG4ucGVudW1icmFEYXJrbmVzcz10LnBlbnVtYnJhRGFya25lc3MpLHQuZnJlZXplU2hhZG93Q2FzdGVyc0JvdW5kaW5nSW5mbyE9PXZvaWQgMCYmKG4uZnJlZXplU2hhZG93Q2FzdGVyc0JvdW5kaW5nSW5mbz10LmZyZWV6ZVNoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm8pLHQubWluRGlzdGFuY2UhPT12b2lkIDAmJnQubWF4RGlzdGFuY2UhPT12b2lkIDAmJm4uc2V0TWluTWF4RGlzdGFuY2UodC5taW5EaXN0YW5jZSx0Lm1heERpc3RhbmNlKSxufSxlLl9GcnVzdHVtQ29ybmVyc05EQ1NwYWNlPVtuZXcgYigtMSwxLC0xKSxuZXcgYigxLDEsLTEpLG5ldyBiKDEsLTEsLTEpLG5ldyBiKC0xLC0xLC0xKSxuZXcgYigtMSwxLDEpLG5ldyBiKDEsMSwxKSxuZXcgYigxLC0xLDEpLG5ldyBiKC0xLC0xLDEpXSxlLkNMQVNTTkFNRT0iQ2FzY2FkZWRTaGFkb3dHZW5lcmF0b3IiLGUuREVGQVVMVF9DQVNDQURFU19DT1VOVD00LGUuTUlOX0NBU0NBREVTX0NPVU5UPTIsZS5NQVhfQ0FTQ0FERVNfQ09VTlQ9NCxlLl9TY2VuZUNvbXBvbmVudEluaXRpYWxpemF0aW9uPWZ1bmN0aW9uKHQpe3Rocm93IFgoIlNoYWRvd0dlbmVyYXRvclNjZW5lQ29tcG9uZW50Iil9LGV9KGtlKTtraS5BZGRQYXJzZXIoVXQuTkFNRV9TSEFET1dHRU5FUkFUT1IsZnVuY3Rpb24oaSxlKXtpZihpLnNoYWRvd0dlbmVyYXRvcnMhPT12b2lkIDAmJmkuc2hhZG93R2VuZXJhdG9ycyE9PW51bGwpZm9yKHZhciB0PTAscj1pLnNoYWRvd0dlbmVyYXRvcnMubGVuZ3RoO3Q8cjt0Kyspe3ZhciBuPWkuc2hhZG93R2VuZXJhdG9yc1t0XTtuLmNsYXNzTmFtZT09PW1uLkNMQVNTTkFNRT9tbi5QYXJzZShuLGUpOmtlLlBhcnNlKG4sZSl9fSk7dmFyIHhvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaShlKXt0aGlzLm5hbWU9VXQuTkFNRV9TSEFET1dHRU5FUkFUT1IsdGhpcy5zY2VuZT1lfXJldHVybiBpLnByb3RvdHlwZS5yZWdpc3Rlcj1mdW5jdGlvbigpe3RoaXMuc2NlbmUuX2dhdGhlclJlbmRlclRhcmdldHNTdGFnZS5yZWdpc3RlclN0ZXAoVXQuU1RFUF9HQVRIRVJSRU5ERVJUQVJHRVRTX1NIQURPV0dFTkVSQVRPUix0aGlzLHRoaXMuX2dhdGhlclJlbmRlclRhcmdldHMpfSxpLnByb3RvdHlwZS5yZWJ1aWxkPWZ1bmN0aW9uKCl7fSxpLnByb3RvdHlwZS5zZXJpYWxpemU9ZnVuY3Rpb24oZSl7ZS5zaGFkb3dHZW5lcmF0b3JzPVtdO2Zvcih2YXIgdD10aGlzLnNjZW5lLmxpZ2h0cyxyPTAsbj10O3I8bi5sZW5ndGg7cisrKXt2YXIgYT1uW3JdLHM9YS5nZXRTaGFkb3dHZW5lcmF0b3IoKTtzJiZlLnNoYWRvd0dlbmVyYXRvcnMucHVzaChzLnNlcmlhbGl6ZSgpKX19LGkucHJvdG90eXBlLmFkZEZyb21Db250YWluZXI9ZnVuY3Rpb24oZSl7fSxpLnByb3RvdHlwZS5yZW1vdmVGcm9tQ29udGFpbmVyPWZ1bmN0aW9uKGUsdCl7fSxpLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7fSxpLnByb3RvdHlwZS5fZ2F0aGVyUmVuZGVyVGFyZ2V0cz1mdW5jdGlvbihlKXt2YXIgdD10aGlzLnNjZW5lO2lmKHRoaXMuc2NlbmUuc2hhZG93c0VuYWJsZWQpZm9yKHZhciByPTA7cjx0LmxpZ2h0cy5sZW5ndGg7cisrKXt2YXIgbj10LmxpZ2h0c1tyXSxhPW4uZ2V0U2hhZG93R2VuZXJhdG9yKCk7aWYobi5pc0VuYWJsZWQoKSYmbi5zaGFkb3dFbmFibGVkJiZhKXt2YXIgcz1hLmdldFNoYWRvd01hcCgpO3QudGV4dHVyZXMuaW5kZXhPZihzKSE9PS0xJiZlLnB1c2gocyl9fX0saX0oKTtrZS5fU2NlbmVDb21wb25lbnRJbml0aWFsaXphdGlvbj1mdW5jdGlvbihpKXt2YXIgZT1pLl9nZXRDb21wb25lbnQoVXQuTkFNRV9TSEFET1dHRU5FUkFUT1IpO2V8fChlPW5ldyB4byhpKSxpLl9hZGRDb21wb25lbnQoZSkpfTtjb25zdCBEbz17ZW5hYmxlU2hhZG93czohMH07ZnVuY3Rpb24geW4oaT1Ebyl7Y29uc3R7ZW5hYmxlU2hhZG93czplLHNoYWRvd1RyYW5zcGFyZW5jeTp0LGludGVuc2l0eTpyLHNjZW5lOm59PWksYT1uZXcgZG4oIkRpcmVjdGlvbmFsTGlnaHQiLG5ldyBiKC0uMywtMSwuNCksbik7YS5wb3NpdGlvbj1uZXcgYigtNTAsNjUsLTUwKSxhLmludGVuc2l0eT0uNjUqcjtjb25zdCBzPW5ldyBwbigiSGVtaXNwaGVyaWNMaWdodCIsbmV3IGIoMSwxLDApLG4pO3JldHVybiBzLmludGVuc2l0eT0uNCpyLGUmJihhLnNoYWRvd01pblo9MSxhLnNoYWRvd01heFo9NzAsYS5zaGFkb3dHZW5lcmF0b3I9bmV3IGtlKDIwNDgsYSksYS5zaGFkb3dHZW5lcmF0b3IudXNlQ2xvc2VFeHBvbmVudGlhbFNoYWRvd01hcD0hMCxhLnNoYWRvd0dlbmVyYXRvci5kYXJrbmVzcz10KSx7ZGlyZWN0aW9uYWw6YSxoZW1pc3BoZXJpYzpzfX1mdW5jdGlvbiBibihpKXt2YXIgZT02LHQ9WzAsMSwyLDAsMiwzLDQsNSw2LDQsNiw3LDgsOSwxMCw4LDEwLDExLDEyLDEzLDE0LDEyLDE0LDE1LDE2LDE3LDE4LDE2LDE4LDE5LDIwLDIxLDIyLDIwLDIyLDIzXSxyPVswLDAsMSwwLDAsMSwwLDAsMSwwLDAsMSwwLDAsLTEsMCwwLC0xLDAsMCwtMSwwLDAsLTEsMSwwLDAsMSwwLDAsMSwwLDAsMSwwLDAsLTEsMCwwLC0xLDAsMCwtMSwwLDAsLTEsMCwwLDAsMSwwLDAsMSwwLDAsMSwwLDAsMSwwLDAsLTEsMCwwLC0xLDAsMCwtMSwwLDAsLTEsMF0sbj1bXSxhPVtdLHM9aS53aWR0aHx8aS5zaXplfHwxLG89aS5oZWlnaHR8fGkuc2l6ZXx8MSx1PWkuZGVwdGh8fGkuc2l6ZXx8MSxmPWkud3JhcHx8ITEsbD1pLnRvcEJhc2VBdD09PXZvaWQgMD8xOmkudG9wQmFzZUF0LGg9aS5ib3R0b21CYXNlQXQ9PT12b2lkIDA/MDppLmJvdHRvbUJhc2VBdDtsPShsKzQpJTQsaD0oaCs0KSU0O3ZhciBjPVsyLDAsMywxXSxkPVsyLDAsMSwzXSxwPWNbbF0sZz1kW2hdLF89WzEsLTEsMSwtMSwtMSwxLC0xLDEsMSwxLDEsMSwxLDEsLTEsLTEsMSwtMSwtMSwtMSwtMSwxLC0xLC0xLDEsMSwtMSwxLC0xLC0xLDEsLTEsMSwxLDEsMSwtMSwxLDEsLTEsLTEsMSwtMSwtMSwtMSwtMSwxLC0xLC0xLDEsMSwtMSwxLC0xLDEsMSwtMSwxLDEsMSwxLC0xLDEsMSwtMSwtMSwtMSwtMSwtMSwtMSwtMSwxXTtpZihmKXt0PVsyLDMsMCwyLDAsMSw0LDUsNiw0LDYsNyw5LDEwLDExLDksMTEsOCwxMiwxNCwxNSwxMiwxMywxNF0sXz1bLTEsMSwxLDEsMSwxLDEsLTEsMSwtMSwtMSwxLDEsMSwtMSwtMSwxLC0xLC0xLC0xLC0xLDEsLTEsLTEsMSwxLDEsMSwxLC0xLDEsLTEsLTEsMSwtMSwxLC0xLDEsLTEsLTEsMSwxLC0xLC0xLDEsLTEsLTEsLTFdO2Zvcih2YXIgdj1bWzEsMSwxXSxbLTEsMSwxXSxbLTEsMSwtMV0sWzEsMSwtMV1dLHk9W1stMSwtMSwxXSxbMSwtMSwxXSxbMSwtMSwtMV0sWy0xLC0xLC0xXV0sRT1bMTcsMTgsMTksMTZdLFI9WzIyLDIzLDIwLDIxXTtwPjA7KXYudW5zaGlmdCh2LnBvcCgpKSxFLnVuc2hpZnQoRS5wb3AoKSkscC0tO2Zvcig7Zz4wOyl5LnVuc2hpZnQoeS5wb3AoKSksUi51bnNoaWZ0KFIucG9wKCkpLGctLTt2PXYuZmxhdCgpLHk9eS5mbGF0KCksXz1fLmNvbmNhdCh2KS5jb25jYXQoeSksdC5wdXNoKEVbMF0sRVsyXSxFWzNdLEVbMF0sRVsxXSxFWzJdKSx0LnB1c2goUlswXSxSWzJdLFJbM10sUlswXSxSWzFdLFJbMl0pfXZhciBNPVtzLzIsby8yLHUvMl07YT1fLnJlZHVjZShmdW5jdGlvbihxLCQsdWUpe3JldHVybiBxLmNvbmNhdCgkKk1bdWUlM10pfSxbXSk7Zm9yKHZhciBDPWkuc2lkZU9yaWVudGF0aW9uPT09MD8wOmkuc2lkZU9yaWVudGF0aW9ufHxnZS5ERUZBVUxUU0lERSxBPWkuZmFjZVVWfHxuZXcgQXJyYXkoNiksUz1pLmZhY2VDb2xvcnMsdz1bXSxGPTA7Rjw2O0YrKylBW0ZdPT09dm9pZCAwJiYoQVtGXT1uZXcgeXQoMCwwLDEsMSkpLFMmJlNbRl09PT12b2lkIDAmJihTW0ZdPW5ldyBFZSgxLDEsMSwxKSk7Zm9yKHZhciB4PTA7eDxlO3grKylpZihuLnB1c2goQVt4XS56LGplLlVzZU9wZW5HTE9yaWVudGF0aW9uRm9yVVY/MS1BW3hdLnc6QVt4XS53KSxuLnB1c2goQVt4XS54LGplLlVzZU9wZW5HTE9yaWVudGF0aW9uRm9yVVY/MS1BW3hdLnc6QVt4XS53KSxuLnB1c2goQVt4XS54LGplLlVzZU9wZW5HTE9yaWVudGF0aW9uRm9yVVY/MS1BW3hdLnk6QVt4XS55KSxuLnB1c2goQVt4XS56LGplLlVzZU9wZW5HTE9yaWVudGF0aW9uRm9yVVY/MS1BW3hdLnk6QVt4XS55KSxTKWZvcih2YXIgRz0wO0c8NDtHKyspdy5wdXNoKFNbeF0ucixTW3hdLmcsU1t4XS5iLFNbeF0uYSk7Z2UuX0NvbXB1dGVTaWRlcyhDLGEsdCxyLG4saS5mcm9udFVWcyxpLmJhY2tVVnMpO3ZhciB6PW5ldyBnZTtpZih6LmluZGljZXM9dCx6LnBvc2l0aW9ucz1hLHoubm9ybWFscz1yLHoudXZzPW4sUyl7dmFyIE49Qz09PWdlLkRPVUJMRVNJREU/dy5jb25jYXQodyk6dzt6LmNvbG9ycz1OfXJldHVybiB6fWZ1bmN0aW9uIHp0KGksZSx0KXtlPT09dm9pZCAwJiYoZT17fSksdD09PXZvaWQgMCYmKHQ9bnVsbCk7dmFyIHI9bmV3IFEoaSx0KTtlLnNpZGVPcmllbnRhdGlvbj1RLl9HZXREZWZhdWx0U2lkZU9yaWVudGF0aW9uKGUuc2lkZU9yaWVudGF0aW9uKSxyLl9vcmlnaW5hbEJ1aWxkZXJTaWRlT3JpZW50YXRpb249ZS5zaWRlT3JpZW50YXRpb247dmFyIG49Ym4oZSk7cmV0dXJuIG4uYXBwbHlUb01lc2gocixlLnVwZGF0YWJsZSkscn1nZS5DcmVhdGVCb3g9Ym4sUS5DcmVhdGVCb3g9ZnVuY3Rpb24oaSxlLHQscixuKXt0PT09dm9pZCAwJiYodD1udWxsKTt2YXIgYT17c2l6ZTplLHNpZGVPcmllbnRhdGlvbjpuLHVwZGF0YWJsZTpyfTtyZXR1cm4genQoaSxhLHQpfTt2YXIgX2k9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKCl7dGhpcy5wcmV2aW91c1dvcmxkTWF0cmljZXM9e30sdGhpcy5wcmV2aW91c0JvbmVzPXt9fXJldHVybiBpLkFkZFVuaWZvcm1zPWZ1bmN0aW9uKGUpe2UucHVzaCgicHJldmlvdXNXb3JsZCIsInByZXZpb3VzVmlld1Byb2plY3Rpb24iLCJtUHJldmlvdXNCb25lcyIpfSxpLkFkZFNhbXBsZXJzPWZ1bmN0aW9uKGUpe30saS5wcm90b3R5cGUuYmluZEZvclN1Yk1lc2g9ZnVuY3Rpb24oZSx0LHIsbixhKXtpZih0LnByZVBhc3NSZW5kZXJlciYmdC5wcmVQYXNzUmVuZGVyZXIuZW5hYmxlZCYmdC5wcmVQYXNzUmVuZGVyZXIuY3VycmVudFJUaXNTY2VuZVJUJiZ0LnByZVBhc3NSZW5kZXJlci5nZXRJbmRleCgyKSE9PS0xKXt0aGlzLnByZXZpb3VzV29ybGRNYXRyaWNlc1tyLnVuaXF1ZUlkXXx8KHRoaXMucHJldmlvdXNXb3JsZE1hdHJpY2VzW3IudW5pcXVlSWRdPW4uY2xvbmUoKSksdGhpcy5wcmV2aW91c1ZpZXdQcm9qZWN0aW9ufHwodGhpcy5wcmV2aW91c1ZpZXdQcm9qZWN0aW9uPXQuZ2V0VHJhbnNmb3JtTWF0cml4KCkuY2xvbmUoKSx0aGlzLmN1cnJlbnRWaWV3UHJvamVjdGlvbj10LmdldFRyYW5zZm9ybU1hdHJpeCgpLmNsb25lKCkpO3ZhciBzPXQuZ2V0RW5naW5lKCk7dGhpcy5jdXJyZW50Vmlld1Byb2plY3Rpb24udXBkYXRlRmxhZyE9PXQuZ2V0VHJhbnNmb3JtTWF0cml4KCkudXBkYXRlRmxhZz8odGhpcy5fbGFzdFVwZGF0ZUZyYW1lSWQ9cy5mcmFtZUlkLHRoaXMucHJldmlvdXNWaWV3UHJvamVjdGlvbi5jb3B5RnJvbSh0aGlzLmN1cnJlbnRWaWV3UHJvamVjdGlvbiksdGhpcy5jdXJyZW50Vmlld1Byb2plY3Rpb24uY29weUZyb20odC5nZXRUcmFuc2Zvcm1NYXRyaXgoKSkpOnRoaXMuX2xhc3RVcGRhdGVGcmFtZUlkIT09cy5mcmFtZUlkJiYodGhpcy5fbGFzdFVwZGF0ZUZyYW1lSWQ9cy5mcmFtZUlkLHRoaXMucHJldmlvdXNWaWV3UHJvamVjdGlvbi5jb3B5RnJvbSh0aGlzLmN1cnJlbnRWaWV3UHJvamVjdGlvbikpLGUuc2V0TWF0cml4KCJwcmV2aW91c1dvcmxkIix0aGlzLnByZXZpb3VzV29ybGRNYXRyaWNlc1tyLnVuaXF1ZUlkXSksZS5zZXRNYXRyaXgoInByZXZpb3VzVmlld1Byb2plY3Rpb24iLHRoaXMucHJldmlvdXNWaWV3UHJvamVjdGlvbiksdGhpcy5wcmV2aW91c1dvcmxkTWF0cmljZXNbci51bmlxdWVJZF09bi5jbG9uZSgpfX0saX0oKSxFbj1mdW5jdGlvbihpKXtLKGUsaSk7ZnVuY3Rpb24gZSh0LHIsbil7bj09PXZvaWQgMCYmKG49ITApO3ZhciBhPWkuY2FsbCh0aGlzLHQscil8fHRoaXM7cmV0dXJuIGEuX25vcm1hbE1hdHJpeD1uZXcgSSxhLl9zdG9yZUVmZmVjdE9uU3ViTWVzaGVzPW4sYX1yZXR1cm4gZS5wcm90b3R5cGUuZ2V0RWZmZWN0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0b3JlRWZmZWN0T25TdWJNZXNoZXM/dGhpcy5fYWN0aXZlRWZmZWN0OmkucHJvdG90eXBlLmdldEVmZmVjdC5jYWxsKHRoaXMpfSxlLnByb3RvdHlwZS5pc1JlYWR5PWZ1bmN0aW9uKHQscil7cmV0dXJuIHQ/IXRoaXMuX3N0b3JlRWZmZWN0T25TdWJNZXNoZXN8fCF0LnN1Yk1lc2hlc3x8dC5zdWJNZXNoZXMubGVuZ3RoPT09MD8hMDp0aGlzLmlzUmVhZHlGb3JTdWJNZXNoKHQsdC5zdWJNZXNoZXNbMF0scik6ITF9LGUucHJvdG90eXBlLl9pc1JlYWR5Rm9yU3ViTWVzaD1mdW5jdGlvbih0KXt2YXIgcj10Lm1hdGVyaWFsRGVmaW5lcztyZXR1cm4hISghdGhpcy5jaGVja1JlYWR5T25FdmVyeUNhbGwmJnQuZWZmZWN0JiZyJiZyLl9yZW5kZXJJZD09PXRoaXMuZ2V0U2NlbmUoKS5nZXRSZW5kZXJJZCgpKX0sZS5wcm90b3R5cGUuYmluZE9ubHlXb3JsZE1hdHJpeD1mdW5jdGlvbih0KXt0aGlzLl9hY3RpdmVFZmZlY3Quc2V0TWF0cml4KCJ3b3JsZCIsdCl9LGUucHJvdG90eXBlLmJpbmRPbmx5Tm9ybWFsTWF0cml4PWZ1bmN0aW9uKHQpe3RoaXMuX2FjdGl2ZUVmZmVjdC5zZXRNYXRyaXgoIm5vcm1hbE1hdHJpeCIsdCl9LGUucHJvdG90eXBlLmJpbmQ9ZnVuY3Rpb24odCxyKXshcnx8dGhpcy5iaW5kRm9yU3ViTWVzaCh0LHIsci5zdWJNZXNoZXNbMF0pfSxlLnByb3RvdHlwZS5fYWZ0ZXJCaW5kPWZ1bmN0aW9uKHQscil7cj09PXZvaWQgMCYmKHI9bnVsbCksaS5wcm90b3R5cGUuX2FmdGVyQmluZC5jYWxsKHRoaXMsdCxyKSx0aGlzLmdldFNjZW5lKCkuX2NhY2hlZEVmZmVjdD1yfSxlLnByb3RvdHlwZS5fbXVzdFJlYmluZD1mdW5jdGlvbih0LHIsbil7cmV0dXJuIG49PT12b2lkIDAmJihuPTEpLHQuaXNDYWNoZWRNYXRlcmlhbEludmFsaWQodGhpcyxyLG4pfSxlfShGZSkscGU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKCl7fXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoaSwiRGlmZnVzZVRleHR1cmVFbmFibGVkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX0RpZmZ1c2VUZXh0dXJlRW5hYmxlZH0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX0RpZmZ1c2VUZXh0dXJlRW5hYmxlZCE9PWUmJih0aGlzLl9EaWZmdXNlVGV4dHVyZUVuYWJsZWQ9ZSxjZS5NYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxKSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGksIkRldGFpbFRleHR1cmVFbmFibGVkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX0RldGFpbFRleHR1cmVFbmFibGVkfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fRGV0YWlsVGV4dHVyZUVuYWJsZWQhPT1lJiYodGhpcy5fRGV0YWlsVGV4dHVyZUVuYWJsZWQ9ZSxjZS5NYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxKSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGksIkFtYmllbnRUZXh0dXJlRW5hYmxlZCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9BbWJpZW50VGV4dHVyZUVuYWJsZWR9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9BbWJpZW50VGV4dHVyZUVuYWJsZWQhPT1lJiYodGhpcy5fQW1iaWVudFRleHR1cmVFbmFibGVkPWUsY2UuTWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMSkpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLCJPcGFjaXR5VGV4dHVyZUVuYWJsZWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fT3BhY2l0eVRleHR1cmVFbmFibGVkfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fT3BhY2l0eVRleHR1cmVFbmFibGVkIT09ZSYmKHRoaXMuX09wYWNpdHlUZXh0dXJlRW5hYmxlZD1lLGNlLk1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDEpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSwiUmVmbGVjdGlvblRleHR1cmVFbmFibGVkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX1JlZmxlY3Rpb25UZXh0dXJlRW5hYmxlZH0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX1JlZmxlY3Rpb25UZXh0dXJlRW5hYmxlZCE9PWUmJih0aGlzLl9SZWZsZWN0aW9uVGV4dHVyZUVuYWJsZWQ9ZSxjZS5NYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxKSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGksIkVtaXNzaXZlVGV4dHVyZUVuYWJsZWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fRW1pc3NpdmVUZXh0dXJlRW5hYmxlZH0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX0VtaXNzaXZlVGV4dHVyZUVuYWJsZWQhPT1lJiYodGhpcy5fRW1pc3NpdmVUZXh0dXJlRW5hYmxlZD1lLGNlLk1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDEpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSwiU3BlY3VsYXJUZXh0dXJlRW5hYmxlZCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9TcGVjdWxhclRleHR1cmVFbmFibGVkfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fU3BlY3VsYXJUZXh0dXJlRW5hYmxlZCE9PWUmJih0aGlzLl9TcGVjdWxhclRleHR1cmVFbmFibGVkPWUsY2UuTWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMSkpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLCJCdW1wVGV4dHVyZUVuYWJsZWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fQnVtcFRleHR1cmVFbmFibGVkfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fQnVtcFRleHR1cmVFbmFibGVkIT09ZSYmKHRoaXMuX0J1bXBUZXh0dXJlRW5hYmxlZD1lLGNlLk1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDEpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSwiTGlnaHRtYXBUZXh0dXJlRW5hYmxlZCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9MaWdodG1hcFRleHR1cmVFbmFibGVkfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fTGlnaHRtYXBUZXh0dXJlRW5hYmxlZCE9PWUmJih0aGlzLl9MaWdodG1hcFRleHR1cmVFbmFibGVkPWUsY2UuTWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMSkpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLCJSZWZyYWN0aW9uVGV4dHVyZUVuYWJsZWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fUmVmcmFjdGlvblRleHR1cmVFbmFibGVkfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fUmVmcmFjdGlvblRleHR1cmVFbmFibGVkIT09ZSYmKHRoaXMuX1JlZnJhY3Rpb25UZXh0dXJlRW5hYmxlZD1lLGNlLk1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDEpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSwiQ29sb3JHcmFkaW5nVGV4dHVyZUVuYWJsZWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fQ29sb3JHcmFkaW5nVGV4dHVyZUVuYWJsZWR9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9Db2xvckdyYWRpbmdUZXh0dXJlRW5hYmxlZCE9PWUmJih0aGlzLl9Db2xvckdyYWRpbmdUZXh0dXJlRW5hYmxlZD1lLGNlLk1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDEpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSwiRnJlc25lbEVuYWJsZWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fRnJlc25lbEVuYWJsZWR9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9GcmVzbmVsRW5hYmxlZCE9PWUmJih0aGlzLl9GcmVzbmVsRW5hYmxlZD1lLGNlLk1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDQpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSwiQ2xlYXJDb2F0VGV4dHVyZUVuYWJsZWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fQ2xlYXJDb2F0VGV4dHVyZUVuYWJsZWR9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9DbGVhckNvYXRUZXh0dXJlRW5hYmxlZCE9PWUmJih0aGlzLl9DbGVhckNvYXRUZXh0dXJlRW5hYmxlZD1lLGNlLk1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDEpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSwiQ2xlYXJDb2F0QnVtcFRleHR1cmVFbmFibGVkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX0NsZWFyQ29hdEJ1bXBUZXh0dXJlRW5hYmxlZH0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX0NsZWFyQ29hdEJ1bXBUZXh0dXJlRW5hYmxlZCE9PWUmJih0aGlzLl9DbGVhckNvYXRCdW1wVGV4dHVyZUVuYWJsZWQ9ZSxjZS5NYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxKSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGksIkNsZWFyQ29hdFRpbnRUZXh0dXJlRW5hYmxlZCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9DbGVhckNvYXRUaW50VGV4dHVyZUVuYWJsZWR9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9DbGVhckNvYXRUaW50VGV4dHVyZUVuYWJsZWQhPT1lJiYodGhpcy5fQ2xlYXJDb2F0VGludFRleHR1cmVFbmFibGVkPWUsY2UuTWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMSkpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLCJTaGVlblRleHR1cmVFbmFibGVkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX1NoZWVuVGV4dHVyZUVuYWJsZWR9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9TaGVlblRleHR1cmVFbmFibGVkIT09ZSYmKHRoaXMuX1NoZWVuVGV4dHVyZUVuYWJsZWQ9ZSxjZS5NYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxKSl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGksIkFuaXNvdHJvcGljVGV4dHVyZUVuYWJsZWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fQW5pc290cm9waWNUZXh0dXJlRW5hYmxlZH0sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX0FuaXNvdHJvcGljVGV4dHVyZUVuYWJsZWQhPT1lJiYodGhpcy5fQW5pc290cm9waWNUZXh0dXJlRW5hYmxlZD1lLGNlLk1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDEpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSwiVGhpY2tuZXNzVGV4dHVyZUVuYWJsZWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fVGhpY2tuZXNzVGV4dHVyZUVuYWJsZWR9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9UaGlja25lc3NUZXh0dXJlRW5hYmxlZCE9PWUmJih0aGlzLl9UaGlja25lc3NUZXh0dXJlRW5hYmxlZD1lLGNlLk1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDEpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSwiUmVmcmFjdGlvbkludGVuc2l0eVRleHR1cmVFbmFibGVkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX1RoaWNrbmVzc1RleHR1cmVFbmFibGVkfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fUmVmcmFjdGlvbkludGVuc2l0eVRleHR1cmVFbmFibGVkIT09ZSYmKHRoaXMuX1JlZnJhY3Rpb25JbnRlbnNpdHlUZXh0dXJlRW5hYmxlZD1lLGNlLk1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDEpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSwiVHJhbnNsdWNlbmN5SW50ZW5zaXR5VGV4dHVyZUVuYWJsZWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fVGhpY2tuZXNzVGV4dHVyZUVuYWJsZWR9LHNldDpmdW5jdGlvbihlKXt0aGlzLl9UcmFuc2x1Y2VuY3lJbnRlbnNpdHlUZXh0dXJlRW5hYmxlZCE9PWUmJih0aGlzLl9UcmFuc2x1Y2VuY3lJbnRlbnNpdHlUZXh0dXJlRW5hYmxlZD1lLGNlLk1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDEpKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSwiSXJpZGVzY2VuY2VUZXh0dXJlRW5hYmxlZCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9JcmlkZXNjZW5jZVRleHR1cmVFbmFibGVkfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fSXJpZGVzY2VuY2VUZXh0dXJlRW5hYmxlZCE9PWUmJih0aGlzLl9JcmlkZXNjZW5jZVRleHR1cmVFbmFibGVkPWUsY2UuTWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMSkpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGkuX0RpZmZ1c2VUZXh0dXJlRW5hYmxlZD0hMCxpLl9EZXRhaWxUZXh0dXJlRW5hYmxlZD0hMCxpLl9BbWJpZW50VGV4dHVyZUVuYWJsZWQ9ITAsaS5fT3BhY2l0eVRleHR1cmVFbmFibGVkPSEwLGkuX1JlZmxlY3Rpb25UZXh0dXJlRW5hYmxlZD0hMCxpLl9FbWlzc2l2ZVRleHR1cmVFbmFibGVkPSEwLGkuX1NwZWN1bGFyVGV4dHVyZUVuYWJsZWQ9ITAsaS5fQnVtcFRleHR1cmVFbmFibGVkPSEwLGkuX0xpZ2h0bWFwVGV4dHVyZUVuYWJsZWQ9ITAsaS5fUmVmcmFjdGlvblRleHR1cmVFbmFibGVkPSEwLGkuX0NvbG9yR3JhZGluZ1RleHR1cmVFbmFibGVkPSEwLGkuX0ZyZXNuZWxFbmFibGVkPSEwLGkuX0NsZWFyQ29hdFRleHR1cmVFbmFibGVkPSEwLGkuX0NsZWFyQ29hdEJ1bXBUZXh0dXJlRW5hYmxlZD0hMCxpLl9DbGVhckNvYXRUaW50VGV4dHVyZUVuYWJsZWQ9ITAsaS5fU2hlZW5UZXh0dXJlRW5hYmxlZD0hMCxpLl9Bbmlzb3Ryb3BpY1RleHR1cmVFbmFibGVkPSEwLGkuX1RoaWNrbmVzc1RleHR1cmVFbmFibGVkPSEwLGkuX1JlZnJhY3Rpb25JbnRlbnNpdHlUZXh0dXJlRW5hYmxlZD0hMCxpLl9UcmFuc2x1Y2VuY3lJbnRlbnNpdHlUZXh0dXJlRW5hYmxlZD0hMCxpLl9JcmlkZXNjZW5jZVRleHR1cmVFbmFibGVkPSEwLGl9KCksSW89ImRlZmF1bHRGcmFnbWVudERlY2xhcmF0aW9uIixPbz1gdW5pZm9ybSB2ZWM0IHZFeWVQb3NpdGlvbjsKdW5pZm9ybSB2ZWM0IHZEaWZmdXNlQ29sb3I7CiNpZmRlZiBTUEVDVUxBUlRFUk0KdW5pZm9ybSB2ZWM0IHZTcGVjdWxhckNvbG9yOwojZW5kaWYKdW5pZm9ybSB2ZWMzIHZFbWlzc2l2ZUNvbG9yOwp1bmlmb3JtIHZlYzMgdkFtYmllbnRDb2xvcjsKdW5pZm9ybSBmbG9hdCB2aXNpYmlsaXR5OwojaWZkZWYgRElGRlVTRQp1bmlmb3JtIHZlYzIgdkRpZmZ1c2VJbmZvczsKI2VuZGlmCiNpZmRlZiBBTUJJRU5UCnVuaWZvcm0gdmVjMiB2QW1iaWVudEluZm9zOwojZW5kaWYKI2lmZGVmIE9QQUNJVFkgCnVuaWZvcm0gdmVjMiB2T3BhY2l0eUluZm9zOwojZW5kaWYKI2lmZGVmIEVNSVNTSVZFCnVuaWZvcm0gdmVjMiB2RW1pc3NpdmVJbmZvczsKI2VuZGlmCiNpZmRlZiBMSUdIVE1BUAp1bmlmb3JtIHZlYzIgdkxpZ2h0bWFwSW5mb3M7CiNlbmRpZgojaWZkZWYgQlVNUAp1bmlmb3JtIHZlYzMgdkJ1bXBJbmZvczsKdW5pZm9ybSB2ZWMyIHZUYW5nZW50U3BhY2VQYXJhbXM7CiNlbmRpZgojaWZkZWYgQUxQSEFURVNUCnVuaWZvcm0gZmxvYXQgYWxwaGFDdXRPZmY7CiNlbmRpZgojaWYgZGVmaW5lZChSRUZMRUNUSU9OTUFQX1NQSEVSSUNBTCkgfHwgZGVmaW5lZChSRUZMRUNUSU9OTUFQX1BST0pFQ1RJT04pIHx8IGRlZmluZWQoUkVGUkFDVElPTikgfHwgZGVmaW5lZChQUkVQQVNTKQp1bmlmb3JtIG1hdDQgdmlldzsKI2VuZGlmCiNpZmRlZiBSRUZSQUNUSU9OCnVuaWZvcm0gdmVjNCB2UmVmcmFjdGlvbkluZm9zOwojaWZuZGVmIFJFRlJBQ1RJT05NQVBfM0QKdW5pZm9ybSBtYXQ0IHJlZnJhY3Rpb25NYXRyaXg7CiNlbmRpZgojaWZkZWYgUkVGUkFDVElPTkZSRVNORUwKdW5pZm9ybSB2ZWM0IHJlZnJhY3Rpb25MZWZ0Q29sb3I7CnVuaWZvcm0gdmVjNCByZWZyYWN0aW9uUmlnaHRDb2xvcjsKI2VuZGlmCiNpZiBkZWZpbmVkKFVTRV9MT0NBTF9SRUZSQUNUSU9OTUFQX0NVQklDKSAmJiBkZWZpbmVkKFJFRlJBQ1RJT05NQVBfM0QpCnVuaWZvcm0gdmVjMyB2UmVmcmFjdGlvblBvc2l0aW9uOwp1bmlmb3JtIHZlYzMgdlJlZnJhY3Rpb25TaXplOyAKI2VuZGlmCiNlbmRpZgojaWYgZGVmaW5lZChTUEVDVUxBUikgJiYgZGVmaW5lZChTUEVDVUxBUlRFUk0pCnVuaWZvcm0gdmVjMiB2U3BlY3VsYXJJbmZvczsKI2VuZGlmCiNpZmRlZiBESUZGVVNFRlJFU05FTAp1bmlmb3JtIHZlYzQgZGlmZnVzZUxlZnRDb2xvcjsKdW5pZm9ybSB2ZWM0IGRpZmZ1c2VSaWdodENvbG9yOwojZW5kaWYKI2lmZGVmIE9QQUNJVFlGUkVTTkVMCnVuaWZvcm0gdmVjNCBvcGFjaXR5UGFydHM7CiNlbmRpZgojaWZkZWYgRU1JU1NJVkVGUkVTTkVMCnVuaWZvcm0gdmVjNCBlbWlzc2l2ZUxlZnRDb2xvcjsKdW5pZm9ybSB2ZWM0IGVtaXNzaXZlUmlnaHRDb2xvcjsKI2VuZGlmCiNpZmRlZiBSRUZMRUNUSU9OCnVuaWZvcm0gdmVjMiB2UmVmbGVjdGlvbkluZm9zOwojaWYgZGVmaW5lZChSRUZMRUNUSU9OTUFQX1BMQU5BUikgfHwgZGVmaW5lZChSRUZMRUNUSU9OTUFQX0NVQklDKSB8fCBkZWZpbmVkKFJFRkxFQ1RJT05NQVBfUFJPSkVDVElPTikgfHwgZGVmaW5lZChSRUZMRUNUSU9OTUFQX0VRVUlSRUNUQU5HVUxBUikgfHwgZGVmaW5lZChSRUZMRUNUSU9OTUFQX1NQSEVSSUNBTCkgfHwgZGVmaW5lZChSRUZMRUNUSU9OTUFQX1NLWUJPWCkKdW5pZm9ybSBtYXQ0IHJlZmxlY3Rpb25NYXRyaXg7CiNlbmRpZgojaWZuZGVmIFJFRkxFQ1RJT05NQVBfU0tZQk9YCiNpZiBkZWZpbmVkKFVTRV9MT0NBTF9SRUZMRUNUSU9OTUFQX0NVQklDKSAmJiBkZWZpbmVkKFJFRkxFQ1RJT05NQVBfQ1VCSUMpCnVuaWZvcm0gdmVjMyB2UmVmbGVjdGlvblBvc2l0aW9uOwp1bmlmb3JtIHZlYzMgdlJlZmxlY3Rpb25TaXplOyAKI2VuZGlmCiNlbmRpZgojaWZkZWYgUkVGTEVDVElPTkZSRVNORUwKdW5pZm9ybSB2ZWM0IHJlZmxlY3Rpb25MZWZ0Q29sb3I7CnVuaWZvcm0gdmVjNCByZWZsZWN0aW9uUmlnaHRDb2xvcjsKI2VuZGlmCiNlbmRpZgojaWZkZWYgREVUQUlMCnVuaWZvcm0gdmVjNCB2RGV0YWlsSW5mb3M7CiNlbmRpZgojZGVmaW5lIEFERElUSU9OQUxfRlJBR01FTlRfREVDTEFSQVRJT04KYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW0lvXT1Pbzt2YXIgRm89ImRlZmF1bHRVYm9EZWNsYXJhdGlvbiIsd289YGxheW91dChzdGQxNDAsY29sdW1uX21ham9yKSB1bmlmb3JtOwp1bmlmb3JtIE1hdGVyaWFsCnsKdmVjNCBkaWZmdXNlTGVmdENvbG9yOwp2ZWM0IGRpZmZ1c2VSaWdodENvbG9yOwp2ZWM0IG9wYWNpdHlQYXJ0czsKdmVjNCByZWZsZWN0aW9uTGVmdENvbG9yOwp2ZWM0IHJlZmxlY3Rpb25SaWdodENvbG9yOwp2ZWM0IHJlZnJhY3Rpb25MZWZ0Q29sb3I7CnZlYzQgcmVmcmFjdGlvblJpZ2h0Q29sb3I7CnZlYzQgZW1pc3NpdmVMZWZ0Q29sb3I7CnZlYzQgZW1pc3NpdmVSaWdodENvbG9yOwp2ZWMyIHZEaWZmdXNlSW5mb3M7CnZlYzIgdkFtYmllbnRJbmZvczsKdmVjMiB2T3BhY2l0eUluZm9zOwp2ZWMyIHZSZWZsZWN0aW9uSW5mb3M7CnZlYzMgdlJlZmxlY3Rpb25Qb3NpdGlvbjsKdmVjMyB2UmVmbGVjdGlvblNpemU7CnZlYzIgdkVtaXNzaXZlSW5mb3M7CnZlYzIgdkxpZ2h0bWFwSW5mb3M7CnZlYzIgdlNwZWN1bGFySW5mb3M7CnZlYzMgdkJ1bXBJbmZvczsKbWF0NCBkaWZmdXNlTWF0cml4OwptYXQ0IGFtYmllbnRNYXRyaXg7Cm1hdDQgb3BhY2l0eU1hdHJpeDsKbWF0NCByZWZsZWN0aW9uTWF0cml4OwptYXQ0IGVtaXNzaXZlTWF0cml4OwptYXQ0IGxpZ2h0bWFwTWF0cml4OwptYXQ0IHNwZWN1bGFyTWF0cml4OwptYXQ0IGJ1bXBNYXRyaXg7CnZlYzIgdlRhbmdlbnRTcGFjZVBhcmFtczsKZmxvYXQgcG9pbnRTaXplOwpmbG9hdCBhbHBoYUN1dE9mZjsKbWF0NCByZWZyYWN0aW9uTWF0cml4Owp2ZWM0IHZSZWZyYWN0aW9uSW5mb3M7CnZlYzMgdlJlZnJhY3Rpb25Qb3NpdGlvbjsKdmVjMyB2UmVmcmFjdGlvblNpemU7CnZlYzQgdlNwZWN1bGFyQ29sb3I7CnZlYzMgdkVtaXNzaXZlQ29sb3I7CnZlYzQgdkRpZmZ1c2VDb2xvcjsKdmVjMyB2QW1iaWVudENvbG9yOwojZGVmaW5lIEFERElUSU9OQUxfVUJPX0RFQ0xBUkFUSU9OCn07CiNpbmNsdWRlPHNjZW5lVWJvRGVjbGFyYXRpb24+CiNpbmNsdWRlPG1lc2hVYm9EZWNsYXJhdGlvbj4KYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW0ZvXT13bzt2YXIgTG89InByZVBhc3NEZWNsYXJhdGlvbiIsTm89YCNpZmRlZiBQUkVQQVNTCiNleHRlbnNpb24gR0xfRVhUX2RyYXdfYnVmZmVycyA6IHJlcXVpcmUKbGF5b3V0KGxvY2F0aW9uPTApIG91dCBoaWdocCB2ZWM0IGdsRnJhZ0RhdGFbe1h9XTtoaWdocCB2ZWM0IGdsX0ZyYWdDb2xvcjsKI2lmZGVmIFBSRVBBU1NfREVQVEgKdmFyeWluZyBoaWdocCB2ZWMzIHZWaWV3UG9zOwojZW5kaWYKI2lmZGVmIFBSRVBBU1NfVkVMT0NJVFkKdmFyeWluZyBoaWdocCB2ZWM0IHZDdXJyZW50UG9zaXRpb247dmFyeWluZyBoaWdocCB2ZWM0IHZQcmV2aW91c1Bvc2l0aW9uOwojZW5kaWYKI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtMb109Tm87dmFyIEJvPSJvaXREZWNsYXJhdGlvbiIsVW89YCNpZmRlZiBPUkRFUl9JTkRFUEVOREVOVF9UUkFOU1BBUkVOQ1kKI2V4dGVuc2lvbiBHTF9FWFRfZHJhd19idWZmZXJzIDogcmVxdWlyZQpsYXlvdXQobG9jYXRpb249MCkgb3V0IHZlYzIgZGVwdGg7IApsYXlvdXQobG9jYXRpb249MSkgb3V0IHZlYzQgZnJvbnRDb2xvcjsKbGF5b3V0KGxvY2F0aW9uPTIpIG91dCB2ZWM0IGJhY2tDb2xvcjsKI2RlZmluZSBNQVhfREVQVEggOTk5OTkuMApoaWdocCB2ZWM0IGdsX0ZyYWdDb2xvcjsKdW5pZm9ybSBzYW1wbGVyMkQgb2l0RGVwdGhTYW1wbGVyOwp1bmlmb3JtIHNhbXBsZXIyRCBvaXRGcm9udENvbG9yU2FtcGxlcjsKI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtCb109VW87dmFyIFZvPSJtYWluVVZWYXJ5aW5nRGVjbGFyYXRpb24iLGtvPWAjaWZkZWYgTUFJTlVWe1h9CnZhcnlpbmcgdmVjMiB2TWFpblVWe1h9OwojZW5kaWYKYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW1ZvXT1rbzt2YXIgV289ImxpZ2h0RnJhZ21lbnREZWNsYXJhdGlvbiIsem89YCNpZmRlZiBMSUdIVHtYfQp1bmlmb3JtIHZlYzQgdkxpZ2h0RGF0YXtYfTsKdW5pZm9ybSB2ZWM0IHZMaWdodERpZmZ1c2V7WH07CiNpZmRlZiBTUEVDVUxBUlRFUk0KdW5pZm9ybSB2ZWM0IHZMaWdodFNwZWN1bGFye1h9OwojZWxzZQp2ZWM0IHZMaWdodFNwZWN1bGFye1h9PXZlYzQoMC4pOwojZW5kaWYKI2lmZGVmIFNIQURPV3tYfQojaWZkZWYgU0hBRE9XQ1NNe1h9CnVuaWZvcm0gbWF0NCBsaWdodE1hdHJpeHtYfVtTSEFET1dDU01OVU1fQ0FTQ0FERVN7WH1dOwp1bmlmb3JtIGZsb2F0IHZpZXdGcnVzdHVtWntYfVtTSEFET1dDU01OVU1fQ0FTQ0FERVN7WH1dOwp1bmlmb3JtIGZsb2F0IGZydXN0dW1MZW5ndGhze1h9W1NIQURPV0NTTU5VTV9DQVNDQURFU3tYfV07CnVuaWZvcm0gZmxvYXQgY2FzY2FkZUJsZW5kRmFjdG9ye1h9Owp2YXJ5aW5nIHZlYzQgdlBvc2l0aW9uRnJvbUxpZ2h0e1h9W1NIQURPV0NTTU5VTV9DQVNDQURFU3tYfV07CnZhcnlpbmcgZmxvYXQgdkRlcHRoTWV0cmlje1h9W1NIQURPV0NTTU5VTV9DQVNDQURFU3tYfV07CnZhcnlpbmcgdmVjNCB2UG9zaXRpb25Gcm9tQ2FtZXJhe1h9OwojaWYgZGVmaW5lZChTSEFET1dQQ1NTe1h9KQp1bmlmb3JtIGhpZ2hwIHNhbXBsZXIyREFycmF5U2hhZG93IHNoYWRvd1NhbXBsZXJ7WH07CnVuaWZvcm0gaGlnaHAgc2FtcGxlcjJEQXJyYXkgZGVwdGhTYW1wbGVye1h9Owp1bmlmb3JtIHZlYzIgbGlnaHRTaXplVVZDb3JyZWN0aW9ue1h9W1NIQURPV0NTTU5VTV9DQVNDQURFU3tYfV07CnVuaWZvcm0gZmxvYXQgZGVwdGhDb3JyZWN0aW9ue1h9W1NIQURPV0NTTU5VTV9DQVNDQURFU3tYfV07CnVuaWZvcm0gZmxvYXQgcGVudW1icmFEYXJrbmVzc3tYfTsKI2VsaWYgZGVmaW5lZChTSEFET1dQQ0Z7WH0pCnVuaWZvcm0gaGlnaHAgc2FtcGxlcjJEQXJyYXlTaGFkb3cgc2hhZG93U2FtcGxlcntYfTsKI2Vsc2UKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkRBcnJheSBzaGFkb3dTYW1wbGVye1h9OwojZW5kaWYKI2lmZGVmIFNIQURPV0NTTURFQlVHe1h9CmNvbnN0IHZlYzMgdkNhc2NhZGVDb2xvcnNNdWx0aXBsaWVye1h9WzhdPXZlYzNbOF0KKAp2ZWMzICggMS41LDAuMCwwLjAgKSwKdmVjMyAoIDAuMCwxLjUsMC4wICksCnZlYzMgKCAwLjAsMC4wLDUuNSApLAp2ZWMzICggMS41LDAuMCw1LjUgKSwKdmVjMyAoIDEuNSwxLjUsMC4wICksCnZlYzMgKCAxLjAsMS4wLDEuMCApLAp2ZWMzICggMC4wLDEuMCw1LjUgKSwKdmVjMyAoIDAuNSwzLjUsMC43NSApCik7CnZlYzMgc2hhZG93RGVidWd7WH07CiNlbmRpZgojaWZkZWYgU0hBRE9XQ1NNVVNFU0hBRE9XTUFYWntYfQppbnQgaW5kZXh7WH09LTE7CiNlbHNlCmludCBpbmRleHtYfT1TSEFET1dDU01OVU1fQ0FTQ0FERVN7WH0tMTsKI2VuZGlmCmZsb2F0IGRpZmZ7WH09MC47CiNlbGlmIGRlZmluZWQoU0hBRE9XQ1VCRXtYfSkKdW5pZm9ybSBzYW1wbGVyQ3ViZSBzaGFkb3dTYW1wbGVye1h9OwojZWxzZQp2YXJ5aW5nIHZlYzQgdlBvc2l0aW9uRnJvbUxpZ2h0e1h9Owp2YXJ5aW5nIGZsb2F0IHZEZXB0aE1ldHJpY3tYfTsKI2lmIGRlZmluZWQoU0hBRE9XUENTU3tYfSkKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkRTaGFkb3cgc2hhZG93U2FtcGxlcntYfTsKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkQgZGVwdGhTYW1wbGVye1h9OwojZWxpZiBkZWZpbmVkKFNIQURPV1BDRntYfSkKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkRTaGFkb3cgc2hhZG93U2FtcGxlcntYfTsKI2Vsc2UKdW5pZm9ybSBzYW1wbGVyMkQgc2hhZG93U2FtcGxlcntYfTsKI2VuZGlmCnVuaWZvcm0gbWF0NCBsaWdodE1hdHJpeHtYfTsKI2VuZGlmCnVuaWZvcm0gdmVjNCBzaGFkb3dzSW5mb3tYfTsKdW5pZm9ybSB2ZWMyIGRlcHRoVmFsdWVze1h9OwojZW5kaWYKI2lmZGVmIFNQT1RMSUdIVHtYfQp1bmlmb3JtIHZlYzQgdkxpZ2h0RGlyZWN0aW9ue1h9Owp1bmlmb3JtIHZlYzQgdkxpZ2h0RmFsbG9mZntYfTsKI2VsaWYgZGVmaW5lZChQT0lOVExJR0hUe1h9KQp1bmlmb3JtIHZlYzQgdkxpZ2h0RmFsbG9mZntYfTsKI2VsaWYgZGVmaW5lZChIRU1JTElHSFR7WH0pCnVuaWZvcm0gdmVjMyB2TGlnaHRHcm91bmR7WH07CiNlbmRpZgojaWZkZWYgUFJPSkVDVEVETElHSFRURVhUVVJFe1h9CnVuaWZvcm0gbWF0NCB0ZXh0dXJlUHJvamVjdGlvbk1hdHJpeHtYfTsKdW5pZm9ybSBzYW1wbGVyMkQgcHJvamVjdGlvbkxpZ2h0U2FtcGxlcntYfTsKI2VuZGlmCiNlbmRpZgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbV29dPXpvO3ZhciBHbz0ibGlnaHRVYm9EZWNsYXJhdGlvbiIsWG89YCNpZmRlZiBMSUdIVHtYfQp1bmlmb3JtIExpZ2h0e1h9CnsKdmVjNCB2TGlnaHREYXRhOwp2ZWM0IHZMaWdodERpZmZ1c2U7CnZlYzQgdkxpZ2h0U3BlY3VsYXI7CiNpZmRlZiBTUE9UTElHSFR7WH0KdmVjNCB2TGlnaHREaXJlY3Rpb247CnZlYzQgdkxpZ2h0RmFsbG9mZjsKI2VsaWYgZGVmaW5lZChQT0lOVExJR0hUe1h9KQp2ZWM0IHZMaWdodEZhbGxvZmY7CiNlbGlmIGRlZmluZWQoSEVNSUxJR0hUe1h9KQp2ZWMzIHZMaWdodEdyb3VuZDsKI2VuZGlmCnZlYzQgc2hhZG93c0luZm87CnZlYzIgZGVwdGhWYWx1ZXM7Cn0gbGlnaHR7WH07CiNpZmRlZiBQUk9KRUNURURMSUdIVFRFWFRVUkV7WH0KdW5pZm9ybSBtYXQ0IHRleHR1cmVQcm9qZWN0aW9uTWF0cml4e1h9Owp1bmlmb3JtIHNhbXBsZXIyRCBwcm9qZWN0aW9uTGlnaHRTYW1wbGVye1h9OwojZW5kaWYKI2lmZGVmIFNIQURPV3tYfQojaWZkZWYgU0hBRE9XQ1NNe1h9CnVuaWZvcm0gbWF0NCBsaWdodE1hdHJpeHtYfVtTSEFET1dDU01OVU1fQ0FTQ0FERVN7WH1dOwp1bmlmb3JtIGZsb2F0IHZpZXdGcnVzdHVtWntYfVtTSEFET1dDU01OVU1fQ0FTQ0FERVN7WH1dOwp1bmlmb3JtIGZsb2F0IGZydXN0dW1MZW5ndGhze1h9W1NIQURPV0NTTU5VTV9DQVNDQURFU3tYfV07CnVuaWZvcm0gZmxvYXQgY2FzY2FkZUJsZW5kRmFjdG9ye1h9Owp2YXJ5aW5nIHZlYzQgdlBvc2l0aW9uRnJvbUxpZ2h0e1h9W1NIQURPV0NTTU5VTV9DQVNDQURFU3tYfV07CnZhcnlpbmcgZmxvYXQgdkRlcHRoTWV0cmlje1h9W1NIQURPV0NTTU5VTV9DQVNDQURFU3tYfV07CnZhcnlpbmcgdmVjNCB2UG9zaXRpb25Gcm9tQ2FtZXJhe1h9OwojaWYgZGVmaW5lZChTSEFET1dQQ1NTe1h9KQp1bmlmb3JtIGhpZ2hwIHNhbXBsZXIyREFycmF5U2hhZG93IHNoYWRvd1NhbXBsZXJ7WH07CnVuaWZvcm0gaGlnaHAgc2FtcGxlcjJEQXJyYXkgZGVwdGhTYW1wbGVye1h9Owp1bmlmb3JtIHZlYzIgbGlnaHRTaXplVVZDb3JyZWN0aW9ue1h9W1NIQURPV0NTTU5VTV9DQVNDQURFU3tYfV07CnVuaWZvcm0gZmxvYXQgZGVwdGhDb3JyZWN0aW9ue1h9W1NIQURPV0NTTU5VTV9DQVNDQURFU3tYfV07CnVuaWZvcm0gZmxvYXQgcGVudW1icmFEYXJrbmVzc3tYfTsKI2VsaWYgZGVmaW5lZChTSEFET1dQQ0Z7WH0pCnVuaWZvcm0gaGlnaHAgc2FtcGxlcjJEQXJyYXlTaGFkb3cgc2hhZG93U2FtcGxlcntYfTsKI2Vsc2UKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkRBcnJheSBzaGFkb3dTYW1wbGVye1h9OwojZW5kaWYKI2lmZGVmIFNIQURPV0NTTURFQlVHe1h9CmNvbnN0IHZlYzMgdkNhc2NhZGVDb2xvcnNNdWx0aXBsaWVye1h9WzhdPXZlYzNbOF0KKAp2ZWMzICggMS41LDAuMCwwLjAgKSwKdmVjMyAoIDAuMCwxLjUsMC4wICksCnZlYzMgKCAwLjAsMC4wLDUuNSApLAp2ZWMzICggMS41LDAuMCw1LjUgKSwKdmVjMyAoIDEuNSwxLjUsMC4wICksCnZlYzMgKCAxLjAsMS4wLDEuMCApLAp2ZWMzICggMC4wLDEuMCw1LjUgKSwKdmVjMyAoIDAuNSwzLjUsMC43NSApCik7CnZlYzMgc2hhZG93RGVidWd7WH07CiNlbmRpZgojaWZkZWYgU0hBRE9XQ1NNVVNFU0hBRE9XTUFYWntYfQppbnQgaW5kZXh7WH09LTE7CiNlbHNlCmludCBpbmRleHtYfT1TSEFET1dDU01OVU1fQ0FTQ0FERVN7WH0tMTsKI2VuZGlmCmZsb2F0IGRpZmZ7WH09MC47CiNlbGlmIGRlZmluZWQoU0hBRE9XQ1VCRXtYfSkKdW5pZm9ybSBzYW1wbGVyQ3ViZSBzaGFkb3dTYW1wbGVye1h9OyAKI2Vsc2UKdmFyeWluZyB2ZWM0IHZQb3NpdGlvbkZyb21MaWdodHtYfTsKdmFyeWluZyBmbG9hdCB2RGVwdGhNZXRyaWN7WH07CiNpZiBkZWZpbmVkKFNIQURPV1BDU1N7WH0pCnVuaWZvcm0gaGlnaHAgc2FtcGxlcjJEU2hhZG93IHNoYWRvd1NhbXBsZXJ7WH07CnVuaWZvcm0gaGlnaHAgc2FtcGxlcjJEIGRlcHRoU2FtcGxlcntYfTsKI2VsaWYgZGVmaW5lZChTSEFET1dQQ0Z7WH0pCnVuaWZvcm0gaGlnaHAgc2FtcGxlcjJEU2hhZG93IHNoYWRvd1NhbXBsZXJ7WH07CiNlbHNlCnVuaWZvcm0gc2FtcGxlcjJEIHNoYWRvd1NhbXBsZXJ7WH07CiNlbmRpZgp1bmlmb3JtIG1hdDQgbGlnaHRNYXRyaXh7WH07CiNlbmRpZgojZW5kaWYKI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtHb109WG87dmFyIEhvPSJsaWdodHNGcmFnbWVudEZ1bmN0aW9ucyIsam89YHN0cnVjdCBsaWdodGluZ0luZm8Kewp2ZWMzIGRpZmZ1c2U7CiNpZmRlZiBTUEVDVUxBUlRFUk0KdmVjMyBzcGVjdWxhcjsKI2VuZGlmCiNpZmRlZiBORE9UTApmbG9hdCBuZGw7CiNlbmRpZgp9OwpsaWdodGluZ0luZm8gY29tcHV0ZUxpZ2h0aW5nKHZlYzMgdmlld0RpcmVjdGlvblcsdmVjMyB2Tm9ybWFsLHZlYzQgbGlnaHREYXRhLHZlYzMgZGlmZnVzZUNvbG9yLHZlYzMgc3BlY3VsYXJDb2xvcixmbG9hdCByYW5nZSxmbG9hdCBnbG9zc2luZXNzKSB7CmxpZ2h0aW5nSW5mbyByZXN1bHQ7CnZlYzMgbGlnaHRWZWN0b3JXOwpmbG9hdCBhdHRlbnVhdGlvbj0xLjA7CmlmIChsaWdodERhdGEudz09MC4pCnsKdmVjMyBkaXJlY3Rpb249bGlnaHREYXRhLnh5ei12UG9zaXRpb25XOwphdHRlbnVhdGlvbj1tYXgoMC4sMS4wLWxlbmd0aChkaXJlY3Rpb24pL3JhbmdlKTsKbGlnaHRWZWN0b3JXPW5vcm1hbGl6ZShkaXJlY3Rpb24pOwp9CmVsc2UKewpsaWdodFZlY3Rvclc9bm9ybWFsaXplKC1saWdodERhdGEueHl6KTsKfQpmbG9hdCBuZGw9bWF4KDAuLGRvdCh2Tm9ybWFsLGxpZ2h0VmVjdG9yVykpOwojaWZkZWYgTkRPVEwKcmVzdWx0Lm5kbD1uZGw7CiNlbmRpZgpyZXN1bHQuZGlmZnVzZT1uZGwqZGlmZnVzZUNvbG9yKmF0dGVudWF0aW9uOwojaWZkZWYgU1BFQ1VMQVJURVJNCnZlYzMgYW5nbGVXPW5vcm1hbGl6ZSh2aWV3RGlyZWN0aW9uVytsaWdodFZlY3RvclcpOwpmbG9hdCBzcGVjQ29tcD1tYXgoMC4sZG90KHZOb3JtYWwsYW5nbGVXKSk7CnNwZWNDb21wPXBvdyhzcGVjQ29tcCxtYXgoMS4sZ2xvc3NpbmVzcykpOwpyZXN1bHQuc3BlY3VsYXI9c3BlY0NvbXAqc3BlY3VsYXJDb2xvciphdHRlbnVhdGlvbjsKI2VuZGlmCnJldHVybiByZXN1bHQ7Cn0KbGlnaHRpbmdJbmZvIGNvbXB1dGVTcG90TGlnaHRpbmcodmVjMyB2aWV3RGlyZWN0aW9uVyx2ZWMzIHZOb3JtYWwsdmVjNCBsaWdodERhdGEsdmVjNCBsaWdodERpcmVjdGlvbix2ZWMzIGRpZmZ1c2VDb2xvcix2ZWMzIHNwZWN1bGFyQ29sb3IsZmxvYXQgcmFuZ2UsZmxvYXQgZ2xvc3NpbmVzcykgewpsaWdodGluZ0luZm8gcmVzdWx0Owp2ZWMzIGRpcmVjdGlvbj1saWdodERhdGEueHl6LXZQb3NpdGlvblc7CnZlYzMgbGlnaHRWZWN0b3JXPW5vcm1hbGl6ZShkaXJlY3Rpb24pOwpmbG9hdCBhdHRlbnVhdGlvbj1tYXgoMC4sMS4wLWxlbmd0aChkaXJlY3Rpb24pL3JhbmdlKTsKZmxvYXQgY29zQW5nbGU9bWF4KDAuLGRvdChsaWdodERpcmVjdGlvbi54eXosLWxpZ2h0VmVjdG9yVykpOwppZiAoY29zQW5nbGU+PWxpZ2h0RGlyZWN0aW9uLncpCnsKY29zQW5nbGU9bWF4KDAuLHBvdyhjb3NBbmdsZSxsaWdodERhdGEudykpOwphdHRlbnVhdGlvbio9Y29zQW5nbGU7CmZsb2F0IG5kbD1tYXgoMC4sZG90KHZOb3JtYWwsbGlnaHRWZWN0b3JXKSk7CiNpZmRlZiBORE9UTApyZXN1bHQubmRsPW5kbDsKI2VuZGlmCnJlc3VsdC5kaWZmdXNlPW5kbCpkaWZmdXNlQ29sb3IqYXR0ZW51YXRpb247CiNpZmRlZiBTUEVDVUxBUlRFUk0KdmVjMyBhbmdsZVc9bm9ybWFsaXplKHZpZXdEaXJlY3Rpb25XK2xpZ2h0VmVjdG9yVyk7CmZsb2F0IHNwZWNDb21wPW1heCgwLixkb3Qodk5vcm1hbCxhbmdsZVcpKTsKc3BlY0NvbXA9cG93KHNwZWNDb21wLG1heCgxLixnbG9zc2luZXNzKSk7CnJlc3VsdC5zcGVjdWxhcj1zcGVjQ29tcCpzcGVjdWxhckNvbG9yKmF0dGVudWF0aW9uOwojZW5kaWYKcmV0dXJuIHJlc3VsdDsKfQpyZXN1bHQuZGlmZnVzZT12ZWMzKDAuKTsKI2lmZGVmIFNQRUNVTEFSVEVSTQpyZXN1bHQuc3BlY3VsYXI9dmVjMygwLik7CiNlbmRpZgojaWZkZWYgTkRPVEwKcmVzdWx0Lm5kbD0wLjsKI2VuZGlmCnJldHVybiByZXN1bHQ7Cn0KbGlnaHRpbmdJbmZvIGNvbXB1dGVIZW1pc3BoZXJpY0xpZ2h0aW5nKHZlYzMgdmlld0RpcmVjdGlvblcsdmVjMyB2Tm9ybWFsLHZlYzQgbGlnaHREYXRhLHZlYzMgZGlmZnVzZUNvbG9yLHZlYzMgc3BlY3VsYXJDb2xvcix2ZWMzIGdyb3VuZENvbG9yLGZsb2F0IGdsb3NzaW5lc3MpIHsKbGlnaHRpbmdJbmZvIHJlc3VsdDsKZmxvYXQgbmRsPWRvdCh2Tm9ybWFsLGxpZ2h0RGF0YS54eXopKjAuNSswLjU7CiNpZmRlZiBORE9UTApyZXN1bHQubmRsPW5kbDsKI2VuZGlmCnJlc3VsdC5kaWZmdXNlPW1peChncm91bmRDb2xvcixkaWZmdXNlQ29sb3IsbmRsKTsKI2lmZGVmIFNQRUNVTEFSVEVSTQp2ZWMzIGFuZ2xlVz1ub3JtYWxpemUodmlld0RpcmVjdGlvblcrbGlnaHREYXRhLnh5eik7CmZsb2F0IHNwZWNDb21wPW1heCgwLixkb3Qodk5vcm1hbCxhbmdsZVcpKTsKc3BlY0NvbXA9cG93KHNwZWNDb21wLG1heCgxLixnbG9zc2luZXNzKSk7CnJlc3VsdC5zcGVjdWxhcj1zcGVjQ29tcCpzcGVjdWxhckNvbG9yOwojZW5kaWYKcmV0dXJuIHJlc3VsdDsKfQojZGVmaW5lIGlubGluZQp2ZWMzIGNvbXB1dGVQcm9qZWN0aW9uVGV4dHVyZURpZmZ1c2VMaWdodGluZyhzYW1wbGVyMkQgcHJvamVjdGlvbkxpZ2h0U2FtcGxlcixtYXQ0IHRleHR1cmVQcm9qZWN0aW9uTWF0cml4KXsKdmVjNCBzdHJxPXRleHR1cmVQcm9qZWN0aW9uTWF0cml4KnZlYzQodlBvc2l0aW9uVywxLjApOwpzdHJxLz1zdHJxLnc7CnZlYzMgdGV4dHVyZUNvbG9yPXRleHR1cmUyRChwcm9qZWN0aW9uTGlnaHRTYW1wbGVyLHN0cnEueHkpLnJnYjsKcmV0dXJuIHRleHR1cmVDb2xvcjsKfWA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtIb109am87dmFyIEtvPSJzaGFkb3dzRnJhZ21lbnRGdW5jdGlvbnMiLFlvPWAjaWZkZWYgU0hBRE9XUwojaWZuZGVmIFNIQURPV0ZMT0FUCmZsb2F0IHVucGFjayh2ZWM0IGNvbG9yKQp7CmNvbnN0IHZlYzQgYml0X3NoaWZ0PXZlYzQoMS4wLygyNTUuMCoyNTUuMCoyNTUuMCksMS4wLygyNTUuMCoyNTUuMCksMS4wLzI1NS4wLDEuMCk7CnJldHVybiBkb3QoY29sb3IsYml0X3NoaWZ0KTsKfQojZW5kaWYKZmxvYXQgY29tcHV0ZUZhbGxPZmYoZmxvYXQgdmFsdWUsdmVjMiBjbGlwU3BhY2UsZmxvYXQgZnJ1c3R1bUVkZ2VGYWxsb2ZmKQp7CmZsb2F0IG1hc2s9c21vb3Roc3RlcCgxLjAtZnJ1c3R1bUVkZ2VGYWxsb2ZmLDEuMDAwMDAwMTIsY2xhbXAoZG90KGNsaXBTcGFjZSxjbGlwU3BhY2UpLDAuLDEuKSk7CnJldHVybiBtaXgodmFsdWUsMS4wLG1hc2spOwp9CiNkZWZpbmUgaW5saW5lCmZsb2F0IGNvbXB1dGVTaGFkb3dDdWJlKHZlYzMgbGlnaHRQb3NpdGlvbixzYW1wbGVyQ3ViZSBzaGFkb3dTYW1wbGVyLGZsb2F0IGRhcmtuZXNzLHZlYzIgZGVwdGhWYWx1ZXMpCnsKdmVjMyBkaXJlY3Rpb25Ub0xpZ2h0PXZQb3NpdGlvblctbGlnaHRQb3NpdGlvbjsKZmxvYXQgZGVwdGg9bGVuZ3RoKGRpcmVjdGlvblRvTGlnaHQpOwpkZXB0aD0oZGVwdGgrZGVwdGhWYWx1ZXMueCkvKGRlcHRoVmFsdWVzLnkpOwpkZXB0aD1jbGFtcChkZXB0aCwwLiwxLjApOwpkaXJlY3Rpb25Ub0xpZ2h0PW5vcm1hbGl6ZShkaXJlY3Rpb25Ub0xpZ2h0KTsKZGlyZWN0aW9uVG9MaWdodC55PS1kaXJlY3Rpb25Ub0xpZ2h0Lnk7CiNpZm5kZWYgU0hBRE9XRkxPQVQKZmxvYXQgc2hhZG93PXVucGFjayh0ZXh0dXJlQ3ViZShzaGFkb3dTYW1wbGVyLGRpcmVjdGlvblRvTGlnaHQpKTsKI2Vsc2UKZmxvYXQgc2hhZG93PXRleHR1cmVDdWJlKHNoYWRvd1NhbXBsZXIsZGlyZWN0aW9uVG9MaWdodCkueDsKI2VuZGlmCnJldHVybiBkZXB0aD5zaGFkb3cgPyBkYXJrbmVzcyA6IDEuMDsKfQojZGVmaW5lIGlubGluZQpmbG9hdCBjb21wdXRlU2hhZG93V2l0aFBvaXNzb25TYW1wbGluZ0N1YmUodmVjMyBsaWdodFBvc2l0aW9uLHNhbXBsZXJDdWJlIHNoYWRvd1NhbXBsZXIsZmxvYXQgbWFwU2l6ZSxmbG9hdCBkYXJrbmVzcyx2ZWMyIGRlcHRoVmFsdWVzKQp7CnZlYzMgZGlyZWN0aW9uVG9MaWdodD12UG9zaXRpb25XLWxpZ2h0UG9zaXRpb247CmZsb2F0IGRlcHRoPWxlbmd0aChkaXJlY3Rpb25Ub0xpZ2h0KTsKZGVwdGg9KGRlcHRoK2RlcHRoVmFsdWVzLngpLyhkZXB0aFZhbHVlcy55KTsKZGVwdGg9Y2xhbXAoZGVwdGgsMC4sMS4wKTsKZGlyZWN0aW9uVG9MaWdodD1ub3JtYWxpemUoZGlyZWN0aW9uVG9MaWdodCk7CmRpcmVjdGlvblRvTGlnaHQueT0tZGlyZWN0aW9uVG9MaWdodC55OwpmbG9hdCB2aXNpYmlsaXR5PTEuOwp2ZWMzIHBvaXNzb25EaXNrWzRdOwpwb2lzc29uRGlza1swXT12ZWMzKC0xLjAsMS4wLC0xLjApOwpwb2lzc29uRGlza1sxXT12ZWMzKDEuMCwtMS4wLC0xLjApOwpwb2lzc29uRGlza1syXT12ZWMzKC0xLjAsLTEuMCwtMS4wKTsKcG9pc3NvbkRpc2tbM109dmVjMygxLjAsLTEuMCwxLjApOwojaWZuZGVmIFNIQURPV0ZMT0FUCmlmICh1bnBhY2sodGV4dHVyZUN1YmUoc2hhZG93U2FtcGxlcixkaXJlY3Rpb25Ub0xpZ2h0K3BvaXNzb25EaXNrWzBdKm1hcFNpemUpKTxkZXB0aCkgdmlzaWJpbGl0eS09MC4yNTsKaWYgKHVucGFjayh0ZXh0dXJlQ3ViZShzaGFkb3dTYW1wbGVyLGRpcmVjdGlvblRvTGlnaHQrcG9pc3NvbkRpc2tbMV0qbWFwU2l6ZSkpPGRlcHRoKSB2aXNpYmlsaXR5LT0wLjI1OwppZiAodW5wYWNrKHRleHR1cmVDdWJlKHNoYWRvd1NhbXBsZXIsZGlyZWN0aW9uVG9MaWdodCtwb2lzc29uRGlza1syXSptYXBTaXplKSk8ZGVwdGgpIHZpc2liaWxpdHktPTAuMjU7CmlmICh1bnBhY2sodGV4dHVyZUN1YmUoc2hhZG93U2FtcGxlcixkaXJlY3Rpb25Ub0xpZ2h0K3BvaXNzb25EaXNrWzNdKm1hcFNpemUpKTxkZXB0aCkgdmlzaWJpbGl0eS09MC4yNTsKI2Vsc2UKaWYgKHRleHR1cmVDdWJlKHNoYWRvd1NhbXBsZXIsZGlyZWN0aW9uVG9MaWdodCtwb2lzc29uRGlza1swXSptYXBTaXplKS54PGRlcHRoKSB2aXNpYmlsaXR5LT0wLjI1OwppZiAodGV4dHVyZUN1YmUoc2hhZG93U2FtcGxlcixkaXJlY3Rpb25Ub0xpZ2h0K3BvaXNzb25EaXNrWzFdKm1hcFNpemUpLng8ZGVwdGgpIHZpc2liaWxpdHktPTAuMjU7CmlmICh0ZXh0dXJlQ3ViZShzaGFkb3dTYW1wbGVyLGRpcmVjdGlvblRvTGlnaHQrcG9pc3NvbkRpc2tbMl0qbWFwU2l6ZSkueDxkZXB0aCkgdmlzaWJpbGl0eS09MC4yNTsKaWYgKHRleHR1cmVDdWJlKHNoYWRvd1NhbXBsZXIsZGlyZWN0aW9uVG9MaWdodCtwb2lzc29uRGlza1szXSptYXBTaXplKS54PGRlcHRoKSB2aXNpYmlsaXR5LT0wLjI1OwojZW5kaWYKcmV0dXJuIG1pbigxLjAsdmlzaWJpbGl0eStkYXJrbmVzcyk7Cn0KI2RlZmluZSBpbmxpbmUKZmxvYXQgY29tcHV0ZVNoYWRvd1dpdGhFU01DdWJlKHZlYzMgbGlnaHRQb3NpdGlvbixzYW1wbGVyQ3ViZSBzaGFkb3dTYW1wbGVyLGZsb2F0IGRhcmtuZXNzLGZsb2F0IGRlcHRoU2NhbGUsdmVjMiBkZXB0aFZhbHVlcykKewp2ZWMzIGRpcmVjdGlvblRvTGlnaHQ9dlBvc2l0aW9uVy1saWdodFBvc2l0aW9uOwpmbG9hdCBkZXB0aD1sZW5ndGgoZGlyZWN0aW9uVG9MaWdodCk7CmRlcHRoPShkZXB0aCtkZXB0aFZhbHVlcy54KS8oZGVwdGhWYWx1ZXMueSk7CmZsb2F0IHNoYWRvd1BpeGVsRGVwdGg9Y2xhbXAoZGVwdGgsMC4sMS4wKTsKZGlyZWN0aW9uVG9MaWdodD1ub3JtYWxpemUoZGlyZWN0aW9uVG9MaWdodCk7CmRpcmVjdGlvblRvTGlnaHQueT0tZGlyZWN0aW9uVG9MaWdodC55OwojaWZuZGVmIFNIQURPV0ZMT0FUCmZsb2F0IHNoYWRvd01hcFNhbXBsZT11bnBhY2sodGV4dHVyZUN1YmUoc2hhZG93U2FtcGxlcixkaXJlY3Rpb25Ub0xpZ2h0KSk7CiNlbHNlCmZsb2F0IHNoYWRvd01hcFNhbXBsZT10ZXh0dXJlQ3ViZShzaGFkb3dTYW1wbGVyLGRpcmVjdGlvblRvTGlnaHQpLng7CiNlbmRpZgpmbG9hdCBlc209MS4wLWNsYW1wKGV4cChtaW4oODcuLGRlcHRoU2NhbGUqc2hhZG93UGl4ZWxEZXB0aCkpKnNoYWRvd01hcFNhbXBsZSwwLiwxLi1kYXJrbmVzcyk7IApyZXR1cm4gZXNtOwp9CiNkZWZpbmUgaW5saW5lCmZsb2F0IGNvbXB1dGVTaGFkb3dXaXRoQ2xvc2VFU01DdWJlKHZlYzMgbGlnaHRQb3NpdGlvbixzYW1wbGVyQ3ViZSBzaGFkb3dTYW1wbGVyLGZsb2F0IGRhcmtuZXNzLGZsb2F0IGRlcHRoU2NhbGUsdmVjMiBkZXB0aFZhbHVlcykKewp2ZWMzIGRpcmVjdGlvblRvTGlnaHQ9dlBvc2l0aW9uVy1saWdodFBvc2l0aW9uOwpmbG9hdCBkZXB0aD1sZW5ndGgoZGlyZWN0aW9uVG9MaWdodCk7CmRlcHRoPShkZXB0aCtkZXB0aFZhbHVlcy54KS8oZGVwdGhWYWx1ZXMueSk7CmZsb2F0IHNoYWRvd1BpeGVsRGVwdGg9Y2xhbXAoZGVwdGgsMC4sMS4wKTsKZGlyZWN0aW9uVG9MaWdodD1ub3JtYWxpemUoZGlyZWN0aW9uVG9MaWdodCk7CmRpcmVjdGlvblRvTGlnaHQueT0tZGlyZWN0aW9uVG9MaWdodC55OwojaWZuZGVmIFNIQURPV0ZMT0FUCmZsb2F0IHNoYWRvd01hcFNhbXBsZT11bnBhY2sodGV4dHVyZUN1YmUoc2hhZG93U2FtcGxlcixkaXJlY3Rpb25Ub0xpZ2h0KSk7CiNlbHNlCmZsb2F0IHNoYWRvd01hcFNhbXBsZT10ZXh0dXJlQ3ViZShzaGFkb3dTYW1wbGVyLGRpcmVjdGlvblRvTGlnaHQpLng7CiNlbmRpZgpmbG9hdCBlc209Y2xhbXAoZXhwKG1pbig4Ny4sLWRlcHRoU2NhbGUqKHNoYWRvd1BpeGVsRGVwdGgtc2hhZG93TWFwU2FtcGxlKSkpLGRhcmtuZXNzLDEuKTsKcmV0dXJuIGVzbTsKfQojaWYgZGVmaW5lZChXRUJHTDIpIHx8IGRlZmluZWQoV0VCR1BVKQojZGVmaW5lIGlubGluZQpmbG9hdCBjb21wdXRlU2hhZG93Q1NNKGZsb2F0IGxheWVyLHZlYzQgdlBvc2l0aW9uRnJvbUxpZ2h0LGZsb2F0IGRlcHRoTWV0cmljLGhpZ2hwIHNhbXBsZXIyREFycmF5IHNoYWRvd1NhbXBsZXIsZmxvYXQgZGFya25lc3MsZmxvYXQgZnJ1c3R1bUVkZ2VGYWxsb2ZmKQp7CnZlYzMgY2xpcFNwYWNlPXZQb3NpdGlvbkZyb21MaWdodC54eXovdlBvc2l0aW9uRnJvbUxpZ2h0Lnc7CnZlYzIgdXY9MC41KmNsaXBTcGFjZS54eSt2ZWMyKDAuNSk7CnZlYzMgdXZMYXllcj12ZWMzKHV2LngsdXYueSxsYXllcik7CmZsb2F0IHNoYWRvd1BpeGVsRGVwdGg9Y2xhbXAoZGVwdGhNZXRyaWMsMC4sMS4wKTsKI2lmbmRlZiBTSEFET1dGTE9BVApmbG9hdCBzaGFkb3c9dW5wYWNrKHRleHR1cmUyRChzaGFkb3dTYW1wbGVyLHV2TGF5ZXIpKTsKI2Vsc2UKZmxvYXQgc2hhZG93PXRleHR1cmUyRChzaGFkb3dTYW1wbGVyLHV2TGF5ZXIpLng7CiNlbmRpZgpyZXR1cm4gc2hhZG93UGl4ZWxEZXB0aD5zaGFkb3cgPyBjb21wdXRlRmFsbE9mZihkYXJrbmVzcyxjbGlwU3BhY2UueHksZnJ1c3R1bUVkZ2VGYWxsb2ZmKSA6IDEuOwp9CiNlbmRpZgojZGVmaW5lIGlubGluZQpmbG9hdCBjb21wdXRlU2hhZG93KHZlYzQgdlBvc2l0aW9uRnJvbUxpZ2h0LGZsb2F0IGRlcHRoTWV0cmljLHNhbXBsZXIyRCBzaGFkb3dTYW1wbGVyLGZsb2F0IGRhcmtuZXNzLGZsb2F0IGZydXN0dW1FZGdlRmFsbG9mZikKewp2ZWMzIGNsaXBTcGFjZT12UG9zaXRpb25Gcm9tTGlnaHQueHl6L3ZQb3NpdGlvbkZyb21MaWdodC53Owp2ZWMyIHV2PTAuNSpjbGlwU3BhY2UueHkrdmVjMigwLjUpOwppZiAodXYueDwwLiB8fCB1di54PjEuMCB8fCB1di55PDAuIHx8IHV2Lnk+MS4wKQp7CnJldHVybiAxLjA7Cn0KZWxzZQp7CmZsb2F0IHNoYWRvd1BpeGVsRGVwdGg9Y2xhbXAoZGVwdGhNZXRyaWMsMC4sMS4wKTsKI2lmbmRlZiBTSEFET1dGTE9BVApmbG9hdCBzaGFkb3c9dW5wYWNrKHRleHR1cmUyRChzaGFkb3dTYW1wbGVyLHV2KSk7CiNlbHNlCmZsb2F0IHNoYWRvdz10ZXh0dXJlMkQoc2hhZG93U2FtcGxlcix1dikueDsKI2VuZGlmCnJldHVybiBzaGFkb3dQaXhlbERlcHRoPnNoYWRvdyA/IGNvbXB1dGVGYWxsT2ZmKGRhcmtuZXNzLGNsaXBTcGFjZS54eSxmcnVzdHVtRWRnZUZhbGxvZmYpIDogMS47Cn0KfQojZGVmaW5lIGlubGluZQpmbG9hdCBjb21wdXRlU2hhZG93V2l0aFBvaXNzb25TYW1wbGluZyh2ZWM0IHZQb3NpdGlvbkZyb21MaWdodCxmbG9hdCBkZXB0aE1ldHJpYyxzYW1wbGVyMkQgc2hhZG93U2FtcGxlcixmbG9hdCBtYXBTaXplLGZsb2F0IGRhcmtuZXNzLGZsb2F0IGZydXN0dW1FZGdlRmFsbG9mZikKewp2ZWMzIGNsaXBTcGFjZT12UG9zaXRpb25Gcm9tTGlnaHQueHl6L3ZQb3NpdGlvbkZyb21MaWdodC53Owp2ZWMyIHV2PTAuNSpjbGlwU3BhY2UueHkrdmVjMigwLjUpOwppZiAodXYueDwwLiB8fCB1di54PjEuMCB8fCB1di55PDAuIHx8IHV2Lnk+MS4wKQp7CnJldHVybiAxLjA7Cn0KZWxzZQp7CmZsb2F0IHNoYWRvd1BpeGVsRGVwdGg9Y2xhbXAoZGVwdGhNZXRyaWMsMC4sMS4wKTsKZmxvYXQgdmlzaWJpbGl0eT0xLjsKdmVjMiBwb2lzc29uRGlza1s0XTsKcG9pc3NvbkRpc2tbMF09dmVjMigtMC45NDIwMTYyNCwtMC4zOTkwNjIxNik7CnBvaXNzb25EaXNrWzFdPXZlYzIoMC45NDU1ODYwOSwtMC43Njg5MDcyNSk7CnBvaXNzb25EaXNrWzJdPXZlYzIoLTAuMDk0MTg0MTAxLC0wLjkyOTM4ODcwKTsKcG9pc3NvbkRpc2tbM109dmVjMigwLjM0NDk1OTM4LDAuMjkzODc3NjApOwojaWZuZGVmIFNIQURPV0ZMT0FUCmlmICh1bnBhY2sodGV4dHVyZTJEKHNoYWRvd1NhbXBsZXIsdXYrcG9pc3NvbkRpc2tbMF0qbWFwU2l6ZSkpPHNoYWRvd1BpeGVsRGVwdGgpIHZpc2liaWxpdHktPTAuMjU7CmlmICh1bnBhY2sodGV4dHVyZTJEKHNoYWRvd1NhbXBsZXIsdXYrcG9pc3NvbkRpc2tbMV0qbWFwU2l6ZSkpPHNoYWRvd1BpeGVsRGVwdGgpIHZpc2liaWxpdHktPTAuMjU7CmlmICh1bnBhY2sodGV4dHVyZTJEKHNoYWRvd1NhbXBsZXIsdXYrcG9pc3NvbkRpc2tbMl0qbWFwU2l6ZSkpPHNoYWRvd1BpeGVsRGVwdGgpIHZpc2liaWxpdHktPTAuMjU7CmlmICh1bnBhY2sodGV4dHVyZTJEKHNoYWRvd1NhbXBsZXIsdXYrcG9pc3NvbkRpc2tbM10qbWFwU2l6ZSkpPHNoYWRvd1BpeGVsRGVwdGgpIHZpc2liaWxpdHktPTAuMjU7CiNlbHNlCmlmICh0ZXh0dXJlMkQoc2hhZG93U2FtcGxlcix1ditwb2lzc29uRGlza1swXSptYXBTaXplKS54PHNoYWRvd1BpeGVsRGVwdGgpIHZpc2liaWxpdHktPTAuMjU7CmlmICh0ZXh0dXJlMkQoc2hhZG93U2FtcGxlcix1ditwb2lzc29uRGlza1sxXSptYXBTaXplKS54PHNoYWRvd1BpeGVsRGVwdGgpIHZpc2liaWxpdHktPTAuMjU7CmlmICh0ZXh0dXJlMkQoc2hhZG93U2FtcGxlcix1ditwb2lzc29uRGlza1syXSptYXBTaXplKS54PHNoYWRvd1BpeGVsRGVwdGgpIHZpc2liaWxpdHktPTAuMjU7CmlmICh0ZXh0dXJlMkQoc2hhZG93U2FtcGxlcix1ditwb2lzc29uRGlza1szXSptYXBTaXplKS54PHNoYWRvd1BpeGVsRGVwdGgpIHZpc2liaWxpdHktPTAuMjU7CiNlbmRpZgpyZXR1cm4gY29tcHV0ZUZhbGxPZmYobWluKDEuMCx2aXNpYmlsaXR5K2RhcmtuZXNzKSxjbGlwU3BhY2UueHksZnJ1c3R1bUVkZ2VGYWxsb2ZmKTsKfQp9CiNkZWZpbmUgaW5saW5lCmZsb2F0IGNvbXB1dGVTaGFkb3dXaXRoRVNNKHZlYzQgdlBvc2l0aW9uRnJvbUxpZ2h0LGZsb2F0IGRlcHRoTWV0cmljLHNhbXBsZXIyRCBzaGFkb3dTYW1wbGVyLGZsb2F0IGRhcmtuZXNzLGZsb2F0IGRlcHRoU2NhbGUsZmxvYXQgZnJ1c3R1bUVkZ2VGYWxsb2ZmKQp7CnZlYzMgY2xpcFNwYWNlPXZQb3NpdGlvbkZyb21MaWdodC54eXovdlBvc2l0aW9uRnJvbUxpZ2h0Lnc7CnZlYzIgdXY9MC41KmNsaXBTcGFjZS54eSt2ZWMyKDAuNSk7CmlmICh1di54PDAuIHx8IHV2Lng+MS4wIHx8IHV2Lnk8MC4gfHwgdXYueT4xLjApCnsKcmV0dXJuIDEuMDsKfQplbHNlCnsKZmxvYXQgc2hhZG93UGl4ZWxEZXB0aD1jbGFtcChkZXB0aE1ldHJpYywwLiwxLjApOwojaWZuZGVmIFNIQURPV0ZMT0FUCmZsb2F0IHNoYWRvd01hcFNhbXBsZT11bnBhY2sodGV4dHVyZTJEKHNoYWRvd1NhbXBsZXIsdXYpKTsKI2Vsc2UKZmxvYXQgc2hhZG93TWFwU2FtcGxlPXRleHR1cmUyRChzaGFkb3dTYW1wbGVyLHV2KS54OwojZW5kaWYKZmxvYXQgZXNtPTEuMC1jbGFtcChleHAobWluKDg3LixkZXB0aFNjYWxlKnNoYWRvd1BpeGVsRGVwdGgpKSpzaGFkb3dNYXBTYW1wbGUsMC4sMS4tZGFya25lc3MpOwpyZXR1cm4gY29tcHV0ZUZhbGxPZmYoZXNtLGNsaXBTcGFjZS54eSxmcnVzdHVtRWRnZUZhbGxvZmYpOwp9Cn0KI2RlZmluZSBpbmxpbmUKZmxvYXQgY29tcHV0ZVNoYWRvd1dpdGhDbG9zZUVTTSh2ZWM0IHZQb3NpdGlvbkZyb21MaWdodCxmbG9hdCBkZXB0aE1ldHJpYyxzYW1wbGVyMkQgc2hhZG93U2FtcGxlcixmbG9hdCBkYXJrbmVzcyxmbG9hdCBkZXB0aFNjYWxlLGZsb2F0IGZydXN0dW1FZGdlRmFsbG9mZikKewp2ZWMzIGNsaXBTcGFjZT12UG9zaXRpb25Gcm9tTGlnaHQueHl6L3ZQb3NpdGlvbkZyb21MaWdodC53Owp2ZWMyIHV2PTAuNSpjbGlwU3BhY2UueHkrdmVjMigwLjUpOwppZiAodXYueDwwLiB8fCB1di54PjEuMCB8fCB1di55PDAuIHx8IHV2Lnk+MS4wKQp7CnJldHVybiAxLjA7Cn0KZWxzZQp7CmZsb2F0IHNoYWRvd1BpeGVsRGVwdGg9Y2xhbXAoZGVwdGhNZXRyaWMsMC4sMS4wKTsgCiNpZm5kZWYgU0hBRE9XRkxPQVQKZmxvYXQgc2hhZG93TWFwU2FtcGxlPXVucGFjayh0ZXh0dXJlMkQoc2hhZG93U2FtcGxlcix1dikpOwojZWxzZQpmbG9hdCBzaGFkb3dNYXBTYW1wbGU9dGV4dHVyZTJEKHNoYWRvd1NhbXBsZXIsdXYpLng7CiNlbmRpZgpmbG9hdCBlc209Y2xhbXAoZXhwKG1pbig4Ny4sLWRlcHRoU2NhbGUqKHNoYWRvd1BpeGVsRGVwdGgtc2hhZG93TWFwU2FtcGxlKSkpLGRhcmtuZXNzLDEuKTsKcmV0dXJuIGNvbXB1dGVGYWxsT2ZmKGVzbSxjbGlwU3BhY2UueHksZnJ1c3R1bUVkZ2VGYWxsb2ZmKTsKfQp9CiNpZmRlZiBJU19ORENfSEFMRl9aUkFOR0UKI2RlZmluZSBaSU5DTElQIGNsaXBTcGFjZS56CiNlbHNlCiNkZWZpbmUgWklOQ0xJUCB1dkRlcHRoLnoKI2VuZGlmCiNpZiBkZWZpbmVkKFdFQkdMMikgfHwgZGVmaW5lZChXRUJHUFUpCiNkZWZpbmUgR1JFQVRFU1RfTEVTU19USEFOX09ORSAwLjk5OTk5OTk0CiNkZWZpbmUgaW5saW5lCmZsb2F0IGNvbXB1dGVTaGFkb3dXaXRoQ1NNUENGMShmbG9hdCBsYXllcix2ZWM0IHZQb3NpdGlvbkZyb21MaWdodCxmbG9hdCBkZXB0aE1ldHJpYyxoaWdocCBzYW1wbGVyMkRBcnJheVNoYWRvdyBzaGFkb3dTYW1wbGVyLGZsb2F0IGRhcmtuZXNzLGZsb2F0IGZydXN0dW1FZGdlRmFsbG9mZikKewp2ZWMzIGNsaXBTcGFjZT12UG9zaXRpb25Gcm9tTGlnaHQueHl6L3ZQb3NpdGlvbkZyb21MaWdodC53Owp2ZWMzIHV2RGVwdGg9dmVjMygwLjUqY2xpcFNwYWNlLnh5eit2ZWMzKDAuNSkpOwp1dkRlcHRoLno9Y2xhbXAoWklOQ0xJUCwwLixHUkVBVEVTVF9MRVNTX1RIQU5fT05FKTsKdmVjNCB1dkRlcHRoTGF5ZXI9dmVjNCh1dkRlcHRoLngsdXZEZXB0aC55LGxheWVyLHV2RGVwdGgueik7CmZsb2F0IHNoYWRvdz10ZXh0dXJlMkQoc2hhZG93U2FtcGxlcix1dkRlcHRoTGF5ZXIpOwpzaGFkb3c9bWl4KGRhcmtuZXNzLDEuLHNoYWRvdyk7CnJldHVybiBjb21wdXRlRmFsbE9mZihzaGFkb3csY2xpcFNwYWNlLnh5LGZydXN0dW1FZGdlRmFsbG9mZik7Cn0KI2RlZmluZSBpbmxpbmUKZmxvYXQgY29tcHV0ZVNoYWRvd1dpdGhDU01QQ0YzKGZsb2F0IGxheWVyLHZlYzQgdlBvc2l0aW9uRnJvbUxpZ2h0LGZsb2F0IGRlcHRoTWV0cmljLGhpZ2hwIHNhbXBsZXIyREFycmF5U2hhZG93IHNoYWRvd1NhbXBsZXIsdmVjMiBzaGFkb3dNYXBTaXplQW5kSW52ZXJzZSxmbG9hdCBkYXJrbmVzcyxmbG9hdCBmcnVzdHVtRWRnZUZhbGxvZmYpCnsKdmVjMyBjbGlwU3BhY2U9dlBvc2l0aW9uRnJvbUxpZ2h0Lnh5ei92UG9zaXRpb25Gcm9tTGlnaHQudzsKdmVjMyB1dkRlcHRoPXZlYzMoMC41KmNsaXBTcGFjZS54eXordmVjMygwLjUpKTsKdXZEZXB0aC56PWNsYW1wKFpJTkNMSVAsMC4sR1JFQVRFU1RfTEVTU19USEFOX09ORSk7CnZlYzIgdXY9dXZEZXB0aC54eSpzaGFkb3dNYXBTaXplQW5kSW52ZXJzZS54OyAKdXYrPTAuNTsgCnZlYzIgc3Q9ZnJhY3QodXYpOyAKdmVjMiBiYXNlX3V2PWZsb29yKHV2KS0wLjU7IApiYXNlX3V2Kj1zaGFkb3dNYXBTaXplQW5kSW52ZXJzZS55OyAKdmVjMiB1dncwPTMuLTIuKnN0Owp2ZWMyIHV2dzE9MS4rMi4qc3Q7CnZlYzIgdT12ZWMyKCgyLi1zdC54KS91dncwLngtMS4sc3QueC91dncxLngrMS4pKnNoYWRvd01hcFNpemVBbmRJbnZlcnNlLnk7CnZlYzIgdj12ZWMyKCgyLi1zdC55KS91dncwLnktMS4sc3QueS91dncxLnkrMS4pKnNoYWRvd01hcFNpemVBbmRJbnZlcnNlLnk7CmZsb2F0IHNoYWRvdz0wLjsKc2hhZG93Kz11dncwLngqdXZ3MC55KnRleHR1cmUyRChzaGFkb3dTYW1wbGVyLHZlYzQoYmFzZV91di54eSt2ZWMyKHVbMF0sdlswXSksbGF5ZXIsdXZEZXB0aC56KSk7CnNoYWRvdys9dXZ3MS54KnV2dzAueSp0ZXh0dXJlMkQoc2hhZG93U2FtcGxlcix2ZWM0KGJhc2VfdXYueHkrdmVjMih1WzFdLHZbMF0pLGxheWVyLHV2RGVwdGgueikpOwpzaGFkb3crPXV2dzAueCp1dncxLnkqdGV4dHVyZTJEKHNoYWRvd1NhbXBsZXIsdmVjNChiYXNlX3V2Lnh5K3ZlYzIodVswXSx2WzFdKSxsYXllcix1dkRlcHRoLnopKTsKc2hhZG93Kz11dncxLngqdXZ3MS55KnRleHR1cmUyRChzaGFkb3dTYW1wbGVyLHZlYzQoYmFzZV91di54eSt2ZWMyKHVbMV0sdlsxXSksbGF5ZXIsdXZEZXB0aC56KSk7CnNoYWRvdz1zaGFkb3cvMTYuOwpzaGFkb3c9bWl4KGRhcmtuZXNzLDEuLHNoYWRvdyk7CnJldHVybiBjb21wdXRlRmFsbE9mZihzaGFkb3csY2xpcFNwYWNlLnh5LGZydXN0dW1FZGdlRmFsbG9mZik7Cn0KI2RlZmluZSBpbmxpbmUKZmxvYXQgY29tcHV0ZVNoYWRvd1dpdGhDU01QQ0Y1KGZsb2F0IGxheWVyLHZlYzQgdlBvc2l0aW9uRnJvbUxpZ2h0LGZsb2F0IGRlcHRoTWV0cmljLGhpZ2hwIHNhbXBsZXIyREFycmF5U2hhZG93IHNoYWRvd1NhbXBsZXIsdmVjMiBzaGFkb3dNYXBTaXplQW5kSW52ZXJzZSxmbG9hdCBkYXJrbmVzcyxmbG9hdCBmcnVzdHVtRWRnZUZhbGxvZmYpCnsKdmVjMyBjbGlwU3BhY2U9dlBvc2l0aW9uRnJvbUxpZ2h0Lnh5ei92UG9zaXRpb25Gcm9tTGlnaHQudzsKdmVjMyB1dkRlcHRoPXZlYzMoMC41KmNsaXBTcGFjZS54eXordmVjMygwLjUpKTsKdXZEZXB0aC56PWNsYW1wKFpJTkNMSVAsMC4sR1JFQVRFU1RfTEVTU19USEFOX09ORSk7CnZlYzIgdXY9dXZEZXB0aC54eSpzaGFkb3dNYXBTaXplQW5kSW52ZXJzZS54OyAKdXYrPTAuNTsgCnZlYzIgc3Q9ZnJhY3QodXYpOyAKdmVjMiBiYXNlX3V2PWZsb29yKHV2KS0wLjU7IApiYXNlX3V2Kj1zaGFkb3dNYXBTaXplQW5kSW52ZXJzZS55OyAKdmVjMiB1dncwPTQuLTMuKnN0Owp2ZWMyIHV2dzE9dmVjMig3Lik7CnZlYzIgdXZ3Mj0xLiszLipzdDsKdmVjMyB1PXZlYzMoKDMuLTIuKnN0LngpL3V2dzAueC0yLiwoMy4rc3QueCkvdXZ3MS54LHN0LngvdXZ3Mi54KzIuKSpzaGFkb3dNYXBTaXplQW5kSW52ZXJzZS55Owp2ZWMzIHY9dmVjMygoMy4tMi4qc3QueSkvdXZ3MC55LTIuLCgzLitzdC55KS91dncxLnksc3QueS91dncyLnkrMi4pKnNoYWRvd01hcFNpemVBbmRJbnZlcnNlLnk7CmZsb2F0IHNoYWRvdz0wLjsKc2hhZG93Kz11dncwLngqdXZ3MC55KnRleHR1cmUyRChzaGFkb3dTYW1wbGVyLHZlYzQoYmFzZV91di54eSt2ZWMyKHVbMF0sdlswXSksbGF5ZXIsdXZEZXB0aC56KSk7CnNoYWRvdys9dXZ3MS54KnV2dzAueSp0ZXh0dXJlMkQoc2hhZG93U2FtcGxlcix2ZWM0KGJhc2VfdXYueHkrdmVjMih1WzFdLHZbMF0pLGxheWVyLHV2RGVwdGgueikpOwpzaGFkb3crPXV2dzIueCp1dncwLnkqdGV4dHVyZTJEKHNoYWRvd1NhbXBsZXIsdmVjNChiYXNlX3V2Lnh5K3ZlYzIodVsyXSx2WzBdKSxsYXllcix1dkRlcHRoLnopKTsKc2hhZG93Kz11dncwLngqdXZ3MS55KnRleHR1cmUyRChzaGFkb3dTYW1wbGVyLHZlYzQoYmFzZV91di54eSt2ZWMyKHVbMF0sdlsxXSksbGF5ZXIsdXZEZXB0aC56KSk7CnNoYWRvdys9dXZ3MS54KnV2dzEueSp0ZXh0dXJlMkQoc2hhZG93U2FtcGxlcix2ZWM0KGJhc2VfdXYueHkrdmVjMih1WzFdLHZbMV0pLGxheWVyLHV2RGVwdGgueikpOwpzaGFkb3crPXV2dzIueCp1dncxLnkqdGV4dHVyZTJEKHNoYWRvd1NhbXBsZXIsdmVjNChiYXNlX3V2Lnh5K3ZlYzIodVsyXSx2WzFdKSxsYXllcix1dkRlcHRoLnopKTsKc2hhZG93Kz11dncwLngqdXZ3Mi55KnRleHR1cmUyRChzaGFkb3dTYW1wbGVyLHZlYzQoYmFzZV91di54eSt2ZWMyKHVbMF0sdlsyXSksbGF5ZXIsdXZEZXB0aC56KSk7CnNoYWRvdys9dXZ3MS54KnV2dzIueSp0ZXh0dXJlMkQoc2hhZG93U2FtcGxlcix2ZWM0KGJhc2VfdXYueHkrdmVjMih1WzFdLHZbMl0pLGxheWVyLHV2RGVwdGgueikpOwpzaGFkb3crPXV2dzIueCp1dncyLnkqdGV4dHVyZTJEKHNoYWRvd1NhbXBsZXIsdmVjNChiYXNlX3V2Lnh5K3ZlYzIodVsyXSx2WzJdKSxsYXllcix1dkRlcHRoLnopKTsKc2hhZG93PXNoYWRvdy8xNDQuOwpzaGFkb3c9bWl4KGRhcmtuZXNzLDEuLHNoYWRvdyk7CnJldHVybiBjb21wdXRlRmFsbE9mZihzaGFkb3csY2xpcFNwYWNlLnh5LGZydXN0dW1FZGdlRmFsbG9mZik7Cn0KI2RlZmluZSBpbmxpbmUKZmxvYXQgY29tcHV0ZVNoYWRvd1dpdGhQQ0YxKHZlYzQgdlBvc2l0aW9uRnJvbUxpZ2h0LGZsb2F0IGRlcHRoTWV0cmljLGhpZ2hwIHNhbXBsZXIyRFNoYWRvdyBzaGFkb3dTYW1wbGVyLGZsb2F0IGRhcmtuZXNzLGZsb2F0IGZydXN0dW1FZGdlRmFsbG9mZikKewppZiAoZGVwdGhNZXRyaWM+MS4wIHx8IGRlcHRoTWV0cmljPDAuMCkgewpyZXR1cm4gMS4wOwp9CmVsc2UKewp2ZWMzIGNsaXBTcGFjZT12UG9zaXRpb25Gcm9tTGlnaHQueHl6L3ZQb3NpdGlvbkZyb21MaWdodC53Owp2ZWMzIHV2RGVwdGg9dmVjMygwLjUqY2xpcFNwYWNlLnh5eit2ZWMzKDAuNSkpOwp1dkRlcHRoLno9WklOQ0xJUDsKZmxvYXQgc2hhZG93PXRleHR1cmUyRChzaGFkb3dTYW1wbGVyLHV2RGVwdGgpOwpzaGFkb3c9bWl4KGRhcmtuZXNzLDEuLHNoYWRvdyk7CnJldHVybiBjb21wdXRlRmFsbE9mZihzaGFkb3csY2xpcFNwYWNlLnh5LGZydXN0dW1FZGdlRmFsbG9mZik7Cn0KfQojZGVmaW5lIGlubGluZQpmbG9hdCBjb21wdXRlU2hhZG93V2l0aFBDRjModmVjNCB2UG9zaXRpb25Gcm9tTGlnaHQsZmxvYXQgZGVwdGhNZXRyaWMsaGlnaHAgc2FtcGxlcjJEU2hhZG93IHNoYWRvd1NhbXBsZXIsdmVjMiBzaGFkb3dNYXBTaXplQW5kSW52ZXJzZSxmbG9hdCBkYXJrbmVzcyxmbG9hdCBmcnVzdHVtRWRnZUZhbGxvZmYpCnsKaWYgKGRlcHRoTWV0cmljPjEuMCB8fCBkZXB0aE1ldHJpYzwwLjApIHsKcmV0dXJuIDEuMDsKfQplbHNlCnsKdmVjMyBjbGlwU3BhY2U9dlBvc2l0aW9uRnJvbUxpZ2h0Lnh5ei92UG9zaXRpb25Gcm9tTGlnaHQudzsKdmVjMyB1dkRlcHRoPXZlYzMoMC41KmNsaXBTcGFjZS54eXordmVjMygwLjUpKTsKdXZEZXB0aC56PVpJTkNMSVA7CnZlYzIgdXY9dXZEZXB0aC54eSpzaGFkb3dNYXBTaXplQW5kSW52ZXJzZS54OyAKdXYrPTAuNTsgCnZlYzIgc3Q9ZnJhY3QodXYpOyAKdmVjMiBiYXNlX3V2PWZsb29yKHV2KS0wLjU7IApiYXNlX3V2Kj1zaGFkb3dNYXBTaXplQW5kSW52ZXJzZS55OyAKdmVjMiB1dncwPTMuLTIuKnN0Owp2ZWMyIHV2dzE9MS4rMi4qc3Q7CnZlYzIgdT12ZWMyKCgyLi1zdC54KS91dncwLngtMS4sc3QueC91dncxLngrMS4pKnNoYWRvd01hcFNpemVBbmRJbnZlcnNlLnk7CnZlYzIgdj12ZWMyKCgyLi1zdC55KS91dncwLnktMS4sc3QueS91dncxLnkrMS4pKnNoYWRvd01hcFNpemVBbmRJbnZlcnNlLnk7CmZsb2F0IHNoYWRvdz0wLjsKc2hhZG93Kz11dncwLngqdXZ3MC55KnRleHR1cmUyRChzaGFkb3dTYW1wbGVyLHZlYzMoYmFzZV91di54eSt2ZWMyKHVbMF0sdlswXSksdXZEZXB0aC56KSk7CnNoYWRvdys9dXZ3MS54KnV2dzAueSp0ZXh0dXJlMkQoc2hhZG93U2FtcGxlcix2ZWMzKGJhc2VfdXYueHkrdmVjMih1WzFdLHZbMF0pLHV2RGVwdGgueikpOwpzaGFkb3crPXV2dzAueCp1dncxLnkqdGV4dHVyZTJEKHNoYWRvd1NhbXBsZXIsdmVjMyhiYXNlX3V2Lnh5K3ZlYzIodVswXSx2WzFdKSx1dkRlcHRoLnopKTsKc2hhZG93Kz11dncxLngqdXZ3MS55KnRleHR1cmUyRChzaGFkb3dTYW1wbGVyLHZlYzMoYmFzZV91di54eSt2ZWMyKHVbMV0sdlsxXSksdXZEZXB0aC56KSk7CnNoYWRvdz1zaGFkb3cvMTYuOwpzaGFkb3c9bWl4KGRhcmtuZXNzLDEuLHNoYWRvdyk7CnJldHVybiBjb21wdXRlRmFsbE9mZihzaGFkb3csY2xpcFNwYWNlLnh5LGZydXN0dW1FZGdlRmFsbG9mZik7Cn0KfQojZGVmaW5lIGlubGluZQpmbG9hdCBjb21wdXRlU2hhZG93V2l0aFBDRjUodmVjNCB2UG9zaXRpb25Gcm9tTGlnaHQsZmxvYXQgZGVwdGhNZXRyaWMsaGlnaHAgc2FtcGxlcjJEU2hhZG93IHNoYWRvd1NhbXBsZXIsdmVjMiBzaGFkb3dNYXBTaXplQW5kSW52ZXJzZSxmbG9hdCBkYXJrbmVzcyxmbG9hdCBmcnVzdHVtRWRnZUZhbGxvZmYpCnsKaWYgKGRlcHRoTWV0cmljPjEuMCB8fCBkZXB0aE1ldHJpYzwwLjApIHsKcmV0dXJuIDEuMDsKfQplbHNlCnsKdmVjMyBjbGlwU3BhY2U9dlBvc2l0aW9uRnJvbUxpZ2h0Lnh5ei92UG9zaXRpb25Gcm9tTGlnaHQudzsKdmVjMyB1dkRlcHRoPXZlYzMoMC41KmNsaXBTcGFjZS54eXordmVjMygwLjUpKTsKdXZEZXB0aC56PVpJTkNMSVA7CnZlYzIgdXY9dXZEZXB0aC54eSpzaGFkb3dNYXBTaXplQW5kSW52ZXJzZS54OyAKdXYrPTAuNTsgCnZlYzIgc3Q9ZnJhY3QodXYpOyAKdmVjMiBiYXNlX3V2PWZsb29yKHV2KS0wLjU7IApiYXNlX3V2Kj1zaGFkb3dNYXBTaXplQW5kSW52ZXJzZS55OyAKdmVjMiB1dncwPTQuLTMuKnN0Owp2ZWMyIHV2dzE9dmVjMig3Lik7CnZlYzIgdXZ3Mj0xLiszLipzdDsKdmVjMyB1PXZlYzMoKDMuLTIuKnN0LngpL3V2dzAueC0yLiwoMy4rc3QueCkvdXZ3MS54LHN0LngvdXZ3Mi54KzIuKSpzaGFkb3dNYXBTaXplQW5kSW52ZXJzZS55Owp2ZWMzIHY9dmVjMygoMy4tMi4qc3QueSkvdXZ3MC55LTIuLCgzLitzdC55KS91dncxLnksc3QueS91dncyLnkrMi4pKnNoYWRvd01hcFNpemVBbmRJbnZlcnNlLnk7CmZsb2F0IHNoYWRvdz0wLjsKc2hhZG93Kz11dncwLngqdXZ3MC55KnRleHR1cmUyRChzaGFkb3dTYW1wbGVyLHZlYzMoYmFzZV91di54eSt2ZWMyKHVbMF0sdlswXSksdXZEZXB0aC56KSk7CnNoYWRvdys9dXZ3MS54KnV2dzAueSp0ZXh0dXJlMkQoc2hhZG93U2FtcGxlcix2ZWMzKGJhc2VfdXYueHkrdmVjMih1WzFdLHZbMF0pLHV2RGVwdGgueikpOwpzaGFkb3crPXV2dzIueCp1dncwLnkqdGV4dHVyZTJEKHNoYWRvd1NhbXBsZXIsdmVjMyhiYXNlX3V2Lnh5K3ZlYzIodVsyXSx2WzBdKSx1dkRlcHRoLnopKTsKc2hhZG93Kz11dncwLngqdXZ3MS55KnRleHR1cmUyRChzaGFkb3dTYW1wbGVyLHZlYzMoYmFzZV91di54eSt2ZWMyKHVbMF0sdlsxXSksdXZEZXB0aC56KSk7CnNoYWRvdys9dXZ3MS54KnV2dzEueSp0ZXh0dXJlMkQoc2hhZG93U2FtcGxlcix2ZWMzKGJhc2VfdXYueHkrdmVjMih1WzFdLHZbMV0pLHV2RGVwdGgueikpOwpzaGFkb3crPXV2dzIueCp1dncxLnkqdGV4dHVyZTJEKHNoYWRvd1NhbXBsZXIsdmVjMyhiYXNlX3V2Lnh5K3ZlYzIodVsyXSx2WzFdKSx1dkRlcHRoLnopKTsKc2hhZG93Kz11dncwLngqdXZ3Mi55KnRleHR1cmUyRChzaGFkb3dTYW1wbGVyLHZlYzMoYmFzZV91di54eSt2ZWMyKHVbMF0sdlsyXSksdXZEZXB0aC56KSk7CnNoYWRvdys9dXZ3MS54KnV2dzIueSp0ZXh0dXJlMkQoc2hhZG93U2FtcGxlcix2ZWMzKGJhc2VfdXYueHkrdmVjMih1WzFdLHZbMl0pLHV2RGVwdGgueikpOwpzaGFkb3crPXV2dzIueCp1dncyLnkqdGV4dHVyZTJEKHNoYWRvd1NhbXBsZXIsdmVjMyhiYXNlX3V2Lnh5K3ZlYzIodVsyXSx2WzJdKSx1dkRlcHRoLnopKTsKc2hhZG93PXNoYWRvdy8xNDQuOwpzaGFkb3c9bWl4KGRhcmtuZXNzLDEuLHNoYWRvdyk7CnJldHVybiBjb21wdXRlRmFsbE9mZihzaGFkb3csY2xpcFNwYWNlLnh5LGZydXN0dW1FZGdlRmFsbG9mZik7Cn0KfQpjb25zdCB2ZWMzIFBvaXNzb25TYW1wbGVyczMyWzY0XT12ZWMzWzY0XSgKdmVjMygwLjA2NDA3MDEzLDAuMDU0MDk5MjcsMC4pLAp2ZWMzKDAuNzM2NjU3NywwLjU3ODkzOTQsMC4pLAp2ZWMzKC0wLjYyNzA1NDIsLTAuNTMyMDI3OCwwLiksCnZlYzMoLTAuNDA5NjEwNywwLjg0MTEwOTUsMC4pLAp2ZWMzKDAuNjg0OTU2NCwtMC40OTkwODE4LDAuKSwKdmVjMygtMC44NzQxODEsLTAuMDQ1Nzk3MzUsMC4pLAp2ZWMzKDAuOTk4OTk5OCwwLjAwMDk4ODAwNjYsMC4pLAp2ZWMzKC0wLjAwNDkyMDU3OCwtMC45MTUxNjQ5LDAuKSwKdmVjMygwLjE4MDU3NjMsMC45NzQ3NDgzLDAuKSwKdmVjMygtMC4yMTM4NDUxLDAuMjYzNTgxOCwwLiksCnZlYzMoMC4xMDk4NDUsMC4zODg0Nzg1LDAuKSwKdmVjMygwLjA2ODc2NzU1LC0wLjM1ODEwNzQsMC4pLAp2ZWMzKDAuMzc0MDczLC0wLjc2NjEyNjYsMC4pLAp2ZWMzKDAuMzA3OTEzMiwtMC4xMjE2NzYzLDAuKSwKdmVjMygtMC4zNzk0MzM1LC0wLjgyNzE1ODMsMC4pLAp2ZWMzKC0wLjIwMzg3OCwtMC4wNzcxNTAzNCwwLiksCnZlYzMoMC41OTEyNjk3LDAuMTQ2OTc5OSwwLiksCnZlYzMoLTAuODgwNjksMC4zMDMxNzg0LDAuKSwKdmVjMygwLjUwNDAxMDgsMC44MjgzNzIyLDAuKSwKdmVjMygtMC41ODQ0MTI0LDAuNTQ5NDg3NywwLiksCnZlYzMoMC42MDE3Nzk5LC0wLjE3MjY2NTQsMC4pLAp2ZWMzKC0wLjU1NTQ5ODEsMC4xNTU5OTk3LDAuKSwKdmVjMygtMC4zMDE2MzY5LC0wLjM5MDA5MjgsMC4pLAp2ZWMzKC0wLjU1NTA2MzIsLTAuMTcyMzc2MiwwLiksCnZlYzMoMC45MjUwMjksMC4yOTk1MDQxLDAuKSwKdmVjMygtMC4yNDczMTM3LDAuNTUzODUwNSwwLiksCnZlYzMoMC45MTgzMDM3LC0wLjI4NjIzOTIsMC4pLAp2ZWMzKDAuMjQ2OTQyMSwwLjY3MTg3MTIsMC4pLAp2ZWMzKDAuMzkxNjM5NywtMC40MzI4MjA5LDAuKSwKdmVjMygtMC4wMzU3NjkyNywtMC42MjIwMDMyLDAuKSwKdmVjMygtMC4wNDY2MTI1NSwwLjc5OTUyMDEsMC4pLAp2ZWMzKDAuNDQwMjkyNCwwLjM2NDAzMTIsMC4pLAp2ZWMzKDAuLDAuLDAuKSwKdmVjMygwLiwwLiwwLiksCnZlYzMoMC4sMC4sMC4pLAp2ZWMzKDAuLDAuLDAuKSwKdmVjMygwLiwwLiwwLiksCnZlYzMoMC4sMC4sMC4pLAp2ZWMzKDAuLDAuLDAuKSwKdmVjMygwLiwwLiwwLiksCnZlYzMoMC4sMC4sMC4pLAp2ZWMzKDAuLDAuLDAuKSwKdmVjMygwLiwwLiwwLiksCnZlYzMoMC4sMC4sMC4pLAp2ZWMzKDAuLDAuLDAuKSwKdmVjMygwLiwwLiwwLiksCnZlYzMoMC4sMC4sMC4pLAp2ZWMzKDAuLDAuLDAuKSwKdmVjMygwLiwwLiwwLiksCnZlYzMoMC4sMC4sMC4pLAp2ZWMzKDAuLDAuLDAuKSwKdmVjMygwLiwwLiwwLiksCnZlYzMoMC4sMC4sMC4pLAp2ZWMzKDAuLDAuLDAuKSwKdmVjMygwLiwwLiwwLiksCnZlYzMoMC4sMC4sMC4pLAp2ZWMzKDAuLDAuLDAuKSwKdmVjMygwLiwwLiwwLiksCnZlYzMoMC4sMC4sMC4pLAp2ZWMzKDAuLDAuLDAuKSwKdmVjMygwLiwwLiwwLiksCnZlYzMoMC4sMC4sMC4pLAp2ZWMzKDAuLDAuLDAuKSwKdmVjMygwLiwwLiwwLikKKTsKY29uc3QgdmVjMyBQb2lzc29uU2FtcGxlcnM2NFs2NF09dmVjM1s2NF0oCnZlYzMoLTAuNjEzMzkyLDAuNjE3NDgxLDAuKSwKdmVjMygwLjE3MDAxOSwtMC4wNDAyNTQsMC4pLAp2ZWMzKC0wLjI5OTQxNywwLjc5MTkyNSwwLiksCnZlYzMoMC42NDU2ODAsMC40OTMyMTAsMC4pLAp2ZWMzKC0wLjY1MTc4NCwwLjcxNzg4NywwLiksCnZlYzMoMC40MjEwMDMsMC4wMjcwNzAsMC4pLAp2ZWMzKC0wLjgxNzE5NCwtMC4yNzEwOTYsMC4pLAp2ZWMzKC0wLjcwNTM3NCwtMC42NjgyMDMsMC4pLAp2ZWMzKDAuOTc3MDUwLC0wLjEwODYxNSwwLiksCnZlYzMoMC4wNjMzMjYsMC4xNDIzNjksMC4pLAp2ZWMzKDAuMjAzNTI4LDAuMjE0MzMxLDAuKSwKdmVjMygtMC42Njc1MzEsMC4zMjYwOTAsMC4pLAp2ZWMzKC0wLjA5ODQyMiwtMC4yOTU3NTUsMC4pLAp2ZWMzKC0wLjg4NTkyMiwwLjIxNTM2OSwwLiksCnZlYzMoMC41NjY2MzcsMC42MDUyMTMsMC4pLAp2ZWMzKDAuMDM5NzY2LC0wLjM5NjEwMCwwLiksCnZlYzMoMC43NTE5NDYsMC40NTMzNTIsMC4pLAp2ZWMzKDAuMDc4NzA3LC0wLjcxNTMyMywwLiksCnZlYzMoLTAuMDc1ODM4LC0wLjUyOTM0NCwwLiksCnZlYzMoMC43MjQ0NzksLTAuNTgwNzk4LDAuKSwKdmVjMygwLjIyMjk5OSwtMC4yMTUxMjUsMC4pLAp2ZWMzKC0wLjQ2NzU3NCwtMC40MDU0MzgsMC4pLAp2ZWMzKC0wLjI0ODI2OCwtMC44MTQ3NTMsMC4pLAp2ZWMzKDAuMzU0NDExLC0wLjg4NzU3MCwwLiksCnZlYzMoMC4xNzU4MTcsMC4zODIzNjYsMC4pLAp2ZWMzKDAuNDg3NDcyLC0wLjA2MzA4MiwwLiksCnZlYzMoLTAuMDg0MDc4LDAuODk4MzEyLDAuKSwKdmVjMygwLjQ4ODg3NiwtMC43ODM0NDEsMC4pLAp2ZWMzKDAuNDcwMDE2LDAuMjE3OTMzLDAuKSwKdmVjMygtMC42OTY4OTAsLTAuNTQ5NzkxLDAuKSwKdmVjMygtMC4xNDk2OTMsMC42MDU3NjIsMC4pLAp2ZWMzKDAuMDM0MjExLDAuOTc5OTgwLDAuKSwKdmVjMygwLjUwMzA5OCwtMC4zMDg4NzgsMC4pLAp2ZWMzKC0wLjAxNjIwNSwtMC44NzI5MjEsMC4pLAp2ZWMzKDAuMzg1Nzg0LC0wLjM5MzkwMiwwLiksCnZlYzMoLTAuMTQ2ODg2LC0wLjg1OTI0OSwwLiksCnZlYzMoMC42NDMzNjEsMC4xNjQwOTgsMC4pLAp2ZWMzKDAuNjM0Mzg4LC0wLjA0OTQ3MSwwLiksCnZlYzMoLTAuNjg4ODk0LDAuMDA3ODQzLDAuKSwKdmVjMygwLjQ2NDAzNCwtMC4xODg4MTgsMC4pLAp2ZWMzKC0wLjQ0MDg0MCwwLjEzNzQ4NiwwLiksCnZlYzMoMC4zNjQ0ODMsMC41MTE3MDQsMC4pLAp2ZWMzKDAuMDM0MDI4LDAuMzI1OTY4LDAuKSwKdmVjMygwLjA5OTA5NCwtMC4zMDgwMjMsMC4pLAp2ZWMzKDAuNjkzOTYwLC0wLjM2NjI1MywwLiksCnZlYzMoMC42Nzg4ODQsLTAuMjA0Njg4LDAuKSwKdmVjMygwLjAwMTgwMSwwLjc4MDMyOCwwLiksCnZlYzMoMC4xNDUxNzcsLTAuODk4OTg0LDAuKSwKdmVjMygwLjA2MjY1NSwtMC42MTE4NjYsMC4pLAp2ZWMzKDAuMzE1MjI2LC0wLjYwNDI5NywwLiksCnZlYzMoLTAuNzgwMTQ1LDAuNDg2MjUxLDAuKSwKdmVjMygtMC4zNzE4NjgsMC44ODIxMzgsMC4pLAp2ZWMzKDAuMjAwNDc2LDAuNDk0NDMwLDAuKSwKdmVjMygtMC40OTQ1NTIsLTAuNzExMDUxLDAuKSwKdmVjMygwLjYxMjQ3NiwwLjcwNTI1MiwwLiksCnZlYzMoLTAuNTc4ODQ1LC0wLjc2ODc5MiwwLiksCnZlYzMoLTAuNzcyNDU0LC0wLjA5MDk3NiwwLiksCnZlYzMoMC41MDQ0NDAsMC4zNzIyOTUsMC4pLAp2ZWMzKDAuMTU1NzM2LDAuMDY1MTU3LDAuKSwKdmVjMygwLjM5MTUyMiwwLjg0OTYwNSwwLiksCnZlYzMoLTAuNjIwMTA2LC0wLjMyODEwNCwwLiksCnZlYzMoMC43ODkyMzksLTAuNDE5OTY1LDAuKSwKdmVjMygtMC41NDUzOTYsMC41MzgxMzMsMC4pLAp2ZWMzKC0wLjE3ODU2NCwtMC41OTYwNTcsMC4pCik7CiNkZWZpbmUgaW5saW5lCmZsb2F0IGNvbXB1dGVTaGFkb3dXaXRoQ1NNUENTUyhmbG9hdCBsYXllcix2ZWM0IHZQb3NpdGlvbkZyb21MaWdodCxmbG9hdCBkZXB0aE1ldHJpYyxoaWdocCBzYW1wbGVyMkRBcnJheSBkZXB0aFNhbXBsZXIsaGlnaHAgc2FtcGxlcjJEQXJyYXlTaGFkb3cgc2hhZG93U2FtcGxlcixmbG9hdCBzaGFkb3dNYXBTaXplSW52ZXJzZSxmbG9hdCBsaWdodFNpemVVVixmbG9hdCBkYXJrbmVzcyxmbG9hdCBmcnVzdHVtRWRnZUZhbGxvZmYsaW50IHNlYXJjaFRhcENvdW50LGludCBwY2ZUYXBDb3VudCx2ZWMzWzY0XSBwb2lzc29uU2FtcGxlcnMsdmVjMiBsaWdodFNpemVVVkNvcnJlY3Rpb24sZmxvYXQgZGVwdGhDb3JyZWN0aW9uLGZsb2F0IHBlbnVtYnJhRGFya25lc3MpCnsKdmVjMyBjbGlwU3BhY2U9dlBvc2l0aW9uRnJvbUxpZ2h0Lnh5ei92UG9zaXRpb25Gcm9tTGlnaHQudzsKdmVjMyB1dkRlcHRoPXZlYzMoMC41KmNsaXBTcGFjZS54eXordmVjMygwLjUpKTsKdXZEZXB0aC56PWNsYW1wKFpJTkNMSVAsMC4sR1JFQVRFU1RfTEVTU19USEFOX09ORSk7CnZlYzQgdXZEZXB0aExheWVyPXZlYzQodXZEZXB0aC54LHV2RGVwdGgueSxsYXllcix1dkRlcHRoLnopOwpmbG9hdCBibG9ja2VyRGVwdGg9MC4wOwpmbG9hdCBzdW1CbG9ja2VyRGVwdGg9MC4wOwpmbG9hdCBudW1CbG9ja2VyPTAuMDsKZm9yIChpbnQgaT0wOyBpPHNlYXJjaFRhcENvdW50OyBpICsrKSB7CmJsb2NrZXJEZXB0aD10ZXh0dXJlMkQoZGVwdGhTYW1wbGVyLHZlYzModXZEZXB0aC54eSsobGlnaHRTaXplVVYqbGlnaHRTaXplVVZDb3JyZWN0aW9uKnNoYWRvd01hcFNpemVJbnZlcnNlKlBvaXNzb25TYW1wbGVyczMyW2ldLnh5KSxsYXllcikpLnI7CmlmIChibG9ja2VyRGVwdGg8ZGVwdGhNZXRyaWMpIHsKc3VtQmxvY2tlckRlcHRoKz1ibG9ja2VyRGVwdGg7Cm51bUJsb2NrZXIrKzsKfQp9CmlmIChudW1CbG9ja2VyPDEuMCkgewpyZXR1cm4gMS4wOwp9CmVsc2UKewpmbG9hdCBhdmdCbG9ja2VyRGVwdGg9c3VtQmxvY2tlckRlcHRoL251bUJsb2NrZXI7CmZsb2F0IEFBT2Zmc2V0PXNoYWRvd01hcFNpemVJbnZlcnNlKjEwLjsKZmxvYXQgcGVudW1icmFSYXRpbz0oKGRlcHRoTWV0cmljLWF2Z0Jsb2NrZXJEZXB0aCkqZGVwdGhDb3JyZWN0aW9uK0FBT2Zmc2V0KTsKdmVjNCBmaWx0ZXJSYWRpdXM9dmVjNChwZW51bWJyYVJhdGlvKmxpZ2h0U2l6ZVVWKmxpZ2h0U2l6ZVVWQ29ycmVjdGlvbipzaGFkb3dNYXBTaXplSW52ZXJzZSwwLiwwLik7CmZsb2F0IHJhbmRvbT1nZXRSYW5kKHZQb3NpdGlvbkZyb21MaWdodC54eSk7CmZsb2F0IHJvdGF0aW9uQW5nbGU9cmFuZG9tKjMuMTQxNTkyNjsKdmVjMiByb3RhdGlvblZlY3Rvcj12ZWMyKGNvcyhyb3RhdGlvbkFuZ2xlKSxzaW4ocm90YXRpb25BbmdsZSkpOwpmbG9hdCBzaGFkb3c9MC47CmZvciAoaW50IGk9MDsgaTxwY2ZUYXBDb3VudDsgaSsrKSB7CnZlYzQgb2Zmc2V0PXZlYzQocG9pc3NvblNhbXBsZXJzW2ldLDAuKTsKb2Zmc2V0PXZlYzQob2Zmc2V0Lngqcm90YXRpb25WZWN0b3IueC1vZmZzZXQueSpyb3RhdGlvblZlY3Rvci55LG9mZnNldC55KnJvdGF0aW9uVmVjdG9yLngrb2Zmc2V0Lngqcm90YXRpb25WZWN0b3IueSwwLiwwLik7CnNoYWRvdys9dGV4dHVyZTJEKHNoYWRvd1NhbXBsZXIsdXZEZXB0aExheWVyK29mZnNldCpmaWx0ZXJSYWRpdXMpOwp9CnNoYWRvdy89ZmxvYXQocGNmVGFwQ291bnQpOwpzaGFkb3c9bWl4KHNoYWRvdywxLixtaW4oKGRlcHRoTWV0cmljLWF2Z0Jsb2NrZXJEZXB0aCkqZGVwdGhDb3JyZWN0aW9uKnBlbnVtYnJhRGFya25lc3MsMS4pKTsKc2hhZG93PW1peChkYXJrbmVzcywxLixzaGFkb3cpOwpyZXR1cm4gY29tcHV0ZUZhbGxPZmYoc2hhZG93LGNsaXBTcGFjZS54eSxmcnVzdHVtRWRnZUZhbGxvZmYpOwp9Cn0KI2RlZmluZSBpbmxpbmUKZmxvYXQgY29tcHV0ZVNoYWRvd1dpdGhQQ1NTKHZlYzQgdlBvc2l0aW9uRnJvbUxpZ2h0LGZsb2F0IGRlcHRoTWV0cmljLHNhbXBsZXIyRCBkZXB0aFNhbXBsZXIsaGlnaHAgc2FtcGxlcjJEU2hhZG93IHNoYWRvd1NhbXBsZXIsZmxvYXQgc2hhZG93TWFwU2l6ZUludmVyc2UsZmxvYXQgbGlnaHRTaXplVVYsZmxvYXQgZGFya25lc3MsZmxvYXQgZnJ1c3R1bUVkZ2VGYWxsb2ZmLGludCBzZWFyY2hUYXBDb3VudCxpbnQgcGNmVGFwQ291bnQsdmVjM1s2NF0gcG9pc3NvblNhbXBsZXJzKQp7CmlmIChkZXB0aE1ldHJpYz4xLjAgfHwgZGVwdGhNZXRyaWM8MC4wKSB7CnJldHVybiAxLjA7Cn0KZWxzZQp7CnZlYzMgY2xpcFNwYWNlPXZQb3NpdGlvbkZyb21MaWdodC54eXovdlBvc2l0aW9uRnJvbUxpZ2h0Lnc7CnZlYzMgdXZEZXB0aD12ZWMzKDAuNSpjbGlwU3BhY2UueHl6K3ZlYzMoMC41KSk7CnV2RGVwdGguej1aSU5DTElQOwpmbG9hdCBibG9ja2VyRGVwdGg9MC4wOwpmbG9hdCBzdW1CbG9ja2VyRGVwdGg9MC4wOwpmbG9hdCBudW1CbG9ja2VyPTAuMDsKZm9yIChpbnQgaT0wOyBpPHNlYXJjaFRhcENvdW50OyBpICsrKSB7CmJsb2NrZXJEZXB0aD10ZXh0dXJlMkQoZGVwdGhTYW1wbGVyLHV2RGVwdGgueHkrKGxpZ2h0U2l6ZVVWKnNoYWRvd01hcFNpemVJbnZlcnNlKlBvaXNzb25TYW1wbGVyczMyW2ldLnh5KSkucjsKaWYgKGJsb2NrZXJEZXB0aDxkZXB0aE1ldHJpYykgewpzdW1CbG9ja2VyRGVwdGgrPWJsb2NrZXJEZXB0aDsKbnVtQmxvY2tlcisrOwp9Cn0KaWYgKG51bUJsb2NrZXI8MS4wKSB7CnJldHVybiAxLjA7Cn0KZWxzZQp7CmZsb2F0IGF2Z0Jsb2NrZXJEZXB0aD1zdW1CbG9ja2VyRGVwdGgvbnVtQmxvY2tlcjsKZmxvYXQgQUFPZmZzZXQ9c2hhZG93TWFwU2l6ZUludmVyc2UqMTAuOwpmbG9hdCBwZW51bWJyYVJhdGlvPSgoZGVwdGhNZXRyaWMtYXZnQmxvY2tlckRlcHRoKStBQU9mZnNldCk7CmZsb2F0IGZpbHRlclJhZGl1cz1wZW51bWJyYVJhdGlvKmxpZ2h0U2l6ZVVWKnNoYWRvd01hcFNpemVJbnZlcnNlOwpmbG9hdCByYW5kb209Z2V0UmFuZCh2UG9zaXRpb25Gcm9tTGlnaHQueHkpOwpmbG9hdCByb3RhdGlvbkFuZ2xlPXJhbmRvbSozLjE0MTU5MjY7CnZlYzIgcm90YXRpb25WZWN0b3I9dmVjMihjb3Mocm90YXRpb25BbmdsZSksc2luKHJvdGF0aW9uQW5nbGUpKTsKZmxvYXQgc2hhZG93PTAuOwpmb3IgKGludCBpPTA7IGk8cGNmVGFwQ291bnQ7IGkrKykgewp2ZWMzIG9mZnNldD1wb2lzc29uU2FtcGxlcnNbaV07Cm9mZnNldD12ZWMzKG9mZnNldC54KnJvdGF0aW9uVmVjdG9yLngtb2Zmc2V0Lnkqcm90YXRpb25WZWN0b3IueSxvZmZzZXQueSpyb3RhdGlvblZlY3Rvci54K29mZnNldC54KnJvdGF0aW9uVmVjdG9yLnksMC4pOwpzaGFkb3crPXRleHR1cmUyRChzaGFkb3dTYW1wbGVyLHV2RGVwdGgrb2Zmc2V0KmZpbHRlclJhZGl1cyk7Cn0Kc2hhZG93Lz1mbG9hdChwY2ZUYXBDb3VudCk7CnNoYWRvdz1taXgoc2hhZG93LDEuLGRlcHRoTWV0cmljLWF2Z0Jsb2NrZXJEZXB0aCk7CnNoYWRvdz1taXgoZGFya25lc3MsMS4sc2hhZG93KTsKcmV0dXJuIGNvbXB1dGVGYWxsT2ZmKHNoYWRvdyxjbGlwU3BhY2UueHksZnJ1c3R1bUVkZ2VGYWxsb2ZmKTsKfQp9Cn0KI2RlZmluZSBpbmxpbmUKZmxvYXQgY29tcHV0ZVNoYWRvd1dpdGhQQ1NTMTYodmVjNCB2UG9zaXRpb25Gcm9tTGlnaHQsZmxvYXQgZGVwdGhNZXRyaWMsc2FtcGxlcjJEIGRlcHRoU2FtcGxlcixoaWdocCBzYW1wbGVyMkRTaGFkb3cgc2hhZG93U2FtcGxlcixmbG9hdCBzaGFkb3dNYXBTaXplSW52ZXJzZSxmbG9hdCBsaWdodFNpemVVVixmbG9hdCBkYXJrbmVzcyxmbG9hdCBmcnVzdHVtRWRnZUZhbGxvZmYpCnsKcmV0dXJuIGNvbXB1dGVTaGFkb3dXaXRoUENTUyh2UG9zaXRpb25Gcm9tTGlnaHQsZGVwdGhNZXRyaWMsZGVwdGhTYW1wbGVyLHNoYWRvd1NhbXBsZXIsc2hhZG93TWFwU2l6ZUludmVyc2UsbGlnaHRTaXplVVYsZGFya25lc3MsZnJ1c3R1bUVkZ2VGYWxsb2ZmLDE2LDE2LFBvaXNzb25TYW1wbGVyczMyKTsKfQojZGVmaW5lIGlubGluZQpmbG9hdCBjb21wdXRlU2hhZG93V2l0aFBDU1MzMih2ZWM0IHZQb3NpdGlvbkZyb21MaWdodCxmbG9hdCBkZXB0aE1ldHJpYyxzYW1wbGVyMkQgZGVwdGhTYW1wbGVyLGhpZ2hwIHNhbXBsZXIyRFNoYWRvdyBzaGFkb3dTYW1wbGVyLGZsb2F0IHNoYWRvd01hcFNpemVJbnZlcnNlLGZsb2F0IGxpZ2h0U2l6ZVVWLGZsb2F0IGRhcmtuZXNzLGZsb2F0IGZydXN0dW1FZGdlRmFsbG9mZikKewpyZXR1cm4gY29tcHV0ZVNoYWRvd1dpdGhQQ1NTKHZQb3NpdGlvbkZyb21MaWdodCxkZXB0aE1ldHJpYyxkZXB0aFNhbXBsZXIsc2hhZG93U2FtcGxlcixzaGFkb3dNYXBTaXplSW52ZXJzZSxsaWdodFNpemVVVixkYXJrbmVzcyxmcnVzdHVtRWRnZUZhbGxvZmYsMTYsMzIsUG9pc3NvblNhbXBsZXJzMzIpOwp9CiNkZWZpbmUgaW5saW5lCmZsb2F0IGNvbXB1dGVTaGFkb3dXaXRoUENTUzY0KHZlYzQgdlBvc2l0aW9uRnJvbUxpZ2h0LGZsb2F0IGRlcHRoTWV0cmljLHNhbXBsZXIyRCBkZXB0aFNhbXBsZXIsaGlnaHAgc2FtcGxlcjJEU2hhZG93IHNoYWRvd1NhbXBsZXIsZmxvYXQgc2hhZG93TWFwU2l6ZUludmVyc2UsZmxvYXQgbGlnaHRTaXplVVYsZmxvYXQgZGFya25lc3MsZmxvYXQgZnJ1c3R1bUVkZ2VGYWxsb2ZmKQp7CnJldHVybiBjb21wdXRlU2hhZG93V2l0aFBDU1ModlBvc2l0aW9uRnJvbUxpZ2h0LGRlcHRoTWV0cmljLGRlcHRoU2FtcGxlcixzaGFkb3dTYW1wbGVyLHNoYWRvd01hcFNpemVJbnZlcnNlLGxpZ2h0U2l6ZVVWLGRhcmtuZXNzLGZydXN0dW1FZGdlRmFsbG9mZiwzMiw2NCxQb2lzc29uU2FtcGxlcnM2NCk7Cn0KI2RlZmluZSBpbmxpbmUKZmxvYXQgY29tcHV0ZVNoYWRvd1dpdGhDU01QQ1NTMTYoZmxvYXQgbGF5ZXIsdmVjNCB2UG9zaXRpb25Gcm9tTGlnaHQsZmxvYXQgZGVwdGhNZXRyaWMsaGlnaHAgc2FtcGxlcjJEQXJyYXkgZGVwdGhTYW1wbGVyLGhpZ2hwIHNhbXBsZXIyREFycmF5U2hhZG93IHNoYWRvd1NhbXBsZXIsZmxvYXQgc2hhZG93TWFwU2l6ZUludmVyc2UsZmxvYXQgbGlnaHRTaXplVVYsZmxvYXQgZGFya25lc3MsZmxvYXQgZnJ1c3R1bUVkZ2VGYWxsb2ZmLHZlYzIgbGlnaHRTaXplVVZDb3JyZWN0aW9uLGZsb2F0IGRlcHRoQ29ycmVjdGlvbixmbG9hdCBwZW51bWJyYURhcmtuZXNzKQp7CnJldHVybiBjb21wdXRlU2hhZG93V2l0aENTTVBDU1MobGF5ZXIsdlBvc2l0aW9uRnJvbUxpZ2h0LGRlcHRoTWV0cmljLGRlcHRoU2FtcGxlcixzaGFkb3dTYW1wbGVyLHNoYWRvd01hcFNpemVJbnZlcnNlLGxpZ2h0U2l6ZVVWLGRhcmtuZXNzLGZydXN0dW1FZGdlRmFsbG9mZiwxNiwxNixQb2lzc29uU2FtcGxlcnMzMixsaWdodFNpemVVVkNvcnJlY3Rpb24sZGVwdGhDb3JyZWN0aW9uLHBlbnVtYnJhRGFya25lc3MpOwp9CiNkZWZpbmUgaW5saW5lCmZsb2F0IGNvbXB1dGVTaGFkb3dXaXRoQ1NNUENTUzMyKGZsb2F0IGxheWVyLHZlYzQgdlBvc2l0aW9uRnJvbUxpZ2h0LGZsb2F0IGRlcHRoTWV0cmljLGhpZ2hwIHNhbXBsZXIyREFycmF5IGRlcHRoU2FtcGxlcixoaWdocCBzYW1wbGVyMkRBcnJheVNoYWRvdyBzaGFkb3dTYW1wbGVyLGZsb2F0IHNoYWRvd01hcFNpemVJbnZlcnNlLGZsb2F0IGxpZ2h0U2l6ZVVWLGZsb2F0IGRhcmtuZXNzLGZsb2F0IGZydXN0dW1FZGdlRmFsbG9mZix2ZWMyIGxpZ2h0U2l6ZVVWQ29ycmVjdGlvbixmbG9hdCBkZXB0aENvcnJlY3Rpb24sZmxvYXQgcGVudW1icmFEYXJrbmVzcykKewpyZXR1cm4gY29tcHV0ZVNoYWRvd1dpdGhDU01QQ1NTKGxheWVyLHZQb3NpdGlvbkZyb21MaWdodCxkZXB0aE1ldHJpYyxkZXB0aFNhbXBsZXIsc2hhZG93U2FtcGxlcixzaGFkb3dNYXBTaXplSW52ZXJzZSxsaWdodFNpemVVVixkYXJrbmVzcyxmcnVzdHVtRWRnZUZhbGxvZmYsMTYsMzIsUG9pc3NvblNhbXBsZXJzMzIsbGlnaHRTaXplVVZDb3JyZWN0aW9uLGRlcHRoQ29ycmVjdGlvbixwZW51bWJyYURhcmtuZXNzKTsKfQojZGVmaW5lIGlubGluZQpmbG9hdCBjb21wdXRlU2hhZG93V2l0aENTTVBDU1M2NChmbG9hdCBsYXllcix2ZWM0IHZQb3NpdGlvbkZyb21MaWdodCxmbG9hdCBkZXB0aE1ldHJpYyxoaWdocCBzYW1wbGVyMkRBcnJheSBkZXB0aFNhbXBsZXIsaGlnaHAgc2FtcGxlcjJEQXJyYXlTaGFkb3cgc2hhZG93U2FtcGxlcixmbG9hdCBzaGFkb3dNYXBTaXplSW52ZXJzZSxmbG9hdCBsaWdodFNpemVVVixmbG9hdCBkYXJrbmVzcyxmbG9hdCBmcnVzdHVtRWRnZUZhbGxvZmYsdmVjMiBsaWdodFNpemVVVkNvcnJlY3Rpb24sZmxvYXQgZGVwdGhDb3JyZWN0aW9uLGZsb2F0IHBlbnVtYnJhRGFya25lc3MpCnsKcmV0dXJuIGNvbXB1dGVTaGFkb3dXaXRoQ1NNUENTUyhsYXllcix2UG9zaXRpb25Gcm9tTGlnaHQsZGVwdGhNZXRyaWMsZGVwdGhTYW1wbGVyLHNoYWRvd1NhbXBsZXIsc2hhZG93TWFwU2l6ZUludmVyc2UsbGlnaHRTaXplVVYsZGFya25lc3MsZnJ1c3R1bUVkZ2VGYWxsb2ZmLDMyLDY0LFBvaXNzb25TYW1wbGVyczY0LGxpZ2h0U2l6ZVVWQ29ycmVjdGlvbixkZXB0aENvcnJlY3Rpb24scGVudW1icmFEYXJrbmVzcyk7Cn0KI2VuZGlmCiNlbmRpZgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbS29dPVlvO3ZhciBabz0ic2FtcGxlckZyYWdtZW50RGVjbGFyYXRpb24iLHFvPWAjaWZkZWYgX0RFRklORU5BTUVfCiNpZiBfREVGSU5FTkFNRV9ESVJFQ1RVVj09MQojZGVmaW5lIHZfVkFSWUlOR05BTUVfVVYgdk1haW5VVjEKI2VsaWYgX0RFRklORU5BTUVfRElSRUNUVVY9PTIKI2RlZmluZSB2X1ZBUllJTkdOQU1FX1VWIHZNYWluVVYyCiNlbGlmIF9ERUZJTkVOQU1FX0RJUkVDVFVWPT0zCiNkZWZpbmUgdl9WQVJZSU5HTkFNRV9VViB2TWFpblVWMwojZWxpZiBfREVGSU5FTkFNRV9ESVJFQ1RVVj09NAojZGVmaW5lIHZfVkFSWUlOR05BTUVfVVYgdk1haW5VVjQKI2VsaWYgX0RFRklORU5BTUVfRElSRUNUVVY9PTUKI2RlZmluZSB2X1ZBUllJTkdOQU1FX1VWIHZNYWluVVY1CiNlbGlmIF9ERUZJTkVOQU1FX0RJUkVDVFVWPT02CiNkZWZpbmUgdl9WQVJZSU5HTkFNRV9VViB2TWFpblVWNgojZWxzZQp2YXJ5aW5nIHZlYzIgdl9WQVJZSU5HTkFNRV9VVjsKI2VuZGlmCnVuaWZvcm0gc2FtcGxlcjJEIF9TQU1QTEVSTkFNRV9TYW1wbGVyOwojZW5kaWYKYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW1pvXT1xbzt2YXIgUW89ImZyZXNuZWxGdW5jdGlvbiIsJG89YCNpZmRlZiBGUkVTTkVMCmZsb2F0IGNvbXB1dGVGcmVzbmVsVGVybSh2ZWMzIHZpZXdEaXJlY3Rpb24sdmVjMyB3b3JsZE5vcm1hbCxmbG9hdCBiaWFzLGZsb2F0IHBvd2VyKQp7CmZsb2F0IGZyZXNuZWxUZXJtPXBvdyhiaWFzK2Ficyhkb3Qodmlld0RpcmVjdGlvbix3b3JsZE5vcm1hbCkpLHBvd2VyKTsKcmV0dXJuIGNsYW1wKGZyZXNuZWxUZXJtLDAuLDEuKTsKfQojZW5kaWYKYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW1FvXT0kbzt2YXIgSm89InJlZmxlY3Rpb25GdW5jdGlvbiIsZXU9YHZlYzMgY29tcHV0ZUZpeGVkRXF1aXJlY3Rhbmd1bGFyQ29vcmRzKHZlYzQgd29ybGRQb3MsdmVjMyB3b3JsZE5vcm1hbCx2ZWMzIGRpcmVjdGlvbikKewpmbG9hdCBsb249YXRhbihkaXJlY3Rpb24ueixkaXJlY3Rpb24ueCk7CmZsb2F0IGxhdD1hY29zKGRpcmVjdGlvbi55KTsKdmVjMiBzcGhlcmVDb29yZHM9dmVjMihsb24sbGF0KSpSRUNJUFJPQ0FMX1BJMioyLjA7CmZsb2F0IHM9c3BoZXJlQ29vcmRzLngqMC41KzAuNTsKZmxvYXQgdD1zcGhlcmVDb29yZHMueTsKcmV0dXJuIHZlYzMocyx0LDApOyAKfQp2ZWMzIGNvbXB1dGVNaXJyb3JlZEZpeGVkRXF1aXJlY3Rhbmd1bGFyQ29vcmRzKHZlYzQgd29ybGRQb3MsdmVjMyB3b3JsZE5vcm1hbCx2ZWMzIGRpcmVjdGlvbikKewpmbG9hdCBsb249YXRhbihkaXJlY3Rpb24ueixkaXJlY3Rpb24ueCk7CmZsb2F0IGxhdD1hY29zKGRpcmVjdGlvbi55KTsKdmVjMiBzcGhlcmVDb29yZHM9dmVjMihsb24sbGF0KSpSRUNJUFJPQ0FMX1BJMioyLjA7CmZsb2F0IHM9c3BoZXJlQ29vcmRzLngqMC41KzAuNTsKZmxvYXQgdD1zcGhlcmVDb29yZHMueTsKcmV0dXJuIHZlYzMoMS4wLXMsdCwwKTsgCn0KdmVjMyBjb21wdXRlRXF1aXJlY3Rhbmd1bGFyQ29vcmRzKHZlYzQgd29ybGRQb3MsdmVjMyB3b3JsZE5vcm1hbCx2ZWMzIGV5ZVBvc2l0aW9uLG1hdDQgcmVmbGVjdGlvbk1hdHJpeCkKewp2ZWMzIGNhbWVyYVRvVmVydGV4PW5vcm1hbGl6ZSh3b3JsZFBvcy54eXotZXllUG9zaXRpb24pOwp2ZWMzIHI9bm9ybWFsaXplKHJlZmxlY3QoY2FtZXJhVG9WZXJ0ZXgsd29ybGROb3JtYWwpKTsKcj12ZWMzKHJlZmxlY3Rpb25NYXRyaXgqdmVjNChyLDApKTsKZmxvYXQgbG9uPWF0YW4oci56LHIueCk7CmZsb2F0IGxhdD1hY29zKHIueSk7CnZlYzIgc3BoZXJlQ29vcmRzPXZlYzIobG9uLGxhdCkqUkVDSVBST0NBTF9QSTIqMi4wOwpmbG9hdCBzPXNwaGVyZUNvb3Jkcy54KjAuNSswLjU7CmZsb2F0IHQ9c3BoZXJlQ29vcmRzLnk7CnJldHVybiB2ZWMzKHMsdCwwKTsKfQp2ZWMzIGNvbXB1dGVTcGhlcmljYWxDb29yZHModmVjNCB3b3JsZFBvcyx2ZWMzIHdvcmxkTm9ybWFsLG1hdDQgdmlldyxtYXQ0IHJlZmxlY3Rpb25NYXRyaXgpCnsKdmVjMyB2aWV3RGlyPW5vcm1hbGl6ZSh2ZWMzKHZpZXcqd29ybGRQb3MpKTsKdmVjMyB2aWV3Tm9ybWFsPW5vcm1hbGl6ZSh2ZWMzKHZpZXcqdmVjNCh3b3JsZE5vcm1hbCwwLjApKSk7CnZlYzMgcj1yZWZsZWN0KHZpZXdEaXIsdmlld05vcm1hbCk7CnI9dmVjMyhyZWZsZWN0aW9uTWF0cml4KnZlYzQociwwKSk7CnIuej1yLnotMS4wOwpmbG9hdCBtPTIuMCpsZW5ndGgocik7CnJldHVybiB2ZWMzKHIueC9tKzAuNSwxLjAtci55L20tMC41LDApOwp9CnZlYzMgY29tcHV0ZVBsYW5hckNvb3Jkcyh2ZWM0IHdvcmxkUG9zLHZlYzMgd29ybGROb3JtYWwsdmVjMyBleWVQb3NpdGlvbixtYXQ0IHJlZmxlY3Rpb25NYXRyaXgpCnsKdmVjMyB2aWV3RGlyPXdvcmxkUG9zLnh5ei1leWVQb3NpdGlvbjsKdmVjMyBjb29yZHM9bm9ybWFsaXplKHJlZmxlY3Qodmlld0Rpcix3b3JsZE5vcm1hbCkpOwpyZXR1cm4gdmVjMyhyZWZsZWN0aW9uTWF0cml4KnZlYzQoY29vcmRzLDEpKTsKfQp2ZWMzIGNvbXB1dGVDdWJpY0Nvb3Jkcyh2ZWM0IHdvcmxkUG9zLHZlYzMgd29ybGROb3JtYWwsdmVjMyBleWVQb3NpdGlvbixtYXQ0IHJlZmxlY3Rpb25NYXRyaXgpCnsKdmVjMyB2aWV3RGlyPW5vcm1hbGl6ZSh3b3JsZFBvcy54eXotZXllUG9zaXRpb24pOwp2ZWMzIGNvb3Jkcz1yZWZsZWN0KHZpZXdEaXIsd29ybGROb3JtYWwpOwpjb29yZHM9dmVjMyhyZWZsZWN0aW9uTWF0cml4KnZlYzQoY29vcmRzLDApKTsKI2lmZGVmIElOVkVSVENVQklDTUFQCmNvb3Jkcy55Kj0tMS4wOwojZW5kaWYKcmV0dXJuIGNvb3JkczsKfQp2ZWMzIGNvbXB1dGVDdWJpY0xvY2FsQ29vcmRzKHZlYzQgd29ybGRQb3MsdmVjMyB3b3JsZE5vcm1hbCx2ZWMzIGV5ZVBvc2l0aW9uLG1hdDQgcmVmbGVjdGlvbk1hdHJpeCx2ZWMzIHJlZmxlY3Rpb25TaXplLHZlYzMgcmVmbGVjdGlvblBvc2l0aW9uKQp7CnZlYzMgdmlld0Rpcj1ub3JtYWxpemUod29ybGRQb3MueHl6LWV5ZVBvc2l0aW9uKTsKdmVjMyBjb29yZHM9cmVmbGVjdCh2aWV3RGlyLHdvcmxkTm9ybWFsKTsKY29vcmRzPXBhcmFsbGF4Q29ycmVjdE5vcm1hbCh3b3JsZFBvcy54eXosY29vcmRzLHJlZmxlY3Rpb25TaXplLHJlZmxlY3Rpb25Qb3NpdGlvbik7CmNvb3Jkcz12ZWMzKHJlZmxlY3Rpb25NYXRyaXgqdmVjNChjb29yZHMsMCkpOwojaWZkZWYgSU5WRVJUQ1VCSUNNQVAKY29vcmRzLnkqPS0xLjA7CiNlbmRpZgpyZXR1cm4gY29vcmRzOwp9CnZlYzMgY29tcHV0ZVByb2plY3Rpb25Db29yZHModmVjNCB3b3JsZFBvcyxtYXQ0IHZpZXcsbWF0NCByZWZsZWN0aW9uTWF0cml4KQp7CnJldHVybiB2ZWMzKHJlZmxlY3Rpb25NYXRyaXgqKHZpZXcqd29ybGRQb3MpKTsKfQp2ZWMzIGNvbXB1dGVTa3lCb3hDb29yZHModmVjMyBwb3NpdGlvblcsbWF0NCByZWZsZWN0aW9uTWF0cml4KQp7CnJldHVybiB2ZWMzKHJlZmxlY3Rpb25NYXRyaXgqdmVjNChwb3NpdGlvblcsMS4pKTsKfQojaWZkZWYgUkVGTEVDVElPTgp2ZWMzIGNvbXB1dGVSZWZsZWN0aW9uQ29vcmRzKHZlYzQgd29ybGRQb3MsdmVjMyB3b3JsZE5vcm1hbCkKewojaWZkZWYgUkVGTEVDVElPTk1BUF9NSVJST1JFREVRVUlSRUNUQU5HVUxBUl9GSVhFRAp2ZWMzIGRpcmVjdGlvbj1ub3JtYWxpemUodkRpcmVjdGlvblcpOwpyZXR1cm4gY29tcHV0ZU1pcnJvcmVkRml4ZWRFcXVpcmVjdGFuZ3VsYXJDb29yZHMod29ybGRQb3Msd29ybGROb3JtYWwsZGlyZWN0aW9uKTsKI2VuZGlmCiNpZmRlZiBSRUZMRUNUSU9OTUFQX0VRVUlSRUNUQU5HVUxBUl9GSVhFRAp2ZWMzIGRpcmVjdGlvbj1ub3JtYWxpemUodkRpcmVjdGlvblcpOwpyZXR1cm4gY29tcHV0ZUZpeGVkRXF1aXJlY3Rhbmd1bGFyQ29vcmRzKHdvcmxkUG9zLHdvcmxkTm9ybWFsLGRpcmVjdGlvbik7CiNlbmRpZgojaWZkZWYgUkVGTEVDVElPTk1BUF9FUVVJUkVDVEFOR1VMQVIKcmV0dXJuIGNvbXB1dGVFcXVpcmVjdGFuZ3VsYXJDb29yZHMod29ybGRQb3Msd29ybGROb3JtYWwsdkV5ZVBvc2l0aW9uLnh5eixyZWZsZWN0aW9uTWF0cml4KTsKI2VuZGlmCiNpZmRlZiBSRUZMRUNUSU9OTUFQX1NQSEVSSUNBTApyZXR1cm4gY29tcHV0ZVNwaGVyaWNhbENvb3Jkcyh3b3JsZFBvcyx3b3JsZE5vcm1hbCx2aWV3LHJlZmxlY3Rpb25NYXRyaXgpOwojZW5kaWYKI2lmZGVmIFJFRkxFQ1RJT05NQVBfUExBTkFSCnJldHVybiBjb21wdXRlUGxhbmFyQ29vcmRzKHdvcmxkUG9zLHdvcmxkTm9ybWFsLHZFeWVQb3NpdGlvbi54eXoscmVmbGVjdGlvbk1hdHJpeCk7CiNlbmRpZgojaWZkZWYgUkVGTEVDVElPTk1BUF9DVUJJQwojaWZkZWYgVVNFX0xPQ0FMX1JFRkxFQ1RJT05NQVBfQ1VCSUMKcmV0dXJuIGNvbXB1dGVDdWJpY0xvY2FsQ29vcmRzKHdvcmxkUG9zLHdvcmxkTm9ybWFsLHZFeWVQb3NpdGlvbi54eXoscmVmbGVjdGlvbk1hdHJpeCx2UmVmbGVjdGlvblNpemUsdlJlZmxlY3Rpb25Qb3NpdGlvbik7CiNlbHNlCnJldHVybiBjb21wdXRlQ3ViaWNDb29yZHMod29ybGRQb3Msd29ybGROb3JtYWwsdkV5ZVBvc2l0aW9uLnh5eixyZWZsZWN0aW9uTWF0cml4KTsKI2VuZGlmCiNlbmRpZgojaWZkZWYgUkVGTEVDVElPTk1BUF9QUk9KRUNUSU9OCnJldHVybiBjb21wdXRlUHJvamVjdGlvbkNvb3Jkcyh3b3JsZFBvcyx2aWV3LHJlZmxlY3Rpb25NYXRyaXgpOwojZW5kaWYKI2lmZGVmIFJFRkxFQ1RJT05NQVBfU0tZQk9YCnJldHVybiBjb21wdXRlU2t5Qm94Q29vcmRzKHZQb3NpdGlvblVWVyxyZWZsZWN0aW9uTWF0cml4KTsKI2VuZGlmCiNpZmRlZiBSRUZMRUNUSU9OTUFQX0VYUExJQ0lUCnJldHVybiB2ZWMzKDAsMCwwKTsKI2VuZGlmCn0KI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtKb109ZXU7dmFyIHR1PSJpbWFnZVByb2Nlc3NpbmdEZWNsYXJhdGlvbiIscnU9YCNpZmRlZiBFWFBPU1VSRQp1bmlmb3JtIGZsb2F0IGV4cG9zdXJlTGluZWFyOwojZW5kaWYKI2lmZGVmIENPTlRSQVNUCnVuaWZvcm0gZmxvYXQgY29udHJhc3Q7CiNlbmRpZgojaWZkZWYgVklHTkVUVEUKdW5pZm9ybSB2ZWMyIHZJbnZlcnNlU2NyZWVuU2l6ZTsKdW5pZm9ybSB2ZWM0IHZpZ25ldHRlU2V0dGluZ3MxOwp1bmlmb3JtIHZlYzQgdmlnbmV0dGVTZXR0aW5nczI7CiNlbmRpZgojaWZkZWYgQ09MT1JDVVJWRVMKdW5pZm9ybSB2ZWM0IHZDYW1lcmFDb2xvckN1cnZlTmVnYXRpdmU7CnVuaWZvcm0gdmVjNCB2Q2FtZXJhQ29sb3JDdXJ2ZU5ldXRyYWw7CnVuaWZvcm0gdmVjNCB2Q2FtZXJhQ29sb3JDdXJ2ZVBvc2l0aXZlOwojZW5kaWYKI2lmZGVmIENPTE9SR1JBRElORwojaWZkZWYgQ09MT1JHUkFESU5HM0QKdW5pZm9ybSBoaWdocCBzYW1wbGVyM0QgdHhDb2xvclRyYW5zZm9ybTsKI2Vsc2UKdW5pZm9ybSBzYW1wbGVyMkQgdHhDb2xvclRyYW5zZm9ybTsKI2VuZGlmCnVuaWZvcm0gdmVjNCBjb2xvclRyYW5zZm9ybVNldHRpbmdzOwojZW5kaWYKYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW3R1XT1ydTt2YXIgaXU9ImltYWdlUHJvY2Vzc2luZ0Z1bmN0aW9ucyIsbnU9YCNpZiBkZWZpbmVkKENPTE9SR1JBRElORykgJiYgIWRlZmluZWQoQ09MT1JHUkFESU5HM0QpCi8qKiAKKiBQb2x5ZmlsbCBmb3IgU0FNUExFX1RFWFRVUkVfM0Qsd2hpY2ggaXMgdW5zdXBwb3J0ZWQgaW4gV2ViR0wuCiogc2FtcGxlcjNkU2V0dGluZy54PXRleHR1cmVPZmZzZXQgKDAuNS90ZXh0dXJlU2l6ZSkuCiogc2FtcGxlcjNkU2V0dGluZy55PXRleHR1cmVTaXplLgoqLwojZGVmaW5lIGlubGluZQp2ZWMzIHNhbXBsZVRleHR1cmUzRChzYW1wbGVyMkQgY29sb3JUcmFuc2Zvcm0sdmVjMyBjb2xvcix2ZWMyIHNhbXBsZXIzZFNldHRpbmcpCnsKZmxvYXQgc2xpY2VTaXplPTIuMCpzYW1wbGVyM2RTZXR0aW5nLng7IAojaWZkZWYgU0FNUExFUjNER1JFRU5ERVBUSApmbG9hdCBzbGljZUNvbnRpbnVvdXM9KGNvbG9yLmctc2FtcGxlcjNkU2V0dGluZy54KSpzYW1wbGVyM2RTZXR0aW5nLnk7CiNlbHNlCmZsb2F0IHNsaWNlQ29udGludW91cz0oY29sb3IuYi1zYW1wbGVyM2RTZXR0aW5nLngpKnNhbXBsZXIzZFNldHRpbmcueTsKI2VuZGlmCmZsb2F0IHNsaWNlSW50ZWdlcj1mbG9vcihzbGljZUNvbnRpbnVvdXMpOwpmbG9hdCBzbGljZUZyYWN0aW9uPXNsaWNlQ29udGludW91cy1zbGljZUludGVnZXI7CiNpZmRlZiBTQU1QTEVSM0RHUkVFTkRFUFRICnZlYzIgc2xpY2VVVj1jb2xvci5yYjsKI2Vsc2UKdmVjMiBzbGljZVVWPWNvbG9yLnJnOwojZW5kaWYKc2xpY2VVVi54Kj1zbGljZVNpemU7CnNsaWNlVVYueCs9c2xpY2VJbnRlZ2VyKnNsaWNlU2l6ZTsKc2xpY2VVVj1zYXR1cmF0ZShzbGljZVVWKTsKdmVjNCBzbGljZTBDb2xvcj10ZXh0dXJlMkQoY29sb3JUcmFuc2Zvcm0sc2xpY2VVVik7CnNsaWNlVVYueCs9c2xpY2VTaXplOwpzbGljZVVWPXNhdHVyYXRlKHNsaWNlVVYpOwp2ZWM0IHNsaWNlMUNvbG9yPXRleHR1cmUyRChjb2xvclRyYW5zZm9ybSxzbGljZVVWKTsKdmVjMyByZXN1bHQ9bWl4KHNsaWNlMENvbG9yLnJnYixzbGljZTFDb2xvci5yZ2Isc2xpY2VGcmFjdGlvbik7CiNpZmRlZiBTQU1QTEVSM0RCR1JNQVAKY29sb3IucmdiPXJlc3VsdC5yZ2I7CiNlbHNlCmNvbG9yLnJnYj1yZXN1bHQuYmdyOwojZW5kaWYKcmV0dXJuIGNvbG9yOwp9CiNlbmRpZgojaWZkZWYgVE9ORU1BUFBJTkdfQUNFUwpjb25zdCBtYXQzIEFDRVNJbnB1dE1hdD1tYXQzKAp2ZWMzKDAuNTk3MTksMC4wNzYwMCwwLjAyODQwKSwKdmVjMygwLjM1NDU4LDAuOTA4MzQsMC4xMzM4MyksCnZlYzMoMC4wNDgyMywwLjAxNTY2LDAuODM3NzcpCik7CmNvbnN0IG1hdDMgQUNFU091dHB1dE1hdD1tYXQzKAp2ZWMzKCAxLjYwNDc1LC0wLjEwMjA4LC0wLjAwMzI3KSwKdmVjMygtMC41MzEwOCwgMS4xMDgxMywtMC4wNzI3NiksCnZlYzMoLTAuMDczNjcsLTAuMDA2MDUsIDEuMDc2MDIpCik7CnZlYzMgUlJUQW5kT0RURml0KHZlYzMgdikKewp2ZWMzIGE9dioodiswLjAyNDU3ODYpLTAuMDAwMDkwNTM3Owp2ZWMzIGI9diooMC45ODM3MjkqdiswLjQzMjk1MTApKzAuMjM4MDgxOwpyZXR1cm4gYS9iOwp9CnZlYzMgQUNFU0ZpdHRlZCh2ZWMzIGNvbG9yKQp7CmNvbG9yPUFDRVNJbnB1dE1hdCpjb2xvcjsKY29sb3I9UlJUQW5kT0RURml0KGNvbG9yKTsKY29sb3I9QUNFU091dHB1dE1hdCpjb2xvcjsKY29sb3I9c2F0dXJhdGUoY29sb3IpOwpyZXR1cm4gY29sb3I7Cn0KI2VuZGlmCnZlYzQgYXBwbHlJbWFnZVByb2Nlc3NpbmcodmVjNCByZXN1bHQpIHsKI2lmZGVmIEVYUE9TVVJFCnJlc3VsdC5yZ2IqPWV4cG9zdXJlTGluZWFyOwojZW5kaWYKI2lmZGVmIFZJR05FVFRFCnZlYzIgdmlld3BvcnRYWT1nbF9GcmFnQ29vcmQueHkqdkludmVyc2VTY3JlZW5TaXplOwp2aWV3cG9ydFhZPXZpZXdwb3J0WFkqMi4wLTEuMDsKdmVjMyB2aWduZXR0ZVhZMT12ZWMzKHZpZXdwb3J0WFkqdmlnbmV0dGVTZXR0aW5nczEueHkrdmlnbmV0dGVTZXR0aW5nczEuencsMS4wKTsKZmxvYXQgdmlnbmV0dGVUZXJtPWRvdCh2aWduZXR0ZVhZMSx2aWduZXR0ZVhZMSk7CmZsb2F0IHZpZ25ldHRlPXBvdyh2aWduZXR0ZVRlcm0sdmlnbmV0dGVTZXR0aW5nczIudyk7CnZlYzMgdmlnbmV0dGVDb2xvcj12aWduZXR0ZVNldHRpbmdzMi5yZ2I7CiNpZmRlZiBWSUdORVRURUJMRU5ETU9ERU1VTFRJUExZCnZlYzMgdmlnbmV0dGVDb2xvck11bHRpcGxpZXI9bWl4KHZpZ25ldHRlQ29sb3IsdmVjMygxLDEsMSksdmlnbmV0dGUpOwpyZXN1bHQucmdiKj12aWduZXR0ZUNvbG9yTXVsdGlwbGllcjsKI2VuZGlmCiNpZmRlZiBWSUdORVRURUJMRU5ETU9ERU9QQVFVRQpyZXN1bHQucmdiPW1peCh2aWduZXR0ZUNvbG9yLHJlc3VsdC5yZ2IsdmlnbmV0dGUpOwojZW5kaWYKI2VuZGlmCiNpZmRlZiBUT05FTUFQUElORwojaWZkZWYgVE9ORU1BUFBJTkdfQUNFUwpyZXN1bHQucmdiPUFDRVNGaXR0ZWQocmVzdWx0LnJnYik7CiNlbHNlCmNvbnN0IGZsb2F0IHRvbmVtYXBwaW5nQ2FsaWJyYXRpb249MS41OTA1Nzk7CnJlc3VsdC5yZ2I9MS4wLWV4cDIoLXRvbmVtYXBwaW5nQ2FsaWJyYXRpb24qcmVzdWx0LnJnYik7CiNlbmRpZgojZW5kaWYKcmVzdWx0LnJnYj10b0dhbW1hU3BhY2UocmVzdWx0LnJnYik7CnJlc3VsdC5yZ2I9c2F0dXJhdGUocmVzdWx0LnJnYik7CiNpZmRlZiBDT05UUkFTVAp2ZWMzIHJlc3VsdEhpZ2hDb250cmFzdD1yZXN1bHQucmdiKnJlc3VsdC5yZ2IqKDMuMC0yLjAqcmVzdWx0LnJnYik7CmlmIChjb250cmFzdDwxLjApIHsKcmVzdWx0LnJnYj1taXgodmVjMygwLjUsMC41LDAuNSkscmVzdWx0LnJnYixjb250cmFzdCk7Cn0gZWxzZSB7CnJlc3VsdC5yZ2I9bWl4KHJlc3VsdC5yZ2IscmVzdWx0SGlnaENvbnRyYXN0LGNvbnRyYXN0LTEuMCk7Cn0KI2VuZGlmCiNpZmRlZiBDT0xPUkdSQURJTkcKdmVjMyBjb2xvclRyYW5zZm9ybUlucHV0PXJlc3VsdC5yZ2IqY29sb3JUcmFuc2Zvcm1TZXR0aW5ncy54eHgrY29sb3JUcmFuc2Zvcm1TZXR0aW5ncy55eXk7CiNpZmRlZiBDT0xPUkdSQURJTkczRAp2ZWMzIGNvbG9yVHJhbnNmb3JtT3V0cHV0PXRleHR1cmUodHhDb2xvclRyYW5zZm9ybSxjb2xvclRyYW5zZm9ybUlucHV0KS5yZ2I7CiNlbHNlCnZlYzMgY29sb3JUcmFuc2Zvcm1PdXRwdXQ9c2FtcGxlVGV4dHVyZTNEKHR4Q29sb3JUcmFuc2Zvcm0sY29sb3JUcmFuc2Zvcm1JbnB1dCxjb2xvclRyYW5zZm9ybVNldHRpbmdzLnl6KS5yZ2I7CiNlbmRpZgpyZXN1bHQucmdiPW1peChyZXN1bHQucmdiLGNvbG9yVHJhbnNmb3JtT3V0cHV0LGNvbG9yVHJhbnNmb3JtU2V0dGluZ3Mud3d3KTsKI2VuZGlmCiNpZmRlZiBDT0xPUkNVUlZFUwpmbG9hdCBsdW1hPWdldEx1bWluYW5jZShyZXN1bHQucmdiKTsKdmVjMiBjdXJ2ZU1peD1jbGFtcCh2ZWMyKGx1bWEqMy4wLTEuNSxsdW1hKi0zLjArMS41KSx2ZWMyKDAuMCksdmVjMigxLjApKTsKdmVjNCBjb2xvckN1cnZlPXZDYW1lcmFDb2xvckN1cnZlTmV1dHJhbCtjdXJ2ZU1peC54KnZDYW1lcmFDb2xvckN1cnZlUG9zaXRpdmUtY3VydmVNaXgueSp2Q2FtZXJhQ29sb3JDdXJ2ZU5lZ2F0aXZlOwpyZXN1bHQucmdiKj1jb2xvckN1cnZlLnJnYjsKcmVzdWx0LnJnYj1taXgodmVjMyhsdW1hKSxyZXN1bHQucmdiLGNvbG9yQ3VydmUuYSk7CiNlbmRpZgpyZXR1cm4gcmVzdWx0Owp9YDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW2l1XT1udTt2YXIgYXU9ImJ1bXBGcmFnbWVudE1haW5GdW5jdGlvbnMiLHN1PWAjaWYgZGVmaW5lZChCVU1QKSB8fCBkZWZpbmVkKENMRUFSQ09BVF9CVU1QKSB8fCBkZWZpbmVkKEFOSVNPVFJPUElDKSB8fCBkZWZpbmVkKERFVEFJTCkKI2lmIGRlZmluZWQoVEFOR0VOVCkgJiYgZGVmaW5lZChOT1JNQUwpIAp2YXJ5aW5nIG1hdDMgdlRCTjsKI2VuZGlmCiNpZmRlZiBPQkpFQ1RTUEFDRV9OT1JNQUxNQVAKdW5pZm9ybSBtYXQ0IG5vcm1hbE1hdHJpeDsKI2VuZGlmCnZlYzMgcGVydHVyYk5vcm1hbEJhc2UobWF0MyBjb3RhbmdlbnRGcmFtZSx2ZWMzIG5vcm1hbCxmbG9hdCBzY2FsZSkKewojaWZkZWYgTk9STUFMWFlTQ0FMRQpub3JtYWw9bm9ybWFsaXplKG5vcm1hbCp2ZWMzKHNjYWxlLHNjYWxlLDEuMCkpOwojZW5kaWYKcmV0dXJuIG5vcm1hbGl6ZShjb3RhbmdlbnRGcmFtZSpub3JtYWwpOwp9CnZlYzMgcGVydHVyYk5vcm1hbChtYXQzIGNvdGFuZ2VudEZyYW1lLHZlYzMgdGV4dHVyZVNhbXBsZSxmbG9hdCBzY2FsZSkKewpyZXR1cm4gcGVydHVyYk5vcm1hbEJhc2UoY290YW5nZW50RnJhbWUsdGV4dHVyZVNhbXBsZSoyLjAtMS4wLHNjYWxlKTsKfQptYXQzIGNvdGFuZ2VudF9mcmFtZSh2ZWMzIG5vcm1hbCx2ZWMzIHAsdmVjMiB1dix2ZWMyIHRhbmdlbnRTcGFjZVBhcmFtcykKewp2ZWMzIGRwMT1kRmR4KHApOwp2ZWMzIGRwMj1kRmR5KHApOwp2ZWMyIGR1djE9ZEZkeCh1dik7CnZlYzIgZHV2Mj1kRmR5KHV2KTsKdmVjMyBkcDJwZXJwPWNyb3NzKGRwMixub3JtYWwpOwp2ZWMzIGRwMXBlcnA9Y3Jvc3Mobm9ybWFsLGRwMSk7CnZlYzMgdGFuZ2VudD1kcDJwZXJwKmR1djEueCtkcDFwZXJwKmR1djIueDsKdmVjMyBiaXRhbmdlbnQ9ZHAycGVycCpkdXYxLnkrZHAxcGVycCpkdXYyLnk7CnRhbmdlbnQqPXRhbmdlbnRTcGFjZVBhcmFtcy54OwpiaXRhbmdlbnQqPXRhbmdlbnRTcGFjZVBhcmFtcy55OwpmbG9hdCBpbnZtYXg9aW52ZXJzZXNxcnQobWF4KGRvdCh0YW5nZW50LHRhbmdlbnQpLGRvdChiaXRhbmdlbnQsYml0YW5nZW50KSkpOwpyZXR1cm4gbWF0Myh0YW5nZW50Kmludm1heCxiaXRhbmdlbnQqaW52bWF4LG5vcm1hbCk7Cn0KI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVthdV09c3U7dmFyIG91PSJidW1wRnJhZ21lbnRGdW5jdGlvbnMiLHV1PWAjaWYgZGVmaW5lZChCVU1QKQojaW5jbHVkZTxzYW1wbGVyRnJhZ21lbnREZWNsYXJhdGlvbj4oX0RFRklORU5BTUVfLEJVTVAsX1ZBUllJTkdOQU1FXyxCdW1wLF9TQU1QTEVSTkFNRV8sYnVtcCkKI2VuZGlmCiNpZiBkZWZpbmVkKERFVEFJTCkKI2luY2x1ZGU8c2FtcGxlckZyYWdtZW50RGVjbGFyYXRpb24+KF9ERUZJTkVOQU1FXyxERVRBSUwsX1ZBUllJTkdOQU1FXyxEZXRhaWwsX1NBTVBMRVJOQU1FXyxkZXRhaWwpCiNlbmRpZgojaWYgZGVmaW5lZChCVU1QKSAmJiBkZWZpbmVkKFBBUkFMTEFYKQpjb25zdCBmbG9hdCBtaW5TYW1wbGVzPTQuOwpjb25zdCBmbG9hdCBtYXhTYW1wbGVzPTE1LjsKY29uc3QgaW50IGlNYXhTYW1wbGVzPTE1Owp2ZWMyIHBhcmFsbGF4T2NjbHVzaW9uKHZlYzMgdlZpZXdEaXJDb1QsdmVjMyB2Tm9ybWFsQ29ULHZlYzIgdGV4Q29vcmQsZmxvYXQgcGFyYWxsYXhTY2FsZSkgewpmbG9hdCBwYXJhbGxheExpbWl0PWxlbmd0aCh2Vmlld0RpckNvVC54eSkvdlZpZXdEaXJDb1QuejsKcGFyYWxsYXhMaW1pdCo9cGFyYWxsYXhTY2FsZTsKdmVjMiB2T2Zmc2V0RGlyPW5vcm1hbGl6ZSh2Vmlld0RpckNvVC54eSk7CnZlYzIgdk1heE9mZnNldD12T2Zmc2V0RGlyKnBhcmFsbGF4TGltaXQ7CmZsb2F0IG51bVNhbXBsZXM9bWF4U2FtcGxlcysoZG90KHZWaWV3RGlyQ29ULHZOb3JtYWxDb1QpKihtaW5TYW1wbGVzLW1heFNhbXBsZXMpKTsKZmxvYXQgc3RlcFNpemU9MS4wL251bVNhbXBsZXM7CmZsb2F0IGN1cnJSYXlIZWlnaHQ9MS4wOwp2ZWMyIHZDdXJyT2Zmc2V0PXZlYzIoMCwwKTsKdmVjMiB2TGFzdE9mZnNldD12ZWMyKDAsMCk7CmZsb2F0IGxhc3RTYW1wbGVkSGVpZ2h0PTEuMDsKZmxvYXQgY3VyclNhbXBsZWRIZWlnaHQ9MS4wOwpmb3IgKGludCBpPTA7IGk8aU1heFNhbXBsZXM7IGkrKykKewpjdXJyU2FtcGxlZEhlaWdodD10ZXh0dXJlMkQoYnVtcFNhbXBsZXIsdGV4Q29vcmQrdkN1cnJPZmZzZXQpLnc7CmlmIChjdXJyU2FtcGxlZEhlaWdodD5jdXJyUmF5SGVpZ2h0KQp7CmZsb2F0IGRlbHRhMT1jdXJyU2FtcGxlZEhlaWdodC1jdXJyUmF5SGVpZ2h0OwpmbG9hdCBkZWx0YTI9KGN1cnJSYXlIZWlnaHQrc3RlcFNpemUpLWxhc3RTYW1wbGVkSGVpZ2h0OwpmbG9hdCByYXRpbz1kZWx0YTEvKGRlbHRhMStkZWx0YTIpOwp2Q3Vyck9mZnNldD0ocmF0aW8pKiB2TGFzdE9mZnNldCsoMS4wLXJhdGlvKSp2Q3Vyck9mZnNldDsKYnJlYWs7Cn0KZWxzZQp7CmN1cnJSYXlIZWlnaHQtPXN0ZXBTaXplOwp2TGFzdE9mZnNldD12Q3Vyck9mZnNldDsKdkN1cnJPZmZzZXQrPXN0ZXBTaXplKnZNYXhPZmZzZXQ7Cmxhc3RTYW1wbGVkSGVpZ2h0PWN1cnJTYW1wbGVkSGVpZ2h0Owp9Cn0KcmV0dXJuIHZDdXJyT2Zmc2V0Owp9CnZlYzIgcGFyYWxsYXhPZmZzZXQodmVjMyB2aWV3RGlyLGZsb2F0IGhlaWdodFNjYWxlKQp7CmZsb2F0IGhlaWdodD10ZXh0dXJlMkQoYnVtcFNhbXBsZXIsdkJ1bXBVVikudzsKdmVjMiB0ZXhDb29yZE9mZnNldD1oZWlnaHRTY2FsZSp2aWV3RGlyLnh5KmhlaWdodDsKcmV0dXJuIC10ZXhDb29yZE9mZnNldDsKfQojZW5kaWYKYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW291XT11dTt2YXIgZnU9ImxvZ0RlcHRoRGVjbGFyYXRpb24iLGx1PWAjaWZkZWYgTE9HQVJJVEhNSUNERVBUSAp1bmlmb3JtIGZsb2F0IGxvZ2FyaXRobWljRGVwdGhDb25zdGFudDsKdmFyeWluZyBmbG9hdCB2RnJhZ21lbnREZXB0aDsKI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtmdV09bHU7dmFyIGh1PSJmb2dGcmFnbWVudERlY2xhcmF0aW9uIixjdT1gI2lmZGVmIEZPRwojZGVmaW5lIEZPR01PREVfTk9ORSAwLgojZGVmaW5lIEZPR01PREVfRVhQIDEuCiNkZWZpbmUgRk9HTU9ERV9FWFAyIDIuCiNkZWZpbmUgRk9HTU9ERV9MSU5FQVIgMy4KI2RlZmluZSBFIDIuNzE4MjgKdW5pZm9ybSB2ZWM0IHZGb2dJbmZvczsKdW5pZm9ybSB2ZWMzIHZGb2dDb2xvcjsKdmFyeWluZyB2ZWMzIHZGb2dEaXN0YW5jZTsKZmxvYXQgQ2FsY0ZvZ0ZhY3RvcigpCnsKZmxvYXQgZm9nQ29lZmY9MS4wOwpmbG9hdCBmb2dTdGFydD12Rm9nSW5mb3MueTsKZmxvYXQgZm9nRW5kPXZGb2dJbmZvcy56OwpmbG9hdCBmb2dEZW5zaXR5PXZGb2dJbmZvcy53OwpmbG9hdCBmb2dEaXN0YW5jZT1sZW5ndGgodkZvZ0Rpc3RhbmNlKTsKaWYgKEZPR01PREVfTElORUFSPT12Rm9nSW5mb3MueCkKewpmb2dDb2VmZj0oZm9nRW5kLWZvZ0Rpc3RhbmNlKS8oZm9nRW5kLWZvZ1N0YXJ0KTsKfQplbHNlIGlmIChGT0dNT0RFX0VYUD09dkZvZ0luZm9zLngpCnsKZm9nQ29lZmY9MS4wL3BvdyhFLGZvZ0Rpc3RhbmNlKmZvZ0RlbnNpdHkpOwp9CmVsc2UgaWYgKEZPR01PREVfRVhQMj09dkZvZ0luZm9zLngpCnsKZm9nQ29lZmY9MS4wL3BvdyhFLGZvZ0Rpc3RhbmNlKmZvZ0Rpc3RhbmNlKmZvZ0RlbnNpdHkqZm9nRGVuc2l0eSk7Cn0KcmV0dXJuIGNsYW1wKGZvZ0NvZWZmLDAuMCwxLjApOwp9CiNlbmRpZgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbaHVdPWN1O3ZhciBkdT0ib2l0RnJhZ21lbnQiLHB1PWAjaWZkZWYgT1JERVJfSU5ERVBFTkRFTlRfVFJBTlNQQVJFTkNZCmZsb2F0IGZyYWdEZXB0aD1nbF9GcmFnQ29vcmQuejsgCiNpZmRlZiBPUkRFUl9JTkRFUEVOREVOVF9UUkFOU1BBUkVOQ1lfMTZCSVRTCnVpbnQgaGFsZkZsb2F0PXBhY2tIYWxmMngxNih2ZWMyKGZyYWdEZXB0aCkpOwp2ZWMyIGZ1bGw9dW5wYWNrSGFsZjJ4MTYoaGFsZkZsb2F0KTsKZnJhZ0RlcHRoPWZ1bGwueDsKI2VuZGlmCml2ZWMyIGZyYWdDb29yZD1pdmVjMihnbF9GcmFnQ29vcmQueHkpOwp2ZWMyIGxhc3REZXB0aD10ZXhlbEZldGNoKG9pdERlcHRoU2FtcGxlcixmcmFnQ29vcmQsMCkucmc7CnZlYzQgbGFzdEZyb250Q29sb3I9dGV4ZWxGZXRjaChvaXRGcm9udENvbG9yU2FtcGxlcixmcmFnQ29vcmQsMCk7CmRlcHRoLnJnPXZlYzIoLU1BWF9ERVBUSCk7CmZyb250Q29sb3I9bGFzdEZyb250Q29sb3I7CmJhY2tDb2xvcj12ZWM0KDAuMCk7CiNpZmRlZiBVU0VfUkVWRVJTRV9ERVBUSEJVRkZFUgpmbG9hdCBmdXJ0aGVzdERlcHRoPS1sYXN0RGVwdGgueDsKZmxvYXQgbmVhcmVzdERlcHRoPWxhc3REZXB0aC55OwojZWxzZQpmbG9hdCBuZWFyZXN0RGVwdGg9LWxhc3REZXB0aC54OwpmbG9hdCBmdXJ0aGVzdERlcHRoPWxhc3REZXB0aC55OwojZW5kaWYKZmxvYXQgYWxwaGFNdWx0aXBsaWVyPTEuMC1sYXN0RnJvbnRDb2xvci5hOwojaWZkZWYgVVNFX1JFVkVSU0VfREVQVEhCVUZGRVIKaWYgKGZyYWdEZXB0aD5uZWFyZXN0RGVwdGggfHwgZnJhZ0RlcHRoPGZ1cnRoZXN0RGVwdGgpIHsKI2Vsc2UKaWYgKGZyYWdEZXB0aDxuZWFyZXN0RGVwdGggfHwgZnJhZ0RlcHRoPmZ1cnRoZXN0RGVwdGgpIHsKI2VuZGlmCnJldHVybjsKfQojaWZkZWYgVVNFX1JFVkVSU0VfREVQVEhCVUZGRVIKaWYgKGZyYWdEZXB0aDxuZWFyZXN0RGVwdGggJiYgZnJhZ0RlcHRoPmZ1cnRoZXN0RGVwdGgpIHsKI2Vsc2UKaWYgKGZyYWdEZXB0aD5uZWFyZXN0RGVwdGggJiYgZnJhZ0RlcHRoPGZ1cnRoZXN0RGVwdGgpIHsKI2VuZGlmCmRlcHRoLnJnPXZlYzIoLWZyYWdEZXB0aCxmcmFnRGVwdGgpOwpyZXR1cm47Cn0KI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtkdV09cHU7dmFyIF91PSJidW1wRnJhZ21lbnQiLGd1PWB2ZWMyIHV2T2Zmc2V0PXZlYzIoMC4wLDAuMCk7CiNpZiBkZWZpbmVkKEJVTVApIHx8IGRlZmluZWQoUEFSQUxMQVgpIHx8IGRlZmluZWQoREVUQUlMKQojaWZkZWYgTk9STUFMWFlTQ0FMRQpmbG9hdCBub3JtYWxTY2FsZT0xLjA7CiNlbGlmIGRlZmluZWQoQlVNUCkKZmxvYXQgbm9ybWFsU2NhbGU9dkJ1bXBJbmZvcy55OwojZWxzZQpmbG9hdCBub3JtYWxTY2FsZT0xLjA7CiNlbmRpZgojaWYgZGVmaW5lZChUQU5HRU5UKSAmJiBkZWZpbmVkKE5PUk1BTCkKbWF0MyBUQk49dlRCTjsKI2VsaWYgZGVmaW5lZChCVU1QKQp2ZWMyIFRCTlVWPWdsX0Zyb250RmFjaW5nID8gdkJ1bXBVViA6IC12QnVtcFVWOwptYXQzIFRCTj1jb3RhbmdlbnRfZnJhbWUobm9ybWFsVypub3JtYWxTY2FsZSx2UG9zaXRpb25XLFRCTlVWLHZUYW5nZW50U3BhY2VQYXJhbXMpOwojZWxzZQp2ZWMyIFRCTlVWPWdsX0Zyb250RmFjaW5nID8gdkRldGFpbFVWIDogLXZEZXRhaWxVVjsKbWF0MyBUQk49Y290YW5nZW50X2ZyYW1lKG5vcm1hbFcqbm9ybWFsU2NhbGUsdlBvc2l0aW9uVyxUQk5VVix2ZWMyKDEuLDEuKSk7CiNlbmRpZgojZWxpZiBkZWZpbmVkKEFOSVNPVFJPUElDKQojaWYgZGVmaW5lZChUQU5HRU5UKSAmJiBkZWZpbmVkKE5PUk1BTCkKbWF0MyBUQk49dlRCTjsKI2Vsc2UKdmVjMiBUQk5VVj1nbF9Gcm9udEZhY2luZyA/IHZNYWluVVYxIDogLXZNYWluVVYxOwptYXQzIFRCTj1jb3RhbmdlbnRfZnJhbWUobm9ybWFsVyx2UG9zaXRpb25XLFRCTlVWLHZlYzIoMS4sMS4pKTsKI2VuZGlmCiNlbmRpZgojaWZkZWYgUEFSQUxMQVgKbWF0MyBpbnZUQk49dHJhbnNwb3NlTWF0MyhUQk4pOwojaWZkZWYgUEFSQUxMQVhPQ0NMVVNJT04KdXZPZmZzZXQ9cGFyYWxsYXhPY2NsdXNpb24oaW52VEJOKi12aWV3RGlyZWN0aW9uVyxpbnZUQk4qbm9ybWFsVyx2QnVtcFVWLHZCdW1wSW5mb3Mueik7CiNlbHNlCnV2T2Zmc2V0PXBhcmFsbGF4T2Zmc2V0KGludlRCTip2aWV3RGlyZWN0aW9uVyx2QnVtcEluZm9zLnopOwojZW5kaWYKI2VuZGlmCiNpZmRlZiBERVRBSUwKdmVjNCBkZXRhaWxDb2xvcj10ZXh0dXJlMkQoZGV0YWlsU2FtcGxlcix2RGV0YWlsVVYrdXZPZmZzZXQpOwp2ZWMyIGRldGFpbE5vcm1hbFJHPWRldGFpbENvbG9yLnd5KjIuMC0xLjA7CmZsb2F0IGRldGFpbE5vcm1hbEI9c3FydCgxLi1zYXR1cmF0ZShkb3QoZGV0YWlsTm9ybWFsUkcsZGV0YWlsTm9ybWFsUkcpKSk7CnZlYzMgZGV0YWlsTm9ybWFsPXZlYzMoZGV0YWlsTm9ybWFsUkcsZGV0YWlsTm9ybWFsQik7CiNlbmRpZgojaWZkZWYgQlVNUAojaWZkZWYgT0JKRUNUU1BBQ0VfTk9STUFMTUFQCm5vcm1hbFc9bm9ybWFsaXplKHRleHR1cmUyRChidW1wU2FtcGxlcix2QnVtcFVWKS54eXogKjIuMC0xLjApOwpub3JtYWxXPW5vcm1hbGl6ZShtYXQzKG5vcm1hbE1hdHJpeCkqbm9ybWFsVyk7CiNlbGlmICFkZWZpbmVkKERFVEFJTCkKbm9ybWFsVz1wZXJ0dXJiTm9ybWFsKFRCTix0ZXh0dXJlMkQoYnVtcFNhbXBsZXIsdkJ1bXBVVit1dk9mZnNldCkueHl6LHZCdW1wSW5mb3MueSk7CiNlbHNlCnZlYzMgYnVtcE5vcm1hbD10ZXh0dXJlMkQoYnVtcFNhbXBsZXIsdkJ1bXBVVit1dk9mZnNldCkueHl6KjIuMC0xLjA7CiNpZiBERVRBSUxfTk9STUFMQkxFTkRNRVRIT0Q9PTAgCmRldGFpbE5vcm1hbC54eSo9dkRldGFpbEluZm9zLno7CnZlYzMgYmxlbmRlZE5vcm1hbD1ub3JtYWxpemUodmVjMyhidW1wTm9ybWFsLnh5K2RldGFpbE5vcm1hbC54eSxidW1wTm9ybWFsLnoqZGV0YWlsTm9ybWFsLnopKTsKI2VsaWYgREVUQUlMX05PUk1BTEJMRU5ETUVUSE9EPT0xIApkZXRhaWxOb3JtYWwueHkqPXZEZXRhaWxJbmZvcy56OwpidW1wTm9ybWFsKz12ZWMzKDAuMCwwLjAsMS4wKTsKZGV0YWlsTm9ybWFsKj12ZWMzKC0xLjAsLTEuMCwxLjApOwp2ZWMzIGJsZW5kZWROb3JtYWw9YnVtcE5vcm1hbCpkb3QoYnVtcE5vcm1hbCxkZXRhaWxOb3JtYWwpL2J1bXBOb3JtYWwuei1kZXRhaWxOb3JtYWw7CiNlbmRpZgpub3JtYWxXPXBlcnR1cmJOb3JtYWxCYXNlKFRCTixibGVuZGVkTm9ybWFsLHZCdW1wSW5mb3MueSk7CiNlbmRpZgojZWxpZiBkZWZpbmVkKERFVEFJTCkKZGV0YWlsTm9ybWFsLnh5Kj12RGV0YWlsSW5mb3MuejsKbm9ybWFsVz1wZXJ0dXJiTm9ybWFsQmFzZShUQk4sZGV0YWlsTm9ybWFsLHZEZXRhaWxJbmZvcy56KTsKI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtfdV09Z3U7dmFyIHZ1PSJkZXB0aFByZVBhc3MiLG11PWAjaWZkZWYgREVQVEhQUkVQQVNTCmdsX0ZyYWdDb2xvcj12ZWM0KDAuLDAuLDAuLDEuMCk7CnJldHVybjsKI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVt2dV09bXU7dmFyIHl1PSJsaWdodEZyYWdtZW50IixidT1gI2lmZGVmIExJR0hUe1h9CiNpZiBkZWZpbmVkKFNIQURPV09OTFkpIHx8IGRlZmluZWQoTElHSFRNQVApICYmIGRlZmluZWQoTElHSFRNQVBFWENMVURFRHtYfSkgJiYgZGVmaW5lZChMSUdIVE1BUE5PU1BFQ1VMQVJ7WH0pCiNlbHNlCiNpZmRlZiBQQlIKI2lmZGVmIFNQT1RMSUdIVHtYfQpwcmVJbmZvPWNvbXB1dGVQb2ludEFuZFNwb3RQcmVMaWdodGluZ0luZm8obGlnaHR7WH0udkxpZ2h0RGF0YSx2aWV3RGlyZWN0aW9uVyxub3JtYWxXKTsKI2VsaWYgZGVmaW5lZChQT0lOVExJR0hUe1h9KQpwcmVJbmZvPWNvbXB1dGVQb2ludEFuZFNwb3RQcmVMaWdodGluZ0luZm8obGlnaHR7WH0udkxpZ2h0RGF0YSx2aWV3RGlyZWN0aW9uVyxub3JtYWxXKTsKI2VsaWYgZGVmaW5lZChIRU1JTElHSFR7WH0pCnByZUluZm89Y29tcHV0ZUhlbWlzcGhlcmljUHJlTGlnaHRpbmdJbmZvKGxpZ2h0e1h9LnZMaWdodERhdGEsdmlld0RpcmVjdGlvblcsbm9ybWFsVyk7CiNlbGlmIGRlZmluZWQoRElSTElHSFR7WH0pCnByZUluZm89Y29tcHV0ZURpcmVjdGlvbmFsUHJlTGlnaHRpbmdJbmZvKGxpZ2h0e1h9LnZMaWdodERhdGEsdmlld0RpcmVjdGlvblcsbm9ybWFsVyk7CiNlbmRpZgpwcmVJbmZvLk5kb3RWPU5kb3RWOwojaWZkZWYgU1BPVExJR0hUe1h9CiNpZmRlZiBMSUdIVF9GQUxMT0ZGX0dMVEZ7WH0KcHJlSW5mby5hdHRlbnVhdGlvbj1jb21wdXRlRGlzdGFuY2VMaWdodEZhbGxvZmZfR0xURihwcmVJbmZvLmxpZ2h0RGlzdGFuY2VTcXVhcmVkLGxpZ2h0e1h9LnZMaWdodEZhbGxvZmYueSk7CnByZUluZm8uYXR0ZW51YXRpb24qPWNvbXB1dGVEaXJlY3Rpb25hbExpZ2h0RmFsbG9mZl9HTFRGKGxpZ2h0e1h9LnZMaWdodERpcmVjdGlvbi54eXoscHJlSW5mby5MLGxpZ2h0e1h9LnZMaWdodEZhbGxvZmYueixsaWdodHtYfS52TGlnaHRGYWxsb2ZmLncpOwojZWxpZiBkZWZpbmVkKExJR0hUX0ZBTExPRkZfUEhZU0lDQUx7WH0pCnByZUluZm8uYXR0ZW51YXRpb249Y29tcHV0ZURpc3RhbmNlTGlnaHRGYWxsb2ZmX1BoeXNpY2FsKHByZUluZm8ubGlnaHREaXN0YW5jZVNxdWFyZWQpOwpwcmVJbmZvLmF0dGVudWF0aW9uKj1jb21wdXRlRGlyZWN0aW9uYWxMaWdodEZhbGxvZmZfUGh5c2ljYWwobGlnaHR7WH0udkxpZ2h0RGlyZWN0aW9uLnh5eixwcmVJbmZvLkwsbGlnaHR7WH0udkxpZ2h0RGlyZWN0aW9uLncpOwojZWxpZiBkZWZpbmVkKExJR0hUX0ZBTExPRkZfU1RBTkRBUkR7WH0pCnByZUluZm8uYXR0ZW51YXRpb249Y29tcHV0ZURpc3RhbmNlTGlnaHRGYWxsb2ZmX1N0YW5kYXJkKHByZUluZm8ubGlnaHRPZmZzZXQsbGlnaHR7WH0udkxpZ2h0RmFsbG9mZi54KTsKcHJlSW5mby5hdHRlbnVhdGlvbio9Y29tcHV0ZURpcmVjdGlvbmFsTGlnaHRGYWxsb2ZmX1N0YW5kYXJkKGxpZ2h0e1h9LnZMaWdodERpcmVjdGlvbi54eXoscHJlSW5mby5MLGxpZ2h0e1h9LnZMaWdodERpcmVjdGlvbi53LGxpZ2h0e1h9LnZMaWdodERhdGEudyk7CiNlbHNlCnByZUluZm8uYXR0ZW51YXRpb249Y29tcHV0ZURpc3RhbmNlTGlnaHRGYWxsb2ZmKHByZUluZm8ubGlnaHRPZmZzZXQscHJlSW5mby5saWdodERpc3RhbmNlU3F1YXJlZCxsaWdodHtYfS52TGlnaHRGYWxsb2ZmLngsbGlnaHR7WH0udkxpZ2h0RmFsbG9mZi55KTsKcHJlSW5mby5hdHRlbnVhdGlvbio9Y29tcHV0ZURpcmVjdGlvbmFsTGlnaHRGYWxsb2ZmKGxpZ2h0e1h9LnZMaWdodERpcmVjdGlvbi54eXoscHJlSW5mby5MLGxpZ2h0e1h9LnZMaWdodERpcmVjdGlvbi53LGxpZ2h0e1h9LnZMaWdodERhdGEudyxsaWdodHtYfS52TGlnaHRGYWxsb2ZmLnosbGlnaHR7WH0udkxpZ2h0RmFsbG9mZi53KTsKI2VuZGlmCiNlbGlmIGRlZmluZWQoUE9JTlRMSUdIVHtYfSkKI2lmZGVmIExJR0hUX0ZBTExPRkZfR0xURntYfQpwcmVJbmZvLmF0dGVudWF0aW9uPWNvbXB1dGVEaXN0YW5jZUxpZ2h0RmFsbG9mZl9HTFRGKHByZUluZm8ubGlnaHREaXN0YW5jZVNxdWFyZWQsbGlnaHR7WH0udkxpZ2h0RmFsbG9mZi55KTsKI2VsaWYgZGVmaW5lZChMSUdIVF9GQUxMT0ZGX1BIWVNJQ0FMe1h9KQpwcmVJbmZvLmF0dGVudWF0aW9uPWNvbXB1dGVEaXN0YW5jZUxpZ2h0RmFsbG9mZl9QaHlzaWNhbChwcmVJbmZvLmxpZ2h0RGlzdGFuY2VTcXVhcmVkKTsKI2VsaWYgZGVmaW5lZChMSUdIVF9GQUxMT0ZGX1NUQU5EQVJEe1h9KQpwcmVJbmZvLmF0dGVudWF0aW9uPWNvbXB1dGVEaXN0YW5jZUxpZ2h0RmFsbG9mZl9TdGFuZGFyZChwcmVJbmZvLmxpZ2h0T2Zmc2V0LGxpZ2h0e1h9LnZMaWdodEZhbGxvZmYueCk7CiNlbHNlCnByZUluZm8uYXR0ZW51YXRpb249Y29tcHV0ZURpc3RhbmNlTGlnaHRGYWxsb2ZmKHByZUluZm8ubGlnaHRPZmZzZXQscHJlSW5mby5saWdodERpc3RhbmNlU3F1YXJlZCxsaWdodHtYfS52TGlnaHRGYWxsb2ZmLngsbGlnaHR7WH0udkxpZ2h0RmFsbG9mZi55KTsKI2VuZGlmCiNlbHNlCnByZUluZm8uYXR0ZW51YXRpb249MS4wOwojZW5kaWYKI2lmZGVmIEhFTUlMSUdIVHtYfQpwcmVJbmZvLnJvdWdobmVzcz1yb3VnaG5lc3M7CiNlbHNlCnByZUluZm8ucm91Z2huZXNzPWFkanVzdFJvdWdobmVzc0Zyb21MaWdodFByb3BlcnRpZXMocm91Z2huZXNzLGxpZ2h0e1h9LnZMaWdodFNwZWN1bGFyLmEscHJlSW5mby5saWdodERpc3RhbmNlKTsKI2VuZGlmCiNpZmRlZiBJUklERVNDRU5DRQpwcmVJbmZvLmlyaWRlc2NlbmNlSW50ZW5zaXR5PWlyaWRlc2NlbmNlSW50ZW5zaXR5OwojZW5kaWYKI2lmZGVmIEhFTUlMSUdIVHtYfQppbmZvLmRpZmZ1c2U9Y29tcHV0ZUhlbWlzcGhlcmljRGlmZnVzZUxpZ2h0aW5nKHByZUluZm8sbGlnaHR7WH0udkxpZ2h0RGlmZnVzZS5yZ2IsbGlnaHR7WH0udkxpZ2h0R3JvdW5kKTsKI2VsaWYgZGVmaW5lZChTU19UUkFOU0xVQ0VOQ1kpCmluZm8uZGlmZnVzZT1jb21wdXRlRGlmZnVzZUFuZFRyYW5zbWl0dGVkTGlnaHRpbmcocHJlSW5mbyxsaWdodHtYfS52TGlnaHREaWZmdXNlLnJnYixzdWJTdXJmYWNlT3V0LnRyYW5zbWl0dGFuY2UpOwojZWxzZQppbmZvLmRpZmZ1c2U9Y29tcHV0ZURpZmZ1c2VMaWdodGluZyhwcmVJbmZvLGxpZ2h0e1h9LnZMaWdodERpZmZ1c2UucmdiKTsKI2VuZGlmCiNpZmRlZiBTUEVDVUxBUlRFUk0KI2lmZGVmIEFOSVNPVFJPUElDCmluZm8uc3BlY3VsYXI9Y29tcHV0ZUFuaXNvdHJvcGljU3BlY3VsYXJMaWdodGluZyhwcmVJbmZvLHZpZXdEaXJlY3Rpb25XLG5vcm1hbFcsYW5pc290cm9waWNPdXQuYW5pc290cm9waWNUYW5nZW50LGFuaXNvdHJvcGljT3V0LmFuaXNvdHJvcGljQml0YW5nZW50LGFuaXNvdHJvcGljT3V0LmFuaXNvdHJvcHksY2xlYXJjb2F0T3V0LnNwZWN1bGFyRW52aXJvbm1lbnRSMCxzcGVjdWxhckVudmlyb25tZW50UjkwLEFBUm91Z2huZXNzRmFjdG9ycy54LGxpZ2h0e1h9LnZMaWdodERpZmZ1c2UucmdiKTsKI2Vsc2UKaW5mby5zcGVjdWxhcj1jb21wdXRlU3BlY3VsYXJMaWdodGluZyhwcmVJbmZvLG5vcm1hbFcsY2xlYXJjb2F0T3V0LnNwZWN1bGFyRW52aXJvbm1lbnRSMCxzcGVjdWxhckVudmlyb25tZW50UjkwLEFBUm91Z2huZXNzRmFjdG9ycy54LGxpZ2h0e1h9LnZMaWdodERpZmZ1c2UucmdiKTsKI2VuZGlmCiNlbmRpZgojaWZkZWYgU0hFRU4KI2lmZGVmIFNIRUVOX0xJTktXSVRIQUxCRURPCnByZUluZm8ucm91Z2huZXNzPXNoZWVuT3V0LnNoZWVuSW50ZW5zaXR5OwojZWxzZQojaWZkZWYgSEVNSUxJR0hUe1h9CnByZUluZm8ucm91Z2huZXNzPXNoZWVuT3V0LnNoZWVuUm91Z2huZXNzOwojZWxzZQpwcmVJbmZvLnJvdWdobmVzcz1hZGp1c3RSb3VnaG5lc3NGcm9tTGlnaHRQcm9wZXJ0aWVzKHNoZWVuT3V0LnNoZWVuUm91Z2huZXNzLGxpZ2h0e1h9LnZMaWdodFNwZWN1bGFyLmEscHJlSW5mby5saWdodERpc3RhbmNlKTsKI2VuZGlmCiNlbmRpZgppbmZvLnNoZWVuPWNvbXB1dGVTaGVlbkxpZ2h0aW5nKHByZUluZm8sbm9ybWFsVyxzaGVlbk91dC5zaGVlbkNvbG9yLHNwZWN1bGFyRW52aXJvbm1lbnRSOTAsQUFSb3VnaG5lc3NGYWN0b3JzLngsbGlnaHR7WH0udkxpZ2h0RGlmZnVzZS5yZ2IpOwojZW5kaWYKI2lmZGVmIENMRUFSQ09BVAojaWZkZWYgSEVNSUxJR0hUe1h9CnByZUluZm8ucm91Z2huZXNzPWNsZWFyY29hdE91dC5jbGVhckNvYXRSb3VnaG5lc3M7CiNlbHNlCnByZUluZm8ucm91Z2huZXNzPWFkanVzdFJvdWdobmVzc0Zyb21MaWdodFByb3BlcnRpZXMoY2xlYXJjb2F0T3V0LmNsZWFyQ29hdFJvdWdobmVzcyxsaWdodHtYfS52TGlnaHRTcGVjdWxhci5hLHByZUluZm8ubGlnaHREaXN0YW5jZSk7CiNlbmRpZgppbmZvLmNsZWFyQ29hdD1jb21wdXRlQ2xlYXJDb2F0TGlnaHRpbmcocHJlSW5mbyxjbGVhcmNvYXRPdXQuY2xlYXJDb2F0Tm9ybWFsVyxjbGVhcmNvYXRPdXQuY2xlYXJDb2F0QUFSb3VnaG5lc3NGYWN0b3JzLngsY2xlYXJjb2F0T3V0LmNsZWFyQ29hdEludGVuc2l0eSxsaWdodHtYfS52TGlnaHREaWZmdXNlLnJnYik7CiNpZmRlZiBDTEVBUkNPQVRfVElOVAphYnNvcnB0aW9uPWNvbXB1dGVDbGVhckNvYXRMaWdodGluZ0Fic29ycHRpb24oY2xlYXJjb2F0T3V0LmNsZWFyQ29hdE5kb3RWUmVmcmFjdCxwcmVJbmZvLkwsY2xlYXJjb2F0T3V0LmNsZWFyQ29hdE5vcm1hbFcsY2xlYXJjb2F0T3V0LmNsZWFyQ29hdENvbG9yLGNsZWFyY29hdE91dC5jbGVhckNvYXRUaGlja25lc3MsY2xlYXJjb2F0T3V0LmNsZWFyQ29hdEludGVuc2l0eSk7CmluZm8uZGlmZnVzZSo9YWJzb3JwdGlvbjsKI2lmZGVmIFNQRUNVTEFSVEVSTQppbmZvLnNwZWN1bGFyKj1hYnNvcnB0aW9uOwojZW5kaWYKI2VuZGlmCmluZm8uZGlmZnVzZSo9aW5mby5jbGVhckNvYXQudzsKI2lmZGVmIFNQRUNVTEFSVEVSTQppbmZvLnNwZWN1bGFyKj1pbmZvLmNsZWFyQ29hdC53OwojZW5kaWYKI2lmZGVmIFNIRUVOCmluZm8uc2hlZW4qPWluZm8uY2xlYXJDb2F0Lnc7CiNlbmRpZgojZW5kaWYKI2Vsc2UKI2lmZGVmIFNQT1RMSUdIVHtYfQppbmZvPWNvbXB1dGVTcG90TGlnaHRpbmcodmlld0RpcmVjdGlvblcsbm9ybWFsVyxsaWdodHtYfS52TGlnaHREYXRhLGxpZ2h0e1h9LnZMaWdodERpcmVjdGlvbixsaWdodHtYfS52TGlnaHREaWZmdXNlLnJnYixsaWdodHtYfS52TGlnaHRTcGVjdWxhci5yZ2IsbGlnaHR7WH0udkxpZ2h0RGlmZnVzZS5hLGdsb3NzaW5lc3MpOwojZWxpZiBkZWZpbmVkKEhFTUlMSUdIVHtYfSkKaW5mbz1jb21wdXRlSGVtaXNwaGVyaWNMaWdodGluZyh2aWV3RGlyZWN0aW9uVyxub3JtYWxXLGxpZ2h0e1h9LnZMaWdodERhdGEsbGlnaHR7WH0udkxpZ2h0RGlmZnVzZS5yZ2IsbGlnaHR7WH0udkxpZ2h0U3BlY3VsYXIucmdiLGxpZ2h0e1h9LnZMaWdodEdyb3VuZCxnbG9zc2luZXNzKTsKI2VsaWYgZGVmaW5lZChQT0lOVExJR0hUe1h9KSB8fCBkZWZpbmVkKERJUkxJR0hUe1h9KQppbmZvPWNvbXB1dGVMaWdodGluZyh2aWV3RGlyZWN0aW9uVyxub3JtYWxXLGxpZ2h0e1h9LnZMaWdodERhdGEsbGlnaHR7WH0udkxpZ2h0RGlmZnVzZS5yZ2IsbGlnaHR7WH0udkxpZ2h0U3BlY3VsYXIucmdiLGxpZ2h0e1h9LnZMaWdodERpZmZ1c2UuYSxnbG9zc2luZXNzKTsKI2VuZGlmCiNlbmRpZgojaWZkZWYgUFJPSkVDVEVETElHSFRURVhUVVJFe1h9CmluZm8uZGlmZnVzZSo9Y29tcHV0ZVByb2plY3Rpb25UZXh0dXJlRGlmZnVzZUxpZ2h0aW5nKHByb2plY3Rpb25MaWdodFNhbXBsZXJ7WH0sdGV4dHVyZVByb2plY3Rpb25NYXRyaXh7WH0pOwojZW5kaWYKI2VuZGlmCiNpZmRlZiBTSEFET1d7WH0KI2lmZGVmIFNIQURPV0NTTXtYfQpmb3IgKGludCBpPTA7IGk8U0hBRE9XQ1NNTlVNX0NBU0NBREVTe1h9OyBpKyspIAp7CiNpZmRlZiBTSEFET1dDU01fUklHSFRIQU5ERUR7WH0KZGlmZntYfT12aWV3RnJ1c3R1bVp7WH1baV0rdlBvc2l0aW9uRnJvbUNhbWVyYXtYfS56OwojZWxzZQpkaWZme1h9PXZpZXdGcnVzdHVtWntYfVtpXS12UG9zaXRpb25Gcm9tQ2FtZXJhe1h9Lno7CiNlbmRpZgppZiAoZGlmZntYfT49MC4pIHsKaW5kZXh7WH09aTsKYnJlYWs7Cn0KfQojaWZkZWYgU0hBRE9XQ1NNVVNFU0hBRE9XTUFYWntYfQppZiAoaW5kZXh7WH0+PTApCiNlbmRpZgp7CiNpZiBkZWZpbmVkKFNIQURPV1BDRntYfSkKI2lmIGRlZmluZWQoU0hBRE9XTE9XUVVBTElUWXtYfSkKc2hhZG93PWNvbXB1dGVTaGFkb3dXaXRoQ1NNUENGMShmbG9hdChpbmRleHtYfSksdlBvc2l0aW9uRnJvbUxpZ2h0e1h9W2luZGV4e1h9XSx2RGVwdGhNZXRyaWN7WH1baW5kZXh7WH1dLHNoYWRvd1NhbXBsZXJ7WH0sbGlnaHR7WH0uc2hhZG93c0luZm8ueCxsaWdodHtYfS5zaGFkb3dzSW5mby53KTsKI2VsaWYgZGVmaW5lZChTSEFET1dNRURJVU1RVUFMSVRZe1h9KQpzaGFkb3c9Y29tcHV0ZVNoYWRvd1dpdGhDU01QQ0YzKGZsb2F0KGluZGV4e1h9KSx2UG9zaXRpb25Gcm9tTGlnaHR7WH1baW5kZXh7WH1dLHZEZXB0aE1ldHJpY3tYfVtpbmRleHtYfV0sc2hhZG93U2FtcGxlcntYfSxsaWdodHtYfS5zaGFkb3dzSW5mby55eixsaWdodHtYfS5zaGFkb3dzSW5mby54LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLncpOwojZWxzZQpzaGFkb3c9Y29tcHV0ZVNoYWRvd1dpdGhDU01QQ0Y1KGZsb2F0KGluZGV4e1h9KSx2UG9zaXRpb25Gcm9tTGlnaHR7WH1baW5kZXh7WH1dLHZEZXB0aE1ldHJpY3tYfVtpbmRleHtYfV0sc2hhZG93U2FtcGxlcntYfSxsaWdodHtYfS5zaGFkb3dzSW5mby55eixsaWdodHtYfS5zaGFkb3dzSW5mby54LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLncpOwojZW5kaWYKI2VsaWYgZGVmaW5lZChTSEFET1dQQ1NTe1h9KQojaWYgZGVmaW5lZChTSEFET1dMT1dRVUFMSVRZe1h9KQpzaGFkb3c9Y29tcHV0ZVNoYWRvd1dpdGhDU01QQ1NTMTYoZmxvYXQoaW5kZXh7WH0pLHZQb3NpdGlvbkZyb21MaWdodHtYfVtpbmRleHtYfV0sdkRlcHRoTWV0cmlje1h9W2luZGV4e1h9XSxkZXB0aFNhbXBsZXJ7WH0sc2hhZG93U2FtcGxlcntYfSxsaWdodHtYfS5zaGFkb3dzSW5mby55LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLnosbGlnaHR7WH0uc2hhZG93c0luZm8ueCxsaWdodHtYfS5zaGFkb3dzSW5mby53LGxpZ2h0U2l6ZVVWQ29ycmVjdGlvbntYfVtpbmRleHtYfV0sZGVwdGhDb3JyZWN0aW9ue1h9W2luZGV4e1h9XSxwZW51bWJyYURhcmtuZXNze1h9KTsKI2VsaWYgZGVmaW5lZChTSEFET1dNRURJVU1RVUFMSVRZe1h9KQpzaGFkb3c9Y29tcHV0ZVNoYWRvd1dpdGhDU01QQ1NTMzIoZmxvYXQoaW5kZXh7WH0pLHZQb3NpdGlvbkZyb21MaWdodHtYfVtpbmRleHtYfV0sdkRlcHRoTWV0cmlje1h9W2luZGV4e1h9XSxkZXB0aFNhbXBsZXJ7WH0sc2hhZG93U2FtcGxlcntYfSxsaWdodHtYfS5zaGFkb3dzSW5mby55LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLnosbGlnaHR7WH0uc2hhZG93c0luZm8ueCxsaWdodHtYfS5zaGFkb3dzSW5mby53LGxpZ2h0U2l6ZVVWQ29ycmVjdGlvbntYfVtpbmRleHtYfV0sZGVwdGhDb3JyZWN0aW9ue1h9W2luZGV4e1h9XSxwZW51bWJyYURhcmtuZXNze1h9KTsKI2Vsc2UKc2hhZG93PWNvbXB1dGVTaGFkb3dXaXRoQ1NNUENTUzY0KGZsb2F0KGluZGV4e1h9KSx2UG9zaXRpb25Gcm9tTGlnaHR7WH1baW5kZXh7WH1dLHZEZXB0aE1ldHJpY3tYfVtpbmRleHtYfV0sZGVwdGhTYW1wbGVye1h9LHNoYWRvd1NhbXBsZXJ7WH0sbGlnaHR7WH0uc2hhZG93c0luZm8ueSxsaWdodHtYfS5zaGFkb3dzSW5mby56LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLngsbGlnaHR7WH0uc2hhZG93c0luZm8udyxsaWdodFNpemVVVkNvcnJlY3Rpb257WH1baW5kZXh7WH1dLGRlcHRoQ29ycmVjdGlvbntYfVtpbmRleHtYfV0scGVudW1icmFEYXJrbmVzc3tYfSk7CiNlbmRpZgojZWxzZQpzaGFkb3c9Y29tcHV0ZVNoYWRvd0NTTShmbG9hdChpbmRleHtYfSksdlBvc2l0aW9uRnJvbUxpZ2h0e1h9W2luZGV4e1h9XSx2RGVwdGhNZXRyaWN7WH1baW5kZXh7WH1dLHNoYWRvd1NhbXBsZXJ7WH0sbGlnaHR7WH0uc2hhZG93c0luZm8ueCxsaWdodHtYfS5zaGFkb3dzSW5mby53KTsKI2VuZGlmCiNpZmRlZiBTSEFET1dDU01ERUJVR3tYfQpzaGFkb3dEZWJ1Z3tYfT12ZWMzKHNoYWRvdykqdkNhc2NhZGVDb2xvcnNNdWx0aXBsaWVye1h9W2luZGV4e1h9XTsKI2VuZGlmCiNpZm5kZWYgU0hBRE9XQ1NNTk9CTEVORHtYfQpmbG9hdCBmcnVzdHVtTGVuZ3RoPWZydXN0dW1MZW5ndGhze1h9W2luZGV4e1h9XTsKZmxvYXQgZGlmZlJhdGlvPWNsYW1wKGRpZmZ7WH0vZnJ1c3R1bUxlbmd0aCwwLiwxLikqY2FzY2FkZUJsZW5kRmFjdG9ye1h9OwppZiAoaW5kZXh7WH08KFNIQURPV0NTTU5VTV9DQVNDQURFU3tYfS0xKSAmJiBkaWZmUmF0aW88MS4pCnsKaW5kZXh7WH0rPTE7CmZsb2F0IG5leHRTaGFkb3c9MC47CiNpZiBkZWZpbmVkKFNIQURPV1BDRntYfSkKI2lmIGRlZmluZWQoU0hBRE9XTE9XUVVBTElUWXtYfSkKbmV4dFNoYWRvdz1jb21wdXRlU2hhZG93V2l0aENTTVBDRjEoZmxvYXQoaW5kZXh7WH0pLHZQb3NpdGlvbkZyb21MaWdodHtYfVtpbmRleHtYfV0sdkRlcHRoTWV0cmlje1h9W2luZGV4e1h9XSxzaGFkb3dTYW1wbGVye1h9LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLngsbGlnaHR7WH0uc2hhZG93c0luZm8udyk7CiNlbGlmIGRlZmluZWQoU0hBRE9XTUVESVVNUVVBTElUWXtYfSkKbmV4dFNoYWRvdz1jb21wdXRlU2hhZG93V2l0aENTTVBDRjMoZmxvYXQoaW5kZXh7WH0pLHZQb3NpdGlvbkZyb21MaWdodHtYfVtpbmRleHtYfV0sdkRlcHRoTWV0cmlje1h9W2luZGV4e1h9XSxzaGFkb3dTYW1wbGVye1h9LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLnl6LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLngsbGlnaHR7WH0uc2hhZG93c0luZm8udyk7CiNlbHNlCm5leHRTaGFkb3c9Y29tcHV0ZVNoYWRvd1dpdGhDU01QQ0Y1KGZsb2F0KGluZGV4e1h9KSx2UG9zaXRpb25Gcm9tTGlnaHR7WH1baW5kZXh7WH1dLHZEZXB0aE1ldHJpY3tYfVtpbmRleHtYfV0sc2hhZG93U2FtcGxlcntYfSxsaWdodHtYfS5zaGFkb3dzSW5mby55eixsaWdodHtYfS5zaGFkb3dzSW5mby54LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLncpOwojZW5kaWYKI2VsaWYgZGVmaW5lZChTSEFET1dQQ1NTe1h9KQojaWYgZGVmaW5lZChTSEFET1dMT1dRVUFMSVRZe1h9KQpuZXh0U2hhZG93PWNvbXB1dGVTaGFkb3dXaXRoQ1NNUENTUzE2KGZsb2F0KGluZGV4e1h9KSx2UG9zaXRpb25Gcm9tTGlnaHR7WH1baW5kZXh7WH1dLHZEZXB0aE1ldHJpY3tYfVtpbmRleHtYfV0sZGVwdGhTYW1wbGVye1h9LHNoYWRvd1NhbXBsZXJ7WH0sbGlnaHR7WH0uc2hhZG93c0luZm8ueSxsaWdodHtYfS5zaGFkb3dzSW5mby56LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLngsbGlnaHR7WH0uc2hhZG93c0luZm8udyxsaWdodFNpemVVVkNvcnJlY3Rpb257WH1baW5kZXh7WH1dLGRlcHRoQ29ycmVjdGlvbntYfVtpbmRleHtYfV0scGVudW1icmFEYXJrbmVzc3tYfSk7CiNlbGlmIGRlZmluZWQoU0hBRE9XTUVESVVNUVVBTElUWXtYfSkKbmV4dFNoYWRvdz1jb21wdXRlU2hhZG93V2l0aENTTVBDU1MzMihmbG9hdChpbmRleHtYfSksdlBvc2l0aW9uRnJvbUxpZ2h0e1h9W2luZGV4e1h9XSx2RGVwdGhNZXRyaWN7WH1baW5kZXh7WH1dLGRlcHRoU2FtcGxlcntYfSxzaGFkb3dTYW1wbGVye1h9LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLnksbGlnaHR7WH0uc2hhZG93c0luZm8ueixsaWdodHtYfS5zaGFkb3dzSW5mby54LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLncsbGlnaHRTaXplVVZDb3JyZWN0aW9ue1h9W2luZGV4e1h9XSxkZXB0aENvcnJlY3Rpb257WH1baW5kZXh7WH1dLHBlbnVtYnJhRGFya25lc3N7WH0pOwojZWxzZQpuZXh0U2hhZG93PWNvbXB1dGVTaGFkb3dXaXRoQ1NNUENTUzY0KGZsb2F0KGluZGV4e1h9KSx2UG9zaXRpb25Gcm9tTGlnaHR7WH1baW5kZXh7WH1dLHZEZXB0aE1ldHJpY3tYfVtpbmRleHtYfV0sZGVwdGhTYW1wbGVye1h9LHNoYWRvd1NhbXBsZXJ7WH0sbGlnaHR7WH0uc2hhZG93c0luZm8ueSxsaWdodHtYfS5zaGFkb3dzSW5mby56LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLngsbGlnaHR7WH0uc2hhZG93c0luZm8udyxsaWdodFNpemVVVkNvcnJlY3Rpb257WH1baW5kZXh7WH1dLGRlcHRoQ29ycmVjdGlvbntYfVtpbmRleHtYfV0scGVudW1icmFEYXJrbmVzc3tYfSk7CiNlbmRpZgojZWxzZQpuZXh0U2hhZG93PWNvbXB1dGVTaGFkb3dDU00oZmxvYXQoaW5kZXh7WH0pLHZQb3NpdGlvbkZyb21MaWdodHtYfVtpbmRleHtYfV0sdkRlcHRoTWV0cmlje1h9W2luZGV4e1h9XSxzaGFkb3dTYW1wbGVye1h9LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLngsbGlnaHR7WH0uc2hhZG93c0luZm8udyk7CiNlbmRpZgpzaGFkb3c9bWl4KG5leHRTaGFkb3csc2hhZG93LGRpZmZSYXRpbyk7CiNpZmRlZiBTSEFET1dDU01ERUJVR3tYfQpzaGFkb3dEZWJ1Z3tYfT1taXgodmVjMyhuZXh0U2hhZG93KSp2Q2FzY2FkZUNvbG9yc011bHRpcGxpZXJ7WH1baW5kZXh7WH1dLHNoYWRvd0RlYnVne1h9LGRpZmZSYXRpbyk7CiNlbmRpZgp9CiNlbmRpZgp9CiNlbGlmIGRlZmluZWQoU0hBRE9XQ0xPU0VFU017WH0pCiNpZiBkZWZpbmVkKFNIQURPV0NVQkV7WH0pCnNoYWRvdz1jb21wdXRlU2hhZG93V2l0aENsb3NlRVNNQ3ViZShsaWdodHtYfS52TGlnaHREYXRhLnh5eixzaGFkb3dTYW1wbGVye1h9LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLngsbGlnaHR7WH0uc2hhZG93c0luZm8ueixsaWdodHtYfS5kZXB0aFZhbHVlcyk7CiNlbHNlCnNoYWRvdz1jb21wdXRlU2hhZG93V2l0aENsb3NlRVNNKHZQb3NpdGlvbkZyb21MaWdodHtYfSx2RGVwdGhNZXRyaWN7WH0sc2hhZG93U2FtcGxlcntYfSxsaWdodHtYfS5zaGFkb3dzSW5mby54LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLnosbGlnaHR7WH0uc2hhZG93c0luZm8udyk7CiNlbmRpZgojZWxpZiBkZWZpbmVkKFNIQURPV0VTTXtYfSkKI2lmIGRlZmluZWQoU0hBRE9XQ1VCRXtYfSkKc2hhZG93PWNvbXB1dGVTaGFkb3dXaXRoRVNNQ3ViZShsaWdodHtYfS52TGlnaHREYXRhLnh5eixzaGFkb3dTYW1wbGVye1h9LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLngsbGlnaHR7WH0uc2hhZG93c0luZm8ueixsaWdodHtYfS5kZXB0aFZhbHVlcyk7CiNlbHNlCnNoYWRvdz1jb21wdXRlU2hhZG93V2l0aEVTTSh2UG9zaXRpb25Gcm9tTGlnaHR7WH0sdkRlcHRoTWV0cmlje1h9LHNoYWRvd1NhbXBsZXJ7WH0sbGlnaHR7WH0uc2hhZG93c0luZm8ueCxsaWdodHtYfS5zaGFkb3dzSW5mby56LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLncpOwojZW5kaWYKI2VsaWYgZGVmaW5lZChTSEFET1dQT0lTU09Oe1h9KQojaWYgZGVmaW5lZChTSEFET1dDVUJFe1h9KQpzaGFkb3c9Y29tcHV0ZVNoYWRvd1dpdGhQb2lzc29uU2FtcGxpbmdDdWJlKGxpZ2h0e1h9LnZMaWdodERhdGEueHl6LHNoYWRvd1NhbXBsZXJ7WH0sbGlnaHR7WH0uc2hhZG93c0luZm8ueSxsaWdodHtYfS5zaGFkb3dzSW5mby54LGxpZ2h0e1h9LmRlcHRoVmFsdWVzKTsKI2Vsc2UKc2hhZG93PWNvbXB1dGVTaGFkb3dXaXRoUG9pc3NvblNhbXBsaW5nKHZQb3NpdGlvbkZyb21MaWdodHtYfSx2RGVwdGhNZXRyaWN7WH0sc2hhZG93U2FtcGxlcntYfSxsaWdodHtYfS5zaGFkb3dzSW5mby55LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLngsbGlnaHR7WH0uc2hhZG93c0luZm8udyk7CiNlbmRpZgojZWxpZiBkZWZpbmVkKFNIQURPV1BDRntYfSkKI2lmIGRlZmluZWQoU0hBRE9XTE9XUVVBTElUWXtYfSkKc2hhZG93PWNvbXB1dGVTaGFkb3dXaXRoUENGMSh2UG9zaXRpb25Gcm9tTGlnaHR7WH0sdkRlcHRoTWV0cmlje1h9LHNoYWRvd1NhbXBsZXJ7WH0sbGlnaHR7WH0uc2hhZG93c0luZm8ueCxsaWdodHtYfS5zaGFkb3dzSW5mby53KTsKI2VsaWYgZGVmaW5lZChTSEFET1dNRURJVU1RVUFMSVRZe1h9KQpzaGFkb3c9Y29tcHV0ZVNoYWRvd1dpdGhQQ0YzKHZQb3NpdGlvbkZyb21MaWdodHtYfSx2RGVwdGhNZXRyaWN7WH0sc2hhZG93U2FtcGxlcntYfSxsaWdodHtYfS5zaGFkb3dzSW5mby55eixsaWdodHtYfS5zaGFkb3dzSW5mby54LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLncpOwojZWxzZQpzaGFkb3c9Y29tcHV0ZVNoYWRvd1dpdGhQQ0Y1KHZQb3NpdGlvbkZyb21MaWdodHtYfSx2RGVwdGhNZXRyaWN7WH0sc2hhZG93U2FtcGxlcntYfSxsaWdodHtYfS5zaGFkb3dzSW5mby55eixsaWdodHtYfS5zaGFkb3dzSW5mby54LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLncpOwojZW5kaWYKI2VsaWYgZGVmaW5lZChTSEFET1dQQ1NTe1h9KQojaWYgZGVmaW5lZChTSEFET1dMT1dRVUFMSVRZe1h9KQpzaGFkb3c9Y29tcHV0ZVNoYWRvd1dpdGhQQ1NTMTYodlBvc2l0aW9uRnJvbUxpZ2h0e1h9LHZEZXB0aE1ldHJpY3tYfSxkZXB0aFNhbXBsZXJ7WH0sc2hhZG93U2FtcGxlcntYfSxsaWdodHtYfS5zaGFkb3dzSW5mby55LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLnosbGlnaHR7WH0uc2hhZG93c0luZm8ueCxsaWdodHtYfS5zaGFkb3dzSW5mby53KTsKI2VsaWYgZGVmaW5lZChTSEFET1dNRURJVU1RVUFMSVRZe1h9KQpzaGFkb3c9Y29tcHV0ZVNoYWRvd1dpdGhQQ1NTMzIodlBvc2l0aW9uRnJvbUxpZ2h0e1h9LHZEZXB0aE1ldHJpY3tYfSxkZXB0aFNhbXBsZXJ7WH0sc2hhZG93U2FtcGxlcntYfSxsaWdodHtYfS5zaGFkb3dzSW5mby55LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLnosbGlnaHR7WH0uc2hhZG93c0luZm8ueCxsaWdodHtYfS5zaGFkb3dzSW5mby53KTsKI2Vsc2UKc2hhZG93PWNvbXB1dGVTaGFkb3dXaXRoUENTUzY0KHZQb3NpdGlvbkZyb21MaWdodHtYfSx2RGVwdGhNZXRyaWN7WH0sZGVwdGhTYW1wbGVye1h9LHNoYWRvd1NhbXBsZXJ7WH0sbGlnaHR7WH0uc2hhZG93c0luZm8ueSxsaWdodHtYfS5zaGFkb3dzSW5mby56LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLngsbGlnaHR7WH0uc2hhZG93c0luZm8udyk7CiNlbmRpZgojZWxzZQojaWYgZGVmaW5lZChTSEFET1dDVUJFe1h9KQpzaGFkb3c9Y29tcHV0ZVNoYWRvd0N1YmUobGlnaHR7WH0udkxpZ2h0RGF0YS54eXosc2hhZG93U2FtcGxlcntYfSxsaWdodHtYfS5zaGFkb3dzSW5mby54LGxpZ2h0e1h9LmRlcHRoVmFsdWVzKTsKI2Vsc2UKc2hhZG93PWNvbXB1dGVTaGFkb3codlBvc2l0aW9uRnJvbUxpZ2h0e1h9LHZEZXB0aE1ldHJpY3tYfSxzaGFkb3dTYW1wbGVye1h9LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLngsbGlnaHR7WH0uc2hhZG93c0luZm8udyk7CiNlbmRpZgojZW5kaWYKI2lmZGVmIFNIQURPV09OTFkKI2lmbmRlZiBTSEFET1dJTlVTRQojZGVmaW5lIFNIQURPV0lOVVNFCiNlbmRpZgpnbG9iYWxTaGFkb3crPXNoYWRvdzsKc2hhZG93TGlnaHRDb3VudCs9MS4wOwojZW5kaWYKI2Vsc2UKc2hhZG93PTEuOwojZW5kaWYKI2lmbmRlZiBTSEFET1dPTkxZCiNpZmRlZiBDVVNUT01VU0VSTElHSFRJTkcKZGlmZnVzZUJhc2UrPWNvbXB1dGVDdXN0b21EaWZmdXNlTGlnaHRpbmcoaW5mbyxkaWZmdXNlQmFzZSxzaGFkb3cpOwojaWZkZWYgU1BFQ1VMQVJURVJNCnNwZWN1bGFyQmFzZSs9Y29tcHV0ZUN1c3RvbVNwZWN1bGFyTGlnaHRpbmcoaW5mbyxzcGVjdWxhckJhc2Usc2hhZG93KTsKI2VuZGlmCiNlbGlmIGRlZmluZWQoTElHSFRNQVApICYmIGRlZmluZWQoTElHSFRNQVBFWENMVURFRHtYfSkKZGlmZnVzZUJhc2UrPWxpZ2h0bWFwQ29sb3IucmdiKnNoYWRvdzsKI2lmZGVmIFNQRUNVTEFSVEVSTQojaWZuZGVmIExJR0hUTUFQTk9TUEVDVUxBUntYfQpzcGVjdWxhckJhc2UrPWluZm8uc3BlY3VsYXIqc2hhZG93KmxpZ2h0bWFwQ29sb3IucmdiOwojZW5kaWYKI2VuZGlmCiNpZmRlZiBDTEVBUkNPQVQKI2lmbmRlZiBMSUdIVE1BUE5PU1BFQ1VMQVJ7WH0KY2xlYXJDb2F0QmFzZSs9aW5mby5jbGVhckNvYXQucmdiKnNoYWRvdypsaWdodG1hcENvbG9yLnJnYjsKI2VuZGlmCiNlbmRpZgojaWZkZWYgU0hFRU4KI2lmbmRlZiBMSUdIVE1BUE5PU1BFQ1VMQVJ7WH0Kc2hlZW5CYXNlKz1pbmZvLnNoZWVuLnJnYipzaGFkb3c7CiNlbmRpZgojZW5kaWYKI2Vsc2UKI2lmZGVmIFNIQURPV0NTTURFQlVHe1h9CmRpZmZ1c2VCYXNlKz1pbmZvLmRpZmZ1c2Uqc2hhZG93RGVidWd7WH07CiNlbHNlIApkaWZmdXNlQmFzZSs9aW5mby5kaWZmdXNlKnNoYWRvdzsKI2VuZGlmCiNpZmRlZiBTUEVDVUxBUlRFUk0Kc3BlY3VsYXJCYXNlKz1pbmZvLnNwZWN1bGFyKnNoYWRvdzsKI2VuZGlmCiNpZmRlZiBDTEVBUkNPQVQKY2xlYXJDb2F0QmFzZSs9aW5mby5jbGVhckNvYXQucmdiKnNoYWRvdzsKI2VuZGlmCiNpZmRlZiBTSEVFTgpzaGVlbkJhc2UrPWluZm8uc2hlZW4ucmdiKnNoYWRvdzsKI2VuZGlmCiNlbmRpZgojZW5kaWYKI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVt5dV09YnU7dmFyIEV1PSJsb2dEZXB0aEZyYWdtZW50IixUdT1gI2lmZGVmIExPR0FSSVRITUlDREVQVEgKZ2xfRnJhZ0RlcHRoRVhUPWxvZzIodkZyYWdtZW50RGVwdGgpKmxvZ2FyaXRobWljRGVwdGhDb25zdGFudCowLjU7CiNlbmRpZgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbRXVdPVR1O3ZhciBTdT0iZm9nRnJhZ21lbnQiLE11PWAjaWZkZWYgRk9HCmZsb2F0IGZvZz1DYWxjRm9nRmFjdG9yKCk7CiNpZmRlZiBQQlIKZm9nPXRvTGluZWFyU3BhY2UoZm9nKTsKI2VuZGlmCmNvbG9yLnJnYj1taXgodkZvZ0NvbG9yLGNvbG9yLnJnYixmb2cpOwojZW5kaWYKYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW1N1XT1NdTt2YXIgQXU9ImRlZmF1bHRQaXhlbFNoYWRlciIsUnU9YCNpbmNsdWRlPF9fZGVjbF9fZGVmYXVsdEZyYWdtZW50PgojaWYgZGVmaW5lZChCVU1QKSB8fCAhZGVmaW5lZChOT1JNQUwpCiNleHRlbnNpb24gR0xfT0VTX3N0YW5kYXJkX2Rlcml2YXRpdmVzIDogZW5hYmxlCiNlbmRpZgojaW5jbHVkZTxwcmVQYXNzRGVjbGFyYXRpb24+W1NDRU5FX01SVF9DT1VOVF0KI2luY2x1ZGU8b2l0RGVjbGFyYXRpb24+CiNkZWZpbmUgQ1VTVE9NX0ZSQUdNRU5UX0JFR0lOCiNpZmRlZiBMT0dBUklUSE1JQ0RFUFRICiNleHRlbnNpb24gR0xfRVhUX2ZyYWdfZGVwdGggOiBlbmFibGUKI2VuZGlmCiNkZWZpbmUgUkVDSVBST0NBTF9QSTIgMC4xNTkxNTQ5NAp2YXJ5aW5nIHZlYzMgdlBvc2l0aW9uVzsKI2lmZGVmIE5PUk1BTAp2YXJ5aW5nIHZlYzMgdk5vcm1hbFc7CiNlbmRpZgojaWYgZGVmaW5lZChWRVJURVhDT0xPUikgfHwgZGVmaW5lZChJTlNUQU5DRVNDT0xPUikKdmFyeWluZyB2ZWM0IHZDb2xvcjsKI2VuZGlmCiNpbmNsdWRlPG1haW5VVlZhcnlpbmdEZWNsYXJhdGlvbj5bMS4uN10KI2luY2x1ZGU8aGVscGVyRnVuY3Rpb25zPgojaW5jbHVkZTxfX2RlY2xfX2xpZ2h0RnJhZ21lbnQ+WzAuLm1heFNpbXVsdGFuZW91c0xpZ2h0c10KI2luY2x1ZGU8bGlnaHRzRnJhZ21lbnRGdW5jdGlvbnM+CiNpbmNsdWRlPHNoYWRvd3NGcmFnbWVudEZ1bmN0aW9ucz4KI2luY2x1ZGU8c2FtcGxlckZyYWdtZW50RGVjbGFyYXRpb24+KF9ERUZJTkVOQU1FXyxESUZGVVNFLF9WQVJZSU5HTkFNRV8sRGlmZnVzZSxfU0FNUExFUk5BTUVfLGRpZmZ1c2UpCiNpbmNsdWRlPHNhbXBsZXJGcmFnbWVudERlY2xhcmF0aW9uPihfREVGSU5FTkFNRV8sQU1CSUVOVCxfVkFSWUlOR05BTUVfLEFtYmllbnQsX1NBTVBMRVJOQU1FXyxhbWJpZW50KQojaW5jbHVkZTxzYW1wbGVyRnJhZ21lbnREZWNsYXJhdGlvbj4oX0RFRklORU5BTUVfLE9QQUNJVFksX1ZBUllJTkdOQU1FXyxPcGFjaXR5LF9TQU1QTEVSTkFNRV8sb3BhY2l0eSkKI2luY2x1ZGU8c2FtcGxlckZyYWdtZW50RGVjbGFyYXRpb24+KF9ERUZJTkVOQU1FXyxFTUlTU0lWRSxfVkFSWUlOR05BTUVfLEVtaXNzaXZlLF9TQU1QTEVSTkFNRV8sZW1pc3NpdmUpCiNpbmNsdWRlPHNhbXBsZXJGcmFnbWVudERlY2xhcmF0aW9uPihfREVGSU5FTkFNRV8sTElHSFRNQVAsX1ZBUllJTkdOQU1FXyxMaWdodG1hcCxfU0FNUExFUk5BTUVfLGxpZ2h0bWFwKQojaWZkZWYgUkVGUkFDVElPTgojaWZkZWYgUkVGUkFDVElPTk1BUF8zRAp1bmlmb3JtIHNhbXBsZXJDdWJlIHJlZnJhY3Rpb25DdWJlU2FtcGxlcjsKI2Vsc2UKdW5pZm9ybSBzYW1wbGVyMkQgcmVmcmFjdGlvbjJEU2FtcGxlcjsKI2VuZGlmCiNlbmRpZgojaWYgZGVmaW5lZChTUEVDVUxBUlRFUk0pCiNpbmNsdWRlPHNhbXBsZXJGcmFnbWVudERlY2xhcmF0aW9uPihfREVGSU5FTkFNRV8sU1BFQ1VMQVIsX1ZBUllJTkdOQU1FXyxTcGVjdWxhcixfU0FNUExFUk5BTUVfLHNwZWN1bGFyKQojZW5kaWYKI2luY2x1ZGU8ZnJlc25lbEZ1bmN0aW9uPgojaWZkZWYgUkVGTEVDVElPTgojaWZkZWYgUkVGTEVDVElPTk1BUF8zRAp1bmlmb3JtIHNhbXBsZXJDdWJlIHJlZmxlY3Rpb25DdWJlU2FtcGxlcjsKI2Vsc2UKdW5pZm9ybSBzYW1wbGVyMkQgcmVmbGVjdGlvbjJEU2FtcGxlcjsKI2VuZGlmCiNpZmRlZiBSRUZMRUNUSU9OTUFQX1NLWUJPWAp2YXJ5aW5nIHZlYzMgdlBvc2l0aW9uVVZXOwojZWxzZQojaWYgZGVmaW5lZChSRUZMRUNUSU9OTUFQX0VRVUlSRUNUQU5HVUxBUl9GSVhFRCkgfHwgZGVmaW5lZChSRUZMRUNUSU9OTUFQX01JUlJPUkVERVFVSVJFQ1RBTkdVTEFSX0ZJWEVEKQp2YXJ5aW5nIHZlYzMgdkRpcmVjdGlvblc7CiNlbmRpZgojZW5kaWYKI2luY2x1ZGU8cmVmbGVjdGlvbkZ1bmN0aW9uPgojZW5kaWYKI2luY2x1ZGU8aW1hZ2VQcm9jZXNzaW5nRGVjbGFyYXRpb24+CiNpbmNsdWRlPGltYWdlUHJvY2Vzc2luZ0Z1bmN0aW9ucz4KI2luY2x1ZGU8YnVtcEZyYWdtZW50TWFpbkZ1bmN0aW9ucz4KI2luY2x1ZGU8YnVtcEZyYWdtZW50RnVuY3Rpb25zPgojaW5jbHVkZTxjbGlwUGxhbmVGcmFnbWVudERlY2xhcmF0aW9uPgojaW5jbHVkZTxsb2dEZXB0aERlY2xhcmF0aW9uPgojaW5jbHVkZTxmb2dGcmFnbWVudERlY2xhcmF0aW9uPgojZGVmaW5lIENVU1RPTV9GUkFHTUVOVF9ERUZJTklUSU9OUwp2b2lkIG1haW4odm9pZCkgewojZGVmaW5lIENVU1RPTV9GUkFHTUVOVF9NQUlOX0JFR0lOCiNpbmNsdWRlPG9pdEZyYWdtZW50PgojaW5jbHVkZTxjbGlwUGxhbmVGcmFnbWVudD4KdmVjMyB2aWV3RGlyZWN0aW9uVz1ub3JtYWxpemUodkV5ZVBvc2l0aW9uLnh5ei12UG9zaXRpb25XKTsKdmVjNCBiYXNlQ29sb3I9dmVjNCgxLiwxLiwxLiwxLik7CnZlYzMgZGlmZnVzZUNvbG9yPXZEaWZmdXNlQ29sb3IucmdiOwpmbG9hdCBhbHBoYT12RGlmZnVzZUNvbG9yLmE7CiNpZmRlZiBOT1JNQUwKdmVjMyBub3JtYWxXPW5vcm1hbGl6ZSh2Tm9ybWFsVyk7CiNlbHNlCnZlYzMgbm9ybWFsVz1ub3JtYWxpemUoLWNyb3NzKGRGZHgodlBvc2l0aW9uVyksZEZkeSh2UG9zaXRpb25XKSkpOwojZW5kaWYKI2luY2x1ZGU8YnVtcEZyYWdtZW50PgojaWZkZWYgVFdPU0lERURMSUdIVElORwpub3JtYWxXPWdsX0Zyb250RmFjaW5nID8gbm9ybWFsVyA6IC1ub3JtYWxXOwojZW5kaWYKI2lmZGVmIERJRkZVU0UKYmFzZUNvbG9yPXRleHR1cmUyRChkaWZmdXNlU2FtcGxlcix2RGlmZnVzZVVWK3V2T2Zmc2V0KTsKI2lmIGRlZmluZWQoQUxQSEFURVNUKSAmJiAhZGVmaW5lZChBTFBIQVRFU1RfQUZURVJBTExBTFBIQUNPTVBVVEFUSU9OUykKaWYgKGJhc2VDb2xvci5hPGFscGhhQ3V0T2ZmKQpkaXNjYXJkOwojZW5kaWYKI2lmZGVmIEFMUEhBRlJPTURJRkZVU0UKYWxwaGEqPWJhc2VDb2xvci5hOwojZW5kaWYKI2RlZmluZSBDVVNUT01fRlJBR01FTlRfVVBEQVRFX0FMUEhBCmJhc2VDb2xvci5yZ2IqPXZEaWZmdXNlSW5mb3MueTsKI2VuZGlmCiNpbmNsdWRlPGRlcHRoUHJlUGFzcz4KI2lmIGRlZmluZWQoVkVSVEVYQ09MT1IpIHx8IGRlZmluZWQoSU5TVEFOQ0VTQ09MT1IpCmJhc2VDb2xvci5yZ2IqPXZDb2xvci5yZ2I7CiNlbmRpZgojaWZkZWYgREVUQUlMCmJhc2VDb2xvci5yZ2I9YmFzZUNvbG9yLnJnYioyLjAqbWl4KDAuNSxkZXRhaWxDb2xvci5yLHZEZXRhaWxJbmZvcy55KTsKI2VuZGlmCiNkZWZpbmUgQ1VTVE9NX0ZSQUdNRU5UX1VQREFURV9ESUZGVVNFCnZlYzMgYmFzZUFtYmllbnRDb2xvcj12ZWMzKDEuLDEuLDEuKTsKI2lmZGVmIEFNQklFTlQKYmFzZUFtYmllbnRDb2xvcj10ZXh0dXJlMkQoYW1iaWVudFNhbXBsZXIsdkFtYmllbnRVVit1dk9mZnNldCkucmdiKnZBbWJpZW50SW5mb3MueTsKI2VuZGlmCiNkZWZpbmUgQ1VTVE9NX0ZSQUdNRU5UX0JFRk9SRV9MSUdIVFMKI2lmZGVmIFNQRUNVTEFSVEVSTQpmbG9hdCBnbG9zc2luZXNzPXZTcGVjdWxhckNvbG9yLmE7CnZlYzMgc3BlY3VsYXJDb2xvcj12U3BlY3VsYXJDb2xvci5yZ2I7CiNpZmRlZiBTUEVDVUxBUgp2ZWM0IHNwZWN1bGFyTWFwQ29sb3I9dGV4dHVyZTJEKHNwZWN1bGFyU2FtcGxlcix2U3BlY3VsYXJVVit1dk9mZnNldCk7CnNwZWN1bGFyQ29sb3I9c3BlY3VsYXJNYXBDb2xvci5yZ2I7CiNpZmRlZiBHTE9TU0lORVNTCmdsb3NzaW5lc3M9Z2xvc3NpbmVzcypzcGVjdWxhck1hcENvbG9yLmE7CiNlbmRpZgojZW5kaWYKI2Vsc2UKZmxvYXQgZ2xvc3NpbmVzcz0wLjsKI2VuZGlmCnZlYzMgZGlmZnVzZUJhc2U9dmVjMygwLiwwLiwwLik7CmxpZ2h0aW5nSW5mbyBpbmZvOwojaWZkZWYgU1BFQ1VMQVJURVJNCnZlYzMgc3BlY3VsYXJCYXNlPXZlYzMoMC4sMC4sMC4pOwojZW5kaWYKZmxvYXQgc2hhZG93PTEuOwojaWZkZWYgTElHSFRNQVAKdmVjNCBsaWdodG1hcENvbG9yPXRleHR1cmUyRChsaWdodG1hcFNhbXBsZXIsdkxpZ2h0bWFwVVYrdXZPZmZzZXQpOwojaWZkZWYgUkdCRExJR0hUTUFQCmxpZ2h0bWFwQ29sb3IucmdiPWZyb21SR0JEKGxpZ2h0bWFwQ29sb3IpOwojZW5kaWYKbGlnaHRtYXBDb2xvci5yZ2IqPXZMaWdodG1hcEluZm9zLnk7CiNlbmRpZgojaW5jbHVkZTxsaWdodEZyYWdtZW50PlswLi5tYXhTaW11bHRhbmVvdXNMaWdodHNdCnZlYzQgcmVmcmFjdGlvbkNvbG9yPXZlYzQoMC4sMC4sMC4sMS4pOwojaWZkZWYgUkVGUkFDVElPTgp2ZWMzIHJlZnJhY3Rpb25WZWN0b3I9bm9ybWFsaXplKHJlZnJhY3QoLXZpZXdEaXJlY3Rpb25XLG5vcm1hbFcsdlJlZnJhY3Rpb25JbmZvcy55KSk7CiNpZmRlZiBSRUZSQUNUSU9OTUFQXzNECiNpZmRlZiBVU0VfTE9DQUxfUkVGUkFDVElPTk1BUF9DVUJJQwpyZWZyYWN0aW9uVmVjdG9yPXBhcmFsbGF4Q29ycmVjdE5vcm1hbCh2UG9zaXRpb25XLHJlZnJhY3Rpb25WZWN0b3IsdlJlZnJhY3Rpb25TaXplLHZSZWZyYWN0aW9uUG9zaXRpb24pOwojZW5kaWYKcmVmcmFjdGlvblZlY3Rvci55PXJlZnJhY3Rpb25WZWN0b3IueSp2UmVmcmFjdGlvbkluZm9zLnc7CmlmIChkb3QocmVmcmFjdGlvblZlY3Rvcix2aWV3RGlyZWN0aW9uVyk8MS4wKSB7CnJlZnJhY3Rpb25Db2xvcj10ZXh0dXJlQ3ViZShyZWZyYWN0aW9uQ3ViZVNhbXBsZXIscmVmcmFjdGlvblZlY3Rvcik7Cn0KI2Vsc2UKdmVjMyB2UmVmcmFjdGlvblVWVz12ZWMzKHJlZnJhY3Rpb25NYXRyaXgqKHZpZXcqdmVjNCh2UG9zaXRpb25XK3JlZnJhY3Rpb25WZWN0b3IqdlJlZnJhY3Rpb25JbmZvcy56LDEuMCkpKTsKdmVjMiByZWZyYWN0aW9uQ29vcmRzPXZSZWZyYWN0aW9uVVZXLnh5L3ZSZWZyYWN0aW9uVVZXLno7CnJlZnJhY3Rpb25Db29yZHMueT0xLjAtcmVmcmFjdGlvbkNvb3Jkcy55OwpyZWZyYWN0aW9uQ29sb3I9dGV4dHVyZTJEKHJlZnJhY3Rpb24yRFNhbXBsZXIscmVmcmFjdGlvbkNvb3Jkcyk7CiNlbmRpZgojaWZkZWYgUkdCRFJFRlJBQ1RJT04KcmVmcmFjdGlvbkNvbG9yLnJnYj1mcm9tUkdCRChyZWZyYWN0aW9uQ29sb3IpOwojZW5kaWYKI2lmZGVmIElTX1JFRlJBQ1RJT05fTElORUFSCnJlZnJhY3Rpb25Db2xvci5yZ2I9dG9HYW1tYVNwYWNlKHJlZnJhY3Rpb25Db2xvci5yZ2IpOwojZW5kaWYKcmVmcmFjdGlvbkNvbG9yLnJnYio9dlJlZnJhY3Rpb25JbmZvcy54OwojZW5kaWYKdmVjNCByZWZsZWN0aW9uQ29sb3I9dmVjNCgwLiwwLiwwLiwxLik7CiNpZmRlZiBSRUZMRUNUSU9OCnZlYzMgdlJlZmxlY3Rpb25VVlc9Y29tcHV0ZVJlZmxlY3Rpb25Db29yZHModmVjNCh2UG9zaXRpb25XLDEuMCksbm9ybWFsVyk7CiNpZmRlZiBSRUZMRUNUSU9OTUFQX09QUE9TSVRFWgp2UmVmbGVjdGlvblVWVy56Kj0tMS4wOwojZW5kaWYKI2lmZGVmIFJFRkxFQ1RJT05NQVBfM0QKI2lmZGVmIFJPVUdITkVTUwpmbG9hdCBiaWFzPXZSZWZsZWN0aW9uSW5mb3MueTsKI2lmZGVmIFNQRUNVTEFSVEVSTQojaWZkZWYgU1BFQ1VMQVIKI2lmZGVmIEdMT1NTSU5FU1MKYmlhcyo9KDEuMC1zcGVjdWxhck1hcENvbG9yLmEpOwojZW5kaWYKI2VuZGlmCiNlbmRpZgpyZWZsZWN0aW9uQ29sb3I9dGV4dHVyZUN1YmUocmVmbGVjdGlvbkN1YmVTYW1wbGVyLHZSZWZsZWN0aW9uVVZXLGJpYXMpOwojZWxzZQpyZWZsZWN0aW9uQ29sb3I9dGV4dHVyZUN1YmUocmVmbGVjdGlvbkN1YmVTYW1wbGVyLHZSZWZsZWN0aW9uVVZXKTsKI2VuZGlmCiNlbHNlCnZlYzIgY29vcmRzPXZSZWZsZWN0aW9uVVZXLnh5OwojaWZkZWYgUkVGTEVDVElPTk1BUF9QUk9KRUNUSU9OCmNvb3Jkcy89dlJlZmxlY3Rpb25VVlcuejsKI2VuZGlmCmNvb3Jkcy55PTEuMC1jb29yZHMueTsKcmVmbGVjdGlvbkNvbG9yPXRleHR1cmUyRChyZWZsZWN0aW9uMkRTYW1wbGVyLGNvb3Jkcyk7CiNlbmRpZgojaWZkZWYgUkdCRFJFRkxFQ1RJT04KcmVmbGVjdGlvbkNvbG9yLnJnYj1mcm9tUkdCRChyZWZsZWN0aW9uQ29sb3IpOwojZW5kaWYKI2lmZGVmIElTX1JFRkxFQ1RJT05fTElORUFSCnJlZmxlY3Rpb25Db2xvci5yZ2I9dG9HYW1tYVNwYWNlKHJlZmxlY3Rpb25Db2xvci5yZ2IpOwojZW5kaWYKcmVmbGVjdGlvbkNvbG9yLnJnYio9dlJlZmxlY3Rpb25JbmZvcy54OwojaWZkZWYgUkVGTEVDVElPTkZSRVNORUwKZmxvYXQgcmVmbGVjdGlvbkZyZXNuZWxUZXJtPWNvbXB1dGVGcmVzbmVsVGVybSh2aWV3RGlyZWN0aW9uVyxub3JtYWxXLHJlZmxlY3Rpb25SaWdodENvbG9yLmEscmVmbGVjdGlvbkxlZnRDb2xvci5hKTsKI2lmZGVmIFJFRkxFQ1RJT05GUkVTTkVMRlJPTVNQRUNVTEFSCiNpZmRlZiBTUEVDVUxBUlRFUk0KcmVmbGVjdGlvbkNvbG9yLnJnYio9c3BlY3VsYXJDb2xvci5yZ2IqKDEuMC1yZWZsZWN0aW9uRnJlc25lbFRlcm0pK3JlZmxlY3Rpb25GcmVzbmVsVGVybSpyZWZsZWN0aW9uUmlnaHRDb2xvci5yZ2I7CiNlbHNlCnJlZmxlY3Rpb25Db2xvci5yZ2IqPXJlZmxlY3Rpb25MZWZ0Q29sb3IucmdiKigxLjAtcmVmbGVjdGlvbkZyZXNuZWxUZXJtKStyZWZsZWN0aW9uRnJlc25lbFRlcm0qcmVmbGVjdGlvblJpZ2h0Q29sb3IucmdiOwojZW5kaWYKI2Vsc2UKcmVmbGVjdGlvbkNvbG9yLnJnYio9cmVmbGVjdGlvbkxlZnRDb2xvci5yZ2IqKDEuMC1yZWZsZWN0aW9uRnJlc25lbFRlcm0pK3JlZmxlY3Rpb25GcmVzbmVsVGVybSpyZWZsZWN0aW9uUmlnaHRDb2xvci5yZ2I7CiNlbmRpZgojZW5kaWYKI2VuZGlmCiNpZmRlZiBSRUZSQUNUSU9ORlJFU05FTApmbG9hdCByZWZyYWN0aW9uRnJlc25lbFRlcm09Y29tcHV0ZUZyZXNuZWxUZXJtKHZpZXdEaXJlY3Rpb25XLG5vcm1hbFcscmVmcmFjdGlvblJpZ2h0Q29sb3IuYSxyZWZyYWN0aW9uTGVmdENvbG9yLmEpOwpyZWZyYWN0aW9uQ29sb3IucmdiKj1yZWZyYWN0aW9uTGVmdENvbG9yLnJnYiooMS4wLXJlZnJhY3Rpb25GcmVzbmVsVGVybSkrcmVmcmFjdGlvbkZyZXNuZWxUZXJtKnJlZnJhY3Rpb25SaWdodENvbG9yLnJnYjsKI2VuZGlmCiNpZmRlZiBPUEFDSVRZCnZlYzQgb3BhY2l0eU1hcD10ZXh0dXJlMkQob3BhY2l0eVNhbXBsZXIsdk9wYWNpdHlVVit1dk9mZnNldCk7CiNpZmRlZiBPUEFDSVRZUkdCCm9wYWNpdHlNYXAucmdiPW9wYWNpdHlNYXAucmdiKnZlYzMoMC4zLDAuNTksMC4xMSk7CmFscGhhKj0ob3BhY2l0eU1hcC54K29wYWNpdHlNYXAueStvcGFjaXR5TWFwLnopKiB2T3BhY2l0eUluZm9zLnk7CiNlbHNlCmFscGhhKj1vcGFjaXR5TWFwLmEqdk9wYWNpdHlJbmZvcy55OwojZW5kaWYKI2VuZGlmCiNpZiBkZWZpbmVkKFZFUlRFWEFMUEhBKSB8fCBkZWZpbmVkKElOU1RBTkNFU0NPTE9SKQphbHBoYSo9dkNvbG9yLmE7CiNlbmRpZgojaWZkZWYgT1BBQ0lUWUZSRVNORUwKZmxvYXQgb3BhY2l0eUZyZXNuZWxUZXJtPWNvbXB1dGVGcmVzbmVsVGVybSh2aWV3RGlyZWN0aW9uVyxub3JtYWxXLG9wYWNpdHlQYXJ0cy56LG9wYWNpdHlQYXJ0cy53KTsKYWxwaGErPW9wYWNpdHlQYXJ0cy54KigxLjAtb3BhY2l0eUZyZXNuZWxUZXJtKStvcGFjaXR5RnJlc25lbFRlcm0qb3BhY2l0eVBhcnRzLnk7CiNlbmRpZgojaWZkZWYgQUxQSEFURVNUCiNpZmRlZiBBTFBIQVRFU1RfQUZURVJBTExBTFBIQUNPTVBVVEFUSU9OUwppZiAoYWxwaGE8YWxwaGFDdXRPZmYpCmRpc2NhcmQ7CiNlbmRpZgojaWZuZGVmIEFMUEhBQkxFTkQKYWxwaGE9MS4wOwojZW5kaWYKI2VuZGlmCnZlYzMgZW1pc3NpdmVDb2xvcj12RW1pc3NpdmVDb2xvcjsKI2lmZGVmIEVNSVNTSVZFCmVtaXNzaXZlQ29sb3IrPXRleHR1cmUyRChlbWlzc2l2ZVNhbXBsZXIsdkVtaXNzaXZlVVYrdXZPZmZzZXQpLnJnYip2RW1pc3NpdmVJbmZvcy55OwojZW5kaWYKI2lmZGVmIEVNSVNTSVZFRlJFU05FTApmbG9hdCBlbWlzc2l2ZUZyZXNuZWxUZXJtPWNvbXB1dGVGcmVzbmVsVGVybSh2aWV3RGlyZWN0aW9uVyxub3JtYWxXLGVtaXNzaXZlUmlnaHRDb2xvci5hLGVtaXNzaXZlTGVmdENvbG9yLmEpOwplbWlzc2l2ZUNvbG9yKj1lbWlzc2l2ZUxlZnRDb2xvci5yZ2IqKDEuMC1lbWlzc2l2ZUZyZXNuZWxUZXJtKStlbWlzc2l2ZUZyZXNuZWxUZXJtKmVtaXNzaXZlUmlnaHRDb2xvci5yZ2I7CiNlbmRpZgojaWZkZWYgRElGRlVTRUZSRVNORUwKZmxvYXQgZGlmZnVzZUZyZXNuZWxUZXJtPWNvbXB1dGVGcmVzbmVsVGVybSh2aWV3RGlyZWN0aW9uVyxub3JtYWxXLGRpZmZ1c2VSaWdodENvbG9yLmEsZGlmZnVzZUxlZnRDb2xvci5hKTsKZGlmZnVzZUJhc2UqPWRpZmZ1c2VMZWZ0Q29sb3IucmdiKigxLjAtZGlmZnVzZUZyZXNuZWxUZXJtKStkaWZmdXNlRnJlc25lbFRlcm0qZGlmZnVzZVJpZ2h0Q29sb3IucmdiOwojZW5kaWYKI2lmZGVmIEVNSVNTSVZFQVNJTExVTUlOQVRJT04KdmVjMyBmaW5hbERpZmZ1c2U9Y2xhbXAoZGlmZnVzZUJhc2UqZGlmZnVzZUNvbG9yK3ZBbWJpZW50Q29sb3IsMC4wLDEuMCkqYmFzZUNvbG9yLnJnYjsKI2Vsc2UKI2lmZGVmIExJTktFTUlTU0lWRVdJVEhESUZGVVNFCnZlYzMgZmluYWxEaWZmdXNlPWNsYW1wKChkaWZmdXNlQmFzZStlbWlzc2l2ZUNvbG9yKSpkaWZmdXNlQ29sb3IrdkFtYmllbnRDb2xvciwwLjAsMS4wKSpiYXNlQ29sb3IucmdiOwojZWxzZQp2ZWMzIGZpbmFsRGlmZnVzZT1jbGFtcChkaWZmdXNlQmFzZSpkaWZmdXNlQ29sb3IrZW1pc3NpdmVDb2xvcit2QW1iaWVudENvbG9yLDAuMCwxLjApKmJhc2VDb2xvci5yZ2I7CiNlbmRpZgojZW5kaWYKI2lmZGVmIFNQRUNVTEFSVEVSTQp2ZWMzIGZpbmFsU3BlY3VsYXI9c3BlY3VsYXJCYXNlKnNwZWN1bGFyQ29sb3I7CiNpZmRlZiBTUEVDVUxBUk9WRVJBTFBIQQphbHBoYT1jbGFtcChhbHBoYStkb3QoZmluYWxTcGVjdWxhcix2ZWMzKDAuMywwLjU5LDAuMTEpKSwwLiwxLik7CiNlbmRpZgojZWxzZQp2ZWMzIGZpbmFsU3BlY3VsYXI9dmVjMygwLjApOwojZW5kaWYKI2lmZGVmIFJFRkxFQ1RJT05PVkVSQUxQSEEKYWxwaGE9Y2xhbXAoYWxwaGErZG90KHJlZmxlY3Rpb25Db2xvci5yZ2IsdmVjMygwLjMsMC41OSwwLjExKSksMC4sMS4pOwojZW5kaWYKI2lmZGVmIEVNSVNTSVZFQVNJTExVTUlOQVRJT04KdmVjNCBjb2xvcj12ZWM0KGNsYW1wKGZpbmFsRGlmZnVzZSpiYXNlQW1iaWVudENvbG9yK2ZpbmFsU3BlY3VsYXIrcmVmbGVjdGlvbkNvbG9yLnJnYitlbWlzc2l2ZUNvbG9yK3JlZnJhY3Rpb25Db2xvci5yZ2IsMC4wLDEuMCksYWxwaGEpOwojZWxzZQp2ZWM0IGNvbG9yPXZlYzQoZmluYWxEaWZmdXNlKmJhc2VBbWJpZW50Q29sb3IrZmluYWxTcGVjdWxhcityZWZsZWN0aW9uQ29sb3IucmdiK3JlZnJhY3Rpb25Db2xvci5yZ2IsYWxwaGEpOwojZW5kaWYKI2lmZGVmIExJR0hUTUFQCiNpZm5kZWYgTElHSFRNQVBFWENMVURFRAojaWZkZWYgVVNFTElHSFRNQVBBU1NIQURPV01BUApjb2xvci5yZ2IqPWxpZ2h0bWFwQ29sb3IucmdiOwojZWxzZQpjb2xvci5yZ2IrPWxpZ2h0bWFwQ29sb3IucmdiOwojZW5kaWYKI2VuZGlmCiNlbmRpZgojZGVmaW5lIENVU1RPTV9GUkFHTUVOVF9CRUZPUkVfRk9HCmNvbG9yLnJnYj1tYXgoY29sb3IucmdiLDAuKTsKI2luY2x1ZGU8bG9nRGVwdGhGcmFnbWVudD4KI2luY2x1ZGU8Zm9nRnJhZ21lbnQ+CiNpZmRlZiBJTUFHRVBST0NFU1NJTkdQT1NUUFJPQ0VTUwpjb2xvci5yZ2I9dG9MaW5lYXJTcGFjZShjb2xvci5yZ2IpOwojZWxzZQojaWZkZWYgSU1BR0VQUk9DRVNTSU5HCmNvbG9yLnJnYj10b0xpbmVhclNwYWNlKGNvbG9yLnJnYik7CmNvbG9yPWFwcGx5SW1hZ2VQcm9jZXNzaW5nKGNvbG9yKTsKI2VuZGlmCiNlbmRpZgpjb2xvci5hKj12aXNpYmlsaXR5OwojaWZkZWYgUFJFTVVMVElQTFlBTFBIQQpjb2xvci5yZ2IqPWNvbG9yLmE7CiNlbmRpZgojZGVmaW5lIENVU1RPTV9GUkFHTUVOVF9CRUZPUkVfRlJBR0NPTE9SCiNpZmRlZiBQUkVQQVNTCmZsb2F0IHdyaXRlR2VvbWV0cnlJbmZvPWNvbG9yLmE+MC40ID8gMS4wIDogMC4wOwpnbF9GcmFnRGF0YVswXT1jb2xvcjsgCiNpZmRlZiBQUkVQQVNTX1BPU0lUSU9OCmdsX0ZyYWdEYXRhW1BSRVBBU1NfUE9TSVRJT05fSU5ERVhdPXZlYzQodlBvc2l0aW9uVyx3cml0ZUdlb21ldHJ5SW5mbyk7CiNlbmRpZgojaWZkZWYgUFJFUEFTU19WRUxPQ0lUWQp2ZWMyIGE9KHZDdXJyZW50UG9zaXRpb24ueHkvdkN1cnJlbnRQb3NpdGlvbi53KSowLjUrMC41Owp2ZWMyIGI9KHZQcmV2aW91c1Bvc2l0aW9uLnh5L3ZQcmV2aW91c1Bvc2l0aW9uLncpKjAuNSswLjU7CnZlYzIgdmVsb2NpdHk9YWJzKGEtYik7CnZlbG9jaXR5PXZlYzIocG93KHZlbG9jaXR5LngsMS4wLzMuMCkscG93KHZlbG9jaXR5LnksMS4wLzMuMCkpKnNpZ24oYS1iKSowLjUrMC41OwpnbF9GcmFnRGF0YVtQUkVQQVNTX1ZFTE9DSVRZX0lOREVYXT12ZWM0KHZlbG9jaXR5LDAuMCx3cml0ZUdlb21ldHJ5SW5mbyk7CiNlbmRpZgojaWZkZWYgUFJFUEFTU19JUlJBRElBTkNFCmdsX0ZyYWdEYXRhW1BSRVBBU1NfSVJSQURJQU5DRV9JTkRFWF09dmVjNCgwLjAsMC4wLDAuMCx3cml0ZUdlb21ldHJ5SW5mbyk7IAojZW5kaWYKI2lmZGVmIFBSRVBBU1NfREVQVEgKZ2xfRnJhZ0RhdGFbUFJFUEFTU19ERVBUSF9JTkRFWF09dmVjNCh2Vmlld1Bvcy56LDAuMCwwLjAsd3JpdGVHZW9tZXRyeUluZm8pOyAKI2VuZGlmCiNpZmRlZiBQUkVQQVNTX05PUk1BTApnbF9GcmFnRGF0YVtQUkVQQVNTX05PUk1BTF9JTkRFWF09dmVjNCgodmlldyp2ZWM0KG5vcm1hbFcsMC4wKSkucmdiLHdyaXRlR2VvbWV0cnlJbmZvKTsgCiNlbmRpZgojaWZkZWYgUFJFUEFTU19BTEJFRE9fU1FSVApnbF9GcmFnRGF0YVtQUkVQQVNTX0FMQkVET19TUVJUX0lOREVYXT12ZWM0KDAuMCwwLjAsMC4wLHdyaXRlR2VvbWV0cnlJbmZvKTsgCiNlbmRpZgojaWZkZWYgUFJFUEFTU19SRUZMRUNUSVZJVFkKI2lmIGRlZmluZWQoU1BFQ1VMQVJURVJNKQojaWYgZGVmaW5lZChTUEVDVUxBUikKZ2xfRnJhZ0RhdGFbUFJFUEFTU19SRUZMRUNUSVZJVFlfSU5ERVhdPXZlYzQoc3BlY3VsYXJNYXBDb2xvcikqd3JpdGVHZW9tZXRyeUluZm87IAojZWxzZQpnbF9GcmFnRGF0YVtQUkVQQVNTX1JFRkxFQ1RJVklUWV9JTkRFWF09dmVjNChzcGVjdWxhckNvbG9yLDEuMCkqd3JpdGVHZW9tZXRyeUluZm87CiNlbmRpZgojZWxzZQpnbF9GcmFnRGF0YVtQUkVQQVNTX1JFRkxFQ1RJVklUWV9JTkRFWF09dmVjNCgwLjAsMC4wLDAuMCwxLjApKndyaXRlR2VvbWV0cnlJbmZvOwojZW5kaWYKI2VuZGlmCiNlbmRpZgojaWYgIWRlZmluZWQoUFJFUEFTUykgfHwgZGVmaW5lZChXRUJHTDIpCmdsX0ZyYWdDb2xvcj1jb2xvcjsKI2VuZGlmCiNpZiBPUkRFUl9JTkRFUEVOREVOVF9UUkFOU1BBUkVOQ1kKaWYgKGZyYWdEZXB0aD09bmVhcmVzdERlcHRoKSB7CmZyb250Q29sb3IucmdiKz1jb2xvci5yZ2IqY29sb3IuYSphbHBoYU11bHRpcGxpZXI7CmZyb250Q29sb3IuYT0xLjAtYWxwaGFNdWx0aXBsaWVyKigxLjAtY29sb3IuYSk7Cn0gZWxzZSB7CmJhY2tDb2xvcis9Y29sb3I7Cn0KI2VuZGlmCiNkZWZpbmUgQ1VTVE9NX0ZSQUdNRU5UX01BSU5fRU5ECn0KYDtMLlNoYWRlcnNTdG9yZVtBdV09UnU7dmFyIFB1PSJkZWZhdWx0VmVydGV4RGVjbGFyYXRpb24iLEN1PWB1bmlmb3JtIG1hdDQgdmlld1Byb2plY3Rpb247CnVuaWZvcm0gbWF0NCB2aWV3OwojaWZkZWYgRElGRlVTRQp1bmlmb3JtIG1hdDQgZGlmZnVzZU1hdHJpeDsKdW5pZm9ybSB2ZWMyIHZEaWZmdXNlSW5mb3M7CiNlbmRpZgojaWZkZWYgQU1CSUVOVAp1bmlmb3JtIG1hdDQgYW1iaWVudE1hdHJpeDsKdW5pZm9ybSB2ZWMyIHZBbWJpZW50SW5mb3M7CiNlbmRpZgojaWZkZWYgT1BBQ0lUWQp1bmlmb3JtIG1hdDQgb3BhY2l0eU1hdHJpeDsKdW5pZm9ybSB2ZWMyIHZPcGFjaXR5SW5mb3M7CiNlbmRpZgojaWZkZWYgRU1JU1NJVkUKdW5pZm9ybSB2ZWMyIHZFbWlzc2l2ZUluZm9zOwp1bmlmb3JtIG1hdDQgZW1pc3NpdmVNYXRyaXg7CiNlbmRpZgojaWZkZWYgTElHSFRNQVAKdW5pZm9ybSB2ZWMyIHZMaWdodG1hcEluZm9zOwp1bmlmb3JtIG1hdDQgbGlnaHRtYXBNYXRyaXg7CiNlbmRpZgojaWYgZGVmaW5lZChTUEVDVUxBUikgJiYgZGVmaW5lZChTUEVDVUxBUlRFUk0pCnVuaWZvcm0gdmVjMiB2U3BlY3VsYXJJbmZvczsKdW5pZm9ybSBtYXQ0IHNwZWN1bGFyTWF0cml4OwojZW5kaWYKI2lmZGVmIEJVTVAKdW5pZm9ybSB2ZWMzIHZCdW1wSW5mb3M7CnVuaWZvcm0gbWF0NCBidW1wTWF0cml4OwojZW5kaWYKI2lmZGVmIFJFRkxFQ1RJT04KdW5pZm9ybSBtYXQ0IHJlZmxlY3Rpb25NYXRyaXg7CiNlbmRpZgojaWZkZWYgUE9JTlRTSVpFCnVuaWZvcm0gZmxvYXQgcG9pbnRTaXplOwojZW5kaWYKI2lmZGVmIERFVEFJTAp1bmlmb3JtIHZlYzQgdkRldGFpbEluZm9zOwp1bmlmb3JtIG1hdDQgZGV0YWlsTWF0cml4OwojZW5kaWYKI2RlZmluZSBBRERJVElPTkFMX1ZFUlRFWF9ERUNMQVJBVElPTgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbUHVdPUN1O3ZhciB4dT0idXZBdHRyaWJ1dGVEZWNsYXJhdGlvbiIsRHU9YCNpZmRlZiBVVntYfQphdHRyaWJ1dGUgdmVjMiB1dntYfTsKI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVt4dV09RHU7dmFyIEl1PSJwcmVQYXNzVmVydGV4RGVjbGFyYXRpb24iLE91PWAjaWZkZWYgUFJFUEFTUwojaWZkZWYgUFJFUEFTU19ERVBUSAp2YXJ5aW5nIHZlYzMgdlZpZXdQb3M7CiNlbmRpZgojaWZkZWYgUFJFUEFTU19WRUxPQ0lUWQp1bmlmb3JtIG1hdDQgcHJldmlvdXNWaWV3UHJvamVjdGlvbjsKdmFyeWluZyB2ZWM0IHZDdXJyZW50UG9zaXRpb247CnZhcnlpbmcgdmVjNCB2UHJldmlvdXNQb3NpdGlvbjsKI2VuZGlmCiNlbmRpZgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbSXVdPU91O3ZhciBGdT0ic2FtcGxlclZlcnRleERlY2xhcmF0aW9uIix3dT1gI2lmIGRlZmluZWQoX0RFRklORU5BTUVfKSAmJiBfREVGSU5FTkFNRV9ESVJFQ1RVVj09MAp2YXJ5aW5nIHZlYzIgdl9WQVJZSU5HTkFNRV9VVjsKI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtGdV09d3U7dmFyIEx1PSJidW1wVmVydGV4RGVjbGFyYXRpb24iLE51PWAjaWYgZGVmaW5lZChCVU1QKSB8fCBkZWZpbmVkKFBBUkFMTEFYKSB8fCBkZWZpbmVkKENMRUFSQ09BVF9CVU1QKSB8fCBkZWZpbmVkKEFOSVNPVFJPUElDKQojaWYgZGVmaW5lZChUQU5HRU5UKSAmJiBkZWZpbmVkKE5PUk1BTCkgCnZhcnlpbmcgbWF0MyB2VEJOOwojZW5kaWYKI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtMdV09TnU7dmFyIEJ1PSJmb2dWZXJ0ZXhEZWNsYXJhdGlvbiIsVXU9YCNpZmRlZiBGT0cKdmFyeWluZyB2ZWMzIHZGb2dEaXN0YW5jZTsKI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtCdV09VXU7dmFyIFZ1PSJsaWdodFZ4RnJhZ21lbnREZWNsYXJhdGlvbiIsa3U9YCNpZmRlZiBMSUdIVHtYfQp1bmlmb3JtIHZlYzQgdkxpZ2h0RGF0YXtYfTsKdW5pZm9ybSB2ZWM0IHZMaWdodERpZmZ1c2V7WH07CiNpZmRlZiBTUEVDVUxBUlRFUk0KdW5pZm9ybSB2ZWM0IHZMaWdodFNwZWN1bGFye1h9OwojZWxzZQp2ZWM0IHZMaWdodFNwZWN1bGFye1h9PXZlYzQoMC4pOwojZW5kaWYKI2lmZGVmIFNIQURPV3tYfQojaWZkZWYgU0hBRE9XQ1NNe1h9CnVuaWZvcm0gbWF0NCBsaWdodE1hdHJpeHtYfVtTSEFET1dDU01OVU1fQ0FTQ0FERVN7WH1dOwp2YXJ5aW5nIHZlYzQgdlBvc2l0aW9uRnJvbUxpZ2h0e1h9W1NIQURPV0NTTU5VTV9DQVNDQURFU3tYfV07CnZhcnlpbmcgZmxvYXQgdkRlcHRoTWV0cmlje1h9W1NIQURPV0NTTU5VTV9DQVNDQURFU3tYfV07CnZhcnlpbmcgdmVjNCB2UG9zaXRpb25Gcm9tQ2FtZXJhe1h9OwojZWxpZiBkZWZpbmVkKFNIQURPV0NVQkV7WH0pCiNlbHNlCnZhcnlpbmcgdmVjNCB2UG9zaXRpb25Gcm9tTGlnaHR7WH07CnZhcnlpbmcgZmxvYXQgdkRlcHRoTWV0cmlje1h9Owp1bmlmb3JtIG1hdDQgbGlnaHRNYXRyaXh7WH07CiNlbmRpZgp1bmlmb3JtIHZlYzQgc2hhZG93c0luZm97WH07CnVuaWZvcm0gdmVjMiBkZXB0aFZhbHVlc3tYfTsKI2VuZGlmCiNpZmRlZiBTUE9UTElHSFR7WH0KdW5pZm9ybSB2ZWM0IHZMaWdodERpcmVjdGlvbntYfTsKdW5pZm9ybSB2ZWM0IHZMaWdodEZhbGxvZmZ7WH07CiNlbGlmIGRlZmluZWQoUE9JTlRMSUdIVHtYfSkKdW5pZm9ybSB2ZWM0IHZMaWdodEZhbGxvZmZ7WH07CiNlbGlmIGRlZmluZWQoSEVNSUxJR0hUe1h9KQp1bmlmb3JtIHZlYzMgdkxpZ2h0R3JvdW5ke1h9OwojZW5kaWYKI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtWdV09a3U7dmFyIFd1PSJsaWdodFZ4VWJvRGVjbGFyYXRpb24iLHp1PWAjaWZkZWYgTElHSFR7WH0KdW5pZm9ybSBMaWdodHtYfQp7CnZlYzQgdkxpZ2h0RGF0YTsKdmVjNCB2TGlnaHREaWZmdXNlOwp2ZWM0IHZMaWdodFNwZWN1bGFyOwojaWZkZWYgU1BPVExJR0hUe1h9CnZlYzQgdkxpZ2h0RGlyZWN0aW9uOwp2ZWM0IHZMaWdodEZhbGxvZmY7CiNlbGlmIGRlZmluZWQoUE9JTlRMSUdIVHtYfSkKdmVjNCB2TGlnaHRGYWxsb2ZmOwojZWxpZiBkZWZpbmVkKEhFTUlMSUdIVHtYfSkKdmVjMyB2TGlnaHRHcm91bmQ7CiNlbmRpZgp2ZWM0IHNoYWRvd3NJbmZvOwp2ZWMyIGRlcHRoVmFsdWVzOwp9IGxpZ2h0e1h9OwojaWZkZWYgU0hBRE9Xe1h9CiNpZmRlZiBTSEFET1dDU017WH0KdW5pZm9ybSBtYXQ0IGxpZ2h0TWF0cml4e1h9W1NIQURPV0NTTU5VTV9DQVNDQURFU3tYfV07CnZhcnlpbmcgdmVjNCB2UG9zaXRpb25Gcm9tTGlnaHR7WH1bU0hBRE9XQ1NNTlVNX0NBU0NBREVTe1h9XTsKdmFyeWluZyBmbG9hdCB2RGVwdGhNZXRyaWN7WH1bU0hBRE9XQ1NNTlVNX0NBU0NBREVTe1h9XTsKdmFyeWluZyB2ZWM0IHZQb3NpdGlvbkZyb21DYW1lcmF7WH07CiNlbGlmIGRlZmluZWQoU0hBRE9XQ1VCRXtYfSkKI2Vsc2UKdmFyeWluZyB2ZWM0IHZQb3NpdGlvbkZyb21MaWdodHtYfTsKdmFyeWluZyBmbG9hdCB2RGVwdGhNZXRyaWN7WH07CnVuaWZvcm0gbWF0NCBsaWdodE1hdHJpeHtYfTsKI2VuZGlmCiNlbmRpZgojZW5kaWYKYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW1d1XT16dTt2YXIgR3U9InByZVBhc3NWZXJ0ZXgiLFh1PWAjaWZkZWYgUFJFUEFTU19ERVBUSAp2Vmlld1Bvcz0odmlldyp3b3JsZFBvcykucmdiOwojZW5kaWYKI2lmIGRlZmluZWQoUFJFUEFTU19WRUxPQ0lUWSkgJiYgZGVmaW5lZChCT05FU19WRUxPQ0lUWV9FTkFCTEVEKQp2Q3VycmVudFBvc2l0aW9uPXZpZXdQcm9qZWN0aW9uKndvcmxkUG9zOwojaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+MAptYXQ0IHByZXZpb3VzSW5mbHVlbmNlOwpwcmV2aW91c0luZmx1ZW5jZT1tUHJldmlvdXNCb25lc1tpbnQobWF0cmljZXNJbmRpY2VzWzBdKV0qbWF0cmljZXNXZWlnaHRzWzBdOwojaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+MQpwcmV2aW91c0luZmx1ZW5jZSs9bVByZXZpb3VzQm9uZXNbaW50KG1hdHJpY2VzSW5kaWNlc1sxXSldKm1hdHJpY2VzV2VpZ2h0c1sxXTsKI2VuZGlmIAojaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+MgpwcmV2aW91c0luZmx1ZW5jZSs9bVByZXZpb3VzQm9uZXNbaW50KG1hdHJpY2VzSW5kaWNlc1syXSldKm1hdHJpY2VzV2VpZ2h0c1syXTsKI2VuZGlmIAojaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+MwpwcmV2aW91c0luZmx1ZW5jZSs9bVByZXZpb3VzQm9uZXNbaW50KG1hdHJpY2VzSW5kaWNlc1szXSldKm1hdHJpY2VzV2VpZ2h0c1szXTsKI2VuZGlmCiNpZiBOVU1fQk9ORV9JTkZMVUVOQ0VSUz40CnByZXZpb3VzSW5mbHVlbmNlKz1tUHJldmlvdXNCb25lc1tpbnQobWF0cmljZXNJbmRpY2VzRXh0cmFbMF0pXSptYXRyaWNlc1dlaWdodHNFeHRyYVswXTsKI2VuZGlmIAojaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+NQpwcmV2aW91c0luZmx1ZW5jZSs9bVByZXZpb3VzQm9uZXNbaW50KG1hdHJpY2VzSW5kaWNlc0V4dHJhWzFdKV0qbWF0cmljZXNXZWlnaHRzRXh0cmFbMV07CiNlbmRpZiAKI2lmIE5VTV9CT05FX0lORkxVRU5DRVJTPjYKcHJldmlvdXNJbmZsdWVuY2UrPW1QcmV2aW91c0JvbmVzW2ludChtYXRyaWNlc0luZGljZXNFeHRyYVsyXSldKm1hdHJpY2VzV2VpZ2h0c0V4dHJhWzJdOwojZW5kaWYgCiNpZiBOVU1fQk9ORV9JTkZMVUVOQ0VSUz43CnByZXZpb3VzSW5mbHVlbmNlKz1tUHJldmlvdXNCb25lc1tpbnQobWF0cmljZXNJbmRpY2VzRXh0cmFbM10pXSptYXRyaWNlc1dlaWdodHNFeHRyYVszXTsKI2VuZGlmCnZQcmV2aW91c1Bvc2l0aW9uPXByZXZpb3VzVmlld1Byb2plY3Rpb24qZmluYWxQcmV2aW91c1dvcmxkKnByZXZpb3VzSW5mbHVlbmNlKnZlYzQocG9zaXRpb25VcGRhdGVkLDEuMCk7CiNlbHNlCnZQcmV2aW91c1Bvc2l0aW9uPXByZXZpb3VzVmlld1Byb2plY3Rpb24qZmluYWxQcmV2aW91c1dvcmxkKnZlYzQocG9zaXRpb25VcGRhdGVkLDEuMCk7CiNlbmRpZgojZW5kaWYKYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW0d1XT1YdTt2YXIgSHU9InV2VmFyaWFibGVEZWNsYXJhdGlvbiIsanU9YCNpZiAhZGVmaW5lZChVVntYfSkgJiYgZGVmaW5lZChNQUlOVVZ7WH0pCnZlYzIgdXZ7WH09dmVjMigwLiwwLik7CiNlbmRpZgojaWZkZWYgTUFJTlVWe1h9CnZNYWluVVZ7WH09dXZ7WH07CiNlbmRpZgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbSHVdPWp1O3ZhciBLdT0ic2FtcGxlclZlcnRleEltcGxlbWVudGF0aW9uIixZdT1gI2lmIGRlZmluZWQoX0RFRklORU5BTUVfKSAmJiBfREVGSU5FTkFNRV9ESVJFQ1RVVj09MAppZiAodl9JTkZPTkFNRV89PTAuKQp7CnZfVkFSWUlOR05BTUVfVVY9dmVjMihfTUFUUklYTkFNRV9NYXRyaXgqdmVjNCh1dlVwZGF0ZWQsMS4wLDAuMCkpOwp9CiNpZmRlZiBVVjIKZWxzZSBpZiAodl9JTkZPTkFNRV89PTEuKQp7CnZfVkFSWUlOR05BTUVfVVY9dmVjMihfTUFUUklYTkFNRV9NYXRyaXgqdmVjNCh1djIsMS4wLDAuMCkpOwp9CiNlbmRpZgojaWZkZWYgVVYzCmVsc2UgaWYgKHZfSU5GT05BTUVfPT0yLikKewp2X1ZBUllJTkdOQU1FX1VWPXZlYzIoX01BVFJJWE5BTUVfTWF0cml4KnZlYzQodXYzLDEuMCwwLjApKTsKfQojZW5kaWYKI2lmZGVmIFVWNAplbHNlIGlmICh2X0lORk9OQU1FXz09My4pCnsKdl9WQVJZSU5HTkFNRV9VVj12ZWMyKF9NQVRSSVhOQU1FX01hdHJpeCp2ZWM0KHV2NCwxLjAsMC4wKSk7Cn0KI2VuZGlmCiNpZmRlZiBVVjUKZWxzZSBpZiAodl9JTkZPTkFNRV89PTQuKQp7CnZfVkFSWUlOR05BTUVfVVY9dmVjMihfTUFUUklYTkFNRV9NYXRyaXgqdmVjNCh1djUsMS4wLDAuMCkpOwp9CiNlbmRpZgojaWZkZWYgVVY2CmVsc2UgaWYgKHZfSU5GT05BTUVfPT01LikKewp2X1ZBUllJTkdOQU1FX1VWPXZlYzIoX01BVFJJWE5BTUVfTWF0cml4KnZlYzQodXY2LDEuMCwwLjApKTsKfQojZW5kaWYKI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtLdV09WXU7dmFyIFp1PSJidW1wVmVydGV4IixxdT1gI2lmIGRlZmluZWQoQlVNUCkgfHwgZGVmaW5lZChQQVJBTExBWCkgfHwgZGVmaW5lZChDTEVBUkNPQVRfQlVNUCkgfHwgZGVmaW5lZChBTklTT1RST1BJQykKI2lmIGRlZmluZWQoVEFOR0VOVCkgJiYgZGVmaW5lZChOT1JNQUwpCnZlYzMgdGJuTm9ybWFsPW5vcm1hbGl6ZShub3JtYWxVcGRhdGVkKTsKdmVjMyB0Ym5UYW5nZW50PW5vcm1hbGl6ZSh0YW5nZW50VXBkYXRlZC54eXopOwp2ZWMzIHRibkJpdGFuZ2VudD1jcm9zcyh0Ym5Ob3JtYWwsdGJuVGFuZ2VudCkqdGFuZ2VudFVwZGF0ZWQudzsKdlRCTj1tYXQzKGZpbmFsV29ybGQpKm1hdDModGJuVGFuZ2VudCx0Ym5CaXRhbmdlbnQsdGJuTm9ybWFsKTsKI2VuZGlmCiNlbmRpZgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbWnVdPXF1O3ZhciBRdT0iZm9nVmVydGV4IiwkdT1gI2lmZGVmIEZPRwp2Rm9nRGlzdGFuY2U9KHZpZXcqd29ybGRQb3MpLnh5ejsKI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtRdV09JHU7dmFyIEp1PSJzaGFkb3dzVmVydGV4IixlZj1gI2lmZGVmIFNIQURPV1MKI2lmIGRlZmluZWQoU0hBRE9XQ1NNe1h9KQp2UG9zaXRpb25Gcm9tQ2FtZXJhe1h9PXZpZXcqd29ybGRQb3M7CmZvciAoaW50IGk9MDsgaTxTSEFET1dDU01OVU1fQ0FTQ0FERVN7WH07IGkrKykgewp2UG9zaXRpb25Gcm9tTGlnaHR7WH1baV09bGlnaHRNYXRyaXh7WH1baV0qd29ybGRQb3M7CiNpZmRlZiBVU0VfUkVWRVJTRV9ERVBUSEJVRkZFUgp2RGVwdGhNZXRyaWN7WH1baV09KC12UG9zaXRpb25Gcm9tTGlnaHR7WH1baV0ueitsaWdodHtYfS5kZXB0aFZhbHVlcy54KS9saWdodHtYfS5kZXB0aFZhbHVlcy55OwojZWxzZQp2RGVwdGhNZXRyaWN7WH1baV09KHZQb3NpdGlvbkZyb21MaWdodHtYfVtpXS56K2xpZ2h0e1h9LmRlcHRoVmFsdWVzLngpL2xpZ2h0e1h9LmRlcHRoVmFsdWVzLnk7CiNlbmRpZgp9CiNlbGlmIGRlZmluZWQoU0hBRE9Xe1h9KSAmJiAhZGVmaW5lZChTSEFET1dDVUJFe1h9KQp2UG9zaXRpb25Gcm9tTGlnaHR7WH09bGlnaHRNYXRyaXh7WH0qd29ybGRQb3M7CiNpZmRlZiBVU0VfUkVWRVJTRV9ERVBUSEJVRkZFUgp2RGVwdGhNZXRyaWN7WH09KC12UG9zaXRpb25Gcm9tTGlnaHR7WH0ueitsaWdodHtYfS5kZXB0aFZhbHVlcy54KS9saWdodHtYfS5kZXB0aFZhbHVlcy55OwojZWxzZQp2RGVwdGhNZXRyaWN7WH09KHZQb3NpdGlvbkZyb21MaWdodHtYfS56K2xpZ2h0e1h9LmRlcHRoVmFsdWVzLngpL2xpZ2h0e1h9LmRlcHRoVmFsdWVzLnk7CiNlbmRpZgojZW5kaWYKI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtKdV09ZWY7dmFyIHRmPSJ2ZXJ0ZXhDb2xvck1peGluZyIscmY9YCNpZiBkZWZpbmVkKFZFUlRFWENPTE9SKSB8fCBkZWZpbmVkKElOU1RBTkNFU0NPTE9SKQp2Q29sb3I9dmVjNCgxLjApOwojaWZkZWYgVkVSVEVYQ09MT1IKI2lmZGVmIFZFUlRFWEFMUEhBCnZDb2xvcio9Y29sb3I7CiNlbHNlCnZDb2xvci5yZ2IqPWNvbG9yLnJnYjsKI2VuZGlmCiNlbmRpZgojaWZkZWYgSU5TVEFOQ0VTQ09MT1IKdkNvbG9yKj1pbnN0YW5jZUNvbG9yOwojZW5kaWYKI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVt0Zl09cmY7dmFyIG5mPSJwb2ludENsb3VkVmVydGV4IixhZj1gI2lmIGRlZmluZWQoUE9JTlRTSVpFKSAmJiAhZGVmaW5lZChXRUJHUFUpCmdsX1BvaW50U2l6ZT1wb2ludFNpemU7CiNlbmRpZgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbbmZdPWFmO3ZhciBzZj0ibG9nRGVwdGhWZXJ0ZXgiLG9mPWAjaWZkZWYgTE9HQVJJVEhNSUNERVBUSAp2RnJhZ21lbnREZXB0aD0xLjArZ2xfUG9zaXRpb24udzsKZ2xfUG9zaXRpb24uej1sb2cyKG1heCgwLjAwMDAwMSx2RnJhZ21lbnREZXB0aCkpKmxvZ2FyaXRobWljRGVwdGhDb25zdGFudDsKI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtzZl09b2Y7dmFyIHVmPSJkZWZhdWx0VmVydGV4U2hhZGVyIixmZj1gI2luY2x1ZGU8X19kZWNsX19kZWZhdWx0VmVydGV4PgojZGVmaW5lIENVU1RPTV9WRVJURVhfQkVHSU4KYXR0cmlidXRlIHZlYzMgcG9zaXRpb247CiNpZmRlZiBOT1JNQUwKYXR0cmlidXRlIHZlYzMgbm9ybWFsOwojZW5kaWYKI2lmZGVmIFRBTkdFTlQKYXR0cmlidXRlIHZlYzQgdGFuZ2VudDsKI2VuZGlmCiNpZmRlZiBVVjEKYXR0cmlidXRlIHZlYzIgdXY7CiNlbmRpZgojaW5jbHVkZTx1dkF0dHJpYnV0ZURlY2xhcmF0aW9uPlsyLi43XQojaWZkZWYgVkVSVEVYQ09MT1IKYXR0cmlidXRlIHZlYzQgY29sb3I7CiNlbmRpZgojaW5jbHVkZTxoZWxwZXJGdW5jdGlvbnM+CiNpbmNsdWRlPGJvbmVzRGVjbGFyYXRpb24+CiNpbmNsdWRlPGJha2VkVmVydGV4QW5pbWF0aW9uRGVjbGFyYXRpb24+CiNpbmNsdWRlPGluc3RhbmNlc0RlY2xhcmF0aW9uPgojaW5jbHVkZTxwcmVQYXNzVmVydGV4RGVjbGFyYXRpb24+CiNpbmNsdWRlPG1haW5VVlZhcnlpbmdEZWNsYXJhdGlvbj5bMS4uN10KI2luY2x1ZGU8c2FtcGxlclZlcnRleERlY2xhcmF0aW9uPihfREVGSU5FTkFNRV8sRElGRlVTRSxfVkFSWUlOR05BTUVfLERpZmZ1c2UpCiNpbmNsdWRlPHNhbXBsZXJWZXJ0ZXhEZWNsYXJhdGlvbj4oX0RFRklORU5BTUVfLERFVEFJTCxfVkFSWUlOR05BTUVfLERldGFpbCkKI2luY2x1ZGU8c2FtcGxlclZlcnRleERlY2xhcmF0aW9uPihfREVGSU5FTkFNRV8sQU1CSUVOVCxfVkFSWUlOR05BTUVfLEFtYmllbnQpCiNpbmNsdWRlPHNhbXBsZXJWZXJ0ZXhEZWNsYXJhdGlvbj4oX0RFRklORU5BTUVfLE9QQUNJVFksX1ZBUllJTkdOQU1FXyxPcGFjaXR5KQojaW5jbHVkZTxzYW1wbGVyVmVydGV4RGVjbGFyYXRpb24+KF9ERUZJTkVOQU1FXyxFTUlTU0lWRSxfVkFSWUlOR05BTUVfLEVtaXNzaXZlKQojaW5jbHVkZTxzYW1wbGVyVmVydGV4RGVjbGFyYXRpb24+KF9ERUZJTkVOQU1FXyxMSUdIVE1BUCxfVkFSWUlOR05BTUVfLExpZ2h0bWFwKQojaWYgZGVmaW5lZChTUEVDVUxBUlRFUk0pCiNpbmNsdWRlPHNhbXBsZXJWZXJ0ZXhEZWNsYXJhdGlvbj4oX0RFRklORU5BTUVfLFNQRUNVTEFSLF9WQVJZSU5HTkFNRV8sU3BlY3VsYXIpCiNlbmRpZgojaW5jbHVkZTxzYW1wbGVyVmVydGV4RGVjbGFyYXRpb24+KF9ERUZJTkVOQU1FXyxCVU1QLF9WQVJZSU5HTkFNRV8sQnVtcCkKdmFyeWluZyB2ZWMzIHZQb3NpdGlvblc7CiNpZmRlZiBOT1JNQUwKdmFyeWluZyB2ZWMzIHZOb3JtYWxXOwojZW5kaWYKI2lmIGRlZmluZWQoVkVSVEVYQ09MT1IpIHx8IGRlZmluZWQoSU5TVEFOQ0VTQ09MT1IpCnZhcnlpbmcgdmVjNCB2Q29sb3I7CiNlbmRpZgojaW5jbHVkZTxidW1wVmVydGV4RGVjbGFyYXRpb24+CiNpbmNsdWRlPGNsaXBQbGFuZVZlcnRleERlY2xhcmF0aW9uPgojaW5jbHVkZTxmb2dWZXJ0ZXhEZWNsYXJhdGlvbj4KI2luY2x1ZGU8X19kZWNsX19saWdodFZ4RnJhZ21lbnQ+WzAuLm1heFNpbXVsdGFuZW91c0xpZ2h0c10KI2luY2x1ZGU8bW9ycGhUYXJnZXRzVmVydGV4R2xvYmFsRGVjbGFyYXRpb24+CiNpbmNsdWRlPG1vcnBoVGFyZ2V0c1ZlcnRleERlY2xhcmF0aW9uPlswLi5tYXhTaW11bHRhbmVvdXNNb3JwaFRhcmdldHNdCiNpZmRlZiBSRUZMRUNUSU9OTUFQX1NLWUJPWAp2YXJ5aW5nIHZlYzMgdlBvc2l0aW9uVVZXOwojZW5kaWYKI2lmIGRlZmluZWQoUkVGTEVDVElPTk1BUF9FUVVJUkVDVEFOR1VMQVJfRklYRUQpIHx8IGRlZmluZWQoUkVGTEVDVElPTk1BUF9NSVJST1JFREVRVUlSRUNUQU5HVUxBUl9GSVhFRCkKdmFyeWluZyB2ZWMzIHZEaXJlY3Rpb25XOwojZW5kaWYKI2luY2x1ZGU8bG9nRGVwdGhEZWNsYXJhdGlvbj4KI2RlZmluZSBDVVNUT01fVkVSVEVYX0RFRklOSVRJT05TCnZvaWQgbWFpbih2b2lkKSB7CiNkZWZpbmUgQ1VTVE9NX1ZFUlRFWF9NQUlOX0JFR0lOCnZlYzMgcG9zaXRpb25VcGRhdGVkPXBvc2l0aW9uOwojaWZkZWYgTk9STUFMCnZlYzMgbm9ybWFsVXBkYXRlZD1ub3JtYWw7CiNlbmRpZgojaWZkZWYgVEFOR0VOVAp2ZWM0IHRhbmdlbnRVcGRhdGVkPXRhbmdlbnQ7CiNlbmRpZgojaWZkZWYgVVYxCnZlYzIgdXZVcGRhdGVkPXV2OwojZW5kaWYKI2luY2x1ZGU8bW9ycGhUYXJnZXRzVmVydGV4R2xvYmFsPgojaW5jbHVkZTxtb3JwaFRhcmdldHNWZXJ0ZXg+WzAuLm1heFNpbXVsdGFuZW91c01vcnBoVGFyZ2V0c10KI2lmZGVmIFJFRkxFQ1RJT05NQVBfU0tZQk9YCnZQb3NpdGlvblVWVz1wb3NpdGlvblVwZGF0ZWQ7CiNlbmRpZgojZGVmaW5lIENVU1RPTV9WRVJURVhfVVBEQVRFX1BPU0lUSU9OCiNkZWZpbmUgQ1VTVE9NX1ZFUlRFWF9VUERBVEVfTk9STUFMCiNpbmNsdWRlPGluc3RhbmNlc1ZlcnRleD4KI2lmIGRlZmluZWQoUFJFUEFTUykgJiYgZGVmaW5lZChQUkVQQVNTX1ZFTE9DSVRZKSAmJiAhZGVmaW5lZChCT05FU19WRUxPQ0lUWV9FTkFCTEVEKQp2Q3VycmVudFBvc2l0aW9uPXZpZXdQcm9qZWN0aW9uKmZpbmFsV29ybGQqdmVjNChwb3NpdGlvblVwZGF0ZWQsMS4wKTsKdlByZXZpb3VzUG9zaXRpb249cHJldmlvdXNWaWV3UHJvamVjdGlvbipmaW5hbFByZXZpb3VzV29ybGQqdmVjNChwb3NpdGlvblVwZGF0ZWQsMS4wKTsKI2VuZGlmCiNpbmNsdWRlPGJvbmVzVmVydGV4PgojaW5jbHVkZTxiYWtlZFZlcnRleEFuaW1hdGlvbj4KdmVjNCB3b3JsZFBvcz1maW5hbFdvcmxkKnZlYzQocG9zaXRpb25VcGRhdGVkLDEuMCk7CiNpZmRlZiBOT1JNQUwKbWF0MyBub3JtYWxXb3JsZD1tYXQzKGZpbmFsV29ybGQpOwojaWYgZGVmaW5lZChJTlNUQU5DRVMpICYmIGRlZmluZWQoVEhJTl9JTlNUQU5DRVMpCnZOb3JtYWxXPW5vcm1hbFVwZGF0ZWQvdmVjMyhkb3Qobm9ybWFsV29ybGRbMF0sbm9ybWFsV29ybGRbMF0pLGRvdChub3JtYWxXb3JsZFsxXSxub3JtYWxXb3JsZFsxXSksZG90KG5vcm1hbFdvcmxkWzJdLG5vcm1hbFdvcmxkWzJdKSk7CnZOb3JtYWxXPW5vcm1hbGl6ZShub3JtYWxXb3JsZCp2Tm9ybWFsVyk7CiNlbHNlCiNpZmRlZiBOT05VTklGT1JNU0NBTElORwpub3JtYWxXb3JsZD10cmFuc3Bvc2VNYXQzKGludmVyc2VNYXQzKG5vcm1hbFdvcmxkKSk7CiNlbmRpZgp2Tm9ybWFsVz1ub3JtYWxpemUobm9ybWFsV29ybGQqbm9ybWFsVXBkYXRlZCk7CiNlbmRpZgojZW5kaWYKI2RlZmluZSBDVVNUT01fVkVSVEVYX1VQREFURV9XT1JMRFBPUwojaWZkZWYgTVVMVElWSUVXCmlmIChnbF9WaWV3SURfT1ZSPT0wdSkgewpnbF9Qb3NpdGlvbj12aWV3UHJvamVjdGlvbip3b3JsZFBvczsKfSBlbHNlIHsKZ2xfUG9zaXRpb249dmlld1Byb2plY3Rpb25SKndvcmxkUG9zOwp9CiNlbHNlCmdsX1Bvc2l0aW9uPXZpZXdQcm9qZWN0aW9uKndvcmxkUG9zOwojZW5kaWYKdlBvc2l0aW9uVz12ZWMzKHdvcmxkUG9zKTsKI2luY2x1ZGU8cHJlUGFzc1ZlcnRleD4KI2lmIGRlZmluZWQoUkVGTEVDVElPTk1BUF9FUVVJUkVDVEFOR1VMQVJfRklYRUQpIHx8IGRlZmluZWQoUkVGTEVDVElPTk1BUF9NSVJST1JFREVRVUlSRUNUQU5HVUxBUl9GSVhFRCkKdkRpcmVjdGlvblc9bm9ybWFsaXplKHZlYzMoZmluYWxXb3JsZCp2ZWM0KHBvc2l0aW9uVXBkYXRlZCwwLjApKSk7CiNlbmRpZgojaWZuZGVmIFVWMQp2ZWMyIHV2VXBkYXRlZD12ZWMyKDAuLDAuKTsKI2VuZGlmCiNpZmRlZiBNQUlOVVYxCnZNYWluVVYxPXV2VXBkYXRlZDsKI2VuZGlmCiNpbmNsdWRlPHV2VmFyaWFibGVEZWNsYXJhdGlvbj5bMi4uN10KI2luY2x1ZGU8c2FtcGxlclZlcnRleEltcGxlbWVudGF0aW9uPihfREVGSU5FTkFNRV8sRElGRlVTRSxfVkFSWUlOR05BTUVfLERpZmZ1c2UsX01BVFJJWE5BTUVfLGRpZmZ1c2UsX0lORk9OQU1FXyxEaWZmdXNlSW5mb3MueCkKI2luY2x1ZGU8c2FtcGxlclZlcnRleEltcGxlbWVudGF0aW9uPihfREVGSU5FTkFNRV8sREVUQUlMLF9WQVJZSU5HTkFNRV8sRGV0YWlsLF9NQVRSSVhOQU1FXyxkZXRhaWwsX0lORk9OQU1FXyxEZXRhaWxJbmZvcy54KQojaW5jbHVkZTxzYW1wbGVyVmVydGV4SW1wbGVtZW50YXRpb24+KF9ERUZJTkVOQU1FXyxBTUJJRU5ULF9WQVJZSU5HTkFNRV8sQW1iaWVudCxfTUFUUklYTkFNRV8sYW1iaWVudCxfSU5GT05BTUVfLEFtYmllbnRJbmZvcy54KQojaW5jbHVkZTxzYW1wbGVyVmVydGV4SW1wbGVtZW50YXRpb24+KF9ERUZJTkVOQU1FXyxPUEFDSVRZLF9WQVJZSU5HTkFNRV8sT3BhY2l0eSxfTUFUUklYTkFNRV8sb3BhY2l0eSxfSU5GT05BTUVfLE9wYWNpdHlJbmZvcy54KQojaW5jbHVkZTxzYW1wbGVyVmVydGV4SW1wbGVtZW50YXRpb24+KF9ERUZJTkVOQU1FXyxFTUlTU0lWRSxfVkFSWUlOR05BTUVfLEVtaXNzaXZlLF9NQVRSSVhOQU1FXyxlbWlzc2l2ZSxfSU5GT05BTUVfLEVtaXNzaXZlSW5mb3MueCkKI2luY2x1ZGU8c2FtcGxlclZlcnRleEltcGxlbWVudGF0aW9uPihfREVGSU5FTkFNRV8sTElHSFRNQVAsX1ZBUllJTkdOQU1FXyxMaWdodG1hcCxfTUFUUklYTkFNRV8sbGlnaHRtYXAsX0lORk9OQU1FXyxMaWdodG1hcEluZm9zLngpCiNpZiBkZWZpbmVkKFNQRUNVTEFSVEVSTSkKI2luY2x1ZGU8c2FtcGxlclZlcnRleEltcGxlbWVudGF0aW9uPihfREVGSU5FTkFNRV8sU1BFQ1VMQVIsX1ZBUllJTkdOQU1FXyxTcGVjdWxhcixfTUFUUklYTkFNRV8sc3BlY3VsYXIsX0lORk9OQU1FXyxTcGVjdWxhckluZm9zLngpCiNlbmRpZgojaW5jbHVkZTxzYW1wbGVyVmVydGV4SW1wbGVtZW50YXRpb24+KF9ERUZJTkVOQU1FXyxCVU1QLF9WQVJZSU5HTkFNRV8sQnVtcCxfTUFUUklYTkFNRV8sYnVtcCxfSU5GT05BTUVfLEJ1bXBJbmZvcy54KQojaW5jbHVkZTxidW1wVmVydGV4PgojaW5jbHVkZTxjbGlwUGxhbmVWZXJ0ZXg+CiNpbmNsdWRlPGZvZ1ZlcnRleD4KI2luY2x1ZGU8c2hhZG93c1ZlcnRleD5bMC4ubWF4U2ltdWx0YW5lb3VzTGlnaHRzXQojaW5jbHVkZTx2ZXJ0ZXhDb2xvck1peGluZz4KI2luY2x1ZGU8cG9pbnRDbG91ZFZlcnRleD4KI2luY2x1ZGU8bG9nRGVwdGhWZXJ0ZXg+CiNkZWZpbmUgQ1VTVE9NX1ZFUlRFWF9NQUlOX0VORAp9CmA7TC5TaGFkZXJzU3RvcmVbdWZdPWZmO3ZhciBsZj1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoZSl7dGhpcy5fcGx1Z2lucz1bXSx0aGlzLl9hY3RpdmVQbHVnaW5zPVtdLHRoaXMuX2FjdGl2ZVBsdWdpbnNGb3JFeHRyYUV2ZW50cz1bXSx0aGlzLl9tYXRlcmlhbD1lLHRoaXMuX3NjZW5lPWUuZ2V0U2NlbmUoKSx0aGlzLl9lbmdpbmU9dGhpcy5fc2NlbmUuZ2V0RW5naW5lKCl9cmV0dXJuIGkucHJvdG90eXBlLl9hZGRQbHVnaW49ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTA7dDx0aGlzLl9wbHVnaW5zLmxlbmd0aDsrK3QpaWYodGhpcy5fcGx1Z2luc1t0XS5uYW1lPT09ZS5uYW1lKXRocm93J1BsdWdpbiAiJy5jb25jYXQoZS5uYW1lLCciIGFscmVhZHkgYWRkZWQgdG8gdGhlIG1hdGVyaWFsICInKS5jb25jYXQodGhpcy5fbWF0ZXJpYWwubmFtZSwnIiEnKTtpZih0aGlzLl9tYXRlcmlhbC5fdW5pZm9ybUJ1ZmZlckxheW91dEJ1aWx0KXRocm93J1RoZSBwbHVnaW4gIicuY29uY2F0KGUubmFtZSxgIiBjYW4ndCBiZSBhZGRlZCB0byB0aGUgbWF0ZXJpYWwgImApLmNvbmNhdCh0aGlzLl9tYXRlcmlhbC5uYW1lLCciIGJlY2F1c2UgdGhpcyBtYXRlcmlhbCBoYXMgYWxyZWFkeSBiZWVuIHVzZWQgZm9yIHJlbmRlcmluZyEgUGxlYXNlIGFkZCBwbHVnaW5zIHRvIG1hdGVyaWFscyBiZWZvcmUgYW55IHJlbmRlcmluZyB3aXRoIHRoaXMgbWF0ZXJpYWwgb2NjdXJzLicpO3ZhciByPWUuZ2V0Q2xhc3NOYW1lKCk7aS5fTWF0ZXJpYWxQbHVnaW5DbGFzc1RvTWFpbkRlZmluZVtyXXx8KGkuX01hdGVyaWFsUGx1Z2luQ2xhc3NUb01haW5EZWZpbmVbcl09Ik1BVEVSSUFMUExVR0lOXyIrICsraS5fTWF0ZXJpYWxQbHVnaW5Db3VudGVyKSx0aGlzLl9tYXRlcmlhbC5fY2FsbGJhY2tQbHVnaW5FdmVudEdlbmVyaWM9dGhpcy5faGFuZGxlUGx1Z2luRXZlbnQuYmluZCh0aGlzKSx0aGlzLl9wbHVnaW5zLnB1c2goZSksdGhpcy5fcGx1Z2lucy5zb3J0KGZ1bmN0aW9uKHUsZil7cmV0dXJuIHUucHJpb3JpdHktZi5wcmlvcml0eX0pLHRoaXMuX2NvZGVJbmplY3Rpb25Qb2ludHM9e307dmFyIG49e307bltpLl9NYXRlcmlhbFBsdWdpbkNsYXNzVG9NYWluRGVmaW5lW3JdXT17dHlwZToiYm9vbGVhbiIsZGVmYXVsdDohMH07Zm9yKHZhciBhPTAscz10aGlzLl9wbHVnaW5zO2E8cy5sZW5ndGg7YSsrKXt2YXIgbz1zW2FdO28uY29sbGVjdERlZmluZXMobiksdGhpcy5fY29sbGVjdFBvaW50TmFtZXMoInZlcnRleCIsby5nZXRDdXN0b21Db2RlKCJ2ZXJ0ZXgiKSksdGhpcy5fY29sbGVjdFBvaW50TmFtZXMoImZyYWdtZW50IixvLmdldEN1c3RvbUNvZGUoImZyYWdtZW50IikpfXRoaXMuX2RlZmluZU5hbWVzRnJvbVBsdWdpbnM9bn0saS5wcm90b3R5cGUuX2FjdGl2YXRlUGx1Z2luPWZ1bmN0aW9uKGUpe3RoaXMuX2FjdGl2ZVBsdWdpbnMuaW5kZXhPZihlKT09PS0xJiYodGhpcy5fYWN0aXZlUGx1Z2lucy5wdXNoKGUpLHRoaXMuX2FjdGl2ZVBsdWdpbnMuc29ydChmdW5jdGlvbih0LHIpe3JldHVybiB0LnByaW9yaXR5LXIucHJpb3JpdHl9KSx0aGlzLl9tYXRlcmlhbC5fY2FsbGJhY2tQbHVnaW5FdmVudElzUmVhZHlGb3JTdWJNZXNoPXRoaXMuX2hhbmRsZVBsdWdpbkV2ZW50SXNSZWFkeUZvclN1Yk1lc2guYmluZCh0aGlzKSx0aGlzLl9tYXRlcmlhbC5fY2FsbGJhY2tQbHVnaW5FdmVudFByZXBhcmVEZWZpbmVzPXRoaXMuX2hhbmRsZVBsdWdpbkV2ZW50UHJlcGFyZURlZmluZXMuYmluZCh0aGlzKSx0aGlzLl9tYXRlcmlhbC5fY2FsbGJhY2tQbHVnaW5FdmVudEJpbmRGb3JTdWJNZXNoPXRoaXMuX2hhbmRsZVBsdWdpbkV2ZW50QmluZEZvclN1Yk1lc2guYmluZCh0aGlzKSxlLnJlZ2lzdGVyRm9yRXh0cmFFdmVudHMmJih0aGlzLl9hY3RpdmVQbHVnaW5zRm9yRXh0cmFFdmVudHMucHVzaChlKSx0aGlzLl9hY3RpdmVQbHVnaW5zRm9yRXh0cmFFdmVudHMuc29ydChmdW5jdGlvbih0LHIpe3JldHVybiB0LnByaW9yaXR5LXIucHJpb3JpdHl9KSx0aGlzLl9tYXRlcmlhbC5fY2FsbGJhY2tQbHVnaW5FdmVudEhhc1JlbmRlclRhcmdldFRleHR1cmVzPXRoaXMuX2hhbmRsZVBsdWdpbkV2ZW50SGFzUmVuZGVyVGFyZ2V0VGV4dHVyZXMuYmluZCh0aGlzKSx0aGlzLl9tYXRlcmlhbC5fY2FsbGJhY2tQbHVnaW5FdmVudEZpbGxSZW5kZXJUYXJnZXRUZXh0dXJlcz10aGlzLl9oYW5kbGVQbHVnaW5FdmVudEZpbGxSZW5kZXJUYXJnZXRUZXh0dXJlcy5iaW5kKHRoaXMpLHRoaXMuX21hdGVyaWFsLl9jYWxsYmFja1BsdWdpbkV2ZW50SGFyZEJpbmRGb3JTdWJNZXNoPXRoaXMuX2hhbmRsZVBsdWdpbkV2ZW50SGFyZEJpbmRGb3JTdWJNZXNoLmJpbmQodGhpcykpKX0saS5wcm90b3R5cGUuZ2V0UGx1Z2luPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wO3Q8dGhpcy5fcGx1Z2lucy5sZW5ndGg7Kyt0KWlmKHRoaXMuX3BsdWdpbnNbdF0ubmFtZT09PWUpcmV0dXJuIHRoaXMuX3BsdWdpbnNbdF07cmV0dXJuIG51bGx9LGkucHJvdG90eXBlLl9oYW5kbGVQbHVnaW5FdmVudElzUmVhZHlGb3JTdWJNZXNoPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0hMCxyPTAsbj10aGlzLl9hY3RpdmVQbHVnaW5zO3I8bi5sZW5ndGg7cisrKXt2YXIgYT1uW3JdO3Q9dCYmYS5pc1JlYWR5Rm9yU3ViTWVzaChlLmRlZmluZXMsdGhpcy5fc2NlbmUsdGhpcy5fZW5naW5lLGUuc3ViTWVzaCl9ZS5pc1JlYWR5Rm9yU3ViTWVzaD10fSxpLnByb3RvdHlwZS5faGFuZGxlUGx1Z2luRXZlbnRQcmVwYXJlRGVmaW5lcz1mdW5jdGlvbihlKXtmb3IodmFyIHQ9MCxyPXRoaXMuX2FjdGl2ZVBsdWdpbnM7dDxyLmxlbmd0aDt0Kyspe3ZhciBuPXJbdF07bi5wcmVwYXJlRGVmaW5lcyhlLmRlZmluZXMsdGhpcy5fc2NlbmUsZS5tZXNoKX19LGkucHJvdG90eXBlLl9oYW5kbGVQbHVnaW5FdmVudEhhcmRCaW5kRm9yU3ViTWVzaD1mdW5jdGlvbihlKXtmb3IodmFyIHQ9MCxyPXRoaXMuX2FjdGl2ZVBsdWdpbnNGb3JFeHRyYUV2ZW50czt0PHIubGVuZ3RoO3QrKyl7dmFyIG49clt0XTtuLmhhcmRCaW5kRm9yU3ViTWVzaCh0aGlzLl9tYXRlcmlhbC5fdW5pZm9ybUJ1ZmZlcix0aGlzLl9zY2VuZSx0aGlzLl9lbmdpbmUsZS5zdWJNZXNoKX19LGkucHJvdG90eXBlLl9oYW5kbGVQbHVnaW5FdmVudEJpbmRGb3JTdWJNZXNoPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wLHI9dGhpcy5fYWN0aXZlUGx1Z2luczt0PHIubGVuZ3RoO3QrKyl7dmFyIG49clt0XTtuLmJpbmRGb3JTdWJNZXNoKHRoaXMuX21hdGVyaWFsLl91bmlmb3JtQnVmZmVyLHRoaXMuX3NjZW5lLHRoaXMuX2VuZ2luZSxlLnN1Yk1lc2gpfX0saS5wcm90b3R5cGUuX2hhbmRsZVBsdWdpbkV2ZW50SGFzUmVuZGVyVGFyZ2V0VGV4dHVyZXM9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PSExLHI9MCxuPXRoaXMuX2FjdGl2ZVBsdWdpbnNGb3JFeHRyYUV2ZW50cztyPG4ubGVuZ3RoO3IrKyl7dmFyIGE9bltyXTtpZih0PWEuaGFzUmVuZGVyVGFyZ2V0VGV4dHVyZXMoKSx0KWJyZWFrfWUuaGFzUmVuZGVyVGFyZ2V0VGV4dHVyZXM9dH0saS5wcm90b3R5cGUuX2hhbmRsZVBsdWdpbkV2ZW50RmlsbFJlbmRlclRhcmdldFRleHR1cmVzPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wLHI9dGhpcy5fYWN0aXZlUGx1Z2luc0ZvckV4dHJhRXZlbnRzO3Q8ci5sZW5ndGg7dCsrKXt2YXIgbj1yW3RdO24uZmlsbFJlbmRlclRhcmdldFRleHR1cmVzKGUucmVuZGVyVGFyZ2V0cyl9fSxpLnByb3RvdHlwZS5faGFuZGxlUGx1Z2luRXZlbnQ9ZnVuY3Rpb24oZSx0KXt2YXIgcixuLGE7c3dpdGNoKGUpe2Nhc2UgRGUuR2V0QWN0aXZlVGV4dHVyZXM6e2Zvcih2YXIgcz10LG89MCx1PXRoaXMuX2FjdGl2ZVBsdWdpbnM7bzx1Lmxlbmd0aDtvKyspe3ZhciBmPXVbb107Zi5nZXRBY3RpdmVUZXh0dXJlcyhzLmFjdGl2ZVRleHR1cmVzKX1icmVha31jYXNlIERlLkdldEFuaW1hdGFibGVzOntmb3IodmFyIHM9dCxsPTAsaD10aGlzLl9hY3RpdmVQbHVnaW5zO2w8aC5sZW5ndGg7bCsrKXt2YXIgZj1oW2xdO2YuZ2V0QW5pbWF0YWJsZXMocy5hbmltYXRhYmxlcyl9YnJlYWt9Y2FzZSBEZS5IYXNUZXh0dXJlOntmb3IodmFyIHM9dCxjPSExLGQ9MCxwPXRoaXMuX2FjdGl2ZVBsdWdpbnM7ZDxwLmxlbmd0aDtkKyspe3ZhciBmPXBbZF07aWYoYz1mLmhhc1RleHR1cmUocy50ZXh0dXJlKSxjKWJyZWFrfXMuaGFzVGV4dHVyZT1jO2JyZWFrfWNhc2UgRGUuRGlzcG9zZWQ6e2Zvcih2YXIgcz10LGc9MCxfPXRoaXMuX3BsdWdpbnM7ZzxfLmxlbmd0aDtnKyspe3ZhciBmPV9bZ107Zi5kaXNwb3NlKHMuZm9yY2VEaXNwb3NlVGV4dHVyZXMpfWJyZWFrfWNhc2UgRGUuR2V0RGVmaW5lTmFtZXM6e3ZhciBzPXQ7cy5kZWZpbmVOYW1lcz10aGlzLl9kZWZpbmVOYW1lc0Zyb21QbHVnaW5zO2JyZWFrfWNhc2UgRGUuUHJlcGFyZUVmZmVjdDp7Zm9yKHZhciBzPXQsdj0wLHk9dGhpcy5fYWN0aXZlUGx1Z2luczt2PHkubGVuZ3RoO3YrKyl7dmFyIGY9eVt2XTtzLmZhbGxiYWNrUmFuaz1mLmFkZEZhbGxiYWNrcyhzLmRlZmluZXMscy5mYWxsYmFja3Mscy5mYWxsYmFja1JhbmspfXRoaXMuX3VuaWZvcm1MaXN0Lmxlbmd0aD4wJiYocj1zLnVuaWZvcm1zKS5wdXNoLmFwcGx5KHIsdGhpcy5fdW5pZm9ybUxpc3QpLHRoaXMuX3NhbXBsZXJMaXN0Lmxlbmd0aD4wJiYobj1zLnNhbXBsZXJzKS5wdXNoLmFwcGx5KG4sdGhpcy5fc2FtcGxlckxpc3QpLHRoaXMuX3Vib0xpc3QubGVuZ3RoPjAmJihhPXMudW5pZm9ybUJ1ZmZlcnNOYW1lcykucHVzaC5hcHBseShhLHRoaXMuX3Vib0xpc3QpLHMuY3VzdG9tQ29kZT10aGlzLl9pbmplY3RDdXN0b21Db2RlKHMuY3VzdG9tQ29kZSk7YnJlYWt9Y2FzZSBEZS5QcmVwYXJlVW5pZm9ybUJ1ZmZlcjp7dmFyIHM9dDt0aGlzLl91Ym9EZWNsYXJhdGlvbj0iIix0aGlzLl92ZXJ0ZXhEZWNsYXJhdGlvbj0iIix0aGlzLl9mcmFnbWVudERlY2xhcmF0aW9uPSIiLHRoaXMuX3VuaWZvcm1MaXN0PVtdLHRoaXMuX3NhbXBsZXJMaXN0PVtdLHRoaXMuX3Vib0xpc3Q9W107Zm9yKHZhciBFPTAsUj10aGlzLl9wbHVnaW5zO0U8Ui5sZW5ndGg7RSsrKXt2YXIgZj1SW0VdLE09Zi5nZXRVbmlmb3JtcygpO2lmKE0pe2lmKE0udWJvKWZvcih2YXIgQz0wLEE9TS51Ym87QzxBLmxlbmd0aDtDKyspe3ZhciBTPUFbQ107cy51Ym8uYWRkVW5pZm9ybShTLm5hbWUsUy5zaXplKSx0aGlzLl91Ym9EZWNsYXJhdGlvbis9IiIuY29uY2F0KFMudHlwZSwiICIpLmNvbmNhdChTLm5hbWUsYDtccgpgKSx0aGlzLl91bmlmb3JtTGlzdC5wdXNoKFMubmFtZSl9TS52ZXJ0ZXgmJih0aGlzLl92ZXJ0ZXhEZWNsYXJhdGlvbis9TS52ZXJ0ZXgrYFxyCmApLE0uZnJhZ21lbnQmJih0aGlzLl9mcmFnbWVudERlY2xhcmF0aW9uKz1NLmZyYWdtZW50K2BccgpgKX1mLmdldFNhbXBsZXJzKHRoaXMuX3NhbXBsZXJMaXN0KSxmLmdldFVuaWZvcm1CdWZmZXJzTmFtZXModGhpcy5fdWJvTGlzdCl9YnJlYWt9fX0saS5wcm90b3R5cGUuX2NvbGxlY3RQb2ludE5hbWVzPWZ1bmN0aW9uKGUsdCl7aWYoISF0KWZvcih2YXIgciBpbiB0KXRoaXMuX2NvZGVJbmplY3Rpb25Qb2ludHNbZV18fCh0aGlzLl9jb2RlSW5qZWN0aW9uUG9pbnRzW2VdPXt9KSx0aGlzLl9jb2RlSW5qZWN0aW9uUG9pbnRzW2VdW3JdPSEwfSxpLnByb3RvdHlwZS5faW5qZWN0Q3VzdG9tQ29kZT1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiBmdW5jdGlvbihyLG4pe3ZhciBhO2UmJihuPWUocixuKSksdC5fdWJvRGVjbGFyYXRpb24mJihuPW4ucmVwbGFjZSgiI2RlZmluZSBBRERJVElPTkFMX1VCT19ERUNMQVJBVElPTiIsdC5fdWJvRGVjbGFyYXRpb24pKSx0Ll92ZXJ0ZXhEZWNsYXJhdGlvbiYmKG49bi5yZXBsYWNlKCIjZGVmaW5lIEFERElUSU9OQUxfVkVSVEVYX0RFQ0xBUkFUSU9OIix0Ll92ZXJ0ZXhEZWNsYXJhdGlvbikpLHQuX2ZyYWdtZW50RGVjbGFyYXRpb24mJihuPW4ucmVwbGFjZSgiI2RlZmluZSBBRERJVElPTkFMX0ZSQUdNRU5UX0RFQ0xBUkFUSU9OIix0Ll9mcmFnbWVudERlY2xhcmF0aW9uKSk7dmFyIHM9KGE9dC5fY29kZUluamVjdGlvblBvaW50cyk9PT1udWxsfHxhPT09dm9pZCAwP3ZvaWQgMDphW3JdO2lmKCFzKXJldHVybiBuO2Zvcih2YXIgbyBpbiBzKXtmb3IodmFyIHU9IiIsZj0wLGw9dC5fYWN0aXZlUGx1Z2lucztmPGwubGVuZ3RoO2YrKyl7dmFyIGg9bFtmXSxjPWguZ2V0Q3VzdG9tQ29kZShyKTtjIT1udWxsJiZjW29dJiYodSs9Y1tvXStgXHIKYCl9aWYodS5sZW5ndGg+MClpZihvLmNoYXJBdCgwKT09PSIhIilmb3IodmFyIGQ9bmV3IFJlZ0V4cChvLnN1YnN0cmluZygxKSwiZyIpLHA9ZC5leGVjKG4pO3AhPT1udWxsOyluPW4ucmVwbGFjZShwWzBdLHUpLHA9ZC5leGVjKG4pO2Vsc2V7dmFyIGc9IiNkZWZpbmUgIitvO249bi5yZXBsYWNlKGcsYFxyCmArdStgXHIKYCtnKX19cmV0dXJuIG59fSxpLl9NYXRlcmlhbFBsdWdpbkNsYXNzVG9NYWluRGVmaW5lPXt9LGkuX01hdGVyaWFsUGx1Z2luQ291bnRlcj0wLGl9KCksaGY9ZnVuY3Rpb24oKXtmdW5jdGlvbiBpKGUsdCxyLG4sYSxzKXthPT09dm9pZCAwJiYoYT0hMCkscz09PXZvaWQgMCYmKHM9ITEpLHRoaXMucHJpb3JpdHk9NTAwLHRoaXMucmVnaXN0ZXJGb3JFeHRyYUV2ZW50cz0hMSx0aGlzLl9tYXRlcmlhbD1lLHRoaXMubmFtZT10LHRoaXMucHJpb3JpdHk9cixlLnBsdWdpbk1hbmFnZXJ8fChlLnBsdWdpbk1hbmFnZXI9bmV3IGxmKGUpKSx0aGlzLl9wbHVnaW5EZWZpbmVOYW1lcz1uLHRoaXMuX3BsdWdpbk1hbmFnZXI9ZS5wbHVnaW5NYW5hZ2VyLGEmJnRoaXMuX3BsdWdpbk1hbmFnZXIuX2FkZFBsdWdpbih0aGlzKSxzJiZ0aGlzLl9lbmFibGUoITApLHRoaXMubWFya0FsbERlZmluZXNBc0RpcnR5PWUuX2RpcnR5Q2FsbGJhY2tzWzYzXX1yZXR1cm4gaS5wcm90b3R5cGUuX2VuYWJsZT1mdW5jdGlvbihlKXtlJiZ0aGlzLl9wbHVnaW5NYW5hZ2VyLl9hY3RpdmF0ZVBsdWdpbih0aGlzKX0saS5wcm90b3R5cGUuZ2V0Q2xhc3NOYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIk1hdGVyaWFsUGx1Z2luQmFzZSJ9LGkucHJvdG90eXBlLmlzUmVhZHlGb3JTdWJNZXNoPWZ1bmN0aW9uKGUsdCxyLG4pe3JldHVybiEwfSxpLnByb3RvdHlwZS5oYXJkQmluZEZvclN1Yk1lc2g9ZnVuY3Rpb24oZSx0LHIsbil7fSxpLnByb3RvdHlwZS5iaW5kRm9yU3ViTWVzaD1mdW5jdGlvbihlLHQscixuKXt9LGkucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oZSl7fSxpLnByb3RvdHlwZS5nZXRDdXN0b21Db2RlPWZ1bmN0aW9uKGUpe3JldHVybiBudWxsfSxpLnByb3RvdHlwZS5jb2xsZWN0RGVmaW5lcz1mdW5jdGlvbihlKXtpZighIXRoaXMuX3BsdWdpbkRlZmluZU5hbWVzKWZvcih2YXIgdD0wLHI9T2JqZWN0LmtleXModGhpcy5fcGx1Z2luRGVmaW5lTmFtZXMpO3Q8ci5sZW5ndGg7dCsrKXt2YXIgbj1yW3RdO2lmKG5bMF0hPT0iXyIpe3ZhciBhPXR5cGVvZiB0aGlzLl9wbHVnaW5EZWZpbmVOYW1lc1tuXTtlW25dPXt0eXBlOmE9PT0ibnVtYmVyIj8ibnVtYmVyIjphPT09InN0cmluZyI/InN0cmluZyI6YT09PSJib29sZWFuIj8iYm9vbGVhbiI6Im9iamVjdCIsZGVmYXVsdDp0aGlzLl9wbHVnaW5EZWZpbmVOYW1lc1tuXX19fX0saS5wcm90b3R5cGUucHJlcGFyZURlZmluZXM9ZnVuY3Rpb24oZSx0LHIpe30saS5wcm90b3R5cGUuaGFzVGV4dHVyZT1mdW5jdGlvbihlKXtyZXR1cm4hMX0saS5wcm90b3R5cGUuaGFzUmVuZGVyVGFyZ2V0VGV4dHVyZXM9ZnVuY3Rpb24oKXtyZXR1cm4hMX0saS5wcm90b3R5cGUuZmlsbFJlbmRlclRhcmdldFRleHR1cmVzPWZ1bmN0aW9uKGUpe30saS5wcm90b3R5cGUuZ2V0QWN0aXZlVGV4dHVyZXM9ZnVuY3Rpb24oZSl7fSxpLnByb3RvdHlwZS5nZXRBbmltYXRhYmxlcz1mdW5jdGlvbihlKXt9LGkucHJvdG90eXBlLmFkZEZhbGxiYWNrcz1mdW5jdGlvbihlLHQscil7cmV0dXJuIHJ9LGkucHJvdG90eXBlLmdldFNhbXBsZXJzPWZ1bmN0aW9uKGUpe30saS5wcm90b3R5cGUuZ2V0VW5pZm9ybUJ1ZmZlcnNOYW1lcz1mdW5jdGlvbihlKXt9LGkucHJvdG90eXBlLmdldFVuaWZvcm1zPWZ1bmN0aW9uKCl7cmV0dXJue319LGkucHJvdG90eXBlLmNvcHlUbz1mdW5jdGlvbihlKXt0ZS5DbG9uZShmdW5jdGlvbigpe3JldHVybiBlfSx0aGlzKX0saS5wcm90b3R5cGUuc2VyaWFsaXplPWZ1bmN0aW9uKCl7cmV0dXJuIHRlLlNlcmlhbGl6ZSh0aGlzKX0saS5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXRoaXM7dGUuUGFyc2UoZnVuY3Rpb24oKXtyZXR1cm4gbn0sZSx0LHIpfSxUKFtQKCldLGkucHJvdG90eXBlLCJuYW1lIix2b2lkIDApLFQoW1AoKV0saS5wcm90b3R5cGUsInByaW9yaXR5Iix2b2lkIDApLFQoW1AoKV0saS5wcm90b3R5cGUsInJlZ2lzdGVyRm9yRXh0cmFFdmVudHMiLHZvaWQgMCksaX0oKSxjZj1mdW5jdGlvbihpKXtLKGUsaSk7ZnVuY3Rpb24gZSgpe3ZhciB0PWkhPT1udWxsJiZpLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gdC5ERVRBSUw9ITEsdC5ERVRBSUxESVJFQ1RVVj0wLHQuREVUQUlMX05PUk1BTEJMRU5ETUVUSE9EPTAsdH1yZXR1cm4gZX0oYnIpLGRmPWZ1bmN0aW9uKGkpe0soZSxpKTtmdW5jdGlvbiBlKHQscil7cj09PXZvaWQgMCYmKHI9ITApO3ZhciBuPWkuY2FsbCh0aGlzLHQsIkRldGFpbE1hcCIsMTQwLG5ldyBjZixyKXx8dGhpcztyZXR1cm4gbi5fdGV4dHVyZT1udWxsLG4uZGlmZnVzZUJsZW5kTGV2ZWw9MSxuLnJvdWdobmVzc0JsZW5kTGV2ZWw9MSxuLmJ1bXBMZXZlbD0xLG4uX25vcm1hbEJsZW5kTWV0aG9kPUZlLk1BVEVSSUFMX05PUk1BTEJMRU5ETUVUSE9EX1dISVRFT1VULG4uX2lzRW5hYmxlZD0hMSxuLmlzRW5hYmxlZD0hMSxuLl9pbnRlcm5hbE1hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHk9dC5fZGlydHlDYWxsYmFja3NbMV0sbn1yZXR1cm4gZS5wcm90b3R5cGUuX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHk9ZnVuY3Rpb24oKXt0aGlzLl9lbmFibGUodGhpcy5faXNFbmFibGVkKSx0aGlzLl9pbnRlcm5hbE1hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHkoKX0sZS5wcm90b3R5cGUuaXNSZWFkeUZvclN1Yk1lc2g9ZnVuY3Rpb24odCxyLG4pe3JldHVybiB0aGlzLl9pc0VuYWJsZWQ/ISh0Ll9hcmVUZXh0dXJlc0RpcnR5JiZyLnRleHR1cmVzRW5hYmxlZCYmbi5nZXRDYXBzKCkuc3RhbmRhcmREZXJpdmF0aXZlcyYmdGhpcy5fdGV4dHVyZSYmcGUuRGV0YWlsVGV4dHVyZUVuYWJsZWQmJiF0aGlzLl90ZXh0dXJlLmlzUmVhZHkoKSk6ITB9LGUucHJvdG90eXBlLnByZXBhcmVEZWZpbmVzPWZ1bmN0aW9uKHQscil7aWYodGhpcy5faXNFbmFibGVkKXt0LkRFVEFJTF9OT1JNQUxCTEVORE1FVEhPRD10aGlzLl9ub3JtYWxCbGVuZE1ldGhvZDt2YXIgbj1yLmdldEVuZ2luZSgpO3QuX2FyZVRleHR1cmVzRGlydHkmJihuLmdldENhcHMoKS5zdGFuZGFyZERlcml2YXRpdmVzJiZ0aGlzLl90ZXh0dXJlJiZwZS5EZXRhaWxUZXh0dXJlRW5hYmxlZCYmdGhpcy5faXNFbmFibGVkPyhZLlByZXBhcmVEZWZpbmVzRm9yTWVyZ2VkVVYodGhpcy5fdGV4dHVyZSx0LCJERVRBSUwiKSx0LkRFVEFJTF9OT1JNQUxCTEVORE1FVEhPRD10aGlzLl9ub3JtYWxCbGVuZE1ldGhvZCk6dC5ERVRBSUw9ITEpfWVsc2UgdC5ERVRBSUw9ITF9LGUucHJvdG90eXBlLmJpbmRGb3JTdWJNZXNoPWZ1bmN0aW9uKHQscil7aWYoISF0aGlzLl9pc0VuYWJsZWQpe3ZhciBuPXRoaXMuX21hdGVyaWFsLmlzRnJvemVuOyghdC51c2VVYm98fCFufHwhdC5pc1N5bmMpJiZ0aGlzLl90ZXh0dXJlJiZwZS5EZXRhaWxUZXh0dXJlRW5hYmxlZCYmKHQudXBkYXRlRmxvYXQ0KCJ2RGV0YWlsSW5mb3MiLHRoaXMuX3RleHR1cmUuY29vcmRpbmF0ZXNJbmRleCx0aGlzLmRpZmZ1c2VCbGVuZExldmVsLHRoaXMuYnVtcExldmVsLHRoaXMucm91Z2huZXNzQmxlbmRMZXZlbCksWS5CaW5kVGV4dHVyZU1hdHJpeCh0aGlzLl90ZXh0dXJlLHQsImRldGFpbCIpKSxyLnRleHR1cmVzRW5hYmxlZCYmdGhpcy5fdGV4dHVyZSYmcGUuRGV0YWlsVGV4dHVyZUVuYWJsZWQmJnQuc2V0VGV4dHVyZSgiZGV0YWlsU2FtcGxlciIsdGhpcy5fdGV4dHVyZSl9fSxlLnByb3RvdHlwZS5oYXNUZXh0dXJlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl90ZXh0dXJlPT09dH0sZS5wcm90b3R5cGUuZ2V0QWN0aXZlVGV4dHVyZXM9ZnVuY3Rpb24odCl7dGhpcy5fdGV4dHVyZSYmdC5wdXNoKHRoaXMuX3RleHR1cmUpfSxlLnByb3RvdHlwZS5nZXRBbmltYXRhYmxlcz1mdW5jdGlvbih0KXt0aGlzLl90ZXh0dXJlJiZ0aGlzLl90ZXh0dXJlLmFuaW1hdGlvbnMmJnRoaXMuX3RleHR1cmUuYW5pbWF0aW9ucy5sZW5ndGg+MCYmdC5wdXNoKHRoaXMuX3RleHR1cmUpfSxlLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKHQpe3ZhciByO3QmJigocj10aGlzLl90ZXh0dXJlKT09PW51bGx8fHI9PT12b2lkIDB8fHIuZGlzcG9zZSgpKX0sZS5wcm90b3R5cGUuZ2V0Q2xhc3NOYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIkRldGFpbE1hcENvbmZpZ3VyYXRpb24ifSxlLnByb3RvdHlwZS5nZXRTYW1wbGVycz1mdW5jdGlvbih0KXt0LnB1c2goImRldGFpbFNhbXBsZXIiKX0sZS5wcm90b3R5cGUuZ2V0VW5pZm9ybXM9ZnVuY3Rpb24oKXtyZXR1cm57dWJvOlt7bmFtZToidkRldGFpbEluZm9zIixzaXplOjQsdHlwZToidmVjNCJ9LHtuYW1lOiJkZXRhaWxNYXRyaXgiLHNpemU6MTYsdHlwZToibWF0NCJ9XX19LFQoW0hlKCJkZXRhaWxUZXh0dXJlIiksb2UoIl9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0RpcnR5IildLGUucHJvdG90eXBlLCJ0ZXh0dXJlIix2b2lkIDApLFQoW1AoKV0sZS5wcm90b3R5cGUsImRpZmZ1c2VCbGVuZExldmVsIix2b2lkIDApLFQoW1AoKV0sZS5wcm90b3R5cGUsInJvdWdobmVzc0JsZW5kTGV2ZWwiLHZvaWQgMCksVChbUCgpXSxlLnByb3RvdHlwZSwiYnVtcExldmVsIix2b2lkIDApLFQoW1AoKSxvZSgiX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHkiKV0sZS5wcm90b3R5cGUsIm5vcm1hbEJsZW5kTWV0aG9kIix2b2lkIDApLFQoW1AoKSxvZSgiX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHkiKV0sZS5wcm90b3R5cGUsImlzRW5hYmxlZCIsdm9pZCAwKSxlfShoZiksZ2k9e2VmZmVjdDpudWxsLHN1Yk1lc2g6bnVsbH0scGY9ZnVuY3Rpb24oaSl7SyhlLGkpO2Z1bmN0aW9uIGUodCl7dmFyIHI9aS5jYWxsKHRoaXMsdCl8fHRoaXM7cmV0dXJuIHIuTUFJTlVWMT0hMSxyLk1BSU5VVjI9ITEsci5NQUlOVVYzPSExLHIuTUFJTlVWND0hMSxyLk1BSU5VVjU9ITEsci5NQUlOVVY2PSExLHIuRElGRlVTRT0hMSxyLkRJRkZVU0VESVJFQ1RVVj0wLHIuQkFLRURfVkVSVEVYX0FOSU1BVElPTl9URVhUVVJFPSExLHIuQU1CSUVOVD0hMSxyLkFNQklFTlRESVJFQ1RVVj0wLHIuT1BBQ0lUWT0hMSxyLk9QQUNJVFlESVJFQ1RVVj0wLHIuT1BBQ0lUWVJHQj0hMSxyLlJFRkxFQ1RJT049ITEsci5FTUlTU0lWRT0hMSxyLkVNSVNTSVZFRElSRUNUVVY9MCxyLlNQRUNVTEFSPSExLHIuU1BFQ1VMQVJESVJFQ1RVVj0wLHIuQlVNUD0hMSxyLkJVTVBESVJFQ1RVVj0wLHIuUEFSQUxMQVg9ITEsci5QQVJBTExBWE9DQ0xVU0lPTj0hMSxyLlNQRUNVTEFST1ZFUkFMUEhBPSExLHIuQ0xJUFBMQU5FPSExLHIuQ0xJUFBMQU5FMj0hMSxyLkNMSVBQTEFORTM9ITEsci5DTElQUExBTkU0PSExLHIuQ0xJUFBMQU5FNT0hMSxyLkNMSVBQTEFORTY9ITEsci5BTFBIQVRFU1Q9ITEsci5ERVBUSFBSRVBBU1M9ITEsci5BTFBIQUZST01ESUZGVVNFPSExLHIuUE9JTlRTSVpFPSExLHIuRk9HPSExLHIuU1BFQ1VMQVJURVJNPSExLHIuRElGRlVTRUZSRVNORUw9ITEsci5PUEFDSVRZRlJFU05FTD0hMSxyLlJFRkxFQ1RJT05GUkVTTkVMPSExLHIuUkVGUkFDVElPTkZSRVNORUw9ITEsci5FTUlTU0lWRUZSRVNORUw9ITEsci5GUkVTTkVMPSExLHIuTk9STUFMPSExLHIuVEFOR0VOVD0hMSxyLlVWMT0hMSxyLlVWMj0hMSxyLlVWMz0hMSxyLlVWND0hMSxyLlVWNT0hMSxyLlVWNj0hMSxyLlZFUlRFWENPTE9SPSExLHIuVkVSVEVYQUxQSEE9ITEsci5OVU1fQk9ORV9JTkZMVUVOQ0VSUz0wLHIuQm9uZXNQZXJNZXNoPTAsci5CT05FVEVYVFVSRT0hMSxyLkJPTkVTX1ZFTE9DSVRZX0VOQUJMRUQ9ITEsci5JTlNUQU5DRVM9ITEsci5USElOX0lOU1RBTkNFUz0hMSxyLklOU1RBTkNFU0NPTE9SPSExLHIuR0xPU1NJTkVTUz0hMSxyLlJPVUdITkVTUz0hMSxyLkVNSVNTSVZFQVNJTExVTUlOQVRJT049ITEsci5MSU5LRU1JU1NJVkVXSVRIRElGRlVTRT0hMSxyLlJFRkxFQ1RJT05GUkVTTkVMRlJPTVNQRUNVTEFSPSExLHIuTElHSFRNQVA9ITEsci5MSUdIVE1BUERJUkVDVFVWPTAsci5PQkpFQ1RTUEFDRV9OT1JNQUxNQVA9ITEsci5VU0VMSUdIVE1BUEFTU0hBRE9XTUFQPSExLHIuUkVGTEVDVElPTk1BUF8zRD0hMSxyLlJFRkxFQ1RJT05NQVBfU1BIRVJJQ0FMPSExLHIuUkVGTEVDVElPTk1BUF9QTEFOQVI9ITEsci5SRUZMRUNUSU9OTUFQX0NVQklDPSExLHIuVVNFX0xPQ0FMX1JFRkxFQ1RJT05NQVBfQ1VCSUM9ITEsci5VU0VfTE9DQUxfUkVGUkFDVElPTk1BUF9DVUJJQz0hMSxyLlJFRkxFQ1RJT05NQVBfUFJPSkVDVElPTj0hMSxyLlJFRkxFQ1RJT05NQVBfU0tZQk9YPSExLHIuUkVGTEVDVElPTk1BUF9FWFBMSUNJVD0hMSxyLlJFRkxFQ1RJT05NQVBfRVFVSVJFQ1RBTkdVTEFSPSExLHIuUkVGTEVDVElPTk1BUF9FUVVJUkVDVEFOR1VMQVJfRklYRUQ9ITEsci5SRUZMRUNUSU9OTUFQX01JUlJPUkVERVFVSVJFQ1RBTkdVTEFSX0ZJWEVEPSExLHIuUkVGTEVDVElPTk1BUF9PUFBPU0lURVo9ITEsci5JTlZFUlRDVUJJQ01BUD0hMSxyLkxPR0FSSVRITUlDREVQVEg9ITEsci5SRUZSQUNUSU9OPSExLHIuUkVGUkFDVElPTk1BUF8zRD0hMSxyLlJFRkxFQ1RJT05PVkVSQUxQSEE9ITEsci5UV09TSURFRExJR0hUSU5HPSExLHIuU0hBRE9XRkxPQVQ9ITEsci5NT1JQSFRBUkdFVFM9ITEsci5NT1JQSFRBUkdFVFNfTk9STUFMPSExLHIuTU9SUEhUQVJHRVRTX1RBTkdFTlQ9ITEsci5NT1JQSFRBUkdFVFNfVVY9ITEsci5OVU1fTU9SUEhfSU5GTFVFTkNFUlM9MCxyLk1PUlBIVEFSR0VUU19URVhUVVJFPSExLHIuTk9OVU5JRk9STVNDQUxJTkc9ITEsci5QUkVNVUxUSVBMWUFMUEhBPSExLHIuQUxQSEFURVNUX0FGVEVSQUxMQUxQSEFDT01QVVRBVElPTlM9ITEsci5BTFBIQUJMRU5EPSEwLHIuUFJFUEFTUz0hMSxyLlBSRVBBU1NfSVJSQURJQU5DRT0hMSxyLlBSRVBBU1NfSVJSQURJQU5DRV9JTkRFWD0tMSxyLlBSRVBBU1NfQUxCRURPX1NRUlQ9ITEsci5QUkVQQVNTX0FMQkVET19TUVJUX0lOREVYPS0xLHIuUFJFUEFTU19ERVBUSD0hMSxyLlBSRVBBU1NfREVQVEhfSU5ERVg9LTEsci5QUkVQQVNTX05PUk1BTD0hMSxyLlBSRVBBU1NfTk9STUFMX0lOREVYPS0xLHIuUFJFUEFTU19QT1NJVElPTj0hMSxyLlBSRVBBU1NfUE9TSVRJT05fSU5ERVg9LTEsci5QUkVQQVNTX1ZFTE9DSVRZPSExLHIuUFJFUEFTU19WRUxPQ0lUWV9JTkRFWD0tMSxyLlBSRVBBU1NfUkVGTEVDVElWSVRZPSExLHIuUFJFUEFTU19SRUZMRUNUSVZJVFlfSU5ERVg9LTEsci5TQ0VORV9NUlRfQ09VTlQ9MCxyLlJHQkRMSUdIVE1BUD0hMSxyLlJHQkRSRUZMRUNUSU9OPSExLHIuUkdCRFJFRlJBQ1RJT049ITEsci5JTUFHRVBST0NFU1NJTkc9ITEsci5WSUdORVRURT0hMSxyLlZJR05FVFRFQkxFTkRNT0RFTVVMVElQTFk9ITEsci5WSUdORVRURUJMRU5ETU9ERU9QQVFVRT0hMSxyLlRPTkVNQVBQSU5HPSExLHIuVE9ORU1BUFBJTkdfQUNFUz0hMSxyLkNPTlRSQVNUPSExLHIuQ09MT1JDVVJWRVM9ITEsci5DT0xPUkdSQURJTkc9ITEsci5DT0xPUkdSQURJTkczRD0hMSxyLlNBTVBMRVIzREdSRUVOREVQVEg9ITEsci5TQU1QTEVSM0RCR1JNQVA9ITEsci5JTUFHRVBST0NFU1NJTkdQT1NUUFJPQ0VTUz0hMSxyLlNLSVBGSU5BTENPTE9SQ0xBTVA9ITEsci5NVUxUSVZJRVc9ITEsci5PUkRFUl9JTkRFUEVOREVOVF9UUkFOU1BBUkVOQ1k9ITEsci5PUkRFUl9JTkRFUEVOREVOVF9UUkFOU1BBUkVOQ1lfMTZCSVRTPSExLHIuSVNfUkVGTEVDVElPTl9MSU5FQVI9ITEsci5JU19SRUZSQUNUSU9OX0xJTkVBUj0hMSxyLkVYUE9TVVJFPSExLHIucmVidWlsZCgpLHJ9cmV0dXJuIGUucHJvdG90eXBlLnNldFJlZmxlY3Rpb25Nb2RlPWZ1bmN0aW9uKHQpe2Zvcih2YXIgcj1bIlJFRkxFQ1RJT05NQVBfQ1VCSUMiLCJSRUZMRUNUSU9OTUFQX0VYUExJQ0lUIiwiUkVGTEVDVElPTk1BUF9QTEFOQVIiLCJSRUZMRUNUSU9OTUFQX1BST0pFQ1RJT04iLCJSRUZMRUNUSU9OTUFQX1BST0pFQ1RJT04iLCJSRUZMRUNUSU9OTUFQX1NLWUJPWCIsIlJFRkxFQ1RJT05NQVBfU1BIRVJJQ0FMIiwiUkVGTEVDVElPTk1BUF9FUVVJUkVDVEFOR1VMQVIiLCJSRUZMRUNUSU9OTUFQX0VRVUlSRUNUQU5HVUxBUl9GSVhFRCIsIlJFRkxFQ1RJT05NQVBfTUlSUk9SRURFUVVJUkVDVEFOR1VMQVJfRklYRUQiXSxuPTAsYT1yO248YS5sZW5ndGg7bisrKXt2YXIgcz1hW25dO3RoaXNbc109cz09PXR9fSxlfShiciksc3I9ZnVuY3Rpb24oaSl7SyhlLGkpO2Z1bmN0aW9uIGUodCxyKXt2YXIgbj1pLmNhbGwodGhpcyx0LHIpfHx0aGlzO3JldHVybiBuLl9kaWZmdXNlVGV4dHVyZT1udWxsLG4uX2FtYmllbnRUZXh0dXJlPW51bGwsbi5fb3BhY2l0eVRleHR1cmU9bnVsbCxuLl9yZWZsZWN0aW9uVGV4dHVyZT1udWxsLG4uX2VtaXNzaXZlVGV4dHVyZT1udWxsLG4uX3NwZWN1bGFyVGV4dHVyZT1udWxsLG4uX2J1bXBUZXh0dXJlPW51bGwsbi5fbGlnaHRtYXBUZXh0dXJlPW51bGwsbi5fcmVmcmFjdGlvblRleHR1cmU9bnVsbCxuLmFtYmllbnRDb2xvcj1uZXcgYmUoMCwwLDApLG4uZGlmZnVzZUNvbG9yPW5ldyBiZSgxLDEsMSksbi5zcGVjdWxhckNvbG9yPW5ldyBiZSgxLDEsMSksbi5lbWlzc2l2ZUNvbG9yPW5ldyBiZSgwLDAsMCksbi5zcGVjdWxhclBvd2VyPTY0LG4uX3VzZUFscGhhRnJvbURpZmZ1c2VUZXh0dXJlPSExLG4uX3VzZUVtaXNzaXZlQXNJbGx1bWluYXRpb249ITEsbi5fbGlua0VtaXNzaXZlV2l0aERpZmZ1c2U9ITEsbi5fdXNlU3BlY3VsYXJPdmVyQWxwaGE9ITEsbi5fdXNlUmVmbGVjdGlvbk92ZXJBbHBoYT0hMSxuLl9kaXNhYmxlTGlnaHRpbmc9ITEsbi5fdXNlT2JqZWN0U3BhY2VOb3JtYWxNYXA9ITEsbi5fdXNlUGFyYWxsYXg9ITEsbi5fdXNlUGFyYWxsYXhPY2NsdXNpb249ITEsbi5wYXJhbGxheFNjYWxlQmlhcz0uMDUsbi5fcm91Z2huZXNzPTAsbi5pbmRleE9mUmVmcmFjdGlvbj0uOTgsbi5pbnZlcnRSZWZyYWN0aW9uWT0hMCxuLmFscGhhQ3V0T2ZmPS40LG4uX3VzZUxpZ2h0bWFwQXNTaGFkb3dtYXA9ITEsbi5fdXNlUmVmbGVjdGlvbkZyZXNuZWxGcm9tU3BlY3VsYXI9ITEsbi5fdXNlR2xvc3NpbmVzc0Zyb21TcGVjdWxhck1hcEFscGhhPSExLG4uX21heFNpbXVsdGFuZW91c0xpZ2h0cz00LG4uX2ludmVydE5vcm1hbE1hcFg9ITEsbi5faW52ZXJ0Tm9ybWFsTWFwWT0hMSxuLl90d29TaWRlZExpZ2h0aW5nPSExLG4uX3JlbmRlclRhcmdldHM9bmV3IFZlKDE2KSxuLl93b3JsZFZpZXdQcm9qZWN0aW9uTWF0cml4PUkuWmVybygpLG4uX2dsb2JhbEFtYmllbnRDb2xvcj1uZXcgYmUoMCwwLDApLG4uX2NhY2hlSGFzUmVuZGVyVGFyZ2V0VGV4dHVyZXM9ITEsbi5kZXRhaWxNYXA9bmV3IGRmKG4pLG4uX2F0dGFjaEltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24obnVsbCksbi5wcmVQYXNzQ29uZmlndXJhdGlvbj1uZXcgX2ksbi5nZXRSZW5kZXJUYXJnZXRUZXh0dXJlcz1mdW5jdGlvbigpe3JldHVybiBuLl9yZW5kZXJUYXJnZXRzLnJlc2V0KCksZS5SZWZsZWN0aW9uVGV4dHVyZUVuYWJsZWQmJm4uX3JlZmxlY3Rpb25UZXh0dXJlJiZuLl9yZWZsZWN0aW9uVGV4dHVyZS5pc1JlbmRlclRhcmdldCYmbi5fcmVuZGVyVGFyZ2V0cy5wdXNoKG4uX3JlZmxlY3Rpb25UZXh0dXJlKSxlLlJlZnJhY3Rpb25UZXh0dXJlRW5hYmxlZCYmbi5fcmVmcmFjdGlvblRleHR1cmUmJm4uX3JlZnJhY3Rpb25UZXh0dXJlLmlzUmVuZGVyVGFyZ2V0JiZuLl9yZW5kZXJUYXJnZXRzLnB1c2gobi5fcmVmcmFjdGlvblRleHR1cmUpLG4uX2V2ZW50SW5mby5yZW5kZXJUYXJnZXRzPW4uX3JlbmRlclRhcmdldHMsbi5fY2FsbGJhY2tQbHVnaW5FdmVudEZpbGxSZW5kZXJUYXJnZXRUZXh0dXJlcyhuLl9ldmVudEluZm8pLG4uX3JlbmRlclRhcmdldHN9LG59cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiaW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbiIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9ufSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5fYXR0YWNoSW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbih0KSx0aGlzLl9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0RpcnR5KCl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuX2F0dGFjaEltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb249ZnVuY3Rpb24odCl7dmFyIHI9dGhpczt0IT09dGhpcy5faW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbiYmKHRoaXMuX2ltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24mJnRoaXMuX2ltYWdlUHJvY2Vzc2luZ09ic2VydmVyJiZ0aGlzLl9pbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uLm9uVXBkYXRlUGFyYW1ldGVycy5yZW1vdmUodGhpcy5faW1hZ2VQcm9jZXNzaW5nT2JzZXJ2ZXIpLHQ/dGhpcy5faW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbj10OnRoaXMuX2ltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb249dGhpcy5nZXRTY2VuZSgpLmltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24sdGhpcy5faW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbiYmKHRoaXMuX2ltYWdlUHJvY2Vzc2luZ09ic2VydmVyPXRoaXMuX2ltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24ub25VcGRhdGVQYXJhbWV0ZXJzLmFkZChmdW5jdGlvbigpe3IuX21hcmtBbGxTdWJNZXNoZXNBc0ltYWdlUHJvY2Vzc2luZ0RpcnR5KCl9KSkpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImlzUHJlUGFzc0NhcGFibGUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5kaXNhYmxlRGVwdGhXcml0ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImNhbWVyYUNvbG9yQ3VydmVzRW5hYmxlZCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24uY29sb3JDdXJ2ZXNFbmFibGVkfSxzZXQ6ZnVuY3Rpb24odCl7dGhpcy5pbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uLmNvbG9yQ3VydmVzRW5hYmxlZD10fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiY2FtZXJhQ29sb3JHcmFkaW5nRW5hYmxlZCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24uY29sb3JHcmFkaW5nRW5hYmxlZH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuaW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbi5jb2xvckdyYWRpbmdFbmFibGVkPXR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJjYW1lcmFUb25lTWFwcGluZ0VuYWJsZWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbi50b25lTWFwcGluZ0VuYWJsZWR9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9pbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uLnRvbmVNYXBwaW5nRW5hYmxlZD10fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiY2FtZXJhRXhwb3N1cmUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbi5leHBvc3VyZX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2ltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24uZXhwb3N1cmU9dH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImNhbWVyYUNvbnRyYXN0Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24uY29udHJhc3R9LHNldDpmdW5jdGlvbih0KXt0aGlzLl9pbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uLmNvbnRyYXN0PXR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJjYW1lcmFDb2xvckdyYWRpbmdUZXh0dXJlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2ltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24uY29sb3JHcmFkaW5nVGV4dHVyZX0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2ltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24uY29sb3JHcmFkaW5nVGV4dHVyZT10fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiY2FtZXJhQ29sb3JDdXJ2ZXMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbi5jb2xvckN1cnZlc30sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2ltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24uY29sb3JDdXJ2ZXM9dH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImNhblJlbmRlclRvTVJUIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuITB9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJoYXNSZW5kZXJUYXJnZXRUZXh0dXJlcyIse2dldDpmdW5jdGlvbigpe3JldHVybiBlLlJlZmxlY3Rpb25UZXh0dXJlRW5hYmxlZCYmdGhpcy5fcmVmbGVjdGlvblRleHR1cmUmJnRoaXMuX3JlZmxlY3Rpb25UZXh0dXJlLmlzUmVuZGVyVGFyZ2V0fHxlLlJlZnJhY3Rpb25UZXh0dXJlRW5hYmxlZCYmdGhpcy5fcmVmcmFjdGlvblRleHR1cmUmJnRoaXMuX3JlZnJhY3Rpb25UZXh0dXJlLmlzUmVuZGVyVGFyZ2V0PyEwOnRoaXMuX2NhY2hlSGFzUmVuZGVyVGFyZ2V0VGV4dHVyZXN9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuZ2V0Q2xhc3NOYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIlN0YW5kYXJkTWF0ZXJpYWwifSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInVzZUxvZ2FyaXRobWljRGVwdGgiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdXNlTG9nYXJpdGhtaWNEZXB0aH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX3VzZUxvZ2FyaXRobWljRGVwdGg9dCYmdGhpcy5nZXRTY2VuZSgpLmdldEVuZ2luZSgpLmdldENhcHMoKS5mcmFnbWVudERlcHRoU3VwcG9ydGVkLHRoaXMuX21hcmtBbGxTdWJNZXNoZXNBc01pc2NEaXJ0eSgpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLm5lZWRBbHBoYUJsZW5kaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Rpc2FibGVBbHBoYUJsZW5kaW5nPyExOnRoaXMuYWxwaGE8MXx8dGhpcy5fb3BhY2l0eVRleHR1cmUhPW51bGx8fHRoaXMuX3Nob3VsZFVzZUFscGhhRnJvbURpZmZ1c2VUZXh0dXJlKCl8fHRoaXMuX29wYWNpdHlGcmVzbmVsUGFyYW1ldGVycyYmdGhpcy5fb3BhY2l0eUZyZXNuZWxQYXJhbWV0ZXJzLmlzRW5hYmxlZH0sZS5wcm90b3R5cGUubmVlZEFscGhhVGVzdGluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9mb3JjZUFscGhhVGVzdD8hMDp0aGlzLl9oYXNBbHBoYUNoYW5uZWwoKSYmKHRoaXMuX3RyYW5zcGFyZW5jeU1vZGU9PW51bGx8fHRoaXMuX3RyYW5zcGFyZW5jeU1vZGU9PT1GZS5NQVRFUklBTF9BTFBIQVRFU1QpfSxlLnByb3RvdHlwZS5fc2hvdWxkVXNlQWxwaGFGcm9tRGlmZnVzZVRleHR1cmU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGlmZnVzZVRleHR1cmUhPW51bGwmJnRoaXMuX2RpZmZ1c2VUZXh0dXJlLmhhc0FscGhhJiZ0aGlzLl91c2VBbHBoYUZyb21EaWZmdXNlVGV4dHVyZSYmdGhpcy5fdHJhbnNwYXJlbmN5TW9kZSE9PUZlLk1BVEVSSUFMX09QQVFVRX0sZS5wcm90b3R5cGUuX2hhc0FscGhhQ2hhbm5lbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9kaWZmdXNlVGV4dHVyZSE9bnVsbCYmdGhpcy5fZGlmZnVzZVRleHR1cmUuaGFzQWxwaGF8fHRoaXMuX29wYWNpdHlUZXh0dXJlIT1udWxsfSxlLnByb3RvdHlwZS5nZXRBbHBoYVRlc3RUZXh0dXJlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RpZmZ1c2VUZXh0dXJlfSxlLnByb3RvdHlwZS5pc1JlYWR5Rm9yU3ViTWVzaD1mdW5jdGlvbih0LHIsbil7aWYobj09PXZvaWQgMCYmKG49ITEpLHRoaXMuX3VuaWZvcm1CdWZmZXJMYXlvdXRCdWlsdHx8dGhpcy5idWlsZFVuaWZvcm1MYXlvdXQoKSxyLmVmZmVjdCYmdGhpcy5pc0Zyb3plbiYmci5lZmZlY3QuX3dhc1ByZXZpb3VzbHlSZWFkeSlyZXR1cm4hMDtyLm1hdGVyaWFsRGVmaW5lc3x8KHRoaXMuX2NhbGxiYWNrUGx1Z2luRXZlbnRHZW5lcmljKERlLkdldERlZmluZU5hbWVzLHRoaXMuX2V2ZW50SW5mbyksci5tYXRlcmlhbERlZmluZXM9bmV3IHBmKHRoaXMuX2V2ZW50SW5mby5kZWZpbmVOYW1lcykpO3ZhciBhPXRoaXMuZ2V0U2NlbmUoKSxzPXIubWF0ZXJpYWxEZWZpbmVzO2lmKHRoaXMuX2lzUmVhZHlGb3JTdWJNZXNoKHIpKXJldHVybiEwO3ZhciBvPWEuZ2V0RW5naW5lKCk7cy5fbmVlZE5vcm1hbHM9WS5QcmVwYXJlRGVmaW5lc0ZvckxpZ2h0cyhhLHQscywhMCx0aGlzLl9tYXhTaW11bHRhbmVvdXNMaWdodHMsdGhpcy5fZGlzYWJsZUxpZ2h0aW5nKSxZLlByZXBhcmVEZWZpbmVzRm9yTXVsdGl2aWV3KGEscyk7dmFyIHU9dGhpcy5uZWVkQWxwaGFCbGVuZGluZ0Zvck1lc2godCkmJnRoaXMuZ2V0U2NlbmUoKS51c2VPcmRlckluZGVwZW5kZW50VHJhbnNwYXJlbmN5O2lmKFkuUHJlcGFyZURlZmluZXNGb3JQcmVQYXNzKGEscyx0aGlzLmNhblJlbmRlclRvTVJUJiYhdSksWS5QcmVwYXJlRGVmaW5lc0Zvck9JVChhLHMsdSkscy5fYXJlVGV4dHVyZXNEaXJ0eSl7dGhpcy5fZXZlbnRJbmZvLmhhc1JlbmRlclRhcmdldFRleHR1cmVzPSExLHRoaXMuX2NhbGxiYWNrUGx1Z2luRXZlbnRIYXNSZW5kZXJUYXJnZXRUZXh0dXJlcyh0aGlzLl9ldmVudEluZm8pLHRoaXMuX2NhY2hlSGFzUmVuZGVyVGFyZ2V0VGV4dHVyZXM9dGhpcy5fZXZlbnRJbmZvLmhhc1JlbmRlclRhcmdldFRleHR1cmVzLHMuX25lZWRVVnM9ITE7Zm9yKHZhciBmPTE7Zjw9NjsrK2Ypc1siTUFJTlVWIitmXT0hMTtpZihhLnRleHR1cmVzRW5hYmxlZCl7aWYodGhpcy5fZGlmZnVzZVRleHR1cmUmJmUuRGlmZnVzZVRleHR1cmVFbmFibGVkKWlmKHRoaXMuX2RpZmZ1c2VUZXh0dXJlLmlzUmVhZHlPck5vdEJsb2NraW5nKCkpWS5QcmVwYXJlRGVmaW5lc0Zvck1lcmdlZFVWKHRoaXMuX2RpZmZ1c2VUZXh0dXJlLHMsIkRJRkZVU0UiKTtlbHNlIHJldHVybiExO2Vsc2Ugcy5ESUZGVVNFPSExO2lmKHRoaXMuX2FtYmllbnRUZXh0dXJlJiZlLkFtYmllbnRUZXh0dXJlRW5hYmxlZClpZih0aGlzLl9hbWJpZW50VGV4dHVyZS5pc1JlYWR5T3JOb3RCbG9ja2luZygpKVkuUHJlcGFyZURlZmluZXNGb3JNZXJnZWRVVih0aGlzLl9hbWJpZW50VGV4dHVyZSxzLCJBTUJJRU5UIik7ZWxzZSByZXR1cm4hMTtlbHNlIHMuQU1CSUVOVD0hMTtpZih0aGlzLl9vcGFjaXR5VGV4dHVyZSYmZS5PcGFjaXR5VGV4dHVyZUVuYWJsZWQpaWYodGhpcy5fb3BhY2l0eVRleHR1cmUuaXNSZWFkeU9yTm90QmxvY2tpbmcoKSlZLlByZXBhcmVEZWZpbmVzRm9yTWVyZ2VkVVYodGhpcy5fb3BhY2l0eVRleHR1cmUscywiT1BBQ0lUWSIpLHMuT1BBQ0lUWVJHQj10aGlzLl9vcGFjaXR5VGV4dHVyZS5nZXRBbHBoYUZyb21SR0I7ZWxzZSByZXR1cm4hMTtlbHNlIHMuT1BBQ0lUWT0hMTtpZih0aGlzLl9yZWZsZWN0aW9uVGV4dHVyZSYmZS5SZWZsZWN0aW9uVGV4dHVyZUVuYWJsZWQpaWYodGhpcy5fcmVmbGVjdGlvblRleHR1cmUuaXNSZWFkeU9yTm90QmxvY2tpbmcoKSl7c3dpdGNoKHMuX25lZWROb3JtYWxzPSEwLHMuUkVGTEVDVElPTj0hMCxzLlJPVUdITkVTUz10aGlzLl9yb3VnaG5lc3M+MCxzLlJFRkxFQ1RJT05PVkVSQUxQSEE9dGhpcy5fdXNlUmVmbGVjdGlvbk92ZXJBbHBoYSxzLklOVkVSVENVQklDTUFQPXRoaXMuX3JlZmxlY3Rpb25UZXh0dXJlLmNvb3JkaW5hdGVzTW9kZT09PWllLklOVkNVQklDX01PREUscy5SRUZMRUNUSU9OTUFQXzNEPXRoaXMuX3JlZmxlY3Rpb25UZXh0dXJlLmlzQ3ViZSxzLlJFRkxFQ1RJT05NQVBfT1BQT1NJVEVaPXMuUkVGTEVDVElPTk1BUF8zRCYmdGhpcy5nZXRTY2VuZSgpLnVzZVJpZ2h0SGFuZGVkU3lzdGVtPyF0aGlzLl9yZWZsZWN0aW9uVGV4dHVyZS5pbnZlcnRaOnRoaXMuX3JlZmxlY3Rpb25UZXh0dXJlLmludmVydFoscy5SR0JEUkVGTEVDVElPTj10aGlzLl9yZWZsZWN0aW9uVGV4dHVyZS5pc1JHQkQsdGhpcy5fcmVmbGVjdGlvblRleHR1cmUuY29vcmRpbmF0ZXNNb2RlKXtjYXNlIGllLkVYUExJQ0lUX01PREU6cy5zZXRSZWZsZWN0aW9uTW9kZSgiUkVGTEVDVElPTk1BUF9FWFBMSUNJVCIpO2JyZWFrO2Nhc2UgaWUuUExBTkFSX01PREU6cy5zZXRSZWZsZWN0aW9uTW9kZSgiUkVGTEVDVElPTk1BUF9QTEFOQVIiKTticmVhaztjYXNlIGllLlBST0pFQ1RJT05fTU9ERTpzLnNldFJlZmxlY3Rpb25Nb2RlKCJSRUZMRUNUSU9OTUFQX1BST0pFQ1RJT04iKTticmVhaztjYXNlIGllLlNLWUJPWF9NT0RFOnMuc2V0UmVmbGVjdGlvbk1vZGUoIlJFRkxFQ1RJT05NQVBfU0tZQk9YIik7YnJlYWs7Y2FzZSBpZS5TUEhFUklDQUxfTU9ERTpzLnNldFJlZmxlY3Rpb25Nb2RlKCJSRUZMRUNUSU9OTUFQX1NQSEVSSUNBTCIpO2JyZWFrO2Nhc2UgaWUuRVFVSVJFQ1RBTkdVTEFSX01PREU6cy5zZXRSZWZsZWN0aW9uTW9kZSgiUkVGTEVDVElPTk1BUF9FUVVJUkVDVEFOR1VMQVIiKTticmVhaztjYXNlIGllLkZJWEVEX0VRVUlSRUNUQU5HVUxBUl9NT0RFOnMuc2V0UmVmbGVjdGlvbk1vZGUoIlJFRkxFQ1RJT05NQVBfRVFVSVJFQ1RBTkdVTEFSX0ZJWEVEIik7YnJlYWs7Y2FzZSBpZS5GSVhFRF9FUVVJUkVDVEFOR1VMQVJfTUlSUk9SRURfTU9ERTpzLnNldFJlZmxlY3Rpb25Nb2RlKCJSRUZMRUNUSU9OTUFQX01JUlJPUkVERVFVSVJFQ1RBTkdVTEFSX0ZJWEVEIik7YnJlYWs7Y2FzZSBpZS5DVUJJQ19NT0RFOmNhc2UgaWUuSU5WQ1VCSUNfTU9ERTpkZWZhdWx0OnMuc2V0UmVmbGVjdGlvbk1vZGUoIlJFRkxFQ1RJT05NQVBfQ1VCSUMiKTticmVha31zLlVTRV9MT0NBTF9SRUZMRUNUSU9OTUFQX0NVQklDPSEhdGhpcy5fcmVmbGVjdGlvblRleHR1cmUuYm91bmRpbmdCb3hTaXplfWVsc2UgcmV0dXJuITE7ZWxzZSBzLlJFRkxFQ1RJT049ITEscy5SRUZMRUNUSU9OTUFQX09QUE9TSVRFWj0hMTtpZih0aGlzLl9lbWlzc2l2ZVRleHR1cmUmJmUuRW1pc3NpdmVUZXh0dXJlRW5hYmxlZClpZih0aGlzLl9lbWlzc2l2ZVRleHR1cmUuaXNSZWFkeU9yTm90QmxvY2tpbmcoKSlZLlByZXBhcmVEZWZpbmVzRm9yTWVyZ2VkVVYodGhpcy5fZW1pc3NpdmVUZXh0dXJlLHMsIkVNSVNTSVZFIik7ZWxzZSByZXR1cm4hMTtlbHNlIHMuRU1JU1NJVkU9ITE7aWYodGhpcy5fbGlnaHRtYXBUZXh0dXJlJiZlLkxpZ2h0bWFwVGV4dHVyZUVuYWJsZWQpaWYodGhpcy5fbGlnaHRtYXBUZXh0dXJlLmlzUmVhZHlPck5vdEJsb2NraW5nKCkpWS5QcmVwYXJlRGVmaW5lc0Zvck1lcmdlZFVWKHRoaXMuX2xpZ2h0bWFwVGV4dHVyZSxzLCJMSUdIVE1BUCIpLHMuVVNFTElHSFRNQVBBU1NIQURPV01BUD10aGlzLl91c2VMaWdodG1hcEFzU2hhZG93bWFwLHMuUkdCRExJR0hUTUFQPXRoaXMuX2xpZ2h0bWFwVGV4dHVyZS5pc1JHQkQ7ZWxzZSByZXR1cm4hMTtlbHNlIHMuTElHSFRNQVA9ITE7aWYodGhpcy5fc3BlY3VsYXJUZXh0dXJlJiZlLlNwZWN1bGFyVGV4dHVyZUVuYWJsZWQpaWYodGhpcy5fc3BlY3VsYXJUZXh0dXJlLmlzUmVhZHlPck5vdEJsb2NraW5nKCkpWS5QcmVwYXJlRGVmaW5lc0Zvck1lcmdlZFVWKHRoaXMuX3NwZWN1bGFyVGV4dHVyZSxzLCJTUEVDVUxBUiIpLHMuR0xPU1NJTkVTUz10aGlzLl91c2VHbG9zc2luZXNzRnJvbVNwZWN1bGFyTWFwQWxwaGE7ZWxzZSByZXR1cm4hMTtlbHNlIHMuU1BFQ1VMQVI9ITE7aWYoYS5nZXRFbmdpbmUoKS5nZXRDYXBzKCkuc3RhbmRhcmREZXJpdmF0aXZlcyYmdGhpcy5fYnVtcFRleHR1cmUmJmUuQnVtcFRleHR1cmVFbmFibGVkKXtpZih0aGlzLl9idW1wVGV4dHVyZS5pc1JlYWR5KCkpWS5QcmVwYXJlRGVmaW5lc0Zvck1lcmdlZFVWKHRoaXMuX2J1bXBUZXh0dXJlLHMsIkJVTVAiKSxzLlBBUkFMTEFYPXRoaXMuX3VzZVBhcmFsbGF4LHMuUEFSQUxMQVhPQ0NMVVNJT049dGhpcy5fdXNlUGFyYWxsYXhPY2NsdXNpb247ZWxzZSByZXR1cm4hMTtzLk9CSkVDVFNQQUNFX05PUk1BTE1BUD10aGlzLl91c2VPYmplY3RTcGFjZU5vcm1hbE1hcH1lbHNlIHMuQlVNUD0hMTtpZih0aGlzLl9yZWZyYWN0aW9uVGV4dHVyZSYmZS5SZWZyYWN0aW9uVGV4dHVyZUVuYWJsZWQpaWYodGhpcy5fcmVmcmFjdGlvblRleHR1cmUuaXNSZWFkeU9yTm90QmxvY2tpbmcoKSlzLl9uZWVkVVZzPSEwLHMuUkVGUkFDVElPTj0hMCxzLlJFRlJBQ1RJT05NQVBfM0Q9dGhpcy5fcmVmcmFjdGlvblRleHR1cmUuaXNDdWJlLHMuUkdCRFJFRlJBQ1RJT049dGhpcy5fcmVmcmFjdGlvblRleHR1cmUuaXNSR0JELHMuVVNFX0xPQ0FMX1JFRlJBQ1RJT05NQVBfQ1VCSUM9ISF0aGlzLl9yZWZyYWN0aW9uVGV4dHVyZS5ib3VuZGluZ0JveFNpemU7ZWxzZSByZXR1cm4hMTtlbHNlIHMuUkVGUkFDVElPTj0hMTtzLlRXT1NJREVETElHSFRJTkc9IXRoaXMuX2JhY2tGYWNlQ3VsbGluZyYmdGhpcy5fdHdvU2lkZWRMaWdodGluZ31lbHNlIHMuRElGRlVTRT0hMSxzLkFNQklFTlQ9ITEscy5PUEFDSVRZPSExLHMuUkVGTEVDVElPTj0hMSxzLkVNSVNTSVZFPSExLHMuTElHSFRNQVA9ITEscy5CVU1QPSExLHMuUkVGUkFDVElPTj0hMTtzLkFMUEhBRlJPTURJRkZVU0U9dGhpcy5fc2hvdWxkVXNlQWxwaGFGcm9tRGlmZnVzZVRleHR1cmUoKSxzLkVNSVNTSVZFQVNJTExVTUlOQVRJT049dGhpcy5fdXNlRW1pc3NpdmVBc0lsbHVtaW5hdGlvbixzLkxJTktFTUlTU0lWRVdJVEhESUZGVVNFPXRoaXMuX2xpbmtFbWlzc2l2ZVdpdGhEaWZmdXNlLHMuU1BFQ1VMQVJPVkVSQUxQSEE9dGhpcy5fdXNlU3BlY3VsYXJPdmVyQWxwaGEscy5QUkVNVUxUSVBMWUFMUEhBPXRoaXMuYWxwaGFNb2RlPT09N3x8dGhpcy5hbHBoYU1vZGU9PT04LHMuQUxQSEFURVNUX0FGVEVSQUxMQUxQSEFDT01QVVRBVElPTlM9dGhpcy50cmFuc3BhcmVuY3lNb2RlIT09bnVsbCxzLkFMUEhBQkxFTkQ9dGhpcy50cmFuc3BhcmVuY3lNb2RlPT09bnVsbHx8dGhpcy5uZWVkQWxwaGFCbGVuZGluZ0Zvck1lc2godCl9aWYodGhpcy5fZXZlbnRJbmZvLmlzUmVhZHlGb3JTdWJNZXNoPSEwLHRoaXMuX2V2ZW50SW5mby5kZWZpbmVzPXMsdGhpcy5fY2FsbGJhY2tQbHVnaW5FdmVudElzUmVhZHlGb3JTdWJNZXNoKHRoaXMuX2V2ZW50SW5mbyksIXRoaXMuX2V2ZW50SW5mby5pc1JlYWR5Rm9yU3ViTWVzaClyZXR1cm4hMTtpZihzLl9hcmVJbWFnZVByb2Nlc3NpbmdEaXJ0eSYmdGhpcy5faW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbil7aWYoIXRoaXMuX2ltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24uaXNSZWFkeSgpKXJldHVybiExO3RoaXMuX2ltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24ucHJlcGFyZURlZmluZXMocykscy5JU19SRUZMRUNUSU9OX0xJTkVBUj10aGlzLnJlZmxlY3Rpb25UZXh0dXJlIT1udWxsJiYhdGhpcy5yZWZsZWN0aW9uVGV4dHVyZS5nYW1tYVNwYWNlLHMuSVNfUkVGUkFDVElPTl9MSU5FQVI9dGhpcy5yZWZyYWN0aW9uVGV4dHVyZSE9bnVsbCYmIXRoaXMucmVmcmFjdGlvblRleHR1cmUuZ2FtbWFTcGFjZX1pZihzLl9hcmVGcmVzbmVsRGlydHkmJihlLkZyZXNuZWxFbmFibGVkPyh0aGlzLl9kaWZmdXNlRnJlc25lbFBhcmFtZXRlcnN8fHRoaXMuX29wYWNpdHlGcmVzbmVsUGFyYW1ldGVyc3x8dGhpcy5fZW1pc3NpdmVGcmVzbmVsUGFyYW1ldGVyc3x8dGhpcy5fcmVmcmFjdGlvbkZyZXNuZWxQYXJhbWV0ZXJzfHx0aGlzLl9yZWZsZWN0aW9uRnJlc25lbFBhcmFtZXRlcnMpJiYocy5ESUZGVVNFRlJFU05FTD10aGlzLl9kaWZmdXNlRnJlc25lbFBhcmFtZXRlcnMmJnRoaXMuX2RpZmZ1c2VGcmVzbmVsUGFyYW1ldGVycy5pc0VuYWJsZWQscy5PUEFDSVRZRlJFU05FTD10aGlzLl9vcGFjaXR5RnJlc25lbFBhcmFtZXRlcnMmJnRoaXMuX29wYWNpdHlGcmVzbmVsUGFyYW1ldGVycy5pc0VuYWJsZWQscy5SRUZMRUNUSU9ORlJFU05FTD10aGlzLl9yZWZsZWN0aW9uRnJlc25lbFBhcmFtZXRlcnMmJnRoaXMuX3JlZmxlY3Rpb25GcmVzbmVsUGFyYW1ldGVycy5pc0VuYWJsZWQscy5SRUZMRUNUSU9ORlJFU05FTEZST01TUEVDVUxBUj10aGlzLl91c2VSZWZsZWN0aW9uRnJlc25lbEZyb21TcGVjdWxhcixzLlJFRlJBQ1RJT05GUkVTTkVMPXRoaXMuX3JlZnJhY3Rpb25GcmVzbmVsUGFyYW1ldGVycyYmdGhpcy5fcmVmcmFjdGlvbkZyZXNuZWxQYXJhbWV0ZXJzLmlzRW5hYmxlZCxzLkVNSVNTSVZFRlJFU05FTD10aGlzLl9lbWlzc2l2ZUZyZXNuZWxQYXJhbWV0ZXJzJiZ0aGlzLl9lbWlzc2l2ZUZyZXNuZWxQYXJhbWV0ZXJzLmlzRW5hYmxlZCxzLl9uZWVkTm9ybWFscz0hMCxzLkZSRVNORUw9ITApOnMuRlJFU05FTD0hMSksWS5QcmVwYXJlRGVmaW5lc0Zvck1pc2ModCxhLHRoaXMuX3VzZUxvZ2FyaXRobWljRGVwdGgsdGhpcy5wb2ludHNDbG91ZCx0aGlzLmZvZ0VuYWJsZWQsdGhpcy5fc2hvdWxkVHVybkFscGhhVGVzdE9uKHQpfHx0aGlzLl9mb3JjZUFscGhhVGVzdCxzKSxZLlByZXBhcmVEZWZpbmVzRm9yQXR0cmlidXRlcyh0LHMsITAsITAsITApLFkuUHJlcGFyZURlZmluZXNGb3JGcmFtZUJvdW5kVmFsdWVzKGEsbyxzLG4sbnVsbCxyLmdldFJlbmRlcmluZ01lc2goKS5oYXNUaGluSW5zdGFuY2VzKSx0aGlzLl9ldmVudEluZm8uZGVmaW5lcz1zLHRoaXMuX2V2ZW50SW5mby5tZXNoPXQsdGhpcy5fY2FsbGJhY2tQbHVnaW5FdmVudFByZXBhcmVEZWZpbmVzKHRoaXMuX2V2ZW50SW5mbykscy5pc0RpcnR5KXt2YXIgbD1zLl9hcmVMaWdodHNEaXNwb3NlZDtzLm1hcmtBc1Byb2Nlc3NlZCgpO3ZhciBoPW5ldyBwaTtzLlJFRkxFQ1RJT04mJmguYWRkRmFsbGJhY2soMCwiUkVGTEVDVElPTiIpLHMuU1BFQ1VMQVImJmguYWRkRmFsbGJhY2soMCwiU1BFQ1VMQVIiKSxzLkJVTVAmJmguYWRkRmFsbGJhY2soMCwiQlVNUCIpLHMuUEFSQUxMQVgmJmguYWRkRmFsbGJhY2soMSwiUEFSQUxMQVgiKSxzLlBBUkFMTEFYT0NDTFVTSU9OJiZoLmFkZEZhbGxiYWNrKDAsIlBBUkFMTEFYT0NDTFVTSU9OIikscy5TUEVDVUxBUk9WRVJBTFBIQSYmaC5hZGRGYWxsYmFjaygwLCJTUEVDVUxBUk9WRVJBTFBIQSIpLHMuRk9HJiZoLmFkZEZhbGxiYWNrKDEsIkZPRyIpLHMuUE9JTlRTSVpFJiZoLmFkZEZhbGxiYWNrKDAsIlBPSU5UU0laRSIpLHMuTE9HQVJJVEhNSUNERVBUSCYmaC5hZGRGYWxsYmFjaygwLCJMT0dBUklUSE1JQ0RFUFRIIiksWS5IYW5kbGVGYWxsYmFja3NGb3JTaGFkb3dzKHMsaCx0aGlzLl9tYXhTaW11bHRhbmVvdXNMaWdodHMpLHMuU1BFQ1VMQVJURVJNJiZoLmFkZEZhbGxiYWNrKDAsIlNQRUNVTEFSVEVSTSIpLHMuRElGRlVTRUZSRVNORUwmJmguYWRkRmFsbGJhY2soMSwiRElGRlVTRUZSRVNORUwiKSxzLk9QQUNJVFlGUkVTTkVMJiZoLmFkZEZhbGxiYWNrKDIsIk9QQUNJVFlGUkVTTkVMIikscy5SRUZMRUNUSU9ORlJFU05FTCYmaC5hZGRGYWxsYmFjaygzLCJSRUZMRUNUSU9ORlJFU05FTCIpLHMuRU1JU1NJVkVGUkVTTkVMJiZoLmFkZEZhbGxiYWNrKDQsIkVNSVNTSVZFRlJFU05FTCIpLHMuRlJFU05FTCYmaC5hZGRGYWxsYmFjayg0LCJGUkVTTkVMIikscy5NVUxUSVZJRVcmJmguYWRkRmFsbGJhY2soMCwiTVVMVElWSUVXIik7dmFyIGM9W20uUG9zaXRpb25LaW5kXTtzLk5PUk1BTCYmYy5wdXNoKG0uTm9ybWFsS2luZCkscy5UQU5HRU5UJiZjLnB1c2gobS5UYW5nZW50S2luZCk7Zm9yKHZhciBmPTE7Zjw9NjsrK2Ypc1siVVYiK2ZdJiZjLnB1c2goInV2Ii5jb25jYXQoZj09PTE/IiI6ZikpO3MuVkVSVEVYQ09MT1ImJmMucHVzaChtLkNvbG9yS2luZCksWS5QcmVwYXJlQXR0cmlidXRlc0ZvckJvbmVzKGMsdCxzLGgpLFkuUHJlcGFyZUF0dHJpYnV0ZXNGb3JJbnN0YW5jZXMoYyxzKSxZLlByZXBhcmVBdHRyaWJ1dGVzRm9yTW9ycGhUYXJnZXRzKGMsdCxzKSxZLlByZXBhcmVBdHRyaWJ1dGVzRm9yQmFrZWRWZXJ0ZXhBbmltYXRpb24oYyx0LHMpO3ZhciBkPSJkZWZhdWx0IixwPVsid29ybGQiLCJ2aWV3Iiwidmlld1Byb2plY3Rpb24iLCJ2RXllUG9zaXRpb24iLCJ2TGlnaHRzVHlwZSIsInZBbWJpZW50Q29sb3IiLCJ2RGlmZnVzZUNvbG9yIiwidlNwZWN1bGFyQ29sb3IiLCJ2RW1pc3NpdmVDb2xvciIsInZpc2liaWxpdHkiLCJ2Rm9nSW5mb3MiLCJ2Rm9nQ29sb3IiLCJwb2ludFNpemUiLCJ2RGlmZnVzZUluZm9zIiwidkFtYmllbnRJbmZvcyIsInZPcGFjaXR5SW5mb3MiLCJ2UmVmbGVjdGlvbkluZm9zIiwidkVtaXNzaXZlSW5mb3MiLCJ2U3BlY3VsYXJJbmZvcyIsInZCdW1wSW5mb3MiLCJ2TGlnaHRtYXBJbmZvcyIsInZSZWZyYWN0aW9uSW5mb3MiLCJtQm9uZXMiLCJ2Q2xpcFBsYW5lIiwidkNsaXBQbGFuZTIiLCJ2Q2xpcFBsYW5lMyIsInZDbGlwUGxhbmU0IiwidkNsaXBQbGFuZTUiLCJ2Q2xpcFBsYW5lNiIsImRpZmZ1c2VNYXRyaXgiLCJhbWJpZW50TWF0cml4Iiwib3BhY2l0eU1hdHJpeCIsInJlZmxlY3Rpb25NYXRyaXgiLCJlbWlzc2l2ZU1hdHJpeCIsInNwZWN1bGFyTWF0cml4IiwiYnVtcE1hdHJpeCIsIm5vcm1hbE1hdHJpeCIsImxpZ2h0bWFwTWF0cml4IiwicmVmcmFjdGlvbk1hdHJpeCIsImRpZmZ1c2VMZWZ0Q29sb3IiLCJkaWZmdXNlUmlnaHRDb2xvciIsIm9wYWNpdHlQYXJ0cyIsInJlZmxlY3Rpb25MZWZ0Q29sb3IiLCJyZWZsZWN0aW9uUmlnaHRDb2xvciIsImVtaXNzaXZlTGVmdENvbG9yIiwiZW1pc3NpdmVSaWdodENvbG9yIiwicmVmcmFjdGlvbkxlZnRDb2xvciIsInJlZnJhY3Rpb25SaWdodENvbG9yIiwidlJlZmxlY3Rpb25Qb3NpdGlvbiIsInZSZWZsZWN0aW9uU2l6ZSIsInZSZWZyYWN0aW9uUG9zaXRpb24iLCJ2UmVmcmFjdGlvblNpemUiLCJsb2dhcml0aG1pY0RlcHRoQ29uc3RhbnQiLCJ2VGFuZ2VudFNwYWNlUGFyYW1zIiwiYWxwaGFDdXRPZmYiLCJib25lVGV4dHVyZVdpZHRoIiwibW9ycGhUYXJnZXRUZXh0dXJlSW5mbyIsIm1vcnBoVGFyZ2V0VGV4dHVyZUluZGljZXMiXSxnPVsiZGlmZnVzZVNhbXBsZXIiLCJhbWJpZW50U2FtcGxlciIsIm9wYWNpdHlTYW1wbGVyIiwicmVmbGVjdGlvbkN1YmVTYW1wbGVyIiwicmVmbGVjdGlvbjJEU2FtcGxlciIsImVtaXNzaXZlU2FtcGxlciIsInNwZWN1bGFyU2FtcGxlciIsImJ1bXBTYW1wbGVyIiwibGlnaHRtYXBTYW1wbGVyIiwicmVmcmFjdGlvbkN1YmVTYW1wbGVyIiwicmVmcmFjdGlvbjJEU2FtcGxlciIsImJvbmVTYW1wbGVyIiwibW9ycGhUYXJnZXRzIiwib2l0RGVwdGhTYW1wbGVyIiwib2l0RnJvbnRDb2xvclNhbXBsZXIiXSxfPVsiTWF0ZXJpYWwiLCJTY2VuZSIsIk1lc2giXTt0aGlzLl9ldmVudEluZm8uZmFsbGJhY2tzPWgsdGhpcy5fZXZlbnRJbmZvLmZhbGxiYWNrUmFuaz0wLHRoaXMuX2V2ZW50SW5mby5kZWZpbmVzPXMsdGhpcy5fZXZlbnRJbmZvLnVuaWZvcm1zPXAsdGhpcy5fZXZlbnRJbmZvLnNhbXBsZXJzPWcsdGhpcy5fZXZlbnRJbmZvLnVuaWZvcm1CdWZmZXJzTmFtZXM9Xyx0aGlzLl9ldmVudEluZm8uY3VzdG9tQ29kZT12b2lkIDAsdGhpcy5fY2FsbGJhY2tQbHVnaW5FdmVudEdlbmVyaWMoRGUuUHJlcGFyZUVmZmVjdCx0aGlzLl9ldmVudEluZm8pLF9pLkFkZFVuaWZvcm1zKHApLF9pLkFkZFNhbXBsZXJzKGcpLEJ0JiYoQnQuUHJlcGFyZVVuaWZvcm1zKHAscyksQnQuUHJlcGFyZVNhbXBsZXJzKGcscykpLFkuUHJlcGFyZVVuaWZvcm1zQW5kU2FtcGxlcnNMaXN0KHt1bmlmb3Jtc05hbWVzOnAsdW5pZm9ybUJ1ZmZlcnNOYW1lczpfLHNhbXBsZXJzOmcsZGVmaW5lczpzLG1heFNpbXVsdGFuZW91c0xpZ2h0czp0aGlzLl9tYXhTaW11bHRhbmVvdXNMaWdodHN9KTt2YXIgdj17fTt0aGlzLmN1c3RvbVNoYWRlck5hbWVSZXNvbHZlJiYoZD10aGlzLmN1c3RvbVNoYWRlck5hbWVSZXNvbHZlKGQscCxfLGcscyxjLHYpKTt2YXIgeT1zLnRvU3RyaW5nKCksRT1yLmVmZmVjdCxSPWEuZ2V0RW5naW5lKCkuY3JlYXRlRWZmZWN0KGQse2F0dHJpYnV0ZXM6Yyx1bmlmb3Jtc05hbWVzOnAsdW5pZm9ybUJ1ZmZlcnNOYW1lczpfLHNhbXBsZXJzOmcsZGVmaW5lczp5LGZhbGxiYWNrczpoLG9uQ29tcGlsZWQ6dGhpcy5vbkNvbXBpbGVkLG9uRXJyb3I6dGhpcy5vbkVycm9yLGluZGV4UGFyYW1ldGVyczp7bWF4U2ltdWx0YW5lb3VzTGlnaHRzOnRoaXMuX21heFNpbXVsdGFuZW91c0xpZ2h0cyxtYXhTaW11bHRhbmVvdXNNb3JwaFRhcmdldHM6cy5OVU1fTU9SUEhfSU5GTFVFTkNFUlN9LHByb2Nlc3NGaW5hbENvZGU6di5wcm9jZXNzRmluYWxDb2RlLHByb2Nlc3NDb2RlQWZ0ZXJJbmNsdWRlczp0aGlzLl9ldmVudEluZm8uY3VzdG9tQ29kZSxtdWx0aVRhcmdldDpzLlBSRVBBU1N9LG8pO2lmKFIpaWYodGhpcy5fb25FZmZlY3RDcmVhdGVkT2JzZXJ2YWJsZSYmKGdpLmVmZmVjdD1SLGdpLnN1Yk1lc2g9cix0aGlzLl9vbkVmZmVjdENyZWF0ZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhnaSkpLHRoaXMuYWxsb3dTaGFkZXJIb3RTd2FwcGluZyYmRSYmIVIuaXNSZWFkeSgpKXtpZihSPUUscy5tYXJrQXNVbnByb2Nlc3NlZCgpLGwpcmV0dXJuIHMuX2FyZUxpZ2h0c0Rpc3Bvc2VkPSEwLCExfWVsc2UgYS5yZXNldENhY2hlZE1hdGVyaWFsKCksci5zZXRFZmZlY3QoUixzLHRoaXMuX21hdGVyaWFsQ29udGV4dCl9cmV0dXJuIXIuZWZmZWN0fHwhci5lZmZlY3QuaXNSZWFkeSgpPyExOihzLl9yZW5kZXJJZD1hLmdldFJlbmRlcklkKCksci5lZmZlY3QuX3dhc1ByZXZpb3VzbHlSZWFkeT0hMCwhMCl9LGUucHJvdG90eXBlLmJ1aWxkVW5pZm9ybUxheW91dD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX3VuaWZvcm1CdWZmZXI7dC5hZGRVbmlmb3JtKCJkaWZmdXNlTGVmdENvbG9yIiw0KSx0LmFkZFVuaWZvcm0oImRpZmZ1c2VSaWdodENvbG9yIiw0KSx0LmFkZFVuaWZvcm0oIm9wYWNpdHlQYXJ0cyIsNCksdC5hZGRVbmlmb3JtKCJyZWZsZWN0aW9uTGVmdENvbG9yIiw0KSx0LmFkZFVuaWZvcm0oInJlZmxlY3Rpb25SaWdodENvbG9yIiw0KSx0LmFkZFVuaWZvcm0oInJlZnJhY3Rpb25MZWZ0Q29sb3IiLDQpLHQuYWRkVW5pZm9ybSgicmVmcmFjdGlvblJpZ2h0Q29sb3IiLDQpLHQuYWRkVW5pZm9ybSgiZW1pc3NpdmVMZWZ0Q29sb3IiLDQpLHQuYWRkVW5pZm9ybSgiZW1pc3NpdmVSaWdodENvbG9yIiw0KSx0LmFkZFVuaWZvcm0oInZEaWZmdXNlSW5mb3MiLDIpLHQuYWRkVW5pZm9ybSgidkFtYmllbnRJbmZvcyIsMiksdC5hZGRVbmlmb3JtKCJ2T3BhY2l0eUluZm9zIiwyKSx0LmFkZFVuaWZvcm0oInZSZWZsZWN0aW9uSW5mb3MiLDIpLHQuYWRkVW5pZm9ybSgidlJlZmxlY3Rpb25Qb3NpdGlvbiIsMyksdC5hZGRVbmlmb3JtKCJ2UmVmbGVjdGlvblNpemUiLDMpLHQuYWRkVW5pZm9ybSgidkVtaXNzaXZlSW5mb3MiLDIpLHQuYWRkVW5pZm9ybSgidkxpZ2h0bWFwSW5mb3MiLDIpLHQuYWRkVW5pZm9ybSgidlNwZWN1bGFySW5mb3MiLDIpLHQuYWRkVW5pZm9ybSgidkJ1bXBJbmZvcyIsMyksdC5hZGRVbmlmb3JtKCJkaWZmdXNlTWF0cml4IiwxNiksdC5hZGRVbmlmb3JtKCJhbWJpZW50TWF0cml4IiwxNiksdC5hZGRVbmlmb3JtKCJvcGFjaXR5TWF0cml4IiwxNiksdC5hZGRVbmlmb3JtKCJyZWZsZWN0aW9uTWF0cml4IiwxNiksdC5hZGRVbmlmb3JtKCJlbWlzc2l2ZU1hdHJpeCIsMTYpLHQuYWRkVW5pZm9ybSgibGlnaHRtYXBNYXRyaXgiLDE2KSx0LmFkZFVuaWZvcm0oInNwZWN1bGFyTWF0cml4IiwxNiksdC5hZGRVbmlmb3JtKCJidW1wTWF0cml4IiwxNiksdC5hZGRVbmlmb3JtKCJ2VGFuZ2VudFNwYWNlUGFyYW1zIiwyKSx0LmFkZFVuaWZvcm0oInBvaW50U2l6ZSIsMSksdC5hZGRVbmlmb3JtKCJhbHBoYUN1dE9mZiIsMSksdC5hZGRVbmlmb3JtKCJyZWZyYWN0aW9uTWF0cml4IiwxNiksdC5hZGRVbmlmb3JtKCJ2UmVmcmFjdGlvbkluZm9zIiw0KSx0LmFkZFVuaWZvcm0oInZSZWZyYWN0aW9uUG9zaXRpb24iLDMpLHQuYWRkVW5pZm9ybSgidlJlZnJhY3Rpb25TaXplIiwzKSx0LmFkZFVuaWZvcm0oInZTcGVjdWxhckNvbG9yIiw0KSx0LmFkZFVuaWZvcm0oInZFbWlzc2l2ZUNvbG9yIiwzKSx0LmFkZFVuaWZvcm0oInZEaWZmdXNlQ29sb3IiLDQpLHQuYWRkVW5pZm9ybSgidkFtYmllbnRDb2xvciIsMyksaS5wcm90b3R5cGUuYnVpbGRVbmlmb3JtTGF5b3V0LmNhbGwodGhpcyl9LGUucHJvdG90eXBlLmJpbmRGb3JTdWJNZXNoPWZ1bmN0aW9uKHQscixuKXt2YXIgYSxzPXRoaXMuZ2V0U2NlbmUoKSxvPW4ubWF0ZXJpYWxEZWZpbmVzO2lmKCEhbyl7dmFyIHU9bi5lZmZlY3Q7aWYoISF1KXt0aGlzLl9hY3RpdmVFZmZlY3Q9dSxyLmdldE1lc2hVbmlmb3JtQnVmZmVyKCkuYmluZFRvRWZmZWN0KHUsIk1lc2giKSxyLnRyYW5zZmVyVG9FZmZlY3QodCksdGhpcy5fdW5pZm9ybUJ1ZmZlci5iaW5kVG9FZmZlY3QodSwiTWF0ZXJpYWwiKSx0aGlzLnByZVBhc3NDb25maWd1cmF0aW9uLmJpbmRGb3JTdWJNZXNoKHRoaXMuX2FjdGl2ZUVmZmVjdCxzLHIsdCx0aGlzLmlzRnJvemVuKSx0aGlzLl9ldmVudEluZm8uc3ViTWVzaD1uLHRoaXMuX2NhbGxiYWNrUGx1Z2luRXZlbnRIYXJkQmluZEZvclN1Yk1lc2godGhpcy5fZXZlbnRJbmZvKSxvLk9CSkVDVFNQQUNFX05PUk1BTE1BUCYmKHQudG9Ob3JtYWxNYXRyaXgodGhpcy5fbm9ybWFsTWF0cml4KSx0aGlzLmJpbmRPbmx5Tm9ybWFsTWF0cml4KHRoaXMuX25vcm1hbE1hdHJpeCkpO3ZhciBmPXRoaXMuX211c3RSZWJpbmQocyx1LHIudmlzaWJpbGl0eSk7WS5CaW5kQm9uZXNQYXJhbWV0ZXJzKHIsdSk7dmFyIGw9dGhpcy5fdW5pZm9ybUJ1ZmZlcjtpZihmKXtpZih0aGlzLmJpbmRWaWV3UHJvamVjdGlvbih1KSwhbC51c2VVYm98fCF0aGlzLmlzRnJvemVufHwhbC5pc1N5bmMpe2lmKGUuRnJlc25lbEVuYWJsZWQmJm8uRlJFU05FTCYmKHRoaXMuZGlmZnVzZUZyZXNuZWxQYXJhbWV0ZXJzJiZ0aGlzLmRpZmZ1c2VGcmVzbmVsUGFyYW1ldGVycy5pc0VuYWJsZWQmJihsLnVwZGF0ZUNvbG9yNCgiZGlmZnVzZUxlZnRDb2xvciIsdGhpcy5kaWZmdXNlRnJlc25lbFBhcmFtZXRlcnMubGVmdENvbG9yLHRoaXMuZGlmZnVzZUZyZXNuZWxQYXJhbWV0ZXJzLnBvd2VyKSxsLnVwZGF0ZUNvbG9yNCgiZGlmZnVzZVJpZ2h0Q29sb3IiLHRoaXMuZGlmZnVzZUZyZXNuZWxQYXJhbWV0ZXJzLnJpZ2h0Q29sb3IsdGhpcy5kaWZmdXNlRnJlc25lbFBhcmFtZXRlcnMuYmlhcykpLHRoaXMub3BhY2l0eUZyZXNuZWxQYXJhbWV0ZXJzJiZ0aGlzLm9wYWNpdHlGcmVzbmVsUGFyYW1ldGVycy5pc0VuYWJsZWQmJmwudXBkYXRlQ29sb3I0KCJvcGFjaXR5UGFydHMiLG5ldyBiZSh0aGlzLm9wYWNpdHlGcmVzbmVsUGFyYW1ldGVycy5sZWZ0Q29sb3IudG9MdW1pbmFuY2UoKSx0aGlzLm9wYWNpdHlGcmVzbmVsUGFyYW1ldGVycy5yaWdodENvbG9yLnRvTHVtaW5hbmNlKCksdGhpcy5vcGFjaXR5RnJlc25lbFBhcmFtZXRlcnMuYmlhcyksdGhpcy5vcGFjaXR5RnJlc25lbFBhcmFtZXRlcnMucG93ZXIpLHRoaXMucmVmbGVjdGlvbkZyZXNuZWxQYXJhbWV0ZXJzJiZ0aGlzLnJlZmxlY3Rpb25GcmVzbmVsUGFyYW1ldGVycy5pc0VuYWJsZWQmJihsLnVwZGF0ZUNvbG9yNCgicmVmbGVjdGlvbkxlZnRDb2xvciIsdGhpcy5yZWZsZWN0aW9uRnJlc25lbFBhcmFtZXRlcnMubGVmdENvbG9yLHRoaXMucmVmbGVjdGlvbkZyZXNuZWxQYXJhbWV0ZXJzLnBvd2VyKSxsLnVwZGF0ZUNvbG9yNCgicmVmbGVjdGlvblJpZ2h0Q29sb3IiLHRoaXMucmVmbGVjdGlvbkZyZXNuZWxQYXJhbWV0ZXJzLnJpZ2h0Q29sb3IsdGhpcy5yZWZsZWN0aW9uRnJlc25lbFBhcmFtZXRlcnMuYmlhcykpLHRoaXMucmVmcmFjdGlvbkZyZXNuZWxQYXJhbWV0ZXJzJiZ0aGlzLnJlZnJhY3Rpb25GcmVzbmVsUGFyYW1ldGVycy5pc0VuYWJsZWQmJihsLnVwZGF0ZUNvbG9yNCgicmVmcmFjdGlvbkxlZnRDb2xvciIsdGhpcy5yZWZyYWN0aW9uRnJlc25lbFBhcmFtZXRlcnMubGVmdENvbG9yLHRoaXMucmVmcmFjdGlvbkZyZXNuZWxQYXJhbWV0ZXJzLnBvd2VyKSxsLnVwZGF0ZUNvbG9yNCgicmVmcmFjdGlvblJpZ2h0Q29sb3IiLHRoaXMucmVmcmFjdGlvbkZyZXNuZWxQYXJhbWV0ZXJzLnJpZ2h0Q29sb3IsdGhpcy5yZWZyYWN0aW9uRnJlc25lbFBhcmFtZXRlcnMuYmlhcykpLHRoaXMuZW1pc3NpdmVGcmVzbmVsUGFyYW1ldGVycyYmdGhpcy5lbWlzc2l2ZUZyZXNuZWxQYXJhbWV0ZXJzLmlzRW5hYmxlZCYmKGwudXBkYXRlQ29sb3I0KCJlbWlzc2l2ZUxlZnRDb2xvciIsdGhpcy5lbWlzc2l2ZUZyZXNuZWxQYXJhbWV0ZXJzLmxlZnRDb2xvcix0aGlzLmVtaXNzaXZlRnJlc25lbFBhcmFtZXRlcnMucG93ZXIpLGwudXBkYXRlQ29sb3I0KCJlbWlzc2l2ZVJpZ2h0Q29sb3IiLHRoaXMuZW1pc3NpdmVGcmVzbmVsUGFyYW1ldGVycy5yaWdodENvbG9yLHRoaXMuZW1pc3NpdmVGcmVzbmVsUGFyYW1ldGVycy5iaWFzKSkpLHMudGV4dHVyZXNFbmFibGVkKXtpZih0aGlzLl9kaWZmdXNlVGV4dHVyZSYmZS5EaWZmdXNlVGV4dHVyZUVuYWJsZWQmJihsLnVwZGF0ZUZsb2F0MigidkRpZmZ1c2VJbmZvcyIsdGhpcy5fZGlmZnVzZVRleHR1cmUuY29vcmRpbmF0ZXNJbmRleCx0aGlzLl9kaWZmdXNlVGV4dHVyZS5sZXZlbCksWS5CaW5kVGV4dHVyZU1hdHJpeCh0aGlzLl9kaWZmdXNlVGV4dHVyZSxsLCJkaWZmdXNlIikpLHRoaXMuX2FtYmllbnRUZXh0dXJlJiZlLkFtYmllbnRUZXh0dXJlRW5hYmxlZCYmKGwudXBkYXRlRmxvYXQyKCJ2QW1iaWVudEluZm9zIix0aGlzLl9hbWJpZW50VGV4dHVyZS5jb29yZGluYXRlc0luZGV4LHRoaXMuX2FtYmllbnRUZXh0dXJlLmxldmVsKSxZLkJpbmRUZXh0dXJlTWF0cml4KHRoaXMuX2FtYmllbnRUZXh0dXJlLGwsImFtYmllbnQiKSksdGhpcy5fb3BhY2l0eVRleHR1cmUmJmUuT3BhY2l0eVRleHR1cmVFbmFibGVkJiYobC51cGRhdGVGbG9hdDIoInZPcGFjaXR5SW5mb3MiLHRoaXMuX29wYWNpdHlUZXh0dXJlLmNvb3JkaW5hdGVzSW5kZXgsdGhpcy5fb3BhY2l0eVRleHR1cmUubGV2ZWwpLFkuQmluZFRleHR1cmVNYXRyaXgodGhpcy5fb3BhY2l0eVRleHR1cmUsbCwib3BhY2l0eSIpKSx0aGlzLl9oYXNBbHBoYUNoYW5uZWwoKSYmbC51cGRhdGVGbG9hdCgiYWxwaGFDdXRPZmYiLHRoaXMuYWxwaGFDdXRPZmYpLHRoaXMuX3JlZmxlY3Rpb25UZXh0dXJlJiZlLlJlZmxlY3Rpb25UZXh0dXJlRW5hYmxlZCYmKGwudXBkYXRlRmxvYXQyKCJ2UmVmbGVjdGlvbkluZm9zIix0aGlzLl9yZWZsZWN0aW9uVGV4dHVyZS5sZXZlbCx0aGlzLnJvdWdobmVzcyksbC51cGRhdGVNYXRyaXgoInJlZmxlY3Rpb25NYXRyaXgiLHRoaXMuX3JlZmxlY3Rpb25UZXh0dXJlLmdldFJlZmxlY3Rpb25UZXh0dXJlTWF0cml4KCkpLHRoaXMuX3JlZmxlY3Rpb25UZXh0dXJlLmJvdW5kaW5nQm94U2l6ZSkpe3ZhciBoPXRoaXMuX3JlZmxlY3Rpb25UZXh0dXJlO2wudXBkYXRlVmVjdG9yMygidlJlZmxlY3Rpb25Qb3NpdGlvbiIsaC5ib3VuZGluZ0JveFBvc2l0aW9uKSxsLnVwZGF0ZVZlY3RvcjMoInZSZWZsZWN0aW9uU2l6ZSIsaC5ib3VuZGluZ0JveFNpemUpfWlmKHRoaXMuX2VtaXNzaXZlVGV4dHVyZSYmZS5FbWlzc2l2ZVRleHR1cmVFbmFibGVkJiYobC51cGRhdGVGbG9hdDIoInZFbWlzc2l2ZUluZm9zIix0aGlzLl9lbWlzc2l2ZVRleHR1cmUuY29vcmRpbmF0ZXNJbmRleCx0aGlzLl9lbWlzc2l2ZVRleHR1cmUubGV2ZWwpLFkuQmluZFRleHR1cmVNYXRyaXgodGhpcy5fZW1pc3NpdmVUZXh0dXJlLGwsImVtaXNzaXZlIikpLHRoaXMuX2xpZ2h0bWFwVGV4dHVyZSYmZS5MaWdodG1hcFRleHR1cmVFbmFibGVkJiYobC51cGRhdGVGbG9hdDIoInZMaWdodG1hcEluZm9zIix0aGlzLl9saWdodG1hcFRleHR1cmUuY29vcmRpbmF0ZXNJbmRleCx0aGlzLl9saWdodG1hcFRleHR1cmUubGV2ZWwpLFkuQmluZFRleHR1cmVNYXRyaXgodGhpcy5fbGlnaHRtYXBUZXh0dXJlLGwsImxpZ2h0bWFwIikpLHRoaXMuX3NwZWN1bGFyVGV4dHVyZSYmZS5TcGVjdWxhclRleHR1cmVFbmFibGVkJiYobC51cGRhdGVGbG9hdDIoInZTcGVjdWxhckluZm9zIix0aGlzLl9zcGVjdWxhclRleHR1cmUuY29vcmRpbmF0ZXNJbmRleCx0aGlzLl9zcGVjdWxhclRleHR1cmUubGV2ZWwpLFkuQmluZFRleHR1cmVNYXRyaXgodGhpcy5fc3BlY3VsYXJUZXh0dXJlLGwsInNwZWN1bGFyIikpLHRoaXMuX2J1bXBUZXh0dXJlJiZzLmdldEVuZ2luZSgpLmdldENhcHMoKS5zdGFuZGFyZERlcml2YXRpdmVzJiZlLkJ1bXBUZXh0dXJlRW5hYmxlZCYmKGwudXBkYXRlRmxvYXQzKCJ2QnVtcEluZm9zIix0aGlzLl9idW1wVGV4dHVyZS5jb29yZGluYXRlc0luZGV4LDEvdGhpcy5fYnVtcFRleHR1cmUubGV2ZWwsdGhpcy5wYXJhbGxheFNjYWxlQmlhcyksWS5CaW5kVGV4dHVyZU1hdHJpeCh0aGlzLl9idW1wVGV4dHVyZSxsLCJidW1wIikscy5fbWlycm9yZWRDYW1lcmFQb3NpdGlvbj9sLnVwZGF0ZUZsb2F0MigidlRhbmdlbnRTcGFjZVBhcmFtcyIsdGhpcy5faW52ZXJ0Tm9ybWFsTWFwWD8xOi0xLHRoaXMuX2ludmVydE5vcm1hbE1hcFk/MTotMSk6bC51cGRhdGVGbG9hdDIoInZUYW5nZW50U3BhY2VQYXJhbXMiLHRoaXMuX2ludmVydE5vcm1hbE1hcFg/LTE6MSx0aGlzLl9pbnZlcnROb3JtYWxNYXBZPy0xOjEpKSx0aGlzLl9yZWZyYWN0aW9uVGV4dHVyZSYmZS5SZWZyYWN0aW9uVGV4dHVyZUVuYWJsZWQpe3ZhciBjPTE7aWYodGhpcy5fcmVmcmFjdGlvblRleHR1cmUuaXNDdWJlfHwobC51cGRhdGVNYXRyaXgoInJlZnJhY3Rpb25NYXRyaXgiLHRoaXMuX3JlZnJhY3Rpb25UZXh0dXJlLmdldFJlZmxlY3Rpb25UZXh0dXJlTWF0cml4KCkpLHRoaXMuX3JlZnJhY3Rpb25UZXh0dXJlLmRlcHRoJiYoYz10aGlzLl9yZWZyYWN0aW9uVGV4dHVyZS5kZXB0aCkpLGwudXBkYXRlRmxvYXQ0KCJ2UmVmcmFjdGlvbkluZm9zIix0aGlzLl9yZWZyYWN0aW9uVGV4dHVyZS5sZXZlbCx0aGlzLmluZGV4T2ZSZWZyYWN0aW9uLGMsdGhpcy5pbnZlcnRSZWZyYWN0aW9uWT8tMToxKSx0aGlzLl9yZWZyYWN0aW9uVGV4dHVyZS5ib3VuZGluZ0JveFNpemUpe3ZhciBoPXRoaXMuX3JlZnJhY3Rpb25UZXh0dXJlO2wudXBkYXRlVmVjdG9yMygidlJlZnJhY3Rpb25Qb3NpdGlvbiIsaC5ib3VuZGluZ0JveFBvc2l0aW9uKSxsLnVwZGF0ZVZlY3RvcjMoInZSZWZyYWN0aW9uU2l6ZSIsaC5ib3VuZGluZ0JveFNpemUpfX19dGhpcy5wb2ludHNDbG91ZCYmbC51cGRhdGVGbG9hdCgicG9pbnRTaXplIix0aGlzLnBvaW50U2l6ZSksby5TUEVDVUxBUlRFUk0mJmwudXBkYXRlQ29sb3I0KCJ2U3BlY3VsYXJDb2xvciIsdGhpcy5zcGVjdWxhckNvbG9yLHRoaXMuc3BlY3VsYXJQb3dlciksbC51cGRhdGVDb2xvcjMoInZFbWlzc2l2ZUNvbG9yIixlLkVtaXNzaXZlVGV4dHVyZUVuYWJsZWQ/dGhpcy5lbWlzc2l2ZUNvbG9yOmJlLkJsYWNrUmVhZE9ubHkpLGwudXBkYXRlQ29sb3I0KCJ2RGlmZnVzZUNvbG9yIix0aGlzLmRpZmZ1c2VDb2xvcix0aGlzLmFscGhhKSxzLmFtYmllbnRDb2xvci5tdWx0aXBseVRvUmVmKHRoaXMuYW1iaWVudENvbG9yLHRoaXMuX2dsb2JhbEFtYmllbnRDb2xvciksbC51cGRhdGVDb2xvcjMoInZBbWJpZW50Q29sb3IiLHRoaXMuX2dsb2JhbEFtYmllbnRDb2xvcil9cy50ZXh0dXJlc0VuYWJsZWQmJih0aGlzLl9kaWZmdXNlVGV4dHVyZSYmZS5EaWZmdXNlVGV4dHVyZUVuYWJsZWQmJnUuc2V0VGV4dHVyZSgiZGlmZnVzZVNhbXBsZXIiLHRoaXMuX2RpZmZ1c2VUZXh0dXJlKSx0aGlzLl9hbWJpZW50VGV4dHVyZSYmZS5BbWJpZW50VGV4dHVyZUVuYWJsZWQmJnUuc2V0VGV4dHVyZSgiYW1iaWVudFNhbXBsZXIiLHRoaXMuX2FtYmllbnRUZXh0dXJlKSx0aGlzLl9vcGFjaXR5VGV4dHVyZSYmZS5PcGFjaXR5VGV4dHVyZUVuYWJsZWQmJnUuc2V0VGV4dHVyZSgib3BhY2l0eVNhbXBsZXIiLHRoaXMuX29wYWNpdHlUZXh0dXJlKSx0aGlzLl9yZWZsZWN0aW9uVGV4dHVyZSYmZS5SZWZsZWN0aW9uVGV4dHVyZUVuYWJsZWQmJih0aGlzLl9yZWZsZWN0aW9uVGV4dHVyZS5pc0N1YmU/dS5zZXRUZXh0dXJlKCJyZWZsZWN0aW9uQ3ViZVNhbXBsZXIiLHRoaXMuX3JlZmxlY3Rpb25UZXh0dXJlKTp1LnNldFRleHR1cmUoInJlZmxlY3Rpb24yRFNhbXBsZXIiLHRoaXMuX3JlZmxlY3Rpb25UZXh0dXJlKSksdGhpcy5fZW1pc3NpdmVUZXh0dXJlJiZlLkVtaXNzaXZlVGV4dHVyZUVuYWJsZWQmJnUuc2V0VGV4dHVyZSgiZW1pc3NpdmVTYW1wbGVyIix0aGlzLl9lbWlzc2l2ZVRleHR1cmUpLHRoaXMuX2xpZ2h0bWFwVGV4dHVyZSYmZS5MaWdodG1hcFRleHR1cmVFbmFibGVkJiZ1LnNldFRleHR1cmUoImxpZ2h0bWFwU2FtcGxlciIsdGhpcy5fbGlnaHRtYXBUZXh0dXJlKSx0aGlzLl9zcGVjdWxhclRleHR1cmUmJmUuU3BlY3VsYXJUZXh0dXJlRW5hYmxlZCYmdS5zZXRUZXh0dXJlKCJzcGVjdWxhclNhbXBsZXIiLHRoaXMuX3NwZWN1bGFyVGV4dHVyZSksdGhpcy5fYnVtcFRleHR1cmUmJnMuZ2V0RW5naW5lKCkuZ2V0Q2FwcygpLnN0YW5kYXJkRGVyaXZhdGl2ZXMmJmUuQnVtcFRleHR1cmVFbmFibGVkJiZ1LnNldFRleHR1cmUoImJ1bXBTYW1wbGVyIix0aGlzLl9idW1wVGV4dHVyZSksdGhpcy5fcmVmcmFjdGlvblRleHR1cmUmJmUuUmVmcmFjdGlvblRleHR1cmVFbmFibGVkJiYodGhpcy5fcmVmcmFjdGlvblRleHR1cmUuaXNDdWJlP3Uuc2V0VGV4dHVyZSgicmVmcmFjdGlvbkN1YmVTYW1wbGVyIix0aGlzLl9yZWZyYWN0aW9uVGV4dHVyZSk6dS5zZXRUZXh0dXJlKCJyZWZyYWN0aW9uMkRTYW1wbGVyIix0aGlzLl9yZWZyYWN0aW9uVGV4dHVyZSkpKSx0aGlzLmdldFNjZW5lKCkudXNlT3JkZXJJbmRlcGVuZGVudFRyYW5zcGFyZW5jeSYmdGhpcy5uZWVkQWxwaGFCbGVuZGluZ0Zvck1lc2gocikmJnRoaXMuZ2V0U2NlbmUoKS5kZXB0aFBlZWxpbmdSZW5kZXJlci5iaW5kKHUpLHRoaXMuX2V2ZW50SW5mby5zdWJNZXNoPW4sdGhpcy5fY2FsbGJhY2tQbHVnaW5FdmVudEJpbmRGb3JTdWJNZXNoKHRoaXMuX2V2ZW50SW5mbyksWS5CaW5kQ2xpcFBsYW5lKHUscyksdGhpcy5iaW5kRXllUG9zaXRpb24odSl9ZWxzZSBzLmdldEVuZ2luZSgpLl9mZWF0dXJlcy5uZWVkVG9BbHdheXNCaW5kVW5pZm9ybUJ1ZmZlcnMmJih0aGlzLl9uZWVkVG9CaW5kU2NlbmVVYm89ITApOyhmfHwhdGhpcy5pc0Zyb3plbikmJihzLmxpZ2h0c0VuYWJsZWQmJiF0aGlzLl9kaXNhYmxlTGlnaHRpbmcmJlkuQmluZExpZ2h0cyhzLHIsdSxvLHRoaXMuX21heFNpbXVsdGFuZW91c0xpZ2h0cyksKHMuZm9nRW5hYmxlZCYmci5hcHBseUZvZyYmcy5mb2dNb2RlIT09cmUuRk9HTU9ERV9OT05FfHx0aGlzLl9yZWZsZWN0aW9uVGV4dHVyZXx8dGhpcy5fcmVmcmFjdGlvblRleHR1cmV8fHIucmVjZWl2ZVNoYWRvd3N8fG8uUFJFUEFTUykmJnRoaXMuYmluZFZpZXcodSksWS5CaW5kRm9nUGFyYW1ldGVycyhzLHIsdSksby5OVU1fTU9SUEhfSU5GTFVFTkNFUlMmJlkuQmluZE1vcnBoVGFyZ2V0UGFyYW1ldGVycyhyLHUpLG8uQkFLRURfVkVSVEVYX0FOSU1BVElPTl9URVhUVVJFJiYoKGE9ci5iYWtlZFZlcnRleEFuaW1hdGlvbk1hbmFnZXIpPT09bnVsbHx8YT09PXZvaWQgMHx8YS5iaW5kKHUsby5JTlNUQU5DRVMpKSx0aGlzLnVzZUxvZ2FyaXRobWljRGVwdGgmJlkuQmluZExvZ0RlcHRoKG8sdSxzKSx0aGlzLl9pbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uJiYhdGhpcy5faW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbi5hcHBseUJ5UG9zdFByb2Nlc3MmJnRoaXMuX2ltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24uYmluZCh0aGlzLl9hY3RpdmVFZmZlY3QpKSx0aGlzLl9hZnRlckJpbmQocix0aGlzLl9hY3RpdmVFZmZlY3QpLGwudXBkYXRlKCl9fX0sZS5wcm90b3R5cGUuZ2V0QW5pbWF0YWJsZXM9ZnVuY3Rpb24oKXt2YXIgdD1pLnByb3RvdHlwZS5nZXRBbmltYXRhYmxlcy5jYWxsKHRoaXMpO3JldHVybiB0aGlzLl9kaWZmdXNlVGV4dHVyZSYmdGhpcy5fZGlmZnVzZVRleHR1cmUuYW5pbWF0aW9ucyYmdGhpcy5fZGlmZnVzZVRleHR1cmUuYW5pbWF0aW9ucy5sZW5ndGg+MCYmdC5wdXNoKHRoaXMuX2RpZmZ1c2VUZXh0dXJlKSx0aGlzLl9hbWJpZW50VGV4dHVyZSYmdGhpcy5fYW1iaWVudFRleHR1cmUuYW5pbWF0aW9ucyYmdGhpcy5fYW1iaWVudFRleHR1cmUuYW5pbWF0aW9ucy5sZW5ndGg+MCYmdC5wdXNoKHRoaXMuX2FtYmllbnRUZXh0dXJlKSx0aGlzLl9vcGFjaXR5VGV4dHVyZSYmdGhpcy5fb3BhY2l0eVRleHR1cmUuYW5pbWF0aW9ucyYmdGhpcy5fb3BhY2l0eVRleHR1cmUuYW5pbWF0aW9ucy5sZW5ndGg+MCYmdC5wdXNoKHRoaXMuX29wYWNpdHlUZXh0dXJlKSx0aGlzLl9yZWZsZWN0aW9uVGV4dHVyZSYmdGhpcy5fcmVmbGVjdGlvblRleHR1cmUuYW5pbWF0aW9ucyYmdGhpcy5fcmVmbGVjdGlvblRleHR1cmUuYW5pbWF0aW9ucy5sZW5ndGg+MCYmdC5wdXNoKHRoaXMuX3JlZmxlY3Rpb25UZXh0dXJlKSx0aGlzLl9lbWlzc2l2ZVRleHR1cmUmJnRoaXMuX2VtaXNzaXZlVGV4dHVyZS5hbmltYXRpb25zJiZ0aGlzLl9lbWlzc2l2ZVRleHR1cmUuYW5pbWF0aW9ucy5sZW5ndGg+MCYmdC5wdXNoKHRoaXMuX2VtaXNzaXZlVGV4dHVyZSksdGhpcy5fc3BlY3VsYXJUZXh0dXJlJiZ0aGlzLl9zcGVjdWxhclRleHR1cmUuYW5pbWF0aW9ucyYmdGhpcy5fc3BlY3VsYXJUZXh0dXJlLmFuaW1hdGlvbnMubGVuZ3RoPjAmJnQucHVzaCh0aGlzLl9zcGVjdWxhclRleHR1cmUpLHRoaXMuX2J1bXBUZXh0dXJlJiZ0aGlzLl9idW1wVGV4dHVyZS5hbmltYXRpb25zJiZ0aGlzLl9idW1wVGV4dHVyZS5hbmltYXRpb25zLmxlbmd0aD4wJiZ0LnB1c2godGhpcy5fYnVtcFRleHR1cmUpLHRoaXMuX2xpZ2h0bWFwVGV4dHVyZSYmdGhpcy5fbGlnaHRtYXBUZXh0dXJlLmFuaW1hdGlvbnMmJnRoaXMuX2xpZ2h0bWFwVGV4dHVyZS5hbmltYXRpb25zLmxlbmd0aD4wJiZ0LnB1c2godGhpcy5fbGlnaHRtYXBUZXh0dXJlKSx0aGlzLl9yZWZyYWN0aW9uVGV4dHVyZSYmdGhpcy5fcmVmcmFjdGlvblRleHR1cmUuYW5pbWF0aW9ucyYmdGhpcy5fcmVmcmFjdGlvblRleHR1cmUuYW5pbWF0aW9ucy5sZW5ndGg+MCYmdC5wdXNoKHRoaXMuX3JlZnJhY3Rpb25UZXh0dXJlKSx0fSxlLnByb3RvdHlwZS5nZXRBY3RpdmVUZXh0dXJlcz1mdW5jdGlvbigpe3ZhciB0PWkucHJvdG90eXBlLmdldEFjdGl2ZVRleHR1cmVzLmNhbGwodGhpcyk7cmV0dXJuIHRoaXMuX2RpZmZ1c2VUZXh0dXJlJiZ0LnB1c2godGhpcy5fZGlmZnVzZVRleHR1cmUpLHRoaXMuX2FtYmllbnRUZXh0dXJlJiZ0LnB1c2godGhpcy5fYW1iaWVudFRleHR1cmUpLHRoaXMuX29wYWNpdHlUZXh0dXJlJiZ0LnB1c2godGhpcy5fb3BhY2l0eVRleHR1cmUpLHRoaXMuX3JlZmxlY3Rpb25UZXh0dXJlJiZ0LnB1c2godGhpcy5fcmVmbGVjdGlvblRleHR1cmUpLHRoaXMuX2VtaXNzaXZlVGV4dHVyZSYmdC5wdXNoKHRoaXMuX2VtaXNzaXZlVGV4dHVyZSksdGhpcy5fc3BlY3VsYXJUZXh0dXJlJiZ0LnB1c2godGhpcy5fc3BlY3VsYXJUZXh0dXJlKSx0aGlzLl9idW1wVGV4dHVyZSYmdC5wdXNoKHRoaXMuX2J1bXBUZXh0dXJlKSx0aGlzLl9saWdodG1hcFRleHR1cmUmJnQucHVzaCh0aGlzLl9saWdodG1hcFRleHR1cmUpLHRoaXMuX3JlZnJhY3Rpb25UZXh0dXJlJiZ0LnB1c2godGhpcy5fcmVmcmFjdGlvblRleHR1cmUpLHR9LGUucHJvdG90eXBlLmhhc1RleHR1cmU9ZnVuY3Rpb24odCl7cmV0dXJuISEoaS5wcm90b3R5cGUuaGFzVGV4dHVyZS5jYWxsKHRoaXMsdCl8fHRoaXMuX2RpZmZ1c2VUZXh0dXJlPT09dHx8dGhpcy5fYW1iaWVudFRleHR1cmU9PT10fHx0aGlzLl9vcGFjaXR5VGV4dHVyZT09PXR8fHRoaXMuX3JlZmxlY3Rpb25UZXh0dXJlPT09dHx8dGhpcy5fZW1pc3NpdmVUZXh0dXJlPT09dHx8dGhpcy5fc3BlY3VsYXJUZXh0dXJlPT09dHx8dGhpcy5fYnVtcFRleHR1cmU9PT10fHx0aGlzLl9saWdodG1hcFRleHR1cmU9PT10fHx0aGlzLl9yZWZyYWN0aW9uVGV4dHVyZT09PXQpfSxlLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKHQscil7dmFyIG4sYSxzLG8sdSxmLGwsaCxjO3ImJigobj10aGlzLl9kaWZmdXNlVGV4dHVyZSk9PT1udWxsfHxuPT09dm9pZCAwfHxuLmRpc3Bvc2UoKSwoYT10aGlzLl9hbWJpZW50VGV4dHVyZSk9PT1udWxsfHxhPT09dm9pZCAwfHxhLmRpc3Bvc2UoKSwocz10aGlzLl9vcGFjaXR5VGV4dHVyZSk9PT1udWxsfHxzPT09dm9pZCAwfHxzLmRpc3Bvc2UoKSwobz10aGlzLl9yZWZsZWN0aW9uVGV4dHVyZSk9PT1udWxsfHxvPT09dm9pZCAwfHxvLmRpc3Bvc2UoKSwodT10aGlzLl9lbWlzc2l2ZVRleHR1cmUpPT09bnVsbHx8dT09PXZvaWQgMHx8dS5kaXNwb3NlKCksKGY9dGhpcy5fc3BlY3VsYXJUZXh0dXJlKT09PW51bGx8fGY9PT12b2lkIDB8fGYuZGlzcG9zZSgpLChsPXRoaXMuX2J1bXBUZXh0dXJlKT09PW51bGx8fGw9PT12b2lkIDB8fGwuZGlzcG9zZSgpLChoPXRoaXMuX2xpZ2h0bWFwVGV4dHVyZSk9PT1udWxsfHxoPT09dm9pZCAwfHxoLmRpc3Bvc2UoKSwoYz10aGlzLl9yZWZyYWN0aW9uVGV4dHVyZSk9PT1udWxsfHxjPT09dm9pZCAwfHxjLmRpc3Bvc2UoKSksdGhpcy5faW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbiYmdGhpcy5faW1hZ2VQcm9jZXNzaW5nT2JzZXJ2ZXImJnRoaXMuX2ltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24ub25VcGRhdGVQYXJhbWV0ZXJzLnJlbW92ZSh0aGlzLl9pbWFnZVByb2Nlc3NpbmdPYnNlcnZlciksaS5wcm90b3R5cGUuZGlzcG9zZS5jYWxsKHRoaXMsdCxyKX0sZS5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24odCl7dmFyIHI9dGhpcyxuPXRlLkNsb25lKGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBlKHQsci5nZXRTY2VuZSgpKX0sdGhpcyk7cmV0dXJuIG4ubmFtZT10LG4uaWQ9dCx0aGlzLnN0ZW5jaWwuY29weVRvKG4uc3RlbmNpbCksbn0sZS5QYXJzZT1mdW5jdGlvbih0LHIsbil7dmFyIGE9dGUuUGFyc2UoZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGUodC5uYW1lLHIpfSx0LHIsbik7cmV0dXJuIHQuc3RlbmNpbCYmYS5zdGVuY2lsLnBhcnNlKHQuc3RlbmNpbCxyLG4pLGF9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJEaWZmdXNlVGV4dHVyZUVuYWJsZWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcGUuRGlmZnVzZVRleHR1cmVFbmFibGVkfSxzZXQ6ZnVuY3Rpb24odCl7cGUuRGlmZnVzZVRleHR1cmVFbmFibGVkPXR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkRldGFpbFRleHR1cmVFbmFibGVkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHBlLkRldGFpbFRleHR1cmVFbmFibGVkfSxzZXQ6ZnVuY3Rpb24odCl7cGUuRGV0YWlsVGV4dHVyZUVuYWJsZWQ9dH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiQW1iaWVudFRleHR1cmVFbmFibGVkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHBlLkFtYmllbnRUZXh0dXJlRW5hYmxlZH0sc2V0OmZ1bmN0aW9uKHQpe3BlLkFtYmllbnRUZXh0dXJlRW5hYmxlZD10fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJPcGFjaXR5VGV4dHVyZUVuYWJsZWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcGUuT3BhY2l0eVRleHR1cmVFbmFibGVkfSxzZXQ6ZnVuY3Rpb24odCl7cGUuT3BhY2l0eVRleHR1cmVFbmFibGVkPXR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIlJlZmxlY3Rpb25UZXh0dXJlRW5hYmxlZCIse2dldDpmdW5jdGlvbigpe3JldHVybiBwZS5SZWZsZWN0aW9uVGV4dHVyZUVuYWJsZWR9LHNldDpmdW5jdGlvbih0KXtwZS5SZWZsZWN0aW9uVGV4dHVyZUVuYWJsZWQ9dH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiRW1pc3NpdmVUZXh0dXJlRW5hYmxlZCIse2dldDpmdW5jdGlvbigpe3JldHVybiBwZS5FbWlzc2l2ZVRleHR1cmVFbmFibGVkfSxzZXQ6ZnVuY3Rpb24odCl7cGUuRW1pc3NpdmVUZXh0dXJlRW5hYmxlZD10fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJTcGVjdWxhclRleHR1cmVFbmFibGVkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHBlLlNwZWN1bGFyVGV4dHVyZUVuYWJsZWR9LHNldDpmdW5jdGlvbih0KXtwZS5TcGVjdWxhclRleHR1cmVFbmFibGVkPXR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkJ1bXBUZXh0dXJlRW5hYmxlZCIse2dldDpmdW5jdGlvbigpe3JldHVybiBwZS5CdW1wVGV4dHVyZUVuYWJsZWR9LHNldDpmdW5jdGlvbih0KXtwZS5CdW1wVGV4dHVyZUVuYWJsZWQ9dH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiTGlnaHRtYXBUZXh0dXJlRW5hYmxlZCIse2dldDpmdW5jdGlvbigpe3JldHVybiBwZS5MaWdodG1hcFRleHR1cmVFbmFibGVkfSxzZXQ6ZnVuY3Rpb24odCl7cGUuTGlnaHRtYXBUZXh0dXJlRW5hYmxlZD10fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJSZWZyYWN0aW9uVGV4dHVyZUVuYWJsZWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcGUuUmVmcmFjdGlvblRleHR1cmVFbmFibGVkfSxzZXQ6ZnVuY3Rpb24odCl7cGUuUmVmcmFjdGlvblRleHR1cmVFbmFibGVkPXR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIkNvbG9yR3JhZGluZ1RleHR1cmVFbmFibGVkIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHBlLkNvbG9yR3JhZGluZ1RleHR1cmVFbmFibGVkfSxzZXQ6ZnVuY3Rpb24odCl7cGUuQ29sb3JHcmFkaW5nVGV4dHVyZUVuYWJsZWQ9dH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiRnJlc25lbEVuYWJsZWQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcGUuRnJlc25lbEVuYWJsZWR9LHNldDpmdW5jdGlvbih0KXtwZS5GcmVzbmVsRW5hYmxlZD10fSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLFQoW0hlKCJkaWZmdXNlVGV4dHVyZSIpXSxlLnByb3RvdHlwZSwiX2RpZmZ1c2VUZXh0dXJlIix2b2lkIDApLFQoW29lKCJfbWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNBbmRNaXNjRGlydHkiKV0sZS5wcm90b3R5cGUsImRpZmZ1c2VUZXh0dXJlIix2b2lkIDApLFQoW0hlKCJhbWJpZW50VGV4dHVyZSIpXSxlLnByb3RvdHlwZSwiX2FtYmllbnRUZXh0dXJlIix2b2lkIDApLFQoW29lKCJfbWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNEaXJ0eSIpXSxlLnByb3RvdHlwZSwiYW1iaWVudFRleHR1cmUiLHZvaWQgMCksVChbSGUoIm9wYWNpdHlUZXh0dXJlIildLGUucHJvdG90eXBlLCJfb3BhY2l0eVRleHR1cmUiLHZvaWQgMCksVChbb2UoIl9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0FuZE1pc2NEaXJ0eSIpXSxlLnByb3RvdHlwZSwib3BhY2l0eVRleHR1cmUiLHZvaWQgMCksVChbSGUoInJlZmxlY3Rpb25UZXh0dXJlIildLGUucHJvdG90eXBlLCJfcmVmbGVjdGlvblRleHR1cmUiLHZvaWQgMCksVChbb2UoIl9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0RpcnR5IildLGUucHJvdG90eXBlLCJyZWZsZWN0aW9uVGV4dHVyZSIsdm9pZCAwKSxUKFtIZSgiZW1pc3NpdmVUZXh0dXJlIildLGUucHJvdG90eXBlLCJfZW1pc3NpdmVUZXh0dXJlIix2b2lkIDApLFQoW29lKCJfbWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNEaXJ0eSIpXSxlLnByb3RvdHlwZSwiZW1pc3NpdmVUZXh0dXJlIix2b2lkIDApLFQoW0hlKCJzcGVjdWxhclRleHR1cmUiKV0sZS5wcm90b3R5cGUsIl9zcGVjdWxhclRleHR1cmUiLHZvaWQgMCksVChbb2UoIl9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0RpcnR5IildLGUucHJvdG90eXBlLCJzcGVjdWxhclRleHR1cmUiLHZvaWQgMCksVChbSGUoImJ1bXBUZXh0dXJlIildLGUucHJvdG90eXBlLCJfYnVtcFRleHR1cmUiLHZvaWQgMCksVChbb2UoIl9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0RpcnR5IildLGUucHJvdG90eXBlLCJidW1wVGV4dHVyZSIsdm9pZCAwKSxUKFtIZSgibGlnaHRtYXBUZXh0dXJlIildLGUucHJvdG90eXBlLCJfbGlnaHRtYXBUZXh0dXJlIix2b2lkIDApLFQoW29lKCJfbWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNEaXJ0eSIpXSxlLnByb3RvdHlwZSwibGlnaHRtYXBUZXh0dXJlIix2b2lkIDApLFQoW0hlKCJyZWZyYWN0aW9uVGV4dHVyZSIpXSxlLnByb3RvdHlwZSwiX3JlZnJhY3Rpb25UZXh0dXJlIix2b2lkIDApLFQoW29lKCJfbWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNEaXJ0eSIpXSxlLnByb3RvdHlwZSwicmVmcmFjdGlvblRleHR1cmUiLHZvaWQgMCksVChbRnQoImFtYmllbnQiKV0sZS5wcm90b3R5cGUsImFtYmllbnRDb2xvciIsdm9pZCAwKSxUKFtGdCgiZGlmZnVzZSIpXSxlLnByb3RvdHlwZSwiZGlmZnVzZUNvbG9yIix2b2lkIDApLFQoW0Z0KCJzcGVjdWxhciIpXSxlLnByb3RvdHlwZSwic3BlY3VsYXJDb2xvciIsdm9pZCAwKSxUKFtGdCgiZW1pc3NpdmUiKV0sZS5wcm90b3R5cGUsImVtaXNzaXZlQ29sb3IiLHZvaWQgMCksVChbUCgpXSxlLnByb3RvdHlwZSwic3BlY3VsYXJQb3dlciIsdm9pZCAwKSxUKFtQKCJ1c2VBbHBoYUZyb21EaWZmdXNlVGV4dHVyZSIpXSxlLnByb3RvdHlwZSwiX3VzZUFscGhhRnJvbURpZmZ1c2VUZXh0dXJlIix2b2lkIDApLFQoW29lKCJfbWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNBbmRNaXNjRGlydHkiKV0sZS5wcm90b3R5cGUsInVzZUFscGhhRnJvbURpZmZ1c2VUZXh0dXJlIix2b2lkIDApLFQoW1AoInVzZUVtaXNzaXZlQXNJbGx1bWluYXRpb24iKV0sZS5wcm90b3R5cGUsIl91c2VFbWlzc2l2ZUFzSWxsdW1pbmF0aW9uIix2b2lkIDApLFQoW29lKCJfbWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNEaXJ0eSIpXSxlLnByb3RvdHlwZSwidXNlRW1pc3NpdmVBc0lsbHVtaW5hdGlvbiIsdm9pZCAwKSxUKFtQKCJsaW5rRW1pc3NpdmVXaXRoRGlmZnVzZSIpXSxlLnByb3RvdHlwZSwiX2xpbmtFbWlzc2l2ZVdpdGhEaWZmdXNlIix2b2lkIDApLFQoW29lKCJfbWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNEaXJ0eSIpXSxlLnByb3RvdHlwZSwibGlua0VtaXNzaXZlV2l0aERpZmZ1c2UiLHZvaWQgMCksVChbUCgidXNlU3BlY3VsYXJPdmVyQWxwaGEiKV0sZS5wcm90b3R5cGUsIl91c2VTcGVjdWxhck92ZXJBbHBoYSIsdm9pZCAwKSxUKFtvZSgiX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHkiKV0sZS5wcm90b3R5cGUsInVzZVNwZWN1bGFyT3ZlckFscGhhIix2b2lkIDApLFQoW1AoInVzZVJlZmxlY3Rpb25PdmVyQWxwaGEiKV0sZS5wcm90b3R5cGUsIl91c2VSZWZsZWN0aW9uT3ZlckFscGhhIix2b2lkIDApLFQoW29lKCJfbWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNEaXJ0eSIpXSxlLnByb3RvdHlwZSwidXNlUmVmbGVjdGlvbk92ZXJBbHBoYSIsdm9pZCAwKSxUKFtQKCJkaXNhYmxlTGlnaHRpbmciKV0sZS5wcm90b3R5cGUsIl9kaXNhYmxlTGlnaHRpbmciLHZvaWQgMCksVChbb2UoIl9tYXJrQWxsU3ViTWVzaGVzQXNMaWdodHNEaXJ0eSIpXSxlLnByb3RvdHlwZSwiZGlzYWJsZUxpZ2h0aW5nIix2b2lkIDApLFQoW1AoInVzZU9iamVjdFNwYWNlTm9ybWFsTWFwIildLGUucHJvdG90eXBlLCJfdXNlT2JqZWN0U3BhY2VOb3JtYWxNYXAiLHZvaWQgMCksVChbb2UoIl9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0RpcnR5IildLGUucHJvdG90eXBlLCJ1c2VPYmplY3RTcGFjZU5vcm1hbE1hcCIsdm9pZCAwKSxUKFtQKCJ1c2VQYXJhbGxheCIpXSxlLnByb3RvdHlwZSwiX3VzZVBhcmFsbGF4Iix2b2lkIDApLFQoW29lKCJfbWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNEaXJ0eSIpXSxlLnByb3RvdHlwZSwidXNlUGFyYWxsYXgiLHZvaWQgMCksVChbUCgidXNlUGFyYWxsYXhPY2NsdXNpb24iKV0sZS5wcm90b3R5cGUsIl91c2VQYXJhbGxheE9jY2x1c2lvbiIsdm9pZCAwKSxUKFtvZSgiX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHkiKV0sZS5wcm90b3R5cGUsInVzZVBhcmFsbGF4T2NjbHVzaW9uIix2b2lkIDApLFQoW1AoKV0sZS5wcm90b3R5cGUsInBhcmFsbGF4U2NhbGVCaWFzIix2b2lkIDApLFQoW1AoInJvdWdobmVzcyIpXSxlLnByb3RvdHlwZSwiX3JvdWdobmVzcyIsdm9pZCAwKSxUKFtvZSgiX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHkiKV0sZS5wcm90b3R5cGUsInJvdWdobmVzcyIsdm9pZCAwKSxUKFtQKCldLGUucHJvdG90eXBlLCJpbmRleE9mUmVmcmFjdGlvbiIsdm9pZCAwKSxUKFtQKCldLGUucHJvdG90eXBlLCJpbnZlcnRSZWZyYWN0aW9uWSIsdm9pZCAwKSxUKFtQKCldLGUucHJvdG90eXBlLCJhbHBoYUN1dE9mZiIsdm9pZCAwKSxUKFtQKCJ1c2VMaWdodG1hcEFzU2hhZG93bWFwIildLGUucHJvdG90eXBlLCJfdXNlTGlnaHRtYXBBc1NoYWRvd21hcCIsdm9pZCAwKSxUKFtvZSgiX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHkiKV0sZS5wcm90b3R5cGUsInVzZUxpZ2h0bWFwQXNTaGFkb3dtYXAiLHZvaWQgMCksVChbcnIoImRpZmZ1c2VGcmVzbmVsUGFyYW1ldGVycyIpXSxlLnByb3RvdHlwZSwiX2RpZmZ1c2VGcmVzbmVsUGFyYW1ldGVycyIsdm9pZCAwKSxUKFtvZSgiX21hcmtBbGxTdWJNZXNoZXNBc0ZyZXNuZWxEaXJ0eSIpXSxlLnByb3RvdHlwZSwiZGlmZnVzZUZyZXNuZWxQYXJhbWV0ZXJzIix2b2lkIDApLFQoW3JyKCJvcGFjaXR5RnJlc25lbFBhcmFtZXRlcnMiKV0sZS5wcm90b3R5cGUsIl9vcGFjaXR5RnJlc25lbFBhcmFtZXRlcnMiLHZvaWQgMCksVChbb2UoIl9tYXJrQWxsU3ViTWVzaGVzQXNGcmVzbmVsQW5kTWlzY0RpcnR5IildLGUucHJvdG90eXBlLCJvcGFjaXR5RnJlc25lbFBhcmFtZXRlcnMiLHZvaWQgMCksVChbcnIoInJlZmxlY3Rpb25GcmVzbmVsUGFyYW1ldGVycyIpXSxlLnByb3RvdHlwZSwiX3JlZmxlY3Rpb25GcmVzbmVsUGFyYW1ldGVycyIsdm9pZCAwKSxUKFtvZSgiX21hcmtBbGxTdWJNZXNoZXNBc0ZyZXNuZWxEaXJ0eSIpXSxlLnByb3RvdHlwZSwicmVmbGVjdGlvbkZyZXNuZWxQYXJhbWV0ZXJzIix2b2lkIDApLFQoW3JyKCJyZWZyYWN0aW9uRnJlc25lbFBhcmFtZXRlcnMiKV0sZS5wcm90b3R5cGUsIl9yZWZyYWN0aW9uRnJlc25lbFBhcmFtZXRlcnMiLHZvaWQgMCksVChbb2UoIl9tYXJrQWxsU3ViTWVzaGVzQXNGcmVzbmVsRGlydHkiKV0sZS5wcm90b3R5cGUsInJlZnJhY3Rpb25GcmVzbmVsUGFyYW1ldGVycyIsdm9pZCAwKSxUKFtycigiZW1pc3NpdmVGcmVzbmVsUGFyYW1ldGVycyIpXSxlLnByb3RvdHlwZSwiX2VtaXNzaXZlRnJlc25lbFBhcmFtZXRlcnMiLHZvaWQgMCksVChbb2UoIl9tYXJrQWxsU3ViTWVzaGVzQXNGcmVzbmVsRGlydHkiKV0sZS5wcm90b3R5cGUsImVtaXNzaXZlRnJlc25lbFBhcmFtZXRlcnMiLHZvaWQgMCksVChbUCgidXNlUmVmbGVjdGlvbkZyZXNuZWxGcm9tU3BlY3VsYXIiKV0sZS5wcm90b3R5cGUsIl91c2VSZWZsZWN0aW9uRnJlc25lbEZyb21TcGVjdWxhciIsdm9pZCAwKSxUKFtvZSgiX21hcmtBbGxTdWJNZXNoZXNBc0ZyZXNuZWxEaXJ0eSIpXSxlLnByb3RvdHlwZSwidXNlUmVmbGVjdGlvbkZyZXNuZWxGcm9tU3BlY3VsYXIiLHZvaWQgMCksVChbUCgidXNlR2xvc3NpbmVzc0Zyb21TcGVjdWxhck1hcEFscGhhIildLGUucHJvdG90eXBlLCJfdXNlR2xvc3NpbmVzc0Zyb21TcGVjdWxhck1hcEFscGhhIix2b2lkIDApLFQoW29lKCJfbWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNEaXJ0eSIpXSxlLnByb3RvdHlwZSwidXNlR2xvc3NpbmVzc0Zyb21TcGVjdWxhck1hcEFscGhhIix2b2lkIDApLFQoW1AoIm1heFNpbXVsdGFuZW91c0xpZ2h0cyIpXSxlLnByb3RvdHlwZSwiX21heFNpbXVsdGFuZW91c0xpZ2h0cyIsdm9pZCAwKSxUKFtvZSgiX21hcmtBbGxTdWJNZXNoZXNBc0xpZ2h0c0RpcnR5IildLGUucHJvdG90eXBlLCJtYXhTaW11bHRhbmVvdXNMaWdodHMiLHZvaWQgMCksVChbUCgiaW52ZXJ0Tm9ybWFsTWFwWCIpXSxlLnByb3RvdHlwZSwiX2ludmVydE5vcm1hbE1hcFgiLHZvaWQgMCksVChbb2UoIl9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0RpcnR5IildLGUucHJvdG90eXBlLCJpbnZlcnROb3JtYWxNYXBYIix2b2lkIDApLFQoW1AoImludmVydE5vcm1hbE1hcFkiKV0sZS5wcm90b3R5cGUsIl9pbnZlcnROb3JtYWxNYXBZIix2b2lkIDApLFQoW29lKCJfbWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNEaXJ0eSIpXSxlLnByb3RvdHlwZSwiaW52ZXJ0Tm9ybWFsTWFwWSIsdm9pZCAwKSxUKFtQKCJ0d29TaWRlZExpZ2h0aW5nIildLGUucHJvdG90eXBlLCJfdHdvU2lkZWRMaWdodGluZyIsdm9pZCAwKSxUKFtvZSgiX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHkiKV0sZS5wcm90b3R5cGUsInR3b1NpZGVkTGlnaHRpbmciLHZvaWQgMCksVChbUCgpXSxlLnByb3RvdHlwZSwidXNlTG9nYXJpdGhtaWNEZXB0aCIsbnVsbCksZX0oRW4pO3dlKCJCQUJZTE9OLlN0YW5kYXJkTWF0ZXJpYWwiLHNyKSxyZS5EZWZhdWx0TWF0ZXJpYWxGYWN0b3J5PWZ1bmN0aW9uKGkpe3JldHVybiBuZXcgc3IoImRlZmF1bHQgbWF0ZXJpYWwiLGkpfTt2YXIgX2Y9ImltYWdlUHJvY2Vzc2luZ0NvbXBhdGliaWxpdHkiLGdmPWAjaWZkZWYgSU1BR0VQUk9DRVNTSU5HUE9TVFBST0NFU1MKZ2xfRnJhZ0NvbG9yLnJnYj1wb3coZ2xfRnJhZ0NvbG9yLnJnYix2ZWMzKDIuMikpOwojZW5kaWYKYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW19mXT1nZjt2YXIgdmY9InNoYWRvd09ubHlQaXhlbFNoYWRlciIsbWY9YHByZWNpc2lvbiBoaWdocCBmbG9hdDsKdW5pZm9ybSB2ZWM0IHZFeWVQb3NpdGlvbjsKdW5pZm9ybSBmbG9hdCBhbHBoYTsKdW5pZm9ybSB2ZWMzIHNoYWRvd0NvbG9yOwp2YXJ5aW5nIHZlYzMgdlBvc2l0aW9uVzsKI2lmZGVmIE5PUk1BTAp2YXJ5aW5nIHZlYzMgdk5vcm1hbFc7CiNlbmRpZgojaW5jbHVkZTxoZWxwZXJGdW5jdGlvbnM+CiNpbmNsdWRlPF9fZGVjbF9fbGlnaHRGcmFnbWVudD5bMC4ubWF4U2ltdWx0YW5lb3VzTGlnaHRzXQojaW5jbHVkZTxsaWdodHNGcmFnbWVudEZ1bmN0aW9ucz4KI2luY2x1ZGU8c2hhZG93c0ZyYWdtZW50RnVuY3Rpb25zPgojaW5jbHVkZTxjbGlwUGxhbmVGcmFnbWVudERlY2xhcmF0aW9uPgojaW5jbHVkZTxmb2dGcmFnbWVudERlY2xhcmF0aW9uPgojZGVmaW5lIENVU1RPTV9GUkFHTUVOVF9ERUZJTklUSU9OUwp2b2lkIG1haW4odm9pZCkgewojZGVmaW5lIENVU1RPTV9GUkFHTUVOVF9NQUlOX0JFR0lOCiNpbmNsdWRlPGNsaXBQbGFuZUZyYWdtZW50Pgp2ZWMzIHZpZXdEaXJlY3Rpb25XPW5vcm1hbGl6ZSh2RXllUG9zaXRpb24ueHl6LXZQb3NpdGlvblcpOwojaWZkZWYgTk9STUFMCnZlYzMgbm9ybWFsVz1ub3JtYWxpemUodk5vcm1hbFcpOwojZWxzZQp2ZWMzIG5vcm1hbFc9dmVjMygxLjAsMS4wLDEuMCk7CiNlbmRpZgp2ZWMzIGRpZmZ1c2VCYXNlPXZlYzMoMC4sMC4sMC4pOwpsaWdodGluZ0luZm8gaW5mbzsKZmxvYXQgc2hhZG93PTEuOwpmbG9hdCBnbG9zc2luZXNzPTAuOwojaW5jbHVkZTxsaWdodEZyYWdtZW50PlswLi4xXQp2ZWM0IGNvbG9yPXZlYzQoc2hhZG93Q29sb3IsKDEuMC1jbGFtcChzaGFkb3csMC4sMS4pKSphbHBoYSk7CiNpbmNsdWRlPGZvZ0ZyYWdtZW50PgpnbF9GcmFnQ29sb3I9Y29sb3I7CiNpbmNsdWRlPGltYWdlUHJvY2Vzc2luZ0NvbXBhdGliaWxpdHk+CiNkZWZpbmUgQ1VTVE9NX0ZSQUdNRU5UX01BSU5fRU5ECn1gO0wuU2hhZGVyc1N0b3JlW3ZmXT1tZjt2YXIgeWY9InNoYWRvd09ubHlWZXJ0ZXhTaGFkZXIiLGJmPWBwcmVjaXNpb24gaGlnaHAgZmxvYXQ7CmF0dHJpYnV0ZSB2ZWMzIHBvc2l0aW9uOwojaWZkZWYgTk9STUFMCmF0dHJpYnV0ZSB2ZWMzIG5vcm1hbDsKI2VuZGlmCiNpbmNsdWRlPGJvbmVzRGVjbGFyYXRpb24+CiNpbmNsdWRlPGJha2VkVmVydGV4QW5pbWF0aW9uRGVjbGFyYXRpb24+CiNpbmNsdWRlPGluc3RhbmNlc0RlY2xhcmF0aW9uPgp1bmlmb3JtIG1hdDQgdmlldzsKdW5pZm9ybSBtYXQ0IHZpZXdQcm9qZWN0aW9uOwojaWZkZWYgUE9JTlRTSVpFCnVuaWZvcm0gZmxvYXQgcG9pbnRTaXplOwojZW5kaWYKdmFyeWluZyB2ZWMzIHZQb3NpdGlvblc7CiNpZmRlZiBOT1JNQUwKdmFyeWluZyB2ZWMzIHZOb3JtYWxXOwojZW5kaWYKI2lmZGVmIFZFUlRFWENPTE9SCnZhcnlpbmcgdmVjNCB2Q29sb3I7CiNlbmRpZgojaW5jbHVkZTxjbGlwUGxhbmVWZXJ0ZXhEZWNsYXJhdGlvbj4KI2luY2x1ZGU8Zm9nVmVydGV4RGVjbGFyYXRpb24+CiNpbmNsdWRlPF9fZGVjbF9fbGlnaHRGcmFnbWVudD5bMC4ubWF4U2ltdWx0YW5lb3VzTGlnaHRzXQojZGVmaW5lIENVU1RPTV9WRVJURVhfREVGSU5JVElPTlMKdm9pZCBtYWluKHZvaWQpIHsKI2RlZmluZSBDVVNUT01fVkVSVEVYX01BSU5fQkVHSU4KI2luY2x1ZGU8aW5zdGFuY2VzVmVydGV4PgojaW5jbHVkZTxib25lc1ZlcnRleD4KI2luY2x1ZGU8YmFrZWRWZXJ0ZXhBbmltYXRpb24+CnZlYzQgd29ybGRQb3M9ZmluYWxXb3JsZCp2ZWM0KHBvc2l0aW9uLDEuMCk7CmdsX1Bvc2l0aW9uPXZpZXdQcm9qZWN0aW9uKndvcmxkUG9zOwp2UG9zaXRpb25XPXZlYzMod29ybGRQb3MpOwojaWZkZWYgTk9STUFMCnZOb3JtYWxXPW5vcm1hbGl6ZSh2ZWMzKGZpbmFsV29ybGQqdmVjNChub3JtYWwsMC4wKSkpOwojZW5kaWYKI2luY2x1ZGU8Y2xpcFBsYW5lVmVydGV4PgojaW5jbHVkZTxmb2dWZXJ0ZXg+CiNpbmNsdWRlPHNoYWRvd3NWZXJ0ZXg+WzAuLm1heFNpbXVsdGFuZW91c0xpZ2h0c10KI2lmIGRlZmluZWQoUE9JTlRTSVpFKSAmJiAhZGVmaW5lZChXRUJHUFUpCmdsX1BvaW50U2l6ZT1wb2ludFNpemU7CiNlbmRpZgojZGVmaW5lIENVU1RPTV9WRVJURVhfTUFJTl9FTkQKfQpgO0wuU2hhZGVyc1N0b3JlW3lmXT1iZjt2YXIgRWY9ZnVuY3Rpb24oaSl7SyhlLGkpO2Z1bmN0aW9uIGUoKXt2YXIgdD1pLmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIHQuQ0xJUFBMQU5FPSExLHQuQ0xJUFBMQU5FMj0hMSx0LkNMSVBQTEFORTM9ITEsdC5DTElQUExBTkU0PSExLHQuQ0xJUFBMQU5FNT0hMSx0LkNMSVBQTEFORTY9ITEsdC5QT0lOVFNJWkU9ITEsdC5GT0c9ITEsdC5OT1JNQUw9ITEsdC5OVU1fQk9ORV9JTkZMVUVOQ0VSUz0wLHQuQm9uZXNQZXJNZXNoPTAsdC5JTlNUQU5DRVM9ITEsdC5JTUFHRVBST0NFU1NJTkdQT1NUUFJPQ0VTUz0hMSx0LlNLSVBGSU5BTENPTE9SQ0xBTVA9ITEsdC5yZWJ1aWxkKCksdH1yZXR1cm4gZX0oYnIpLFRuPWZ1bmN0aW9uKGkpe0soZSxpKTtmdW5jdGlvbiBlKHQscil7dmFyIG49aS5jYWxsKHRoaXMsdCxyKXx8dGhpcztyZXR1cm4gbi5fbmVlZEFscGhhQmxlbmRpbmc9ITAsbi5zaGFkb3dDb2xvcj1iZS5CbGFjaygpLG59cmV0dXJuIGUucHJvdG90eXBlLm5lZWRBbHBoYUJsZW5kaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX25lZWRBbHBoYUJsZW5kaW5nfSxlLnByb3RvdHlwZS5uZWVkQWxwaGFUZXN0aW5nPWZ1bmN0aW9uKCl7cmV0dXJuITF9LGUucHJvdG90eXBlLmdldEFscGhhVGVzdFRleHR1cmU9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJhY3RpdmVMaWdodCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9hY3RpdmVMaWdodH0sc2V0OmZ1bmN0aW9uKHQpe3RoaXMuX2FjdGl2ZUxpZ2h0PXR9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuX2dldEZpcnN0U2hhZG93TGlnaHRGb3JNZXNoPWZ1bmN0aW9uKHQpe2Zvcih2YXIgcj0wLG49dC5saWdodFNvdXJjZXM7cjxuLmxlbmd0aDtyKyspe3ZhciBhPW5bcl07aWYoYS5zaGFkb3dFbmFibGVkKXJldHVybiBhfXJldHVybiBudWxsfSxlLnByb3RvdHlwZS5pc1JlYWR5Rm9yU3ViTWVzaD1mdW5jdGlvbih0LHIsbil7dmFyIGE7aWYodGhpcy5pc0Zyb3plbiYmci5lZmZlY3QmJnIuZWZmZWN0Ll93YXNQcmV2aW91c2x5UmVhZHkpcmV0dXJuITA7ci5tYXRlcmlhbERlZmluZXN8fChyLm1hdGVyaWFsRGVmaW5lcz1uZXcgRWYpO3ZhciBzPXIubWF0ZXJpYWxEZWZpbmVzLG89dGhpcy5nZXRTY2VuZSgpO2lmKHRoaXMuX2lzUmVhZHlGb3JTdWJNZXNoKHIpKXJldHVybiEwO3ZhciB1PW8uZ2V0RW5naW5lKCk7aWYodGhpcy5fYWN0aXZlTGlnaHQpZm9yKHZhciBmPTAsbD10LmxpZ2h0U291cmNlcztmPGwubGVuZ3RoO2YrKyl7dmFyIGg9bFtmXTtpZihoLnNoYWRvd0VuYWJsZWQpe2lmKHRoaXMuX2FjdGl2ZUxpZ2h0PT09aClicmVhazt2YXIgYz10LmxpZ2h0U291cmNlcy5pbmRleE9mKHRoaXMuX2FjdGl2ZUxpZ2h0KTtjIT09LTEmJih0LmxpZ2h0U291cmNlcy5zcGxpY2UoYywxKSx0LmxpZ2h0U291cmNlcy5zcGxpY2UoMCwwLHRoaXMuX2FjdGl2ZUxpZ2h0KSk7YnJlYWt9fVkuUHJlcGFyZURlZmluZXNGb3JGcmFtZUJvdW5kVmFsdWVzKG8sdSxzLCEhbiksWS5QcmVwYXJlRGVmaW5lc0Zvck1pc2ModCxvLCExLHRoaXMucG9pbnRzQ2xvdWQsdGhpcy5mb2dFbmFibGVkLHRoaXMuX3Nob3VsZFR1cm5BbHBoYVRlc3RPbih0KSxzKSxzLl9uZWVkTm9ybWFscz1ZLlByZXBhcmVEZWZpbmVzRm9yTGlnaHRzKG8sdCxzLCExLDEpO3ZhciBkPShhPXRoaXMuX2dldEZpcnN0U2hhZG93TGlnaHRGb3JNZXNoKHQpKT09PW51bGx8fGE9PT12b2lkIDA/dm9pZCAwOmEuZ2V0U2hhZG93R2VuZXJhdG9yKCk7aWYodGhpcy5fbmVlZEFscGhhQmxlbmRpbmc9ITAsZCYmZC5nZXRDbGFzc05hbWUmJmQuZ2V0Q2xhc3NOYW1lKCk9PT0iQ2FzY2FkZWRTaGFkb3dHZW5lcmF0b3IiKXt2YXIgcD1kO3RoaXMuX25lZWRBbHBoYUJsZW5kaW5nPSFwLmF1dG9DYWxjRGVwdGhCb3VuZHN9aWYoWS5QcmVwYXJlRGVmaW5lc0ZvckF0dHJpYnV0ZXModCxzLCExLCEwKSxzLmlzRGlydHkpe3MubWFya0FzUHJvY2Vzc2VkKCksby5yZXNldENhY2hlZE1hdGVyaWFsKCk7dmFyIGc9bmV3IHBpO3MuRk9HJiZnLmFkZEZhbGxiYWNrKDEsIkZPRyIpLFkuSGFuZGxlRmFsbGJhY2tzRm9yU2hhZG93cyhzLGcsMSkscy5OVU1fQk9ORV9JTkZMVUVOQ0VSUz4wJiZnLmFkZENQVVNraW5uaW5nRmFsbGJhY2soMCx0KSxzLklNQUdFUFJPQ0VTU0lOR1BPU1RQUk9DRVNTPW8uaW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbi5hcHBseUJ5UG9zdFByb2Nlc3M7dmFyIF89W20uUG9zaXRpb25LaW5kXTtzLk5PUk1BTCYmXy5wdXNoKG0uTm9ybWFsS2luZCksWS5QcmVwYXJlQXR0cmlidXRlc0ZvckJvbmVzKF8sdCxzLGcpLFkuUHJlcGFyZUF0dHJpYnV0ZXNGb3JJbnN0YW5jZXMoXyxzKTt2YXIgdj0ic2hhZG93T25seSIseT1zLnRvU3RyaW5nKCksRT1bIndvcmxkIiwidmlldyIsInZpZXdQcm9qZWN0aW9uIiwidkV5ZVBvc2l0aW9uIiwidkxpZ2h0c1R5cGUiLCJ2Rm9nSW5mb3MiLCJ2Rm9nQ29sb3IiLCJwb2ludFNpemUiLCJhbHBoYSIsInNoYWRvd0NvbG9yIiwibUJvbmVzIiwidkNsaXBQbGFuZSIsInZDbGlwUGxhbmUyIiwidkNsaXBQbGFuZTMiLCJ2Q2xpcFBsYW5lNCIsInZDbGlwUGxhbmU1IiwidkNsaXBQbGFuZTYiXSxSPW5ldyBBcnJheSxNPW5ldyBBcnJheTtZLlByZXBhcmVVbmlmb3Jtc0FuZFNhbXBsZXJzTGlzdCh7dW5pZm9ybXNOYW1lczpFLHVuaWZvcm1CdWZmZXJzTmFtZXM6TSxzYW1wbGVyczpSLGRlZmluZXM6cyxtYXhTaW11bHRhbmVvdXNMaWdodHM6MX0pLHIuc2V0RWZmZWN0KG8uZ2V0RW5naW5lKCkuY3JlYXRlRWZmZWN0KHYse2F0dHJpYnV0ZXM6Xyx1bmlmb3Jtc05hbWVzOkUsdW5pZm9ybUJ1ZmZlcnNOYW1lczpNLHNhbXBsZXJzOlIsZGVmaW5lczp5LGZhbGxiYWNrczpnLG9uQ29tcGlsZWQ6dGhpcy5vbkNvbXBpbGVkLG9uRXJyb3I6dGhpcy5vbkVycm9yLGluZGV4UGFyYW1ldGVyczp7bWF4U2ltdWx0YW5lb3VzTGlnaHRzOjF9fSx1KSxzLHRoaXMuX21hdGVyaWFsQ29udGV4dCl9cmV0dXJuIXIuZWZmZWN0fHwhci5lZmZlY3QuaXNSZWFkeSgpPyExOihzLl9yZW5kZXJJZD1vLmdldFJlbmRlcklkKCksci5lZmZlY3QuX3dhc1ByZXZpb3VzbHlSZWFkeT0hMCwhMCl9LGUucHJvdG90eXBlLmJpbmRGb3JTdWJNZXNoPWZ1bmN0aW9uKHQscixuKXt2YXIgYT10aGlzLmdldFNjZW5lKCkscz1uLm1hdGVyaWFsRGVmaW5lcztpZighIXMpe3ZhciBvPW4uZWZmZWN0O2lmKCEhbyl7aWYodGhpcy5fYWN0aXZlRWZmZWN0PW8sdGhpcy5iaW5kT25seVdvcmxkTWF0cml4KHQpLHRoaXMuX2FjdGl2ZUVmZmVjdC5zZXRNYXRyaXgoInZpZXdQcm9qZWN0aW9uIixhLmdldFRyYW5zZm9ybU1hdHJpeCgpKSxZLkJpbmRCb25lc1BhcmFtZXRlcnMocix0aGlzLl9hY3RpdmVFZmZlY3QpLHRoaXMuX211c3RSZWJpbmQoYSxvKSYmKFkuQmluZENsaXBQbGFuZSh0aGlzLl9hY3RpdmVFZmZlY3QsYSksdGhpcy5wb2ludHNDbG91ZCYmdGhpcy5fYWN0aXZlRWZmZWN0LnNldEZsb2F0KCJwb2ludFNpemUiLHRoaXMucG9pbnRTaXplKSx0aGlzLl9hY3RpdmVFZmZlY3Quc2V0RmxvYXQoImFscGhhIix0aGlzLmFscGhhKSx0aGlzLl9hY3RpdmVFZmZlY3Quc2V0Q29sb3IzKCJzaGFkb3dDb2xvciIsdGhpcy5zaGFkb3dDb2xvciksYS5iaW5kRXllUG9zaXRpb24obykpLGEubGlnaHRzRW5hYmxlZCl7WS5CaW5kTGlnaHRzKGEscix0aGlzLl9hY3RpdmVFZmZlY3QscywxKTt2YXIgdT10aGlzLl9nZXRGaXJzdFNoYWRvd0xpZ2h0Rm9yTWVzaChyKTt1JiYodS5fcmVuZGVySWQ9LTEpfShhLmZvZ0VuYWJsZWQmJnIuYXBwbHlGb2cmJmEuZm9nTW9kZSE9PXJlLkZPR01PREVfTk9ORXx8cy5TSEFET1dDU00wKSYmdGhpcy5fYWN0aXZlRWZmZWN0LnNldE1hdHJpeCgidmlldyIsYS5nZXRWaWV3TWF0cml4KCkpLFkuQmluZEZvZ1BhcmFtZXRlcnMoYSxyLHRoaXMuX2FjdGl2ZUVmZmVjdCksdGhpcy5fYWZ0ZXJCaW5kKHIsdGhpcy5fYWN0aXZlRWZmZWN0KX19fSxlLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbih0KXt2YXIgcj10aGlzO3JldHVybiB0ZS5DbG9uZShmdW5jdGlvbigpe3JldHVybiBuZXcgZSh0LHIuZ2V0U2NlbmUoKSl9LHRoaXMpfSxlLnByb3RvdHlwZS5zZXJpYWxpemU9ZnVuY3Rpb24oKXt2YXIgdD1pLnByb3RvdHlwZS5zZXJpYWxpemUuY2FsbCh0aGlzKTtyZXR1cm4gdC5jdXN0b21UeXBlPSJCQUJZTE9OLlNoYWRvd09ubHlNYXRlcmlhbCIsdH0sZS5wcm90b3R5cGUuZ2V0Q2xhc3NOYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIlNoYWRvd09ubHlNYXRlcmlhbCJ9LGUuUGFyc2U9ZnVuY3Rpb24odCxyLG4pe3JldHVybiB0ZS5QYXJzZShmdW5jdGlvbigpe3JldHVybiBuZXcgZSh0Lm5hbWUscil9LHQscixuKX0sZX0oRW4pO3dlKCJCQUJZTE9OLlNoYWRvd09ubHlNYXRlcmlhbCIsVG4pO2NvbnN0IFRmPXthc3BlY3Q6MzAwLzE1MCxlbmFibGVEZWJ1Z2dpbmc6ITEsZW5hYmxlU2hhZG93czohMH07Y2xhc3MgU2Z7Y29uc3RydWN0b3IoZSl7cWUodGhpcywic2l6ZSIsOS41KTt0aGlzLmNvbmZpZz1mdChmdCh7fSxUZiksZSksdGhpcy5jcmVhdGUoKX1jcmVhdGUoZSl7dGhpcy5kZXN0cm95KCksT2JqZWN0LmFzc2lnbih0aGlzLmNvbmZpZyxlKTtjb25zdHthc3BlY3Q6dCxlbmFibGVEZWJ1Z2dpbmc6cj0hMCxlbmFibGVTaGFkb3dzOm59PXRoaXMuY29uZmlnLGE9MzA7bGV0IHM7dGhpcy5ib3g9bmV3IEplKCJkaWNlQm94Iikscj8ocz1uZXcgc3IoImRpY2VCb3hfbWF0ZXJpYWwiKSxzLmFscGhhPS43LHMuZGlmZnVzZUNvbG9yPW5ldyBiZSgxLDEsMCkpOm4mJihzPW5ldyBUbigic2hhZG93T25seSIsdGhpcy5jb25maWcuc2NlbmUpKTtjb25zdCBvPXp0KCJncm91bmQiLHt3aWR0aDp0aGlzLnNpemUqMixoZWlnaHQ6MSxkZXB0aDp0aGlzLnNpemUqMn0sdGhpcy5jb25maWcuc2NlbmUpO2lmKG8uc2NhbGluZz1uZXcgYih0LDEsMSksby5tYXRlcmlhbD1zLG8ucmVjZWl2ZVNoYWRvd3M9ITAsby5zZXRQYXJlbnQodGhpcy5ib3gpLHIpe2NvbnN0IHU9enQoIndhbGxUb3AiLHt3aWR0aDp0aGlzLnNpemUsaGVpZ2h0OmEsZGVwdGg6MX0sdGhpcy5jb25maWcuc2NlbmUpO3UucG9zaXRpb24ueT1hLzIsdS5wb3NpdGlvbi56PXRoaXMuc2l6ZS8tMix1LnNjYWxpbmc9bmV3IGIodCwxLDEpLHUubWF0ZXJpYWw9cyx1LnNldFBhcmVudCh0aGlzLmJveCk7Y29uc3QgZj16dCgid2FsbFJpZ2h0Iix7d2lkdGg6MSxoZWlnaHQ6YSxkZXB0aDp0aGlzLnNpemV9LHRoaXMuY29uZmlnLnNjZW5lKTtmLnBvc2l0aW9uLng9dGhpcy5zaXplKnQvMixmLnBvc2l0aW9uLnk9YS8yLGYubWF0ZXJpYWw9cyxmLnNldFBhcmVudCh0aGlzLmJveCk7Y29uc3QgbD16dCgid2FsbEJvdHRvbSIse3dpZHRoOnRoaXMuc2l6ZSxoZWlnaHQ6YSxkZXB0aDoxfSx0aGlzLmNvbmZpZy5zY2VuZSk7bC5wb3NpdGlvbi55PWEvMixsLnBvc2l0aW9uLno9dGhpcy5zaXplLzIsbC5zY2FsaW5nPW5ldyBiKHQsMSwxKSxsLm1hdGVyaWFsPXMsbC5zZXRQYXJlbnQodGhpcy5ib3gpO2NvbnN0IGg9enQoIndhbGxMZWZ0Iix7d2lkdGg6MSxoZWlnaHQ6YSxkZXB0aDp0aGlzLnNpemV9LHRoaXMuY29uZmlnLnNjZW5lKTtoLnBvc2l0aW9uLng9dGhpcy5zaXplKnQvLTIsaC5wb3NpdGlvbi55PWEvMixoLm1hdGVyaWFsPXMsaC5zZXRQYXJlbnQodGhpcy5ib3gpfX1kZXN0cm95KCl7dGhpcy5ib3gmJnRoaXMuYm94LmRpc3Bvc2UoKX19dmFyIFJ0OyhmdW5jdGlvbihpKXtpW2kuQ2xlYW49MF09IkNsZWFuIixpW2kuU3RvcD0xXT0iU3RvcCIsaVtpLlN5bmM9Ml09IlN5bmMiLGlbaS5Ob1N5bmM9M109Ik5vU3luYyJ9KShSdHx8KFJ0PXt9KSk7dmFyIEtlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gaSgpe31yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGksIkZvcmNlRnVsbFNjZW5lTG9hZGluZ0ZvckluY3JlbWVudGFsIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG50LkZvcmNlRnVsbFNjZW5lTG9hZGluZ0ZvckluY3JlbWVudGFsfSxzZXQ6ZnVuY3Rpb24oZSl7bnQuRm9yY2VGdWxsU2NlbmVMb2FkaW5nRm9ySW5jcmVtZW50YWw9ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSwiU2hvd0xvYWRpbmdTY3JlZW4iLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbnQuU2hvd0xvYWRpbmdTY3JlZW59LHNldDpmdW5jdGlvbihlKXtudC5TaG93TG9hZGluZ1NjcmVlbj1lfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLCJsb2dnaW5nTGV2ZWwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbnQubG9nZ2luZ0xldmVsfSxzZXQ6ZnVuY3Rpb24oZSl7bnQubG9nZ2luZ0xldmVsPWV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGksIkNsZWFuQm9uZU1hdHJpeFdlaWdodHMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbnQuQ2xlYW5Cb25lTWF0cml4V2VpZ2h0c30sc2V0OmZ1bmN0aW9uKGUpe250LkNsZWFuQm9uZU1hdHJpeFdlaWdodHM9ZX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxpLkdldERlZmF1bHRQbHVnaW49ZnVuY3Rpb24oKXtyZXR1cm4gaS5fUmVnaXN0ZXJlZFBsdWdpbnNbIi5iYWJ5bG9uIl19LGkuX0dldFBsdWdpbkZvckV4dGVuc2lvbj1mdW5jdGlvbihlKXt2YXIgdD1pLl9SZWdpc3RlcmVkUGx1Z2luc1tlXTtyZXR1cm4gdHx8KFcuV2FybigiVW5hYmxlIHRvIGZpbmQgYSBwbHVnaW4gdG8gbG9hZCAiK2UrIiBmaWxlcy4gVHJ5aW5nIHRvIHVzZSAuYmFieWxvbiBkZWZhdWx0IHBsdWdpbi4gVG8gbG9hZCBmcm9tIGEgc3BlY2lmaWMgZmlsZXR5cGUgKGVnLiBnbHRmKSBzZWU6IGh0dHBzOi8vZG9jLmJhYnlsb25qcy5jb20vaG93X3RvL2xvYWRfZnJvbV9hbnlfZmlsZV90eXBlIiksaS5HZXREZWZhdWx0UGx1Z2luKCkpfSxpLl9HZXRQbHVnaW5Gb3JEaXJlY3RMb2FkPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdCBpbiBpLl9SZWdpc3RlcmVkUGx1Z2lucyl7dmFyIHI9aS5fUmVnaXN0ZXJlZFBsdWdpbnNbdF0ucGx1Z2luO2lmKHIuY2FuRGlyZWN0TG9hZCYmci5jYW5EaXJlY3RMb2FkKGUpKXJldHVybiBpLl9SZWdpc3RlcmVkUGx1Z2luc1t0XX1yZXR1cm4gaS5HZXREZWZhdWx0UGx1Z2luKCl9LGkuX0dldFBsdWdpbkZvckZpbGVuYW1lPWZ1bmN0aW9uKGUpe3ZhciB0PWUuaW5kZXhPZigiPyIpO3QhPT0tMSYmKGU9ZS5zdWJzdHJpbmcoMCx0KSk7dmFyIHI9ZS5sYXN0SW5kZXhPZigiLiIpLG49ZS5zdWJzdHJpbmcocixlLmxlbmd0aCkudG9Mb3dlckNhc2UoKTtyZXR1cm4gaS5fR2V0UGx1Z2luRm9yRXh0ZW5zaW9uKG4pfSxpLl9HZXREaXJlY3RMb2FkPWZ1bmN0aW9uKGUpe3JldHVybiBlLnN1YnN0cigwLDUpPT09ImRhdGE6Ij9lLnN1YnN0cig1KTpudWxsfSxpLl9Gb3JtYXRFcnJvck1lc3NhZ2U9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPSJVbmFibGUgdG8gbG9hZCBmcm9tICIrZS51cmw7cmV0dXJuIHQ/bis9IjogIi5jb25jYXQodCk6ciYmKG4rPSI6ICIuY29uY2F0KHIpKSxufSxpLl9Mb2FkRGF0YT1mdW5jdGlvbihlLHQscixuLGEscyxvKXt2YXIgdT1pLl9HZXREaXJlY3RMb2FkKGUudXJsKSxmPW8/aS5fR2V0UGx1Z2luRm9yRXh0ZW5zaW9uKG8pOnU/aS5fR2V0UGx1Z2luRm9yRGlyZWN0TG9hZChlLnVybCk6aS5fR2V0UGx1Z2luRm9yRmlsZW5hbWUoZS51cmwpLGw7aWYoZi5wbHVnaW4uY3JlYXRlUGx1Z2luIT09dm9pZCAwP2w9Zi5wbHVnaW4uY3JlYXRlUGx1Z2luKCk6bD1mLnBsdWdpbiwhbCl0aHJvdyJUaGUgbG9hZGVyIHBsdWdpbiBjb3JyZXNwb25kaW5nIHRvIHRoZSBmaWxlIHR5cGUgeW91IGFyZSB0cnlpbmcgdG8gbG9hZCBoYXMgbm90IGJlZW4gZm91bmQuIElmIHVzaW5nIGVzNiwgcGxlYXNlIGltcG9ydCB0aGUgcGx1Z2luIHlvdSB3aXNoIHRvIHVzZSBiZWZvcmUuIjtpZihpLk9uUGx1Z2luQWN0aXZhdGVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMobCksdSYmKGwuY2FuRGlyZWN0TG9hZCYmbC5jYW5EaXJlY3RMb2FkKGUudXJsKXx8IWdyKGUudXJsKSkpe2lmKGwuZGlyZWN0TG9hZCl7dmFyIGg9bC5kaXJlY3RMb2FkKHQsdSk7aC50aGVuP2gudGhlbihmdW5jdGlvbihTKXtyKGwsUyl9KS5jYXRjaChmdW5jdGlvbihTKXthKCJFcnJvciBpbiBkaXJlY3RMb2FkIG9mIF9sb2FkRGF0YTogIitTLFMpfSk6cihsLGgpfWVsc2UgcihsLHUpO3JldHVybiBsfXZhciBjPWYuaXNCaW5hcnksZD1mdW5jdGlvbihTLHcpe2lmKHQuaXNEaXNwb3NlZCl7YSgiU2NlbmUgaGFzIGJlZW4gZGlzcG9zZWQiKTtyZXR1cm59cihsLFMsdyl9LHA9bnVsbCxnPSExLF89bC5vbkRpc3Bvc2VPYnNlcnZhYmxlO18mJl8uYWRkKGZ1bmN0aW9uKCl7Zz0hMCxwJiYocC5hYm9ydCgpLHA9bnVsbCkscygpfSk7dmFyIHY9ZnVuY3Rpb24oKXtpZighZyl7dmFyIFM9ZnVuY3Rpb24oRix4KXthKEY9PW51bGw/dm9pZCAwOkYuc3RhdHVzVGV4dCx4KX0sdz1lLmZpbGV8fGUudXJsO3A9bC5sb2FkRmlsZT9sLmxvYWRGaWxlKHQsdyxkLG4sYyxTKTp0Ll9sb2FkRmlsZSh3LGQsbiwhMCxjLFMpfX0seT10LmdldEVuZ2luZSgpLEU9eS5lbmFibGVPZmZsaW5lU3VwcG9ydDtpZihFKXtmb3IodmFyIFI9ITEsTT0wLEM9dC5kaXNhYmxlT2ZmbGluZVN1cHBvcnRFeGNlcHRpb25SdWxlcztNPEMubGVuZ3RoO00rKyl7dmFyIEE9Q1tNXTtpZihBLnRlc3QoZS51cmwpKXtSPSEwO2JyZWFrfX1FPSFSfXJldHVybiBFJiZjZS5PZmZsaW5lUHJvdmlkZXJGYWN0b3J5P3Qub2ZmbGluZVByb3ZpZGVyPWNlLk9mZmxpbmVQcm92aWRlckZhY3RvcnkoZS51cmwsdix5LmRpc2FibGVNYW5pZmVzdENoZWNrKTp2KCksbH0saS5fR2V0RmlsZUluZm89ZnVuY3Rpb24oZSx0KXt2YXIgcixuLGE9bnVsbDtpZighdClyPWUsbj1fZS5HZXRGaWxlbmFtZShlKSxlPV9lLkdldEZvbGRlclBhdGgoZSk7ZWxzZSBpZih0Lm5hbWUpe3ZhciBzPXQ7cj0iZmlsZToiLmNvbmNhdChzLm5hbWUpLG49cy5uYW1lLGE9c31lbHNlIGlmKHR5cGVvZiB0PT0ic3RyaW5nIiYmdC5zdGFydHNXaXRoKCJkYXRhOiIpKXI9dCxuPSIiO2Vsc2V7dmFyIG89dDtpZihvLnN1YnN0cigwLDEpPT09Ii8iKXJldHVybiBfZS5FcnJvcigiV3Jvbmcgc2NlbmVGaWxlbmFtZSBwYXJhbWV0ZXIiKSxudWxsO3I9ZStvLG49b31yZXR1cm57dXJsOnIscm9vdFVybDplLG5hbWU6bixmaWxlOmF9fSxpLkdldFBsdWdpbkZvckV4dGVuc2lvbj1mdW5jdGlvbihlKXtyZXR1cm4gaS5fR2V0UGx1Z2luRm9yRXh0ZW5zaW9uKGUpLnBsdWdpbn0saS5Jc1BsdWdpbkZvckV4dGVuc2lvbkF2YWlsYWJsZT1mdW5jdGlvbihlKXtyZXR1cm4hIWkuX1JlZ2lzdGVyZWRQbHVnaW5zW2VdfSxpLlJlZ2lzdGVyUGx1Z2luPWZ1bmN0aW9uKGUpe2lmKHR5cGVvZiBlLmV4dGVuc2lvbnM9PSJzdHJpbmciKXt2YXIgdD1lLmV4dGVuc2lvbnM7aS5fUmVnaXN0ZXJlZFBsdWdpbnNbdC50b0xvd2VyQ2FzZSgpXT17cGx1Z2luOmUsaXNCaW5hcnk6ITF9fWVsc2V7dmFyIHI9ZS5leHRlbnNpb25zO09iamVjdC5rZXlzKHIpLmZvckVhY2goZnVuY3Rpb24obil7aS5fUmVnaXN0ZXJlZFBsdWdpbnNbbi50b0xvd2VyQ2FzZSgpXT17cGx1Z2luOmUsaXNCaW5hcnk6cltuXS5pc0JpbmFyeX19KX19LGkuSW1wb3J0TWVzaD1mdW5jdGlvbihlLHQscixuLGEscyxvLHUpe2lmKHI9PT12b2lkIDAmJihyPSIiKSxuPT09dm9pZCAwJiYobj1hZS5MYXN0Q3JlYXRlZFNjZW5lKSxhPT09dm9pZCAwJiYoYT1udWxsKSxzPT09dm9pZCAwJiYocz1udWxsKSxvPT09dm9pZCAwJiYobz1udWxsKSx1PT09dm9pZCAwJiYodT1udWxsKSwhbilyZXR1cm4gVy5FcnJvcigiTm8gc2NlbmUgYXZhaWxhYmxlIHRvIGltcG9ydCBtZXNoIHRvIiksbnVsbDt2YXIgZj1pLl9HZXRGaWxlSW5mbyh0LHIpO2lmKCFmKXJldHVybiBudWxsO3ZhciBsPXt9O24uX2FkZFBlbmRpbmdEYXRhKGwpO3ZhciBoPWZ1bmN0aW9uKCl7bi5fcmVtb3ZlUGVuZGluZ0RhdGEobCl9LGM9ZnVuY3Rpb24oZyxfKXt2YXIgdj1pLl9Gb3JtYXRFcnJvck1lc3NhZ2UoZixnLF8pO28/byhuLHYsbmV3IER0KHYseHQuU2NlbmVMb2FkZXJFcnJvcixfKSk6Vy5FcnJvcih2KSxoKCl9LGQ9cz9mdW5jdGlvbihnKXt0cnl7cyhnKX1jYXRjaChfKXtjKCJFcnJvciBpbiBvblByb2dyZXNzIGNhbGxiYWNrOiAiK18sXyl9fTp2b2lkIDAscD1mdW5jdGlvbihnLF8sdix5LEUsUixNKXtpZihuLmltcG9ydGVkTWVzaGVzRmlsZXMucHVzaChmLnVybCksYSl0cnl7YShnLF8sdix5LEUsUixNKX1jYXRjaChDKXtjKCJFcnJvciBpbiBvblN1Y2Nlc3MgY2FsbGJhY2s6ICIrQyxDKX1uLl9yZW1vdmVQZW5kaW5nRGF0YShsKX07cmV0dXJuIGkuX0xvYWREYXRhKGYsbixmdW5jdGlvbihnLF8sdil7aWYoZy5yZXdyaXRlUm9vdFVSTCYmKGYucm9vdFVybD1nLnJld3JpdGVSb290VVJMKGYucm9vdFVybCx2KSksZy5pbXBvcnRNZXNoKXt2YXIgeT1nLEU9bmV3IEFycmF5LFI9bmV3IEFycmF5LE09bmV3IEFycmF5O2lmKCF5LmltcG9ydE1lc2goZSxuLF8sZi5yb290VXJsLEUsUixNLGMpKXJldHVybjtuLmxvYWRpbmdQbHVnaW5OYW1lPWcubmFtZSxwKEUsUixNLFtdLFtdLFtdLFtdKX1lbHNle3ZhciBDPWc7Qy5pbXBvcnRNZXNoQXN5bmMoZSxuLF8sZi5yb290VXJsLGQsZi5uYW1lKS50aGVuKGZ1bmN0aW9uKEEpe24ubG9hZGluZ1BsdWdpbk5hbWU9Zy5uYW1lLHAoQS5tZXNoZXMsQS5wYXJ0aWNsZVN5c3RlbXMsQS5za2VsZXRvbnMsQS5hbmltYXRpb25Hcm91cHMsQS50cmFuc2Zvcm1Ob2RlcyxBLmdlb21ldHJpZXMsQS5saWdodHMpfSkuY2F0Y2goZnVuY3Rpb24oQSl7YyhBLm1lc3NhZ2UsQSl9KX19LGQsYyxoLHUpfSxpLkltcG9ydE1lc2hBc3luYz1mdW5jdGlvbihlLHQscixuLGEscyl7cmV0dXJuIHI9PT12b2lkIDAmJihyPSIiKSxuPT09dm9pZCAwJiYobj1hZS5MYXN0Q3JlYXRlZFNjZW5lKSxhPT09dm9pZCAwJiYoYT1udWxsKSxzPT09dm9pZCAwJiYocz1udWxsKSxuZXcgUHJvbWlzZShmdW5jdGlvbihvLHUpe2kuSW1wb3J0TWVzaChlLHQscixuLGZ1bmN0aW9uKGYsbCxoLGMsZCxwLGcpe28oe21lc2hlczpmLHBhcnRpY2xlU3lzdGVtczpsLHNrZWxldG9uczpoLGFuaW1hdGlvbkdyb3VwczpjLHRyYW5zZm9ybU5vZGVzOmQsZ2VvbWV0cmllczpwLGxpZ2h0czpnfSl9LGEsZnVuY3Rpb24oZixsLGgpe3UoaHx8bmV3IEVycm9yKGwpKX0scyl9KX0saS5Mb2FkPWZ1bmN0aW9uKGUsdCxyLG4sYSxzLG8pe3JldHVybiB0PT09dm9pZCAwJiYodD0iIikscj09PXZvaWQgMCYmKHI9YWUuTGFzdENyZWF0ZWRFbmdpbmUpLG49PT12b2lkIDAmJihuPW51bGwpLGE9PT12b2lkIDAmJihhPW51bGwpLHM9PT12b2lkIDAmJihzPW51bGwpLG89PT12b2lkIDAmJihvPW51bGwpLHI/aS5BcHBlbmQoZSx0LG5ldyByZShyKSxuLGEscyxvKTooX2UuRXJyb3IoIk5vIGVuZ2luZSBhdmFpbGFibGUiKSxudWxsKX0saS5Mb2FkQXN5bmM9ZnVuY3Rpb24oZSx0LHIsbixhKXtyZXR1cm4gdD09PXZvaWQgMCYmKHQ9IiIpLHI9PT12b2lkIDAmJihyPWFlLkxhc3RDcmVhdGVkRW5naW5lKSxuPT09dm9pZCAwJiYobj1udWxsKSxhPT09dm9pZCAwJiYoYT1udWxsKSxuZXcgUHJvbWlzZShmdW5jdGlvbihzLG8pe2kuTG9hZChlLHQscixmdW5jdGlvbih1KXtzKHUpfSxuLGZ1bmN0aW9uKHUsZixsKXtvKGx8fG5ldyBFcnJvcihmKSl9LGEpfSl9LGkuQXBwZW5kPWZ1bmN0aW9uKGUsdCxyLG4sYSxzLG8pe3ZhciB1PXRoaXM7aWYodD09PXZvaWQgMCYmKHQ9IiIpLHI9PT12b2lkIDAmJihyPWFlLkxhc3RDcmVhdGVkU2NlbmUpLG49PT12b2lkIDAmJihuPW51bGwpLGE9PT12b2lkIDAmJihhPW51bGwpLHM9PT12b2lkIDAmJihzPW51bGwpLG89PT12b2lkIDAmJihvPW51bGwpLCFyKXJldHVybiBXLkVycm9yKCJObyBzY2VuZSBhdmFpbGFibGUgdG8gYXBwZW5kIHRvIiksbnVsbDt2YXIgZj1pLl9HZXRGaWxlSW5mbyhlLHQpO2lmKCFmKXJldHVybiBudWxsO2kuU2hvd0xvYWRpbmdTY3JlZW4mJiF0aGlzLl9TaG93aW5nTG9hZGluZ1NjcmVlbiYmKHRoaXMuX1Nob3dpbmdMb2FkaW5nU2NyZWVuPSEwLHIuZ2V0RW5naW5lKCkuZGlzcGxheUxvYWRpbmdVSSgpLHIuZXhlY3V0ZVdoZW5SZWFkeShmdW5jdGlvbigpe3IuZ2V0RW5naW5lKCkuaGlkZUxvYWRpbmdVSSgpLHUuX1Nob3dpbmdMb2FkaW5nU2NyZWVuPSExfSkpO3ZhciBsPXt9O3IuX2FkZFBlbmRpbmdEYXRhKGwpO3ZhciBoPWZ1bmN0aW9uKCl7ci5fcmVtb3ZlUGVuZGluZ0RhdGEobCl9LGM9ZnVuY3Rpb24oZyxfKXt2YXIgdj1pLl9Gb3JtYXRFcnJvck1lc3NhZ2UoZixnLF8pO3M/cyhyLHYsbmV3IER0KHYseHQuU2NlbmVMb2FkZXJFcnJvcixfKSk6Vy5FcnJvcih2KSxoKCl9LGQ9YT9mdW5jdGlvbihnKXt0cnl7YShnKX1jYXRjaChfKXtjKCJFcnJvciBpbiBvblByb2dyZXNzIGNhbGxiYWNrIixfKX19OnZvaWQgMCxwPWZ1bmN0aW9uKCl7aWYobil0cnl7bihyKX1jYXRjaChnKXtjKCJFcnJvciBpbiBvblN1Y2Nlc3MgY2FsbGJhY2siLGcpfXIuX3JlbW92ZVBlbmRpbmdEYXRhKGwpfTtyZXR1cm4gaS5fTG9hZERhdGEoZixyLGZ1bmN0aW9uKGcsXyl7aWYoZy5sb2FkKXt2YXIgdj1nO2lmKCF2LmxvYWQocixfLGYucm9vdFVybCxjKSlyZXR1cm47ci5sb2FkaW5nUGx1Z2luTmFtZT1nLm5hbWUscCgpfWVsc2V7dmFyIHk9Zzt5LmxvYWRBc3luYyhyLF8sZi5yb290VXJsLGQsZi5uYW1lKS50aGVuKGZ1bmN0aW9uKCl7ci5sb2FkaW5nUGx1Z2luTmFtZT1nLm5hbWUscCgpfSkuY2F0Y2goZnVuY3Rpb24oRSl7YyhFLm1lc3NhZ2UsRSl9KX19LGQsYyxoLG8pfSxpLkFwcGVuZEFzeW5jPWZ1bmN0aW9uKGUsdCxyLG4sYSl7cmV0dXJuIHQ9PT12b2lkIDAmJih0PSIiKSxyPT09dm9pZCAwJiYocj1hZS5MYXN0Q3JlYXRlZFNjZW5lKSxuPT09dm9pZCAwJiYobj1udWxsKSxhPT09dm9pZCAwJiYoYT1udWxsKSxuZXcgUHJvbWlzZShmdW5jdGlvbihzLG8pe2kuQXBwZW5kKGUsdCxyLGZ1bmN0aW9uKHUpe3ModSl9LG4sZnVuY3Rpb24odSxmLGwpe28obHx8bmV3IEVycm9yKGYpKX0sYSl9KX0saS5Mb2FkQXNzZXRDb250YWluZXI9ZnVuY3Rpb24oZSx0LHIsbixhLHMsbyl7aWYodD09PXZvaWQgMCYmKHQ9IiIpLHI9PT12b2lkIDAmJihyPWFlLkxhc3RDcmVhdGVkU2NlbmUpLG49PT12b2lkIDAmJihuPW51bGwpLGE9PT12b2lkIDAmJihhPW51bGwpLHM9PT12b2lkIDAmJihzPW51bGwpLG89PT12b2lkIDAmJihvPW51bGwpLCFyKXJldHVybiBXLkVycm9yKCJObyBzY2VuZSBhdmFpbGFibGUgdG8gbG9hZCBhc3NldCBjb250YWluZXIgdG8iKSxudWxsO3ZhciB1PWkuX0dldEZpbGVJbmZvKGUsdCk7aWYoIXUpcmV0dXJuIG51bGw7dmFyIGY9e307ci5fYWRkUGVuZGluZ0RhdGEoZik7dmFyIGw9ZnVuY3Rpb24oKXtyLl9yZW1vdmVQZW5kaW5nRGF0YShmKX0saD1mdW5jdGlvbihwLGcpe3ZhciBfPWkuX0Zvcm1hdEVycm9yTWVzc2FnZSh1LHAsZyk7cz9zKHIsXyxuZXcgRHQoXyx4dC5TY2VuZUxvYWRlckVycm9yLGcpKTpXLkVycm9yKF8pLGwoKX0sYz1hP2Z1bmN0aW9uKHApe3RyeXthKHApfWNhdGNoKGcpe2goIkVycm9yIGluIG9uUHJvZ3Jlc3MgY2FsbGJhY2siLGcpfX06dm9pZCAwLGQ9ZnVuY3Rpb24ocCl7aWYobil0cnl7bihwKX1jYXRjaChnKXtoKCJFcnJvciBpbiBvblN1Y2Nlc3MgY2FsbGJhY2siLGcpfXIuX3JlbW92ZVBlbmRpbmdEYXRhKGYpfTtyZXR1cm4gaS5fTG9hZERhdGEodSxyLGZ1bmN0aW9uKHAsZyl7aWYocC5sb2FkQXNzZXRDb250YWluZXIpe3ZhciBfPXAsdj1fLmxvYWRBc3NldENvbnRhaW5lcihyLGcsdS5yb290VXJsLGgpO2lmKCF2KXJldHVybjtyLmxvYWRpbmdQbHVnaW5OYW1lPXAubmFtZSxkKHYpfWVsc2UgaWYocC5sb2FkQXNzZXRDb250YWluZXJBc3luYyl7dmFyIHk9cDt5LmxvYWRBc3NldENvbnRhaW5lckFzeW5jKHIsZyx1LnJvb3RVcmwsYyx1Lm5hbWUpLnRoZW4oZnVuY3Rpb24oRSl7ci5sb2FkaW5nUGx1Z2luTmFtZT1wLm5hbWUsZChFKX0pLmNhdGNoKGZ1bmN0aW9uKEUpe2goRS5tZXNzYWdlLEUpfSl9ZWxzZSBoKCJMb2FkQXNzZXRDb250YWluZXIgaXMgbm90IHN1cHBvcnRlZCBieSB0aGlzIHBsdWdpbi4gUGx1Z2luIGRpZCBub3QgcHJvdmlkZSBhIGxvYWRBc3NldENvbnRhaW5lciBvciBsb2FkQXNzZXRDb250YWluZXJBc3luYyBtZXRob2QuIil9LGMsaCxsLG8pfSxpLkxvYWRBc3NldENvbnRhaW5lckFzeW5jPWZ1bmN0aW9uKGUsdCxyLG4sYSl7cmV0dXJuIHQ9PT12b2lkIDAmJih0PSIiKSxyPT09dm9pZCAwJiYocj1hZS5MYXN0Q3JlYXRlZFNjZW5lKSxuPT09dm9pZCAwJiYobj1udWxsKSxhPT09dm9pZCAwJiYoYT1udWxsKSxuZXcgUHJvbWlzZShmdW5jdGlvbihzLG8pe2kuTG9hZEFzc2V0Q29udGFpbmVyKGUsdCxyLGZ1bmN0aW9uKHUpe3ModSl9LG4sZnVuY3Rpb24odSxmLGwpe28obHx8bmV3IEVycm9yKGYpKX0sYSl9KX0saS5JbXBvcnRBbmltYXRpb25zPWZ1bmN0aW9uKGUsdCxyLG4sYSxzLG8sdSxmLGwpe2lmKHQ9PT12b2lkIDAmJih0PSIiKSxyPT09dm9pZCAwJiYocj1hZS5MYXN0Q3JlYXRlZFNjZW5lKSxuPT09dm9pZCAwJiYobj0hMCksYT09PXZvaWQgMCYmKGE9UnQuQ2xlYW4pLHM9PT12b2lkIDAmJihzPW51bGwpLG89PT12b2lkIDAmJihvPW51bGwpLHU9PT12b2lkIDAmJih1PW51bGwpLGY9PT12b2lkIDAmJihmPW51bGwpLGw9PT12b2lkIDAmJihsPW51bGwpLCFyKXtXLkVycm9yKCJObyBzY2VuZSBhdmFpbGFibGUgdG8gbG9hZCBhbmltYXRpb25zIHRvIik7cmV0dXJufWlmKG4pe2Zvcih2YXIgaD0wLGM9ci5hbmltYXRhYmxlcztoPGMubGVuZ3RoO2grKyl7dmFyIGQ9Y1toXTtkLnJlc2V0KCl9ci5zdG9wQWxsQW5pbWF0aW9ucygpLHIuYW5pbWF0aW9uR3JvdXBzLnNsaWNlKCkuZm9yRWFjaChmdW5jdGlvbih2KXt2LmRpc3Bvc2UoKX0pO3ZhciBwPXIuZ2V0Tm9kZXMoKTtwLmZvckVhY2goZnVuY3Rpb24odil7di5hbmltYXRpb25zJiYodi5hbmltYXRpb25zPVtdKX0pfWVsc2Ugc3dpdGNoKGEpe2Nhc2UgUnQuQ2xlYW46ci5hbmltYXRpb25Hcm91cHMuc2xpY2UoKS5mb3JFYWNoKGZ1bmN0aW9uKHYpe3YuZGlzcG9zZSgpfSk7YnJlYWs7Y2FzZSBSdC5TdG9wOnIuYW5pbWF0aW9uR3JvdXBzLmZvckVhY2goZnVuY3Rpb24odil7di5zdG9wKCl9KTticmVhaztjYXNlIFJ0LlN5bmM6ci5hbmltYXRpb25Hcm91cHMuZm9yRWFjaChmdW5jdGlvbih2KXt2LnJlc2V0KCksdi5yZXN0YXJ0KCl9KTticmVhaztjYXNlIFJ0Lk5vU3luYzpicmVhaztkZWZhdWx0OlcuRXJyb3IoIlVua25vd24gYW5pbWF0aW9uIGdyb3VwIGxvYWRpbmcgbW9kZSB2YWx1ZSAnIithKyInIik7cmV0dXJufXZhciBnPXIuYW5pbWF0YWJsZXMubGVuZ3RoLF89ZnVuY3Rpb24odil7di5tZXJnZUFuaW1hdGlvbnNUbyhyLHIuYW5pbWF0YWJsZXMuc2xpY2UoZykscyksdi5kaXNwb3NlKCksci5vbkFuaW1hdGlvbkZpbGVJbXBvcnRlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHIpLG8mJm8ocil9O3RoaXMuTG9hZEFzc2V0Q29udGFpbmVyKGUsdCxyLF8sdSxmLGwpfSxpLkltcG9ydEFuaW1hdGlvbnNBc3luYz1mdW5jdGlvbihlLHQscixuLGEscyxvLHUsZixsKXtyZXR1cm4gdD09PXZvaWQgMCYmKHQ9IiIpLHI9PT12b2lkIDAmJihyPWFlLkxhc3RDcmVhdGVkU2NlbmUpLG49PT12b2lkIDAmJihuPSEwKSxhPT09dm9pZCAwJiYoYT1SdC5DbGVhbikscz09PXZvaWQgMCYmKHM9bnVsbCksdT09PXZvaWQgMCYmKHU9bnVsbCksbD09PXZvaWQgMCYmKGw9bnVsbCksbmV3IFByb21pc2UoZnVuY3Rpb24oaCxjKXtpLkltcG9ydEFuaW1hdGlvbnMoZSx0LHIsbixhLHMsZnVuY3Rpb24oZCl7aChkKX0sdSxmdW5jdGlvbihkLHAsZyl7YyhnfHxuZXcgRXJyb3IocCkpfSxsKX0pfSxpLk5PX0xPR0dJTkc9MCxpLk1JTklNQUxfTE9HR0lORz0xLGkuU1VNTUFSWV9MT0dHSU5HPTIsaS5ERVRBSUxFRF9MT0dHSU5HPTMsaS5PblBsdWdpbkFjdGl2YXRlZE9ic2VydmFibGU9bmV3IE8saS5fUmVnaXN0ZXJlZFBsdWdpbnM9e30saS5fU2hvd2luZ0xvYWRpbmdTY3JlZW49ITEsaX0oKSxhdD1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoZSx0LHIpe3I9PT12b2lkIDAmJihyPU51bWJlci5NQVhfVkFMVUUpLHRoaXMub3JpZ2luPWUsdGhpcy5kaXJlY3Rpb249dCx0aGlzLmxlbmd0aD1yfXJldHVybiBpLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgaSh0aGlzLm9yaWdpbi5jbG9uZSgpLHRoaXMuZGlyZWN0aW9uLmNsb25lKCksdGhpcy5sZW5ndGgpfSxpLnByb3RvdHlwZS5pbnRlcnNlY3RzQm94TWluTWF4PWZ1bmN0aW9uKGUsdCxyKXtyPT09dm9pZCAwJiYocj0wKTt2YXIgbj1pLl9UbXBWZWN0b3IzWzBdLmNvcHlGcm9tRmxvYXRzKGUueC1yLGUueS1yLGUuei1yKSxhPWkuX1RtcFZlY3RvcjNbMV0uY29weUZyb21GbG9hdHModC54K3IsdC55K3IsdC56K3IpLHM9MCxvPU51bWJlci5NQVhfVkFMVUUsdSxmLGwsaDtpZihNYXRoLmFicyh0aGlzLmRpcmVjdGlvbi54KTwxZS03KXtpZih0aGlzLm9yaWdpbi54PG4ueHx8dGhpcy5vcmlnaW4ueD5hLngpcmV0dXJuITF9ZWxzZSBpZih1PTEvdGhpcy5kaXJlY3Rpb24ueCxmPShuLngtdGhpcy5vcmlnaW4ueCkqdSxsPShhLngtdGhpcy5vcmlnaW4ueCkqdSxsPT09LTEvMCYmKGw9MS8wKSxmPmwmJihoPWYsZj1sLGw9aCkscz1NYXRoLm1heChmLHMpLG89TWF0aC5taW4obCxvKSxzPm8pcmV0dXJuITE7aWYoTWF0aC5hYnModGhpcy5kaXJlY3Rpb24ueSk8MWUtNyl7aWYodGhpcy5vcmlnaW4ueTxuLnl8fHRoaXMub3JpZ2luLnk+YS55KXJldHVybiExfWVsc2UgaWYodT0xL3RoaXMuZGlyZWN0aW9uLnksZj0obi55LXRoaXMub3JpZ2luLnkpKnUsbD0oYS55LXRoaXMub3JpZ2luLnkpKnUsbD09PS0xLzAmJihsPTEvMCksZj5sJiYoaD1mLGY9bCxsPWgpLHM9TWF0aC5tYXgoZixzKSxvPU1hdGgubWluKGwsbykscz5vKXJldHVybiExO2lmKE1hdGguYWJzKHRoaXMuZGlyZWN0aW9uLnopPDFlLTcpe2lmKHRoaXMub3JpZ2luLno8bi56fHx0aGlzLm9yaWdpbi56PmEueilyZXR1cm4hMX1lbHNlIGlmKHU9MS90aGlzLmRpcmVjdGlvbi56LGY9KG4uei10aGlzLm9yaWdpbi56KSp1LGw9KGEuei10aGlzLm9yaWdpbi56KSp1LGw9PT0tMS8wJiYobD0xLzApLGY+bCYmKGg9ZixmPWwsbD1oKSxzPU1hdGgubWF4KGYscyksbz1NYXRoLm1pbihsLG8pLHM+bylyZXR1cm4hMTtyZXR1cm4hMH0saS5wcm90b3R5cGUuaW50ZXJzZWN0c0JveD1mdW5jdGlvbihlLHQpe3JldHVybiB0PT09dm9pZCAwJiYodD0wKSx0aGlzLmludGVyc2VjdHNCb3hNaW5NYXgoZS5taW5pbXVtLGUubWF4aW11bSx0KX0saS5wcm90b3R5cGUuaW50ZXJzZWN0c1NwaGVyZT1mdW5jdGlvbihlLHQpe3Q9PT12b2lkIDAmJih0PTApO3ZhciByPWUuY2VudGVyLngtdGhpcy5vcmlnaW4ueCxuPWUuY2VudGVyLnktdGhpcy5vcmlnaW4ueSxhPWUuY2VudGVyLnotdGhpcy5vcmlnaW4ueixzPXIqcituKm4rYSphLG89ZS5yYWRpdXMrdCx1PW8qbztpZihzPD11KXJldHVybiEwO3ZhciBmPXIqdGhpcy5kaXJlY3Rpb24ueCtuKnRoaXMuZGlyZWN0aW9uLnkrYSp0aGlzLmRpcmVjdGlvbi56O2lmKGY8MClyZXR1cm4hMTt2YXIgbD1zLWYqZjtyZXR1cm4gbDw9dX0saS5wcm90b3R5cGUuaW50ZXJzZWN0c1RyaWFuZ2xlPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1pLl9UbXBWZWN0b3IzWzBdLGE9aS5fVG1wVmVjdG9yM1sxXSxzPWkuX1RtcFZlY3RvcjNbMl0sbz1pLl9UbXBWZWN0b3IzWzNdLHU9aS5fVG1wVmVjdG9yM1s0XTt0LnN1YnRyYWN0VG9SZWYoZSxuKSxyLnN1YnRyYWN0VG9SZWYoZSxhKSxiLkNyb3NzVG9SZWYodGhpcy5kaXJlY3Rpb24sYSxzKTt2YXIgZj1iLkRvdChuLHMpO2lmKGY9PT0wKXJldHVybiBudWxsO3ZhciBsPTEvZjt0aGlzLm9yaWdpbi5zdWJ0cmFjdFRvUmVmKGUsbyk7dmFyIGg9Yi5Eb3QobyxzKSpsO2lmKGg8MHx8aD4xKXJldHVybiBudWxsO2IuQ3Jvc3NUb1JlZihvLG4sdSk7dmFyIGM9Yi5Eb3QodGhpcy5kaXJlY3Rpb24sdSkqbDtpZihjPDB8fGgrYz4xKXJldHVybiBudWxsO3ZhciBkPWIuRG90KGEsdSkqbDtyZXR1cm4gZD50aGlzLmxlbmd0aD9udWxsOm5ldyB0aSgxLWgtYyxoLGQpfSxpLnByb3RvdHlwZS5pbnRlcnNlY3RzUGxhbmU9ZnVuY3Rpb24oZSl7dmFyIHQscj1iLkRvdChlLm5vcm1hbCx0aGlzLmRpcmVjdGlvbik7aWYoTWF0aC5hYnMocik8OTk5OTk5OTk3NDc1MjQzZS0yMSlyZXR1cm4gbnVsbDt2YXIgbj1iLkRvdChlLm5vcm1hbCx0aGlzLm9yaWdpbik7cmV0dXJuIHQ9KC1lLmQtbikvcix0PDA/dDwtOTk5OTk5OTk3NDc1MjQzZS0yMT9udWxsOjA6dH0saS5wcm90b3R5cGUuaW50ZXJzZWN0c0F4aXM9ZnVuY3Rpb24oZSx0KXtzd2l0Y2godD09PXZvaWQgMCYmKHQ9MCksZSl7Y2FzZSJ5Ijp7dmFyIHI9KHRoaXMub3JpZ2luLnktdCkvdGhpcy5kaXJlY3Rpb24ueTtyZXR1cm4gcj4wP251bGw6bmV3IGIodGhpcy5vcmlnaW4ueCt0aGlzLmRpcmVjdGlvbi54Ki1yLHQsdGhpcy5vcmlnaW4ueit0aGlzLmRpcmVjdGlvbi56Ki1yKX1jYXNlIngiOnt2YXIgcj0odGhpcy5vcmlnaW4ueC10KS90aGlzLmRpcmVjdGlvbi54O3JldHVybiByPjA/bnVsbDpuZXcgYih0LHRoaXMub3JpZ2luLnkrdGhpcy5kaXJlY3Rpb24ueSotcix0aGlzLm9yaWdpbi56K3RoaXMuZGlyZWN0aW9uLnoqLXIpfWNhc2UieiI6e3ZhciByPSh0aGlzLm9yaWdpbi56LXQpL3RoaXMuZGlyZWN0aW9uLno7cmV0dXJuIHI+MD9udWxsOm5ldyBiKHRoaXMub3JpZ2luLngrdGhpcy5kaXJlY3Rpb24ueCotcix0aGlzLm9yaWdpbi55K3RoaXMuZGlyZWN0aW9uLnkqLXIsdCl9ZGVmYXVsdDpyZXR1cm4gbnVsbH19LGkucHJvdG90eXBlLmludGVyc2VjdHNNZXNoPWZ1bmN0aW9uKGUsdCl7dmFyIHI9RC5NYXRyaXhbMF07cmV0dXJuIGUuZ2V0V29ybGRNYXRyaXgoKS5pbnZlcnRUb1JlZihyKSx0aGlzLl90bXBSYXk/aS5UcmFuc2Zvcm1Ub1JlZih0aGlzLHIsdGhpcy5fdG1wUmF5KTp0aGlzLl90bXBSYXk9aS5UcmFuc2Zvcm0odGhpcyxyKSxlLmludGVyc2VjdHModGhpcy5fdG1wUmF5LHQpfSxpLnByb3RvdHlwZS5pbnRlcnNlY3RzTWVzaGVzPWZ1bmN0aW9uKGUsdCxyKXtyP3IubGVuZ3RoPTA6cj1bXTtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIGE9dGhpcy5pbnRlcnNlY3RzTWVzaChlW25dLHQpO2EuaGl0JiZyLnB1c2goYSl9cmV0dXJuIHIuc29ydCh0aGlzLl9jb21wYXJlUGlja2luZ0luZm8pLHJ9LGkucHJvdG90eXBlLl9jb21wYXJlUGlja2luZ0luZm89ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5kaXN0YW5jZTx0LmRpc3RhbmNlPy0xOmUuZGlzdGFuY2U+dC5kaXN0YW5jZT8xOjB9LGkucHJvdG90eXBlLmludGVyc2VjdGlvblNlZ21lbnQ9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXRoaXMub3JpZ2luLGE9RC5WZWN0b3IzWzBdLHM9RC5WZWN0b3IzWzFdLG89RC5WZWN0b3IzWzJdLHU9RC5WZWN0b3IzWzNdO3Quc3VidHJhY3RUb1JlZihlLGEpLHRoaXMuZGlyZWN0aW9uLnNjYWxlVG9SZWYoaS5fUmF5bCxvKSxuLmFkZFRvUmVmKG8scyksZS5zdWJ0cmFjdFRvUmVmKG4sdSk7dmFyIGY9Yi5Eb3QoYSxhKSxsPWIuRG90KGEsbyksaD1iLkRvdChvLG8pLGM9Yi5Eb3QoYSx1KSxkPWIuRG90KG8sdSkscD1mKmgtbCpsLGcsXz1wLHYseT1wO3A8aS5fU21hbGxudW0/KGc9MCxfPTEsdj1kLHk9aCk6KGc9bCpkLWgqYyx2PWYqZC1sKmMsZzwwPyhnPTAsdj1kLHk9aCk6Zz5fJiYoZz1fLHY9ZCtsLHk9aCkpLHY8MD8odj0wLC1jPDA/Zz0wOi1jPmY/Zz1fOihnPS1jLF89ZikpOnY+eSYmKHY9eSwtYytsPDA/Zz0wOi1jK2w+Zj9nPV86KGc9LWMrbCxfPWYpKTt2YXIgRT1NYXRoLmFicyhnKTxpLl9TbWFsbG51bT8wOmcvXyxSPU1hdGguYWJzKHYpPGkuX1NtYWxsbnVtPzA6di95LE09RC5WZWN0b3IzWzRdO28uc2NhbGVUb1JlZihSLE0pO3ZhciBDPUQuVmVjdG9yM1s1XTthLnNjYWxlVG9SZWYoRSxDKSxDLmFkZEluUGxhY2UodSk7dmFyIEE9RC5WZWN0b3IzWzZdO0Muc3VidHJhY3RUb1JlZihNLEEpO3ZhciBTPVI+MCYmUjw9dGhpcy5sZW5ndGgmJkEubGVuZ3RoU3F1YXJlZCgpPHIqcjtyZXR1cm4gUz9DLmxlbmd0aCgpOi0xfSxpLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24oZSx0LHIsbixhLHMsbyx1KXtpZih1PT09dm9pZCAwJiYodT0hMSksdSl7aS5fUmF5RGlzdGFudHx8KGkuX1JheURpc3RhbnQ9aS5aZXJvKCkpLGkuX1JheURpc3RhbnQudW5wcm9qZWN0UmF5VG9SZWYoZSx0LHIsbixJLklkZW50aXR5UmVhZE9ubHkscyxvKTt2YXIgZj1ELk1hdHJpeFswXTthLmludmVydFRvUmVmKGYpLGkuVHJhbnNmb3JtVG9SZWYoaS5fUmF5RGlzdGFudCxmLHRoaXMpfWVsc2UgdGhpcy51bnByb2plY3RSYXlUb1JlZihlLHQscixuLGEscyxvKTtyZXR1cm4gdGhpc30saS5aZXJvPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBpKGIuWmVybygpLGIuWmVybygpKX0saS5DcmVhdGVOZXc9ZnVuY3Rpb24oZSx0LHIsbixhLHMsbyl7dmFyIHU9aS5aZXJvKCk7cmV0dXJuIHUudXBkYXRlKGUsdCxyLG4sYSxzLG8pfSxpLkNyZWF0ZU5ld0Zyb21Ubz1mdW5jdGlvbihlLHQscil7cj09PXZvaWQgMCYmKHI9SS5JZGVudGl0eVJlYWRPbmx5KTt2YXIgbj10LnN1YnRyYWN0KGUpLGE9TWF0aC5zcXJ0KG4ueCpuLngrbi55Km4ueStuLnoqbi56KTtyZXR1cm4gbi5ub3JtYWxpemUoKSxpLlRyYW5zZm9ybShuZXcgaShlLG4sYSkscil9LGkuVHJhbnNmb3JtPWZ1bmN0aW9uKGUsdCl7dmFyIHI9bmV3IGkobmV3IGIoMCwwLDApLG5ldyBiKDAsMCwwKSk7cmV0dXJuIGkuVHJhbnNmb3JtVG9SZWYoZSx0LHIpLHJ9LGkuVHJhbnNmb3JtVG9SZWY9ZnVuY3Rpb24oZSx0LHIpe2IuVHJhbnNmb3JtQ29vcmRpbmF0ZXNUb1JlZihlLm9yaWdpbix0LHIub3JpZ2luKSxiLlRyYW5zZm9ybU5vcm1hbFRvUmVmKGUuZGlyZWN0aW9uLHQsci5kaXJlY3Rpb24pLHIubGVuZ3RoPWUubGVuZ3RoO3ZhciBuPXIuZGlyZWN0aW9uLGE9bi5sZW5ndGgoKTtpZighKGE9PT0wfHxhPT09MSkpe3ZhciBzPTEvYTtuLngqPXMsbi55Kj1zLG4ueio9cyxyLmxlbmd0aCo9YX19LGkucHJvdG90eXBlLnVucHJvamVjdFJheVRvUmVmPWZ1bmN0aW9uKGUsdCxyLG4sYSxzLG8pe3ZhciB1LGY9RC5NYXRyaXhbMF07YS5tdWx0aXBseVRvUmVmKHMsZiksZi5tdWx0aXBseVRvUmVmKG8sZiksZi5pbnZlcnQoKTt2YXIgbD1ELlZlY3RvcjNbMF07bC54PWUvcioyLTEsbC55PS0odC9uKjItMSksbC56PSEoKHU9YWUuTGFzdENyZWF0ZWRFbmdpbmUpPT09bnVsbHx8dT09PXZvaWQgMCkmJnUuaXNORENIYWxmWlJhbmdlPzA6LTE7dmFyIGg9RC5WZWN0b3IzWzFdLmNvcHlGcm9tRmxvYXRzKGwueCxsLnksMS0xZS04KSxjPUQuVmVjdG9yM1syXSxkPUQuVmVjdG9yM1szXTtiLl9VbnByb2plY3RGcm9tSW52ZXJ0ZWRNYXRyaXhUb1JlZihsLGYsYyksYi5fVW5wcm9qZWN0RnJvbUludmVydGVkTWF0cml4VG9SZWYoaCxmLGQpLHRoaXMub3JpZ2luLmNvcHlGcm9tKGMpLGQuc3VidHJhY3RUb1JlZihjLHRoaXMuZGlyZWN0aW9uKSx0aGlzLmRpcmVjdGlvbi5ub3JtYWxpemUoKX0saS5fVG1wVmVjdG9yMz1BZS5CdWlsZEFycmF5KDYsYi5aZXJvKSxpLl9SYXlEaXN0YW50PWkuWmVybygpLGkuX1NtYWxsbnVtPTFlLTgsaS5fUmF5bD0xZTksaX0oKTtyZS5wcm90b3R5cGUuY3JlYXRlUGlja2luZ1JheT1mdW5jdGlvbihpLGUsdCxyLG4pe249PT12b2lkIDAmJihuPSExKTt2YXIgYT1hdC5aZXJvKCk7cmV0dXJuIHRoaXMuY3JlYXRlUGlja2luZ1JheVRvUmVmKGksZSx0LGEscixuKSxhfSxyZS5wcm90b3R5cGUuY3JlYXRlUGlja2luZ1JheVRvUmVmPWZ1bmN0aW9uKGksZSx0LHIsbixhLHMpe2E9PT12b2lkIDAmJihhPSExKSxzPT09dm9pZCAwJiYocz0hMSk7dmFyIG89dGhpcy5nZXRFbmdpbmUoKTtpZighbil7aWYoIXRoaXMuYWN0aXZlQ2FtZXJhKXJldHVybiB0aGlzO249dGhpcy5hY3RpdmVDYW1lcmF9dmFyIHU9bi52aWV3cG9ydCxmPXUudG9HbG9iYWwoby5nZXRSZW5kZXJXaWR0aCgpLG8uZ2V0UmVuZGVySGVpZ2h0KCkpO3JldHVybiBpPWkvby5nZXRIYXJkd2FyZVNjYWxpbmdMZXZlbCgpLWYueCxlPWUvby5nZXRIYXJkd2FyZVNjYWxpbmdMZXZlbCgpLShvLmdldFJlbmRlckhlaWdodCgpLWYueS1mLmhlaWdodCksci51cGRhdGUoaSxlLGYud2lkdGgsZi5oZWlnaHQsdHx8SS5JZGVudGl0eVJlYWRPbmx5LGE/SS5JZGVudGl0eVJlYWRPbmx5Om4uZ2V0Vmlld01hdHJpeCgpLG4uZ2V0UHJvamVjdGlvbk1hdHJpeCgpLHMpLHRoaXN9LHJlLnByb3RvdHlwZS5jcmVhdGVQaWNraW5nUmF5SW5DYW1lcmFTcGFjZT1mdW5jdGlvbihpLGUsdCl7dmFyIHI9YXQuWmVybygpO3JldHVybiB0aGlzLmNyZWF0ZVBpY2tpbmdSYXlJbkNhbWVyYVNwYWNlVG9SZWYoaSxlLHIsdCkscn0scmUucHJvdG90eXBlLmNyZWF0ZVBpY2tpbmdSYXlJbkNhbWVyYVNwYWNlVG9SZWY9ZnVuY3Rpb24oaSxlLHQscil7aWYoIVFlKXJldHVybiB0aGlzO3ZhciBuPXRoaXMuZ2V0RW5naW5lKCk7aWYoIXIpe2lmKCF0aGlzLmFjdGl2ZUNhbWVyYSl0aHJvdyBuZXcgRXJyb3IoIkFjdGl2ZSBjYW1lcmEgbm90IHNldCIpO3I9dGhpcy5hY3RpdmVDYW1lcmF9dmFyIGE9ci52aWV3cG9ydCxzPWEudG9HbG9iYWwobi5nZXRSZW5kZXJXaWR0aCgpLG4uZ2V0UmVuZGVySGVpZ2h0KCkpLG89SS5JZGVudGl0eSgpO3JldHVybiBpPWkvbi5nZXRIYXJkd2FyZVNjYWxpbmdMZXZlbCgpLXMueCxlPWUvbi5nZXRIYXJkd2FyZVNjYWxpbmdMZXZlbCgpLShuLmdldFJlbmRlckhlaWdodCgpLXMueS1zLmhlaWdodCksdC51cGRhdGUoaSxlLHMud2lkdGgscy5oZWlnaHQsbyxvLHIuZ2V0UHJvamVjdGlvbk1hdHJpeCgpKSx0aGlzfSxyZS5wcm90b3R5cGUuX2ludGVybmFsUGlja0Zvck1lc2g9ZnVuY3Rpb24oaSxlLHQscixuLGEscyxvKXt2YXIgdT1lKHIsdC5lbmFibGVEaXN0YW50UGlja2luZyksZj10LmludGVyc2VjdHModSxuLHMsYSxyLG8pO3JldHVybiFmfHwhZi5oaXR8fCFuJiZpIT1udWxsJiZmLmRpc3RhbmNlPj1pLmRpc3RhbmNlP251bGw6Zn0scmUucHJvdG90eXBlLl9pbnRlcm5hbFBpY2s9ZnVuY3Rpb24oaSxlLHQscixuKXtpZighUWUpcmV0dXJuIG51bGw7Zm9yKHZhciBhPW51bGwscz0wO3M8dGhpcy5tZXNoZXMubGVuZ3RoO3MrKyl7dmFyIG89dGhpcy5tZXNoZXNbc107aWYoZSl7aWYoIWUobykpY29udGludWV9ZWxzZSBpZighby5pc0VuYWJsZWQoKXx8IW8uaXNWaXNpYmxlfHwhby5pc1BpY2thYmxlKWNvbnRpbnVlO3ZhciB1PW8uZ2V0V29ybGRNYXRyaXgoKTtpZihvLmhhc1RoaW5JbnN0YW5jZXMmJm8udGhpbkluc3RhbmNlRW5hYmxlUGlja2luZyl7dmFyIGY9dGhpcy5faW50ZXJuYWxQaWNrRm9yTWVzaChhLGksbyx1LCEwLCEwLG4pO2lmKGYpe2lmKHIpcmV0dXJuIGY7Zm9yKHZhciBsPUQuTWF0cml4WzFdLGg9by50aGluSW5zdGFuY2VHZXRXb3JsZE1hdHJpY2VzKCksYz0wO2M8aC5sZW5ndGg7YysrKXt2YXIgZD1oW2NdO2QubXVsdGlwbHlUb1JlZih1LGwpO3ZhciBwPXRoaXMuX2ludGVybmFsUGlja0Zvck1lc2goYSxpLG8sbCx0LHIsbiwhMCk7aWYocCYmKGE9cCxhLnRoaW5JbnN0YW5jZUluZGV4PWMsdCkpcmV0dXJuIGF9fX1lbHNle3ZhciBmPXRoaXMuX2ludGVybmFsUGlja0Zvck1lc2goYSxpLG8sdSx0LHIsbik7aWYoZiYmKGE9Zix0KSlyZXR1cm4gYX19cmV0dXJuIGF8fG5ldyBRZX0scmUucHJvdG90eXBlLl9pbnRlcm5hbE11bHRpUGljaz1mdW5jdGlvbihpLGUsdCl7aWYoIVFlKXJldHVybiBudWxsO2Zvcih2YXIgcj1uZXcgQXJyYXksbj0wO248dGhpcy5tZXNoZXMubGVuZ3RoO24rKyl7dmFyIGE9dGhpcy5tZXNoZXNbbl07aWYoZSl7aWYoIWUoYSkpY29udGludWV9ZWxzZSBpZighYS5pc0VuYWJsZWQoKXx8IWEuaXNWaXNpYmxlfHwhYS5pc1BpY2thYmxlKWNvbnRpbnVlO3ZhciBzPWEuZ2V0V29ybGRNYXRyaXgoKTtpZihhLmhhc1RoaW5JbnN0YW5jZXMmJmEudGhpbkluc3RhbmNlRW5hYmxlUGlja2luZyl7dmFyIG89dGhpcy5faW50ZXJuYWxQaWNrRm9yTWVzaChudWxsLGksYSxzLCEwLCEwLHQpO2lmKG8pZm9yKHZhciB1PUQuTWF0cml4WzFdLGY9YS50aGluSW5zdGFuY2VHZXRXb3JsZE1hdHJpY2VzKCksbD0wO2w8Zi5sZW5ndGg7bCsrKXt2YXIgaD1mW2xdO2gubXVsdGlwbHlUb1JlZihzLHUpO3ZhciBjPXRoaXMuX2ludGVybmFsUGlja0Zvck1lc2gobnVsbCxpLGEsdSwhMSwhMSx0LCEwKTtjJiYoYy50aGluSW5zdGFuY2VJbmRleD1sLHIucHVzaChjKSl9fWVsc2V7dmFyIG89dGhpcy5faW50ZXJuYWxQaWNrRm9yTWVzaChudWxsLGksYSxzLCExLCExLHQpO28mJnIucHVzaChvKX19cmV0dXJuIHJ9LHJlLnByb3RvdHlwZS5waWNrV2l0aEJvdW5kaW5nSW5mbz1mdW5jdGlvbihpLGUsdCxyLG4pe3ZhciBhPXRoaXM7aWYoIVFlKXJldHVybiBudWxsO3ZhciBzPXRoaXMuX2ludGVybmFsUGljayhmdW5jdGlvbihvKXtyZXR1cm4gYS5fdGVtcFBpY2tpbmdSYXl8fChhLl90ZW1wUGlja2luZ1JheT1hdC5aZXJvKCkpLGEuY3JlYXRlUGlja2luZ1JheVRvUmVmKGksZSxvLGEuX3RlbXBQaWNraW5nUmF5LG58fG51bGwpLGEuX3RlbXBQaWNraW5nUmF5fSx0LHIsITApO3JldHVybiBzJiYocy5yYXk9dGhpcy5jcmVhdGVQaWNraW5nUmF5KGksZSxJLklkZW50aXR5KCksbnx8bnVsbCkpLHN9LHJlLnByb3RvdHlwZS5waWNrPWZ1bmN0aW9uKGksZSx0LHIsbixhLHMpe3ZhciBvPXRoaXM7aWYoIVFlKXJldHVybiBudWxsO3ZhciB1PXRoaXMuX2ludGVybmFsUGljayhmdW5jdGlvbihmLGwpe3JldHVybiBvLl90ZW1wUGlja2luZ1JheXx8KG8uX3RlbXBQaWNraW5nUmF5PWF0Llplcm8oKSksby5jcmVhdGVQaWNraW5nUmF5VG9SZWYoaSxlLGYsby5fdGVtcFBpY2tpbmdSYXksbnx8bnVsbCwhMSxsKSxvLl90ZW1wUGlja2luZ1JheX0sdCxyLCExLGEpO3JldHVybiB1JiYodS5yYXk9dGhpcy5jcmVhdGVQaWNraW5nUmF5KGksZSxJLklkZW50aXR5KCksbnx8bnVsbCkpLHV9LHJlLnByb3RvdHlwZS5waWNrV2l0aFJheT1mdW5jdGlvbihpLGUsdCxyKXt2YXIgbj10aGlzLGE9dGhpcy5faW50ZXJuYWxQaWNrKGZ1bmN0aW9uKHMpe3JldHVybiBuLl9waWNrV2l0aFJheUludmVyc2VNYXRyaXh8fChuLl9waWNrV2l0aFJheUludmVyc2VNYXRyaXg9SS5JZGVudGl0eSgpKSxzLmludmVydFRvUmVmKG4uX3BpY2tXaXRoUmF5SW52ZXJzZU1hdHJpeCksbi5fY2FjaGVkUmF5Rm9yVHJhbnNmb3JtfHwobi5fY2FjaGVkUmF5Rm9yVHJhbnNmb3JtPWF0Llplcm8oKSksYXQuVHJhbnNmb3JtVG9SZWYoaSxuLl9waWNrV2l0aFJheUludmVyc2VNYXRyaXgsbi5fY2FjaGVkUmF5Rm9yVHJhbnNmb3JtKSxuLl9jYWNoZWRSYXlGb3JUcmFuc2Zvcm19LGUsdCwhMSxyKTtyZXR1cm4gYSYmKGEucmF5PWkpLGF9LHJlLnByb3RvdHlwZS5tdWx0aVBpY2s9ZnVuY3Rpb24oaSxlLHQscixuKXt2YXIgYT10aGlzO3JldHVybiB0aGlzLl9pbnRlcm5hbE11bHRpUGljayhmdW5jdGlvbihzKXtyZXR1cm4gYS5jcmVhdGVQaWNraW5nUmF5KGksZSxzLHJ8fG51bGwpfSx0LG4pfSxyZS5wcm90b3R5cGUubXVsdGlQaWNrV2l0aFJheT1mdW5jdGlvbihpLGUsdCl7dmFyIHI9dGhpcztyZXR1cm4gdGhpcy5faW50ZXJuYWxNdWx0aVBpY2soZnVuY3Rpb24obil7cmV0dXJuIHIuX3BpY2tXaXRoUmF5SW52ZXJzZU1hdHJpeHx8KHIuX3BpY2tXaXRoUmF5SW52ZXJzZU1hdHJpeD1JLklkZW50aXR5KCkpLG4uaW52ZXJ0VG9SZWYoci5fcGlja1dpdGhSYXlJbnZlcnNlTWF0cml4KSxyLl9jYWNoZWRSYXlGb3JUcmFuc2Zvcm18fChyLl9jYWNoZWRSYXlGb3JUcmFuc2Zvcm09YXQuWmVybygpKSxhdC5UcmFuc2Zvcm1Ub1JlZihpLHIuX3BpY2tXaXRoUmF5SW52ZXJzZU1hdHJpeCxyLl9jYWNoZWRSYXlGb3JUcmFuc2Zvcm0pLHIuX2NhY2hlZFJheUZvclRyYW5zZm9ybX0sZSx0KX0sT2UucHJvdG90eXBlLmdldEZvcndhcmRSYXk9ZnVuY3Rpb24oaSxlLHQpe3JldHVybiBpPT09dm9pZCAwJiYoaT0xMDApLHRoaXMuZ2V0Rm9yd2FyZFJheVRvUmVmKG5ldyBhdChiLlplcm8oKSxiLlplcm8oKSxpKSxpLGUsdCl9LE9lLnByb3RvdHlwZS5nZXRGb3J3YXJkUmF5VG9SZWY9ZnVuY3Rpb24oaSxlLHQscil7cmV0dXJuIGU9PT12b2lkIDAmJihlPTEwMCksdHx8KHQ9dGhpcy5nZXRXb3JsZE1hdHJpeCgpKSxpLmxlbmd0aD1lLHI/aS5vcmlnaW4uY29weUZyb20ocik6aS5vcmlnaW4uY29weUZyb20odGhpcy5wb3NpdGlvbiksRC5WZWN0b3IzWzJdLnNldCgwLDAsdGhpcy5fc2NlbmUudXNlUmlnaHRIYW5kZWRTeXN0ZW0/LTE6MSksYi5UcmFuc2Zvcm1Ob3JtYWxUb1JlZihELlZlY3RvcjNbMl0sdCxELlZlY3RvcjNbM10pLGIuTm9ybWFsaXplVG9SZWYoRC5WZWN0b3IzWzNdLGkuZGlyZWN0aW9uKSxpfTt2YXIgTWY9ZnVuY3Rpb24oaSxlLHQpe2Zvcih2YXIgciBpbiBlKWlmKGkubmFtZT09PWVbcl0pcmV0dXJuIHQucHVzaChpLmlkKSwhMDtyZXR1cm4gaS5wYXJlbnRJZCYmdC5pbmRleE9mKGkucGFyZW50SWQpIT09LTE/KHQucHVzaChpLmlkKSwhMCk6ITF9LERyPWZ1bmN0aW9uKGksZSl7cmV0dXJuIGkrIiBvZiAiKyhlP2UuZmlsZSsiIGZyb20gIitlLm5hbWUrIiB2ZXJzaW9uOiAiK2UudmVyc2lvbisiLCBleHBvcnRlciB2ZXJzaW9uOiAiK2UuZXhwb3J0ZXJfdmVyc2lvbjoidW5rbm93biIpfTtLZS5SZWdpc3RlclBsdWdpbih7bmFtZToiYmFieWxvbi5qcyIsZXh0ZW5zaW9uczoiLmpzb24iLGNhbkRpcmVjdExvYWQ6ZnVuY3Rpb24oaSl7cmV0dXJuIGkuaW5kZXhPZigianNvbiIpIT09LTEsITB9LGltcG9ydE1lc2g6ZnVuY3Rpb24oaSxlLHQscixuLGEscyxvKXt2YXIgdT0iaW1wb3J0TWVzaCBoYXMgZmFpbGVkIEpTT04gcGFyc2UiO3RyeXt2YXIgZj1KU09OLnBhcnNlKHQpO2YucGh5c2ljc0VuYWJsZWQ9ITEsZj09bnVsbHx8Zi5tZXNoZXMubWFwKHk9PmRlbGV0ZSB5LnBoeXNpY3NJbXBvc3RvciksdT0iIjt2YXIgbD1LZS5sb2dnaW5nTGV2ZWw9PT1LZS5ERVRBSUxFRF9MT0dHSU5HO2k/QXJyYXkuaXNBcnJheShpKXx8KGk9W2ldKTppPW51bGw7dmFyIGg9bmV3IEFycmF5O2lmKGYubWVzaGVzIT09dm9pZCAwJiZmLm1lc2hlcyE9PW51bGwpe3ZhciBjLGQ7Zm9yKGM9MCxkPWYubWVzaGVzLmxlbmd0aDtjPGQ7YysrKXt2YXIgcD1mLm1lc2hlc1tjXTtpZihpPT09bnVsbHx8TWYocCxpLGgpKXtpIT09bnVsbCYmZGVsZXRlIGlbaS5pbmRleE9mKHAubmFtZSldO3ZhciBnPVEuUGFyc2UocCxlLHIpO24ucHVzaChnKSx1Kz1gCglNZXNoIGArZy50b1N0cmluZyhsKX19dmFyIF87Zm9yKGM9MCxkPWUubWVzaGVzLmxlbmd0aDtjPGQ7YysrKV89ZS5tZXNoZXNbY10sXy5fd2FpdGluZ1BhcmVudElkJiYoXy5wYXJlbnQ9ZS5nZXRMYXN0RW50cnlCeUlEKF8uX3dhaXRpbmdQYXJlbnRJZCksXy5fd2FpdGluZ1BhcmVudElkPW51bGwpLF8uY29tcHV0ZVdvcmxkTWF0cml4KCEwKX1yZXR1cm4hMH1jYXRjaCh5KXt2YXIgdj1EcigiaW1wb3J0TWVzaCIsZj9mLnByb2R1Y2VyOiJVbmtub3duIikrdTtpZihvKW8odix5KTtlbHNlIHRocm93IFcuTG9nKHYpLHl9ZmluYWxseXt1IT09bnVsbCYmS2UubG9nZ2luZ0xldmVsIT09S2UuTk9fTE9HR0lORyYmVy5Mb2coRHIoImltcG9ydE1lc2giLGY/Zi5wcm9kdWNlcjoiVW5rbm93biIpKyhLZS5sb2dnaW5nTGV2ZWwhPT1LZS5NSU5JTUFMX0xPR0dJTkc/dToiIikpfXJldHVybiExfSxsb2FkOmZ1bmN0aW9uKGksZSx0LHIpe3ZhciBuPSJpbXBvcnRTY2VuZSBoYXMgZmFpbGVkIEpTT04gcGFyc2UiO3RyeXt2YXIgYT1KU09OLnBhcnNlKGUpO249IiIsYS5jbGVhckNvbG9yIT09dm9pZCAwJiZhLmNsZWFyQ29sb3IhPT1udWxsJiYoaS5jbGVhckNvbG9yPUNvbG9yNC5Gcm9tQXJyYXkoYS5jbGVhckNvbG9yKSk7dmFyIHM9bG9hZEFzc2V0Q29udGFpbmVyKGksZSx0LHIsITApO3JldHVybiEhc31jYXRjaCh1KXt2YXIgbz1EcigiaW1wb3J0U2NlbmUiLGE/YS5wcm9kdWNlcjoiVW5rbm93biIpK247aWYocilyKG8sdSk7ZWxzZSB0aHJvdyBXLkxvZyhvKSx1fWZpbmFsbHl7biE9PW51bGwmJktlLmxvZ2dpbmdMZXZlbCE9PUtlLk5PX0xPR0dJTkcmJlcuTG9nKERyKCJpbXBvcnRTY2VuZSIsYT9hLnByb2R1Y2VyOiJVbmtub3duIikrKEtlLmxvZ2dpbmdMZXZlbCE9PUtlLk1JTklNQUxfTE9HR0lORz9uOiIiKSl9cmV0dXJuITF9LGxvYWRBc3NldENvbnRhaW5lcjpmdW5jdGlvbihpLGUsdCxyKXt2YXIgbj1sb2FkQXNzZXRDb250YWluZXIoaSxlLHQscik7cmV0dXJuIG59fSksUS5faW5zdGFuY2VkTWVzaEZhY3Rvcnk9ZnVuY3Rpb24oaSxlKXt2YXIgdD1uZXcgQWYoaSxlKTtpZihlLmluc3RhbmNlZEJ1ZmZlcnMpe3QuaW5zdGFuY2VkQnVmZmVycz17fTtmb3IodmFyIHIgaW4gZS5pbnN0YW5jZWRCdWZmZXJzKXQuaW5zdGFuY2VkQnVmZmVyc1tyXT1lLmluc3RhbmNlZEJ1ZmZlcnNbcl19cmV0dXJuIHR9O3ZhciBBZj1mdW5jdGlvbihpKXtLKGUsaSk7ZnVuY3Rpb24gZSh0LHIpe3ZhciBuPWkuY2FsbCh0aGlzLHQsci5nZXRTY2VuZSgpKXx8dGhpcztuLl9pbmRleEluU291cmNlTWVzaEluc3RhbmNlQXJyYXk9LTEsbi5fZGlzdGFuY2VUb0NhbWVyYT0wLHIuYWRkSW5zdGFuY2Uobiksbi5fc291cmNlTWVzaD1yLG4uX3VuSW5kZXhlZD1yLl91bkluZGV4ZWQsbi5wb3NpdGlvbi5jb3B5RnJvbShyLnBvc2l0aW9uKSxuLnJvdGF0aW9uLmNvcHlGcm9tKHIucm90YXRpb24pLG4uc2NhbGluZy5jb3B5RnJvbShyLnNjYWxpbmcpLHIucm90YXRpb25RdWF0ZXJuaW9uJiYobi5yb3RhdGlvblF1YXRlcm5pb249ci5yb3RhdGlvblF1YXRlcm5pb24uY2xvbmUoKSksbi5hbmltYXRpb25zPXIuYW5pbWF0aW9ucy5zbGljZSgpO2Zvcih2YXIgYT0wLHM9ci5nZXRBbmltYXRpb25SYW5nZXMoKTthPHMubGVuZ3RoO2ErKyl7dmFyIG89c1thXTtvIT1udWxsJiZuLmNyZWF0ZUFuaW1hdGlvblJhbmdlKG8ubmFtZSxvLmZyb20sby50byl9cmV0dXJuIG4uaW5maW5pdGVEaXN0YW5jZT1yLmluZmluaXRlRGlzdGFuY2Usbi5zZXRQaXZvdE1hdHJpeChyLmdldFBpdm90TWF0cml4KCkpLG4ucmVmcmVzaEJvdW5kaW5nSW5mbyghMCwhMCksbi5fc3luY1N1Yk1lc2hlcygpLG59cmV0dXJuIGUucHJvdG90eXBlLmdldENsYXNzTmFtZT1mdW5jdGlvbigpe3JldHVybiJJbnN0YW5jZWRNZXNoIn0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJsaWdodFNvdXJjZXMiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc291cmNlTWVzaC5fbGlnaHRTb3VyY2VzfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLl9yZXN5bmNMaWdodFNvdXJjZXM9ZnVuY3Rpb24oKXt9LGUucHJvdG90eXBlLl9yZXN5bmNMaWdodFNvdXJjZT1mdW5jdGlvbigpe30sZS5wcm90b3R5cGUuX3JlbW92ZUxpZ2h0U291cmNlPWZ1bmN0aW9uKCl7fSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInJlY2VpdmVTaGFkb3dzIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NvdXJjZU1lc2gucmVjZWl2ZVNoYWRvd3N9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJtYXRlcmlhbCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zb3VyY2VNZXNoLm1hdGVyaWFsfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwidmlzaWJpbGl0eSIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zb3VyY2VNZXNoLnZpc2liaWxpdHl9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLCJza2VsZXRvbiIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zb3VyY2VNZXNoLnNrZWxldG9ufSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwicmVuZGVyaW5nR3JvdXBJZCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zb3VyY2VNZXNoLnJlbmRlcmluZ0dyb3VwSWR9LHNldDpmdW5jdGlvbih0KXshdGhpcy5fc291cmNlTWVzaHx8dD09PXRoaXMuX3NvdXJjZU1lc2gucmVuZGVyaW5nR3JvdXBJZHx8Vy5XYXJuKCJOb3RlIC0gc2V0dGluZyByZW5kZXJpbmdHcm91cElkIG9mIGFuIGluc3RhbmNlZCBtZXNoIGhhcyBubyBlZmZlY3Qgb24gdGhlIHNjZW5lIil9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUuZ2V0VG90YWxWZXJ0aWNlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zb3VyY2VNZXNoP3RoaXMuX3NvdXJjZU1lc2guZ2V0VG90YWxWZXJ0aWNlcygpOjB9LGUucHJvdG90eXBlLmdldFRvdGFsSW5kaWNlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zb3VyY2VNZXNoLmdldFRvdGFsSW5kaWNlcygpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsInNvdXJjZU1lc2giLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc291cmNlTWVzaH0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxlLnByb3RvdHlwZS5jcmVhdGVJbnN0YW5jZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fc291cmNlTWVzaC5jcmVhdGVJbnN0YW5jZSh0KX0sZS5wcm90b3R5cGUuaXNSZWFkeT1mdW5jdGlvbih0KXtyZXR1cm4gdD09PXZvaWQgMCYmKHQ9ITEpLHRoaXMuX3NvdXJjZU1lc2guaXNSZWFkeSh0LCEwKX0sZS5wcm90b3R5cGUuZ2V0VmVydGljZXNEYXRhPWZ1bmN0aW9uKHQscil7cmV0dXJuIHRoaXMuX3NvdXJjZU1lc2guZ2V0VmVydGljZXNEYXRhKHQscil9LGUucHJvdG90eXBlLnNldFZlcnRpY2VzRGF0YT1mdW5jdGlvbih0LHIsbixhKXtyZXR1cm4gdGhpcy5zb3VyY2VNZXNoJiZ0aGlzLnNvdXJjZU1lc2guc2V0VmVydGljZXNEYXRhKHQscixuLGEpLHRoaXMuc291cmNlTWVzaH0sZS5wcm90b3R5cGUudXBkYXRlVmVydGljZXNEYXRhPWZ1bmN0aW9uKHQscixuLGEpe3JldHVybiB0aGlzLnNvdXJjZU1lc2gmJnRoaXMuc291cmNlTWVzaC51cGRhdGVWZXJ0aWNlc0RhdGEodCxyLG4sYSksdGhpcy5zb3VyY2VNZXNofSxlLnByb3RvdHlwZS5zZXRJbmRpY2VzPWZ1bmN0aW9uKHQscil7cmV0dXJuIHI9PT12b2lkIDAmJihyPW51bGwpLHRoaXMuc291cmNlTWVzaCYmdGhpcy5zb3VyY2VNZXNoLnNldEluZGljZXModCxyKSx0aGlzLnNvdXJjZU1lc2h9LGUucHJvdG90eXBlLmlzVmVydGljZXNEYXRhUHJlc2VudD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fc291cmNlTWVzaC5pc1ZlcnRpY2VzRGF0YVByZXNlbnQodCl9LGUucHJvdG90eXBlLmdldEluZGljZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc291cmNlTWVzaC5nZXRJbmRpY2VzKCl9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwiX3Bvc2l0aW9ucyIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zb3VyY2VNZXNoLl9wb3NpdGlvbnN9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksZS5wcm90b3R5cGUucmVmcmVzaEJvdW5kaW5nSW5mbz1mdW5jdGlvbih0LHIpe2lmKHQ9PT12b2lkIDAmJih0PSExKSxyPT09dm9pZCAwJiYocj0hMSksdGhpcy5oYXNCb3VuZGluZ0luZm8mJnRoaXMuZ2V0Qm91bmRpbmdJbmZvKCkuaXNMb2NrZWQpcmV0dXJuIHRoaXM7dmFyIG49dGhpcy5fc291cmNlTWVzaC5nZW9tZXRyeT90aGlzLl9zb3VyY2VNZXNoLmdlb21ldHJ5LmJvdW5kaW5nQmlhczpudWxsO3JldHVybiB0aGlzLl9yZWZyZXNoQm91bmRpbmdJbmZvKHRoaXMuX3NvdXJjZU1lc2guX2dldFBvc2l0aW9uRGF0YSh0LHIpLG4pLHRoaXN9LGUucHJvdG90eXBlLl9wcmVBY3RpdmF0ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9jdXJyZW50TE9EJiZ0aGlzLl9jdXJyZW50TE9ELl9wcmVBY3RpdmF0ZSgpLHRoaXN9LGUucHJvdG90eXBlLl9hY3RpdmF0ZT1mdW5jdGlvbih0LHIpe2lmKGkucHJvdG90eXBlLl9hY3RpdmF0ZS5jYWxsKHRoaXMsdCxyKSx0aGlzLl9zb3VyY2VNZXNoLnN1Yk1lc2hlc3x8Vy5XYXJuKCJJbnN0YW5jZXMgc2hvdWxkIG9ubHkgYmUgY3JlYXRlZCBmb3IgbWVzaGVzIHdpdGggZ2VvbWV0cnkuIiksdGhpcy5fY3VycmVudExPRCl7dmFyIG49dGhpcy5fY3VycmVudExPRC5fZ2V0V29ybGRNYXRyaXhEZXRlcm1pbmFudCgpPj0wIT10aGlzLl9nZXRXb3JsZE1hdHJpeERldGVybWluYW50KCk+PTA7aWYobilyZXR1cm4gdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fYWN0QXNSZWd1bGFyTWVzaD0hMCwhMDtpZih0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9hY3RBc1JlZ3VsYXJNZXNoPSExLHRoaXMuX2N1cnJlbnRMT0QuX3JlZ2lzdGVySW5zdGFuY2VGb3JSZW5kZXJJZCh0aGlzLHQpLHIpe2lmKCF0aGlzLl9jdXJyZW50TE9ELl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9pc0FjdGl2ZUludGVybWVkaWF0ZSlyZXR1cm4gdGhpcy5fY3VycmVudExPRC5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fb25seUZvckluc3RhbmNlc0ludGVybWVkaWF0ZT0hMCwhMH1lbHNlIGlmKCF0aGlzLl9jdXJyZW50TE9ELl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9pc0FjdGl2ZSlyZXR1cm4gdGhpcy5fY3VycmVudExPRC5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fb25seUZvckluc3RhbmNlcz0hMCwhMH1yZXR1cm4hMX0sZS5wcm90b3R5cGUuX3Bvc3RBY3RpdmF0ZT1mdW5jdGlvbigpe3RoaXMuX3NvdXJjZU1lc2guZWRnZXNTaGFyZVdpdGhJbnN0YW5jZXMmJnRoaXMuX3NvdXJjZU1lc2guX2VkZ2VzUmVuZGVyZXImJnRoaXMuX3NvdXJjZU1lc2guX2VkZ2VzUmVuZGVyZXIuaXNFbmFibGVkJiZ0aGlzLl9zb3VyY2VNZXNoLl9yZW5kZXJpbmdHcm91cD8odGhpcy5fc291cmNlTWVzaC5fcmVuZGVyaW5nR3JvdXAuX2VkZ2VzUmVuZGVyZXJzLnB1c2hOb0R1cGxpY2F0ZSh0aGlzLl9zb3VyY2VNZXNoLl9lZGdlc1JlbmRlcmVyKSx0aGlzLl9zb3VyY2VNZXNoLl9lZGdlc1JlbmRlcmVyLmN1c3RvbUluc3RhbmNlcy5wdXNoKHRoaXMuZ2V0V29ybGRNYXRyaXgoKSkpOnRoaXMuX2VkZ2VzUmVuZGVyZXImJnRoaXMuX2VkZ2VzUmVuZGVyZXIuaXNFbmFibGVkJiZ0aGlzLl9zb3VyY2VNZXNoLl9yZW5kZXJpbmdHcm91cCYmdGhpcy5fc291cmNlTWVzaC5fcmVuZGVyaW5nR3JvdXAuX2VkZ2VzUmVuZGVyZXJzLnB1c2godGhpcy5fZWRnZXNSZW5kZXJlcil9LGUucHJvdG90eXBlLmdldFdvcmxkTWF0cml4PWZ1bmN0aW9uKCl7aWYodGhpcy5fY3VycmVudExPRCYmdGhpcy5fY3VycmVudExPRC5iaWxsYm9hcmRNb2RlIT09SmUuQklMTEJPQVJETU9ERV9OT05FJiZ0aGlzLl9jdXJyZW50TE9ELl9tYXN0ZXJNZXNoIT09dGhpcyl7dGhpcy5fYmlsbGJvYXJkV29ybGRNYXRyaXh8fCh0aGlzLl9iaWxsYm9hcmRXb3JsZE1hdHJpeD1uZXcgSSk7dmFyIHQ9dGhpcy5fY3VycmVudExPRC5fbWFzdGVyTWVzaDtyZXR1cm4gdGhpcy5fY3VycmVudExPRC5fbWFzdGVyTWVzaD10aGlzLEQuVmVjdG9yM1s3XS5jb3B5RnJvbSh0aGlzLl9jdXJyZW50TE9ELnBvc2l0aW9uKSx0aGlzLl9jdXJyZW50TE9ELnBvc2l0aW9uLnNldCgwLDAsMCksdGhpcy5fYmlsbGJvYXJkV29ybGRNYXRyaXguY29weUZyb20odGhpcy5fY3VycmVudExPRC5jb21wdXRlV29ybGRNYXRyaXgoITApKSx0aGlzLl9jdXJyZW50TE9ELnBvc2l0aW9uLmNvcHlGcm9tKEQuVmVjdG9yM1s3XSksdGhpcy5fY3VycmVudExPRC5fbWFzdGVyTWVzaD10LHRoaXMuX2JpbGxib2FyZFdvcmxkTWF0cml4fXJldHVybiBpLnByb3RvdHlwZS5nZXRXb3JsZE1hdHJpeC5jYWxsKHRoaXMpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZS5wcm90b3R5cGUsImlzQW5JbnN0YW5jZSIse2dldDpmdW5jdGlvbigpe3JldHVybiEwfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLmdldExPRD1mdW5jdGlvbih0KXtpZighdClyZXR1cm4gdGhpczt2YXIgcj10aGlzLnNvdXJjZU1lc2guZ2V0TE9ETGV2ZWxzKCk7aWYoIXJ8fHIubGVuZ3RoPT09MCl0aGlzLl9jdXJyZW50TE9EPXRoaXMuc291cmNlTWVzaDtlbHNle3ZhciBuPXRoaXMuZ2V0Qm91bmRpbmdJbmZvKCk7dGhpcy5fY3VycmVudExPRD10aGlzLnNvdXJjZU1lc2guZ2V0TE9EKHQsbi5ib3VuZGluZ1NwaGVyZSl9cmV0dXJuIHRoaXMuX2N1cnJlbnRMT0R9LGUucHJvdG90eXBlLl9wcmVBY3RpdmF0ZUZvckludGVybWVkaWF0ZVJlbmRlcmluZz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zb3VyY2VNZXNoLl9wcmVBY3RpdmF0ZUZvckludGVybWVkaWF0ZVJlbmRlcmluZyh0KX0sZS5wcm90b3R5cGUuX3N5bmNTdWJNZXNoZXM9ZnVuY3Rpb24oKXtpZih0aGlzLnJlbGVhc2VTdWJNZXNoZXMoKSx0aGlzLl9zb3VyY2VNZXNoLnN1Yk1lc2hlcylmb3IodmFyIHQ9MDt0PHRoaXMuX3NvdXJjZU1lc2guc3ViTWVzaGVzLmxlbmd0aDt0KyspdGhpcy5fc291cmNlTWVzaC5zdWJNZXNoZXNbdF0uY2xvbmUodGhpcyx0aGlzLl9zb3VyY2VNZXNoKTtyZXR1cm4gdGhpc30sZS5wcm90b3R5cGUuX2dlbmVyYXRlUG9pbnRzQXJyYXk9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc291cmNlTWVzaC5fZ2VuZXJhdGVQb2ludHNBcnJheSgpfSxlLnByb3RvdHlwZS5fdXBkYXRlQm91bmRpbmdJbmZvPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaGFzQm91bmRpbmdJbmZvP3RoaXMuZ2V0Qm91bmRpbmdJbmZvKCkudXBkYXRlKHRoaXMud29ybGRNYXRyaXhGcm9tQ2FjaGUpOnRoaXMuYnVpbGRCb3VuZGluZ0luZm8odGhpcy5hYnNvbHV0ZVBvc2l0aW9uLHRoaXMuYWJzb2x1dGVQb3NpdGlvbix0aGlzLndvcmxkTWF0cml4RnJvbUNhY2hlKSx0aGlzLl91cGRhdGVTdWJNZXNoZXNCb3VuZGluZ0luZm8odGhpcy53b3JsZE1hdHJpeEZyb21DYWNoZSksdGhpc30sZS5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24odCxyLG4pe3I9PT12b2lkIDAmJihyPW51bGwpO3ZhciBhPXRoaXMuX3NvdXJjZU1lc2guY3JlYXRlSW5zdGFuY2UodCk7aWYoSHIuRGVlcENvcHkodGhpcyxhLFsibmFtZSIsInN1Yk1lc2hlcyIsInVuaXF1ZUlkIiwicGFyZW50IiwibGlnaHRTb3VyY2VzIiwicmVjZWl2ZVNoYWRvd3MiLCJtYXRlcmlhbCIsInZpc2liaWxpdHkiLCJza2VsZXRvbiIsInNvdXJjZU1lc2giLCJpc0FuSW5zdGFuY2UiLCJmYWNldE5iIiwiaXNGYWNldERhdGFFbmFibGVkIiwiaXNCbG9ja2VkIiwidXNlQm9uZXMiLCJoYXNJbnN0YW5jZXMiLCJjb2xsaWRlciIsImVkZ2VzUmVuZGVyZXIiLCJmb3J3YXJkIiwidXAiLCJyaWdodCIsImFic29sdXRlUG9zaXRpb24iLCJhYnNvbHV0ZVNjYWxpbmciLCJhYnNvbHV0ZVJvdGF0aW9uUXVhdGVybmlvbiIsImlzV29ybGRNYXRyaXhGcm96ZW4iLCJub25Vbmlmb3JtU2NhbGluZyIsImJlaGF2aW9ycyIsIndvcmxkTWF0cml4RnJvbUNhY2hlIiwiaGFzVGhpbkluc3RhbmNlcyIsImhhc0JvdW5kaW5nSW5mbyJdLFtdKSx0aGlzLnJlZnJlc2hCb3VuZGluZ0luZm8oKSxyJiYoYS5wYXJlbnQ9ciksIW4pZm9yKHZhciBzPTA7czx0aGlzLmdldFNjZW5lKCkubWVzaGVzLmxlbmd0aDtzKyspe3ZhciBvPXRoaXMuZ2V0U2NlbmUoKS5tZXNoZXNbc107by5wYXJlbnQ9PT10aGlzJiZvLmNsb25lKG8ubmFtZSxhKX1yZXR1cm4gYS5jb21wdXRlV29ybGRNYXRyaXgoITApLHRoaXMub25DbG9uZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhhKSxhfSxlLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKHQscil7cj09PXZvaWQgMCYmKHI9ITEpLHRoaXMuX3NvdXJjZU1lc2gucmVtb3ZlSW5zdGFuY2UodGhpcyksaS5wcm90b3R5cGUuZGlzcG9zZS5jYWxsKHRoaXMsdCxyKX0sZX0obmkpO1EucHJvdG90eXBlLnJlZ2lzdGVySW5zdGFuY2VkQnVmZmVyPWZ1bmN0aW9uKGksZSl7dmFyIHQscjtpZigocj0odD10aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UpPT09bnVsbHx8dD09PXZvaWQgMD92b2lkIDA6dC52ZXJ0ZXhCdWZmZXJzW2ldKT09PW51bGx8fHI9PT12b2lkIDB8fHIuZGlzcG9zZSgpLCF0aGlzLmluc3RhbmNlZEJ1ZmZlcnMpe3RoaXMuaW5zdGFuY2VkQnVmZmVycz17fTtmb3IodmFyIG49MCxhPXRoaXMuaW5zdGFuY2VzO248YS5sZW5ndGg7bisrKXt2YXIgcz1hW25dO3MuaW5zdGFuY2VkQnVmZmVycz17fX10aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2V8fCh0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2U9e2RhdGE6e30sdmVydGV4QnVmZmVyczp7fSxzdHJpZGVzOnt9LHNpemVzOnt9LHZlcnRleEFycmF5T2JqZWN0czp0aGlzLmdldEVuZ2luZSgpLmdldENhcHMoKS52ZXJ0ZXhBcnJheU9iamVjdD97fTp2b2lkIDB9KX10aGlzLmluc3RhbmNlZEJ1ZmZlcnNbaV09bnVsbCx0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2Uuc3RyaWRlc1tpXT1lLHRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS5zaXplc1tpXT1lKjMyLHRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS5kYXRhW2ldPW5ldyBGbG9hdDMyQXJyYXkodGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnNpemVzW2ldKSx0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UudmVydGV4QnVmZmVyc1tpXT1uZXcgbSh0aGlzLmdldEVuZ2luZSgpLHRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS5kYXRhW2ldLGksITAsITEsZSwhMCk7Zm9yKHZhciBvPTAsdT10aGlzLmluc3RhbmNlcztvPHUubGVuZ3RoO28rKyl7dmFyIHM9dVtvXTtzLmluc3RhbmNlZEJ1ZmZlcnNbaV09bnVsbH10aGlzLl9pbnZhbGlkYXRlSW5zdGFuY2VWZXJ0ZXhBcnJheU9iamVjdCgpLHRoaXMuX21hcmtTdWJNZXNoZXNBc0F0dHJpYnV0ZXNEaXJ0eSgpfSxRLnByb3RvdHlwZS5fcHJvY2Vzc0luc3RhbmNlZEJ1ZmZlcnM9ZnVuY3Rpb24oaSxlKXt2YXIgdD1pLmxlbmd0aDtmb3IodmFyIHIgaW4gdGhpcy5pbnN0YW5jZWRCdWZmZXJzKXtmb3IodmFyIG49dGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnNpemVzW3JdLGE9dGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnN0cmlkZXNbcl0scz0odCsxKSphO248czspbio9Mjt0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UuZGF0YVtyXS5sZW5ndGghPW4mJih0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UuZGF0YVtyXT1uZXcgRmxvYXQzMkFycmF5KG4pLHRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS5zaXplc1tyXT1uLHRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS52ZXJ0ZXhCdWZmZXJzW3JdJiYodGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnZlcnRleEJ1ZmZlcnNbcl0uZGlzcG9zZSgpLHRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS52ZXJ0ZXhCdWZmZXJzW3JdPW51bGwpKTt2YXIgbz10aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UuZGF0YVtyXSx1PTA7aWYoZSl7dmFyIGY9dGhpcy5pbnN0YW5jZWRCdWZmZXJzW3JdO2YudG9BcnJheT9mLnRvQXJyYXkobyx1KTpmLmNvcHlUb0FycmF5P2YuY29weVRvQXJyYXkobyx1KTpvW3VdPWYsdSs9YX1mb3IodmFyIGw9MDtsPHQ7bCsrKXt2YXIgaD1pW2xdLGY9aC5pbnN0YW5jZWRCdWZmZXJzW3JdO2YudG9BcnJheT9mLnRvQXJyYXkobyx1KTpmLmNvcHlUb0FycmF5P2YuY29weVRvQXJyYXkobyx1KTpvW3VdPWYsdSs9YX10aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UudmVydGV4QnVmZmVyc1tyXT90aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UudmVydGV4QnVmZmVyc1tyXS51cGRhdGVEaXJlY3RseShvLDApOih0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UudmVydGV4QnVmZmVyc1tyXT1uZXcgbSh0aGlzLmdldEVuZ2luZSgpLHRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS5kYXRhW3JdLHIsITAsITEsYSwhMCksdGhpcy5faW52YWxpZGF0ZUluc3RhbmNlVmVydGV4QXJyYXlPYmplY3QoKSl9fSxRLnByb3RvdHlwZS5faW52YWxpZGF0ZUluc3RhbmNlVmVydGV4QXJyYXlPYmplY3Q9ZnVuY3Rpb24oKXtpZighKCF0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2V8fHRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS52ZXJ0ZXhBcnJheU9iamVjdHM9PT12b2lkIDApKXtmb3IodmFyIGkgaW4gdGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnZlcnRleEFycmF5T2JqZWN0cyl0aGlzLmdldEVuZ2luZSgpLnJlbGVhc2VWZXJ0ZXhBcnJheU9iamVjdCh0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UudmVydGV4QXJyYXlPYmplY3RzW2ldKTt0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UudmVydGV4QXJyYXlPYmplY3RzPXt9fX0sUS5wcm90b3R5cGUuX2Rpc3Bvc2VJbnN0YW5jZVNwZWNpZmljRGF0YT1mdW5jdGlvbigpe2Zvcih0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLmluc3RhbmNlc0J1ZmZlciYmKHRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UuaW5zdGFuY2VzQnVmZmVyLmRpc3Bvc2UoKSx0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLmluc3RhbmNlc0J1ZmZlcj1udWxsKTt0aGlzLmluc3RhbmNlcy5sZW5ndGg7KXRoaXMuaW5zdGFuY2VzWzBdLmRpc3Bvc2UoKTtmb3IodmFyIGkgaW4gdGhpcy5pbnN0YW5jZWRCdWZmZXJzKXRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS52ZXJ0ZXhCdWZmZXJzW2ldJiZ0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UudmVydGV4QnVmZmVyc1tpXS5kaXNwb3NlKCk7dGhpcy5faW52YWxpZGF0ZUluc3RhbmNlVmVydGV4QXJyYXlPYmplY3QoKSx0aGlzLmluc3RhbmNlZEJ1ZmZlcnM9e319O2NvbnN0IFNuPWk9PkpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoaSkpLFJmPXthc3NldFBhdGg6IiIsZW5hYmxlU2hhZG93czohMSxncm91cElkOm51bGwsaWQ6bnVsbCxsaWdodHM6W10scm9sbElkOm51bGwsc2NlbmU6bnVsbH0scHQ9Y2xhc3N7Y29uc3RydWN0b3IoZSx0KXtxZSh0aGlzLCJ2YWx1ZSIsMCk7cWUodGhpcywiYXNsZWVwIiwhMSk7dGhpcy5jb25maWc9ZnQoZnQoe30sUmYpLGUpLHRoaXMuaWQ9dGhpcy5jb25maWcuaWQhPT12b2lkIDA/dGhpcy5jb25maWcuaWQ6RGF0ZS5ub3coKSx0aGlzLmRpZVR5cGU9YGQke3RoaXMuY29uZmlnLnNpZGVzfWAsdGhpcy5jb21ib0tleT1gJHt0aGlzLmNvbmZpZy50aGVtZX1fJHt0aGlzLmRpZVR5cGV9YCx0aGlzLnNjZW5lPXQsdGhpcy5jcmVhdGVJbnN0YW5jZSgpfWNyZWF0ZUluc3RhbmNlKCl7Y29uc3QgZT1gJHt0aGlzLmNvbmZpZy5tZXNoTmFtZX1fJHt0aGlzLmRpZVR5cGV9XyR7dGhpcy5jb25maWcudGhlbWV9JHt0aGlzLmNvbmZpZy5jb2xvclN1ZmZpeH1gLHQ9YCR7ZX0taW5zdGFuY2UtJHt0aGlzLmlkfWAscj10aGlzLnNjZW5lLmdldE1lc2hCeU5hbWUoZSkuY3JlYXRlSW5zdGFuY2UodCk7aWYodGhpcy5jb25maWcuY29sb3JTdWZmaXgubGVuZ3RoPjApe2NvbnN0IG49YmUuRnJvbUhleFN0cmluZyh0aGlzLmNvbmZpZy50aGVtZUNvbG9yKTtyLmluc3RhbmNlZEJ1ZmZlcnMuY3VzdG9tQ29sb3I9bn1yLnBvc2l0aW9uLnk9LTEwMCxyLnNjYWxpbmc9bmV3IGIodGhpcy5jb25maWcuc2NhbGUsdGhpcy5jb25maWcuc2NhbGUsdGhpcy5jb25maWcuc2NhbGUpLHRoaXMuY29uZmlnLmVuYWJsZVNoYWRvd3MmJnRoaXMuY29uZmlnLmxpZ2h0cy5kaXJlY3Rpb25hbC5zaGFkb3dHZW5lcmF0b3IuYWRkU2hhZG93Q2FzdGVyKHIpLHRoaXMubWVzaD1yfXN0YXRpYyBhc3luYyBsb2FkRGllKGUsdCl7Y29uc3R7c2lkZXM6cix0aGVtZTpuPSJkZWZhdWx0IixtZXNoTmFtZTphLGNvbG9yU3VmZml4OnN9PWUsbz1hKyJfZCIrcix1PW8rIl8iK24rcztsZXQgZj10LmdldE1lc2hCeU5hbWUodSk7cmV0dXJuIGZ8fChmPXQuZ2V0TWVzaEJ5TmFtZShvKS5jbG9uZSh1KSksZi5tYXRlcmlhbHx8KGYubWF0ZXJpYWw9dC5nZXRNYXRlcmlhbEJ5TmFtZShuK3MpLHMubGVuZ3RoPjAmJmYucmVnaXN0ZXJJbnN0YW5jZWRCdWZmZXIoImN1c3RvbUNvbG9yIiwzKSksZX1zdGF0aWMgYXN5bmMgbG9hZE1vZGVscyhlLHQpe2NvbnN0e21lc2hGaWxlUGF0aDpyLG1lc2hOYW1lOm4sc2NhbGU6YSxkNEZhY2VEb3duOnM9ITB9PWU7bGV0IG89ITEsdT0hMTtjb25zdCBmPWF3YWl0IGZldGNoKGAke3J9YCkudGhlbihsPT57aWYobC5vayl7Y29uc3QgaD1sLmhlYWRlcnMuZ2V0KCJjb250ZW50LXR5cGUiKTtpZihoJiZoLmluZGV4T2YoImFwcGxpY2F0aW9uL2pzb24iKSE9PS0xKXJldHVybiBsLmpzb24oKTtpZihsLnR5cGUmJmwudHlwZT09PSJiYXNpYyIpcmV0dXJuIGwuanNvbigpO3Rocm93IG5ldyBFcnJvcihgSW5jb3JyZWN0IGNvbnRlbnRUeXBlOiAke2h9LiBFeHBlY3RlZCAiYXBwbGljYXRpb24vanNvbiIgb3IgImJhc2ljImApfWVsc2UgdGhyb3cgbmV3IEVycm9yKGBVbmFibGUgdG8gbG9hZCAzRCBtZXNoIGZpbGU6ICcke3J9Jy4gUmVxdWVzdCByZWplY3RlZCB3aXRoIHN0YXR1cyAke2wuc3RhdHVzfTogJHtsLnN0YXR1c1RleHR9YCl9KS5jYXRjaChsPT5jb25zb2xlLmVycm9yKGwpKTtpZighIWYpcmV0dXJuIEtlLkltcG9ydE1lc2hBc3luYyhudWxsLG51bGwsImRhdGE6IitKU09OLnN0cmluZ2lmeShmKSx0KS50aGVuKGw9PntpZihsLm1lc2hlcy5mb3JFYWNoKGg9PntoLm5hbWU9PT0iX19yb290X18iJiZoLmRpc3Bvc2UoKSxoLm5hbWUuaW5jbHVkZXMoImNvbGxpZGVyIikmJihoLnNjYWxpbmc9bmV3IGIoLjksLjksLjkpKSxvfHwobz1oLm5hbWU9PT0iZDEwMCIpLHV8fCh1PWgubmFtZT09PSJkMTAiKSxoLnNldEVuYWJsZWQoITEpLGguZnJlZXplTm9ybWFscygpLGguZnJlZXplV29ybGRNYXRyaXgoKSxoLmlzUGlja2FibGU9ITEsaC5kb05vdFN5bmNCb3VuZGluZ0luZm89ITAsaC5uYW1lPW4rIl8iK2gubmFtZX0pLCFvJiZ1JiYodC5nZXRNZXNoQnlOYW1lKG4rIl9kMTAiKS5jbG9uZShuKyJfZDEwMCIpLHQuZ2V0TWVzaEJ5TmFtZShuKyJfZDEwX2NvbGxpZGVyIikuY2xvbmUobisiX2QxMDBfY29sbGlkZXIiKSxmLmNvbGxpZGVyRmFjZU1hcCYmKGYuY29sbGlkZXJGYWNlTWFwLmQxMDA9U24oZi5jb2xsaWRlckZhY2VNYXAuZDEwKSxPYmplY3QudmFsdWVzKGYuY29sbGlkZXJGYWNlTWFwLmQxMDApLmZvckVhY2goKGgsYyk9PntmLmNvbGxpZGVyRmFjZU1hcC5kMTAwW2NdPWgqKGg9PT0xMD8wOjEwKX0pKSksIWYuY29sbGlkZXJGYWNlTWFwKXRocm93IG5ldyBFcnJvcihgJ2NvbGxpZGVyRmFjZU1hcCcgZGF0YSBub3QgZm91bmQgaW4gJHtyfS4gV2l0aG91dCB0aGUgY29sbGlkZXJGYWNlTWFwIGRhdGEgZGljZSB2YWx1ZXMgY2FuIG5vdCBiZSByZXNvbHZlZC5gKTt0LnRoZW1lRGF0YVtuXT17fSx0LnRoZW1lRGF0YVtuXS5jb2xsaWRlckZhY2VNYXA9Zi5jb2xsaWRlckZhY2VNYXAsdC50aGVtZURhdGFbbl0uZDRGYWNlRG93bj1zfSkuY2F0Y2gobD0+Y29uc29sZS5lcnJvcihsKSksZi5tZXNoZXMuZmlsdGVyKGw9PmwubmFtZS5pbmNsdWRlcygiY29sbGlkZXIiKSl9dXBkYXRlQ29uZmlnKGUpe3RoaXMuY29uZmlnPWZ0KGZ0KHt9LHRoaXMuY29uZmlnKSxlKX1zdGF0aWMgc2V0VmVjdG9yMyhlLHQscil7cmV0dXJuIHB0LnZlY3RvcjMuc2V0KGUsdCxyKX1zdGF0aWMgZ2V0VmVjdG9yMygpe3JldHVybiBwdC52ZWN0b3IzfXN0YXRpYyBhc3luYyBnZXRSb2xsUmVzdWx0KGUsdCl7Y29uc3Qgcj0obj1lKT0+bmV3IFByb21pc2UoKGEscyk9Pntjb25zdCBvPWUuY29uZmlnLnBhcmVudE1lc2h8fGUuY29uZmlnLm1lc2hOYW1lLHU9dC50aGVtZURhdGFbb10uY29sbGlkZXJGYWNlTWFwLGY9dC50aGVtZURhdGFbb10uZDRGYWNlRG93bjtpZighdVtuLmRpZVR5cGVdKXRocm93IG5ldyBFcnJvcihgTm8gY29sbGlkZXJGYWNlTWFwIGRhdGEgZm9yICR7bi5kaWVUeXBlfWApO2NvbnN0IGw9dC5nZXRNZXNoQnlOYW1lKGAke299XyR7bi5kaWVUeXBlfV9jb2xsaWRlcmApLmNyZWF0ZUluc3RhbmNlKGAke299XyR7bi5kaWVUeXBlfS1oaXRib3gtJHtuLmlkfWApO2wuaXNQaWNrYWJsZT0hMCxsLmlzVmlzaWJsZT0hMCxsLnNldEVuYWJsZWQoITApLGwucG9zaXRpb249bi5tZXNoLnBvc2l0aW9uLGwucm90YXRpb25RdWF0ZXJuaW9uPW4ubWVzaC5yb3RhdGlvblF1YXRlcm5pb247bGV0IGg9cHQuc2V0VmVjdG9yMygwLDEsMCk7bi5kaWVUeXBlPT09ImQ0IiYmZiYmKGg9cHQuc2V0VmVjdG9yMygwLC0xLDApKSxwdC5yYXkuZGlyZWN0aW9uPWgscHQucmF5Lm9yaWdpbj1lLm1lc2gucG9zaXRpb247Y29uc3QgYz10LnBpY2tXaXRoUmF5KHB0LnJheSk7aWYobC5kaXNwb3NlKCksbi52YWx1ZT11W24uZGllVHlwZV1bYy5mYWNlSWRdLG4udmFsdWU9PT12b2lkIDApdGhyb3cgbmV3IEVycm9yKGBjb2xsaWRlckZhY2VNYXAgRXJyb3I6IE5vIHZhbHVlIGZvdW5kIGZvciAke24uZGllVHlwZX0gbWVzaCBmYWNlICR7Yy5mYWNlSWR9YCk7cmV0dXJuIGEobi52YWx1ZSl9KS5jYXRjaChhPT5jb25zb2xlLmVycm9yKGEpKTtyZXR1cm4gZS5tZXNoP2F3YWl0IHIoKTplLnZhbHVlfX07bGV0IHN0PXB0O3FlKHN0LCJyYXkiLG5ldyBhdChiLlplcm8oKSxiLlplcm8oKSwxKSkscWUoc3QsInZlY3RvcjMiLG5ldyBiLlplcm8pO3ZhciBQZj1mdW5jdGlvbigpe2Z1bmN0aW9uIGkoKXt9cmV0dXJuIGl9KCksSXI9ZnVuY3Rpb24oaSl7SyhlLGkpO2Z1bmN0aW9uIGUodCxyKXt2YXIgbj1pLmNhbGwodGhpcyx0LHIpfHx0aGlzO3JldHVybiBuLkN1c3RvbVBhcnRzPW5ldyBQZixuLmN1c3RvbVNoYWRlck5hbWVSZXNvbHZlPW4uQnVpbGRlcixuLkZyYWdtZW50U2hhZGVyPUdlLlNoYWRlcnNTdG9yZS5kZWZhdWx0UGl4ZWxTaGFkZXIsbi5WZXJ0ZXhTaGFkZXI9R2UuU2hhZGVyc1N0b3JlLmRlZmF1bHRWZXJ0ZXhTaGFkZXIsbn1yZXR1cm4gZS5wcm90b3R5cGUuQXR0YWNoQWZ0ZXJCaW5kPWZ1bmN0aW9uKHQscil7aWYodGhpcy5fbmV3VW5pZm9ybUluc3RhbmNlcylmb3IodmFyIG4gaW4gdGhpcy5fbmV3VW5pZm9ybUluc3RhbmNlcyl7dmFyIGE9bi50b1N0cmluZygpLnNwbGl0KCItIik7YVswXT09InZlYzIiP3Iuc2V0VmVjdG9yMihhWzFdLHRoaXMuX25ld1VuaWZvcm1JbnN0YW5jZXNbbl0pOmFbMF09PSJ2ZWMzIj9yLnNldFZlY3RvcjMoYVsxXSx0aGlzLl9uZXdVbmlmb3JtSW5zdGFuY2VzW25dKTphWzBdPT0idmVjNCI/ci5zZXRWZWN0b3I0KGFbMV0sdGhpcy5fbmV3VW5pZm9ybUluc3RhbmNlc1tuXSk6YVswXT09Im1hdDQiP3Iuc2V0TWF0cml4KGFbMV0sdGhpcy5fbmV3VW5pZm9ybUluc3RhbmNlc1tuXSk6YVswXT09ImZsb2F0IiYmci5zZXRGbG9hdChhWzFdLHRoaXMuX25ld1VuaWZvcm1JbnN0YW5jZXNbbl0pfWlmKHRoaXMuX25ld1NhbXBsZXJJbnN0YW5jZXMpZm9yKHZhciBuIGluIHRoaXMuX25ld1NhbXBsZXJJbnN0YW5jZXMpe3ZhciBhPW4udG9TdHJpbmcoKS5zcGxpdCgiLSIpO2FbMF09PSJzYW1wbGVyMkQiJiZ0aGlzLl9uZXdTYW1wbGVySW5zdGFuY2VzW25dLmlzUmVhZHkmJnRoaXMuX25ld1NhbXBsZXJJbnN0YW5jZXNbbl0uaXNSZWFkeSgpJiZyLnNldFRleHR1cmUoYVsxXSx0aGlzLl9uZXdTYW1wbGVySW5zdGFuY2VzW25dKX19LGUucHJvdG90eXBlLlJldmlld1VuaWZvcm09ZnVuY3Rpb24odCxyKXtpZih0PT0idW5pZm9ybSImJnRoaXMuX25ld1VuaWZvcm1zKWZvcih2YXIgbj0wO248dGhpcy5fbmV3VW5pZm9ybXMubGVuZ3RoO24rKyl0aGlzLl9jdXN0b21Vbmlmb3JtW25dLmluZGV4T2YoInNhbXBsZXIiKT09LTEmJnIucHVzaCh0aGlzLl9uZXdVbmlmb3Jtc1tuXSk7aWYodD09InNhbXBsZXIiJiZ0aGlzLl9uZXdVbmlmb3Jtcylmb3IodmFyIG49MDtuPHRoaXMuX25ld1VuaWZvcm1zLmxlbmd0aDtuKyspdGhpcy5fY3VzdG9tVW5pZm9ybVtuXS5pbmRleE9mKCJzYW1wbGVyIikhPS0xJiZyLnB1c2godGhpcy5fbmV3VW5pZm9ybXNbbl0pO3JldHVybiByfSxlLnByb3RvdHlwZS5CdWlsZGVyPWZ1bmN0aW9uKHQscixuLGEscyxvKXt2YXIgdT10aGlzO2lmKG8mJnRoaXMuX2N1c3RvbUF0dHJpYnV0ZXMmJnRoaXMuX2N1c3RvbUF0dHJpYnV0ZXMubGVuZ3RoPjAmJm8ucHVzaC5hcHBseShvLHRoaXMuX2N1c3RvbUF0dHJpYnV0ZXMpLHRoaXMuUmV2aWV3VW5pZm9ybSgidW5pZm9ybSIsciksdGhpcy5SZXZpZXdVbmlmb3JtKCJzYW1wbGVyIixhKSx0aGlzLl9pc0NyZWF0ZWRTaGFkZXIpcmV0dXJuIHRoaXMuX2NyZWF0ZWRTaGFkZXJOYW1lO3RoaXMuX2lzQ3JlYXRlZFNoYWRlcj0hMSxlLlNoYWRlckluZGV4ZXIrKzt2YXIgZj0iY3VzdG9tXyIrZS5TaGFkZXJJbmRleGVyLGw9dGhpcy5fYWZ0ZXJCaW5kLmJpbmQodGhpcyk7cmV0dXJuIHRoaXMuX2FmdGVyQmluZD1mdW5jdGlvbihoLGMpe2lmKCEhYyl7dS5BdHRhY2hBZnRlckJpbmQoaCxjKTt0cnl7bChoLGMpfWNhdGNoe319fSxHZS5TaGFkZXJzU3RvcmVbZisiVmVydGV4U2hhZGVyIl09dGhpcy5WZXJ0ZXhTaGFkZXIucmVwbGFjZSgiI2RlZmluZSBDVVNUT01fVkVSVEVYX0JFR0lOIix0aGlzLkN1c3RvbVBhcnRzLlZlcnRleF9CZWdpbj90aGlzLkN1c3RvbVBhcnRzLlZlcnRleF9CZWdpbjoiIikucmVwbGFjZSgiI2RlZmluZSBDVVNUT01fVkVSVEVYX0RFRklOSVRJT05TIiwodGhpcy5fY3VzdG9tVW5pZm9ybT90aGlzLl9jdXN0b21Vbmlmb3JtLmpvaW4oYApgKToiIikrKHRoaXMuQ3VzdG9tUGFydHMuVmVydGV4X0RlZmluaXRpb25zP3RoaXMuQ3VzdG9tUGFydHMuVmVydGV4X0RlZmluaXRpb25zOiIiKSkucmVwbGFjZSgiI2RlZmluZSBDVVNUT01fVkVSVEVYX01BSU5fQkVHSU4iLHRoaXMuQ3VzdG9tUGFydHMuVmVydGV4X01haW5CZWdpbj90aGlzLkN1c3RvbVBhcnRzLlZlcnRleF9NYWluQmVnaW46IiIpLnJlcGxhY2UoIiNkZWZpbmUgQ1VTVE9NX1ZFUlRFWF9VUERBVEVfUE9TSVRJT04iLHRoaXMuQ3VzdG9tUGFydHMuVmVydGV4X0JlZm9yZV9Qb3NpdGlvblVwZGF0ZWQ/dGhpcy5DdXN0b21QYXJ0cy5WZXJ0ZXhfQmVmb3JlX1Bvc2l0aW9uVXBkYXRlZDoiIikucmVwbGFjZSgiI2RlZmluZSBDVVNUT01fVkVSVEVYX1VQREFURV9OT1JNQUwiLHRoaXMuQ3VzdG9tUGFydHMuVmVydGV4X0JlZm9yZV9Ob3JtYWxVcGRhdGVkP3RoaXMuQ3VzdG9tUGFydHMuVmVydGV4X0JlZm9yZV9Ob3JtYWxVcGRhdGVkOiIiKS5yZXBsYWNlKCIjZGVmaW5lIENVU1RPTV9WRVJURVhfTUFJTl9FTkQiLHRoaXMuQ3VzdG9tUGFydHMuVmVydGV4X01haW5FbmQ/dGhpcy5DdXN0b21QYXJ0cy5WZXJ0ZXhfTWFpbkVuZDoiIiksdGhpcy5DdXN0b21QYXJ0cy5WZXJ0ZXhfQWZ0ZXJfV29ybGRQb3NDb21wdXRlZCYmKEdlLlNoYWRlcnNTdG9yZVtmKyJWZXJ0ZXhTaGFkZXIiXT1HZS5TaGFkZXJzU3RvcmVbZisiVmVydGV4U2hhZGVyIl0ucmVwbGFjZSgiI2RlZmluZSBDVVNUT01fVkVSVEVYX1VQREFURV9XT1JMRFBPUyIsdGhpcy5DdXN0b21QYXJ0cy5WZXJ0ZXhfQWZ0ZXJfV29ybGRQb3NDb21wdXRlZCkpLEdlLlNoYWRlcnNTdG9yZVtmKyJQaXhlbFNoYWRlciJdPXRoaXMuRnJhZ21lbnRTaGFkZXIucmVwbGFjZSgiI2RlZmluZSBDVVNUT01fRlJBR01FTlRfQkVHSU4iLHRoaXMuQ3VzdG9tUGFydHMuRnJhZ21lbnRfQmVnaW4/dGhpcy5DdXN0b21QYXJ0cy5GcmFnbWVudF9CZWdpbjoiIikucmVwbGFjZSgiI2RlZmluZSBDVVNUT01fRlJBR01FTlRfTUFJTl9CRUdJTiIsdGhpcy5DdXN0b21QYXJ0cy5GcmFnbWVudF9NYWluQmVnaW4/dGhpcy5DdXN0b21QYXJ0cy5GcmFnbWVudF9NYWluQmVnaW46IiIpLnJlcGxhY2UoIiNkZWZpbmUgQ1VTVE9NX0ZSQUdNRU5UX0RFRklOSVRJT05TIiwodGhpcy5fY3VzdG9tVW5pZm9ybT90aGlzLl9jdXN0b21Vbmlmb3JtLmpvaW4oYApgKToiIikrKHRoaXMuQ3VzdG9tUGFydHMuRnJhZ21lbnRfRGVmaW5pdGlvbnM/dGhpcy5DdXN0b21QYXJ0cy5GcmFnbWVudF9EZWZpbml0aW9uczoiIikpLnJlcGxhY2UoIiNkZWZpbmUgQ1VTVE9NX0ZSQUdNRU5UX1VQREFURV9ESUZGVVNFIix0aGlzLkN1c3RvbVBhcnRzLkZyYWdtZW50X0N1c3RvbV9EaWZmdXNlP3RoaXMuQ3VzdG9tUGFydHMuRnJhZ21lbnRfQ3VzdG9tX0RpZmZ1c2U6IiIpLnJlcGxhY2UoIiNkZWZpbmUgQ1VTVE9NX0ZSQUdNRU5UX1VQREFURV9BTFBIQSIsdGhpcy5DdXN0b21QYXJ0cy5GcmFnbWVudF9DdXN0b21fQWxwaGE/dGhpcy5DdXN0b21QYXJ0cy5GcmFnbWVudF9DdXN0b21fQWxwaGE6IiIpLnJlcGxhY2UoIiNkZWZpbmUgQ1VTVE9NX0ZSQUdNRU5UX0JFRk9SRV9MSUdIVFMiLHRoaXMuQ3VzdG9tUGFydHMuRnJhZ21lbnRfQmVmb3JlX0xpZ2h0cz90aGlzLkN1c3RvbVBhcnRzLkZyYWdtZW50X0JlZm9yZV9MaWdodHM6IiIpLnJlcGxhY2UoIiNkZWZpbmUgQ1VTVE9NX0ZSQUdNRU5UX0JFRk9SRV9GUkFHQ09MT1IiLHRoaXMuQ3VzdG9tUGFydHMuRnJhZ21lbnRfQmVmb3JlX0ZyYWdDb2xvcj90aGlzLkN1c3RvbVBhcnRzLkZyYWdtZW50X0JlZm9yZV9GcmFnQ29sb3I6IiIpLnJlcGxhY2UoIiNkZWZpbmUgQ1VTVE9NX0ZSQUdNRU5UX01BSU5fRU5EIix0aGlzLkN1c3RvbVBhcnRzLkZyYWdtZW50X01haW5FbmQ/dGhpcy5DdXN0b21QYXJ0cy5GcmFnbWVudF9NYWluRW5kOiIiKSx0aGlzLkN1c3RvbVBhcnRzLkZyYWdtZW50X0JlZm9yZV9Gb2cmJihHZS5TaGFkZXJzU3RvcmVbZisiUGl4ZWxTaGFkZXIiXT1HZS5TaGFkZXJzU3RvcmVbZisiUGl4ZWxTaGFkZXIiXS5yZXBsYWNlKCIjZGVmaW5lIENVU1RPTV9GUkFHTUVOVF9CRUZPUkVfRk9HIix0aGlzLkN1c3RvbVBhcnRzLkZyYWdtZW50X0JlZm9yZV9Gb2cpKSx0aGlzLl9pc0NyZWF0ZWRTaGFkZXI9ITAsdGhpcy5fY3JlYXRlZFNoYWRlck5hbWU9ZixmfSxlLnByb3RvdHlwZS5BZGRVbmlmb3JtPWZ1bmN0aW9uKHQscixuKXtyZXR1cm4gdGhpcy5fY3VzdG9tVW5pZm9ybXx8KHRoaXMuX2N1c3RvbVVuaWZvcm09bmV3IEFycmF5LHRoaXMuX25ld1VuaWZvcm1zPW5ldyBBcnJheSx0aGlzLl9uZXdTYW1wbGVySW5zdGFuY2VzPXt9LHRoaXMuX25ld1VuaWZvcm1JbnN0YW5jZXM9e30pLG4mJihyLmluZGV4T2YoInNhbXBsZXIiKSE9LTE/dGhpcy5fbmV3U2FtcGxlckluc3RhbmNlc1tyKyItIit0XT1uOnRoaXMuX25ld1VuaWZvcm1JbnN0YW5jZXNbcisiLSIrdF09biksdGhpcy5fY3VzdG9tVW5pZm9ybS5wdXNoKCJ1bmlmb3JtICIrcisiICIrdCsiOyIpLHRoaXMuX25ld1VuaWZvcm1zLnB1c2godCksdGhpc30sZS5wcm90b3R5cGUuQWRkQXR0cmlidXRlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9jdXN0b21BdHRyaWJ1dGVzfHwodGhpcy5fY3VzdG9tQXR0cmlidXRlcz1bXSksdGhpcy5fY3VzdG9tQXR0cmlidXRlcy5wdXNoKHQpLHRoaXN9LGUucHJvdG90eXBlLkZyYWdtZW50X0JlZ2luPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLkN1c3RvbVBhcnRzLkZyYWdtZW50X0JlZ2luPXQsdGhpc30sZS5wcm90b3R5cGUuRnJhZ21lbnRfRGVmaW5pdGlvbnM9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuQ3VzdG9tUGFydHMuRnJhZ21lbnRfRGVmaW5pdGlvbnM9dCx0aGlzfSxlLnByb3RvdHlwZS5GcmFnbWVudF9NYWluQmVnaW49ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuQ3VzdG9tUGFydHMuRnJhZ21lbnRfTWFpbkJlZ2luPXQsdGhpc30sZS5wcm90b3R5cGUuRnJhZ21lbnRfTWFpbkVuZD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5DdXN0b21QYXJ0cy5GcmFnbWVudF9NYWluRW5kPXQsdGhpc30sZS5wcm90b3R5cGUuRnJhZ21lbnRfQ3VzdG9tX0RpZmZ1c2U9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuQ3VzdG9tUGFydHMuRnJhZ21lbnRfQ3VzdG9tX0RpZmZ1c2U9dC5yZXBsYWNlKCJyZXN1bHQiLCJkaWZmdXNlQ29sb3IiKSx0aGlzfSxlLnByb3RvdHlwZS5GcmFnbWVudF9DdXN0b21fQWxwaGE9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuQ3VzdG9tUGFydHMuRnJhZ21lbnRfQ3VzdG9tX0FscGhhPXQucmVwbGFjZSgicmVzdWx0IiwiYWxwaGEiKSx0aGlzfSxlLnByb3RvdHlwZS5GcmFnbWVudF9CZWZvcmVfTGlnaHRzPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLkN1c3RvbVBhcnRzLkZyYWdtZW50X0JlZm9yZV9MaWdodHM9dCx0aGlzfSxlLnByb3RvdHlwZS5GcmFnbWVudF9CZWZvcmVfRm9nPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLkN1c3RvbVBhcnRzLkZyYWdtZW50X0JlZm9yZV9Gb2c9dCx0aGlzfSxlLnByb3RvdHlwZS5GcmFnbWVudF9CZWZvcmVfRnJhZ0NvbG9yPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLkN1c3RvbVBhcnRzLkZyYWdtZW50X0JlZm9yZV9GcmFnQ29sb3I9dC5yZXBsYWNlKCJyZXN1bHQiLCJjb2xvciIpLHRoaXN9LGUucHJvdG90eXBlLlZlcnRleF9CZWdpbj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5DdXN0b21QYXJ0cy5WZXJ0ZXhfQmVnaW49dCx0aGlzfSxlLnByb3RvdHlwZS5WZXJ0ZXhfRGVmaW5pdGlvbnM9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuQ3VzdG9tUGFydHMuVmVydGV4X0RlZmluaXRpb25zPXQsdGhpc30sZS5wcm90b3R5cGUuVmVydGV4X01haW5CZWdpbj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5DdXN0b21QYXJ0cy5WZXJ0ZXhfTWFpbkJlZ2luPXQsdGhpc30sZS5wcm90b3R5cGUuVmVydGV4X0JlZm9yZV9Qb3NpdGlvblVwZGF0ZWQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuQ3VzdG9tUGFydHMuVmVydGV4X0JlZm9yZV9Qb3NpdGlvblVwZGF0ZWQ9dC5yZXBsYWNlKCJyZXN1bHQiLCJwb3NpdGlvblVwZGF0ZWQiKSx0aGlzfSxlLnByb3RvdHlwZS5WZXJ0ZXhfQmVmb3JlX05vcm1hbFVwZGF0ZWQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuQ3VzdG9tUGFydHMuVmVydGV4X0JlZm9yZV9Ob3JtYWxVcGRhdGVkPXQucmVwbGFjZSgicmVzdWx0Iiwibm9ybWFsVXBkYXRlZCIpLHRoaXN9LGUucHJvdG90eXBlLlZlcnRleF9BZnRlcl9Xb3JsZFBvc0NvbXB1dGVkPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLkN1c3RvbVBhcnRzLlZlcnRleF9BZnRlcl9Xb3JsZFBvc0NvbXB1dGVkPXQsdGhpc30sZS5wcm90b3R5cGUuVmVydGV4X01haW5FbmQ9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuQ3VzdG9tUGFydHMuVmVydGV4X01haW5FbmQ9dCx0aGlzfSxlLlNoYWRlckluZGV4ZXI9MSxlfShzcik7d2UoIkJBQllMT04uQ3VzdG9tTWF0ZXJpYWwiLElyKSxJci5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oaSl7Y29uc3QgZT10aGlzLHQ9dGUuQ2xvbmUoKCk9Pm5ldyBJcihpLHRoaXMuZ2V0U2NlbmUoKSksdGhpcyk7cmV0dXJuIHQubmFtZT1pLHQuaWQ9aSx0LkN1c3RvbVBhcnRzLkZyYWdtZW50X0JlZ2luPWUuQ3VzdG9tUGFydHMuRnJhZ21lbnRfQmVnaW4sdC5DdXN0b21QYXJ0cy5GcmFnbWVudF9EZWZpbml0aW9ucz1lLkN1c3RvbVBhcnRzLkZyYWdtZW50X0RlZmluaXRpb25zLHQuQ3VzdG9tUGFydHMuRnJhZ21lbnRfTWFpbkJlZ2luPWUuQ3VzdG9tUGFydHMuRnJhZ21lbnRfTWFpbkJlZ2luLHQuQ3VzdG9tUGFydHMuRnJhZ21lbnRfQ3VzdG9tX0RpZmZ1c2U9ZS5DdXN0b21QYXJ0cy5GcmFnbWVudF9DdXN0b21fRGlmZnVzZSx0LkN1c3RvbVBhcnRzLkZyYWdtZW50X0JlZm9yZV9MaWdodHM9ZS5DdXN0b21QYXJ0cy5GcmFnbWVudF9CZWZvcmVfTGlnaHRzLHQuQ3VzdG9tUGFydHMuRnJhZ21lbnRfQmVmb3JlX0ZvZz1lLkN1c3RvbVBhcnRzLkZyYWdtZW50X0JlZm9yZV9Gb2csdC5DdXN0b21QYXJ0cy5GcmFnbWVudF9DdXN0b21fQWxwaGE9ZS5DdXN0b21QYXJ0cy5GcmFnbWVudF9DdXN0b21fQWxwaGEsdC5DdXN0b21QYXJ0cy5GcmFnbWVudF9CZWZvcmVfRnJhZ0NvbG9yPWUuQ3VzdG9tUGFydHMuRnJhZ21lbnRfQmVmb3JlX0ZyYWdDb2xvcix0LkN1c3RvbVBhcnRzLlZlcnRleF9CZWdpbj1lLkN1c3RvbVBhcnRzLlZlcnRleF9CZWdpbix0LkN1c3RvbVBhcnRzLlZlcnRleF9EZWZpbml0aW9ucz1lLkN1c3RvbVBhcnRzLlZlcnRleF9EZWZpbml0aW9ucyx0LkN1c3RvbVBhcnRzLlZlcnRleF9NYWluQmVnaW49ZS5DdXN0b21QYXJ0cy5WZXJ0ZXhfTWFpbkJlZ2luLHQuQ3VzdG9tUGFydHMuVmVydGV4X0JlZm9yZV9Qb3NpdGlvblVwZGF0ZWQ9ZS5DdXN0b21QYXJ0cy5WZXJ0ZXhfQmVmb3JlX1Bvc2l0aW9uVXBkYXRlZCx0LkN1c3RvbVBhcnRzLlZlcnRleF9CZWZvcmVfTm9ybWFsVXBkYXRlZD1lLkN1c3RvbVBhcnRzLlZlcnRleF9CZWZvcmVfTm9ybWFsVXBkYXRlZCx0LkN1c3RvbVBhcnRzLlZlcnRleF9BZnRlcl9Xb3JsZFBvc0NvbXB1dGVkPWUuQ3VzdG9tUGFydHMuVmVydGV4X0FmdGVyX1dvcmxkUG9zQ29tcHV0ZWQsdC5DdXN0b21QYXJ0cy5WZXJ0ZXhfTWFpbkVuZD1lLkN1c3RvbVBhcnRzLlZlcnRleF9NYWluRW5kLHR9O2NsYXNzIENme2NvbnN0cnVjdG9yKGUpe3FlKHRoaXMsImxvYWRlZFRoZW1lcyIse30pO3FlKHRoaXMsInRoZW1lRGF0YSIse30pO3RoaXMuc2NlbmU9ZS5zY2VuZX1hc3luYyBsb2FkU3RhbmRhcmRNYXRlcmlhbChlKXtjb25zdHt0aGVtZTp0LG1hdGVyaWFsOnJ9PWUsbj1uZXcgc3IodCx0aGlzLnNjZW5lKTtyLmRpZmZ1c2VUZXh0dXJlJiYobi5kaWZmdXNlVGV4dHVyZT1hd2FpdCB0aGlzLmdldFRleHR1cmUoImRpZmZ1c2UiLGUpKSxyLmJ1bXBUZXh0dXJlJiYobi5idW1wVGV4dHVyZT1hd2FpdCB0aGlzLmdldFRleHR1cmUoImJ1bXAiLGUpKSxyLnNwZWN1bGFyVGV4dHVyZSYmKG4uc3BlY3VsYXJUZXh0dXJlPWF3YWl0IHRoaXMuZ2V0VGV4dHVyZSgic3BlY3VsYXIiLGUpKSxuLmFsbG93U2hhZGVySG90U3dhcHBpbmc9ITF9YXN5bmMgbG9hZENvbG9yTWF0ZXJpYWwoZSl7Y29uc3R7dGhlbWU6dCxtYXRlcmlhbDpyfT1lLG49bmV3IElyKHQrIl9saWdodCIsdGhpcy5zY2VuZSksYT1TbihlKTtyLmRpZmZ1c2VUZXh0dXJlJiZyLmRpZmZ1c2VUZXh0dXJlLmxpZ2h0JiYoYS5tYXRlcmlhbC5kaWZmdXNlVGV4dHVyZT1lLm1hdGVyaWFsLmRpZmZ1c2VUZXh0dXJlLmxpZ2h0LG4uZGlmZnVzZVRleHR1cmU9YXdhaXQgdGhpcy5nZXRUZXh0dXJlKCJkaWZmdXNlIixhKSksci5idW1wVGV4dHVyZSYmKG4uYnVtcFRleHR1cmU9YXdhaXQgdGhpcy5nZXRUZXh0dXJlKCJidW1wIixlKSksci5zcGVjdWxhclRleHR1cmUmJihuLnNwZWN1bGFyVGV4dHVyZT1hd2FpdCB0aGlzLmdldFRleHR1cmUoInNwZWN1bGFyIixlKSksbi5hbGxvd1NoYWRlckhvdFN3YXBwaW5nPSExLG4uVmVydGV4X0RlZmluaXRpb25zKGAKICAgICAgYXR0cmlidXRlIHZlYzMgY3VzdG9tQ29sb3I7CiAgICAgIHZhcnlpbmcgdmVjMyB2Q29sb3I7CiAgICBgKS5WZXJ0ZXhfTWFpbkVuZChgCiAgICAgIHZDb2xvciA9IGN1c3RvbUNvbG9yOwogICAgYCkuRnJhZ21lbnRfRGVmaW5pdGlvbnMoYAogICAgICB2YXJ5aW5nIHZlYzMgdkNvbG9yOwogICAgYCkuRnJhZ21lbnRfQ3VzdG9tX0RpZmZ1c2UoYAogICAgICBiYXNlQ29sb3IucmdiID0gbWl4KHZDb2xvci5yZ2IsIGJhc2VDb2xvci5yZ2IsIGJhc2VDb2xvci5hKTsKICAgIGApLG4uQWRkQXR0cmlidXRlKCJjdXN0b21Db2xvciIpO2NvbnN0IHM9bi5jbG9uZSh0KyJfZGFyayIpO3IuZGlmZnVzZVRleHR1cmUmJnIuZGlmZnVzZVRleHR1cmUuZGFyayYmKGEubWF0ZXJpYWwuZGlmZnVzZVRleHR1cmU9ZS5tYXRlcmlhbC5kaWZmdXNlVGV4dHVyZS5kYXJrLHMuZGlmZnVzZVRleHR1cmU9YXdhaXQgdGhpcy5nZXRUZXh0dXJlKCJkaWZmdXNlIixhKSkscy5BZGRBdHRyaWJ1dGUoImN1c3RvbUNvbG9yIil9YXN5bmMgZ2V0VGV4dHVyZShlLHQpe2NvbnN0e2Jhc2VQYXRoOnIsbWF0ZXJpYWw6bix0aGVtZTphfT10O2xldCBzO2NvbnN0IG89ZSsiTGV2ZWwiLHU9ZSsiVGV4dHVyZSI7dHJ5e3N3aXRjaChlKXtjYXNlImRpZmZ1c2UiOnM9YXdhaXQgdGhpcy5pbXBvcnRUZXh0dXJlQXN5bmMoYCR7cn0vJHtuW3VdfWAsYSksbltvXSYmKHMubGV2ZWw9bltvXSk7YnJlYWs7Y2FzZSJidW1wIjpzPWF3YWl0IHRoaXMuaW1wb3J0VGV4dHVyZUFzeW5jKGAke3J9LyR7blt1XX1gLGEpLG5bb10mJihzLmxldmVsPW5bb10pO2JyZWFrO2Nhc2Uic3BlY3VsYXIiOnM9YXdhaXQgdGhpcy5pbXBvcnRUZXh0dXJlQXN5bmMoYCR7cn0vJHtuW3VdfWAsYSksbi5zcGVjdWxhclBvd2VyJiYocy5zcGVjdWxhclBvd2VyPW4uc3BlY3VsYXJQb3dlcik7YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoYFRleHR1cmUgdHlwZTogJHtlfSBpcyBub3Qgc3VwcG9ydGVkYCl9fWNhdGNoKGYpe2NvbnNvbGUuZXJyb3IoZil9cmV0dXJuIHN9YXN5bmMgaW1wb3J0VGV4dHVyZUFzeW5jKGUsdCl7cmV0dXJuIG5ldyBQcm9taXNlKChyLG4pPT57bGV0IGE9ZS5tYXRjaCgvXiguKlwvKSguKikkLykscz1uZXcgaWUoZSx0aGlzLnNjZW5lLHZvaWQgMCwhMCx2b2lkIDAsKCk9PnIocyksKCk9Pm4oYFVuYWJsZSB0byBsb2FkIHRleHR1cmUgJyR7YVsyXX0nIGZvciB0aGVtZTogJyR7dH0nLiBDaGVjayB0aGF0IHlvdXIgYXNzZXRQYXRoIGlzIGNvbmZpZ3VyZWQgY29ycmVjdGx5IGFuZCB0aGF0IHRoZSBmaWxlcyBleGlzdCBhdCBwYXRoOiAnJHthWzFdfSdgKSl9KS5jYXRjaChyPT5jb25zb2xlLmVycm9yKHIpKX1hc3luYyBsb2FkKGUpe2NvbnN0e21hdGVyaWFsOnR9PWU7dC50eXBlPT09ImNvbG9yIj9hd2FpdCB0aGlzLmxvYWRDb2xvck1hdGVyaWFsKGUpOnQudHlwZT09PSJzdGFuZGFyZCI/YXdhaXQgdGhpcy5sb2FkU3RhbmRhcmRNYXRlcmlhbChlKTpjb25zb2xlLmVycm9yKGBNYXRlcmlhbCB0eXBlOiAke3QudHlwZX0gbm90IHN1cHBvcnRlZGApfX1jbGFzcyB4Zntjb25zdHJ1Y3RvcihlKXtVZSh0aGlzLEZyKTtxZSh0aGlzLCJjb25maWciKTtxZSh0aGlzLCJpbml0aWFsaXplZCIsITEpO1VlKHRoaXMsTWUse30pO1VlKHRoaXMsR3QsMCk7VWUodGhpcyx1dCwwKTtVZSh0aGlzLFh0LFtdKTtVZSh0aGlzLHR0LHZvaWQgMCk7VWUodGhpcyxZZSx2b2lkIDApO1VlKHRoaXMsSWUsdm9pZCAwKTtVZSh0aGlzLE9yLHZvaWQgMCk7VWUodGhpcyxydCx2b2lkIDApO1VlKHRoaXMsb3Isdm9pZCAwKTtVZSh0aGlzLHVyLHZvaWQgMCk7VWUodGhpcyxYZSx2b2lkIDApO1VlKHRoaXMsZnIse30pO3FlKHRoaXMsIm5vb3AiLCgpPT57fSk7cWUodGhpcywiZGljZUJ1ZmZlclZpZXciLG5ldyBGbG9hdDMyQXJyYXkoOGUzKSk7dGhpcy5vbkluaXRDb21wbGV0ZT1lLm9uSW5pdENvbXBsZXRlfHx0aGlzLm5vb3AsdGhpcy5vblRoZW1lTG9hZGVkPWUub25UaGVtZUxvYWRlZHx8dGhpcy5ub29wLHRoaXMub25Sb2xsUmVzdWx0PWUub25Sb2xsUmVzdWx0fHx0aGlzLm5vb3AsdGhpcy5vblJvbGxDb21wbGV0ZT1lLm9uUm9sbENvbXBsZXRlfHx0aGlzLm5vb3AsdGhpcy5vbkRpZVJlbW92ZWQ9ZS5vbkRpZVJlbW92ZWR8fHRoaXMubm9vcCx0aGlzLmluaXRpYWxpemVkPXRoaXMuaW5pdFNjZW5lKGUpfWFzeW5jIGluaXRTY2VuZShlKXt6ZSh0aGlzLHR0LGUuY2FudmFzKSxrKHRoaXMsdHQpLndpZHRoPWUud2lkdGgsayh0aGlzLHR0KS5oZWlnaHQ9ZS5oZWlnaHQsdGhpcy5jb25maWc9ZS5vcHRpb25zLHplKHRoaXMsWWUsWm4oayh0aGlzLHR0KSkpLHplKHRoaXMsSWUsVWEoe2VuZ2luZTprKHRoaXMsWWUpfSkpLHplKHRoaXMsT3Isa2Eoe2VuZ2luZTprKHRoaXMsWWUpLHNjZW5lOmsodGhpcyxJZSl9KSksemUodGhpcyxydCx5bih7ZW5hYmxlU2hhZG93czp0aGlzLmNvbmZpZy5lbmFibGVTaGFkb3dzLHNoYWRvd1RyYW5zcGFyZW5jeTp0aGlzLmNvbmZpZy5zaGFkb3dUcmFuc3BhcmVuY3ksaW50ZW5zaXR5OnRoaXMuY29uZmlnLmxpZ2h0SW50ZW5zaXR5LHNjZW5lOmsodGhpcyxJZSl9KSksemUodGhpcyxvcixuZXcgU2Yoe2VuYWJsZVNoYWRvd3M6dGhpcy5jb25maWcuZW5hYmxlU2hhZG93cyxhc3BlY3Q6ayh0aGlzLHR0KS53aWR0aC9rKHRoaXMsdHQpLmhlaWdodCxsaWdodHM6ayh0aGlzLHJ0KSxzY2VuZTprKHRoaXMsSWUpfSkpLHplKHRoaXMsdXIsbmV3IENmKHtzY2VuZTprKHRoaXMsSWUpfSkpLHRoaXMub25Jbml0Q29tcGxldGUoKX1jb25uZWN0KGUpe3plKHRoaXMsWGUsZSksayh0aGlzLFhlKS5wb3N0TWVzc2FnZSh7YWN0aW9uOiJpbml0QnVmZmVyIixkaWNlQnVmZmVyOnRoaXMuZGljZUJ1ZmZlclZpZXcuYnVmZmVyfSxbdGhpcy5kaWNlQnVmZmVyVmlldy5idWZmZXJdKSxrKHRoaXMsWGUpLm9ubWVzc2FnZT10PT57c3dpdGNoKHQuZGF0YS5hY3Rpb24pe2Nhc2UidXBkYXRlcyI6dGhpcy51cGRhdGVzRnJvbVBoeXNpY3ModC5kYXRhLmRpY2VCdWZmZXIpO2JyZWFrO2RlZmF1bHQ6Y29uc29sZS5lcnJvcigiYWN0aW9uIGZyb20gcGh5c2ljc1dvcmtlciBub3QgZm91bmQgaW4gb2Zmc2NyZWVuIHdvcmtlciIpO2JyZWFrfX19dXBkYXRlQ29uZmlnKGUpe2NvbnN0IHQ9dGhpcy5jb25maWc7dGhpcy5jb25maWc9ZSx0LmVuYWJsZVNoYWRvd3MhPT10aGlzLmNvbmZpZy5lbmFibGVTaGFkb3dzJiYoT2JqZWN0LnZhbHVlcyhrKHRoaXMscnQpKS5mb3JFYWNoKHI9PnIuZGlzcG9zZSgpKSx6ZSh0aGlzLHJ0LHluKHtlbmFibGVTaGFkb3dzOnRoaXMuY29uZmlnLmVuYWJsZVNoYWRvd3N9KSkpLHQuc2NhbGUhPT10aGlzLmNvbmZpZy5zY2FsZSYmT2JqZWN0LnZhbHVlcyhrKHRoaXMsTWUpKS5mb3JFYWNoKCh7bWVzaDpyfSk9PntyJiYoci5zY2FsaW5nPW5ldyBiKHRoaXMuY29uZmlnLnNjYWxlLHRoaXMuY29uZmlnLnNjYWxlLHRoaXMuY29uZmlnLnNjYWxlKSl9KSx0LnNoYWRvd1RyYW5zcGFyZW5jeSE9PXRoaXMuY29uZmlnLnNoYWRvd1RyYW5zcGFyZW5jeSYmKGsodGhpcyxydCkuZGlyZWN0aW9uYWwuc2hhZG93R2VuZXJhdG9yLmRhcmtuZXNzPXRoaXMuY29uZmlnLnNoYWRvd1RyYW5zcGFyZW5jeSksdC5saWdodEludGVuc2l0eSE9PXRoaXMuY29uZmlnLmxpZ2h0SW50ZW5zaXR5JiYoayh0aGlzLHJ0KS5kaXJlY3Rpb25hbC5pbnRlbnNpdHk9LjY1KnRoaXMuY29uZmlnLmxpZ2h0SW50ZW5zaXR5LGsodGhpcyxydCkuaGVtaXNwaGVyaWMuaW50ZW5zaXR5PS40KnRoaXMuY29uZmlnLmxpZ2h0SW50ZW5zaXR5KX1yZW5kZXIoZSl7ayh0aGlzLFllKS5ydW5SZW5kZXJMb29wKHRoaXMucmVuZGVyTG9vcC5iaW5kKHRoaXMpKSxrKHRoaXMsWGUpLnBvc3RNZXNzYWdlKHthY3Rpb246InJlc3VtZVNpbXVsYXRpb24iLG5ld1N0YXJ0UG9pbnQ6ZX0pfXJlbmRlckxvb3AoKXtrKHRoaXMsdXQpJiZrKHRoaXMsdXQpPT09T2JqZWN0LmtleXMoayh0aGlzLE1lKSkubGVuZ3RoPyhrKHRoaXMsWWUpLnN0b3BSZW5kZXJMb29wKCksayh0aGlzLFhlKS5wb3N0TWVzc2FnZSh7YWN0aW9uOiJzdG9wU2ltdWxhdGlvbiJ9KSx0aGlzLm9uUm9sbENvbXBsZXRlKCkpOmsodGhpcyxJZSkucmVuZGVyKCl9YXN5bmMgbG9hZFRoZW1lKGUpe2NvbnN0e3RoZW1lOnQsYmFzZVBhdGg6cixtYXRlcmlhbDpuLG1lc2hGaWxlUGF0aDphLG1lc2hOYW1lOnN9PWU7aWYoYXdhaXQgayh0aGlzLHVyKS5sb2FkKHt0aGVtZTp0LGJhc2VQYXRoOnIsbWF0ZXJpYWw6bn0pLCFPYmplY3Qua2V5cyhrKHRoaXMsZnIpKS5pbmNsdWRlcyhzKSl7ayh0aGlzLGZyKVtzXT1hO2NvbnN0IG89YXdhaXQgc3QubG9hZE1vZGVscyh7bWVzaEZpbGVQYXRoOmEsbWVzaE5hbWU6c30sayh0aGlzLEllKSk7aWYoIW8pdGhyb3cgbmV3IEVycm9yKCJObyBjb2xsaWRlcnMgcmV0dXJuZWQgZnJvbSB0aGUgM0QgbWVzaCBmaWxlLiBMb3cgcG9seSBjb2xsaWRlcnMgYXJlIGV4cGVjdGVkIHRvIGJlIGluIHRoZSBzYW1lIGZpbGUgYXMgdGhlIGhpZ2ggcG9seSBkaWNlIGFuZCB0aGUgbWVzaCBuYW1lIGNvbnRhaW5zIHRoZSB3b3JkICdjb2xsaWRlciciKTtrKHRoaXMsWGUpLnBvc3RNZXNzYWdlKHthY3Rpb246ImxvYWRNb2RlbHMiLG9wdGlvbnM6e2NvbGxpZGVyczpvLG1lc2hOYW1lOnN9fSl9dGhpcy5vblRoZW1lTG9hZGVkKHtpZDp0fSl9Y2xlYXIoKXshT2JqZWN0LmtleXMoayh0aGlzLE1lKSkubGVuZ3RoJiYhayh0aGlzLHV0KXx8KHRoaXMuZGljZUJ1ZmZlclZpZXcuYnl0ZUxlbmd0aCYmdGhpcy5kaWNlQnVmZmVyVmlldy5maWxsKDApLGsodGhpcyxYdCkuZm9yRWFjaChlPT5jbGVhclRpbWVvdXQoZSkpLGsodGhpcyxZZSkuc3RvcFJlbmRlckxvb3AoKSxPYmplY3QudmFsdWVzKGsodGhpcyxNZSkpLmZvckVhY2goZT0+e2UubWVzaCYmZS5tZXNoLmRpc3Bvc2UoKX0pLHplKHRoaXMsTWUse30pLHplKHRoaXMsR3QsMCksemUodGhpcyx1dCwwKSxrKHRoaXMsSWUpLnJlbmRlcigpKX1hZGQoZSl7c3QubG9hZERpZShlLGsodGhpcyxJZSkpLnRoZW4odD0+e2sodGhpcyxYdCkucHVzaChzZXRUaW1lb3V0KCgpPT57UG4odGhpcyxGcixDbikuY2FsbCh0aGlzLHQpfSxqdCh0aGlzLEd0KS5fKysqdGhpcy5jb25maWcuZGVsYXkpKX0pfWFkZE5vbkRpZShlKXtrKHRoaXMsWWUpLmFjdGl2ZVJlbmRlckxvb3BzLmxlbmd0aD09PTAmJnRoaXMucmVuZGVyKCExKTtjb25zdCBzPWUse2lkOnQsdmFsdWU6cn09cyxuPVJuKHMsWyJpZCIsInZhbHVlIl0pLGE9e2lkOnQsdmFsdWU6cixjb25maWc6bn07ayh0aGlzLE1lKVt0XT1hLHNldFRpbWVvdXQoKCk9PntrKHRoaXMsWHQpLnB1c2goc2V0VGltZW91dCgoKT0+e3RoaXMuaGFuZGxlQXNsZWVwKGEpfSxqdCh0aGlzLEd0KS5fKysqdGhpcy5jb25maWcuZGVsYXkpKX0sMTApfXJlbW92ZShlKXtjb25zdCB0PWsodGhpcyxNZSlbZS5pZF07dC5oYXNPd25Qcm9wZXJ0eSgiZDEwSW5zdGFuY2UiKSYmKGsodGhpcyxNZSlbdC5kMTBJbnN0YW5jZS5pZF0ubWVzaCYmKGsodGhpcyxNZSlbdC5kMTBJbnN0YW5jZS5pZF0ubWVzaC5kaXNwb3NlKCksayh0aGlzLFhlKS5wb3N0TWVzc2FnZSh7YWN0aW9uOiJyZW1vdmVEaWUiLGlkOnQuZDEwSW5zdGFuY2UuaWR9KSksZGVsZXRlIGsodGhpcyxNZSlbdC5kMTBJbnN0YW5jZS5pZF0sanQodGhpcyx1dCkuXy0tKSxrKHRoaXMsTWUpW2UuaWRdLm1lc2gmJmsodGhpcyxNZSlbZS5pZF0ubWVzaC5kaXNwb3NlKCksZGVsZXRlIGsodGhpcyxNZSlbZS5pZF0sanQodGhpcyx1dCkuXy0tLGsodGhpcyxJZSkucmVuZGVyKCksdGhpcy5vbkRpZVJlbW92ZWQoZS5yb2xsSWQpfXVwZGF0ZXNGcm9tUGh5c2ljcyhlKXt0aGlzLmRpY2VCdWZmZXJWaWV3PW5ldyBGbG9hdDMyQXJyYXkoZSk7bGV0IHQ9MTtmb3IobGV0IHI9MCxuPXRoaXMuZGljZUJ1ZmZlclZpZXdbMF07cjxuO3IrKyl7aWYoIU9iamVjdC5rZXlzKGsodGhpcyxNZSkpLmxlbmd0aCljb250aW51ZTtjb25zdCBhPWsodGhpcyxNZSlbYCR7dGhpcy5kaWNlQnVmZmVyVmlld1t0XX1gXTtpZighYSl7Y29uc29sZS5sb2coIkVycm9yOiBkaWUgbm90IGF2YWlsYWJsZSBpbiBzY2VuZSB0byBhbmltYXRlIik7YnJlYWt9aWYodGhpcy5kaWNlQnVmZmVyVmlld1t0KzFdPT09LTEpdGhpcy5oYW5kbGVBc2xlZXAoYSk7ZWxzZXtjb25zdCBzPXRoaXMuZGljZUJ1ZmZlclZpZXdbdCsxXSxvPXRoaXMuZGljZUJ1ZmZlclZpZXdbdCsyXSx1PXRoaXMuZGljZUJ1ZmZlclZpZXdbdCszXSxmPXRoaXMuZGljZUJ1ZmZlclZpZXdbdCs0XSxsPXRoaXMuZGljZUJ1ZmZlclZpZXdbdCs1XSxoPXRoaXMuZGljZUJ1ZmZlclZpZXdbdCs2XSxjPXRoaXMuZGljZUJ1ZmZlclZpZXdbdCs3XTthLm1lc2gucG9zaXRpb24uc2V0KHMsbyx1KSxhLm1lc2gucm90YXRpb25RdWF0ZXJuaW9uLnNldChmLGwsaCxjKX10PXQrOH1yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCk9PntrKHRoaXMsWGUpLnBvc3RNZXNzYWdlKHthY3Rpb246InN0ZXBTaW11bGF0aW9uIixkaWNlQnVmZmVyOnRoaXMuZGljZUJ1ZmZlclZpZXcuYnVmZmVyfSxbdGhpcy5kaWNlQnVmZmVyVmlldy5idWZmZXJdKX0pfWFzeW5jIGhhbmRsZUFzbGVlcChlKXt2YXIgdCxyO2lmKGUuYXNsZWVwPSEwLGF3YWl0IHN0LmdldFJvbGxSZXN1bHQoZSxrKHRoaXMsSWUpKSxlLmQxMEluc3RhbmNlfHxlLmRpZVBhcmVudCl7aWYoKCh0PWU9PW51bGw/dm9pZCAwOmUuZDEwSW5zdGFuY2UpPT1udWxsP3ZvaWQgMDp0LmFzbGVlcCl8fCgocj1lPT1udWxsP3ZvaWQgMDplLmRpZVBhcmVudCk9PW51bGw/dm9pZCAwOnIuYXNsZWVwKSl7Y29uc3Qgbj1lLmNvbmZpZy5zaWRlcz09PTEwMD9lOmUuZGllUGFyZW50LGE9ZS5jb25maWcuc2lkZXM9PT0xMD9lOmUuZDEwSW5zdGFuY2U7YS52YWx1ZT09PTAmJm4udmFsdWU9PT0wP24udmFsdWU9MTAwOm4udmFsdWU9bi52YWx1ZSthLnZhbHVlLHRoaXMub25Sb2xsUmVzdWx0KHtyb2xsSWQ6bi5jb25maWcucm9sbElkLHZhbHVlOm4udmFsdWV9KX19ZWxzZSBlLmNvbmZpZy5zaWRlcz09PTEwJiZlLnZhbHVlPT09MCYmKGUudmFsdWU9MTApLHRoaXMub25Sb2xsUmVzdWx0KHtyb2xsSWQ6ZS5jb25maWcucm9sbElkLHZhbHVlOmUudmFsdWV9KTtqdCh0aGlzLHV0KS5fKyt9cmVzaXplKGUpe2NvbnN0IHQ9ayh0aGlzLHR0KS53aWR0aD1lLndpZHRoLHI9ayh0aGlzLHR0KS5oZWlnaHQ9ZS5oZWlnaHQ7ayh0aGlzLG9yKS5jcmVhdGUoe2FzcGVjdDp0L3J9KSxrKHRoaXMsWWUpLnJlc2l6ZSgpfX1NZT1uZXcgV2Vha01hcCxHdD1uZXcgV2Vha01hcCx1dD1uZXcgV2Vha01hcCxYdD1uZXcgV2Vha01hcCx0dD1uZXcgV2Vha01hcCxZZT1uZXcgV2Vha01hcCxJZT1uZXcgV2Vha01hcCxPcj1uZXcgV2Vha01hcCxydD1uZXcgV2Vha01hcCxvcj1uZXcgV2Vha01hcCx1cj1uZXcgV2Vha01hcCxYZT1uZXcgV2Vha01hcCxmcj1uZXcgV2Vha01hcCxGcj1uZXcgV2Vha1NldCxDbj1hc3luYyBmdW5jdGlvbihlKXtrKHRoaXMsWWUpLmFjdGl2ZVJlbmRlckxvb3BzLmxlbmd0aD09PTAmJnRoaXMucmVuZGVyKGUubmV3U3RhcnRQb2ludCk7Y29uc3QgdD1VcihmdCh7fSxlKSx7YXNzZXRQYXRoOnRoaXMuY29uZmlnLmFzc2V0UGF0aCxlbmFibGVTaGFkb3dzOnRoaXMuY29uZmlnLmVuYWJsZVNoYWRvd3Msc2NhbGU6dGhpcy5jb25maWcuc2NhbGUsbGlnaHRzOmsodGhpcyxydCl9KSxyPW5ldyBzdCh0LGsodGhpcyxJZSkpO3JldHVybiBrKHRoaXMsTWUpW3IuaWRdPXIsayh0aGlzLFhlKS5wb3N0TWVzc2FnZSh7YWN0aW9uOiJhZGREaWUiLG9wdGlvbnM6e3NpZGVzOmUuc2lkZXMsc2NhbGU6dGhpcy5jb25maWcuc2NhbGUsaWQ6ci5pZCxuZXdTdGFydFBvaW50OmUubmV3U3RhcnRQb2ludCx0aGVtZTplLnRoZW1lLG1lc2hOYW1lOmUubWVzaE5hbWV9fSksZS5zaWRlcz09PTEwMCYmKHIuZDEwSW5zdGFuY2U9YXdhaXQgc3QubG9hZERpZShVcihmdCh7fSx0KSx7c2lkZXM6MTAsaWQ6ci5pZCsxZTR9KSxrKHRoaXMsSWUpKS50aGVuKG49Pntjb25zdCBhPW5ldyBzdChuLGsodGhpcyxJZSkpO3JldHVybiBhLmRpZVBhcmVudD1yLGF9KSxrKHRoaXMsTWUpW2Ake3IuZDEwSW5zdGFuY2UuaWR9YF09ci5kMTBJbnN0YW5jZSxrKHRoaXMsWGUpLnBvc3RNZXNzYWdlKHthY3Rpb246ImFkZERpZSIsb3B0aW9uczp7c2lkZXM6MTAsc2NhbGU6dGhpcy5jb25maWcuc2NhbGUsaWQ6ci5kMTBJbnN0YW5jZS5pZCx0aGVtZTplLnRoZW1lLG1lc2hOYW1lOmUubWVzaE5hbWV9fSkpLHJ9O2xldCBvdDtzZWxmLm9ubWVzc2FnZT1hc3luYyBpPT57c3dpdGNoKGkuZGF0YS5hY3Rpb24pe2Nhc2Uicm9sbERpZSI6b3QucGh5c2ljc1dvcmtlclBvcnQucG9zdE1lc3NhZ2Uoe2FjdGlvbjoicm9sbCJ9KTticmVhaztjYXNlImFkZERpZSI6b3QuYWRkKGkuZGF0YS5vcHRpb25zKTticmVhaztjYXNlImFkZE5vbkRpZSI6b3QuYWRkTm9uRGllKGkuZGF0YS5vcHRpb25zKTticmVhaztjYXNlImxvYWRUaGVtZSI6YXdhaXQgb3QubG9hZFRoZW1lKGkuZGF0YS5vcHRpb25zKS5jYXRjaChlPT5jb25zb2xlLmVycm9yKGUpKTticmVhaztjYXNlImNsZWFyRGljZSI6b3QuY2xlYXIoKTticmVhaztjYXNlInJlbW92ZURpZSI6b3QucmVtb3ZlKGkuZGF0YS5vcHRpb25zKTticmVhaztjYXNlInJlc2l6ZSI6b3QucmVzaXplKGkuZGF0YS5vcHRpb25zKTticmVhaztjYXNlImluaXQiOm90PW5ldyB4ZihVcihmdCh7fSxpLmRhdGEpLHtvbkluaXRDb21wbGV0ZTooKT0+e3NlbGYucG9zdE1lc3NhZ2Uoe2FjdGlvbjoiaW5pdC1jb21wbGV0ZSJ9KX0sb25UaGVtZUxvYWRlZDooe2lkOmV9KT0+e3NlbGYucG9zdE1lc3NhZ2Uoe2FjdGlvbjoidGhlbWUtbG9hZGVkIixpZDplfSl9LG9uUm9sbFJlc3VsdDooe3JvbGxJZDplLHZhbHVlOnR9KT0+e3NlbGYucG9zdE1lc3NhZ2Uoe2FjdGlvbjoicm9sbC1yZXN1bHQiLGRpZTp7cm9sbElkOmUsdmFsdWU6dH19KX0sb25Sb2xsQ29tcGxldGU6KCk9PntzZWxmLnBvc3RNZXNzYWdlKHthY3Rpb246InJvbGwtY29tcGxldGUifSl9LG9uRGllUmVtb3ZlZDplPT57c2VsZi5wb3N0TWVzc2FnZSh7YWN0aW9uOiJkaWUtcmVtb3ZlZCIscm9sbElkOmV9KX19KSk7YnJlYWs7Y2FzZSJ1cGRhdGVDb25maWciOm90LnVwZGF0ZUNvbmZpZyhpLmRhdGEub3B0aW9ucyk7YnJlYWs7Y2FzZSJjb25uZWN0IjpvdC5jb25uZWN0KGkuZGF0YS5wb3J0KSxzZWxmLnBvc3RNZXNzYWdlKHthY3Rpb246ImNvbm5lY3QtY29tcGxldGUifSk7YnJlYWs7ZGVmYXVsdDpjb25zb2xlLmVycm9yKCJhY3Rpb24gbm90IGZvdW5kIGluIG9mZnNjcmVlbiB3b3JrZXIiKX19fSkoKTsK",h=typeof window!="undefined"&&window.Blob&&new Blob([atob(y)],{type:"text/javascript;charset=utf-8"});function L(){const Z=h&&(window.URL||window.webkitURL).createObjectURL(h);try{return Z?new Worker(Z,{}):new Worker("data:application/javascript;base64,"+y,{type:"module"})}finally{Z&&(window.URL||window.webkitURL).revokeObjectURL(Z)}}class N{constructor(l){c(this,W),G(this,"initialized",!1),G(this,"offscreenWorkerInit",!1),G(this,"themeLoadedInit",!1),G(this,"pendingThemePromises",{}),c(this,X,void 0),c(this,d,void 0),G(this,"onRollResult",()=>{}),G(this,"onRollComplete",()=>{}),this.onInitComplete=l.onInitComplete,u(this,X,l.canvas.transferControlToOffscreen()),u(this,d,new L),b(this,d).init=new Promise((m,V)=>{this.offscreenWorkerInit=m}),this.initialized=J(this,W,Y).call(this,l)}connect(l){b(this,d).postMessage({action:"connect",port:l},[l])}updateConfig(l){b(this,d).postMessage({action:"updateConfig",options:l})}resize(l){b(this,d).postMessage({action:"resize",options:l})}async loadTheme(l){return new Promise((m,V)=>{if(Object.keys(this.pendingThemePromises).includes(l.theme))return m();this.pendingThemePromises[l.theme]=m,b(this,d).postMessage({action:"loadTheme",options:l})}).catch(m=>console.error(m))}clear(){b(this,d).postMessage({action:"clearDice"})}add(l){b(this,d).postMessage({action:"addDie",options:l})}addNonDie(l){b(this,d).postMessage({action:"addNonDie",options:l})}remove(l){b(this,d).postMessage({action:"removeDie",options:l})}}X=new WeakMap;d=new WeakMap;W=new WeakSet;Y=async function(Z){return b(this,d).postMessage({action:"init",canvas:b(this,X),width:Z.canvas.clientWidth,height:Z.canvas.clientHeight,options:Z.options},[b(this,X)]),b(this,d).onmessage=l=>{switch(l.data.action){case"init-complete":this.offscreenWorkerInit();break;case"connect-complete":break;case"theme-loaded":l.data.id&&this.pendingThemePromises[l.data.id](l.data.id);break;case"roll-result":this.onRollResult(l.data.die);break;case"roll-complete":this.onRollComplete();break;case"die-removed":this.onDieRemoved(l.data.rollId);break}},await b(this,d).init,this.onInitComplete(!0),!0};export{N as default};
